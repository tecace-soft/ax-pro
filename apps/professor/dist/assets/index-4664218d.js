var pR=Object.defineProperty;var mR=(e,t,n)=>t in e?pR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qc=(e,t,n)=>(mR(e,typeof t!="symbol"?t+"":t,n),n);function gR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function En(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var oC={exports:{}},If={},sC={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),yR=Symbol.for("react.portal"),xR=Symbol.for("react.fragment"),bR=Symbol.for("react.strict_mode"),wR=Symbol.for("react.profiler"),kR=Symbol.for("react.provider"),SR=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),_R=Symbol.for("react.suspense"),CR=Symbol.for("react.memo"),ER=Symbol.for("react.lazy"),Gb=Symbol.iterator;function PR(e){return e===null||typeof e!="object"?null:(e=Gb&&e[Gb]||e["@@iterator"],typeof e=="function"?e:null)}var lC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cC=Object.assign,uC={};function ls(e,t,n){this.props=e,this.context=t,this.refs=uC,this.updater=n||lC}ls.prototype.isReactComponent={};ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dC(){}dC.prototype=ls.prototype;function xy(e,t,n){this.props=e,this.context=t,this.refs=uC,this.updater=n||lC}var by=xy.prototype=new dC;by.constructor=xy;cC(by,ls.prototype);by.isPureReactComponent=!0;var Yb=Array.isArray,fC=Object.prototype.hasOwnProperty,wy={current:null},hC={key:!0,ref:!0,__self:!0,__source:!0};function pC(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)fC.call(t,r)&&!hC.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:hc,type:e,key:a,ref:o,props:i,_owner:wy.current}}function OR(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ky(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function AR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jb=/\/+/g;function vp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AR(""+e.key):t.toString(36)}function Uu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hc:case yR:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+vp(o,0):r,Yb(i)?(n="",e!=null&&(n=e.replace(Jb,"$&/")+"/"),Uu(i,t,n,"",function(c){return c})):i!=null&&(ky(i)&&(i=OR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Jb,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Yb(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+vp(a,s);o+=Uu(a,t,n,l,i)}else if(l=PR(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+vp(a,s++),o+=Uu(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xc(e,t,n){if(e==null)return e;var r=[],i=0;return Uu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function NR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wt={current:null},Wu={transition:null},TR={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:wy};function mC(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Xc,forEach:function(e,t,n){Xc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xc(e,function(){t++}),t},toArray:function(e){return Xc(e,function(t){return t})||[]},only:function(e){if(!ky(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ls;ge.Fragment=xR;ge.Profiler=wR;ge.PureComponent=xy;ge.StrictMode=bR;ge.Suspense=_R;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR;ge.act=mC;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=cC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=wy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)fC.call(t,l)&&!hC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:hc,type:e.type,key:i,ref:a,props:r,_owner:o}};ge.createContext=function(e){return e={$$typeof:SR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kR,_context:e},e.Consumer=e};ge.createElement=pC;ge.createFactory=function(e){var t=pC.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:jR,render:e}};ge.isValidElement=ky;ge.lazy=function(e){return{$$typeof:ER,_payload:{_status:-1,_result:e},_init:NR}};ge.memo=function(e,t){return{$$typeof:CR,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Wu.transition;Wu.transition={};try{e()}finally{Wu.transition=t}};ge.unstable_act=mC;ge.useCallback=function(e,t){return Wt.current.useCallback(e,t)};ge.useContext=function(e){return Wt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Wt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Wt.current.useEffect(e,t)};ge.useId=function(){return Wt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Wt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Wt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Wt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Wt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Wt.current.useReducer(e,t,n)};ge.useRef=function(e){return Wt.current.useRef(e)};ge.useState=function(e){return Wt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Wt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Wt.current.useTransition()};ge.version="18.3.1";sC.exports=ge;var x=sC.exports;const Fi=En(x),gC=gR({__proto__:null,default:Fi},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR=x,DR=Symbol.for("react.element"),RR=Symbol.for("react.fragment"),MR=Object.prototype.hasOwnProperty,LR=IR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$R={key:!0,ref:!0,__self:!0,__source:!0};function vC(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)MR.call(t,r)&&!$R.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:DR,type:e,key:a,ref:o,props:i,_owner:LR.current}}If.Fragment=RR;If.jsx=vC;If.jsxs=vC;oC.exports=If;var f=oC.exports,Vm={},yC={exports:{}},Pn={},xC={exports:{}},bC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,B){var P=D.length;D.push(B);e:for(;0<P;){var X=P-1>>>1,M=D[X];if(0<i(M,B))D[X]=B,D[P]=M,P=X;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var B=D[0],P=D.pop();if(P!==B){D[0]=P;e:for(var X=0,M=D.length,O=M>>>1;X<O;){var ie=2*(X+1)-1,ne=D[ie],ce=ie+1,ke=D[ce];if(0>i(ne,P))ce<M&&0>i(ke,ne)?(D[X]=ke,D[ce]=P,X=ce):(D[X]=ne,D[ie]=P,X=ie);else if(ce<M&&0>i(ke,P))D[X]=ke,D[ce]=P,X=ce;else break e}}return B}function i(D,B){var P=D.sortIndex-B.sortIndex;return P!==0?P:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=D)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function S(D){if(g=!1,w(D),!m)if(n(l)!==null)m=!0,$(j);else{var B=n(c);B!==null&&q(S,B.startTime-D)}}function j(D,B){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var P=h;try{for(w(B),d=n(l);d!==null&&(!(d.expirationTime>B)||D&&!A());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var M=X(d.expirationTime<=B);B=e.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),w(B)}else r(l);d=n(l)}if(d!==null)var O=!0;else{var ie=n(c);ie!==null&&q(S,ie.startTime-B),O=!1}return O}finally{d=null,h=P,p=!1}}var k=!1,_=null,N=-1,E=5,C=-1;function A(){return!(e.unstable_now()-C<E)}function T(){if(_!==null){var D=e.unstable_now();C=D;var B=!0;try{B=_(!0,D)}finally{B?R():(k=!1,_=null)}}else k=!1}var R;if(typeof b=="function")R=function(){b(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=T,R=function(){L.postMessage(null)}}else R=function(){y(T,0)};function $(D){_=D,k||(k=!0,R())}function q(D,B){N=y(function(){D(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,$(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var P=h;h=B;try{return D()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var P=h;h=D;try{return B()}finally{h=P}},e.unstable_scheduleCallback=function(D,B,P){var X=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?X+P:X):P=X,D){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=P+M,D={id:u++,callback:B,priorityLevel:D,startTime:P,expirationTime:M,sortIndex:-1},P>X?(D.sortIndex=P,t(c,D),n(l)===null&&D===n(c)&&(g?(v(N),N=-1):g=!0,q(S,P-X))):(D.sortIndex=M,t(l,D),m||p||(m=!0,$(j))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var B=h;return function(){var P=h;h=B;try{return D.apply(this,arguments)}finally{h=P}}}})(bC);xC.exports=bC;var FR=xC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR=x,Sn=FR;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wC=new Set,Ol={};function Ka(e,t){$o(e,t),$o(e+"Capture",t)}function $o(e,t){for(Ol[e]=t,e=0;e<t.length;e++)wC.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,BR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qb={},Xb={};function UR(e){return Gm.call(Xb,e)?!0:Gm.call(Qb,e)?!1:BR.test(e)?Xb[e]=!0:(Qb[e]=!0,!1)}function WR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KR(e,t,n,r){if(t===null||typeof t>"u"||WR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kt(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sy=/[\-:]([a-z])/g;function jy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sy,jy);Et[t]=new Kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sy,jy);Et[t]=new Kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sy,jy);Et[t]=new Kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Kt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function _y(e,t,n,r){var i=Et.hasOwnProperty(t)?Et[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KR(t,n,i,r)&&(n=null),r||i===null?UR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var si=zR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),Cy=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),Ey=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Qm=Symbol.for("react.suspense_list"),Py=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),jC=Symbol.for("react.offscreen"),Zb=Symbol.iterator;function Rs(e){return e===null||typeof e!="object"?null:(e=Zb&&e[Zb]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,yp;function rl(e){if(yp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yp=t&&t[1]||""}return`
`+yp+e}var xp=!1;function bp(e,t){if(!e||xp)return"";xp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{xp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rl(e):""}function HR(e){switch(e.tag){case 5:return rl(e.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return e=bp(e.type,!1),e;case 11:return e=bp(e.type.render,!1),e;case 1:return e=bp(e.type,!0),e;default:return""}}function Xm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mo:return"Fragment";case po:return"Portal";case Ym:return"Profiler";case Cy:return"StrictMode";case Jm:return"Suspense";case Qm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SC:return(e.displayName||"Context")+".Consumer";case kC:return(e._context.displayName||"Context")+".Provider";case Ey:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Py:return t=e.displayName||null,t!==null?t:Xm(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Xm(e(t))}catch{}}return null}function qR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(t);case 8:return t===Cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _C(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VR(e){var t=_C(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eu(e){e._valueTracker||(e._valueTracker=VR(e))}function CC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_C(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zm(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ew(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EC(e,t){t=t.checked,t!=null&&_y(e,"checked",t,!1)}function eg(e,t){EC(e,t);var n=zi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tg(e,t.type,n):t.hasOwnProperty("defaultValue")&&tg(e,t.type,zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tg(e,t,n){(t!=="number"||dd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var il=Array.isArray;function Po(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ng(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(il(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zi(n)}}function PC(e,t){var n=zi(t.value),r=zi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tu,AC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Al(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GR=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(e){GR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ul[t]=ul[e]})});function NC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ul.hasOwnProperty(e)&&ul[e]?(""+t).trim():t+"px"}function TC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=NC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var YR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ig(e,t){if(t){if(YR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function ag(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var og=null;function Oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sg=null,Oo=null,Ao=null;function iw(e){if(e=gc(e)){if(typeof sg!="function")throw Error(G(280));var t=e.stateNode;t&&(t=$f(t),sg(e.stateNode,e.type,t))}}function IC(e){Oo?Ao?Ao.push(e):Ao=[e]:Oo=e}function DC(){if(Oo){var e=Oo,t=Ao;if(Ao=Oo=null,iw(e),t)for(e=0;e<t.length;e++)iw(t[e])}}function RC(e,t){return e(t)}function MC(){}var wp=!1;function LC(e,t,n){if(wp)return e(t,n);wp=!0;try{return RC(e,t,n)}finally{wp=!1,(Oo!==null||Ao!==null)&&(MC(),DC())}}function Nl(e,t){var n=e.stateNode;if(n===null)return null;var r=$f(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var lg=!1;if(Xr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){lg=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{lg=!1}function JR(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var dl=!1,fd=null,hd=!1,cg=null,QR={onError:function(e){dl=!0,fd=e}};function XR(e,t,n,r,i,a,o,s,l){dl=!1,fd=null,JR.apply(QR,arguments)}function ZR(e,t,n,r,i,a,o,s,l){if(XR.apply(this,arguments),dl){if(dl){var c=fd;dl=!1,fd=null}else throw Error(G(198));hd||(hd=!0,cg=c)}}function Ha(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $C(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function aw(e){if(Ha(e)!==e)throw Error(G(188))}function eM(e){var t=e.alternate;if(!t){if(t=Ha(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return aw(i),e;if(a===r)return aw(i),t;a=a.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function FC(e){return e=eM(e),e!==null?zC(e):null}function zC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=zC(e);if(t!==null)return t;e=e.sibling}return null}var BC=Sn.unstable_scheduleCallback,ow=Sn.unstable_cancelCallback,tM=Sn.unstable_shouldYield,nM=Sn.unstable_requestPaint,Je=Sn.unstable_now,rM=Sn.unstable_getCurrentPriorityLevel,Ay=Sn.unstable_ImmediatePriority,UC=Sn.unstable_UserBlockingPriority,pd=Sn.unstable_NormalPriority,iM=Sn.unstable_LowPriority,WC=Sn.unstable_IdlePriority,Df=null,Or=null;function aM(e){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(Df,e,void 0,(e.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:lM,oM=Math.log,sM=Math.LN2;function lM(e){return e>>>=0,e===0?32:31-(oM(e)/sM|0)|0}var nu=64,ru=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function md(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=al(s):(a&=o,a!==0&&(r=al(a)))}else o=n&~i,o!==0?r=al(o):a!==0&&(r=al(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-lr(t),i=1<<n,r|=e[n],t&=~i;return r}function cM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-lr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=cM(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function ug(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KC(){var e=nu;return nu<<=1,!(nu&4194240)&&(nu=64),e}function kp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-lr(t),e[t]=n}function dM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Ny(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ce=0;function HC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qC,Ty,VC,GC,YC,dg=!1,iu=[],Ai=null,Ni=null,Ti=null,Tl=new Map,Il=new Map,Si=[],fM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sw(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Ls(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gc(t),t!==null&&Ty(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hM(e,t,n,r,i){switch(t){case"focusin":return Ai=Ls(Ai,e,t,n,r,i),!0;case"dragenter":return Ni=Ls(Ni,e,t,n,r,i),!0;case"mouseover":return Ti=Ls(Ti,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tl.set(a,Ls(Tl.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Il.set(a,Ls(Il.get(a)||null,e,t,n,r,i)),!0}return!1}function JC(e){var t=ma(e.target);if(t!==null){var n=Ha(t);if(n!==null){if(t=n.tag,t===13){if(t=$C(n),t!==null){e.blockedOn=t,YC(e.priority,function(){VC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);og=r,n.target.dispatchEvent(r),og=null}else return t=gc(n),t!==null&&Ty(t),e.blockedOn=n,!1;t.shift()}return!0}function lw(e,t,n){Ku(e)&&n.delete(t)}function pM(){dg=!1,Ai!==null&&Ku(Ai)&&(Ai=null),Ni!==null&&Ku(Ni)&&(Ni=null),Ti!==null&&Ku(Ti)&&(Ti=null),Tl.forEach(lw),Il.forEach(lw)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,dg||(dg=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,pM)))}function Dl(e){function t(i){return $s(i,e)}if(0<iu.length){$s(iu[0],e);for(var n=1;n<iu.length;n++){var r=iu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ai!==null&&$s(Ai,e),Ni!==null&&$s(Ni,e),Ti!==null&&$s(Ti,e),Tl.forEach(t),Il.forEach(t),n=0;n<Si.length;n++)r=Si[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Si.length&&(n=Si[0],n.blockedOn===null);)JC(n),n.blockedOn===null&&Si.shift()}var No=si.ReactCurrentBatchConfig,gd=!0;function mM(e,t,n,r){var i=Ce,a=No.transition;No.transition=null;try{Ce=1,Iy(e,t,n,r)}finally{Ce=i,No.transition=a}}function gM(e,t,n,r){var i=Ce,a=No.transition;No.transition=null;try{Ce=4,Iy(e,t,n,r)}finally{Ce=i,No.transition=a}}function Iy(e,t,n,r){if(gd){var i=fg(e,t,n,r);if(i===null)Tp(e,t,r,vd,n),sw(e,r);else if(hM(i,e,t,n,r))r.stopPropagation();else if(sw(e,r),t&4&&-1<fM.indexOf(e)){for(;i!==null;){var a=gc(i);if(a!==null&&qC(a),a=fg(e,t,n,r),a===null&&Tp(e,t,r,vd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Tp(e,t,r,null,n)}}var vd=null;function fg(e,t,n,r){if(vd=null,e=Oy(r),e=ma(e),e!==null)if(t=Ha(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$C(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vd=e,null}function QC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rM()){case Ay:return 1;case UC:return 4;case pd:case iM:return 16;case WC:return 536870912;default:return 16}default:return 16}}var Ei=null,Dy=null,Hu=null;function XC(){if(Hu)return Hu;var e,t=Dy,n=t.length,r,i="value"in Ei?Ei.value:Ei.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Hu=i.slice(e,1<r?1-r:void 0)}function qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function au(){return!0}function cw(){return!1}function On(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?au:cw,this.isPropagationStopped=cw,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ry=On(cs),mc=qe({},cs,{view:0,detail:0}),vM=On(mc),Sp,jp,Fs,Rf=qe({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:My,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Sp=e.screenX-Fs.screenX,jp=e.screenY-Fs.screenY):jp=Sp=0,Fs=e),Sp)},movementY:function(e){return"movementY"in e?e.movementY:jp}}),uw=On(Rf),yM=qe({},Rf,{dataTransfer:0}),xM=On(yM),bM=qe({},mc,{relatedTarget:0}),_p=On(bM),wM=qe({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),kM=On(wM),SM=qe({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jM=On(SM),_M=qe({},cs,{data:0}),dw=On(_M),CM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PM[e])?!!t[e]:!1}function My(){return OM}var AM=qe({},mc,{key:function(e){if(e.key){var t=CM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:My,charCode:function(e){return e.type==="keypress"?qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),NM=On(AM),TM=qe({},Rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fw=On(TM),IM=qe({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:My}),DM=On(IM),RM=qe({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),MM=On(RM),LM=qe({},Rf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$M=On(LM),FM=[9,13,27,32],Ly=Xr&&"CompositionEvent"in window,fl=null;Xr&&"documentMode"in document&&(fl=document.documentMode);var zM=Xr&&"TextEvent"in window&&!fl,ZC=Xr&&(!Ly||fl&&8<fl&&11>=fl),hw=String.fromCharCode(32),pw=!1;function eE(e,t){switch(e){case"keyup":return FM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var go=!1;function BM(e,t){switch(e){case"compositionend":return tE(t);case"keypress":return t.which!==32?null:(pw=!0,hw);case"textInput":return e=t.data,e===hw&&pw?null:e;default:return null}}function UM(e,t){if(go)return e==="compositionend"||!Ly&&eE(e,t)?(e=XC(),Hu=Dy=Ei=null,go=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZC&&t.locale!=="ko"?null:t.data;default:return null}}var WM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WM[e.type]:t==="textarea"}function nE(e,t,n,r){IC(r),t=yd(t,"onChange"),0<t.length&&(n=new Ry("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hl=null,Rl=null;function KM(e){hE(e,0)}function Mf(e){var t=xo(e);if(CC(t))return e}function HM(e,t){if(e==="change")return t}var rE=!1;if(Xr){var Cp;if(Xr){var Ep="oninput"in document;if(!Ep){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),Ep=typeof gw.oninput=="function"}Cp=Ep}else Cp=!1;rE=Cp&&(!document.documentMode||9<document.documentMode)}function vw(){hl&&(hl.detachEvent("onpropertychange",iE),Rl=hl=null)}function iE(e){if(e.propertyName==="value"&&Mf(Rl)){var t=[];nE(t,Rl,e,Oy(e)),LC(KM,t)}}function qM(e,t,n){e==="focusin"?(vw(),hl=t,Rl=n,hl.attachEvent("onpropertychange",iE)):e==="focusout"&&vw()}function VM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mf(Rl)}function GM(e,t){if(e==="click")return Mf(t)}function YM(e,t){if(e==="input"||e==="change")return Mf(t)}function JM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fr=typeof Object.is=="function"?Object.is:JM;function Ml(e,t){if(fr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gm.call(t,i)||!fr(e[i],t[i]))return!1}return!0}function yw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xw(e,t){var n=yw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yw(n)}}function aE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oE(){for(var e=window,t=dd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dd(e.document)}return t}function $y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function QM(e){var t=oE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aE(n.ownerDocument.documentElement,n)){if(r!==null&&$y(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=xw(n,a);var o=xw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XM=Xr&&"documentMode"in document&&11>=document.documentMode,vo=null,hg=null,pl=null,pg=!1;function bw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pg||vo==null||vo!==dd(r)||(r=vo,"selectionStart"in r&&$y(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pl&&Ml(pl,r)||(pl=r,r=yd(hg,"onSelect"),0<r.length&&(t=new Ry("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vo)))}function ou(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yo={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Pp={},sE={};Xr&&(sE=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Lf(e){if(Pp[e])return Pp[e];if(!yo[e])return e;var t=yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sE)return Pp[e]=t[n];return e}var lE=Lf("animationend"),cE=Lf("animationiteration"),uE=Lf("animationstart"),dE=Lf("transitionend"),fE=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(e,t){fE.set(e,t),Ka(t,[e])}for(var Op=0;Op<ww.length;Op++){var Ap=ww[Op],ZM=Ap.toLowerCase(),eL=Ap[0].toUpperCase()+Ap.slice(1);Wi(ZM,"on"+eL)}Wi(lE,"onAnimationEnd");Wi(cE,"onAnimationIteration");Wi(uE,"onAnimationStart");Wi("dblclick","onDoubleClick");Wi("focusin","onFocus");Wi("focusout","onBlur");Wi(dE,"onTransitionEnd");$o("onMouseEnter",["mouseout","mouseover"]);$o("onMouseLeave",["mouseout","mouseover"]);$o("onPointerEnter",["pointerout","pointerover"]);$o("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function kw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ZR(r,t,void 0,e),e.currentTarget=null}function hE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;kw(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;kw(i,s,c),a=l}}}if(hd)throw e=cg,hd=!1,cg=null,e}function $e(e,t){var n=t[xg];n===void 0&&(n=t[xg]=new Set);var r=e+"__bubble";n.has(r)||(pE(t,e,2,!1),n.add(r))}function Np(e,t,n){var r=0;t&&(r|=4),pE(n,e,r,t)}var su="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[su]){e[su]=!0,wC.forEach(function(n){n!=="selectionchange"&&(tL.has(n)||Np(n,!1,e),Np(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[su]||(t[su]=!0,Np("selectionchange",!1,t))}}function pE(e,t,n,r){switch(QC(t)){case 1:var i=mM;break;case 4:i=gM;break;default:i=Iy}n=i.bind(null,t,n,e),i=void 0,!lg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ma(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}LC(function(){var c=a,u=Oy(n),d=[];e:{var h=fE.get(e);if(h!==void 0){var p=Ry,m=e;switch(e){case"keypress":if(qu(n)===0)break e;case"keydown":case"keyup":p=NM;break;case"focusin":m="focus",p=_p;break;case"focusout":m="blur",p=_p;break;case"beforeblur":case"afterblur":p=_p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DM;break;case lE:case cE:case uE:p=kM;break;case dE:p=MM;break;case"scroll":p=vM;break;case"wheel":p=$M;break;case"copy":case"cut":case"paste":p=jM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fw}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Nl(b,v),S!=null&&g.push($l(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==og&&(m=n.relatedTarget||n.fromElement)&&(ma(m)||m[Zr]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ma(m):null,m!==null&&(y=Ha(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=uw,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=fw,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:xo(p),w=m==null?h:xo(m),h=new g(S,b+"leave",p,n,u),h.target=y,h.relatedTarget=w,S=null,ma(u)===c&&(g=new g(v,b+"enter",m,n,u),g.target=w,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,v=m,b=0,w=g;w;w=to(w))b++;for(w=0,S=v;S;S=to(S))w++;for(;0<b-w;)g=to(g),b--;for(;0<w-b;)v=to(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=to(g),v=to(v)}g=null}else g=null;p!==null&&Sw(d,h,p,g,!1),m!==null&&y!==null&&Sw(d,y,m,g,!0)}}e:{if(h=c?xo(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=HM;else if(mw(h))if(rE)j=YM;else{j=VM;var k=qM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=GM);if(j&&(j=j(e,c))){nE(d,j,n,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&tg(h,"number",h.value)}switch(k=c?xo(c):window,e){case"focusin":(mw(k)||k.contentEditable==="true")&&(vo=k,hg=c,pl=null);break;case"focusout":pl=hg=vo=null;break;case"mousedown":pg=!0;break;case"contextmenu":case"mouseup":case"dragend":pg=!1,bw(d,n,u);break;case"selectionchange":if(XM)break;case"keydown":case"keyup":bw(d,n,u)}var _;if(Ly)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else go?eE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ZC&&n.locale!=="ko"&&(go||N!=="onCompositionStart"?N==="onCompositionEnd"&&go&&(_=XC()):(Ei=u,Dy="value"in Ei?Ei.value:Ei.textContent,go=!0)),k=yd(c,N),0<k.length&&(N=new dw(N,e,null,n,u),d.push({event:N,listeners:k}),_?N.data=_:(_=tE(n),_!==null&&(N.data=_)))),(_=zM?BM(e,n):UM(e,n))&&(c=yd(c,"onBeforeInput"),0<c.length&&(u=new dw("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}hE(d,t)})}function $l(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Nl(e,n),a!=null&&r.unshift($l(e,a,i)),a=Nl(e,t),a!=null&&r.push($l(e,a,i))),e=e.return}return r}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sw(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Nl(n,a),l!=null&&o.unshift($l(n,l,s))):i||(l=Nl(n,a),l!=null&&o.push($l(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var nL=/\r\n?/g,rL=/\u0000|\uFFFD/g;function jw(e){return(typeof e=="string"?e:""+e).replace(nL,`
`).replace(rL,"")}function lu(e,t,n){if(t=jw(t),jw(e)!==t&&n)throw Error(G(425))}function xd(){}var mg=null,gg=null;function vg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yg=typeof setTimeout=="function"?setTimeout:void 0,iL=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,aL=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(e){return _w.resolve(null).then(e).catch(oL)}:yg;function oL(e){setTimeout(function(){throw e})}function Ip(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Dl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(t)}function Ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),Sr="__reactFiber$"+us,Fl="__reactProps$"+us,Zr="__reactContainer$"+us,xg="__reactEvents$"+us,sL="__reactListeners$"+us,lL="__reactHandles$"+us;function ma(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cw(e);e!==null;){if(n=e[Sr])return n;e=Cw(e)}return t}e=n,n=e.parentNode}return null}function gc(e){return e=e[Sr]||e[Zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function $f(e){return e[Fl]||null}var bg=[],bo=-1;function Ki(e){return{current:e}}function ze(e){0>bo||(e.current=bg[bo],bg[bo]=null,bo--)}function Le(e,t){bo++,bg[bo]=e.current,e.current=t}var Bi={},Mt=Ki(Bi),tn=Ki(!1),Ta=Bi;function Fo(e,t){var n=e.type.contextTypes;if(!n)return Bi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function bd(){ze(tn),ze(Mt)}function Ew(e,t,n){if(Mt.current!==Bi)throw Error(G(168));Le(Mt,t),Le(tn,n)}function mE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(G(108,qR(e)||"Unknown",i));return qe({},n,r)}function wd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bi,Ta=Mt.current,Le(Mt,e),Le(tn,tn.current),!0}function Pw(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=mE(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,ze(tn),ze(Mt),Le(Mt,e)):ze(tn),Le(tn,n)}var Br=null,Ff=!1,Dp=!1;function gE(e){Br===null?Br=[e]:Br.push(e)}function cL(e){Ff=!0,gE(e)}function Hi(){if(!Dp&&Br!==null){Dp=!0;var e=0,t=Ce;try{var n=Br;for(Ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Br=null,Ff=!1}catch(i){throw Br!==null&&(Br=Br.slice(e+1)),BC(Ay,Hi),i}finally{Ce=t,Dp=!1}}return null}var wo=[],ko=0,kd=null,Sd=0,Fn=[],zn=0,Ia=null,Wr=1,Kr="";function oa(e,t){wo[ko++]=Sd,wo[ko++]=kd,kd=e,Sd=t}function vE(e,t,n){Fn[zn++]=Wr,Fn[zn++]=Kr,Fn[zn++]=Ia,Ia=e;var r=Wr;e=Kr;var i=32-lr(r)-1;r&=~(1<<i),n+=1;var a=32-lr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wr=1<<32-lr(t)+i|n<<i|r,Kr=a+e}else Wr=1<<a|n<<i|r,Kr=e}function Fy(e){e.return!==null&&(oa(e,1),vE(e,1,0))}function zy(e){for(;e===kd;)kd=wo[--ko],wo[ko]=null,Sd=wo[--ko],wo[ko]=null;for(;e===Ia;)Ia=Fn[--zn],Fn[zn]=null,Kr=Fn[--zn],Fn[zn]=null,Wr=Fn[--zn],Fn[zn]=null}var bn=null,xn=null,Ue=!1,ir=null;function yE(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ow(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,xn=Ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ia!==null?{id:Wr,overflow:Kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,xn=null,!0):!1;default:return!1}}function wg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kg(e){if(Ue){var t=xn;if(t){var n=t;if(!Ow(e,t)){if(wg(e))throw Error(G(418));t=Ii(n.nextSibling);var r=bn;t&&Ow(e,t)?yE(r,n):(e.flags=e.flags&-4097|2,Ue=!1,bn=e)}}else{if(wg(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,bn=e}}}function Aw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function cu(e){if(e!==bn)return!1;if(!Ue)return Aw(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vg(e.type,e.memoizedProps)),t&&(t=xn)){if(wg(e))throw xE(),Error(G(418));for(;t;)yE(e,t),t=Ii(t.nextSibling)}if(Aw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){xn=Ii(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=bn?Ii(e.stateNode.nextSibling):null;return!0}function xE(){for(var e=xn;e;)e=Ii(e.nextSibling)}function zo(){xn=bn=null,Ue=!1}function By(e){ir===null?ir=[e]:ir.push(e)}var uL=si.ReactCurrentBatchConfig;function zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function uu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nw(e){var t=e._init;return t(e._payload)}function bE(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Li(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,b,w,S){return b===null||b.tag!==6?(b=Bp(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var j=w.type;return j===mo?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xi&&Nw(j)===b.type)?(S=i(b,w.props),S.ref=zs(v,b,w),S.return=v,S):(S=Zu(w.type,w.key,w.props,null,v.mode,S),S.ref=zs(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Up(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,j){return b===null||b.tag!==7?(b=Ca(w,v.mode,S,j),b.return=v,b):(b=i(b,w),b.return=v,b)}function d(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Bp(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return w=Zu(b.type,b.key,b.props,null,v.mode,w),w.ref=zs(v,null,b),w.return=v,w;case po:return b=Up(b,v.mode,w),b.return=v,b;case xi:var S=b._init;return d(v,S(b._payload),w)}if(il(b)||Rs(b))return b=Ca(b,v.mode,w,null),b.return=v,b;uu(v,b)}return null}function h(v,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return w.key===j?l(v,b,w,S):null;case po:return w.key===j?c(v,b,w,S):null;case xi:return j=w._init,h(v,b,j(w._payload),S)}if(il(w)||Rs(w))return j!==null?null:u(v,b,w,S,null);uu(v,w)}return null}function p(v,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,s(b,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zc:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,j);case po:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,j);case xi:var k=S._init;return p(v,b,w,k(S._payload),j)}if(il(S)||Rs(S))return v=v.get(w)||null,u(b,v,S,j,null);uu(b,S)}return null}function m(v,b,w,S){for(var j=null,k=null,_=b,N=b=0,E=null;_!==null&&N<w.length;N++){_.index>N?(E=_,_=null):E=_.sibling;var C=h(v,_,w[N],S);if(C===null){_===null&&(_=E);break}e&&_&&C.alternate===null&&t(v,_),b=a(C,b,N),k===null?j=C:k.sibling=C,k=C,_=E}if(N===w.length)return n(v,_),Ue&&oa(v,N),j;if(_===null){for(;N<w.length;N++)_=d(v,w[N],S),_!==null&&(b=a(_,b,N),k===null?j=_:k.sibling=_,k=_);return Ue&&oa(v,N),j}for(_=r(v,_);N<w.length;N++)E=p(_,v,N,w[N],S),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?N:E.key),b=a(E,b,N),k===null?j=E:k.sibling=E,k=E);return e&&_.forEach(function(A){return t(v,A)}),Ue&&oa(v,N),j}function g(v,b,w,S){var j=Rs(w);if(typeof j!="function")throw Error(G(150));if(w=j.call(w),w==null)throw Error(G(151));for(var k=j=null,_=b,N=b=0,E=null,C=w.next();_!==null&&!C.done;N++,C=w.next()){_.index>N?(E=_,_=null):E=_.sibling;var A=h(v,_,C.value,S);if(A===null){_===null&&(_=E);break}e&&_&&A.alternate===null&&t(v,_),b=a(A,b,N),k===null?j=A:k.sibling=A,k=A,_=E}if(C.done)return n(v,_),Ue&&oa(v,N),j;if(_===null){for(;!C.done;N++,C=w.next())C=d(v,C.value,S),C!==null&&(b=a(C,b,N),k===null?j=C:k.sibling=C,k=C);return Ue&&oa(v,N),j}for(_=r(v,_);!C.done;N++,C=w.next())C=p(_,v,N,C.value,S),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?N:C.key),b=a(C,b,N),k===null?j=C:k.sibling=C,k=C);return e&&_.forEach(function(T){return t(v,T)}),Ue&&oa(v,N),j}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===mo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:e:{for(var j=w.key,k=b;k!==null;){if(k.key===j){if(j=w.type,j===mo){if(k.tag===7){n(v,k.sibling),b=i(k,w.props.children),b.return=v,v=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xi&&Nw(j)===k.type){n(v,k.sibling),b=i(k,w.props),b.ref=zs(v,k,w),b.return=v,v=b;break e}n(v,k);break}else t(v,k);k=k.sibling}w.type===mo?(b=Ca(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=Zu(w.type,w.key,w.props,null,v.mode,S),S.ref=zs(v,b,w),S.return=v,v=S)}return o(v);case po:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=Up(w,v.mode,S),b.return=v,v=b}return o(v);case xi:return k=w._init,y(v,b,k(w._payload),S)}if(il(w))return m(v,b,w,S);if(Rs(w))return g(v,b,w,S);uu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=Bp(w,v.mode,S),b.return=v,v=b),o(v)):n(v,b)}return y}var Bo=bE(!0),wE=bE(!1),jd=Ki(null),_d=null,So=null,Uy=null;function Wy(){Uy=So=_d=null}function Ky(e){var t=jd.current;ze(jd),e._currentValue=t}function Sg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function To(e,t){_d=e,Uy=So=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function qn(e){var t=e._currentValue;if(Uy!==e)if(e={context:e,memoizedValue:t,next:null},So===null){if(_d===null)throw Error(G(308));So=e,_d.dependencies={lanes:0,firstContext:e}}else So=So.next=e;return t}var ga=null;function Hy(e){ga===null?ga=[e]:ga.push(e)}function kE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Hy(t)):(n.next=i.next,i.next=n),t.interleaved=n,ei(e,r)}function ei(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bi=!1;function qy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Di(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ei(e,n)}return i=r.interleaved,i===null?(t.next=t,Hy(r)):(t.next=i.next,i.next=t),r.interleaved=t,ei(e,n)}function Vu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ny(e,n)}}function Tw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Cd(e,t,n,r){var i=e.updateQueue;bi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=qe({},d,h);break e;case 2:bi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ra|=o,e.lanes=o,e.memoizedState=d}}function Iw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var vc={},Ar=Ki(vc),zl=Ki(vc),Bl=Ki(vc);function va(e){if(e===vc)throw Error(G(174));return e}function Vy(e,t){switch(Le(Bl,t),Le(zl,e),Le(Ar,vc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rg(t,e)}ze(Ar),Le(Ar,t)}function Uo(){ze(Ar),ze(zl),ze(Bl)}function jE(e){va(Bl.current);var t=va(Ar.current),n=rg(t,e.type);t!==n&&(Le(zl,e),Le(Ar,n))}function Gy(e){zl.current===e&&(ze(Ar),ze(zl))}var Ke=Ki(0);function Ed(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rp=[];function Yy(){for(var e=0;e<Rp.length;e++)Rp[e]._workInProgressVersionPrimary=null;Rp.length=0}var Gu=si.ReactCurrentDispatcher,Mp=si.ReactCurrentBatchConfig,Da=0,He=null,lt=null,gt=null,Pd=!1,ml=!1,Ul=0,dL=0;function Pt(){throw Error(G(321))}function Jy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function Qy(e,t,n,r,i,a){if(Da=a,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gu.current=e===null||e.memoizedState===null?mL:gL,e=n(r,i),ml){a=0;do{if(ml=!1,Ul=0,25<=a)throw Error(G(301));a+=1,gt=lt=null,t.updateQueue=null,Gu.current=vL,e=n(r,i)}while(ml)}if(Gu.current=Od,t=lt!==null&&lt.next!==null,Da=0,gt=lt=He=null,Pd=!1,t)throw Error(G(300));return e}function Xy(){var e=Ul!==0;return Ul=0,e}function br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?He.memoizedState=gt=e:gt=gt.next=e,gt}function Vn(){if(lt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=gt===null?He.memoizedState:gt.next;if(t!==null)gt=t,lt=e;else{if(e===null)throw Error(G(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},gt===null?He.memoizedState=gt=e:gt=gt.next=e}return gt}function Wl(e,t){return typeof t=="function"?t(e):t}function Lp(e){var t=Vn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=lt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Da&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=d,o=r):l=l.next=d,He.lanes|=u,Ra|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,fr(r,t.memoizedState)||(Xt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,He.lanes|=a,Ra|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $p(e){var t=Vn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);fr(a,t.memoizedState)||(Xt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _E(){}function CE(e,t){var n=He,r=Vn(),i=t(),a=!fr(r.memoizedState,i);if(a&&(r.memoizedState=i,Xt=!0),r=r.queue,Zy(OE.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Kl(9,PE.bind(null,n,r,i,t),void 0,null),vt===null)throw Error(G(349));Da&30||EE(n,t,i)}return i}function EE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function PE(e,t,n,r){t.value=n,t.getSnapshot=r,AE(t)&&NE(e)}function OE(e,t,n){return n(function(){AE(t)&&NE(e)})}function AE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fr(e,n)}catch{return!0}}function NE(e){var t=ei(e,1);t!==null&&cr(t,e,1,-1)}function Dw(e){var t=br();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t.queue=e,e=e.dispatch=pL.bind(null,He,e),[t.memoizedState,e]}function Kl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function TE(){return Vn().memoizedState}function Yu(e,t,n,r){var i=br();He.flags|=e,i.memoizedState=Kl(1|t,n,void 0,r===void 0?null:r)}function zf(e,t,n,r){var i=Vn();r=r===void 0?null:r;var a=void 0;if(lt!==null){var o=lt.memoizedState;if(a=o.destroy,r!==null&&Jy(r,o.deps)){i.memoizedState=Kl(t,n,a,r);return}}He.flags|=e,i.memoizedState=Kl(1|t,n,a,r)}function Rw(e,t){return Yu(8390656,8,e,t)}function Zy(e,t){return zf(2048,8,e,t)}function IE(e,t){return zf(4,2,e,t)}function DE(e,t){return zf(4,4,e,t)}function RE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ME(e,t,n){return n=n!=null?n.concat([e]):null,zf(4,4,RE.bind(null,t,e),n)}function ex(){}function LE(e,t){var n=Vn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $E(e,t){var n=Vn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Jy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function FE(e,t,n){return Da&21?(fr(n,t)||(n=KC(),He.lanes|=n,Ra|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=n)}function fL(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var r=Mp.transition;Mp.transition={};try{e(!1),t()}finally{Ce=n,Mp.transition=r}}function zE(){return Vn().memoizedState}function hL(e,t,n){var r=Mi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BE(e))UE(t,n);else if(n=kE(e,t,n,r),n!==null){var i=Ut();cr(n,e,r,i),WE(n,t,r)}}function pL(e,t,n){var r=Mi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BE(e))UE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,fr(s,o)){var l=t.interleaved;l===null?(i.next=i,Hy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=kE(e,t,i,r),n!==null&&(i=Ut(),cr(n,e,r,i),WE(n,t,r))}}function BE(e){var t=e.alternate;return e===He||t!==null&&t===He}function UE(e,t){ml=Pd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function WE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ny(e,n)}}var Od={readContext:qn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},mL={readContext:qn,useCallback:function(e,t){return br().memoizedState=[e,t===void 0?null:t],e},useContext:qn,useEffect:Rw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yu(4194308,4,RE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yu(4,2,e,t)},useMemo:function(e,t){var n=br();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=br();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hL.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=br();return e={current:e},t.memoizedState=e},useState:Dw,useDebugValue:ex,useDeferredValue:function(e){return br().memoizedState=e},useTransition:function(){var e=Dw(!1),t=e[0];return e=fL.bind(null,e[1]),br().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,i=br();if(Ue){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),vt===null)throw Error(G(349));Da&30||EE(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Rw(OE.bind(null,r,a,e),[e]),r.flags|=2048,Kl(9,PE.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=br(),t=vt.identifierPrefix;if(Ue){var n=Kr,r=Wr;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gL={readContext:qn,useCallback:LE,useContext:qn,useEffect:Zy,useImperativeHandle:ME,useInsertionEffect:IE,useLayoutEffect:DE,useMemo:$E,useReducer:Lp,useRef:TE,useState:function(){return Lp(Wl)},useDebugValue:ex,useDeferredValue:function(e){var t=Vn();return FE(t,lt.memoizedState,e)},useTransition:function(){var e=Lp(Wl)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:_E,useSyncExternalStore:CE,useId:zE,unstable_isNewReconciler:!1},vL={readContext:qn,useCallback:LE,useContext:qn,useEffect:Zy,useImperativeHandle:ME,useInsertionEffect:IE,useLayoutEffect:DE,useMemo:$E,useReducer:$p,useRef:TE,useState:function(){return $p(Wl)},useDebugValue:ex,useDeferredValue:function(e){var t=Vn();return lt===null?t.memoizedState=e:FE(t,lt.memoizedState,e)},useTransition:function(){var e=$p(Wl)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:_E,useSyncExternalStore:CE,useId:zE,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bf={isMounted:function(e){return(e=e._reactInternals)?Ha(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ut(),i=Mi(e),a=Yr(r,i);a.payload=t,n!=null&&(a.callback=n),t=Di(e,a,i),t!==null&&(cr(t,e,i,r),Vu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ut(),i=Mi(e),a=Yr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Di(e,a,i),t!==null&&(cr(t,e,i,r),Vu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ut(),r=Mi(e),i=Yr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Di(e,i,r),t!==null&&(cr(t,e,r,n),Vu(t,e,r))}};function Mw(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ml(n,r)||!Ml(i,a):!0}function KE(e,t,n){var r=!1,i=Bi,a=t.contextType;return typeof a=="object"&&a!==null?a=qn(a):(i=nn(t)?Ta:Mt.current,r=t.contextTypes,a=(r=r!=null)?Fo(e,i):Bi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bf.enqueueReplaceState(t,t.state,null)}function _g(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=qn(a):(a=nn(t)?Ta:Mt.current,i.context=Fo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(jg(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bf.enqueueReplaceState(i,i.state,null),Cd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wo(e,t){try{var n="",r=t;do n+=HR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Fp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var yL=typeof WeakMap=="function"?WeakMap:Map;function HE(e,t,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nd||(Nd=!0,Mg=r),Cg(e,t)},n}function qE(e,t,n){n=Yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Cg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Cg(e,t),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $w(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=TL.bind(null,e,t,n),t.then(e,e))}function Fw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yr(-1,1),t.tag=2,Di(n,t,1))),n.lanes|=1),e)}var xL=si.ReactCurrentOwner,Xt=!1;function $t(e,t,n,r){t.child=e===null?wE(t,null,n,r):Bo(t,e.child,n,r)}function Bw(e,t,n,r,i){n=n.render;var a=t.ref;return To(t,i),r=Qy(e,t,n,r,a,i),n=Xy(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Ue&&n&&Fy(t),t.flags|=1,$t(e,t,r,i),t.child)}function Uw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!lx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,VE(e,t,a,r,i)):(e=Zu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ml,n(o,r)&&e.ref===t.ref)return ti(e,t,i)}return t.flags|=1,e=Li(a,r),e.ref=t.ref,e.return=t,t.child=e}function VE(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Ml(a,r)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,ti(e,t,i)}return Eg(e,t,n,r,i)}function GE(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(_o,vn),vn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(_o,vn),vn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Le(_o,vn),vn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Le(_o,vn),vn|=r;return $t(e,t,i,n),t.child}function YE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eg(e,t,n,r,i){var a=nn(n)?Ta:Mt.current;return a=Fo(t,a),To(t,i),n=Qy(e,t,n,r,a,i),r=Xy(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ti(e,t,i)):(Ue&&r&&Fy(t),t.flags|=1,$t(e,t,n,i),t.child)}function Ww(e,t,n,r,i){if(nn(n)){var a=!0;wd(t)}else a=!1;if(To(t,i),t.stateNode===null)Ju(e,t),KE(t,n,r),_g(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qn(c):(c=nn(n)?Ta:Mt.current,c=Fo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Lw(t,o,r,c),bi=!1;var h=t.memoizedState;o.state=h,Cd(t,r,o,i),l=t.memoizedState,s!==r||h!==l||tn.current||bi?(typeof u=="function"&&(jg(t,n,u,r),l=t.memoizedState),(s=bi||Mw(t,n,s,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,SE(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:tr(t.type,s),o.props=c,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=qn(l):(l=nn(n)?Ta:Mt.current,l=Fo(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&Lw(t,o,r,l),bi=!1,h=t.memoizedState,o.state=h,Cd(t,r,o,i);var m=t.memoizedState;s!==d||h!==m||tn.current||bi?(typeof p=="function"&&(jg(t,n,p,r),m=t.memoizedState),(c=bi||Mw(t,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Pg(e,t,n,r,a,i)}function Pg(e,t,n,r,i,a){YE(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Pw(t,n,!1),ti(e,t,a);r=t.stateNode,xL.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Bo(t,e.child,null,a),t.child=Bo(t,null,s,a)):$t(e,t,s,a),t.memoizedState=r.state,i&&Pw(t,n,!0),t.child}function JE(e){var t=e.stateNode;t.pendingContext?Ew(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ew(e,t.context,!1),Vy(e,t.containerInfo)}function Kw(e,t,n,r,i){return zo(),By(i),t.flags|=256,$t(e,t,n,r),t.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function Ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function QE(e,t,n){var r=t.pendingProps,i=Ke.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Le(Ke,i&1),e===null)return kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Kf(o,r,0,null),e=Ca(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ag(n),t.memoizedState=Og,e):tx(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return bL(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Li(s,a):(a=Ca(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Ag(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Og,r}return a=e.child,e=a.sibling,r=Li(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tx(e,t){return t=Kf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function du(e,t,n,r){return r!==null&&By(r),Bo(t,e.child,null,n),e=tx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bL(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Fp(Error(G(422))),du(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Kf({mode:"visible",children:r.children},i,0,null),a=Ca(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Bo(t,e.child,null,o),t.child.memoizedState=Ag(o),t.memoizedState=Og,a);if(!(t.mode&1))return du(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(G(419)),r=Fp(a,r,void 0),du(e,t,o,r)}if(s=(o&e.childLanes)!==0,Xt||s){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ei(e,i),cr(r,e,i,-1))}return sx(),r=Fp(Error(G(421))),du(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=IL.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xn=Ii(i.nextSibling),bn=t,Ue=!0,ir=null,e!==null&&(Fn[zn++]=Wr,Fn[zn++]=Kr,Fn[zn++]=Ia,Wr=e.id,Kr=e.overflow,Ia=t),t=tx(t,r.children),t.flags|=4096,t)}function Hw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sg(e.return,t,n)}function zp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function XE(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if($t(e,t,r.children,n),r=Ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hw(e,n,t);else if(e.tag===19)Hw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Le(Ke,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ed(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ed(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zp(t,!0,n,null,a);break;case"together":zp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ju(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ti(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ra|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=Li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wL(e,t,n){switch(t.tag){case 3:JE(t),zo();break;case 5:jE(t);break;case 1:nn(t.type)&&wd(t);break;case 4:Vy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Le(jd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Le(Ke,Ke.current&1),t.flags|=128,null):n&t.child.childLanes?QE(e,t,n):(Le(Ke,Ke.current&1),e=ti(e,t,n),e!==null?e.sibling:null);Le(Ke,Ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return XE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Ke,Ke.current),r)break;return null;case 22:case 23:return t.lanes=0,GE(e,t,n)}return ti(e,t,n)}var ZE,Ng,eP,tP;ZE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ng=function(){};eP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,va(Ar.current);var a=null;switch(n){case"input":i=Zm(e,i),r=Zm(e,r),a=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),a=[];break;case"textarea":i=ng(e,i),r=ng(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xd)}ig(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ol.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$e("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};tP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kL(e,t,n){var r=t.pendingProps;switch(zy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(t),null;case 1:return nn(t.type)&&bd(),Ot(t),null;case 3:return r=t.stateNode,Uo(),ze(tn),ze(Mt),Yy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Fg(ir),ir=null))),Ng(e,t),Ot(t),null;case 5:Gy(t);var i=va(Bl.current);if(n=t.type,e!==null&&t.stateNode!=null)eP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Ot(t),null}if(e=va(Ar.current),cu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Sr]=t,r[Fl]=a,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<ol.length;i++)$e(ol[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":ew(r,a),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},$e("invalid",r);break;case"textarea":nw(r,a),$e("invalid",r)}ig(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&lu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&lu(r.textContent,s,e),i=["children",""+s]):Ol.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":eu(r),tw(r,a,!0);break;case"textarea":eu(r),rw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Sr]=t,e[Fl]=r,ZE(e,t,!1,!1),t.stateNode=e;e:{switch(o=ag(n,r),n){case"dialog":$e("cancel",e),$e("close",e),i=r;break;case"iframe":case"object":case"embed":$e("load",e),i=r;break;case"video":case"audio":for(i=0;i<ol.length;i++)$e(ol[i],e);i=r;break;case"source":$e("error",e),i=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=r;break;case"details":$e("toggle",e),i=r;break;case"input":ew(e,r),i=Zm(e,r),$e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),$e("invalid",e);break;case"textarea":nw(e,r),i=ng(e,r),$e("invalid",e);break;default:i=r}ig(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?TC(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AC(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(e,l):typeof l=="number"&&Al(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ol.hasOwnProperty(a)?l!=null&&a==="onScroll"&&$e("scroll",e):l!=null&&_y(e,a,l,o))}switch(n){case"input":eu(e),tw(e,r,!1);break;case"textarea":eu(e),rw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Po(e,!!r.multiple,a,!1):r.defaultValue!=null&&Po(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ot(t),null;case 6:if(e&&t.stateNode!=null)tP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=va(Bl.current),va(Ar.current),cu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Sr]=t,(a=r.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:lu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=t,t.stateNode=r}return Ot(t),null;case 13:if(ze(Ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&xn!==null&&t.mode&1&&!(t.flags&128))xE(),zo(),t.flags|=98560,a=!1;else if(a=cu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Sr]=t}else zo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ot(t),a=!1}else ir!==null&&(Fg(ir),ir=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?dt===0&&(dt=3):sx())),t.updateQueue!==null&&(t.flags|=4),Ot(t),null);case 4:return Uo(),Ng(e,t),e===null&&Ll(t.stateNode.containerInfo),Ot(t),null;case 10:return Ky(t.type._context),Ot(t),null;case 17:return nn(t.type)&&bd(),Ot(t),null;case 19:if(ze(Ke),a=t.memoizedState,a===null)return Ot(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Bs(a,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ed(e),o!==null){for(t.flags|=128,Bs(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Le(Ke,Ke.current&1|2),t.child}e=e.sibling}a.tail!==null&&Je()>Ko&&(t.flags|=128,r=!0,Bs(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ed(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ue)return Ot(t),null}else 2*Je()-a.renderingStartTime>Ko&&n!==1073741824&&(t.flags|=128,r=!0,Bs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Ke.current,Le(Ke,r?n&1|2:n&1),t):(Ot(t),null);case 22:case 23:return ox(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vn&1073741824&&(Ot(t),t.subtreeFlags&6&&(t.flags|=8192)):Ot(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function SL(e,t){switch(zy(t),t.tag){case 1:return nn(t.type)&&bd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Uo(),ze(tn),ze(Mt),Yy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gy(t),null;case 13:if(ze(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));zo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ke),null;case 4:return Uo(),null;case 10:return Ky(t.type._context),null;case 22:case 23:return ox(),null;case 24:return null;default:return null}}var fu=!1,Nt=!1,jL=typeof WeakSet=="function"?WeakSet:Set,ee=null;function jo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function Tg(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var qw=!1;function _L(e,t){if(mg=gd,e=oE(),$y(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=o+i),d!==a||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gg={focusedElem:e,selectionRange:n},gd=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:tr(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){Ve(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return m=qw,qw=!1,m}function gl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Tg(t,n,a)}i=i.next}while(i!==r)}}function Uf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ig(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function nP(e){var t=e.alternate;t!==null&&(e.alternate=null,nP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[Fl],delete t[xg],delete t[sL],delete t[lL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rP(e){return e.tag===5||e.tag===3||e.tag===4}function Vw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xd));else if(r!==4&&(e=e.child,e!==null))for(Dg(e,t,n),e=e.sibling;e!==null;)Dg(e,t,n),e=e.sibling}function Rg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rg(e,t,n),e=e.sibling;e!==null;)Rg(e,t,n),e=e.sibling}var St=null,nr=!1;function mi(e,t,n){for(n=n.child;n!==null;)iP(e,t,n),n=n.sibling}function iP(e,t,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:Nt||jo(n,t);case 6:var r=St,i=nr;St=null,mi(e,t,n),St=r,nr=i,St!==null&&(nr?(e=St,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(nr?(e=St,n=n.stateNode,e.nodeType===8?Ip(e.parentNode,n):e.nodeType===1&&Ip(e,n),Dl(e)):Ip(St,n.stateNode));break;case 4:r=St,i=nr,St=n.stateNode.containerInfo,nr=!0,mi(e,t,n),St=r,nr=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Tg(n,t,o),i=i.next}while(i!==r)}mi(e,t,n);break;case 1:if(!Nt&&(jo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ve(n,t,s)}mi(e,t,n);break;case 21:mi(e,t,n);break;case 22:n.mode&1?(Nt=(r=Nt)||n.memoizedState!==null,mi(e,t,n),Nt=r):mi(e,t,n);break;default:mi(e,t,n)}}function Gw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jL),t.forEach(function(r){var i=DL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:St=s.stateNode,nr=!1;break e;case 3:St=s.stateNode.containerInfo,nr=!0;break e;case 4:St=s.stateNode.containerInfo,nr=!0;break e}s=s.return}if(St===null)throw Error(G(160));iP(a,o,i),St=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ve(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)aP(t,e),t=t.sibling}function aP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),vr(e),r&4){try{gl(3,e,e.return),Uf(3,e)}catch(g){Ve(e,e.return,g)}try{gl(5,e,e.return)}catch(g){Ve(e,e.return,g)}}break;case 1:Zn(t,e),vr(e),r&512&&n!==null&&jo(n,n.return);break;case 5:if(Zn(t,e),vr(e),r&512&&n!==null&&jo(n,n.return),e.flags&32){var i=e.stateNode;try{Al(i,"")}catch(g){Ve(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&EC(i,a),ag(s,o);var c=ag(s,a);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?TC(i,d):u==="dangerouslySetInnerHTML"?AC(i,d):u==="children"?Al(i,d):_y(i,u,d,c)}switch(s){case"input":eg(i,a);break;case"textarea":PC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Po(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Po(i,!!a.multiple,a.defaultValue,!0):Po(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fl]=a}catch(g){Ve(e,e.return,g)}}break;case 6:if(Zn(t,e),vr(e),r&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ve(e,e.return,g)}}break;case 3:if(Zn(t,e),vr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(t.containerInfo)}catch(g){Ve(e,e.return,g)}break;case 4:Zn(t,e),vr(e);break;case 13:Zn(t,e),vr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ix=Je())),r&4&&Gw(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Nt=(c=Nt)||u,Zn(t,e),Nt=c):Zn(t,e),vr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ee=e,u=e.child;u!==null;){for(d=ee=u;ee!==null;){switch(h=ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:gl(4,h,h.return);break;case 1:jo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ve(r,n,g)}}break;case 5:jo(h,h.return);break;case 22:if(h.memoizedState!==null){Jw(d);continue}}p!==null?(p.return=h,ee=p):Jw(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=NC("display",o))}catch(g){Ve(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Ve(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zn(t,e),vr(e),r&4&&Gw(e);break;case 21:break;default:Zn(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(rP(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var a=Vw(e);Rg(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=Vw(e);Dg(e,s,o);break;default:throw Error(G(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CL(e,t,n){ee=e,oP(e)}function oP(e,t,n){for(var r=(e.mode&1)!==0;ee!==null;){var i=ee,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Nt;s=fu;var c=Nt;if(fu=o,(Nt=l)&&!c)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?Qw(i):l!==null?(l.return=o,ee=l):Qw(i);for(;a!==null;)ee=a,oP(a),a=a.sibling;ee=i,fu=s,Nt=c}Yw(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ee=a):Yw(e)}}function Yw(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Uf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Iw(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Iw(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Dl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Nt||t.flags&512&&Ig(t)}catch(h){Ve(t,t.return,h)}}if(t===e){ee=null;break}if(n=t.sibling,n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Jw(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ee=n;break}ee=t.return}}function Qw(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uf(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ve(t,i,l)}}var a=t.return;try{Ig(t)}catch(l){Ve(t,a,l)}break;case 5:var o=t.return;try{Ig(t)}catch(l){Ve(t,o,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}var EL=Math.ceil,Ad=si.ReactCurrentDispatcher,nx=si.ReactCurrentOwner,Hn=si.ReactCurrentBatchConfig,we=0,vt=null,nt=null,Ct=0,vn=0,_o=Ki(0),dt=0,Hl=null,Ra=0,Wf=0,rx=0,vl=null,Jt=null,ix=0,Ko=1/0,Fr=null,Nd=!1,Mg=null,Ri=null,hu=!1,Pi=null,Td=0,yl=0,Lg=null,Qu=-1,Xu=0;function Ut(){return we&6?Je():Qu!==-1?Qu:Qu=Je()}function Mi(e){return e.mode&1?we&2&&Ct!==0?Ct&-Ct:uL.transition!==null?(Xu===0&&(Xu=KC()),Xu):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:QC(e.type)),e):1}function cr(e,t,n,r){if(50<yl)throw yl=0,Lg=null,Error(G(185));pc(e,n,r),(!(we&2)||e!==vt)&&(e===vt&&(!(we&2)&&(Wf|=n),dt===4&&ji(e,Ct)),rn(e,r),n===1&&we===0&&!(t.mode&1)&&(Ko=Je()+500,Ff&&Hi()))}function rn(e,t){var n=e.callbackNode;uM(e,t);var r=md(e,e===vt?Ct:0);if(r===0)n!==null&&ow(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ow(n),t===1)e.tag===0?cL(Xw.bind(null,e)):gE(Xw.bind(null,e)),aL(function(){!(we&6)&&Hi()}),n=null;else{switch(HC(r)){case 1:n=Ay;break;case 4:n=UC;break;case 16:n=pd;break;case 536870912:n=WC;break;default:n=pd}n=pP(n,sP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sP(e,t){if(Qu=-1,Xu=0,we&6)throw Error(G(327));var n=e.callbackNode;if(Io()&&e.callbackNode!==n)return null;var r=md(e,e===vt?Ct:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Id(e,r);else{t=r;var i=we;we|=2;var a=cP();(vt!==e||Ct!==t)&&(Fr=null,Ko=Je()+500,_a(e,t));do try{AL();break}catch(s){lP(e,s)}while(1);Wy(),Ad.current=a,we=i,nt!==null?t=0:(vt=null,Ct=0,t=dt)}if(t!==0){if(t===2&&(i=ug(e),i!==0&&(r=i,t=$g(e,i))),t===1)throw n=Hl,_a(e,0),ji(e,r),rn(e,Je()),n;if(t===6)ji(e,r);else{if(i=e.current.alternate,!(r&30)&&!PL(i)&&(t=Id(e,r),t===2&&(a=ug(e),a!==0&&(r=a,t=$g(e,a))),t===1))throw n=Hl,_a(e,0),ji(e,r),rn(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:sa(e,Jt,Fr);break;case 3:if(ji(e,r),(r&130023424)===r&&(t=ix+500-Je(),10<t)){if(md(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ut(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yg(sa.bind(null,e,Jt,Fr),t);break}sa(e,Jt,Fr);break;case 4:if(ji(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-lr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EL(r/1960))-r,10<r){e.timeoutHandle=yg(sa.bind(null,e,Jt,Fr),r);break}sa(e,Jt,Fr);break;case 5:sa(e,Jt,Fr);break;default:throw Error(G(329))}}}return rn(e,Je()),e.callbackNode===n?sP.bind(null,e):null}function $g(e,t){var n=vl;return e.current.memoizedState.isDehydrated&&(_a(e,t).flags|=256),e=Id(e,t),e!==2&&(t=Jt,Jt=n,t!==null&&Fg(t)),e}function Fg(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function PL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ji(e,t){for(t&=~rx,t&=~Wf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lr(t),r=1<<n;e[n]=-1,t&=~r}}function Xw(e){if(we&6)throw Error(G(327));Io();var t=md(e,0);if(!(t&1))return rn(e,Je()),null;var n=Id(e,t);if(e.tag!==0&&n===2){var r=ug(e);r!==0&&(t=r,n=$g(e,r))}if(n===1)throw n=Hl,_a(e,0),ji(e,t),rn(e,Je()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sa(e,Jt,Fr),rn(e,Je()),null}function ax(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(Ko=Je()+500,Ff&&Hi())}}function Ma(e){Pi!==null&&Pi.tag===0&&!(we&6)&&Io();var t=we;we|=1;var n=Hn.transition,r=Ce;try{if(Hn.transition=null,Ce=1,e)return e()}finally{Ce=r,Hn.transition=n,we=t,!(we&6)&&Hi()}}function ox(){vn=_o.current,ze(_o)}function _a(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iL(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bd();break;case 3:Uo(),ze(tn),ze(Mt),Yy();break;case 5:Gy(r);break;case 4:Uo();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:Ky(r.type._context);break;case 22:case 23:ox()}n=n.return}if(vt=e,nt=e=Li(e.current,null),Ct=vn=t,dt=0,Hl=null,rx=Wf=Ra=0,Jt=vl=null,ga!==null){for(t=0;t<ga.length;t++)if(n=ga[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ga=null}return e}function lP(e,t){do{var n=nt;try{if(Wy(),Gu.current=Od,Pd){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pd=!1}if(Da=0,gt=lt=He=null,ml=!1,Ul=0,nx.current=null,n===null||n.return===null){dt=1,Hl=t,nt=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Ct,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Fw(o);if(p!==null){p.flags&=-257,zw(p,o,s,a,t),p.mode&1&&$w(a,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){$w(a,c,t),sx();break e}l=Error(G(426))}}else if(Ue&&s.mode&1){var y=Fw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),zw(y,o,s,a,t),By(Wo(l,s));break e}}a=l=Wo(l,s),dt!==4&&(dt=2),vl===null?vl=[a]:vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=HE(a,l,t);Tw(a,v);break e;case 1:s=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ri===null||!Ri.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=qE(a,s,t);Tw(a,S);break e}}a=a.return}while(a!==null)}dP(n)}catch(j){t=j,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(1)}function cP(){var e=Ad.current;return Ad.current=Od,e===null?Od:e}function sx(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(Ra&268435455)&&!(Wf&268435455)||ji(vt,Ct)}function Id(e,t){var n=we;we|=2;var r=cP();(vt!==e||Ct!==t)&&(Fr=null,_a(e,t));do try{OL();break}catch(i){lP(e,i)}while(1);if(Wy(),we=n,Ad.current=r,nt!==null)throw Error(G(261));return vt=null,Ct=0,dt}function OL(){for(;nt!==null;)uP(nt)}function AL(){for(;nt!==null&&!tM();)uP(nt)}function uP(e){var t=hP(e.alternate,e,vn);e.memoizedProps=e.pendingProps,t===null?dP(e):nt=t,nx.current=null}function dP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=SL(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,nt=null;return}}else if(n=kL(n,t,vn),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);dt===0&&(dt=5)}function sa(e,t,n){var r=Ce,i=Hn.transition;try{Hn.transition=null,Ce=1,NL(e,t,n,r)}finally{Hn.transition=i,Ce=r}return null}function NL(e,t,n,r){do Io();while(Pi!==null);if(we&6)throw Error(G(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(dM(e,a),e===vt&&(nt=vt=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hu||(hu=!0,pP(pd,function(){return Io(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Hn.transition,Hn.transition=null;var o=Ce;Ce=1;var s=we;we|=4,nx.current=null,_L(e,n),aP(n,e),QM(gg),gd=!!mg,gg=mg=null,e.current=n,CL(n),nM(),we=s,Ce=o,Hn.transition=a}else e.current=n;if(hu&&(hu=!1,Pi=e,Td=i),a=e.pendingLanes,a===0&&(Ri=null),aM(n.stateNode),rn(e,Je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nd)throw Nd=!1,e=Mg,Mg=null,e;return Td&1&&e.tag!==0&&Io(),a=e.pendingLanes,a&1?e===Lg?yl++:(yl=0,Lg=e):yl=0,Hi(),null}function Io(){if(Pi!==null){var e=HC(Td),t=Hn.transition,n=Ce;try{if(Hn.transition=null,Ce=16>e?16:e,Pi===null)var r=!1;else{if(e=Pi,Pi=null,Td=0,we&6)throw Error(G(331));var i=we;for(we|=4,ee=e.current;ee!==null;){var a=ee,o=a.child;if(ee.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ee=c;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:gl(8,u,a)}var d=u.child;if(d!==null)d.return=u,ee=d;else for(;ee!==null;){u=ee;var h=u.sibling,p=u.return;if(nP(u),u===c){ee=null;break}if(h!==null){h.return=p,ee=h;break}ee=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ee=o;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gl(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ee=v;break e}ee=a.return}}var b=e.current;for(ee=b;ee!==null;){o=ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ee=w;else e:for(o=b;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uf(9,s)}}catch(j){Ve(s,s.return,j)}if(s===o){ee=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,ee=S;break e}ee=s.return}}if(we=i,Hi(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(Df,e)}catch{}r=!0}return r}finally{Ce=n,Hn.transition=t}}return!1}function Zw(e,t,n){t=Wo(n,t),t=HE(e,t,1),e=Di(e,t,1),t=Ut(),e!==null&&(pc(e,1,t),rn(e,t))}function Ve(e,t,n){if(e.tag===3)Zw(e,e,n);else for(;t!==null;){if(t.tag===3){Zw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){e=Wo(n,e),e=qE(t,e,1),t=Di(t,e,1),e=Ut(),t!==null&&(pc(t,1,e),rn(t,e));break}}t=t.return}}function TL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ut(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(Ct&n)===n&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>Je()-ix?_a(e,0):rx|=n),rn(e,t)}function fP(e,t){t===0&&(e.mode&1?(t=ru,ru<<=1,!(ru&130023424)&&(ru=4194304)):t=1);var n=Ut();e=ei(e,t),e!==null&&(pc(e,t,n),rn(e,n))}function IL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fP(e,n)}function DL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),fP(e,n)}var hP;hP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Xt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xt=!1,wL(e,t,n);Xt=!!(e.flags&131072)}else Xt=!1,Ue&&t.flags&1048576&&vE(t,Sd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ju(e,t),e=t.pendingProps;var i=Fo(t,Mt.current);To(t,n),i=Qy(null,t,r,e,i,n);var a=Xy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(r)?(a=!0,wd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qy(t),i.updater=Bf,t.stateNode=i,i._reactInternals=t,_g(t,r,e,n),t=Pg(null,t,r,!0,a,n)):(t.tag=0,Ue&&a&&Fy(t),$t(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ju(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=ML(r),e=tr(r,e),i){case 0:t=Eg(null,t,r,e,n);break e;case 1:t=Ww(null,t,r,e,n);break e;case 11:t=Bw(null,t,r,e,n);break e;case 14:t=Uw(null,t,r,tr(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Eg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Ww(e,t,r,i,n);case 3:e:{if(JE(t),e===null)throw Error(G(387));r=t.pendingProps,a=t.memoizedState,i=a.element,SE(e,t),Cd(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Wo(Error(G(423)),t),t=Kw(e,t,r,n,i);break e}else if(r!==i){i=Wo(Error(G(424)),t),t=Kw(e,t,r,n,i);break e}else for(xn=Ii(t.stateNode.containerInfo.firstChild),bn=t,Ue=!0,ir=null,n=wE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zo(),r===i){t=ti(e,t,n);break e}$t(e,t,r,n)}t=t.child}return t;case 5:return jE(t),e===null&&kg(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,vg(r,i)?o=null:a!==null&&vg(r,a)&&(t.flags|=32),YE(e,t),$t(e,t,o,n),t.child;case 6:return e===null&&kg(t),null;case 13:return QE(e,t,n);case 4:return Vy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Bo(t,null,r,n):$t(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Bw(e,t,r,i,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Le(jd,r._currentValue),r._currentValue=o,a!==null)if(fr(a.value,o)){if(a.children===i.children&&!tn.current){t=ti(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Yr(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Sg(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Sg(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}$t(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,To(t,n),i=qn(i),r=r(i),t.flags|=1,$t(e,t,r,n),t.child;case 14:return r=t.type,i=tr(r,t.pendingProps),i=tr(r.type,i),Uw(e,t,r,i,n);case 15:return VE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tr(r,i),Ju(e,t),t.tag=1,nn(r)?(e=!0,wd(t)):e=!1,To(t,n),KE(t,r,i),_g(t,r,i,n),Pg(null,t,r,!0,e,n);case 19:return XE(e,t,n);case 22:return GE(e,t,n)}throw Error(G(156,t.tag))};function pP(e,t){return BC(e,t)}function RL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,r){return new RL(e,t,n,r)}function lx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ML(e){if(typeof e=="function")return lx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ey)return 11;if(e===Py)return 14}return 2}function Li(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zu(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")lx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case mo:return Ca(n.children,i,a,t);case Cy:o=8,i|=8;break;case Ym:return e=Wn(12,n,t,i|2),e.elementType=Ym,e.lanes=a,e;case Jm:return e=Wn(13,n,t,i),e.elementType=Jm,e.lanes=a,e;case Qm:return e=Wn(19,n,t,i),e.elementType=Qm,e.lanes=a,e;case jC:return Kf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kC:o=10;break e;case SC:o=9;break e;case Ey:o=11;break e;case Py:o=14;break e;case xi:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Wn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ca(e,t,n,r){return e=Wn(7,e,r,t),e.lanes=n,e}function Kf(e,t,n,r){return e=Wn(22,e,r,t),e.elementType=jC,e.lanes=n,e.stateNode={isHidden:!1},e}function Bp(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function Up(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function LL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cx(e,t,n,r,i,a,o,s,l){return e=new LL(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Wn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(a),e}function $L(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mP(e){if(!e)return Bi;e=e._reactInternals;e:{if(Ha(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(nn(n))return mE(e,n,t)}return t}function gP(e,t,n,r,i,a,o,s,l){return e=cx(n,r,!0,e,i,a,o,s,l),e.context=mP(null),n=e.current,r=Ut(),i=Mi(n),a=Yr(r,i),a.callback=t??null,Di(n,a,i),e.current.lanes=i,pc(e,i,r),rn(e,r),e}function Hf(e,t,n,r){var i=t.current,a=Ut(),o=Mi(i);return n=mP(n),t.context===null?t.context=n:t.pendingContext=n,t=Yr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Di(i,t,o),e!==null&&(cr(e,i,o,a),Vu(e,i,o)),o}function Dd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function e1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ux(e,t){e1(e,t),(e=e.alternate)&&e1(e,t)}function FL(){return null}var vP=typeof reportError=="function"?reportError:function(e){console.error(e)};function dx(e){this._internalRoot=e}qf.prototype.render=dx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Hf(e,t,null,null)};qf.prototype.unmount=dx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ma(function(){Hf(null,e,null,null)}),t[Zr]=null}};function qf(e){this._internalRoot=e}qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=GC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Si.length&&t!==0&&t<Si[n].priority;n++);Si.splice(n,0,e),n===0&&JC(e)}};function fx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t1(){}function zL(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Dd(o);a.call(c)}}var o=gP(t,r,e,0,null,!1,!1,"",t1);return e._reactRootContainer=o,e[Zr]=o.current,Ll(e.nodeType===8?e.parentNode:e),Ma(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Dd(l);s.call(c)}}var l=cx(e,0,!1,null,null,!1,!1,"",t1);return e._reactRootContainer=l,e[Zr]=l.current,Ll(e.nodeType===8?e.parentNode:e),Ma(function(){Hf(t,l,n,r)}),l}function Gf(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Dd(o);s.call(l)}}Hf(t,o,e,i)}else o=zL(n,t,e,i,r);return Dd(o)}qC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=al(t.pendingLanes);n!==0&&(Ny(t,n|1),rn(t,Je()),!(we&6)&&(Ko=Je()+500,Hi()))}break;case 13:Ma(function(){var r=ei(e,1);if(r!==null){var i=Ut();cr(r,e,1,i)}}),ux(e,1)}};Ty=function(e){if(e.tag===13){var t=ei(e,134217728);if(t!==null){var n=Ut();cr(t,e,134217728,n)}ux(e,134217728)}};VC=function(e){if(e.tag===13){var t=Mi(e),n=ei(e,t);if(n!==null){var r=Ut();cr(n,e,t,r)}ux(e,t)}};GC=function(){return Ce};YC=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}};sg=function(e,t,n){switch(t){case"input":if(eg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=$f(r);if(!i)throw Error(G(90));CC(r),eg(r,i)}}}break;case"textarea":PC(e,n);break;case"select":t=n.value,t!=null&&Po(e,!!n.multiple,t,!1)}};RC=ax;MC=Ma;var BL={usingClientEntryPoint:!1,Events:[gc,xo,$f,IC,DC,ax]},Us={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UL={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=FC(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||FL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Df=pu.inject(UL),Or=pu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BL;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fx(t))throw Error(G(200));return $L(e,t,null,n)};Pn.createRoot=function(e,t){if(!fx(e))throw Error(G(299));var n=!1,r="",i=vP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cx(e,1,!1,null,null,n,!1,r,i),e[Zr]=t.current,Ll(e.nodeType===8?e.parentNode:e),new dx(t)};Pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=FC(t),e=e===null?null:e.stateNode,e};Pn.flushSync=function(e){return Ma(e)};Pn.hydrate=function(e,t,n){if(!Vf(t))throw Error(G(200));return Gf(null,e,t,!0,n)};Pn.hydrateRoot=function(e,t,n){if(!fx(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=vP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=gP(t,null,e,1,n??null,i,!1,a,o),e[Zr]=t.current,Ll(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qf(t)};Pn.render=function(e,t,n){if(!Vf(t))throw Error(G(200));return Gf(null,e,t,!1,n)};Pn.unmountComponentAtNode=function(e){if(!Vf(e))throw Error(G(40));return e._reactRootContainer?(Ma(function(){Gf(null,null,e,!1,function(){e._reactRootContainer=null,e[Zr]=null})}),!0):!1};Pn.unstable_batchedUpdates=ax;Pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vf(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Gf(e,t,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function yP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yP)}catch(e){console.error(e)}}yP(),yC.exports=Pn;var hx=yC.exports,n1=hx;Vm.createRoot=n1.createRoot,Vm.hydrateRoot=n1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ql.apply(this,arguments)}var Oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Oi||(Oi={}));const r1="popstate";function WL(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return zg("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bP(i)}return HL(t,n,null,e)}function rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KL(){return Math.random().toString(36).substr(2,8)}function i1(e,t){return{usr:e.state,key:e.key,idx:t}}function zg(e,t,n,r){return n===void 0&&(n=null),ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ds(t):t,{state:n,key:t&&t.key||r||KL()})}function bP(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ds(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function HL(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Oi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ql({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){s=Oi.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:s,location:g.location,delta:v})}function h(y,v){s=Oi.Push;let b=zg(g.location,y,v);n&&n(b,y),c=u()+1;let w=i1(b,c),S=g.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(y,v){s=Oi.Replace;let b=zg(g.location,y,v);n&&n(b,y),c=u();let w=i1(b,c),S=g.createHref(b);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:bP(y);return b=b.replace(/ $/,"%20"),rt(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return s},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(r1,d),l=y,()=>{i.removeEventListener(r1,d),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var a1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(a1||(a1={}));function qL(e,t,n){return n===void 0&&(n="/"),VL(e,t,n,!1)}function VL(e,t,n,r){let i=typeof t=="string"?ds(t):t,a=SP(i.pathname||"/",n);if(a==null)return null;let o=wP(e);GL(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=a$(a);s=r$(o[l],c,r)}return s}function wP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ea([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(rt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),wP(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:t$(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of kP(a.path))i(a,o,l)}),t}function kP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=kP(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function GL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:n$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YL=/^:[\w-]+$/,JL=3,QL=2,XL=1,ZL=10,e$=-2,o1=e=>e==="*";function t$(e,t){let n=e.split("/"),r=n.length;return n.some(o1)&&(r+=e$),t&&(r+=QL),n.filter(i=>!o1(i)).reduce((i,a)=>i+(YL.test(a)?JL:a===""?XL:ZL),r)}function n$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function r$(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",d=s1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=s1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ea([a,d.pathname]),pathnameBase:c$(Ea([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Ea([a,d.pathnameBase]))}return o}function s1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=i$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[d]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[d];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function i$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function a$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function o$(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ds(e):e;return{pathname:n?n.startsWith("/")?n:s$(n,t):t,search:u$(r),hash:d$(i)}}function s$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function jP(e,t){let n=l$(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _P(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ds(e):(i=ql({},e),rt(!i.pathname||!i.pathname.includes("?"),Wp("?","pathname","search",i)),rt(!i.pathname||!i.pathname.includes("#"),Wp("#","pathname","hash",i)),rt(!i.search||!i.search.includes("#"),Wp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=o$(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Ea=e=>e.join("/").replace(/\/\/+/g,"/"),c$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CP=["post","put","patch","delete"];new Set(CP);const h$=["get",...CP];new Set(h$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vl(){return Vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vl.apply(this,arguments)}const px=x.createContext(null),p$=x.createContext(null),yc=x.createContext(null),Yf=x.createContext(null),qi=x.createContext({outlet:null,matches:[],isDataRoute:!1}),EP=x.createContext(null);function xc(){return x.useContext(Yf)!=null}function qa(){return xc()||rt(!1),x.useContext(Yf).location}function PP(e){x.useContext(yc).static||x.useLayoutEffect(e)}function An(){let{isDataRoute:e}=x.useContext(qi);return e?E$():m$()}function m$(){xc()||rt(!1);let e=x.useContext(px),{basename:t,future:n,navigator:r}=x.useContext(yc),{matches:i}=x.useContext(qi),{pathname:a}=qa(),o=JSON.stringify(jP(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return PP(()=>{s.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=_P(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ea([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,a,e])}function OP(){let{matches:e}=x.useContext(qi),t=e[e.length-1];return t?t.params:{}}function g$(e,t){return v$(e,t)}function v$(e,t,n,r){xc()||rt(!1);let{navigator:i}=x.useContext(yc),{matches:a}=x.useContext(qi),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=qa(),u;if(t){var d;let y=typeof t=="string"?ds(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||rt(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=qL(e,{pathname:p}),g=k$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ea([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ea([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?x.createElement(Yf.Provider,{value:{location:Vl({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Oi.Pop}},g):g}function y$(){let e=C$(),t=f$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,a)}const x$=x.createElement(y$,null);class b$ extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(qi.Provider,{value:this.props.routeContext},x.createElement(EP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w$(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(px);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(qi.Provider,{value:t},r)}function k$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||rt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let p,m=!1,g=null,y=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||x$,l&&(c<0&&h===0?(P$("route-fallback",!1),m=!0,y=null):c===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=y:d.route.Component?w=x.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,x.createElement(w$,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(b$,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var AP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AP||{}),Rd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rd||{});function S$(e){let t=x.useContext(px);return t||rt(!1),t}function j$(e){let t=x.useContext(p$);return t||rt(!1),t}function _$(e){let t=x.useContext(qi);return t||rt(!1),t}function NP(e){let t=_$(),n=t.matches[t.matches.length-1];return n.route.id||rt(!1),n.route.id}function C$(){var e;let t=x.useContext(EP),n=j$(Rd.UseRouteError),r=NP(Rd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function E$(){let{router:e}=S$(AP.UseNavigateStable),t=NP(Rd.UseNavigateStable),n=x.useRef(!1);return PP(()=>{n.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vl({fromRouteId:t},a)))},[e,t])}const l1={};function P$(e,t,n){!t&&!l1[e]&&(l1[e]=!0)}function O$(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function TP(e){let{to:t,replace:n,state:r,relative:i}=e;xc()||rt(!1);let{future:a,static:o}=x.useContext(yc),{matches:s}=x.useContext(qi),{pathname:l}=qa(),c=An(),u=_P(t,jP(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Mn(e){rt(!1)}function A$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Oi.Pop,navigator:a,static:o=!1,future:s}=e;xc()&&rt(!1);let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:a,static:o,future:Vl({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=ds(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let y=SP(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:p,key:m},navigationType:i}},[l,u,d,h,p,m,i]);return g==null?null:x.createElement(yc.Provider,{value:c},x.createElement(Yf.Provider,{children:n,value:g}))}function N$(e){let{children:t,location:n}=e;return g$(Bg(t),n)}new Promise(()=>{});function Bg(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Bg(r.props.children,a));return}r.type!==Mn&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bg(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function T$(e,t){let n=Ug(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const I$="6";try{window.__reactRouterVersion=I$}catch{}const D$="startTransition",c1=gC[D$];function R$(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current==null&&(a.current=WL({window:i,v5Compat:!0}));let o=a.current,[s,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(d=>{c&&c1?c1(()=>l(d)):l(d)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>O$(r),[r]),x.createElement(A$,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var u1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(u1||(u1={}));var d1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(d1||(d1={}));function M$(e){let t=x.useRef(Ug(e)),n=x.useRef(!1),r=qa(),i=x.useMemo(()=>T$(r.search,n.current?null:t.current),[r.search]),a=An(),o=x.useCallback((s,l)=>{const c=Ug(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}const IP=x.createContext(void 0),f1="axpro_theme",L$=({children:e})=>{const[t,n]=x.useState(()=>{const s=localStorage.getItem(f1);return s==="light"||s==="dark"?s:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=s=>{n(s),localStorage.setItem(f1,s),a(s)},i=()=>{r(t==="light"?"dark":"light")},a=s=>{document.documentElement.setAttribute("data-theme",s)};x.useEffect(()=>{a(t)},[t]);const o={theme:t,setTheme:r,toggleTheme:i};return f.jsx(IP.Provider,{value:o,children:e})},Va=()=>{const e=x.useContext(IP);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},mx=x.createContext(void 0),h1="axpro_lang",$$={en:{"app.brand":"AX PRO PLATFORM","auth.title.chat":"Sign in","auth.title.admin":"Sign in","auth.subtitle.chat":"Continue to the Chat Interface","auth.subtitle.admin":"Continue to the Administrative Console","auth.email":"Email","auth.password":"Password","auth.continue":"Continue","auth.error":"Invalid credentials. Try the demo accounts.","auth.demoHint":"Demo: demo@tecace.com / demo1234  admin@tecace.com / admin1234","link.toAdmin":"Sign in to the Admin Console","link.toChat":"Use Chat Interface sign-in","ui.theme.light":"Light","ui.theme.dark":"Dark","ui.lang.en":"English","ui.lang.ko":"","chat.title":"Chat Interface","chat.welcome":"Welcome to the chat interface","dashboard.title":"Admin Console","dashboard.welcome":"Welcome to the admin console","auth.signOut":"Sign out","dashboard.timeline":"Performance Timeline","dashboard.activity":"Daily Message Activity","usage.sessions":"Recent Conversations","usage.messages":"Messages","usage.feedback.admin":"Admin Feedback","usage.feedback.user":"User Feedback","mgmt.prompt":"Prompt Control","mgmt.knowledge":"Knowledge Management","actions.new":"New","actions.refresh":"Refresh","actions.save":"Save","actions.revert":"Revert","actions.test":"Test","actions.open":"Open","actions.rename":"Rename","actions.close":"Close","actions.delete":"Delete","filters.status":"Status","filters.search":"Search","labels.title":"Title","labels.lastActivity":"Last activity","labels.count":"Count","labels.status":"Status","context.rename":"Rename","context.reopen":"Reopen","context.close":"Close","context.deletePermanently":"Delete permanently","context.confirmDelete":"Are you sure you want to permanently delete this conversation? This action cannot be undone.","context.confirmDeleteClosed":"Are you sure you want to permanently delete this closed conversation? This action cannot be undone.","context.deleteFailed":"Failed to delete session. Please try again.","ui.user":"User","ui.settings":"Settings","ui.signOut":"Sign Out","ui.demoMode":"Demo Mode","ui.demoModeDescription":"Backend not running. Chat features limited.","ui.newChat":"New Chat","ui.searchConversations":"Search conversations...","ui.all":"All","ui.open":"Open","ui.closed":"Closed","ui.noConversations":"No conversations yet","ui.startConversation":"Start a new conversation to begin chatting","ui.startNewChat":"Start New Chat","ui.backendNote":"Note: Full chat features require backend server","ui.selectConversation":"Select a conversation from the sidebar or start a new chat","ui.newChatTitle":"New Chat","ui.closeChat":"Close Chat","ui.justNow":"Just now","ui.typeMessage":"Type a message... (Enter to send, Shift+Enter for new line)","ui.send":"Send","ui.sending":"Sending...","ui.suggestedQuestions":"Suggested questions","ui.question1":"What is artificial intelligence?","ui.question2":"How does machine learning work?","ui.question3":"Explain quantum computing","ui.question4":"What are the benefits of cloud computing?","admin.performance":"Performance","admin.excellent":"Excellent","admin.good":"Good","admin.fair":"Fair","admin.poor":"Poor","admin.conversations":"Conversations","admin.overview":"Overview","admin.documents":"Documents","admin.navigation":"Navigation","admin.activity":"Activity","admin.feedback":"Feedback","admin.knowledgeBase":"Knowledge Management","admin.satisfaction":"Satisfaction","admin.metrics":"Metrics","admin.recentConversations":"Recent Conversations","admin.userFeedback":"User Feedback","admin.promptControl":"Prompt Control","admin.systemPrompt":"System Prompt Control","admin.lastRefreshed":"Last refreshed","admin.loading":"Loading...","admin.saving":"Saving...","admin.saveChanges":"Save Changes","admin.confirmUpdate":"Confirm Update","admin.confirmUpdateMessage":"This will update the system prompt for the chatbot. Are you sure you would like to proceed?","admin.cancel":"Cancel","admin.confirm":"Confirm","admin.success":"Success","admin.error":"Error","admin.close":"Close","admin.goToChat":"Go to Chat Interface","admin.notifications":"Notifications","admin.toggleTheme":"Toggle theme","admin.userProfile":"User profile","admin.signOut":"Sign out","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"Monitor AI response quality and security performance across 6 key metrics in real-time for optimal user experience","admin.dailyMessageActivity":"Daily Message Activity","admin.moduleControl":"Module Control","admin.relevance":"Relevance","admin.tone":"Tone","admin.length":"Length","admin.accuracy":"Accuracy","admin.toxicity":"Toxicity","admin.promptInjection":"Prompt Injection","admin.contentMatching":"Content Matching","admin.responseStyle":"Response Style","admin.responseSize":"Response Size","admin.correctAnswers":"Correct Answers","admin.safetyCheck":"Safety Check","admin.securityFilter":"Security Filter","admin.performanceTimeline":"Performance Timeline","admin.date":"Date","admin.actual":"Actual","admin.estimated":"Estimated","admin.totalMessages":"Total Messages","admin.userFeedbackCount":"User Feedback","admin.adminReviews":"Admin Reviews","admin.corrected":"Corrected","admin.messages":"Messages","admin.sortBy":"Sort by","admin.search":"Search","admin.exportCSV":"Export CSV","admin.dateTimeNewest":"Date/Time (Newest)","admin.dateTimeOldest":"Date/Time (Oldest)","admin.user":"User","admin.userMessage":"User Message","admin.aiResponse":"AI Response","admin.searchConversations":"Search conversations...","admin.avgPerDay":"avg/day","admin.approval":"Approval","admin.uniqueUsers":"Unique Users","admin.ragManagement":"RAG Management","admin.ragDescription":"Upload and manage documents for the RAG (Retrieval-Augmented Generation) system","admin.uploadingFiles":"Uploading files...","admin.dropFilesHere":"Drop files here to upload","admin.clickToUpload":"Click to upload or drag and drop files","admin.supportedFormats":"Supports PDF, Word, Excel, CSV, TXT, MD, JSON, HTML","admin.uploadResults":"Upload Results","admin.clear":"Clear","admin.uploadedFiles":"Uploaded Files","admin.status.uploading":"Uploading","admin.status.processing":"Processing","admin.status.ready":"Ready","admin.status.error":"Error","admin.removeFile":"Remove file","admin.instructions":"Instructions","admin.instruction1":"Upload documents to enhance the AI's knowledge base","admin.instruction2":"Supported formats: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"Files are automatically processed and vectorized for search","admin.instruction4":"Maximum file size: 10MB per file","admin.searchFiles":"Search files...","admin.name":"Name","admin.size":"Size","admin.reindexFile":"Re-index file","admin.deleteFile":"Delete file","admin.confirmDeleteFile":"Are you sure you want to delete this file?","admin.deleteError":"Failed to delete file","knowledge.title":"Knowledge Management","knowledge.subtitle":"Manage files and knowledge base for AI chatbot","knowledge.note":"Files are stored in the **File Library**, while the **Knowledge Index** holds their searchable content. These can differ. Check the **Sync Overview** tab to see if they're in sync.","knowledge.fileLibrary":"File Library","knowledge.knowledgeIndex":"Knowledge Index","knowledge.syncOverview":"Sync Overview","knowledge.fileLibraryDescription":"Manage files in your library (upload/delete). Knowledge indexing is handled in the next section.","knowledge.knowledgeIndexDescription":"Documents indexed for AI chatbot knowledge queries","knowledge.syncOverviewDescription":"Monitor synchronization status between files and knowledge index","knowledge.dragFilesHere":"Drag text files here to upload or click to select","knowledge.supportedFormats":"Supported formats: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"Uploading files...","knowledge.searchByFilename":"Search by filename...","knowledge.searchByTitleFilepathContent":"Search by title, filepath, or content...","knowledge.refresh":"Refresh","knowledge.loading":"Loading...","knowledge.fileName":"File Name","knowledge.size":"Size","knowledge.lastModified":"Last Modified","knowledge.contentType":"Content Type","knowledge.syncStatus":"Sync Status","knowledge.actions":"Actions","knowledge.documentTitle":"Title","knowledge.parentId":"Parent ID","knowledge.chunkId":"Chunk ID","knowledge.url":"URL","knowledge.sync":"Sync","knowledge.view":"View","knowledge.download":"Download","knowledge.delete":"Delete","knowledge.stop":"Stop","knowledge.previous":"Previous","knowledge.next":"Next","knowledge.synced":"Synced","knowledge.pending":"Pending","knowledge.error":"Error","knowledge.unknown":"Unknown","knowledge.blobStatusLastModified":"Blob Status / Last Modified","knowledge.indexStatusChunks":"Index Status / Chunks"},ko:{"app.brand":"AX PRO ","auth.title.chat":"","auth.title.admin":"","auth.subtitle.chat":"  ","auth.subtitle.admin":"  ","auth.email":"","auth.password":"","auth.continue":"","auth.error":"   .    .","auth.demoHint":": demo@tecace.com / demo1234  admin@tecace.com / admin1234","link.toAdmin":"  ","link.toChat":"  ","ui.theme.light":"","ui.theme.dark":"","ui.lang.en":"","ui.lang.ko":"","chat.title":" ","chat.welcome":"    ","dashboard.title":" ","dashboard.welcome":"    ","auth.signOut":"","dashboard.timeline":" ","dashboard.activity":"  ","usage.sessions":" ","usage.messages":"","usage.feedback.admin":" ","usage.feedback.user":" ","mgmt.prompt":" ","mgmt.knowledge":" ","actions.new":" ","actions.refresh":"","actions.save":"","actions.revert":"","actions.test":"","actions.open":"","actions.rename":" ","actions.close":"","actions.delete":"","filters.status":"","filters.search":"","labels.title":"","labels.lastActivity":" ","labels.count":"","labels.status":"","context.rename":" ","context.reopen":" ","context.close":"","context.deletePermanently":" ","context.confirmDelete":"   ?     .","context.confirmDeleteClosed":"    ?     .","context.deleteFailed":"  .   .","ui.user":"","ui.settings":"","ui.signOut":"","ui.demoMode":" ","ui.demoModeDescription":"  .   .","ui.newChat":" ","ui.searchConversations":" ...","ui.all":"","ui.open":"","ui.closed":"","ui.noConversations":"  ","ui.startConversation":"    ","ui.startNewChat":"  ","ui.backendNote":":      ","ui.selectConversation":"     ","ui.newChatTitle":" ","ui.closeChat":" ","ui.justNow":" ","ui.typeMessage":" ... (Enter , Shift+Enter  )","ui.send":"","ui.sending":" ...","ui.suggestedQuestions":" ","ui.question1":" ?","ui.question2":"  ?","ui.question3":"  ","ui.question4":"   ?","admin.performance":"","admin.excellent":"","admin.good":"","admin.fair":"","admin.poor":"","admin.conversations":"","admin.overview":"","admin.documents":"","admin.navigation":"","admin.activity":"","admin.feedback":"","admin.knowledgeBase":" ","admin.satisfaction":"","admin.metrics":"","admin.recentConversations":" ","admin.userFeedback":" ","admin.promptControl":" ","admin.systemPrompt":"  ","admin.lastRefreshed":" ","admin.loading":" ...","admin.saving":" ...","admin.saveChanges":" ","admin.confirmUpdate":" ","admin.confirmUpdateMessage":"   . ?","admin.cancel":"","admin.confirm":"","admin.success":"","admin.error":"","admin.close":"","admin.goToChat":"  ","admin.notifications":"","admin.toggleTheme":" ","admin.userProfile":" ","admin.signOut":"","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"AI     6        ","admin.dailyMessageActivity":"  ","admin.moduleControl":" ","admin.relevance":"","admin.tone":"","admin.length":"","admin.accuracy":"","admin.toxicity":"","admin.promptInjection":" ","admin.contentMatching":" ","admin.responseStyle":" ","admin.responseSize":" ","admin.correctAnswers":"","admin.safetyCheck":" ","admin.securityFilter":" ","admin.performanceTimeline":" ","admin.date":"","admin.actual":"","admin.estimated":"","admin.totalMessages":" ","admin.userFeedbackCount":" ","admin.adminReviews":" ","admin.corrected":"","admin.messages":"","admin.sortBy":"","admin.search":"","admin.exportCSV":"CSV ","admin.dateTimeNewest":"/ ()","admin.dateTimeOldest":"/ ()","admin.user":"","admin.userMessage":" ","admin.aiResponse":"AI ","admin.searchConversations":" ...","admin.avgPerDay":"","admin.approval":"","admin.uniqueUsers":" ","admin.ragManagement":"RAG ","admin.ragDescription":"RAG (  )      ","admin.uploadingFiles":"  ...","admin.dropFilesHere":"   ","admin.clickToUpload":"     ","admin.supportedFormats":"PDF, Word, Excel, CSV, TXT, MD, JSON, HTML ","admin.uploadResults":" ","admin.clear":"","admin.uploadedFiles":" ","admin.status.uploading":" ","admin.status.processing":" ","admin.status.ready":"","admin.status.error":"","admin.removeFile":" ","admin.instructions":" ","admin.instruction1":"AI      ","admin.instruction2":" : PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"     ","admin.instruction4":"  :  10MB","admin.searchFiles":" ...","admin.name":"","admin.size":"","admin.reindexFile":" ","admin.deleteFile":" ","admin.confirmDeleteFile":"  ?","admin.deleteError":"  ","knowledge.title":" ","knowledge.subtitle":"AI       ","knowledge.note":" ** ** , ** **    .     . ** **    .","knowledge.fileLibrary":" ","knowledge.knowledgeIndex":" ","knowledge.syncOverview":" ","knowledge.fileLibraryDescription":"   (/).     .","knowledge.knowledgeIndexDescription":"AI      ","knowledge.syncOverviewDescription":"      ","knowledge.dragFilesHere":"      ","knowledge.supportedFormats":" : .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"  ...","knowledge.searchByFilename":" ...","knowledge.searchByTitleFilepathContent":",     ...","knowledge.refresh":"","knowledge.loading":" ...","knowledge.fileName":"","knowledge.size":"","knowledge.lastModified":" ","knowledge.contentType":" ","knowledge.syncStatus":" ","knowledge.actions":"","knowledge.documentTitle":"","knowledge.parentId":" ID","knowledge.chunkId":" ID","knowledge.url":"URL","knowledge.sync":"","knowledge.view":"","knowledge.download":"","knowledge.delete":"","knowledge.stop":"","knowledge.previous":"","knowledge.next":"","knowledge.synced":"","knowledge.pending":" ","knowledge.error":"","knowledge.unknown":"  ","knowledge.blobStatusLastModified":"Blob  /  ","knowledge.indexStatusChunks":"  / "}},F$=({children:e})=>{const[t,n]=x.useState(()=>{const o=localStorage.getItem(h1);return o==="en"||o==="ko"?o:"en"}),a={language:t,setLanguage:o=>{n(o),localStorage.setItem(h1,o)},t:o=>$$[t][o]||o};return f.jsx(mx.Provider,{value:a,children:e})},bc=()=>{const e=x.useContext(mx);if(e===void 0)throw new Error("useT must be used within an I18nProvider");return e.t},Ge=()=>{const e=x.useContext(mx);if(e===void 0)throw new Error("useTranslation must be used within an I18nProvider");return e},z$={"chatbot-admin@tecace.com":{password:"admin1234",role:"admin",userId:"409esj1923"},"chatbot-user@tecace.com":{password:"user1234",role:"user",userId:"user123456"}},gx="axpro_session",Wg=(e,t)=>{const n=e.toLowerCase().trim(),r=z$[n];if(!r||r.password!==t)return null;const i={email:n,userId:r.userId,role:r.role,createdAt:Date.now()};try{return sessionStorage.setItem(gx,JSON.stringify(i)),i}catch(a){return console.error("Failed to store session:",a),null}},Gl=()=>{try{sessionStorage.removeItem(gx)}catch(e){console.error("Failed to clear session:",e)}},Tr=()=>{try{const e=sessionStorage.getItem(gx);if(!e)return null;const t=JSON.parse(e);return!t.email||!t.userId||!t.role||!t.createdAt?(Gl(),null):t}catch(e){return console.error("Failed to retrieve session:",e),Gl(),null}},DP=e=>{const t=Tr();return t?e==="admin"?t.role==="admin":!0:!1},B$=()=>{const[e,t]=Fi.useState(null);return Fi.useEffect(()=>{t(Tr())},[]),{session:e,login:(a,o)=>{const s=Wg(a,o);return t(s),s},logout:()=>{Gl(),t(null)},isAuthedFor:a=>DP(a)}},RP="http://localhost:3000/api";class ed extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}async function jr(e,t={}){const n=`${RP}${e}`;try{const r=await fetch(n,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){const i=await r.json().catch(()=>({}));throw new ed(r.status,i.error||"Request failed")}return r.json()}catch(r){throw r instanceof ed?r:new ed(0,`Network error: ${r instanceof Error?r.message:"Unknown error"}`)}}const Kg={async demoLogin(e,t){return jr("/auth/demo-login",{method:"POST",body:JSON.stringify({email:e,password:t})})},async getMe(){return jr("/auth/me")},async logout(){return jr("/auth/logout",{method:"POST"})}},mu={async list(e=20,t){const n=new URLSearchParams({limit:e.toString()});return t&&n.append("cursor",t),jr(`/sessions?${n}`)},async create(e){return jr("/sessions",{method:"POST",body:JSON.stringify({title:e})})},async get(e){return jr(`/sessions/${e}`)},async update(e,t){return jr(`/sessions/${e}`,{method:"PATCH",body:JSON.stringify(t)})},async delete(e){return jr(`/sessions/${e}`,{method:"DELETE"})}},Kp={async list(e,t=50,n,r="older"){const i=new URLSearchParams({limit:t.toString(),direction:r});return n&&i.append("cursor",n),jr(`/sessions/${e}/messages?${i}`)},async send(e,t,n=!1){if(n){const r=await fetch(`${RP}/sessions/${e}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,stream:!0})});if(!r.ok)throw new ed(r.status,"Stream request failed");return r}else return jr(`/sessions/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,stream:!1})})}},Hr=async()=>(console.log("Backend check: No backend API server, using local storage"),!1),U$=()=>{const e=localStorage.getItem("axpro_n8n_webhook_url"),t=localStorage.getItem("axpro_n8n_configs");if(t)try{const n=JSON.parse(t);if(Array.isArray(n)&&n.length>0&&n[0].webhookUrl)return console.log("n8n webhook check: Configured (multi-config)"),!0}catch(n){console.error("Failed to parse n8n configs:",n)}return e&&e.trim()?(console.log("n8n webhook check: Configured (legacy)"),!0):(console.log("n8n webhook check: Not configured"),!1)},W$=()=>{const e=An(),{theme:t,toggleTheme:n}=Va(),{language:r,setLanguage:i,t:a}=Ge(),[o,s]=x.useState({email:"",password:""}),[l,c]=x.useState(null),[u,d]=x.useState(!1),[h,p]=x.useState("checking");Fi.useEffect(()=>{const y=Tr();y&&(y.role==="admin"?e("/admin/dashboard"):e("/chat"))},[e]),Fi.useEffect(()=>{(async()=>{const v=await Hr();p(v?"available":"unavailable")})()},[]);const m=y=>{const{name:v,value:b}=y.target;s(w=>({...w,[v]:b})),l&&c(null)},g=async y=>{y.preventDefault(),d(!0),c(null);try{await Kg.demoLogin(o.email,o.password);const v=Wg(o.email,o.password);v?v.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}catch(v){console.log("Backend API failed, trying local auth:",v);const b=Wg(o.email,o.password);b?b.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}finally{d(!1)}};return f.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[f.jsxs("div",{className:"flex justify-between items-center p-4",children:[f.jsx("div",{className:"text-xs uppercase tracking-wider",style:{color:"var(--text-muted)"},children:a("app.brand")}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:a(t==="light"?"ui.theme.dark":"ui.theme.light")}),f.jsxs("select",{value:r,onChange:y=>i(y.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:"en",children:a("ui.lang.en")}),f.jsx("option",{value:"ko",children:a("ui.lang.ko")})]})]})]}),f.jsx("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-3xl font-light",style:{color:"var(--text)"},children:a("auth.title.chat")}),f.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:a("auth.subtitle.chat")})]}),f.jsx("form",{className:"mt-8 space-y-6",onSubmit:g,children:f.jsxs("div",{className:"card py-8 px-6 rounded-lg",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.email")}),f.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.email")})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.password")}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o.password,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.password")})]})]}),l&&f.jsxs("div",{className:"mt-4 p-3 rounded-md error",children:[f.jsx("p",{className:"text-sm",children:l}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:a("auth.demoHint")})]}),f.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full mt-6 flex justify-center py-2 px-4 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":a("auth.continue")})]})}),h==="unavailable"&&f.jsx("div",{className:"card rounded-md p-3 mb-4",style:{backgroundColor:"var(--warning-light)"},children:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{children:""}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Backend not running"}),f.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Using local authentication. Run ",f.jsx("code",{children:"npm run dev:server"})," for full features."]})]})]})}),f.jsxs("div",{className:"card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:[f.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Demo Credentials (Click to auto-fill)"}),f.jsxs("div",{className:"space-y-2 text-xs",children:[f.jsx("button",{onClick:()=>{s({email:"chatbot-user@tecace.com",password:"user1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:" Regular User"}),f.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-user@tecace.com"})]}),f.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:" Chat Interface"})]})}),f.jsx("button",{onClick:()=>{s({email:"chatbot-admin@tecace.com",password:"admin1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:" Admin User"}),f.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-admin@tecace.com"})]}),f.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:" Admin Dashboard"})]})})]})]})]})})]})},K$=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=An(),s=async()=>{try{if(r(!0),a(null),await Hr()){const m=await mu.list();t(m)}else{const m=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");t(m)}}catch(p){a(p instanceof Error?p.message:"Failed to fetch sessions")}finally{r(!1)}},l=async p=>{try{console.log("Creating new session...");const m=await Hr();if(console.log("Backend available:",m),m){console.log("Using backend API for session creation");const{id:g}=await mu.create(p);return await s(),o(`/chat/${g}`),g}else{console.log("Using simulation mode for session creation");const g=`sim_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:g,title:p||"New Chat",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");return v.push(y),localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),await s(),o(`/chat/${g}`),g}}catch(m){throw a(m instanceof Error?m.message:"Failed to create session"),m}},c=async(p,m)=>{try{if(await Hr())await mu.update(p,m);else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),v=y.findIndex(b=>b.id===p);v!==-1&&(y[v]={...y[v],...m,updatedAt:new Date().toISOString()},localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)))}await s()}catch(g){throw a(g instanceof Error?g.message:"Failed to update session"),g}},u=async p=>{try{console.log("deleteSession called with id:",p);const m=await Hr();if(console.log("Backend available:",m),m)console.log("Deleting via backend API"),await mu.delete(p);else{console.log("Deleting from localStorage");const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");console.log("Current sessions before delete:",y.length);const v=y.filter(b=>b.id!==p);console.log("Sessions after delete:",v.length),localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),localStorage.removeItem(`axpro_sim_messages_${p}`),console.log("Deleted associated messages for session:",p)}console.log("Refreshing sessions list"),await s();const g=e.filter(y=>y.id!==p);console.log("Remaining sessions:",g.length),g.length>0?o(`/chat/${g[0].id}`):o("/chat"),console.log("Delete session completed successfully")}catch(m){throw console.error("Error in deleteSession:",m),a(m instanceof Error?m.message:"Failed to delete session"),m}},d=async p=>{await c(p,{status:"closed"})},h=async p=>{await c(p,{status:"open"})};return x.useEffect(()=>{s()},[]),{sessions:e,loading:n,error:i,createSession:l,updateSession:c,deleteSession:u,closeSession:d,reopenSession:h,refresh:s}},H$=({session:e,isActive:t,onClick:n,updateSession:r,deleteSession:i,closeSession:a,reopenSession:o})=>{var S;const s=bc(),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[h,p]=x.useState(e.title||""),m=x.useRef(null),g=j=>{j.preventDefault(),j.stopPropagation(),c(!l)},y=async()=>{if(h.trim()&&h!==e.title)try{await r(e.id,{title:h.trim()})}catch(j){console.error("Failed to rename session:",j)}d(!1),c(!1)},v=async()=>{try{e.status==="closed"?await o(e.id):await a(e.id)}catch(j){console.error("Failed to toggle session status:",j)}c(!1)},b=async()=>{const j=e.status==="closed"?s("context.confirmDeleteClosed"):s("context.confirmDelete");if(window.confirm(j))try{console.log("Deleting session:",e.id),await i(e.id),console.log("Session deleted successfully")}catch(k){console.error("Failed to permanently delete session:",k),alert(s("context.deleteFailed"))}c(!1)};x.useEffect(()=>{const j=k=>{m.current&&!m.current.contains(k.target)&&c(!1)};return l&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[l]);const w=j=>{const k=new Date(j),N=(new Date().getTime()-k.getTime())/(1e3*60*60);return N<1?s("ui.justNow"):N<24?`${Math.floor(N)}h ago`:N<168?`${Math.floor(N/24)}d ago`:k.toLocaleDateString()};return f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:`p-3 cursor-pointer transition-colors group ${t?"bg-gray-100 border-r-2 border-gray-400":"hover:bg-gray-50"}`,style:{backgroundColor:t?"var(--primary-light)":void 0,borderRightColor:t?"var(--text)":void 0},onClick:n,onContextMenu:g,children:u?f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),onKeyDown:j=>{j.key==="Enter"&&y(),j.key==="Escape"&&(d(!1),p(e.title||""))},className:"input w-full px-2 py-1 text-sm",autoFocus:!0}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:y,className:"text-xs px-2 py-1 rounded bg-blue-500 text-white",children:"Save"}),f.jsx("button",{onClick:()=>{d(!1),p(e.title||"")},className:"text-xs px-2 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Cancel"})]})]}):f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h3",{className:`text-sm font-medium truncate ${e.status==="closed"?"opacity-60":""}`,style:{color:"var(--text)"},children:e.title||s("ui.newChatTitle")}),e.status==="closed"&&f.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:""})]}),e.lastMessage&&f.jsxs("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-secondary)"},children:[e.lastMessage.role==="user"?"You: ":"Assistant: ",e.lastMessage.content]})]}),f.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[f.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:w(((S=e.lastMessage)==null?void 0:S.createdAt)||e.updatedAt)}),f.jsx("button",{onClick:g,className:"opacity-0 group-hover:opacity-100 text-xs px-1 py-1 rounded hover:bg-gray-200",style:{color:"var(--text-muted)"},children:""})]})]})})}),l&&!u&&f.jsx("div",{ref:m,className:"absolute right-0 top-0 z-20 w-48 card rounded-md shadow-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},onClick:j=>j.stopPropagation(),children:f.jsxs("div",{className:"py-1",children:[f.jsxs("button",{onClick:j=>{j.stopPropagation(),d(!0),c(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:[" ",s("context.rename")]}),f.jsx("button",{onClick:j=>{j.stopPropagation(),v()},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:e.status==="closed"?` ${s("context.reopen")}`:` ${s("context.close")}`}),f.jsx("hr",{className:"my-1",style:{borderColor:"var(--border)"}}),f.jsxs("button",{onClick:j=>{j.stopPropagation(),b()},className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50",style:{color:"var(--error)"},children:[" ",s("context.deletePermanently")]})]})})]})},q$=()=>{const e=An(),{sessionId:t}=OP(),{sessions:n,loading:r,createSession:i,refresh:a,updateSession:o,deleteSession:s,closeSession:l,reopenSession:c}=K$(),u=bc(),[d,h]=x.useState(""),[p,m]=x.useState("all"),g=n.filter(v=>{var S,j;const b=!d||((S=v.title)==null?void 0:S.toLowerCase().includes(d.toLowerCase()))||((j=v.lastMessage)==null?void 0:j.content.toLowerCase().includes(d.toLowerCase())),w=p==="all"||v.status===p;return b&&w}),y=async()=>{try{await i()}catch(v){console.error("Failed to create new chat:",v)}};return x.useEffect(()=>{const v=b=>{(b.metaKey||b.ctrlKey)&&b.key==="n"&&(b.preventDefault(),y())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),x.useEffect(()=>{const v=()=>{a()};return window.addEventListener("sessionUpdated",v),()=>window.removeEventListener("sessionUpdated",v)},[a]),r?f.jsx("div",{className:"p-4",children:f.jsxs("div",{className:"animate-pulse space-y-3",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),f.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})}):f.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[f.jsxs("div",{className:"p-4 space-y-3 flex-shrink-0",children:[f.jsxs("button",{onClick:y,className:"w-full btn-primary py-2 px-4 rounded-md text-sm font-medium",title:"Create new chat (N or Ctrl+N)",children:["+ ",u("ui.newChat")]}),f.jsx("input",{type:"text",placeholder:u("ui.searchConversations"),value:d,onChange:v=>h(v.target.value),className:"input w-full px-3 py-2 rounded-md text-sm"})]}),f.jsx("div",{className:"px-4 pb-2 flex-shrink-0",children:f.jsx("div",{className:"flex space-x-1",children:["all","open","closed"].map(v=>f.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 text-xs rounded-md transition-colors ${p===v?"text-white":"text-gray-600 hover:text-gray-900"}`,style:{backgroundColor:p===v?"var(--text)":"transparent",color:p===v?"var(--bg)":"var(--text-secondary)"},children:u(v==="all"?"ui.all":v==="open"?"ui.open":"ui.closed")},v))})}),f.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:g.length===0?f.jsx("div",{className:"p-4 text-center",children:d?f.jsxs("div",{children:[f.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:u("ui.noConversations")}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Try a different search term"})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"text-4xl mb-2",children:""}),f.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text)"},children:u("ui.noConversations")}),f.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:u("ui.startConversation")}),f.jsx("button",{onClick:y,className:"btn-primary px-4 py-2 text-sm rounded-md",children:u("ui.startNewChat")}),f.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:u("ui.backendNote")})]})}):f.jsx("div",{className:"space-y-1 p-2",children:g.map(v=>f.jsx(H$,{session:v,isActive:t===v.id,onClick:()=>e(`/chat/${v.id}`),updateSession:o,deleteSession:s,closeSession:l,reopenSession:c},v.id))})})]})},V$="modulepreload",G$=function(e){return"/"+e},p1={},fs=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=G$(a),a in p1)return;p1[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===a&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":V$,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Hg="axpro_n8n_configs",Jf="axpro_active_n8n_config",ya={id:"default",name:"Default n8n Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},wc=()=>{try{const e=localStorage.getItem(Hg);if(!e){const n=[ya];return localStorage.setItem(Hg,JSON.stringify(n)),localStorage.setItem(Jf,ya.id),console.log("Initialized with default n8n config:",ya),n}const t=JSON.parse(e);return console.log("Loaded n8n configs from localStorage:",t),t}catch(e){return console.error("Failed to get n8n configs:",e),[ya]}},vx=e=>{try{localStorage.setItem(Hg,JSON.stringify(e))}catch(t){console.error("Failed to save n8n configs:",t)}},MP=()=>{try{const e=localStorage.getItem(Jf);if(console.log("Active n8n config ID:",e),!e)return console.log("No active ID, using default config"),ya;const t=wc();console.log("Available n8n configs:",t);const n=t.find(r=>r.id===e)||ya;return console.log("Selected active config:",n),n}catch(e){return console.error("Failed to get active n8n config:",e),ya}},LP=e=>{try{localStorage.setItem(Jf,e)}catch(t){console.error("Failed to set active n8n config:",t)}},Y$=e=>{const t={...e,id:`n8n_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=wc();return n.push(t),vx(n),t},J$=(e,t)=>{const n=wc(),r=n.findIndex(i=>i.id===e);return r===-1?null:(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},vx(n),n[r])},Q$=e=>{const t=wc(),n=t.filter(i=>i.id!==e);return n.length===t.length?!1:(vx(n),localStorage.getItem(Jf)===e&&n.length>0&&LP(n[0].id),!0)},X$=async e=>{const t=MP();if(console.log("Sending to n8n with config:",t),console.log("Request payload:",e),!t)throw new Error("No active n8n configuration found");try{console.log("Making request to:",t.webhookUrl),console.log("Request payload:",JSON.stringify(e));const n=new AbortController,r=setTimeout(()=>{console.log("n8n webhook request timed out after 30 seconds"),n.abort()},3e4),i=await fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e),signal:n.signal});clearTimeout(r),console.log("Response status:",i.status),console.log("Response headers:",i.headers);const a=await i.text();if(console.log("=== N8N WEBHOOK DEBUG ==="),console.log("Response status:",i.status),console.log("Response ok:",i.ok),console.log("Raw response text length:",a.length),console.log("Raw response text:",a),console.log("Response text trimmed:",a.trim()),console.log("Is empty?",!a||a.trim()===""),console.log("Response URL:",i.url),console.log("Response headers:",Object.fromEntries(i.headers.entries())),console.log("========================"),a.includes("No response from webhook")&&(console.error("ERROR: Webhook returned error message instead of actual response!"),console.error("This suggests the workflow is not properly configured or is returning an error.")),!i.ok)throw console.error("Response error:",a),new Error(`HTTP error! status: ${i.status}, message: ${a}`);if(!a||a.trim()==="")throw console.warn("Empty response from webhook"),new Error("Empty response from webhook. Please check your workflow configuration.");let o;try{o=JSON.parse(a)}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Response text was:",a),new Error(`Invalid JSON response from n8n: ${a.substring(0,100)}...`)}console.log("n8n response:",o),console.log("n8n response type:",typeof o),console.log("n8n response is array:",Array.isArray(o));let s;if(Array.isArray(o))s=o[0],console.log("n8n array response data:",s);else if(o&&typeof o=="object")s=o,console.log("n8n object response data:",s);else throw new Error("Unexpected response format from n8n webhook");if(console.log("n8n responseData:",s),console.log("n8n responseData.answer:",s==null?void 0:s.answer),console.log("n8n responseData.answer type:",typeof(s==null?void 0:s.answer)),s&&s.answer&&s.answer.includes("No response from webhook"))throw console.error("Webhook returned error message:",s.answer),new Error("Webhook returned error: "+s.answer);if(s&&typeof s=="string"&&s.includes("No response from webhook"))throw console.error("Webhook returned error message as string:",s),new Error("Webhook returned error: "+s);if(s&&typeof s=="object"){const l=JSON.stringify(s);if(l.includes("No response from webhook"))throw console.error("Webhook returned error message in object:",s),new Error("Webhook returned error: "+l)}return s}catch(n){throw console.error("Failed to send to n8n:",n),n.name==="AbortError"?new Error("Webhook request timed out after 30 seconds"):n.name==="TypeError"&&n.message.includes("fetch")?new Error("Network error: Unable to reach webhook"):n}},Z$=async e=>{try{const t={sessionId:"test-session",chatId:"test-chat-"+Date.now(),userId:"test-user",action:"sendMessage",chatInput:"Test connection"};return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch(t){return console.error("Failed to test n8n connection:",t),!1}};class e4{constructor(t){Qc(this,"reader");this.reader=t.body.getReader()}async*read(){const t=new TextDecoder;let n="";try{for(;;){const{done:r,value:i}=await this.reader.read();if(r)break;n+=t.decode(i,{stream:!0});const a=n.split(`
`);n=a.pop()||"";for(const o of a)if(o.startsWith("data: ")){const s=o.slice(6);if(s==="[DONE]")return;try{yield JSON.parse(s)}catch{console.warn("Failed to parse SSE data:",s)}}}}finally{this.reader.releaseLock()}}}const m1={async sendMessage(e,t,n){const r=await Hr();if(console.log("Backend available:",r),r)if(n){const i=await Kp.send(e,t,!0),a=new e4(i);let o="",s=[];for await(const l of a.read())n(l),l.type==="final"&&(o=l.messageId||"",s=l.citations||[]);return{messageId:o,citations:s}}else{const i=await Kp.send(e,t,!1);return{messageId:i.messageId||`backend_${Date.now()}`,citations:i.citations||[]}}else{console.log("Backend unavailable, trying n8n...");const i=U$(),a=MP();if(console.log("n8n webhook available:",i),console.log("Active n8n config:",a),i&&a&&a.webhookUrl){console.log("Using n8n webhook:",a.webhookUrl);try{const c=Tr(),u=`chat_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,d={sessionId:e,chatId:u,userId:(c==null?void 0:c.userId)||"unknown",action:"sendMessage",chatInput:t};console.log("=== CHAT SERVICE DEBUG ==="),console.log("Sending request to n8n:",d);const h=await X$(d);if(console.log("n8n response received successfully:",h),console.log("Response type:",typeof h),console.log("Response has answer?",!!(h!=null&&h.answer)),console.log("Response answer:",h==null?void 0:h.answer),console.log("=========================="),!h||!h.answer)throw console.error("Invalid webhook response:",h),new Error("Invalid response from webhook");if(n){const p=h.answer;console.log("Streaming answer text:",p);const m=p.split(" ");for(let g=0;g<m.length;g++)n({type:"delta",text:m[g]+(g<m.length-1?" ":"")}),await new Promise(y=>setTimeout(y,50));n({type:"final",messageId:u,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:u,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]})}return{messageId:u,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:u,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]}}catch(c){console.error("Failed to send to n8n:",c),console.log("n8n failed, falling back to simulation")}}else console.log("No n8n config found or webhook URL missing, falling back to simulation"),console.log("n8n config was:",a);console.log("Falling back to simulation");const s=(await fs(()=>import("./simulation-ee6eb0cb.js"),[])).generateSimulatedResponse(t),l=s.reply;if(n){const c=l.split(" ");for(let u=0;u<c.length;u++)n({type:"delta",text:c[u]+(u<c.length-1?" ":"")}),await new Promise(d=>setTimeout(d,50));n({type:"final",messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((u,d)=>({id:`sim_citation_${Date.now()}_${d}`,messageId:`sim_${Date.now()}`,sourceType:u.sourceType,title:u.title,snippet:u.snippet,sourceId:u.sourceId||`sim_${Date.now()}`,metadata:{}}))})}return{messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((c,u)=>({id:`sim_citation_${Date.now()}_${u}`,messageId:`sim_${Date.now()}`,sourceType:c.sourceType,title:c.title,snippet:c.snippet,sourceId:c.sourceId||`sim_${Date.now()}`,metadata:{}}))}}},async getMessages(e,t=50,n,r="older"){return await Hr()?await Kp.list(e,t,n,r):JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]")}},t4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fs(()=>Promise.resolve().then(()=>hs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class yx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class g1 extends yx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class v1 extends yx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class y1 extends yx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qg||(qg={}));var n4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class r4{constructor(t,{headers:n={},customFetch:r,region:i=qg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=t4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return n4(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:s,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const d=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new g1(v)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new v1(p);if(!p.ok)throw new y1(p);let g=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield p.json():g==="application/octet-stream"?y=yield p.blob():g==="text/event-stream"?y=p:g==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new g1(a)}:{data:null,error:a,response:a instanceof y1||a instanceof v1?a.context:void 0}}})}}var Qt={},xx={},Qf={},kc={},Xf={},Zf={},i4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ho=i4();const a4=Ho.fetch,$P=Ho.fetch.bind(Ho),FP=Ho.Headers,o4=Ho.Request,s4=Ho.Response,hs=Object.freeze(Object.defineProperty({__proto__:null,Headers:FP,Request:o4,Response:s4,default:$P,fetch:a4},Symbol.toStringTag,{value:"Module"})),l4=vR(hs);var eh={};Object.defineProperty(eh,"__esModule",{value:!0});let c4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};eh.default=c4;var zP=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zf,"__esModule",{value:!0});const u4=zP(l4),d4=zP(eh);let f4=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=u4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,c;let u=null,d=null,h=null,p=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=b:d=JSON.parse(b))}const y=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(d=[],u=null,p=200,m="OK")}catch{a.status===404&&y===""?(p=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new d4.default(u)}return{error:u,data:d,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Zf.default=f4;var h4=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xf,"__esModule",{value:!0});const p4=h4(Zf);let m4=class extends p4.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Xf.default=m4;var g4=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kc,"__esModule",{value:!0});const v4=g4(Xf);let y4=class extends v4.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};kc.default=y4;var x4=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qf,"__esModule",{value:!0});const Ws=x4(kc);let b4=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},a=r?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",s),i&&this.headers.append("Prefer",`count=${i}`),new Ws.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ws.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ws.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ws.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Qf.default=b4;var BP=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xx,"__esModule",{value:!0});const w4=BP(Qf),k4=BP(kc);let S4=class UP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new w4.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new UP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(s="POST",c=n);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new k4.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};xx.default=S4;var ps=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.PostgrestError=Qt.PostgrestBuilder=Qt.PostgrestTransformBuilder=Qt.PostgrestFilterBuilder=Qt.PostgrestQueryBuilder=Qt.PostgrestClient=void 0;const WP=ps(xx);Qt.PostgrestClient=WP.default;const KP=ps(Qf);Qt.PostgrestQueryBuilder=KP.default;const HP=ps(kc);Qt.PostgrestFilterBuilder=HP.default;const qP=ps(Xf);Qt.PostgrestTransformBuilder=qP.default;const VP=ps(Zf);Qt.PostgrestBuilder=VP.default;const GP=ps(eh);Qt.PostgrestError=GP.default;var j4=Qt.default={PostgrestClient:WP.default,PostgrestQueryBuilder:KP.default,PostgrestFilterBuilder:HP.default,PostgrestTransformBuilder:qP.default,PostgrestBuilder:VP.default,PostgrestError:GP.default};const{PostgrestClient:_4,PostgrestQueryBuilder:Qle,PostgrestFilterBuilder:Xle,PostgrestTransformBuilder:Zle,PostgrestBuilder:ece,PostgrestError:tce}=j4;class C4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const E4="2.75.0",P4=`realtime-js/${E4}`,O4="1.0.0",Vg=1e4,A4=1e3,N4=100;var xl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xl||(xl={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var rr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rr||(rr={}));var Gg;(function(e){e.websocket="websocket"})(Gg||(Gg={}));var fa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fa||(fa={}));class T4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class YP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const x1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=I4(o,e,t,i),a),{}):{}},I4=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?JP(a,o):Yg(o)},JP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return L4(t,n)}switch(e){case De.bool:return D4(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return R4(t);case De.json:case De.jsonb:return M4(t);case De.timestamp:return $4(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return Yg(t);default:return Yg(t)}},Yg=e=>e,D4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},R4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},M4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},L4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>JP(t,s))}return e},$4=e=>typeof e=="string"?e.replace(" ","T"):e,QP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hp{constructor(t,n,r={},i=Vg){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var b1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(b1||(b1={}));class bl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=bl.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bl.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=a[c];if(d){const h=u.map(y=>y.presence_ref),p=d.map(y=>y.presence_ref),m=u.filter(y=>p.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[c]=m),g.length>0&&(l[c]=g)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const d=t[s].map(p=>p.presence_ref),h=u.filter(p=>d.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(w1||(w1={}));var wl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wl||(wl={}));var zr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zr||(zr={}));class bx{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hp(this,rr.join,this.params,this.timeout),this.rejoinTimer=new YP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rr.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new bl(this),this.broadcastEndpointURL=QP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[wl.PRESENCE]&&this.bindings[wl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(zr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(zr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(zr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:S,schema:j,table:k,filter:_}}=w,N=p&&p[b];if(N&&N.event===S&&N.schema===j&&N.table===k&&N.filter===_)v.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=st.errored,t==null||t(zr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(zr.SUBSCRIBED);return}}).receive("error",p=>{this.state=st.errored,t==null||t(zr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===st.joined&&t===wl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Hp(this,rr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>N4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=rr;if(r&&[s,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,g,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&bx.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rr.close,{},t)}_onError(t){this._on(rr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=x1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=x1(t.columns,t.old_record)),n}}const qp=()=>{},gu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},F4=[1e3,2e3,5e3,1e4],z4=1e4,B4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vg,this.transport=null,this.heartbeatIntervalMs=gu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qp,this.ref=0,this.reconnectTimer=null,this.logger=qp,this.conn=null,this.sendBuffer=[],this.serializer=new T4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>fs(()=>Promise.resolve().then(()=>hs),void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Gg.websocket}`,this.httpEndpoint=QP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=C4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:O4}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return fa.Connecting;case xl.open:return fa.Open;case xl.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new bx(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(A4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},gu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([B4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:P4};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(rr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new YP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Vg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:gu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:qp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>F4[d-1]||z4,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class wx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class W4 extends wx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jg extends wx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var K4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const XP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fs(()=>Promise.resolve().then(()=>hs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},H4=()=>K4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>hs),void 0)).Response:Response}),Qg=e=>{if(Array.isArray(e))return e.map(n=>Qg(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Qg(r)}),t},q4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ga=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const Vp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V4=(e,t,n)=>Ga(void 0,void 0,void 0,function*(){const r=yield H4();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new W4(Vp(i),a,o))}).catch(i=>{t(new Jg(Vp(i),i))}):t(new Jg(Vp(e),e))}),G4=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(q4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Sc(e,t,n,r,i,a){return Ga(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,G4(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>V4(l,s,r))})})}function Md(e,t,n,r){return Ga(this,void 0,void 0,function*(){return Sc(e,"GET",t,n,r)})}function wr(e,t,n,r,i){return Ga(this,void 0,void 0,function*(){return Sc(e,"POST",t,r,i,n)})}function Xg(e,t,n,r,i){return Ga(this,void 0,void 0,function*(){return Sc(e,"PUT",t,r,i,n)})}function Y4(e,t,n,r){return Ga(this,void 0,void 0,function*(){return Sc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ZP(e,t,n,r,i){return Ga(this,void 0,void 0,function*(){return Sc(e,"DELETE",t,r,i,n)})}var J4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class Q4{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return J4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}}var X4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class Z4{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new Q4(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return X4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}}var qt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const eF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tF{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=XP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return qt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},k1),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(t=="PUT"?Xg:wr)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:k1.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield Xg(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return qt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield wr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new wx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}update(t,n,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield wr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qt(this,void 0,void 0,function*(){try{const i=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Md(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new Z4(l,this.shouldThrowOnError)}info(t){return qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Md(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qg(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}exists(t){return qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Y4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r)&&r instanceof Jg){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}remove(t){return qt(this,void 0,void 0,function*(){try{return{data:yield ZP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}list(t,n,r){return qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},eF),n),{prefix:t||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}listV2(t,n){return qt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield wr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const nF="2.75.0",rF={"X-Client-Info":`storage-js/${nF}`};var no=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class iF{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rF),n),this.fetch=XP(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return no(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}getBucket(t){return no(this,void 0,void 0,function*(){try{return{data:yield Md(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}createBucket(t){return no(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return no(this,void 0,void 0,function*(){try{return{data:yield Xg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return no(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return no(this,void 0,void 0,function*(){try{return{data:yield ZP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}}class aF extends iF{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new tF(this.url,this.headers,t,this.fetch)}}const oF="2.75.0";let sl="";typeof Deno<"u"?sl="deno":typeof document<"u"?sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sl="react-native":sl="node";const sF={"X-Client-Info":`supabase-js-${sl}/${oF}`},lF={headers:sF},cF={schema:"public"},uF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dF={};var fF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const hF=e=>{let t;return e?t=e:typeof fetch>"u"?t=$P:t=fetch,(...n)=>t(...n)},pF=()=>typeof Headers>"u"?FP:Headers,mF=(e,t,n)=>{const r=hF(n),i=pF();return(a,o)=>fF(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:c}))})};var gF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function vF(e){return e.endsWith("/")?e:e+"/"}function yF(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),s),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>gF(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function xF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const eO="2.75.0",uo=30*1e3,Zg=3,Gp=Zg*uo,bF="http://localhost:9999",wF="supabase.auth.token",kF={"X-Client-Info":`gotrue-js/${eO}`},ev="X-Supabase-Api-Version",tO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jF=10*60*1e3;class Yl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _F extends Yl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function CF(e){return se(e)&&e.name==="AuthApiError"}class ha extends Yl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Vi extends Yl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class yi extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EF(e){return se(e)&&e.name==="AuthSessionMissingError"}class ro extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vu extends Vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yu extends Vi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function PF(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class S1 extends Vi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tv extends Vi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yp(e){return se(e)&&e.name==="AuthRetryableFetchError"}class j1 extends Vi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nv extends Vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_1=` 	
\r=`.split(""),OF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_1.length;t+=1)e[_1[t].charCodeAt(0)]=-2;for(let t=0;t<Ld.length;t+=1)e[Ld[t].charCodeAt(0)]=t;return e})();function C1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ld[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ld[r]),t.queuedBits-=6}}function nO(e,t,n){const r=OF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function E1(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{TF(o,r,n)};for(let o=0;o<e.length;o+=1)nO(e.charCodeAt(o),i,a);return t.join("")}function AF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}AF(r,t)}}function TF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Do(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)nO(e.charCodeAt(i),n,r);return new Uint8Array(t)}function IF(e){const t=[];return NF(e,n=>t.push(n)),new Uint8Array(t)}function xa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>C1(i,n,r)),C1(null,n,r),t.join("")}function DF(e){return Math.round(Date.now()/1e3)+e}function RF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const pn=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},rO=()=>{if(!pn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function MF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const iO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>fs(()=>Promise.resolve().then(()=>hs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},LF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ra=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gi=async(e,t)=>{await e.removeItem(t)};class th{constructor(){this.promise=new th.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}th.promiseConstructor=Promise;function Jp(e){const t=e.split(".");if(t.length!==3)throw new nv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!SF.test(t[r]))throw new nv("JWT not in base64url format");return{header:JSON.parse(E1(t[0])),payload:JSON.parse(E1(t[1])),signature:Do(t[2]),raw:{header:t[0],payload:t[1]}}}async function $F(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FF(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function zF(e){return("0"+e.toString(16)).substr(-2)}function BF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,zF).join("")}async function UF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function WF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function io(e,t,n=!1){const r=BF();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await fo(e,`${t}-code-verifier`,i);const a=await WF(r);return[a,r===a?"plain":"s256"]}const KF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HF(e){const t=e.headers.get(ev);if(!t||!t.match(KF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const GF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ao(e){if(!GF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qp(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P1(e){return JSON.parse(JSON.stringify(e))}var YF=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JF=[502,503,504];async function O1(e){var t;if(!LF(e))throw new tv(la(e),0);if(JF.includes(e.status))throw new tv(la(e),e.status);let n;try{n=await e.json()}catch(a){throw new ha(la(a),a)}let r;const i=HF(e);if(i&&i.getTime()>=tO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new j1(la(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new j1(la(n),e.status,n.weak_password.reasons);throw new _F(la(n),e.status||500,r)}const QF=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ue(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[ev]||(a[ev]=tO["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await XF(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function XF(e,t,n,r,i,a){const o=QF(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new tv(la(l),0)}if(s.ok||await O1(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await O1(l)}}function er(e){var t;let n=null;t3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=DF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function A1(e){const t=er(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _i(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZF(e){return{data:e,error:null}}function e3(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=YF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function N1(e){return e}function t3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xp=["global","local","others"];var n3=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class r3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=iO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Xp[0]){if(Xp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xp.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_i})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=n3(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:e3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_i})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:N1});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(se(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ao(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_i})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ao(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_i})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ao(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_i})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ao(t.userId);try{const{data:n,error:r}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ao(t.userId),ao(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:N1});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(se(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function T1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const oo={debug:!!(globalThis&&rO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class i3 extends aO{}async function a3(e,t,n){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new i3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function o3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function s3(e){return parseInt(e,16)}function l3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function c3(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=oO(e.address),m=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let v=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}class et extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class $d extends et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function u3({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(lO(o)){if(a.rp.id!==o)return new et({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function d3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(lO(r)){if(n.rpId!==r)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var sO=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class f3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const h3=new f3;function p3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=sO(e,["challenge","user","excludeCredentials"]),a=Do(t).buffer,o=Object.assign(Object.assign({},n),{id:Do(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Do(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function m3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=sO(e,["challenge","allowCredentials"]),i=Do(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Do(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function g3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:xa(new Uint8Array(e.response.attestationObject)),clientDataJSON:xa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function v3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xa(new Uint8Array(i.authenticatorData)),clientDataJSON:xa(new Uint8Array(i.clientDataJSON)),signature:xa(new Uint8Array(i.signature)),userHandle:i.userHandle?xa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function I1(){var e,t;return!!(pn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function y3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:u3({error:t,options:e})}}}async function x3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new $d("Browser returned unexpected credential type",t)}:{data:null,error:new $d("Empty credential response",t)}}catch(t){return{data:null,error:d3({error:t,options:e})}}}const b3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},w3={userVerification:"preferred",hints:["security-key"]};function Fd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=Fd(s,o):r[a]=Fd(o)}else r[a]=o}return r}function k3(e,t){return Fd(b3,e,t||{})}function S3(e,t){return Fd(w3,e,t||{})}class j3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??h3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=k3(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:d}=await y3({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=S3(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:d}=await x3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return se(o)?{data:null,error:o}:{data:null,error:new ha("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new Yl("rpId is required for WebAuthn authentication")};try{if(!I1())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return se(o)?{data:null,error:o}:{data:null,error:new ha("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new Yl("rpId is required for WebAuthn registration")};try{if(!I1())return{data:null,error:new ha("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return se(o)?{data:null,error:o}:{data:null,error:new ha("Unexpected error in register",o)}}}}o3();const _3={url:bF,storageKey:wF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function D1(e,t,n){return await n()}const so={};class Jl{get jwks(){var t,n;return(n=(t=so[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=so[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){so[this.storageKey]=Object.assign(Object.assign({},so[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jl.nextInstanceID,Jl.nextInstanceID+=1,this.instanceID>0&&pn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_3),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new r3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=iO(i.fetch),this.lock=i.lock||D1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:pn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=a3:this.lock=D1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j3(this)},this.persistSession?(i.storage?this.storage=i.storage:rO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=T1(this.memoryStorage)),pn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${eO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=MF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),pn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),PF(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?{error:n}:{error:new ha("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:er}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:u,password:d,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await io(this.storage,this.storageKey)),a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:er})}else if("phone"in t){const{phone:u,password:d,options:h}=t;a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:er})}else throw new vu("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:A1})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:A1})}else throw new vu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ro}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,c,u,d,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:v,options:b}=t;let w;if(pn())if(typeof y=="object")w=y;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")w=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=oO(j[0]);let _=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!_){const E=await w.request({method:"eth_chainId"});_=s3(E)}const N={domain:S.host,address:k,statement:v,uri:S.href,version:"1",chainId:_,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=c3(N),m=await w.request({method:"personal_sign",params:[l3(p),k]})}try{const{data:g,error:y}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:er});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ro}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(se(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var n,r,i,a,o,s,l,c,u,d,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let S;if(pn())if(typeof v=="object")S=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)m=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:v}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:xa(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:er});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ro}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(se(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await ra(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:er});if(await gi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ro}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(se(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:er}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ro}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await io(this.storage,this.storageKey));const{error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new vu("You must provide either an email or phone number.")}catch(s){if(se(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:er});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await io(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:ZF})}catch(a){if(se(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yi;const{error:i}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new vu("You must provide either an email or phone number and a type")}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ra(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Qp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_i}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yi}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:_i})})}catch(n){if(se(n))return EF(n)&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new yi;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await io(this.storage,this.storageKey));const{data:c,error:u}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:_i});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=Jp(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!pn())throw new yu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new S1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new S1("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new yu("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(s);let h=u+d;l&&(h=parseInt(l));const p=h-u;p*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(se(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ra(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(CF(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=RF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await io(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(se(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:d,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return pn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(se(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,d=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:er}),{data:h,error:p}=d;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ro}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await FF(async i=>(i>0&&await $F(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:er})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Yp(a)&&Date.now()+o-r<uo})}catch(r){if(this._debug(n,"error",r),se(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ra(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await fo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Qp()}else if(i&&!i.user&&!i.user){const o=await ra(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await gi(this.storage,this.storageKey+"-user"),await fo(this.storage,this.storageKey,i)):i.user=Qp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Gp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Yp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new th;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new yi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),se(a)){const o={data:null,error:a};return Yp(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await fo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=P1(i);await fo(this.storage,this.storageKey,a)}else{const i=P1(n);await fo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await gi(this.storage,this.storageKey),await gi(this.storage,this.storageKey+"-code-verifier"),await gi(this.storage,this.storageKey+"-user"),this.userStorage&&await gi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${uo}ms, refresh threshold is ${Zg} ticks`),i<=Zg&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await io(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?g3(t.webauthn.credential_response):v3(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:p3(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:m3(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jp(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+jF>i)return r;const{data:a,error:o}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=Jp(r);n!=null&&n.allowExpired||qF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=VF(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,IF(`${s}.${l}`)))throw new nv("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}Jl.nextInstanceID=0;const C3=Jl;class E3 extends C3{constructor(t){super(t)}}var P3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class O3{constructor(t,n,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const s=xF(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:cF,realtime:dF,auth:Object.assign(Object.assign({},uF),{storageKey:l}),global:lF},u=yF(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=mF(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new _4(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new aF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new r4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return P3(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new E3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new U4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const A3=(e,t,n)=>new O3(e,t,n);function N3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}N3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cO="axpro_supabase_url",uO="axpro_supabase_anon_key",R1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_URL||"https://qpyteahuynkgkbmdasbv.supabase.co",M1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY";let Zp=null,L1=null;const pr=()=>{const e=dO(),t=`${e.url}:${e.anonKey}`;if(!Zp||L1!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set. Please configure in Settings > Database.");Zp=A3(e.url,e.anonKey),L1=t,console.log(" Supabase client initialized")}return Zp},dO=()=>{try{const e=localStorage.getItem(cO)||R1,t=localStorage.getItem(uO)||M1;return{url:e,anonKey:t}}catch(e){return console.error("Failed to get Supabase config:",e),{url:R1,anonKey:M1}}},T3=e=>{try{localStorage.setItem(cO,e.url),localStorage.setItem(uO,e.anonKey)}catch(t){console.error("Failed to save Supabase config:",t)}},I3=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}};async function fO(){try{const e=pr();console.log("Fetching admin feedback from Supabase...");const{data:t,error:n}=await e.from("admin_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch admin feedback: ${n.message}`);return console.log(` Fetched ${(t==null?void 0:t.length)||0} admin feedback records`),t||[]}catch(e){throw console.error("Failed to fetch admin feedback:",e),e}}async function rv(){try{const e=pr();console.log("Fetching user feedback from Supabase...");const{data:t,error:n}=await e.from("user_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch user feedback: ${n.message}`);return console.log(` Fetched ${(t==null?void 0:t.length)||0} user feedback records`),t||[]}catch(e){throw console.error("Failed to fetch user feedback:",e),e}}async function hO(e,t,n,r){try{const i=pr();console.log("Submitting user feedback:",{chatId:e,userId:t,reaction:n,feedbackText:r});const a={chat_id:e,user_id:t,reaction:n,feedback_text:r||null},{data:o,error:s}=await i.from("user_feedback").insert([a]).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit user feedback: ${s.message}`);return console.log(" User feedback submitted:",o),o}catch(i){throw console.error("Failed to submit user feedback:",i),i}}async function pO(e){try{const t=pr(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).maybeSingle();if(r)throw console.error("Error fetching admin feedback:",r),r;return n}catch(t){return console.error("Error fetching admin feedback by chat:",t),null}}async function D3(e,t,n,r){try{const i=pr();console.log("Submitting admin feedback:",{chatId:e,verdict:t,feedbackText:n,correctedResponse:r});const a=await pO(e);let o,s;if(a){const l={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},c=await i.from("admin_feedback").update(l).eq("chat_id",e).select().maybeSingle();o=c.data,s=c.error}else{const l={chat_id:e,feedback_verdict:t,feedback_text:n||null,corrected_response:r||null},c=await i.from("admin_feedback").insert([l]).select().maybeSingle();o=c.data,s=c.error}if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit admin feedback: ${s.message}`);return console.log(" Admin feedback submitted:",o),o}catch(i){throw console.error("Failed to submit admin feedback:",i),i}}const R3=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(!1),[s,l]=x.useState(null),c=x.useCallback(async()=>{try{if(i(!0),l(null),await Hr()){const m=await m1.getMessages(e);n(m)}else{const m=JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]");console.log("Loading local messages for session:",e,m),n(m)}}catch(p){l(p instanceof Error?p.message:"Failed to fetch messages")}finally{i(!1)}},[e]);x.useEffect(()=>{c()},[c]);const u=p=>{const m=p.split(`
`)[0];return(m.length>50?m.substring(0,50)+"...":m)||"New Chat"},d=x.useCallback(async p=>{if(!p.trim())return;console.log("=== SEND MESSAGE START ==="),console.log("Session ID:",e),console.log("Content:",p),o(!0),l(null);const m={id:`user-${Date.now()}`,sessionId:e,role:"user",content:p,meta:{},createdAt:new Date().toISOString()};n(w=>(console.log("Adding user message:",m),[...w,m]));const g=`assistant-${Date.now()}`;n(w=>{const S={id:g,sessionId:e,role:"assistant",content:"",createdAt:new Date().toISOString(),meta:{isStreaming:!0}};return console.log("Created new assistant message:",S),[...w,S]});let y="",v,b=[];try{console.log("Calling chatService.sendMessage...");const w=await m1.sendMessage(e,p,j=>{console.log("=== STREAM EVENT ==="),console.log("Event type:",j.type),console.log("Event text:",j.text),console.log("Event messageId:",j.messageId),console.log("==================="),j.type==="delta"&&j.text?(y+=j.text,n(k=>k.map(_=>{if(_.id===g){const N=(_.content||"")+j.text;return console.log("Updated assistant message content:",N),{..._,content:N}}return _}))):j.type==="final"&&(v=j.messageId,b=j.citations,console.log("Final event received - messageId:",j.messageId,"citations:",j.citations))});if(console.log("Chat service result:",w),n(j=>j.map(k=>{if(k.id===g){const N={...k,id:v||g,content:y||"No response received",citations:b,meta:{isStreaming:!1}};return console.log("Final assistant message:",N),N}return k})),!await Hr()){const j=[...t.filter(N=>!N.id.startsWith("temp-")),m,{id:v||g,sessionId:e,role:"assistant",content:y||"No response received",meta:{isStreaming:!1},createdAt:new Date().toISOString(),citations:b}];console.log("Saving to localStorage:",j),localStorage.setItem(`axpro_sim_messages_${e}`,JSON.stringify(j));const k=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),_=k.find(N=>N.id===e);if(_&&_.title==="New Chat"&&t.length===0){const N=u(p);_.title=N,_.updatedAt=new Date().toISOString(),localStorage.setItem("axpro_sim_sessions",JSON.stringify(k)),console.log("Auto-generated title:",N),window.dispatchEvent(new Event("sessionUpdated"))}}}catch(w){console.error("Error in sendMessage:",w),l(w instanceof Error?w.message:"Failed to send message"),n(j=>j.filter(k=>k.id!==g));const S={id:`error-${Date.now()}`,sessionId:e,role:"assistant",content:w instanceof Error?w.message:"Failed to send message",meta:{},createdAt:new Date().toISOString()};n(j=>[...j,S])}finally{o(!1),console.log("=== SEND MESSAGE END ===")}},[e,t]),h=x.useCallback(async(p,m,g)=>{try{const y=Tr();if(!y||!y.userId)throw console.error("No user session found"),new Error("Please log in to submit feedback");if(!t.find(S=>S.id===p))throw console.error("Message not found:",p),new Error("Message not found");const b=p,w=m===1?"good":"bad";console.log("Submitting feedback:",{chatId:b,userId:y.userId,reaction:w,feedbackText:g}),await hO(b,y.userId,w,g),console.log(" Feedback submitted successfully")}catch(y){throw console.error("Failed to submit feedback:",y),y}},[t]);return{messages:t,loading:r,sending:a,error:s,sendMessage:d,submitFeedback:h}};function M3(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const L3=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$3=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,F3={};function $1(e,t){return((t||F3).jsx?$3:L3).test(e)}const z3=/[ \t\n\f\r]/g;function B3(e){return typeof e=="object"?e.type==="text"?F1(e.value):!1:F1(e)}function F1(e){return e.replace(z3,"")===""}class jc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}jc.prototype.normal={};jc.prototype.property={};jc.prototype.space=void 0;function mO(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new jc(n,r,t)}function iv(e){return e.toLowerCase()}class on{constructor(t,n){this.attribute=n,this.property=t}}on.prototype.attribute="";on.prototype.booleanish=!1;on.prototype.boolean=!1;on.prototype.commaOrSpaceSeparated=!1;on.prototype.commaSeparated=!1;on.prototype.defined=!1;on.prototype.mustUseProperty=!1;on.prototype.number=!1;on.prototype.overloadedBoolean=!1;on.prototype.property="";on.prototype.spaceSeparated=!1;on.prototype.space=void 0;let U3=0;const pe=Ya(),Ze=Ya(),av=Ya(),Y=Ya(),Re=Ya(),Ro=Ya(),hn=Ya();function Ya(){return 2**++U3}const ov=Object.freeze(Object.defineProperty({__proto__:null,boolean:pe,booleanish:Ze,commaOrSpaceSeparated:hn,commaSeparated:Ro,number:Y,overloadedBoolean:av,spaceSeparated:Re},Symbol.toStringTag,{value:"Module"})),em=Object.keys(ov);class kx extends on{constructor(t,n,r,i){let a=-1;if(super(t,n),z1(this,"space",i),typeof r=="number")for(;++a<em.length;){const o=em[a];z1(this,em[a],(r&ov[o])===ov[o])}}}kx.prototype.defined=!0;function z1(e,t,n){n&&(e[t]=n)}function ms(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new kx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[iv(r)]=r,n[iv(a.attribute)]=r}return new jc(t,n,e.space)}const gO=ms({properties:{ariaActiveDescendant:null,ariaAtomic:Ze,ariaAutoComplete:null,ariaBusy:Ze,ariaChecked:Ze,ariaColCount:Y,ariaColIndex:Y,ariaColSpan:Y,ariaControls:Re,ariaCurrent:null,ariaDescribedBy:Re,ariaDetails:null,ariaDisabled:Ze,ariaDropEffect:Re,ariaErrorMessage:null,ariaExpanded:Ze,ariaFlowTo:Re,ariaGrabbed:Ze,ariaHasPopup:null,ariaHidden:Ze,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Re,ariaLevel:Y,ariaLive:null,ariaModal:Ze,ariaMultiLine:Ze,ariaMultiSelectable:Ze,ariaOrientation:null,ariaOwns:Re,ariaPlaceholder:null,ariaPosInSet:Y,ariaPressed:Ze,ariaReadOnly:Ze,ariaRelevant:null,ariaRequired:Ze,ariaRoleDescription:Re,ariaRowCount:Y,ariaRowIndex:Y,ariaRowSpan:Y,ariaSelected:Ze,ariaSetSize:Y,ariaSort:null,ariaValueMax:Y,ariaValueMin:Y,ariaValueNow:Y,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function vO(e,t){return t in e?e[t]:t}function yO(e,t){return vO(e,t.toLowerCase())}const W3=ms({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ro,acceptCharset:Re,accessKey:Re,action:null,allow:null,allowFullScreen:pe,allowPaymentRequest:pe,allowUserMedia:pe,alt:null,as:null,async:pe,autoCapitalize:null,autoComplete:Re,autoFocus:pe,autoPlay:pe,blocking:Re,capture:null,charSet:null,checked:pe,cite:null,className:Re,cols:Y,colSpan:null,content:null,contentEditable:Ze,controls:pe,controlsList:Re,coords:Y|Ro,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pe,defer:pe,dir:null,dirName:null,disabled:pe,download:av,draggable:Ze,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pe,formTarget:null,headers:Re,height:Y,hidden:av,high:Y,href:null,hrefLang:null,htmlFor:Re,httpEquiv:Re,id:null,imageSizes:null,imageSrcSet:null,inert:pe,inputMode:null,integrity:null,is:null,isMap:pe,itemId:null,itemProp:Re,itemRef:Re,itemScope:pe,itemType:Re,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pe,low:Y,manifest:null,max:null,maxLength:Y,media:null,method:null,min:null,minLength:Y,multiple:pe,muted:pe,name:null,nonce:null,noModule:pe,noValidate:pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pe,optimum:Y,pattern:null,ping:Re,placeholder:null,playsInline:pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pe,referrerPolicy:null,rel:Re,required:pe,reversed:pe,rows:Y,rowSpan:Y,sandbox:Re,scope:null,scoped:pe,seamless:pe,selected:pe,shadowRootClonable:pe,shadowRootDelegatesFocus:pe,shadowRootMode:null,shape:null,size:Y,sizes:null,slot:null,span:Y,spellCheck:Ze,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Y,step:null,style:null,tabIndex:Y,target:null,title:null,translate:null,type:null,typeMustMatch:pe,useMap:null,value:Ze,width:Y,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Re,axis:null,background:null,bgColor:null,border:Y,borderColor:null,bottomMargin:Y,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pe,declare:pe,event:null,face:null,frame:null,frameBorder:null,hSpace:Y,leftMargin:Y,link:null,longDesc:null,lowSrc:null,marginHeight:Y,marginWidth:Y,noResize:pe,noHref:pe,noShade:pe,noWrap:pe,object:null,profile:null,prompt:null,rev:null,rightMargin:Y,rules:null,scheme:null,scrolling:Ze,standby:null,summary:null,text:null,topMargin:Y,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Y,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pe,disableRemotePlayback:pe,prefix:null,property:null,results:Y,security:null,unselectable:null},space:"html",transform:yO}),K3=ms({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:hn,accentHeight:Y,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Y,amplitude:Y,arabicForm:null,ascent:Y,attributeName:null,attributeType:null,azimuth:Y,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Y,by:null,calcMode:null,capHeight:Y,className:Re,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Y,diffuseConstant:Y,direction:null,display:null,dur:null,divisor:Y,dominantBaseline:null,download:pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Y,enableBackground:null,end:null,event:null,exponent:Y,externalResourcesRequired:null,fill:null,fillOpacity:Y,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ro,g2:Ro,glyphName:Ro,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Y,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Y,horizOriginX:Y,horizOriginY:Y,id:null,ideographic:Y,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Y,k:Y,k1:Y,k2:Y,k3:Y,k4:Y,kernelMatrix:hn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Y,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Y,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Y,overlineThickness:Y,paintOrder:null,panose1:null,path:null,pathLength:Y,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Re,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Y,pointsAtY:Y,pointsAtZ:Y,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:hn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:hn,rev:hn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:hn,requiredFeatures:hn,requiredFonts:hn,requiredFormats:hn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Y,specularExponent:Y,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Y,strikethroughThickness:Y,string:null,stroke:null,strokeDashArray:hn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Y,strokeOpacity:Y,strokeWidth:null,style:null,surfaceScale:Y,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:hn,tabIndex:Y,tableValues:null,target:null,targetX:Y,targetY:Y,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:hn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Y,underlineThickness:Y,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Y,values:null,vAlphabetic:Y,vMathematical:Y,vectorEffect:null,vHanging:Y,vIdeographic:Y,version:null,vertAdvY:Y,vertOriginX:Y,vertOriginY:Y,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Y,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:vO}),xO=ms({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),bO=ms({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yO}),wO=ms({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),H3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},q3=/[A-Z]/g,B1=/-[a-z]/g,V3=/^data[-\w.:]+$/i;function G3(e,t){const n=iv(t);let r=t,i=on;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&V3.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(B1,J3);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!B1.test(a)){let o=a.replace(q3,Y3);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=kx}return new i(r,t)}function Y3(e){return"-"+e.toLowerCase()}function J3(e){return e.charAt(1).toUpperCase()}const Q3=mO([gO,W3,xO,bO,wO],"html"),Sx=mO([gO,K3,xO,bO,wO],"svg");function X3(e){return e.join(" ").trim()}var jx={},U1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Z3=/\n/g,ez=/^\s*/,tz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,nz=/^:\s*/,rz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,iz=/^[;\s]*/,az=/^\s+|\s+$/g,oz=`
`,W1="/",K1="*",pa="",sz="comment",lz="declaration",cz=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(Z3);g&&(n+=g.length);var y=m.lastIndexOf(oz);r=~y?m.length-y:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),c(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(ez)}function u(m){var g;for(m=m||[];g=d();)g!==!1&&m.push(g);return m}function d(){var m=a();if(!(W1!=e.charAt(0)||K1!=e.charAt(1))){for(var g=2;pa!=e.charAt(g)&&(K1!=e.charAt(g)||W1!=e.charAt(g+1));)++g;if(g+=2,pa===e.charAt(g-1))return s("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,m({type:sz,comment:y})}}function h(){var m=a(),g=l(tz);if(g){if(d(),!l(nz))return s("property missing ':'");var y=l(rz),v=m({type:lz,property:H1(g[0].replace(U1,pa)),value:y?H1(y[0].replace(U1,pa)):pa});return l(iz),v}}function p(){var m=[];u(m);for(var g;g=h();)g!==!1&&(m.push(g),u(m));return m}return c(),p()};function H1(e){return e?e.replace(az,pa):pa}var uz=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jx,"__esModule",{value:!0});jx.default=fz;var dz=uz(cz);function fz(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,dz.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,s=a.value;i?t(o,s,a):s&&(n=n||{},n[o]=s)}}),n}var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.camelCase=void 0;var hz=/^--[a-zA-Z0-9_-]+$/,pz=/-([a-z])/g,mz=/^[^-]+$/,gz=/^-(webkit|moz|ms|o|khtml)-/,vz=/^-(ms)-/,yz=function(e){return!e||mz.test(e)||hz.test(e)},xz=function(e,t){return t.toUpperCase()},q1=function(e,t){return"".concat(t,"-")},bz=function(e,t){return t===void 0&&(t={}),yz(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(vz,q1):e=e.replace(gz,q1),e.replace(pz,xz))};nh.camelCase=bz;var wz=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},kz=wz(jx),Sz=nh;function sv(e,t){var n={};return!e||typeof e!="string"||(0,kz.default)(e,function(r,i){r&&i&&(n[(0,Sz.camelCase)(r,t)]=i)}),n}sv.default=sv;var jz=sv;const _z=En(jz),kO=SO("end"),_x=SO("start");function SO(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Cz(e){const t=_x(e),n=kO(e);if(t&&n)return{start:t,end:n}}function kl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?V1(e.position):"start"in e||"end"in e?V1(e):"line"in e||"column"in e?lv(e):""}function lv(e){return G1(e&&e.line)+":"+G1(e&&e.column)}function V1(e){return lv(e&&e.start)+"-"+lv(e&&e.end)}function G1(e){return e&&typeof e=="number"?e:1}class Lt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=kl(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Lt.prototype.file="";Lt.prototype.name="";Lt.prototype.reason="";Lt.prototype.message="";Lt.prototype.stack="";Lt.prototype.column=void 0;Lt.prototype.line=void 0;Lt.prototype.ancestors=void 0;Lt.prototype.cause=void 0;Lt.prototype.fatal=void 0;Lt.prototype.place=void 0;Lt.prototype.ruleId=void 0;Lt.prototype.source=void 0;const Cx={}.hasOwnProperty,Ez=new Map,Pz=/[A-Z]/g,Oz=new Set(["table","tbody","thead","tfoot","tr"]),Az=new Set(["td","th"]),jO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Nz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Fz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=$z(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Sx:Q3,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=_O(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function _O(e,t,n){if(t.type==="element")return Tz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Iz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Rz(e,t,n);if(t.type==="mdxjsEsm")return Dz(e,t);if(t.type==="root")return Mz(e,t,n);if(t.type==="text")return Lz(e,t)}function Tz(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Sx,e.schema=i),e.ancestors.push(t);const a=EO(e,t.tagName,!1),o=zz(e,t);let s=Px(e,t);return Oz.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!B3(l):!0})),CO(e,o,a,t),Ex(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Iz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Ql(e,t.position)}function Dz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ql(e,t.position)}function Rz(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Sx,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:EO(e,t.name,!0),o=Bz(e,t),s=Px(e,t);return CO(e,o,a,t),Ex(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function Mz(e,t,n){const r={};return Ex(r,Px(e,t)),e.create(t,e.Fragment,r,n)}function Lz(e,t){return t.value}function CO(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ex(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function $z(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function Fz(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=_x(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function zz(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Cx.call(t.properties,i)){const a=Uz(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Az.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Bz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else Ql(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else Ql(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Px(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Ez;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=_O(e,a,o);s!==void 0&&n.push(s)}return n}function Uz(e,t,n){const r=G3(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?M3(n):X3(n)),r.property==="style"){let i=typeof n=="object"?n:Wz(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Kz(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?H3[r.property]||r.property:r.attribute,n]}}function Wz(e,t){try{return _z(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Lt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=jO+"#cannot-parse-style-attribute",i}}function EO(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=$1(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=$1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Cx.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Ql(e)}function Ql(e,t){const n=new Lt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=jO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Kz(e){const t={};let n;for(n in e)Cx.call(e,n)&&(t[Hz(n)]=e[n]);return t}function Hz(e){let t=e.replace(Pz,qz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qz(e){return"-"+e.toLowerCase()}const tm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Vz={};function Ox(e,t){const n=t||Vz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return PO(e,r,i)}function PO(e,t,n){if(Gz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Y1(e.children,t,n)}return Array.isArray(e)?Y1(e,t,n):""}function Y1(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=PO(e[i],t,n);return r.join("")}function Gz(e){return!!(e&&typeof e=="object")}const J1=document.createElement("i");function Ax(e){const t="&"+e+";";J1.innerHTML=t;const n=J1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wn(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Bn(e,t){return e.length>0?(wn(e,e.length,0,t),e):t}const Q1={}.hasOwnProperty;function OO(e){const t={};let n=-1;for(;++n<e.length;)Yz(t,e[n]);return t}function Yz(e,t){let n;for(n in t){const i=(Q1.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){Q1.call(i,o)||(i[o]=[]);const s=a[o];Jz(i[o],Array.isArray(s)?s:s?[s]:[])}}}function Jz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wn(e,0,0,r)}function AO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ur(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const zt=Gi(/[A-Za-z]/),Dt=Gi(/[\dA-Za-z]/),Qz=Gi(/[#-'*+\--9=?A-Z^-~]/);function zd(e){return e!==null&&(e<32||e===127)}const cv=Gi(/\d/),Xz=Gi(/[\dA-Fa-f]/),Zz=Gi(/[!-/:-@[-`{-~]/);function le(e){return e!==null&&e<-2}function Ne(e){return e!==null&&(e<0||e===32)}function me(e){return e===-2||e===-1||e===32}const rh=Gi(/\p{P}|\p{S}/u),La=Gi(/\s/);function Gi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function gs(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Dt(e.charCodeAt(n+1))&&Dt(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function be(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return me(l)?(e.enter(n),s(l)):t(l)}function s(l){return me(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const eB={tokenize:tB};function tB(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),be(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return le(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const nB={tokenize:rB},X1={tokenize:iB};function rB(e){const t=this,n=[];let r=0,i,a,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let j=S,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}v(r);let _=S;for(;_<t.events.length;)t.events[_][1].end={...k},_++;return wn(t.events,j+1,0,t.events.slice(S)),t.events.length=_,c(w)}return s(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(X1,u,d)(w)}function u(w){return i&&b(),v(r),h(w)}function d(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(X1,p,m)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return le(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),g)}function y(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const _=t.events.length;let N=_,E,C;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(E){C=t.events[N][1].end;break}E=!0}for(v(r),k=_;k<t.events.length;)t.events[k][1].end={...C},k++;wn(t.events,N+1,0,t.events.slice(_)),t.events.length=k}}function v(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function iB(e,t,n){return be(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qo(e){if(e===null||Ne(e)||La(e))return 1;if(rh(e))return 2}function ih(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const uv={name:"attention",resolveAll:aB,tokenize:oB};function aB(e,t){let n=-1,r,i,a,o,s,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const d={...e[r][1].end},h={...e[n][1].start};Z1(d,-l),Z1(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Bn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Bn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Bn(c,ih(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Bn(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=Bn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,wn(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function oB(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=qo(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=qo(l),d=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?d:d&&(i||!h)),c._close=!!(a===42?h:h&&(u||!d)),t(l)}}function Z1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const sB={name:"autolink",tokenize:lB};function lB(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return zt(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Dt(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||Dt(p))&&r++<32?(e.consume(p),s):(r=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||zd(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),u):Qz(p)?(e.consume(p),c):n(p)}function u(p){return Dt(p)?d(p):n(p)}function d(p){return p===46?(e.consume(p),r=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Dt(p))&&r++<63){const m=p===45?h:d;return e.consume(p),m}return n(p)}}const _c={partial:!0,tokenize:cB};function cB(e,t,n){return r;function r(a){return me(a)?be(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||le(a)?t(a):n(a)}}const NO={continuation:{tokenize:dB},exit:fB,name:"blockQuote",tokenize:uB};function uB(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return me(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function dB(e,t,n){const r=this;return i;function i(o){return me(o)?be(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(NO,t,n)(o)}}function fB(e){e.exit("blockQuote")}const TO={name:"characterEscape",tokenize:hB};function hB(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Zz(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const IO={name:"characterReference",tokenize:pB};function pB(e,t,n){const r=this;let i=0,a,o;return s;function s(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),l}function l(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Dt,u(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=Xz,u):(e.enter("characterReferenceValue"),a=7,o=cv,u(d))}function u(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return o===Dt&&!Ax(r.sliceSerialize(h))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(d)&&i++<a?(e.consume(d),u):n(d)}}const ek={partial:!0,tokenize:gB},tk={concrete:!0,name:"codeFenced",tokenize:mB};function mB(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,o=0,s;return l;function l(k){return c(k)}function c(k){const _=r.events[r.events.length-1];return a=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,s=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===s?(o++,e.consume(k),u):o<3?n(k):(e.exit("codeFencedFenceSequence"),me(k)?be(e,d,"whitespace")(k):d(k))}function d(k){return k===null||le(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(ek,g,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(k)):me(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),be(e,p,"whitespace")(k)):k===96&&k===s?n(k):(e.consume(k),h)}function p(k){return k===null||le(k)?d(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||le(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(k)):k===96&&k===s?n(k):(e.consume(k),m)}function g(k){return e.attempt(i,S,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),v}function v(k){return a>0&&me(k)?be(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||le(k)?e.check(ek,g,S)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||le(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),w)}function S(k){return e.exit("codeFenced"),t(k)}function j(k,_,N){let E=0;return C;function C(L){return k.enter("lineEnding"),k.consume(L),k.exit("lineEnding"),A}function A(L){return k.enter("codeFencedFence"),me(L)?be(k,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):T(L)}function T(L){return L===s?(k.enter("codeFencedFenceSequence"),R(L)):N(L)}function R(L){return L===s?(E++,k.consume(L),R):E>=o?(k.exit("codeFencedFenceSequence"),me(L)?be(k,I,"whitespace")(L):I(L)):N(L)}function I(L){return L===null||le(L)?(k.exit("codeFencedFence"),_(L)):N(L)}}}function gB(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const nm={name:"codeIndented",tokenize:yB},vB={partial:!0,tokenize:xB};function yB(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),be(e,a,"linePrefix",4+1)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):le(c)?e.attempt(vB,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||le(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function xB(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):be(e,a,"linePrefix",4+1)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):le(o)?i(o):n(o)}}const bB={name:"codeText",previous:kB,resolve:wB,tokenize:SB};function wB(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function kB(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function SB(e,t,n){let r=0,i,a;return o;function o(d){return e.enter("codeText"),e.enter("codeTextSequence"),s(d)}function s(d){return d===96?(e.consume(d),r++,s):(e.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),l):d===96?(a=e.enter("codeTextSequence"),i=0,u(d)):le(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||le(d)?(e.exit("codeTextData"),l(d)):(e.consume(d),c)}function u(d){return d===96?(e.consume(d),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(a.type="codeTextData",c(d))}}class jB{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ks(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ks(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ks(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ks(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ks(this.left,n.reverse())}}}function Ks(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function DO(e){const t={};let n=-1,r,i,a,o,s,l,c;const u=new jB(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,_B(u,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return wn(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function _B(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,d,h=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(g=h+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const v=s.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const CB={resolve:PB,tokenize:OB},EB={partial:!0,tokenize:AB};function PB(e){return DO(e),e}function OB(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):le(s)?e.check(EB,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function AB(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),be(e,a,"linePrefix")}function a(o){if(o===null||le(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function RO(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||zd(v)?n(v):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(s),h(v)):v===null||v===60||le(v)?n(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function g(v){return!u&&(v===null||v===41||Ne(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(v)):u<c&&v===40?(e.consume(v),u++,g):v===41?(e.consume(v),u--,g):v===null||v===32||v===40||zd(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function MO(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):le(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||le(p)||s++>999?(e.exit("chunkString"),u(p)):(e.consume(p),l||(l=!me(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}}function LO(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?n(h):le(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),be(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||le(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?d:u)}function d(h){return h===o||h===92?(e.consume(h),u):u(h)}}function Sl(e,t){let n;return r;function r(i){return le(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):me(i)?be(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const NB={name:"definition",tokenize:IB},TB={partial:!0,tokenize:DB};function IB(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return MO.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Ne(p)?Sl(e,c)(p):c(p)}function c(p){return RO(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(TB,d,d)(p)}function d(p){return me(p)?be(e,h,"whitespace")(p):h(p)}function h(p){return p===null||le(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function DB(e,t,n){return r;function r(s){return Ne(s)?Sl(e,i)(s):n(s)}function i(s){return LO(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return me(s)?be(e,o,"whitespace")(s):o(s)}function o(s){return s===null||le(s)?t(s):n(s)}}const RB={name:"hardBreakEscape",tokenize:MB};function MB(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return le(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const LB={name:"headingAtx",resolve:$B,tokenize:FB};function $B(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wn(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function FB(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Ne(u)?(e.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||le(u)?(e.exit("atxHeading"),t(u)):me(u)?be(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||Ne(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const zB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],nk=["pre","script","style","textarea"],BB={concrete:!0,name:"htmlFlow",resolveTo:KB,tokenize:HB},UB={partial:!0,tokenize:VB},WB={partial:!0,tokenize:qB};function KB(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function HB(e,t,n){const r=this;let i,a,o,s,l;return c;function c(O){return u(O)}function u(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),d}function d(O){return O===33?(e.consume(O),h):O===47?(e.consume(O),a=!0,g):O===63?(e.consume(O),i=3,r.interrupt?t:P):zt(O)?(e.consume(O),o=String.fromCharCode(O),y):n(O)}function h(O){return O===45?(e.consume(O),i=2,p):O===91?(e.consume(O),i=5,s=0,m):zt(O)?(e.consume(O),i=4,r.interrupt?t:P):n(O)}function p(O){return O===45?(e.consume(O),r.interrupt?t:P):n(O)}function m(O){const ie="CDATA[";return O===ie.charCodeAt(s++)?(e.consume(O),s===ie.length?r.interrupt?t:T:m):n(O)}function g(O){return zt(O)?(e.consume(O),o=String.fromCharCode(O),y):n(O)}function y(O){if(O===null||O===47||O===62||Ne(O)){const ie=O===47,ne=o.toLowerCase();return!ie&&!a&&nk.includes(ne)?(i=1,r.interrupt?t(O):T(O)):zB.includes(o.toLowerCase())?(i=6,ie?(e.consume(O),v):r.interrupt?t(O):T(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):a?b(O):w(O))}return O===45||Dt(O)?(e.consume(O),o+=String.fromCharCode(O),y):n(O)}function v(O){return O===62?(e.consume(O),r.interrupt?t:T):n(O)}function b(O){return me(O)?(e.consume(O),b):C(O)}function w(O){return O===47?(e.consume(O),C):O===58||O===95||zt(O)?(e.consume(O),S):me(O)?(e.consume(O),w):C(O)}function S(O){return O===45||O===46||O===58||O===95||Dt(O)?(e.consume(O),S):j(O)}function j(O){return O===61?(e.consume(O),k):me(O)?(e.consume(O),j):w(O)}function k(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),l=O,_):me(O)?(e.consume(O),k):N(O)}function _(O){return O===l?(e.consume(O),l=null,E):O===null||le(O)?n(O):(e.consume(O),_)}function N(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Ne(O)?j(O):(e.consume(O),N)}function E(O){return O===47||O===62||me(O)?w(O):n(O)}function C(O){return O===62?(e.consume(O),A):n(O)}function A(O){return O===null||le(O)?T(O):me(O)?(e.consume(O),A):n(O)}function T(O){return O===45&&i===2?(e.consume(O),$):O===60&&i===1?(e.consume(O),q):O===62&&i===4?(e.consume(O),X):O===63&&i===3?(e.consume(O),P):O===93&&i===5?(e.consume(O),B):le(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(UB,M,R)(O)):O===null||le(O)?(e.exit("htmlFlowData"),R(O)):(e.consume(O),T)}function R(O){return e.check(WB,I,M)(O)}function I(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),L}function L(O){return O===null||le(O)?R(O):(e.enter("htmlFlowData"),T(O))}function $(O){return O===45?(e.consume(O),P):T(O)}function q(O){return O===47?(e.consume(O),o="",D):T(O)}function D(O){if(O===62){const ie=o.toLowerCase();return nk.includes(ie)?(e.consume(O),X):T(O)}return zt(O)&&o.length<8?(e.consume(O),o+=String.fromCharCode(O),D):T(O)}function B(O){return O===93?(e.consume(O),P):T(O)}function P(O){return O===62?(e.consume(O),X):O===45&&i===2?(e.consume(O),P):T(O)}function X(O){return O===null||le(O)?(e.exit("htmlFlowData"),M(O)):(e.consume(O),X)}function M(O){return e.exit("htmlFlow"),t(O)}}function qB(e,t,n){const r=this;return i;function i(o){return le(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function VB(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(_c,t,n)}}const GB={name:"htmlText",tokenize:YB};function YB(e,t,n){const r=this;let i,a,o;return s;function s(P){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(P),l}function l(P){return P===33?(e.consume(P),c):P===47?(e.consume(P),j):P===63?(e.consume(P),w):zt(P)?(e.consume(P),N):n(P)}function c(P){return P===45?(e.consume(P),u):P===91?(e.consume(P),a=0,m):zt(P)?(e.consume(P),b):n(P)}function u(P){return P===45?(e.consume(P),p):n(P)}function d(P){return P===null?n(P):P===45?(e.consume(P),h):le(P)?(o=d,q(P)):(e.consume(P),d)}function h(P){return P===45?(e.consume(P),p):d(P)}function p(P){return P===62?$(P):P===45?h(P):d(P)}function m(P){const X="CDATA[";return P===X.charCodeAt(a++)?(e.consume(P),a===X.length?g:m):n(P)}function g(P){return P===null?n(P):P===93?(e.consume(P),y):le(P)?(o=g,q(P)):(e.consume(P),g)}function y(P){return P===93?(e.consume(P),v):g(P)}function v(P){return P===62?$(P):P===93?(e.consume(P),v):g(P)}function b(P){return P===null||P===62?$(P):le(P)?(o=b,q(P)):(e.consume(P),b)}function w(P){return P===null?n(P):P===63?(e.consume(P),S):le(P)?(o=w,q(P)):(e.consume(P),w)}function S(P){return P===62?$(P):w(P)}function j(P){return zt(P)?(e.consume(P),k):n(P)}function k(P){return P===45||Dt(P)?(e.consume(P),k):_(P)}function _(P){return le(P)?(o=_,q(P)):me(P)?(e.consume(P),_):$(P)}function N(P){return P===45||Dt(P)?(e.consume(P),N):P===47||P===62||Ne(P)?E(P):n(P)}function E(P){return P===47?(e.consume(P),$):P===58||P===95||zt(P)?(e.consume(P),C):le(P)?(o=E,q(P)):me(P)?(e.consume(P),E):$(P)}function C(P){return P===45||P===46||P===58||P===95||Dt(P)?(e.consume(P),C):A(P)}function A(P){return P===61?(e.consume(P),T):le(P)?(o=A,q(P)):me(P)?(e.consume(P),A):E(P)}function T(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(e.consume(P),i=P,R):le(P)?(o=T,q(P)):me(P)?(e.consume(P),T):(e.consume(P),I)}function R(P){return P===i?(e.consume(P),i=void 0,L):P===null?n(P):le(P)?(o=R,q(P)):(e.consume(P),R)}function I(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Ne(P)?E(P):(e.consume(P),I)}function L(P){return P===47||P===62||Ne(P)?E(P):n(P)}function $(P){return P===62?(e.consume(P),e.exit("htmlTextData"),e.exit("htmlText"),t):n(P)}function q(P){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),D}function D(P){return me(P)?be(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):B(P)}function B(P){return e.enter("htmlTextData"),o(P)}}const Nx={name:"labelEnd",resolveAll:ZB,resolveTo:eU,tokenize:tU},JB={tokenize:nU},QB={tokenize:rU},XB={tokenize:iU};function ZB(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&wn(e,0,e.length,n),e}function eU(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Bn(s,e.slice(a+1,a+r+3)),s=Bn(s,[["enter",u,t]]),s=Bn(s,ih(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Bn(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=Bn(s,e.slice(o+1)),s=Bn(s,[["exit",l,t]]),wn(e,a,e.length,s),e}function tU(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?d(h):(o=r.parser.defined.includes(ur(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(JB,u,o?u:d)(h):h===91?e.attempt(QB,u,o?c:d)(h):o?u(h):d(h)}function c(h){return e.attempt(XB,u,d)(h)}function u(h){return t(h)}function d(h){return a._balanced=!0,n(h)}}function nU(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Ne(d)?Sl(e,a)(d):a(d)}function a(d){return d===41?u(d):RO(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ne(d)?Sl(e,l)(d):u(d)}function s(d){return n(d)}function l(d){return d===34||d===39||d===40?LO(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function c(d){return Ne(d)?Sl(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}function rU(e,t,n){const r=this;return i;function i(s){return MO.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function iU(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const aU={name:"labelStartImage",resolveAll:Nx.resolveAll,tokenize:oU};function oU(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const sU={name:"labelStartLink",resolveAll:Nx.resolveAll,tokenize:lU};function lU(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const rm={name:"lineEnding",tokenize:cU};function cU(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),be(e,t,"linePrefix")}}const td={name:"thematicBreak",tokenize:uU};function uU(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||le(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),me(c)?be(e,s,"whitespace")(c):s(c))}}const Vt={continuation:{tokenize:pU},exit:gU,name:"list",tokenize:hU},dU={partial:!0,tokenize:vU},fU={partial:!0,tokenize:mU};function hU(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:cv(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(td,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return cv(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(_c,r.interrupt?n:u,e.attempt(dU,h,d))}function u(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function d(p){return me(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function pU(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(_c,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,be(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!me(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(fU,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,be(e,e.attempt(Vt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function mU(e,t,n){const r=this;return be(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function gU(e){e.exit(this.containerState.type)}function vU(e,t,n){const r=this;return be(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const o=r.events[r.events.length-1];return!me(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const rk={name:"setextUnderline",resolveTo:yU,tokenize:xU};function yU(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function xU(e,t,n){const r=this;let i;return a;function a(c){let u=r.events.length,d;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){d=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),me(c)?be(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||le(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const bU={tokenize:wU};function wU(e){const t=this,n=e.attempt(_c,r,e.attempt(this.parser.constructs.flowInitial,i,be(e,e.attempt(this.parser.constructs.flow,i,e.attempt(CB,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const kU={resolveAll:FO()},SU=$O("string"),jU=$O("text");function $O(e){return{resolveAll:FO(e==="text"?_U:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function FO(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function _U(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const CU={42:Vt,43:Vt,45:Vt,48:Vt,49:Vt,50:Vt,51:Vt,52:Vt,53:Vt,54:Vt,55:Vt,56:Vt,57:Vt,62:NO},EU={91:NB},PU={[-2]:nm,[-1]:nm,32:nm},OU={35:LB,42:td,45:[rk,td],60:BB,61:rk,95:td,96:tk,126:tk},AU={38:IO,92:TO},NU={[-5]:rm,[-4]:rm,[-3]:rm,33:aU,38:IO,42:uv,60:[sB,GB],91:sU,92:[RB,TO],93:Nx,95:uv,96:bB},TU={null:[uv,kU]},IU={null:[42,95]},DU={null:[]},RU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IU,contentInitial:EU,disable:DU,document:CU,flow:OU,flowInitial:PU,insideSpan:TU,string:AU,text:NU},Symbol.toStringTag,{value:"Module"}));function MU(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:_(j),check:_(k),consume:b,enter:w,exit:S,interrupt:_(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:d};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(A){return o=Bn(o,A),y(),o[o.length-1]!==null?[]:(N(t,0),c.events=ih(a,c.events,c),c.events)}function h(A,T){return $U(p(A),T)}function p(A){return LU(o,A)}function m(){const{_bufferIndex:A,_index:T,line:R,column:I,offset:L}=r;return{_bufferIndex:A,_index:T,line:R,column:I,offset:L}}function g(A){i[A.line]=A.column,C()}function y(){let A;for(;r._index<o.length;){const T=o[r._index];if(typeof T=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<T.length;)v(T.charCodeAt(r._bufferIndex));else v(T)}}function v(A){u=u(A)}function b(A){le(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,C()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=A}function w(A,T){const R=T||{};return R.type=A,R.start=m(),c.events.push(["enter",R,c]),s.push(R),R}function S(A){const T=s.pop();return T.end=m(),c.events.push(["exit",T,c]),T}function j(A,T){N(A,T.from)}function k(A,T){T.restore()}function _(A,T){return R;function R(I,L,$){let q,D,B,P;return Array.isArray(I)?M(I):"tokenize"in I?M([I]):X(I);function X(ce){return ke;function ke(ot){const J=ot!==null&&ce[ot],V=ot!==null&&ce.null,re=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(V)?V:V?[V]:[]];return M(re)(ot)}}function M(ce){return q=ce,D=0,ce.length===0?$:O(ce[D])}function O(ce){return ke;function ke(ot){return P=E(),B=ce,ce.partial||(c.currentConstruct=ce),ce.name&&c.parser.constructs.disable.null.includes(ce.name)?ne():ce.tokenize.call(T?Object.assign(Object.create(c),T):c,l,ie,ne)(ot)}}function ie(ce){return A(B,P),L}function ne(ce){return P.restore(),++D<q.length?O(q[D]):$}}}function N(A,T){A.resolveAll&&!a.includes(A)&&a.push(A),A.resolve&&wn(c.events,T,c.events.length-T,A.resolve(c.events.slice(T),c)),A.resolveTo&&(c.events=A.resolveTo(c.events,c))}function E(){const A=m(),T=c.previous,R=c.currentConstruct,I=c.events.length,L=Array.from(s);return{from:I,restore:$};function $(){r=A,c.previous=T,c.currentConstruct=R,c.events.length=I,s=L,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function LU(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function $U(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function FU(e){const r={constructs:OO([RU,...(e||{}).extensions||[]]),content:i(eB),defined:[],document:i(nB),flow:i(bU),lazy:{},string:i(SU),text:i(jU)};return r;function i(a){return o;function o(s){return MU(r,a,s)}}}function zU(e){for(;!DO(e););return e}const ik=/[\0\t\n\r]/g;function BU(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,u,d,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),d=0,t="",n&&(a.charCodeAt(0)===65279&&d++,n=void 0);d<a.length;){if(ik.lastIndex=d,c=ik.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(d);break}if(p===10&&d===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<h&&(l.push(a.slice(d,h)),e+=h-d),p){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}d=h+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const UU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function WU(e){return e.replace(UU,KU)}function KU(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return AO(n.slice(a?2:1),a?16:10)}return Ax(n)||e}const zO={}.hasOwnProperty;function HU(e,t,n){return typeof t!="string"&&(n=t,t=void 0),qU(n)(zU(FU(n).document().write(BU()(e,t,!0))))}function qU(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(dn),autolinkProtocol:E,autolinkEmail:E,atxHeading:a(ae),blockQuote:a(V),characterEscape:E,characterReference:E,codeFenced:a(re),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(re,o),codeText:a(H,o),codeTextData:E,data:E,codeFlowValue:E,definition:a(W),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(U),hardBreakEscape:a(he),hardBreakTrailing:a(he),htmlFlow:a(Pe,o),htmlFlowData:E,htmlText:a(Pe,o),htmlTextData:E,image:a(un),label:o,link:a(dn),listItem:a(Tn),listItemValue:h,listOrdered:a(ea,d),listUnordered:a(ea),paragraph:a(uR),reference:O,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(dR),thematicBreak:a(hR)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:J,autolinkProtocol:ot,blockQuote:l(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:ce,characterReference:ke,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:C,codeIndented:l(v),codeText:l(L),codeTextData:C,data:C,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(R),htmlFlowData:C,htmlText:l(I),htmlTextData:C,image:l(q),label:B,labelText:D,lineEnding:A,link:l($),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ie,resourceDestinationString:P,resourceTitleString:X,resource:M,setextHeading:l(N),setextHeadingLineSequence:_,setextHeadingText:k,strong:l(),thematicBreak:l()}};BO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(K){let Q={type:"root",children:[]};const de={stack:[Q],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:n},xe=[];let Oe=-1;for(;++Oe<K.length;)if(K[Oe][1].type==="listOrdered"||K[Oe][1].type==="listUnordered")if(K[Oe][0]==="enter")xe.push(Oe);else{const Xn=xe.pop();Oe=i(K,Xn,Oe)}for(Oe=-1;++Oe<K.length;){const Xn=t[K[Oe][0]];zO.call(Xn,K[Oe][1].type)&&Xn[K[Oe][1].type].call(Object.assign({sliceSerialize:K[Oe][2].sliceSerialize},de),K[Oe][1])}if(de.tokenStack.length>0){const Xn=de.tokenStack[de.tokenStack.length-1];(Xn[1]||ak).call(de,void 0,Xn[0])}for(Q.position={start:vi(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:vi(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)Q=t.transforms[Oe](Q)||Q;return Q}function i(K,Q,de){let xe=Q-1,Oe=-1,Xn=!1,ta,Mr,Is,Ds;for(;++xe<=de;){const fn=K[xe];switch(fn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{fn[0]==="enter"?Oe++:Oe--,Ds=void 0;break}case"lineEndingBlank":{fn[0]==="enter"&&(ta&&!Ds&&!Oe&&!Is&&(Is=xe),Ds=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ds=void 0}if(!Oe&&fn[0]==="enter"&&fn[1].type==="listItemPrefix"||Oe===-1&&fn[0]==="exit"&&(fn[1].type==="listUnordered"||fn[1].type==="listOrdered")){if(ta){let eo=xe;for(Mr=void 0;eo--;){const Lr=K[eo];if(Lr[1].type==="lineEnding"||Lr[1].type==="lineEndingBlank"){if(Lr[0]==="exit")continue;Mr&&(K[Mr][1].type="lineEndingBlank",Xn=!0),Lr[1].type="lineEnding",Mr=eo}else if(!(Lr[1].type==="linePrefix"||Lr[1].type==="blockQuotePrefix"||Lr[1].type==="blockQuotePrefixWhitespace"||Lr[1].type==="blockQuoteMarker"||Lr[1].type==="listItemIndent"))break}Is&&(!Mr||Is<Mr)&&(ta._spread=!0),ta.end=Object.assign({},Mr?K[Mr][1].start:fn[1].end),K.splice(Mr||xe,0,["exit",ta,fn[2]]),xe++,de++}if(fn[1].type==="listItemPrefix"){const eo={type:"listItem",_spread:!1,start:Object.assign({},fn[1].start),end:void 0};ta=eo,K.splice(xe,0,["enter",eo,fn[2]]),xe++,de++,Is=void 0,Ds=!0}}}return K[Q][1]._spread=Xn,de}function a(K,Q){return de;function de(xe){s.call(this,K(xe),xe),Q&&Q.call(this,xe)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(K,Q,de){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([Q,de||void 0]),K.position={start:vi(Q.start),end:void 0}}function l(K){return Q;function Q(de){K&&K.call(this,de),c.call(this,de)}}function c(K,Q){const de=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==K.type&&(Q?Q.call(this,K,xe[0]):(xe[1]||ak).call(this,K,xe[0]));else throw new Error("Cannot close `"+K.type+"` ("+kl({start:K.start,end:K.end})+"): its not open");de.position.end=vi(K.end)}function u(){return Ox(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(K){if(this.data.expectingFirstListItemValue){const Q=this.stack[this.stack.length-2];Q.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function p(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.lang=K}function m(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.meta=K}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.value=K.replace(/(\r?\n|\r)$/g,"")}function b(K){const Q=this.resume(),de=this.stack[this.stack.length-1];de.label=Q,de.identifier=ur(this.sliceSerialize(K)).toLowerCase()}function w(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.title=K}function S(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.url=K}function j(K){const Q=this.stack[this.stack.length-1];if(!Q.depth){const de=this.sliceSerialize(K).length;Q.depth=de}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function _(K){const Q=this.stack[this.stack.length-1];Q.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function E(K){const de=this.stack[this.stack.length-1].children;let xe=de[de.length-1];(!xe||xe.type!=="text")&&(xe=fR(),xe.position={start:vi(K.start),end:void 0},de.push(xe)),this.stack.push(xe)}function C(K){const Q=this.stack.pop();Q.value+=this.sliceSerialize(K),Q.position.end=vi(K.end)}function A(K){const Q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=Q.children[Q.children.length-1];de.position.end=vi(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Q.type)&&(E.call(this,K),C.call(this,K))}function T(){this.data.atHardBreak=!0}function R(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.value=K}function I(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.value=K}function L(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.value=K}function $(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=Q,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function q(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=Q,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function D(K){const Q=this.sliceSerialize(K),de=this.stack[this.stack.length-2];de.label=WU(Q),de.identifier=ur(Q).toLowerCase()}function B(){const K=this.stack[this.stack.length-1],Q=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const xe=K.children;de.children=xe}else de.alt=Q}function P(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.url=K}function X(){const K=this.resume(),Q=this.stack[this.stack.length-1];Q.title=K}function M(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function ie(K){const Q=this.resume(),de=this.stack[this.stack.length-1];de.label=Q,de.identifier=ur(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function ne(K){this.data.characterReferenceType=K.type}function ce(K){const Q=this.sliceSerialize(K),de=this.data.characterReferenceType;let xe;de?(xe=AO(Q,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=Ax(Q);const Oe=this.stack[this.stack.length-1];Oe.value+=xe}function ke(K){const Q=this.stack.pop();Q.position.end=vi(K.end)}function ot(K){C.call(this,K);const Q=this.stack[this.stack.length-1];Q.url=this.sliceSerialize(K)}function J(K){C.call(this,K);const Q=this.stack[this.stack.length-1];Q.url="mailto:"+this.sliceSerialize(K)}function V(){return{type:"blockquote",children:[]}}function re(){return{type:"code",lang:null,meta:null,value:""}}function H(){return{type:"inlineCode",value:""}}function W(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function U(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function un(){return{type:"image",title:null,url:"",alt:null}}function dn(){return{type:"link",title:null,url:"",children:[]}}function ea(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function Tn(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function uR(){return{type:"paragraph",children:[]}}function dR(){return{type:"strong",children:[]}}function fR(){return{type:"text",value:""}}function hR(){return{type:"thematicBreak"}}}function vi(e){return{line:e.line,column:e.column,offset:e.offset}}function BO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?BO(e,r):VU(e,r)}}function VU(e,t){let n;for(n in t)if(zO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function ak(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+kl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+kl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+kl({start:t.start,end:t.end})+") is still open")}function GU(e){const t=this;t.parser=n;function n(r){return HU(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function YU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function JU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function QU(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function XU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ZU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function e5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=gs(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function t5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function n5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function UO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function r5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return UO(e,t);const i={src:gs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function i5(e,t){const n={src:gs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function a5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function o5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return UO(e,t);const i={href:gs(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function s5(e,t){const n={href:gs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function l5(e,t,n){const r=e.all(t),i=n?c5(n):WO(t),a={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function c5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=WO(n[r])}return t}function WO(e){const t=e.spread;return t??e.children.length>1}function u5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function d5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function h5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=_x(t.children[1]),l=kO(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function m5(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const d=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function g5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const ok=9,sk=32;function v5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(lk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(lk(t.slice(i),i>0,!1)),a.join("")}function lk(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===ok||a===sk;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===ok||a===sk;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function y5(e,t){const n={type:"text",value:v5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function x5(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const b5={blockquote:YU,break:JU,code:QU,delete:XU,emphasis:ZU,footnoteReference:e5,heading:t5,html:n5,imageReference:r5,image:i5,inlineCode:a5,linkReference:o5,link:s5,listItem:l5,list:u5,paragraph:d5,root:f5,strong:h5,table:p5,tableCell:g5,tableRow:m5,text:y5,thematicBreak:x5,toml:xu,yaml:xu,definition:xu,footnoteDefinition:xu};function xu(){}const KO=-1,ah=0,jl=1,Bd=2,Tx=3,Ix=4,Dx=5,Rx=6,HO=7,qO=8,ck=typeof self=="object"?self:globalThis,w5=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case ah:case KO:return n(o,i);case jl:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Bd:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case Tx:return n(new Date(o),i);case Ix:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case Dx:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case Rx:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case HO:{const{name:s,message:l}=o;return n(new ck[s](l),i)}case qO:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new ck[a](o),i)};return r},uk=e=>w5(new Map,e)(0),lo="",{toString:k5}={},{keys:S5}=Object,Hs=e=>{const t=typeof e;if(t!=="object"||!e)return[ah,t];const n=k5.call(e).slice(8,-1);switch(n){case"Array":return[jl,lo];case"Object":return[Bd,lo];case"Date":return[Tx,lo];case"RegExp":return[Ix,lo];case"Map":return[Dx,lo];case"Set":return[Rx,lo];case"DataView":return[jl,n]}return n.includes("Array")?[jl,n]:n.includes("Error")?[HO,n]:[Bd,n]},bu=([e,t])=>e===ah&&(t==="function"||t==="symbol"),j5=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Hs(o);switch(s){case ah:{let u=o;switch(l){case"bigint":s=qO,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([KO],o)}return i([s,u],o)}case jl:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],d=i([s,u],o);for(const h of o)u.push(a(h));return d}case Bd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],d=i([s,u],o);for(const h of S5(o))(e||!bu(Hs(o[h])))&&u.push([a(h),a(o[h])]);return d}case Tx:return i([s,o.toISOString()],o);case Ix:{const{source:u,flags:d}=o;return i([s,{source:u,flags:d}],o)}case Dx:{const u=[],d=i([s,u],o);for(const[h,p]of o)(e||!(bu(Hs(h))||bu(Hs(p))))&&u.push([a(h),a(p)]);return d}case Rx:{const u=[],d=i([s,u],o);for(const h of o)(e||!bu(Hs(h)))&&u.push(a(h));return d}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},dk=(e,{json:t,lossy:n}={})=>{const r=[];return j5(!(t||n),!!t,new Map,r)(e),r},Ud=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?uk(dk(e,t)):structuredClone(e):(e,t)=>uk(dk(e,t));function _5(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function C5(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function E5(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||_5,r=e.options.footnoteBackLabel||C5,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),d=String(c.identifier).toUpperCase(),h=gs(d.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(d);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else u.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Ud(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const oh=function(e){if(e==null)return N5;if(typeof e=="function")return sh(e);if(typeof e=="object")return Array.isArray(e)?P5(e):O5(e);if(typeof e=="string")return A5(e);throw new Error("Expected function, string, or object as test")};function P5(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=oh(e[n]);return sh(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function O5(e){const t=e;return sh(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function A5(e){return sh(t);function t(n){return n&&n.type===e}}function sh(e){return t;function t(n,r,i){return!!(T5(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function N5(){return!0}function T5(e){return e!==null&&typeof e=="object"&&"type"in e}const VO=[],I5=!0,dv=!1,D5="skip";function GO(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=oh(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,u){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=VO,m,g,y;if((!t||a(l,c,u[u.length-1]||void 0))&&(p=R5(n(l,u)),p[0]===dv))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==D5)for(g=(r?v.children.length:-1)+o,y=u.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(m=s(b,g,y)(),m[0]===dv)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function R5(e){return Array.isArray(e)?e:typeof e=="number"?[I5,e]:e==null?VO:[e]}function Mx(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),GO(e,a,s,i);function s(l,c){const u=c[c.length-1],d=u?u.children.indexOf(l):void 0;return o(l,d,u)}}const fv={}.hasOwnProperty,M5={};function L5(e,t){const n=t||M5,r=new Map,i=new Map,a=new Map,o={...b5,...n.handlers},s={all:c,applyData:F5,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:$5,wrap:B5};return Mx(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),s;function l(u,d){const h=u.type,p=s.handlers[h];if(fv.call(s.handlers,h)&&p)return p(s,u,d);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in u){const{children:g,...y}=u,v=Ud(y);return v.children=s.all(u),v}return Ud(u)}return(s.options.unknownHandler||z5)(s,u,d)}function c(u){const d=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const m=s.one(h[p],u);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=fk(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=fk(g.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function $5(e,t){e.position&&(t.position=Cz(e))}function F5(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Ud(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function z5(e,t){const n=t.data||{},r="value"in t&&!(fv.call(n,"hProperties")||fv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function B5(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function fk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function hk(e,t){const n=L5(e,t),r=n.one(e,void 0),i=E5(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function U5(e,t){return e&&"run"in e?async function(n,r){const i=hk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return hk(n,{file:r,...e||t})}}function pk(e){if(e)throw e}var nd=Object.prototype.hasOwnProperty,YO=Object.prototype.toString,mk=Object.defineProperty,gk=Object.getOwnPropertyDescriptor,vk=function(t){return typeof Array.isArray=="function"?Array.isArray(t):YO.call(t)==="[object Array]"},yk=function(t){if(!t||YO.call(t)!=="[object Object]")return!1;var n=nd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&nd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||nd.call(t,i)},xk=function(t,n){mk&&n.name==="__proto__"?mk(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},bk=function(t,n){if(n==="__proto__")if(nd.call(t,n)){if(gk)return gk(t,n).value}else return;return t[n]},W5=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=bk(s,n),i=bk(t,n),s!==i&&(u&&i&&(yk(i)||(a=vk(i)))?(a?(a=!1,o=r&&vk(r)?r:[]):o=r&&yk(r)?r:{},xk(s,{name:n,newValue:e(u,o,i)})):typeof i<"u"&&xk(s,{name:n,newValue:i}));return s};const im=En(W5);function hv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function K5(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let d=-1;if(l){o(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,u?H5(u,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function H5(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const kr={basename:q5,dirname:V5,extname:G5,join:Y5,sep:"/"};function q5(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Cc(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function V5(e){if(Cc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function G5(e){Cc(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Y5(...e){let t=-1,n;for(;++t<e.length;)Cc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":J5(n)}function J5(e){Cc(e);const t=e.codePointAt(0)===47;let n=Q5(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Q5(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Cc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const X5={cwd:Z5};function Z5(){return"/"}function pv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function e8(e){if(typeof e=="string")e=new URL(e);else if(!pv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return t8(e)}function t8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const am=["history","path","basename","stem","extname","dirname"];class JO{constructor(t){let n;t?pv(t)?n={path:t}:typeof t=="string"||n8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":X5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<am.length;){const a=am[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)am.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?kr.basename(this.path):void 0}set basename(t){sm(t,"basename"),om(t,"basename"),this.path=kr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?kr.dirname(this.path):void 0}set dirname(t){wk(this.basename,"dirname"),this.path=kr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?kr.extname(this.path):void 0}set extname(t){if(om(t,"extname"),wk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=kr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){pv(t)&&(t=e8(t)),sm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?kr.basename(this.path,this.extname):void 0}set stem(t){sm(t,"stem"),om(t,"stem"),this.path=kr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Lt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function om(e,t){if(e&&e.includes(kr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+kr.sep+"`")}function sm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function wk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function n8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const r8=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},i8={}.hasOwnProperty;class Lx extends r8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=K5()}copy(){const t=new Lx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(im(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(um("data",this.frozen),this.namespace[t]=n,this):i8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(um("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=wu(t),r=this.parser||this.Parser;return lm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),lm("process",this.parser||this.Parser),cm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=wu(t),l=r.parse(s);r.run(l,s,function(u,d,h){if(u||!d||!h)return c(u);const p=d,m=r.stringify(p,h);s8(m)?h.value=m:h.result=m,c(u,h)});function c(u,d){u||!d?o(u):a?a(d):n(void 0,d)}}}processSync(t){let n=!1,r;return this.freeze(),lm("processSync",this.parser||this.Parser),cm("processSync",this.compiler||this.Compiler),this.process(t,i),Sk("processSync","process",n),r;function i(a,o){n=!0,pk(a),r=o}}run(t,n,r){kk(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=wu(n);i.run(t,l,c);function c(u,d,h){const p=d||t;u?s(u):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),Sk("runSync","run",r),i;function a(o,s){pk(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=wu(n),i=this.compiler||this.Compiler;return cm("stringify",i),kk(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(um("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...d]=c;l(u,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=im(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const d=c[u];a(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[p,...m]=u;const g=r[h][1];hv(g)&&hv(p)&&(p=im(!0,g,p)),r[h]=[c,p,...m]}}}}const a8=new Lx().freeze();function lm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function cm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function um(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function kk(e){if(!hv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Sk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function wu(e){return o8(e)?e:new JO(e)}function o8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function s8(e){return typeof e=="string"||l8(e)}function l8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const c8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",jk=[],_k={allowDangerousHtml:!0},u8=/^(https?|ircs?|mailto|xmpp)$/i,d8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function f8(e){const t=h8(e),n=p8(e);return m8(t.runSync(t.parse(n),n),e)}function h8(e){const t=e.rehypePlugins||jk,n=e.remarkPlugins||jk,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,..._k}:_k;return a8().use(GU).use(n).use(U5,r).use(t)}function p8(e){const t=e.children||"",n=new JO;return typeof t=="string"&&(n.value=t),n}function m8(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||g8;for(const u of d8)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+c8+u.id,void 0);return Mx(e,c),Nz(e,{Fragment:f.Fragment,components:i,ignoreInvalidStyle:!0,jsx:f.jsx,jsxs:f.jsxs,passKeys:!0,passNode:!0});function c(u,d,h){if(u.type==="raw"&&h&&typeof d=="number")return o?h.children.splice(d,1):h.children[d]={type:"text",value:u.value},d;if(u.type==="element"){let p;for(p in tm)if(Object.hasOwn(tm,p)&&Object.hasOwn(u.properties,p)){const m=u.properties[p],g=tm[p];(g===null||g.includes(u.tagName))&&(u.properties[p]=l(String(m||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(u,d,h)),p&&h&&typeof d=="number")return s&&u.children?h.children.splice(d,1,...u.children):h.children.splice(d,1),d}}}function g8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||u8.test(e.slice(0,t))?e:""}function Ck(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function v8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function y8(e,t,n){const i=oh((n||{}).ignore||[]),a=x8(t);let o=-1;for(;++o<a.length;)GO(e,"text",s);function s(c,u){let d=-1,h;for(;++d<u.length;){const p=u[d],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return l(c,u)}function l(c,u){const d=u[u.length-1],h=a[o][0],p=a[o][1];let m=0;const y=d.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,j={index:w.index,input:w.input,stack:[...u,c]};let k=p(...w,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=S+1:(m!==S&&b.push({type:"text",value:c.value.slice(m,S)}),Array.isArray(k)?b.push(...k):k&&b.push(k),m=S+w[0].length,v=!0),!h.global)break;w=h.exec(c.value)}return v?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),d.children.splice(y,1,...b)):b=[c],y+b.length}}function x8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([b8(i[0]),w8(i[1])])}return t}function b8(e){return typeof e=="string"?new RegExp(v8(e),"g"):e}function w8(e){return typeof e=="function"?e:function(){return e}}const dm="phrasing",fm=["autolink","link","image","label"];function k8(){return{transforms:[O8],enter:{literalAutolink:j8,literalAutolinkEmail:hm,literalAutolinkHttp:hm,literalAutolinkWww:hm},exit:{literalAutolink:P8,literalAutolinkEmail:E8,literalAutolinkHttp:_8,literalAutolinkWww:C8}}}function S8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:dm,notInConstruct:fm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:dm,notInConstruct:fm},{character:":",before:"[ps]",after:"\\/",inConstruct:dm,notInConstruct:fm}]}}function j8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function hm(e){this.config.enter.autolinkProtocol.call(this,e)}function _8(e){this.config.exit.autolinkProtocol.call(this,e)}function C8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function E8(e){this.config.exit.autolinkEmail.call(this,e)}function P8(e){this.exit(e)}function O8(e){y8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,A8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),N8]],{ignore:["link","linkReference"]})}function A8(e,t,n,r,i){let a="";if(!QO(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!T8(n)))return!1;const o=I8(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function N8(e,t,n,r){return!QO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function T8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function I8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Ck(e,"(");let a=Ck(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function QO(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||La(n)||rh(n))&&(!t||n!==47)}XO.peek=U8;function D8(){this.buffer()}function R8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function M8(){this.buffer()}function L8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function $8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function F8(e){this.exit(e)}function z8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ur(this.sliceSerialize(e)).toLowerCase(),n.label=t}function B8(e){this.exit(e)}function U8(){return"["}function XO(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function W8(){return{enter:{gfmFootnoteCallString:D8,gfmFootnoteCall:R8,gfmFootnoteDefinitionLabelString:M8,gfmFootnoteDefinition:L8},exit:{gfmFootnoteCallString:$8,gfmFootnoteCall:F8,gfmFootnoteDefinitionLabelString:z8,gfmFootnoteDefinition:B8}}}function K8(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:XO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(r),{before:l,after:"]"})),u(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?ZO:H8))),c(),l}}function H8(e,t,n){return t===0?e:ZO(e,t,n)}function ZO(e,t,n){return(n?"":"    ")+e}const q8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];eA.peek=Q8;function V8(){return{canContainEols:["delete"],enter:{strikethrough:Y8},exit:{strikethrough:J8}}}function G8(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:q8}],handlers:{delete:eA}}}function Y8(e){this.enter({type:"delete",children:[]},e)}function J8(e){this.exit(e)}function eA(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function Q8(){return"~"}function X8(e){return e.length}function Z8(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||X8,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const g=[],y=[];let v=-1;for(e[u].length>c&&(c=e[u].length);++v<e[u].length;){const b=e6(e[u][v]);if(n.alignDelimiters!==!1){const w=i(b);y[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(b)}o[u]=g,s[u]=y}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<c;)a[d]=Ek(r[d]);else{const g=Ek(r);for(;++d<c;)a[d]=g}d=-1;const h=[],p=[];for(;++d<c;){const g=a[d];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[d]-y.length-v.length);const w=y+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[d]&&(l[d]=b),p[d]=b),h[d]=w}o.splice(1,0,h),s.splice(1,0,p),u=-1;const m=[];for(;++u<o.length;){const g=o[u],y=s[u];d=-1;const v=[];for(;++d<c;){const b=g[d]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[d]-(y[d]||0),k=a[d];k===114?w=" ".repeat(j):k===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(b),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==c-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function e6(e){return e==null?"":String(e)}function Ek(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function t6(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),n6);return i(),o}function n6(e,t,n){return">"+(n?"":" ")+e}function r6(e,t){return Pk(e,t.inConstruct,!0)&&!Pk(e,t.notInConstruct,!1)}function Pk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Ok(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&r6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function i6(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function a6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function o6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function s6(e,t,n,r){const i=o6(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(a6(e,n)){const d=n.enter("codeIndented"),h=n.indentLines(a,l6);return d(),h}const s=n.createTracker(r),l=i.repeat(Math.max(i6(a,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const d=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),d()}if(e.lang&&e.meta){const d=n.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),d()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function l6(e,t,n){return(n?"":"    ")+e}function $x(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function c6(e,t,n,r){const i=$x(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function u6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Xl(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Wd(e,t,n){const r=qo(e),i=qo(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}tA.peek=d6;function tA(e,t,n,r){const i=u6(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Wd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Xl(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Wd(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+Xl(d));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function d6(e,t,n){return n.options.emphasis||"*"}function f6(e,t){let n=!1;return Mx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,dv}),!!((!e.depth||e.depth<3)&&Ox(e)&&(t.options.setext||n))}function h6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(f6(e,n)){const u=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return d(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=Xl(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}nA.peek=p6;function nA(e){return e.value||""}function p6(){return"<"}rA.peek=m6;function rA(e,t,n,r){const i=$x(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function m6(){return"!"}iA.peek=g6;function iA(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function g6(){return"!"}aA.peek=v6;function aA(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function v6(){return"`"}function oA(e,t){const n=Ox(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}sA.peek=y6;function sA(e,t,n,r){const i=$x(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(oA(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(e,{before:d,after:">",...o.current()})),d+=o.move(">"),s(),n.stack=u,d}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function y6(e,t,n){return oA(e,n)?"<":"["}lA.peek=x6;function lA(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),i==="full"||!c||c!==d?l+=s.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function x6(){return"["}function Fx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function b6(e){const t=Fx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function w6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function cA(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function k6(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?w6(n):Fx(n);const s=e.ordered?o==="."?")":".":b6(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),cA(n)===o&&u){let d=-1;for(;++d<e.children.length;){const h=e.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),c}function S6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function j6(e,t,n,r){const i=S6(n);let a=n.bulletCurrent||Fx(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),u);return l(),c;function u(d,h,p){return h?(p?"":" ".repeat(o))+d:(p?a:a+" ".repeat(o-a.length))+d}}function _6(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const C6=oh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function E6(e,t,n,r){return(e.children.some(function(o){return C6(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function P6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}uA.peek=O6;function uA(e,t,n,r){const i=P6(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Wd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=Xl(c)+l.slice(1));const d=l.charCodeAt(l.length-1),h=Wd(r.after.charCodeAt(0),d,i);h.inside&&(l=l.slice(0,-1)+Xl(d));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function O6(e,t,n){return n.options.strong||"*"}function A6(e,t,n,r){return n.safe(e.value,r)}function N6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function T6(e,t,n){const r=(cA(n)+(n.options.ruleSpaces?" ":"")).repeat(N6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const dA={blockquote:t6,break:Ok,code:s6,definition:c6,emphasis:tA,hardBreak:Ok,heading:h6,html:nA,image:rA,imageReference:iA,inlineCode:aA,link:sA,linkReference:lA,list:k6,listItem:j6,paragraph:_6,root:E6,strong:uA,text:A6,thematicBreak:T6};function I6(){return{enter:{table:D6,tableData:Ak,tableHeader:Ak,tableRow:M6},exit:{codeText:L6,table:R6,tableData:pm,tableHeader:pm,tableRow:pm}}}function D6(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function R6(e){this.exit(e),this.data.inTable=void 0}function M6(e){this.enter({type:"tableRow",children:[]},e)}function pm(e){this.exit(e)}function Ak(e){this.enter({type:"tableCell",children:[]},e)}function L6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,$6));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function $6(e,t){return t==="|"?t:e}function F6(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,m,g,y){return c(u(p,g,y),p.align)}function s(p,m,g,y){const v=d(p,g,y),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(p,m,g,y){const v=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(p,{...y,before:a,after:a});return b(),v(),w}function c(p,m){return Z8(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(p,m,g){const y=p.children;let v=-1;const b=[],w=m.enter("table");for(;++v<y.length;)b[v]=d(y[v],m,g);return w(),b}function d(p,m,g){const y=p.children;let v=-1;const b=[],w=m.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],p,m,g);return w(),b}function h(p,m,g){let y=dA.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function z6(){return{exit:{taskListCheckValueChecked:Nk,taskListCheckValueUnchecked:Nk,paragraph:U6}}}function B6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:W6}}}function Nk(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function U6(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function W6(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=dA.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function K6(){return[k8(),W8(),V8(),I6(),z6()]}function H6(e){return{extensions:[S8(),K8(e),G8(),F6(e),B6()]}}const q6={tokenize:X6,partial:!0},fA={tokenize:Z6,partial:!0},hA={tokenize:e9,partial:!0},pA={tokenize:t9,partial:!0},V6={tokenize:n9,partial:!0},mA={name:"wwwAutolink",tokenize:J6,previous:vA},gA={name:"protocolAutolink",tokenize:Q6,previous:yA},li={name:"emailAutolink",tokenize:Y6,previous:xA},Rr={};function G6(){return{text:Rr}}let ia=48;for(;ia<123;)Rr[ia]=li,ia++,ia===58?ia=65:ia===91&&(ia=97);Rr[43]=li;Rr[45]=li;Rr[46]=li;Rr[95]=li;Rr[72]=[li,gA];Rr[104]=[li,gA];Rr[87]=[li,mA];Rr[119]=[li,mA];function Y6(e,t,n){const r=this;let i,a;return o;function o(d){return!mv(d)||!xA.call(r,r.previous)||zx(r.events)?n(d):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(d))}function s(d){return mv(d)?(e.consume(d),s):d===64?(e.consume(d),l):n(d)}function l(d){return d===46?e.check(V6,u,c)(d):d===45||d===95||Dt(d)?(a=!0,e.consume(d),l):u(d)}function c(d){return e.consume(d),i=!0,l}function u(d){return a&&i&&zt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(d)):n(d)}}function J6(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!vA.call(r,r.previous)||zx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(q6,e.attempt(fA,e.attempt(hA,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Q6(e,t,n){const r=this;let i="",a=!1;return o;function o(d){return(d===72||d===104)&&yA.call(r,r.previous)&&!zx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),e.consume(d),s):n(d)}function s(d){if(zt(d)&&i.length<5)return i+=String.fromCodePoint(d),e.consume(d),s;if(d===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(d),l}return n(d)}function l(d){return d===47?(e.consume(d),a?c:(a=!0,l)):n(d)}function c(d){return d===null||zd(d)||Ne(d)||La(d)||rh(d)?n(d):e.attempt(fA,e.attempt(hA,u),n)(d)}function u(d){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(d)}}function X6(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function Z6(e,t,n){let r,i,a;return o;function o(c){return c===46||c===95?e.check(pA,l,s)(c):c===null||Ne(c)||La(c)||c!==45&&rh(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!a?n(c):t(c)}}function e9(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(pA,t,a)(o):o===null||Ne(o)||La(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function t9(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||Ne(s)||La(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Ne(s)||La(s)?t(s):r(s)}function a(s){return zt(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):zt(s)?(e.consume(s),o):n(s)}}function n9(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Dt(a)?n(a):t(a)}}function vA(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ne(e)}function yA(e){return!zt(e)}function xA(e){return!(e===47||mv(e))}function mv(e){return e===43||e===45||e===46||e===95||Dt(e)}function zx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const r9={tokenize:d9,partial:!0};function i9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:l9,continuation:{tokenize:c9},exit:u9}},text:{91:{name:"gfmFootnoteCall",tokenize:s9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:a9,resolveTo:o9}}}}function a9(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=ur(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function o9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function s9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(d){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(e.enter("gfmFootnoteCallMarker"),e.consume(d),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(d){if(a>999||d===93&&!o||d===null||d===91||Ne(d))return n(d);if(d===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(ur(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(d),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(d)}return Ne(d)||(o=!0),a++,e.consume(d),d===92?u:c}function u(d){return d===91||d===92||d===93?(e.consume(d),a++,c):c(d)}}function l9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!s||m===null||m===91||Ne(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=ur(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ne(m)||(s=!0),o++,e.consume(m),m===92?d:u}function d(m){return m===91||m===92||m===93?(e.consume(m),o++,u):u(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),be(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function c9(e,t,n){return e.check(_c,t,e.attempt(r9,t,n))}function u9(e){e.exit("gfmFootnoteDefinition")}function d9(e,t,n){const r=this;return be(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function f9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",d,s]],p=s.parser.constructs.insideSpan.null;p&&wn(h,h.length,0,ih(p,o.slice(c+1,l),s)),wn(h,h.length,0,[["exit",d,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),wn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let d=0;return h;function h(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=qo(c);if(m===126)return d>1?l(m):(o.consume(m),d++,p);if(d<2&&!n)return l(m);const y=o.exit("strikethroughSequenceTemporary"),v=qo(m);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,s(m)}}}class h9{constructor(){this.map=[]}add(t,n,r){p9(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function p9(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function m9(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function g9(){return{flow:{null:{name:"table",tokenize:v9,resolveAll:y9}}}}function v9(e,t,n){const r=this;let i=0,a=0,o;return s;function s(C){let A=r.events.length-1;for(;A>-1;){const I=r.events[A][1].type;if(I==="lineEnding"||I==="linePrefix")A--;else break}const T=A>-1?r.events[A][1].type:null,R=T==="tableHead"||T==="tableRow"?k:l;return R===k&&r.parser.lazy[r.now().line]?n(C):R(C)}function l(C){return e.enter("tableHead"),e.enter("tableRow"),c(C)}function c(C){return C===124||(o=!0,a+=1),u(C)}function u(C){return C===null?n(C):le(C)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),p):n(C):me(C)?be(e,u,"whitespace")(C):(a+=1,o&&(o=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),d(C)))}function d(C){return C===null||C===124||Ne(C)?(e.exit("data"),u(C)):(e.consume(C),C===92?h:d)}function h(C){return C===92||C===124?(e.consume(C),d):d(C)}function p(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(e.enter("tableDelimiterRow"),o=!1,me(C)?be(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):m(C))}function m(C){return C===45||C===58?y(C):C===124?(o=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),g):j(C)}function g(C){return me(C)?be(e,y,"whitespace")(C):y(C)}function y(C){return C===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),v):C===45?(a+=1,v(C)):C===null||le(C)?S(C):j(C)}function v(C){return C===45?(e.enter("tableDelimiterFiller"),b(C)):j(C)}function b(C){return C===45?(e.consume(C),b):C===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(C))}function w(C){return me(C)?be(e,S,"whitespace")(C):S(C)}function S(C){return C===124?m(C):C===null||le(C)?!o||i!==a?j(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):j(C)}function j(C){return n(C)}function k(C){return e.enter("tableRow"),_(C)}function _(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),_):C===null||le(C)?(e.exit("tableRow"),t(C)):me(C)?be(e,_,"whitespace")(C):(e.enter("data"),N(C))}function N(C){return C===null||C===124||Ne(C)?(e.exit("data"),_(C)):(e.consume(C),C===92?E:N)}function E(C){return C===92||C===124?(e.consume(C),N):N(C)}}function y9(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,d;const h=new h9;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(Tk(h,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,d=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],d=ku(h,t,a,i,void 0,d),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],d=ku(h,t,a,i,void 0,d)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,a[1]!==0?(o[0]=o[1],d=ku(h,t,a,i,n,d)):o[1]!==0&&(d=ku(h,t,o,i,n,d)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Tk(h,t,l,c,u),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=m9(t.events,n))}return e}function ku(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},ho(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=ho(t.events,n[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=ho(t.events,n[2]),u=ho(t.events,n[3]),d={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",d,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",d,t]])}return i!==void 0&&(a.end=Object.assign({},ho(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Tk(e,t,n,r,i){const a=[],o=ho(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function ho(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const x9={name:"tasklistCheck",tokenize:w9};function b9(){return{text:{91:x9}}}function w9(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Ne(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return le(l)?t(l):me(l)?e.check({tokenize:k9},t,n)(l):n(l)}}function k9(e,t,n){return be(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function S9(e){return OO([G6(),i9(),f9(e),g9(),b9()])}const j9={};function _9(e){const t=this,n=e||j9,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(S9(n)),a.push(K6()),o.push(H6(n))}const C9=({citations:e})=>{const t=r=>{switch(r){case"web":return"";case"document":return"";case"kb":return"";case"blob":return"";default:return""}},n=r=>{r.sourceId&&r.sourceId.startsWith("http")&&window.open(r.sourceId,"_blank","noopener,noreferrer")};return f.jsxs("div",{className:"card p-3 rounded-md border",style:{backgroundColor:"var(--bg-secondary)"},children:[f.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"References"}),f.jsx("div",{className:"space-y-2",children:e.map(r=>f.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${r.sourceId&&r.sourceId.startsWith("http")?"hover:bg-gray-50":"cursor-default"}`,style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},onClick:()=>n(r),children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("span",{className:"text-sm",children:t(r.sourceType)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h5",{className:"text-sm font-medium truncate",style:{color:"var(--text)"},children:r.title||"Untitled Source"}),r.snippet&&f.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--text-secondary)"},children:r.snippet}),r.sourceId&&f.jsx("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-muted)"},children:r.sourceId})]})]})},r.id))})]})},E9=({messageId:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!1),[a,o]=x.useState(null),[s,l]=x.useState(""),[c,u]=x.useState(null),d=p=>{o(p),i(!0),l("")},h=async()=>{if(a!==null)try{const p=Tr();if(!p||!p.userId){console.error("No user session found"),alert("Please log in to submit feedback");return}const m=e,g=a===1?"good":"bad";console.log("Submitting feedback:",{chatId:m,userId:p.userId,reaction:g,feedbackText:s}),await hO(m,p.userId,g,s||void 0),console.log(" Feedback submitted successfully"),n(a),i(!1),l(""),u("success"),setTimeout(()=>u(null),3e3)}catch(p){console.error("Failed to submit feedback:",p),i(!1),u("error"),setTimeout(()=>u(null),3e3)}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>d(1),className:`p-1 rounded transition-colors ${t===1?"bg-green-100 text-green-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===1?"var(--success-light)":"transparent",color:t===1?"var(--success)":"var(--text-muted)"},title:"Thumbs up",children:f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})})}),f.jsx("button",{onClick:()=>d(-1),className:`p-1 rounded transition-colors ${t===-1?"bg-red-100 text-red-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===-1?"var(--error-light)":"transparent",color:t===-1?"var(--error)":"var(--text-muted)"},title:"Thumbs down",children:f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"})})})]}),r&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"card p-6 rounded-lg max-w-md w-full mx-4",style:{backgroundColor:"var(--card)"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Submit feedback to HR Ax Pro"}),f.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text)"},children:"What did you like?"}),f.jsx("textarea",{value:s,onChange:p=>l(p.target.value),placeholder:"Give as much detail as you can, but don't include any private or sensitive information.",className:"input w-full h-24 resize-none text-sm",style:{backgroundColor:"var(--bg)",color:"var(--text)",borderColor:"var(--border)",padding:"12px"},autoFocus:!0}),f.jsx("p",{className:"text-xs mt-2 mb-4",style:{color:"var(--text-secondary)"},children:"We'll also share the content you're providing feedback on to help improve future responses."}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:h,className:"px-6 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--primary)",color:"white"},children:"Submit"})})]})}),c&&f.jsx("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",style:{backgroundColor:c==="success"?"var(--success, #10b981)":"var(--error, #ef4444)",color:"white"},children:c==="success"?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),f.jsx("span",{children:"Feedback submitted successfully!"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),f.jsx("span",{children:"Failed to submit feedback. Please try again."})]})})]})},Ik=e=>btoa(e),P9=e=>{try{return atob(e)}catch{return""}},qs="axpro_api_configs",mm="axpro_ui_customization",$n={getConfigs(){try{const e=localStorage.getItem(qs);return e?JSON.parse(e).map(n=>({...n,apiKey:P9(n.apiKey)})):[]}catch{return[]}},saveConfig(e){const t=this.getConfigs(),n=new Date().toISOString(),r={...e,id:`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,apiKey:e.apiKey,createdAt:n,updatedAt:n},i={...r,apiKey:Ik(r.apiKey)},a=[...t.filter(o=>o.id!==e.id),i];return localStorage.setItem(qs,JSON.stringify(a)),r},updateConfig(e,t){const n=this.getConfigs(),r=n.findIndex(o=>o.id===e);if(r===-1)return null;const i={...n[r],...t,updatedAt:new Date().toISOString()},a={...i,apiKey:Ik(i.apiKey)};return n[r]=a,localStorage.setItem(qs,JSON.stringify(n)),i},deleteConfig(e){const t=this.getConfigs(),n=t.filter(r=>r.id!==e);return n.length===t.length?!1:(localStorage.setItem(qs,JSON.stringify(n)),!0)},getActiveConfig(){return this.getConfigs().find(t=>t.isActive)||null},setActiveConfig(e){const t=this.getConfigs();if(!t.find(i=>i.id===e))return!1;const r=t.map(i=>({...i,isActive:i.id===e}));return localStorage.setItem(qs,JSON.stringify(r)),!0},getUICustomization(){const e={chatTitle:"Chat Interface",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};try{const t=localStorage.getItem(mm);if(!t)return e;const n=JSON.parse(t);return{...e,...n}}catch{return e}},saveUICustomization(e){localStorage.setItem(mm,JSON.stringify(e))},resetUICustomization(){localStorage.removeItem(mm)}},yr={chatTitle:"TecAce Ax Pro",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};async function O9(){try{const e=pr(),{data:t,error:n}=await e.from("ui_settings").select("*").eq("id","global").maybeSingle();return n?(console.error("Error fetching UI customization:",n),yr):t?{chatTitle:t.chat_title||yr.chatTitle,chatSubtitle:t.chat_subtitle||yr.chatSubtitle,avatarUrl:t.avatar_url||yr.avatarUrl,suggestedQuestions:{question1:t.question_1||yr.suggestedQuestions.question1,question2:t.question_2||yr.suggestedQuestions.question2,question3:t.question_3||yr.suggestedQuestions.question3,question4:t.question_4||yr.suggestedQuestions.question4}}:(console.log("No UI customization found in database, using defaults"),yr)}catch(e){return console.error("Failed to fetch UI customization:",e),yr}}async function A9(e){try{const t=pr(),{error:n}=await t.from("ui_settings").upsert({id:"global",chat_title:e.chatTitle,chat_subtitle:e.chatSubtitle,avatar_url:e.avatarUrl,question_1:e.suggestedQuestions.question1,question_2:e.suggestedQuestions.question2,question_3:e.suggestedQuestions.question3,question_4:e.suggestedQuestions.question4,updated_at:new Date().toISOString()},{onConflict:"id"});return n?(console.error("Error saving UI customization:",n),!1):(console.log(" UI customization saved to Supabase"),!0)}catch(t){return console.error("Failed to save UI customization:",t),!1}}const Ec=()=>{const[e,t]=x.useState(()=>$n.getUICustomization()),[n,r]=x.useState(!0);x.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const l=await O9();t(l),$n.saveUICustomization(l)}catch(l){console.error("Failed to load UI customization:",l);const c=$n.getUICustomization();t(c)}finally{r(!1)}},a=async l=>{r(!0);try{const c={...e,...l};await A9(c)?(t(c),$n.saveUICustomization(c),console.log(" UI customization updated successfully")):(console.error("Failed to save to Supabase, falling back to localStorage"),$n.saveUICustomization(c),t(c))}catch(c){console.error("Failed to update UI customization:",c)}finally{r(!1)}};return{customization:e,loading:n,updateCustomization:a,updateQuestion:(l,c)=>{a({suggestedQuestions:{...e.suggestedQuestions,[l]:c}})},resetCustomization:()=>{r(!0);try{$n.resetUICustomization();const l=$n.getUICustomization();t(l)}catch(l){console.error("Failed to reset UI customization:",l)}finally{r(!1)}}}},N9=({message:e})=>{const[t,n]=x.useState(!1),{customization:r}=Ec(),i=e.role==="user",a=e.role==="assistant",o=e.id.startsWith("sim_"),s=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return f.jsxs("div",{className:`flex ${i?"justify-end":"justify-start"} gap-3`,children:[a&&f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:r.avatarUrl,alt:"Assistant",className:"w-8 h-8 rounded-full",style:{objectFit:"cover"}})}),f.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg ${i?"order-2":"order-1"}`,children:[f.jsx("div",{className:`p-3 rounded-lg ${i?"message-user":"message-assistant"}`,children:f.jsx("div",{className:"prose prose-sm max-w-none",style:{fontSize:"14px",lineHeight:"1.5",color:i?"#ffffff":"var(--text)"},children:e.content&&e.content.trim()?f.jsx(f8,{remarkPlugins:[_9],components:{p:({children:l})=>f.jsx("p",{style:{margin:"0 0 8px 0"},children:l}),code:({children:l,className:c})=>!c?f.jsx("code",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"2px 4px",borderRadius:"3px",fontSize:"0.9em"},children:l}):f.jsx("pre",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"8px",borderRadius:"4px",overflow:"auto",margin:"8px 0"},children:f.jsx("code",{children:l})}),ul:({children:l})=>f.jsx("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),ol:({children:l})=>f.jsx("ol",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),li:({children:l})=>f.jsx("li",{style:{margin:"4px 0"},children:l}),blockquote:({children:l})=>f.jsx("blockquote",{style:{borderLeft:`3px solid ${i?"rgba(255,255,255,0.3)":"var(--border)"}`,paddingLeft:"12px",margin:"8px 0",fontStyle:"italic",color:i?"#ffffff":"var(--text)"},children:l}),h1:({children:l})=>f.jsx("h1",{style:{fontSize:"1.2em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h2:({children:l})=>f.jsx("h2",{style:{fontSize:"1.1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h3:({children:l})=>f.jsx("h3",{style:{fontSize:"1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l})},children:e.content}):f.jsx("span",{style:{color:i?"rgba(255,255,255,0.7)":"var(--text-muted)",fontStyle:"italic"},children:e.role==="assistant"?"Thinking...":"No content available"})})}),f.jsxs("div",{className:`flex items-center gap-2 mt-1 ${i?"justify-end":"justify-start"}`,children:[f.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:s(e.createdAt)}),o&&a&&f.jsx("div",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--warning-bg, rgba(255, 193, 7, 0.1))",color:"var(--warning-text, #ff9800)",border:"1px solid var(--warning-border, rgba(255, 152, 0, 0.3))",fontSize:"10px",fontWeight:"500"},children:"SIMULATION MODE"})]}),a&&f.jsxs("div",{className:"mt-2 space-y-2",children:[e.citations&&e.citations.length>0&&f.jsxs("button",{onClick:()=>n(!t),className:"text-xs link flex items-center space-x-2",children:[f.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),f.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),f.jsxs("span",{children:[t?"Hide":"Show"," References (",e.citations.length,")"]})]}),t&&e.citations&&f.jsx(C9,{citations:e.citations}),!o&&f.jsx(E9,{messageId:e.id})]})]})]})},T9=({onSend:e,disabled:t=!1})=>{const[n,r]=x.useState(""),i=x.useRef(null),a=bc(),o=c=>{c.preventDefault(),n.trim()&&!t&&(e(n.trim()),r(""))},s=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),o(c))},l=()=>{const c=i.current;c&&(c.style.height="auto",c.style.height=`${Math.min(c.scrollHeight,120)}px`)};return x.useEffect(()=>{l()},[n]),f.jsx("form",{onSubmit:o,className:"relative",children:f.jsxs("div",{className:"relative",children:[f.jsx("textarea",{ref:i,value:n,onChange:c=>r(c.target.value),onKeyDown:s,placeholder:a("ui.typeMessage"),className:"w-full resize-none rounded-2xl px-4 py-3 pr-12 min-h-[52px] max-h-[200px] border focus:outline-none focus:ring-0 focus:border-transparent transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)",color:"var(--text)",fontSize:"16px",boxShadow:"0 0 0 1px var(--border)"},disabled:t,rows:1}),f.jsx("button",{type:"submit",disabled:!n.trim()||t,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:n.trim()&&!t?"var(--primary)":"transparent",color:n.trim()&&!t?"white":"var(--text-muted)"},children:f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),f.jsx("path",{d:"M22 2 11 13"})]})})]})})},I9=({sessionId:e,isClosed:t=!1})=>{const{messages:n,loading:r,sending:i,error:a,sendMessage:o}=R3(e),s=x.useRef(null);bc();const{customization:l}=Ec();Fi.useEffect(()=>{console.log("ThreadView messages for sessionId:",e,n)},[n,e]);const c=()=>{var u;(u=s.current)==null||u.scrollIntoView({behavior:"smooth"})};return x.useEffect(()=>{c()},[n]),r?f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),f.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading conversation..."})]})}):f.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[f.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:n.length===0?f.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:f.jsxs("div",{className:"max-w-2xl w-full text-center",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:l.chatTitle}),f.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:l.chatSubtitle})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[f.jsx("button",{onClick:()=>o(l.suggestedQuestions.question1),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),f.jsx("circle",{cx:"12",cy:"5",r:"2"}),f.jsx("path",{d:"M12 7v4"})]})}),f.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question1})]})}),f.jsx("button",{onClick:()=>o(l.suggestedQuestions.question2),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),f.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),f.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question2})]})}),f.jsx("button",{onClick:()=>o(l.suggestedQuestions.question3),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M8 12h8"}),f.jsx("path",{d:"M12 8v8"})]})}),f.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question3})]})}),f.jsx("button",{onClick:()=>o(l.suggestedQuestions.question4),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),f.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question4})]})})]})]})}):f.jsxs("div",{className:"p-4 space-y-4",children:[n.map(u=>(console.log("Rendering message:",u),f.jsx(N9,{message:u},u.id))),f.jsx("div",{ref:s})]})}),a&&f.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:f.jsx("div",{className:"error p-3 rounded-md",children:f.jsx("p",{className:"text-sm",children:a})})}),f.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--border)"},children:t?f.jsx("div",{className:"flex items-center justify-center p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl mb-2",children:""}),f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"This chat is closed"}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Reopen the chat to continue the conversation"})]})}):f.jsx(T9,{onSend:u=>o(u),disabled:i})})]})},Dk=()=>{const{sessionId:e}=OP(),t=An(),{theme:n,toggleTheme:r}=Va(),{language:i,setLanguage:a,t:o}=Ge(),{customization:s}=Ec(),[l,c]=x.useState(null),[u,d]=x.useState(!0),[h,p]=x.useState(null);x.useEffect(()=>{(async()=>{try{const y=await Kg.getMe();c({...y,userId:y.email}),d(!0)}catch(y){console.log("Backend auth failed, trying local auth:",y),d(!1);const v=Tr();v?c({email:v.email,userId:v.email,role:v.role}):(console.log("No local session found, redirecting to login"),t("/"))}})()},[t]),x.useEffect(()=>{if(e){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").find(v=>v.id===e);p(y)}},[e]);const m=async()=>{try{await Kg.logout()}catch(g){console.log("Backend logout failed, using local logout:",g)}Gl(),t("/")};return l?f.jsxs("div",{className:"h-screen flex overflow-hidden",style:{backgroundColor:"var(--bg)"},children:[f.jsxs("div",{className:"w-80 border-r flex flex-col h-full",style:{borderColor:"var(--border)"},children:[f.jsxs("div",{className:"p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:s.chatTitle}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:r,className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},title:o(n==="light"?"ui.theme.dark":"ui.theme.light"),children:n==="light"?f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):f.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),f.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"text-sm px-2 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:"en",children:"EN"}),f.jsx("option",{value:"ko",children:"KO"})]})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:l.email}),f.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:l.role==="admin"?"Administrator":o("ui.user")})]}),l.role==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"text-sm link",title:"Go to Admin Dashboard",children:" Dashboard"}),f.jsx("button",{onClick:()=>t("/settings"),className:"text-sm link",children:o("ui.settings")})]}),f.jsx("button",{onClick:m,className:"text-sm link",children:o("ui.signOut")})]})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!u&&f.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border)"},children:f.jsx("div",{className:"card rounded-md p-3",style:{backgroundColor:"var(--warning-light)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning)"},children:f.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),f.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),f.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:o("ui.demoMode")}),f.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:o("ui.demoModeDescription")})]})]})})}),f.jsx(q$,{})]})]}),f.jsx("div",{className:"flex-1 flex flex-col h-full",children:e?f.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[f.jsx("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("img",{src:s.avatarUrl,alt:"Chatbot Avatar",className:"w-10 h-10 rounded-full flex-shrink-0",style:{objectFit:"cover"},onError:g=>{g.currentTarget.src="/default-profile-avatar.png"}}),f.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:(h==null?void 0:h.title)||o("ui.newChatTitle")}),(h==null?void 0:h.status)==="closed"&&f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:" Closed"}),f.jsx("button",{onClick:()=>{if((h==null?void 0:h.status)==="closed"){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(v=>v.id===e?{...v,status:"open"}:v);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"open"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(v=>v.id===e?{...v,status:"closed"}:v);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"closed"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}},className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:(h==null?void 0:h.status)==="closed"?f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),f.jsx("path",{d:"M21 3v5h-5"}),f.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),f.jsx("path",{d:"M3 21v-5h5"})]}),f.jsxs("span",{children:[o("context.reopen")," ",o("ui.newChatTitle")]})]}):f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("path",{d:"M9 9h6v6H9z"})]}),f.jsx("span",{children:o("ui.closeChat")})]})})]})}),f.jsx(I9,{sessionId:e,isClosed:(h==null?void 0:h.status)==="closed"})]}):f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-xl font-light mb-4",style:{color:"var(--text)"},children:o("chat.welcome")}),f.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:o("ui.selectConversation")})]})})})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg)"},children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),f.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})]})})},D9=()=>{const e=An(),t=Tr(),n=bc(),r=()=>{Gl(),e("/")};return f.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[f.jsx("header",{className:"card border-b",style:{borderColor:"var(--border)"},children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsx("div",{className:"flex items-center",children:f.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:n("dashboard.title")})}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Admin: ",t==null?void 0:t.email]}),f.jsx("button",{onClick:r,className:"link text-sm",children:"Sign Out"})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"card p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Total Users"}),f.jsx("p",{className:"text-3xl font-light",style:{color:"var(--primary)"},children:"1,234"}),f.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"+12% from last month"})]}),f.jsxs("div",{className:"card p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Active Sessions"}),f.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"89"}),f.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"Currently online"})]}),f.jsxs("div",{className:"card p-6 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Status"}),f.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"Healthy"}),f.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"All systems operational"})]})]}),f.jsxs("div",{className:"mt-8 card p-8 rounded-lg",children:[f.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--text)"},children:"Admin Panel"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[f.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"User Management"}),f.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Manage user accounts and permissions"}),f.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Manage Users"})]}),f.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[f.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Settings"}),f.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Configure platform settings"}),f.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Settings"})]})]}),f.jsx("div",{className:"mt-6 card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:f.jsxs("p",{className:"text-sm",style:{color:"var(--primary)"},children:[f.jsx("strong",{children:"Demo Mode:"})," You are logged in as an administrator. Admin features will be implemented here."]})})]})]})]})},R9=()=>{const e=An(),{theme:t,toggleTheme:n}=Va(),{language:r,setLanguage:i}=Ge(),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState("api"),[d,h]=x.useState("supabase"),[p,m]=x.useState(!1),[g,y]=x.useState(null),[v,b]=x.useState(null),[w,S]=x.useState(!1),{customization:j,updateCustomization:k,updateQuestion:_,resetCustomization:N}=Ec(),[E,C]=x.useState({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),[A,T]=x.useState({name:"",webhookUrl:""}),[R,I]=x.useState({url:"",anonKey:""}),[L,$]=x.useState(!1),[q,D]=x.useState(null);x.useEffect(()=>{P(),X(),B()},[]);const B=()=>{const W=dO();I(W)},P=()=>{const W=$n.getConfigs();o(W)},X=()=>{const W=wc();l(W)},M=W=>{W.preventDefault(),g?$n.updateConfig(g.id,E):$n.saveConfig({...E,isActive:a.length===0}),P(),O()},O=()=>{C({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),m(!1),y(null)},ie=W=>{C({name:W.name,baseUrl:W.baseUrl,apiKey:W.apiKey,model:W.model||"gpt-3.5-turbo",temperature:W.temperature||.7,maxTokens:W.maxTokens||1e3}),y(W),m(!0)},ne=W=>{window.confirm("Are you sure you want to delete this configuration?")&&($n.deleteConfig(W),P())},ce=W=>{$n.setActiveConfig(W),P()},ke=W=>{W.preventDefault(),v?J$(v.id,A):Y$({...A,isActive:s.length===0}),X(),ot()},ot=()=>{T({name:"",webhookUrl:""}),m(!1),b(null)},J=W=>{T({name:W.name,webhookUrl:W.webhookUrl}),b(W),m(!0)},V=W=>{window.confirm("Are you sure you want to delete this n8n configuration?")&&(Q$(W),X())},re=W=>{LP(W),X()},H=async W=>{S(!0);try{const U=await Z$(W);alert(U?" Connection successful!":" Connection failed. Please check your webhook URL.")}catch{alert(" Connection failed. Please check your webhook URL.")}finally{S(!1)}};return f.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border)"},children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:()=>e("/chat"),className:"text-sm link",children:" Back to Chat"}),f.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:"Settings"})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:t==="light"?"":""}),f.jsxs("select",{value:r,onChange:W=>i(W.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:"en",children:"EN"}),f.jsx("option",{value:"ko",children:"KO"})]})]})]}),f.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[f.jsx("div",{className:"border-b mb-6",style:{borderColor:"var(--border)"},children:f.jsxs("nav",{className:"-mb-px flex space-x-8",children:[f.jsx("button",{onClick:()=>u("api"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="api"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="api"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="api"?"var(--primary)":"transparent"},children:"API Configurations"}),f.jsx("button",{onClick:()=>u("webhook"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="webhook"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="webhook"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="webhook"?"var(--primary)":"transparent"},children:"Webhooks"}),f.jsx("button",{onClick:()=>u("ui"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="ui"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="ui"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="ui"?"var(--primary)":"transparent"},children:"UI Customization"}),f.jsx("button",{onClick:()=>u("database"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="database"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="database"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="database"?"var(--primary)":"transparent"},children:"Database"})]})}),c==="api"&&f.jsxs(f.Fragment,{children:[p&&f.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:g?"Edit Configuration":"Add New Configuration"}),f.jsxs("form",{onSubmit:M,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),f.jsx("input",{type:"text",value:E.name,onChange:W=>C(U=>({...U,name:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., OpenAI GPT-4",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Base URL"}),f.jsx("input",{type:"url",value:E.baseUrl,onChange:W=>C(U=>({...U,baseUrl:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://api.openai.com/v1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"API Key"}),f.jsx("input",{type:"password",value:E.apiKey,onChange:W=>C(U=>({...U,apiKey:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"sk-...",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Model"}),f.jsx("input",{type:"text",value:E.model,onChange:W=>C(U=>({...U,model:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"gpt-3.5-turbo"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:["Temperature: ",E.temperature]}),f.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:E.temperature,onChange:W=>C(U=>({...U,temperature:parseFloat(W.target.value)})),className:"w-full"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Max Tokens"}),f.jsx("input",{type:"number",value:E.maxTokens,onChange:W=>C(U=>({...U,maxTokens:parseInt(W.target.value)})),className:"input w-full px-3 py-2 rounded-md",min:"1",max:"4000"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),f.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[g?"Update":"Add"," Configuration"]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"API Configurations"}),f.jsx("button",{onClick:()=>m(!0),className:"btn-primary px-4 py-2 text-sm",children:"+ Add Configuration"})]}),a.length===0?f.jsx("div",{className:"card p-8 rounded-lg text-center",children:f.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No API configurations found. Add your first configuration to get started."})}):f.jsx("div",{className:"space-y-3",children:a.map(W=>f.jsx("div",{className:`card p-4 rounded-lg ${W.isActive?"border-2":"border"}`,style:{borderColor:W.isActive?"var(--primary)":"var(--border)",backgroundColor:W.isActive?"var(--primary-light)":"var(--card)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:W.name}),W.isActive&&f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),f.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:W.baseUrl}),f.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Model: ",W.model,"  Temperature: ",W.temperature,"  Max Tokens: ",W.maxTokens]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[!W.isActive&&f.jsx("button",{onClick:()=>ce(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),f.jsx("button",{onClick:()=>ie(W),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),f.jsx("button",{onClick:()=>ne(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},W.id))})]}),f.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--warning-light)"},children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("span",{children:""}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Development Mode"}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"When backend is unavailable, the system uses intelligent simulation based on your chat input. Configure your API settings above for full functionality when backend is running."})]})]})})]}),c==="webhook"&&f.jsxs(f.Fragment,{children:[p&&f.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:v?"Edit Webhook Configuration":"Add New Webhook Configuration"}),f.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),f.jsx("input",{type:"text",value:A.name,onChange:W=>T(U=>({...U,name:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Production n8n Webhook",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Webhook URL"}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("input",{type:"url",value:A.webhookUrl,onChange:W=>T(U=>({...U,webhookUrl:W.target.value})),className:"input flex-1 px-3 py-2 rounded-md",placeholder:"https://n8n.srv978041.hstgr.cloud/webhook/...",required:!0}),f.jsx("button",{type:"button",onClick:()=>H(A.webhookUrl),disabled:w||!A.webhookUrl,className:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"})]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx("button",{type:"button",onClick:ot,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),f.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[v?"Update":"Add"," Configuration"]})]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Webhook Configurations"}),f.jsx("button",{onClick:()=>{u("webhook"),m(!0)},className:"btn-primary px-4 py-2 text-sm",children:"+ Add Webhook Configuration"})]}),s.length===0?f.jsx("div",{className:"card p-8 rounded-lg text-center",children:f.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No webhook configurations found. Add your first webhook to get started."})}):f.jsx("div",{className:"space-y-3",children:s.map(W=>f.jsx("div",{className:`card p-4 rounded-lg ${W.isActive?"border-2":"border"}`,style:{borderColor:W.isActive?"var(--primary)":"var(--border)",backgroundColor:W.isActive?"var(--primary-light)":"var(--card)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:W.name}),W.isActive&&f.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),f.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:W.webhookUrl}),f.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Created: ",new Date(W.createdAt).toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>H(W.webhookUrl),disabled:w,className:"text-xs px-3 py-1 rounded border disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"}),!W.isActive&&f.jsx("button",{onClick:()=>re(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),f.jsx("button",{onClick:()=>J(W),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),f.jsx("button",{onClick:()=>V(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},W.id))})]}),f.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--primary-light)"},children:f.jsxs("div",{className:"flex items-start space-x-2",children:[f.jsx("span",{children:""}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--primary)"},children:"Webhook Integration"}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Configure webhooks to connect your chat interface with external workflows (e.g., n8n). The system will send chat messages to your webhook and receive AI responses."})]})]})})]}),c==="ui"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"card p-6 rounded-lg",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Chat Interface Customization"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Title"}),f.jsx("input",{type:"text",value:j.chatTitle,onChange:W=>k({chatTitle:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Chat Interface, AI Assistant, etc."}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This title appears at the top of the empty chat screen"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Subtitle"}),f.jsx("input",{type:"text",value:j.chatSubtitle,onChange:W=>k({chatSubtitle:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Select a conversation from the sidebar or start a new chat"}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This subtitle appears below the title on the empty chat screen"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chatbot Avatar URL"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:j.avatarUrl,alt:"Avatar Preview",className:"w-12 h-12 rounded-full border-2",style:{borderColor:"var(--border)",objectFit:"cover"},onError:W=>{W.currentTarget.src="/default-profile-avatar.png"}})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("input",{type:"text",value:j.avatarUrl,onChange:W=>k({avatarUrl:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://example.com/avatar.png or data:image/svg+xml;base64,..."}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Enter an image URL or data URI. This avatar appears next to assistant messages."})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Suggested Questions"}),f.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Customize the suggested questions that appear on the empty chat screen"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 1"}),f.jsx("input",{type:"text",value:j.suggestedQuestions.question1,onChange:W=>_("question1",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What is artificial intelligence?"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 2"}),f.jsx("input",{type:"text",value:j.suggestedQuestions.question2,onChange:W=>_("question2",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"How does machine learning work?"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 3"}),f.jsx("input",{type:"text",value:j.suggestedQuestions.question3,onChange:W=>_("question3",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"Explain quantum computing"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 4"}),f.jsx("input",{type:"text",value:j.suggestedQuestions.question4,onChange:W=>_("question4",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What are the benefits of cloud computing?"})]})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset all UI customizations to default values?")&&N()},className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Reset to Defaults"})})]})]}),f.jsxs("div",{className:"card p-6 rounded-lg",children:[f.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Preview"}),f.jsx("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:j.chatTitle}),f.jsx("p",{className:"text-lg mb-8",style:{color:"var(--text-secondary)"},children:j.chatSubtitle}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[f.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),f.jsx("circle",{cx:"12",cy:"5",r:"2"}),f.jsx("path",{d:"M12 7v4"})]})}),f.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question1})]})}),f.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),f.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),f.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question2})]})}),f.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M8 12h8"}),f.jsx("path",{d:"M12 8v8"})]})}),f.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question3})]})}),f.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:f.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),f.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question4})]})})]})]})})]})]}),c==="database"&&f.jsxs("div",{className:"card p-6 rounded-lg",children:[f.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Database Configuration"}),f.jsx("p",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Configure your database connection for prompt management and data storage."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Database Type"}),f.jsxs("select",{value:d,onChange:W=>h(W.target.value),className:"input w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--card)",color:"var(--text)",borderColor:"var(--border)"},children:[f.jsx("option",{value:"supabase",children:"Supabase"}),f.jsx("option",{value:"other",children:"Other (Coming Soon)"})]})]}),d==="supabase"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase URL"}),f.jsx("input",{type:"text",value:R.url,onChange:W=>I({...R,url:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://your-project.supabase.co"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase Anon Key"}),f.jsx("input",{type:"password",value:R.anonKey,onChange:W=>I({...R,anonKey:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."})]})]}),d==="supabase"&&q&&f.jsx("div",{className:"p-3 rounded-md",style:{backgroundColor:q.success?"var(--success-light)":"var(--danger-light)",color:q.success?"var(--success)":"var(--danger)"},children:q.message}),d==="supabase"&&f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{type:"button",onClick:async()=>{$(!0),D(null);try{const W=await I3(R);D({success:W,message:W?"Connection successful!":"Connection failed. Please check your credentials."})}catch(W){D({success:!1,message:"Connection test failed: "+(W instanceof Error?W.message:"Unknown error")})}finally{$(!1)}},disabled:L||!R.url||!R.anonKey,className:"btn-ghost px-4 py-2 rounded-md",children:L?"Testing...":"Test Connection"}),f.jsx("button",{type:"button",onClick:()=>{T3(R),D({success:!0,message:"Configuration saved successfully!"})},disabled:!R.url||!R.anonKey,className:"btn-primary px-4 py-2 rounded-md",children:"Save Configuration"})]}),d==="other"&&f.jsx("div",{className:"p-4 rounded-md",style:{backgroundColor:"var(--warning-light)"},children:f.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Additional database types will be available in future updates."})})]})]})]})]})};function bA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=bA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ve(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=bA(e))&&(r&&(r+=" "),r+=t);return r}var lh={},wA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(wA);var Bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Bx);var ch={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(ch);var uh={},kA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(kA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA,n=ch;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];c?d==="\\"&&s+1<o?(s++,l+=i[s]):d===c?c="":l+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,a.push(l),l=""):l+=d:d==="["?(u=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=r})(uh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wA,n=Bx,r=ch,i=uh;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?n.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let d=0;d<l.length;d++){if(u==null||t.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}e.get=a})(lh);var M9=lh.get;const Vo=En(M9);var SA={exports:{}},Te={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=Symbol.for("react.transitional.element"),Wx=Symbol.for("react.portal"),dh=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),hh=Symbol.for("react.profiler"),ph=Symbol.for("react.consumer"),mh=Symbol.for("react.context"),gh=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),xh=Symbol.for("react.memo"),bh=Symbol.for("react.lazy"),L9=Symbol.for("react.view_transition"),$9=Symbol.for("react.client.reference");function Jn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ux:switch(e=e.type,e){case dh:case hh:case fh:case vh:case yh:case L9:return e;default:switch(e=e&&e.$$typeof,e){case mh:case gh:case bh:case xh:return e;case ph:return e;default:return t}}case Wx:return t}}}Te.ContextConsumer=ph;Te.ContextProvider=mh;Te.Element=Ux;Te.ForwardRef=gh;Te.Fragment=dh;Te.Lazy=bh;Te.Memo=xh;Te.Portal=Wx;Te.Profiler=hh;Te.StrictMode=fh;Te.Suspense=vh;Te.SuspenseList=yh;Te.isContextConsumer=function(e){return Jn(e)===ph};Te.isContextProvider=function(e){return Jn(e)===mh};Te.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ux};Te.isForwardRef=function(e){return Jn(e)===gh};Te.isFragment=function(e){return Jn(e)===dh};Te.isLazy=function(e){return Jn(e)===bh};Te.isMemo=function(e){return Jn(e)===xh};Te.isPortal=function(e){return Jn(e)===Wx};Te.isProfiler=function(e){return Jn(e)===hh};Te.isStrictMode=function(e){return Jn(e)===fh};Te.isSuspense=function(e){return Jn(e)===vh};Te.isSuspenseList=function(e){return Jn(e)===yh};Te.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dh||e===hh||e===fh||e===vh||e===yh||typeof e=="object"&&e!==null&&(e.$$typeof===bh||e.$$typeof===xh||e.$$typeof===mh||e.$$typeof===ph||e.$$typeof===gh||e.$$typeof===$9||e.getModuleId!==void 0)};Te.typeOf=Jn;SA.exports=Te;var F9=SA.exports,Zt=e=>e===0?0:e>0?1:-1,jn=e=>typeof e=="number"&&e!=+e,ba=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,oe=e=>(typeof e=="number"||e instanceof Number)&&!jn(e),Ir=e=>oe(e)||typeof e=="string",z9=0,Zl=e=>{var t=++z9;return"".concat(e||"").concat(t)},hr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(t)&&typeof t!="string")return r;var a;if(ba(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return jn(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},jA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function ut(e,t,n){return oe(e)&&oe(t)?e+n*(t-e):t}function B9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Vo(r,t))===n)}var Qe=e=>e===null||typeof e>"u",Pc=e=>Qe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),U9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Kx(e){if(typeof e!="string")return!1;var t=U9;return t.includes(e)}var W9=["viewBox","children"],Rk=["points","pathLength"],gm={svg:W9,polygon:Rk,polyline:Rk},Hx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Kx(i)&&(r[i]=t||(a=>n[i](n,a)))}),r},K9=(e,t,n)=>r=>(e(t,n,r),null),vs=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Kx(i)&&typeof a=="function"&&(r||(r={}),r[i]=K9(a,t,n))}),r},H9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function _A(e){if(typeof e!="string")return!1;var t=H9;return t.includes(e)}function Ht(e){var t=Object.entries(e).filter(n=>{var[r]=n;return _A(r)});return Object.fromEntries(t)}var Mk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Lk=null,vm=null,CA=e=>{if(e===Lk&&Array.isArray(vm))return vm;var t=[];return x.Children.forEach(e,n=>{Qe(n)||(F9.isFragment(n)?t=t.concat(CA(n.props.children)):t.push(n))}),vm=t,Lk=e,t};function q9(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Mk(i)):r=[Mk(t)],CA(e).forEach(i=>{var a=Vo(i,"type.displayName")||Vo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var V9=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(gm==null?void 0:gm[r]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!r&&a.includes(t)||_A(t)),l=!!n&&Kx(t);return o||s||l},_e=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;V9((o=r)===null||o===void 0?void 0:o[a],a,t,n)&&(i[a]=r[a])}),i},G9=["children","width","height","viewBox","className","style","title","desc"];function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gv.apply(null,arguments)}function Y9(e,t){if(e==null)return{};var n,r,i=J9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qx=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=Y9(e,G9),d=a||{width:r,height:i,x:0,y:0},h=ve("recharts-surface",o);return x.createElement("svg",gv({},_e(u,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),Q9=["children","className"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}function X9(e,t){if(e==null)return{};var n,r,i=Z9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Z9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yt=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=X9(e,Q9),a=ve("recharts-layer",r);return x.createElement("g",vv({className:a},_e(i,!0),{ref:t}),n)}),EA=x.createContext(null),eW=()=>x.useContext(EA);function Me(e){return function(){return e}}const PA=Math.cos,Kd=Math.sin,mr=Math.sqrt,Hd=Math.PI,wh=2*Hd,yv=Math.PI,xv=2*yv,ca=1e-6,tW=xv-ca;function OA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OA;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OA:nW(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,u=o-t,d=s-n,h=u*u+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ca)if(!(Math.abs(d*l-c*u)>ca)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+c*c,y=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((yv-Math.acos((g+h-y)/(2*v*b)))/2),S=w/b,j=w/v;Math.abs(S-1)>ca&&this._append`L${t+S*u},${n+S*d}`,this._append`A${a},${a},0,0,${+(d*p>u*m)},${this._x1=t+j*l},${this._y1=n+j*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ca||Math.abs(this._y1-u)>ca)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%xv+xv),h>tW?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:h>ca&&this._append`A${r},${r},0,${+(h>=yv)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Vx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rW(t)}function Gx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AA(e){this._context=e}AA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kh(e){return new AA(e)}function NA(e){return e[0]}function TA(e){return e[1]}function IA(e,t){var n=Me(!0),r=null,i=kh,a=null,o=Vx(s);e=typeof e=="function"?e:e===void 0?NA:Me(e),t=typeof t=="function"?t:t===void 0?TA:Me(t);function s(l){var c,u=(l=Gx(l)).length,d,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,c,l),+t(d,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Me(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Me(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Su(e,t,n){var r=null,i=Me(!0),a=null,o=kh,s=null,l=Vx(c);e=typeof e=="function"?e:e===void 0?NA:Me(+e),t=typeof t=="function"?t:Me(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?TA:Me(+n);function c(d){var h,p,m,g=(d=Gx(d)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=d[h],h,d))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+e(y,h,d),S[h]=+t(y,h,d),s.point(r?+r(y,h,d):w[h],n?+n(y,h,d):S[h]))}if(b)return s=null,b+""||null}function u(){return IA().defined(i).curve(o).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Me(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Me(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Me(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Me(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Me(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),c):o},c.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),c):a},c}class DA{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function iW(e){return new DA(e,!0)}function aW(e){return new DA(e,!1)}const Yx={draw(e,t){const n=mr(t/Hd);e.moveTo(n,0),e.arc(0,0,n,0,wh)}},oW={draw(e,t){const n=mr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},RA=mr(1/3),sW=RA*2,lW={draw(e,t){const n=mr(t/sW),r=n*RA;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},cW={draw(e,t){const n=mr(t),r=-n/2;e.rect(r,r,n,n)}},uW=.8908130915292852,MA=Kd(Hd/10)/Kd(7*Hd/10),dW=Kd(wh/10)*MA,fW=-PA(wh/10)*MA,hW={draw(e,t){const n=mr(t*uW),r=dW*n,i=fW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=wh*a/5,s=PA(o),l=Kd(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},ym=mr(3),pW={draw(e,t){const n=-mr(t/(ym*3));e.moveTo(0,n*2),e.lineTo(-ym*n,-n),e.lineTo(ym*n,-n),e.closePath()}},In=-.5,Dn=mr(3)/2,bv=1/mr(12),mW=(bv/2+1)*3,gW={draw(e,t){const n=mr(t/mW),r=n/2,i=n*bv,a=r,o=n*bv+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(In*r-Dn*i,Dn*r+In*i),e.lineTo(In*a-Dn*o,Dn*a+In*o),e.lineTo(In*s-Dn*l,Dn*s+In*l),e.lineTo(In*r+Dn*i,In*i-Dn*r),e.lineTo(In*a+Dn*o,In*o-Dn*a),e.lineTo(In*s+Dn*l,In*l-Dn*s),e.closePath()}};function vW(e,t){let n=null,r=Vx(i);e=typeof e=="function"?e:Me(e||Yx),t=typeof t=="function"?t:Me(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Me(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Me(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function qd(){}function Vd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function LA(e){this._context=e}LA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yW(e){return new LA(e)}function $A(e){this._context=e}$A.prototype={areaStart:qd,areaEnd:qd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xW(e){return new $A(e)}function FA(e){this._context=e}FA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bW(e){return new FA(e)}function zA(e){this._context=e}zA.prototype={areaStart:qd,areaEnd:qd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function wW(e){return new zA(e)}function $k(e){return e<0?-1:1}function Fk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return($k(a)+$k(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function zk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xm(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Gd(e){this._context=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xm(this,this._t0,zk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xm(this,zk(this,n=Fk(this,e,t)),n);break;default:xm(this,this._t0,n=Fk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function BA(e){this._context=new UA(e)}(BA.prototype=Object.create(Gd.prototype)).point=function(e,t){Gd.prototype.point.call(this,t,e)};function UA(e){this._context=e}UA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function kW(e){return new Gd(e)}function SW(e){return new BA(e)}function WA(e){this._context=e}WA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Bk(e),i=Bk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bk(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function jW(e){return new WA(e)}function Sh(e,t){this._context=e,this._t=t}Sh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function _W(e){return new Sh(e,.5)}function CW(e){return new Sh(e,0)}function EW(e){return new Sh(e,1)}function Go(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function PW(e,t){return e[t]}function OW(e){const t=[];return t.key=e,t}function AW(){var e=Me([]),t=wv,n=Go,r=PW;function i(a){var o=Array.from(e.apply(this,arguments),OW),s,l=o.length,c=-1,u;for(const d of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(d,o[s].key,c,a)]).data=d;for(s=0,u=Gx(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Me(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Me(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?wv:typeof a=="function"?a:Me(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Go,i):n},i}function NW(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Go(e,t)}}function TW(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Go(e,t)}}function IW(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[r][1]||0,h=u[r-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Go(e,t)}}var DW=["type","size","sizeType"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}function Uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(n),!0).forEach(function(r){RW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RW(e,t,n){return(t=MW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $W(e,t){if(e==null)return{};var n,r,i=FW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KA={symbolCircle:Yx,symbolCross:oW,symbolDiamond:lW,symbolSquare:cW,symbolStar:hW,symbolTriangle:pW,symbolWye:gW},zW=Math.PI/180,BW=e=>{var t="symbol".concat(Pc(e));return KA[t]||Yx},UW=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*zW;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},WW=(e,t)=>{KA["symbol".concat(Pc(e))]=t},Jx=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=$W(e,DW),a=Wk(Wk({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=BW(o),p=vW().type(h).size(UW(n,r,o));return p()},{className:l,cx:c,cy:u}=a,d=_e(a,!0);return c===+c&&u===+u&&n===+n?x.createElement("path",kv({},d,{className:ve("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};Jx.registerSymbol=WW;function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(null,arguments)}function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(n),!0).forEach(function(r){Qx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qx(e,t,n){return(t=HW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn=32;class Xx extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Rn/2,a=Rn/6,o=Rn/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Rn,y2:i,className:"recharts-legend-icon"});if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Rn,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Rn/8,"h").concat(Rn,"v").concat(Rn*3/4,"h").concat(-Rn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=KW({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(Jx,{fill:s,cx:i,cy:i,size:Rn,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:Rn,height:Rn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,d)=>{var h=u.formatter||i,p=ve({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?a:u.color,g=h?h(u.value,u,d):u.value;return x.createElement("li",Sv({className:p,style:l,key:"legend-item-".concat(d)},vs(this.props,u,d)),x.createElement(qx,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Qx(Xx,"displayName","Legend");Qx(Xx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var HA={},qA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(qA);var Oc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Oc);var VA={},jh={},GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GA;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(jh);var YA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(YA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jh,n=YA;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(VA);var _h={},JA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lh;function n(r){return function(i){return t.get(i,r)}}e.property=n})(JA);var QA={},bm={},wm={},Zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Zx);var e0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(e0);var t0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(t0);var Hk;function VW(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n0(),n=Zx,r=e0,i=t0;function a(d,h,p){return typeof p!="function"?t.isMatch(d,h):o(d,h,function m(g,y,v,b,w,S){const j=p(g,y,v,b,w,S);return j!==void 0?!!j:o(g,y,m,S)},new Map)}function o(d,h,p,m){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,p,m);case"function":return Object.keys(h).length>0?o(d,{...h},p,m):i.eq(d,h);default:return n.isObject(d)?typeof h=="string"?h==="":!0:i.eq(d,h)}}function s(d,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(d,h,p,m);if(h instanceof Map)return l(d,h,p,m);if(h instanceof Set)return u(d,h,p,m);const g=Object.keys(h);if(d==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===d;m&&m.set(h,d);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(d)&&!(v in d)||h[v]===void 0&&d[v]!==void 0||h[v]===null&&d[v]!==null||!p(d[v],h[v],v,d,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(d,h,p,m){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of h.entries()){const v=d.get(g);if(p(v,y,g,d,h,m)===!1)return!1}return!0}function c(d,h,p,m){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const S=d[w];let j=!1;if(p(S,v,y,d,h,m)&&(j=!0),j){g.add(w),b=!0;break}}if(!b)return!1}return!0}function u(d,h,p,m){return h.size===0?!0:d instanceof Set?c([...d],[...h],p,m):!1}e.isMatchWith=a,e.isSetMatch=u}(wm)),wm}var qk;function n0(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VW();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(bm)),bm}var XA={},r0={},ZA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(ZA);var i0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(i0);var a0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",N="[object BigInt64Array]",E="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=E,e.float64ArrayTag=C,e.functionTag=d,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(a0);var eN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZA,n=i0,r=a0,i=e0,a=eN;function o(u,d){return s(u,void 0,u,new Map,d)}function s(u,d,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,d,h,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const y=new Array(u.length);p.set(u,y);for(let v=0;v<u.length;v++)y[v]=s(u[v],v,h,p,m);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;p.set(u,y);for(const[v,b]of u)y.set(v,s(b,v,h,p,m));return y}if(u instanceof Set){const y=new Set;p.set(u,y);for(const v of u)y.add(s(v,void 0,h,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,y);for(let v=0;v<u.length;v++)y[v]=s(u[v],v,h,p,m);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,y),l(y,u,h,p,m),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return p.set(u,y),l(y,u,h,p,m),y}if(typeof Blob<"u"&&u instanceof Blob){const y=new Blob([u],{type:u.type});return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof Error){const y=new u.constructor;return p.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,l(y,u,h,p,m),y}if(u instanceof Boolean){const y=new Boolean(u.valueOf());return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof Number){const y=new Number(u.valueOf());return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof String){const y=new String(u.valueOf());return p.set(u,y),l(y,u,h,p,m),y}if(typeof u=="object"&&c(u)){const y=Object.create(Object.getPrototypeOf(u));return p.set(u,y),l(y,u,h,p,m),y}return u}function l(u,d,h=u,p,m){const g=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=s(d[v],v,h,p,m))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(r0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(XA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n0(),n=XA;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(QA);var tN={},nN={},rN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0,n=a0;function r(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case n.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=r})(rN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(nN);var iN={},o0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(o0);var aN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(aN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bx,n=o0,r=aN,i=uh;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}e.has=a})(iN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n0(),n=ch,r=nN,i=lh,a=iN;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=o})(tN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oc,n=JA,r=QA,i=tN;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(_h);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA,n=Oc,r=VA,i=_h;function a(o,s=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(HA);var GW=HA.uniqBy;const Vk=En(GW);function oN(e,t,n){return t===!0?Vk(e,n):typeof t=="function"?Vk(e,t):e}var sN={exports:{}},lN={},cN={exports:{}},uN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yo=x;function YW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var JW=typeof Object.is=="function"?Object.is:YW,QW=Yo.useState,XW=Yo.useEffect,ZW=Yo.useLayoutEffect,eK=Yo.useDebugValue;function tK(e,t){var n=t(),r=QW({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return ZW(function(){i.value=n,i.getSnapshot=t,km(i)&&a({inst:i})},[e,n,t]),XW(function(){return km(i)&&a({inst:i}),e(function(){km(i)&&a({inst:i})})},[e]),eK(n),n}function km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!JW(e,n)}catch{return!0}}function nK(e,t){return t()}var rK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nK:tK;uN.useSyncExternalStore=Yo.useSyncExternalStore!==void 0?Yo.useSyncExternalStore:rK;cN.exports=uN;var iK=cN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=x,aK=iK;function oK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sK=typeof Object.is=="function"?Object.is:oK,lK=aK.useSyncExternalStore,cK=Ch.useRef,uK=Ch.useEffect,dK=Ch.useMemo,fK=Ch.useDebugValue;lN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=cK(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=dK(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,sK(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,d=g)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=lK(e,a[0],a[1]);return uK(function(){o.hasValue=!0,o.value=s},[s]),fK(s),s};sN.exports=lN;var hK=sN.exports,s0=x.createContext(null),pK=e=>e,Be=()=>{var e=x.useContext(s0);return e?e.store.dispatch:pK},rd=()=>{},mK=()=>rd,gK=(e,t)=>e===t;function Z(e){var t=x.useContext(s0);return hK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:mK,t?t.store.getState:rd,t?t.store.getState:rd,t?e:rd,gK)}function vK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function yK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var Gk=e=>Array.isArray(e)?e:[e];function bK(e){const t=Array.isArray(e[0])?e[0]:e;return xK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function wK(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var kK=class{constructor(e){this.value=e}deref(){return this.value}},SK=typeof WeakRef<"u"?WeakRef:kK,jK=0,Yk=1;function ju(){return{s:jK,v:void 0,o:null,p:null}}function dN(e,t={}){let n=ju();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var d;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(m);y===void 0?(s=ju(),g.set(m,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(m);y===void 0?(s=ju(),g.set(m,s)):s=y}}const c=s;let u;if(s.s===Yk)u=s.v;else if(u=e.apply(null,arguments),a++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new SK(u):u}return c.s=Yk,c.v=u,u}return o.clearCache=()=>{n=ju(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function _K(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),vK(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=dN,argsMemoizeOptions:m=[],devModeChecks:g={}}=u,y=Gk(h),v=Gk(m),b=bK(i),w=d(function(){return a++,c.apply(null,arguments)},...y),S=p(function(){o++;const k=wK(b,arguments);return s=w.apply(null,k),s},...v);return Object.assign(S,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var F=_K(dN),CK=Object.assign((e,t=F)=>{yK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>CK}),fN={},hN={},pN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),s=t(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=n})(pN);var mN={},l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(l0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(mN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN,n=mN,r=uh;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<d.length;g++){const y=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(hN);var gN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(n,0),i}e.flatten=t})(gN);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0,n=jh,r=Zx,i=t0;function a(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(c0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN,n=gN,r=c0;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(fN);var EK=fN.sortBy;const Eh=En(EK);var vN=e=>e.legend.settings,PK=e=>e.legend.size,OK=e=>e.legend.payload,AK=F([OK,vN],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Eh(r,n):r});function NK(){return Z(AK)}var _u=1;function yN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>_u||Math.abs(o.left-t.left)>_u||Math.abs(o.top-t.top)>_u||Math.abs(o.width-t.width)>_u)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function kt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var TK=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),Jk=TK,Sm=()=>Math.random().toString(36).substring(7).split("").join("."),IK={INIT:`@@redux/INIT${Sm()}`,REPLACE:`@@redux/REPLACE${Sm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sm()}`},Yd=IK;function u0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function xN(e,t,n){if(typeof e!="function")throw new Error(kt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(xN)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((y,v)=>{o.set(v,y)}))}function u(){if(l)throw new Error(kt(3));return i}function d(y){if(typeof y!="function")throw new Error(kt(4));if(l)throw new Error(kt(5));let v=!0;c();const b=s++;return o.set(b,y),function(){if(v){if(l)throw new Error(kt(6));v=!1,c(),o.delete(b),a=null}}}function h(y){if(!u0(y))throw new Error(kt(7));if(typeof y.type>"u")throw new Error(kt(8));if(typeof y.type!="string")throw new Error(kt(17));if(l)throw new Error(kt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=o).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(kt(10));r=y,h({type:Yd.REPLACE})}function m(){const y=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(kt(11));function b(){const S=v;S.next&&S.next(u())}return b(),{unsubscribe:y(b)}},[Jk](){return this}}}return h({type:Yd.INIT}),{dispatch:h,subscribe:d,getState:u,replaceReducer:p,[Jk]:m}}function DK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yd.INIT})>"u")throw new Error(kt(12));if(typeof n(void 0,{type:Yd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function bN(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{DK(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],h=n[d],p=o[d],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(kt(14));c[d]=m,l=l||m!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Jd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function RK(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(kt(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=Jd(...s)(i.dispatch),{...i,dispatch:a}}}function wN(e){return u0(e)&&"type"in e&&typeof e.type=="string"}var kN=Symbol.for("immer-nothing"),Qk=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function ar(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jo=Object.getPrototypeOf;function $a(e){return!!e&&!!e[_n]}function ni(e){var t;return e?SN(e)||Array.isArray(e)||!!e[Qk]||!!((t=e.constructor)!=null&&t[Qk])||Ac(e)||Oh(e):!1}var MK=Object.prototype.constructor.toString();function SN(e){if(!e||typeof e!="object")return!1;const t=Jo(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===MK}function Qd(e,t){Ph(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ph(e){const t=e[_n];return t?t.type_:Array.isArray(e)?1:Ac(e)?2:Oh(e)?3:0}function jv(e,t){return Ph(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jN(e,t,n){const r=Ph(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function LK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ac(e){return e instanceof Map}function Oh(e){return e instanceof Set}function ua(e){return e.copy_||e.base_}function _v(e,t){if(Ac(e))return new Map(e);if(Oh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=SN(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[_n];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Jo(e),r)}else{const r=Jo(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function d0(e,t=!1){return Ah(e)||$a(e)||!ni(e)||(Ph(e)>1&&Object.defineProperties(e,{set:{value:Cu},add:{value:Cu},clear:{value:Cu},delete:{value:Cu}}),Object.freeze(e),t&&Object.values(e).forEach(n=>d0(n,!0))),e}function Cu(){ar(2)}function Ah(e){return Object.isFrozen(e)}var $K={};function Fa(e){const t=$K[e];return t||ar(0,e),t}var ec;function _N(){return ec}function FK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xk(e,t){t&&(Fa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cv(e){Ev(e),e.drafts_.forEach(zK),e.drafts_=null}function Ev(e){e===ec&&(ec=e.parent_)}function Zk(e){return ec=FK(ec,e)}function zK(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[_n].modified_&&(Cv(t),ar(4)),ni(e)&&(e=Xd(t,e),t.parent_||Zd(t,e)),t.patches_&&Fa("Patches").generateReplacementPatches_(n[_n].base_,e,t.patches_,t.inversePatches_)):e=Xd(t,n,[]),Cv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kN?e:void 0}function Xd(e,t,n){if(Ah(t))return t;const r=t[_n];if(!r)return Qd(t,(i,a)=>tS(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Zd(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),Qd(a,(s,l)=>tS(e,r,i,s,l,n,o)),Zd(e,i,!1),n&&e.patches_&&Fa("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function tS(e,t,n,r,i,a,o){if($a(i)){const s=a&&t&&t.type_!==3&&!jv(t.assigned_,r)?a.concat(r):void 0,l=Xd(e,i,s);if(jN(n,r,l),$a(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ni(i)&&!Ah(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Xd(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ac(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Zd(e,i)}}function Zd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&d0(t,n)}function BK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:_N(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=f0;n&&(i=[r],a=tc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var f0={get(e,t){if(t===_n)return e;const n=ua(e);if(!jv(n,t))return UK(e,n,t);const r=n[t];return e.finalized_||!ni(r)?r:r===jm(e.base_,t)?(_m(e),e.copy_[t]=Ov(r,e)):r},has(e,t){return t in ua(e)},ownKeys(e){return Reflect.ownKeys(ua(e))},set(e,t,n){const r=CN(ua(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=jm(ua(e),t),a=i==null?void 0:i[_n];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(LK(n,i)&&(n!==void 0||jv(e.base_,t)))return!0;_m(e),Pv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_m(e),Pv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ua(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ar(11)},getPrototypeOf(e){return Jo(e.base_)},setPrototypeOf(){ar(12)}},tc={};Qd(f0,(e,t)=>{tc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tc.deleteProperty=function(e,t){return tc.set.call(this,e,t,void 0)};tc.set=function(e,t,n){return f0.set.call(this,e[0],t,n,e[0])};function jm(e,t){const n=e[_n];return(n?ua(n):e)[t]}function UK(e,t,n){var i;const r=CN(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function CN(e,t){if(!(t in e))return;let n=Jo(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jo(n)}}function Pv(e){e.modified_||(e.modified_=!0,e.parent_&&Pv(e.parent_))}function _m(e){e.copy_||(e.copy_=_v(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&ar(6),r!==void 0&&typeof r!="function"&&ar(7);let i;if(ni(t)){const a=Zk(this),o=Ov(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?Cv(a):Ev(a)}return Xk(a,r),eS(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===kN&&(i=void 0),this.autoFreeze_&&d0(i,!0),r){const a=[],o=[];Fa("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else ar(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ni(e)||ar(8),$a(e)&&(e=Jr(e));const t=Zk(this),n=Ov(e,void 0);return n[_n].isManual_=!0,Ev(t),n}finishDraft(e,t){const n=e&&e[_n];(!n||!n.isManual_)&&ar(9);const{scope_:r}=n;return Xk(r,t),eS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Fa("Patches").applyPatches_;return $a(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ov(e,t){const n=Ac(e)?Fa("MapSet").proxyMap_(e,t):Oh(e)?Fa("MapSet").proxySet_(e,t):BK(e,t);return(t?t.scope_:_N()).drafts_.push(n),n}function Jr(e){return $a(e)||ar(10,e),EN(e)}function EN(e){if(!ni(e)||Ah(e))return e;const t=e[_n];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=_v(e,t.scope_.immer_.useStrictShallowCopy_)}else n=_v(e,!0);return Qd(n,(r,i)=>{jN(n,r,EN(i))}),t&&(t.finalized_=!1),n}var KK=new WK,PN=KK.produce;function ON(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var HK=ON(),qK=ON,VK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jd:Jd.apply(null,arguments)};function Gn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(kn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>wN(r)&&r.type===e,n}var AN=class ll extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ll.prototype)}static get[Symbol.species](){return ll}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ll(...t[0].concat(this)):new ll(...t.concat(this))}};function nS(e){return ni(e)?PN(e,()=>{}):e}function Eu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function GK(e){return typeof e=="boolean"}var YK=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new AN;return n&&(GK(n)?o.push(HK):o.push(qK(n.extraArgument))),o},JK="RTK_autoBatch",rS=e=>t=>{setTimeout(t,e)},QK=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rS(10):e.type==="callback"?e.queueNotification:rS(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),h=r.subscribe(d);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[JK]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},XK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new AN(e);return r&&i.push(QK(typeof r=="object"?r:void 0)),i};function ZK(e){const t=YK(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(u0(n))l=bN(n);else throw new Error(kn(1));let c;typeof r=="function"?c=r(t):c=t();let u=Jd;i&&(u=VK({trace:!1,...typeof i=="object"&&i}));const d=RK(...c),h=XK(d);let p=typeof s=="function"?s(h):h();const m=u(...p);return xN(l,o,m)}function NN(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(kn(28));if(s in t)throw new Error(kn(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function eH(e){return typeof e=="function"}function tH(e,t){let[n,r,i]=NN(t),a;if(eH(e))a=()=>nS(e());else{const s=nS(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if($a(u)){const p=d(u,l);return p===void 0?u:p}else{if(ni(u))return PN(u,h=>d(h,l));{const h=d(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=a,o}var nH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rH=(e=21)=>{let t="",n=e;for(;n--;)t+=nH[Math.random()*64|0];return t},iH=Symbol.for("rtk-slice-createasyncthunk");function aH(e,t){return`${e}/${t}`}function oH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[iH];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(kn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(lH()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const k=typeof S=="string"?S:S.type;if(!k)throw new Error(kn(12));if(k in c.sliceCaseReducersByType)throw new Error(kn(13));return c.sliceCaseReducersByType[k]=j,u},addMatcher(S,j){return c.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return c.actionCreators[S]=j,u},exposeCaseReducer(S,j){return c.sliceCaseReducersByName[S]=j,u}};l.forEach(S=>{const j=s[S],k={reducerName:S,type:aH(a,S),createNotation:typeof i.reducers=="function"};uH(j)?fH(k,j,u,t):cH(k,j,u)});function d(){const[S={},j=[],k=void 0]=typeof i.extraReducers=="function"?NN(i.extraReducers):[i.extraReducers],_={...S,...c.sliceCaseReducersByType};return tH(i.initialState,N=>{for(let E in _)N.addCase(E,_[E]);for(let E of c.sliceMatchers)N.addMatcher(E.matcher,E.reducer);for(let E of j)N.addMatcher(E.matcher,E.reducer);k&&N.addDefaultCase(k)})}const h=S=>S,p=new Map,m=new WeakMap;let g;function y(S,j){return g||(g=d()),g(S,j)}function v(){return g||(g=d()),g.getInitialState()}function b(S,j=!1){function k(N){let E=N[S];return typeof E>"u"&&j&&(E=Eu(m,k,v)),E}function _(N=h){const E=Eu(p,j,()=>new WeakMap);return Eu(E,N,()=>{const C={};for(const[A,T]of Object.entries(i.selectors??{}))C[A]=sH(T,N,()=>Eu(m,N,v),j);return C})}return{reducerPath:S,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(S,{reducerPath:j,...k}={}){const _=j??o;return S.inject({reducerPath:_,reducer:y},k),{...w,...b(_,!0)}}};return w}}function sH(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Nn=oH();function lH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function cH({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!dH(r))throw new Error(kn(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Gn(e,o):Gn(e))}function uH(e){return e._reducerDefinitionType==="asyncThunk"}function dH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(kn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=n,d=i(e,a,u);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(t,{fulfilled:o||Pu,pending:s||Pu,rejected:l||Pu,settled:c||Pu})}function Pu(){}var hH="task",TN="listener",IN="completed",h0="cancelled",pH=`task-${h0}`,mH=`task-${IN}`,Av=`${TN}-${h0}`,gH=`${TN}-${IN}`,Nh=class{constructor(e){Qc(this,"name","TaskAbortError");Qc(this,"message");this.code=e,this.message=`${hH} ${h0} (reason: ${e})`}},p0=(e,t)=>{if(typeof e!="function")throw new TypeError(kn(32))},ef=()=>{},DN=(e,t=ef)=>(e.catch(t),e),RN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Pa=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Oa=e=>{if(e.aborted){const{reason:t}=e;throw new Nh(t)}};function MN(e,t){let n=ef;return new Promise((r,i)=>{const a=()=>i(new Nh(e.reason));if(e.aborted){a();return}n=RN(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ef})}var vH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Nh?"cancelled":"rejected",error:n}}finally{t==null||t()}},tf=e=>t=>DN(MN(e,t).then(n=>(Oa(e),n))),LN=e=>{const t=tf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Mo}=Object,iS={},Th="listenerMiddleware",yH=(e,t)=>{const n=r=>RN(e,()=>Pa(r,e.reason));return(r,i)=>{p0(r);const a=new AbortController;n(a);const o=vH(async()=>{Oa(e),Oa(a.signal);const s=await r({pause:tf(a.signal),delay:LN(a.signal),signal:a.signal});return Oa(a.signal),s},()=>Pa(a,mH));return i!=null&&i.autoJoin&&t.push(o.catch(ef)),{result:tf(e)(o),cancel(){Pa(a,pH)}}}},xH=(e,t)=>{const n=async(r,i)=>{Oa(t);let a=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await MN(t,Promise.race(s));return Oa(t),l}finally{a()}};return(r,i)=>DN(n(r,i))},$N=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Gn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(kn(21));return p0(a),{predicate:i,type:t,effect:a}},FN=Mo(e=>{const{type:t,predicate:n,effect:r}=$N(e);return{id:rH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kn(22))}}},{withTypes:()=>FN}),aS=(e,t)=>{const{type:n,effect:r,predicate:i}=$N(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Nv=e=>{e.pending.forEach(t=>{Pa(t,Av)})},bH=e=>()=>{e.forEach(Nv),e.clear()},oS=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},zN=Mo(Gn(`${Th}/add`),{withTypes:()=>zN}),wH=Gn(`${Th}/removeAll`),BN=Mo(Gn(`${Th}/remove`),{withTypes:()=>BN}),kH=(...e)=>{console.error(`${Th}/error`,...e)},Nc=(e={})=>{const t=new Map,{extra:n,onError:r=kH}=e;p0(r);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),d=>{u.unsubscribe(),d!=null&&d.cancelActive&&Nv(u)}),a=u=>{const d=aS(t,u)??FN(u);return i(d)};Mo(a,{withTypes:()=>a});const o=u=>{const d=aS(t,u);return d&&(d.unsubscribe(),u.cancelActive&&Nv(d)),!!d};Mo(o,{withTypes:()=>o});const s=async(u,d,h,p)=>{const m=new AbortController,g=xH(a,m.signal),y=[];try{u.pending.add(m),await Promise.resolve(u.effect(d,Mo({},h,{getOriginalState:p,condition:(v,b)=>g(v,b).then(Boolean),take:g,delay:LN(m.signal),pause:tf(m.signal),extra:n,signal:m.signal,fork:yH(m.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,b,w)=>{v!==m&&(Pa(v,Av),w.delete(v))})},cancel:()=>{Pa(m,Av),u.pending.delete(m)},throwIfCancelled:()=>{Oa(m.signal)}})))}catch(v){v instanceof Nh||oS(r,v,{raisedBy:"effect"})}finally{await Promise.all(y),Pa(m,gH),u.pending.delete(m)}},l=bH(t);return{middleware:u=>d=>h=>{if(!wN(h))return d(h);if(zN.match(h))return a(h.payload);if(wH.match(h)){l();return}if(BN.match(h))return o(h.payload);let p=u.getState();const m=()=>{if(p===iS)throw new Error(kn(23));return p};let g;try{if(g=d(h),t.size>0){const y=u.getState(),v=Array.from(t.values());for(const b of v){let w=!1;try{w=b.predicate(h,y,p)}catch(S){w=!1,oS(r,S,{raisedBy:"predicate"})}w&&s(b,h,u,m)}}}finally{p=iS}return g},startListening:a,stopListening:o,clearListeners:l}};function kn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},UN=Nn({name:"chartLayout",initialState:SH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jH,setLayout:_H,setChartSize:CH,setScale:EH}=UN.actions,PH=UN.reducer;function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nf=Math.PI/180,rf=e=>e*Math.PI/180,TH=e=>e*180/Math.PI,Ee=(e,t,n,r)=>({x:e+Math.cos(-nf*r)*n,y:t+Math.sin(-nf*r)*n}),IH=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},DH=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},RH=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=DH({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:TH(l),angleInRadian:l}},MH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},LH=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},$H=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=RH({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=MH(t),u=a,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?lS(lS({},t),{},{radius:i,angle:LH(u,t)}):null},WN=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function KN(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function cS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(n),!0).forEach(function(r){FH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FH(e,t,n){return(t=zH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ft(e,t,n){return Qe(e)||Qe(t)?n:Ir(t)?Vo(e,t,n):typeof t=="function"?t(e):n}var UH=(e,t,n,r,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,d=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(Zt(u-c)!==Zt(d-u)){var p=[];if(Zt(d-u)===Zt(i[1]-i[0])){h=d;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=d+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,d),b=Math.max(c,d);if(e>(v+u)/2&&e<=(b+u)/2){({index:o}=n[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},WH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&oe(e[a]))return Un(Un({},e),{},{[a]:e[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&oe(e[o]))return Un(Un({},e),{},{[o]:e[o]+(i||0)})}return e},Yi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",HN=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(n),o},qN=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:p}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(t||n)&&i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?Zt(a[0]-a[1])*2*g:g,t&&(d||h)){var y=(d||h||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:o(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!jn(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:o(v)+g,value:v,index:b,offset:g})):o.ticks&&!n&&u!=null?o.ticks(u).map((v,b)=>({coordinate:o(v)+g,value:v,offset:g,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+g,value:r?r[v]:v,index:b,offset:g}))},uS=1e-4,KH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-uS,a=Math.max(r[0],r[1])+uS,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},HH=(e,t)=>{if(!t||t.length!==2||!oe(t[0])||!oe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!oe(e[0])||e[0]<n)&&(i[0]=n),(!oe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},qH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=jn(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},VH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=jn(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},GH={sign:qH,expand:NW,none:Go,silhouette:TW,wiggle:IW,positive:VH},YH=(e,t,n)=>{var r=GH[n],i=AW().keys(t).value((a,o)=>+ft(a,o,0)).order(wv).offset(r);return i(e)};function JH(e){return e==null?void 0:String(e)}var dS=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var s=ft(a,t.dataKey,t.scale.domain()[o]);return Qe(s)?null:t.scale(s)-i/2+r},QH=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},XH=e=>{var t=e.flat(2).filter(oe);return[Math.min(...t),Math.max(...t)]},ZH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],eq=(e,t,n)=>{if(e!=null)return ZH(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=KN(c,t,n),d=XH(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},fS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Eh(t,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function pS(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Un(Un({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Ih(e,t){if(e)return String(e);if(typeof t=="string")return t}function tq(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?$H({x:e,y:t},r):null}var nq=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Un(Un(Un({},r),Ee(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Un(Un(Un({},r),Ee(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},rq=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ci=e=>e.layout.width,ui=e=>e.layout.height,iq=e=>e.layout.scale,VN=e=>e.layout.margin,Dh=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Rh=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aq="data-recharts-item-index",oq="data-recharts-item-data-key",Tc=60;function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(n),!0).forEach(function(r){sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uq=e=>e.brush.height;function dq(e){var t=Rh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Tc;return n+i}return n},0)}function fq(e){var t=Rh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Tc;return n+i}return n},0)}function hq(e){var t=Dh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function pq(e){var t=Dh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var xt=F([ci,ui,VN,uq,dq,fq,hq,pq,vN,PK],(e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},d={top:(n.top||0)+o,bottom:(n.bottom||0)+s},h=Ou(Ou({},d),u),p=h.bottom;h.bottom+=r,h=WH(h,l,c);var m=e-h.left-h.right,g=t-h.top-h.bottom;return Ou(Ou({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),mq=F(xt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),m0=F(ci,ui,(e,t)=>({x:0,y:0,width:e,height:t})),gq=x.createContext(null),sn=()=>x.useContext(gq)!=null,Mh=e=>e.brush,Lh=F([Mh,xt,VN],(e,t,n)=>({height:e.height,x:oe(e.x)?e.x:t.left,y:oe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:oe(e.width)?e.width:t.width})),g0=()=>{var e,t=sn(),n=Z(mq),r=Z(Lh),i=(e=Z(Mh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},GN=()=>{var e;return(e=Z(xt))!==null&&e!==void 0?e:vq},v0=()=>Z(ci),y0=()=>Z(ui),yq=()=>Z(e=>e.layout.margin),ye=e=>e.layout.layoutType,x0=()=>Z(ye),xq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YN=Nn({name:"legend",initialState:xq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Jr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:gS,setLegendSettings:bq,addLegendPayload:JN,removeLegendPayload:QN}=YN.actions,wq=YN.reducer,kq=["contextPayload"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tv.apply(null,arguments)}function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(n),!0).forEach(function(r){b0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b0(e,t,n){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _q(e,t){if(e==null)return{};var n,r,i=Cq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Eq(e){return e.value}function Pq(e){var{contextPayload:t}=e,n=_q(e,kq),r=oN(t,e.payloadUniqBy,Eq),i=Qo(Qo({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(Xx,i)}function Oq(e,t,n,r,i,a){var{layout:o,align:s,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-a.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Qo(Qo({},c),u)}function Aq(e){var t=Be();return x.useEffect(()=>{t(bq(e))},[t,e]),null}function Nq(e){var t=Be();return x.useEffect(()=>(t(gS(e)),()=>{t(gS({width:0,height:0}))}),[t,e]),null}function Tq(e){var t=NK(),n=eW(),r=yq(),{width:i,height:a,wrapperStyle:o,portal:s}=e,[l,c]=yN([t]),u=v0(),d=y0();if(u==null||d==null)return null;var h=u-(r.left||0)-(r.right||0),p=$h.getWidthOrHeight(e.layout,a,i,h),m=s?o:Qo(Qo({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},Oq(o,e,r,u,d,l)),o),g=s??n;if(g==null)return null;var y=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},x.createElement(Aq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(Nq,{width:l.width,height:l.height}),x.createElement(Pq,Tv({},e,p,{margin:r,chartWidth:u,chartHeight:d,contextPayload:t})));return hx.createPortal(y,g)}class $h extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&oe(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(Tq,this.props)}}b0($h,"displayName","Legend");b0($h,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iv.apply(null,arguments)}function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(n),!0).forEach(function(r){Iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iq(e,t,n){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mq(e){return Array.isArray(e)&&Ir(e[0])&&Ir(e[1])?e.join(" ~ "):e}var Lq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(s?Eh(a,s):a).map((_,N)=>{if(_.type==="none")return null;var E=_.formatter||o||Mq,{value:C,name:A}=_,T=C,R=A;if(E){var I=E(C,A,_,N,a);if(Array.isArray(I))[T,R]=I;else if(I!=null)T=I;else return null}var L=Cm({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:L},Ir(R)?x.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Ir(R)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},T),x.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},m=Cm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Cm({margin:0},i),y=!Qe(u),v=y?u:"",b=ve("recharts-default-tooltip",l),w=ve("recharts-tooltip-label",c);y&&d&&a!==void 0&&a!==null&&(v=d(u,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Iv({className:b,style:m},S),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),p())},Vs="recharts-tooltip-wrapper",$q={visibility:"hidden"};function Fq(e){var{coordinate:t,translateX:n,translateY:r}=e;return ve(Vs,{["".concat(Vs,"-right")]:oe(n)&&t&&oe(t.x)&&n>=t.x,["".concat(Vs,"-left")]:oe(n)&&t&&oe(t.x)&&n<t.x,["".concat(Vs,"-bottom")]:oe(r)&&t&&oe(t.y)&&r>=t.y,["".concat(Vs,"-top")]:oe(r)&&t&&oe(t.y)&&r<t.y})}function xS(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&oe(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return o[r]?u:d;var h=l[r];if(h==null)return 0;if(o[r]){var p=u,m=h;return p<m?Math.max(d,h):Math.max(u,h)}if(c==null)return 0;var g=d+s,y=h+c;return g>y?Math.max(u,h):Math.max(d,h)}function zq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Bq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,u,d;return o.height>0&&o.width>0&&n?(u=xS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=xS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=zq({translateX:u,translateY:d,useTranslate3d:s})):c=$q,{cssProperties:c,cssClasses:Fq({translateX:u,translateY:d,coordinate:n})}}function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(n),!0).forEach(function(r){Dv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dv(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kq extends x.PureComponent{constructor(){super(...arguments),Dv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Dv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=Bq({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=v?{}:Au(Au({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=Au(Au({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:y},a)}}var Hq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ja={devToolsEnabled:!1,isSsr:Hq()},XN=()=>Z(e=>e.rootProps.accessibilityLayer);function Cn(e){return Number.isFinite(e)}function Xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rv.apply(null,arguments)}function wS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(n),!0).forEach(function(r){qq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qq(e,t,n){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SS={curveBasisClosed:xW,curveBasisOpen:bW,curveBasis:yW,curveBumpX:iW,curveBumpY:aW,curveLinearClosed:wW,curveLinear:kh,curveMonotoneX:kW,curveMonotoneY:SW,curveNatural:jW,curveStep:_W,curveStepAfter:EW,curveStepBefore:CW},Nu=e=>Cn(e.x)&&Cn(e.y),Gs=e=>e.x,Ys=e=>e.y,Yq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Pc(e));return(n==="curveMonotone"||n==="curveBump")&&t?SS["".concat(n).concat(t==="vertical"?"Y":"X")]:SS[n]||kh},Jq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=Yq(t,i),s=a?n.filter(Nu):n,l;if(Array.isArray(r)){var c=a?r.filter(d=>Nu(d)):r,u=s.map((d,h)=>kS(kS({},d),{},{base:c[h]}));return i==="vertical"?l=Su().y(Ys).x1(Gs).x0(d=>d.base.x):l=Su().x(Gs).y1(Ys).y0(d=>d.base.y),l.defined(Nu).curve(o),l(u)}return i==="vertical"&&oe(r)?l=Su().y(Ys).x1(Gs).x0(r):oe(r)?l=Su().x(Gs).y1(Ys).y0(r):l=IA().x(Gs).y(Ys),l.defined(Nu).curve(o),l(s)},Qq=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Jq(e):r;return x.createElement("path",Rv({},Ht(e),Hx(e),{className:ve("recharts-curve",t),d:a===null?void 0:a,ref:i}))},Xq=["x","y","top","left","width","height","className"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(null,arguments)}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(n),!0).forEach(function(r){eV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eV(e,t,n){return(t=tV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tV(e){var t=nV(e,"string");return typeof t=="symbol"?t:t+""}function nV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rV(e,t){if(e==null)return{};var n,r,i=iV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aV=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),oV=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=rV(e,Xq),c=Zq({x:t,y:n,top:r,left:i,width:a,height:o},l);return!oe(t)||!oe(n)||!oe(a)||!oe(o)||!oe(r)||!oe(i)?null:x.createElement("path",Mv({},_e(c,!0),{className:ve("recharts-cross",s),d:aV(t,n,a,o,r,i)}))};function sV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function _S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(n),!0).forEach(function(r){cV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cV(e,t,n){return(t=uV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uV(e){var t=dV(e,"string");return typeof t=="symbol"?t:t+""}function dV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ln(e,t){var n=lV({},e),r=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function fV(){}function CS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ES(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(n),!0).forEach(function(r){hV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hV(e,t,n){return(t=pV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ZN=(e,t,n)=>e.map(r=>"".concat(gV(r)," ").concat(t,"ms ").concat(n)).join(","),vV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),rc=(e,t)=>Object.keys(t).reduce((n,r)=>ES(ES({},n),{},{[r]:e(r,t[r])}),{});function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(r){yV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yV(e,t,n){return(t=xV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var af=(e,t,n)=>e+(t-e)*n,Lv=e=>{var{from:t,to:n}=e;return t!==n},e2=(e,t,n)=>{var r=rc((i,a)=>{if(Lv(a)){var[o,s]=e(a.from,a.to,a.velocity);return jt(jt({},a),{},{from:o,velocity:s})}return a},t);return n<1?rc((i,a)=>Lv(a)?jt(jt({},a),{},{velocity:af(a.velocity,r[i].velocity,n),from:af(a.from,r[i].from,n)}):a,t):e2(e,r,n-1)};function wV(e,t,n,r,i,a){var o,s=r.reduce((h,p)=>jt(jt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>rc((h,p)=>p.from,s),c=()=>!Object.values(s).filter(Lv).length,u=null,d=h=>{o||(o=h);var p=h-o,m=p/n.dt;s=e2(n,s,m),i(jt(jt(jt({},e),t),l())),o=h,c()||(u=a.setTimeout(d))};return()=>(u=a.setTimeout(d),()=>{u()})}function kV(e,t,n,r,i,a,o){var s=null,l=i.reduce((d,h)=>jt(jt({},d),{},{[h]:[e[h],t[h]]}),{}),c,u=d=>{c||(c=d);var h=(d-c)/r,p=rc((g,y)=>af(...y,n(h)),l);if(a(jt(jt(jt({},e),t),p)),h<1)s=o.setTimeout(u);else{var m=rc((g,y)=>af(...y,n(1)),l);a(jt(jt(jt({},e),t),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const SV=(e,t,n,r,i,a)=>{var o=vV(e,t);return n.isStepper===!0?wV(e,t,n,o,i,a):kV(e,t,n,r,o,i,a)};var of=1e-4,t2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],n2=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),OS=(e,t)=>n=>{var r=t2(e,t);return n2(r,n)},jV=(e,t)=>n=>{var r=t2(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return n2(i,n)},AS=function(){for(var t,n,r,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,r,n,i]=o);var c=OS(t,n),u=OS(r,i),d=jV(t,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,y=g,v=0;v<8;++v){var b=c(y)-g,w=d(y);if(Math.abs(b-g)<of||w<of)return u(y);y=h(y-b/w)}return u(y)};return p.isStepper=!1,p},_V=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*n,u=l*r,d=l+(c-u)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<of&&Math.abs(d)<of?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},CV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AS(e);case"spring":return _V();default:if(e.split("(")[0]==="cubic-bezier")return AS(e)}return typeof e=="function"?e:null};function EV(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class PV{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function OV(){return EV(new PV)}var AV=x.createContext(OV);function NV(e,t){var n=x.useContext(AV);return x.useMemo(()=>t??n(e),[e,t,n])}var TV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},NS={t:0},Em={t:1};function Fh(e){var t=ln(e,TV),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=NV(t.animationId,t.animationManager),[d,h]=x.useState(n?NS:Em),p=x.useRef(null);return x.useEffect(()=>{n||h(Em)},[n]),x.useEffect(()=>{if(!n||!r)return fV;var m=SV(NS,Em,CV(a),i,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,o,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[n,r,i,a,o,l,s,u]),c(d.t)}function zh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(Zl(t)),r=x.useRef(e);return r.current!==e&&(n.current=Zl(t),r.current=e),n.current}function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(n),!0).forEach(function(r){IV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IV(e,t,n){return(t=DV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DV(e){var t=RV(e,"string");return typeof t=="symbol"?t:t+""}function RV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(null,arguments)}var DS=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,h=4;d<h;d++)u[d]=i[d]>a?a:i[d];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+n-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+o*u[1])),c+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+n-s*u[2],",").concat(t+r)),c+="L ".concat(e+s*u[3],",").concat(t+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+n-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+o*p,`
            L `).concat(e+n,",").concat(t+r-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-s*p,",").concat(t+r,`
            L `).concat(e+s*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},MV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r2=e=>{var t=ln(e,MV),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=x.useRef(s),v=x.useRef(l),b=x.useRef(a),w=x.useRef(o),S=x.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),j=zh(S,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var k=ve("recharts-rectangle",u);if(!g)return x.createElement("path",sf({},_e(t,!0),{className:k,d:DS(a,o,s,l,c)}));var _=y.current,N=v.current,E=b.current,C=w.current,A="0px ".concat(r===-1?1:r,"px"),T="".concat(r,"px 0px"),R=ZN(["strokeDasharray"],h,typeof d=="string"?d:void 0);return x.createElement(Fh,{animationId:j,key:j,canBegin:r>0,duration:h,easing:d,isActive:g,begin:p},I=>{var L=ut(_,s,I),$=ut(N,l,I),q=ut(E,a,I),D=ut(C,o,I);n.current&&(y.current=L,v.current=$,b.current=q,w.current=D);var B;return m?I>0?B={transition:R,strokeDasharray:T}:B={strokeDasharray:A}:B={strokeDasharray:T},x.createElement("path",sf({},_e(t,!0),{className:k,d:DS(q,D,L,$,c),ref:n,style:IS(IS({},B),t.style)}))})};function i2(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Ee(t,n,r,i),s=Ee(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(null,arguments)}var LV=(e,t)=>{var n=Zt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Tu=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/nf,d=l?i:i+a*u,h=Ee(t,n,c,d),p=Ee(t,n,r,d),m=l?i-a*u:i,g=Ee(t,n,c*Math.cos(u*nf),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},a2=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=LV(a,o),l=a+s,c=Ee(t,n,i,a),u=Ee(t,n,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var h=Ee(t,n,r,a),p=Ee(t,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},$V=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=Zt(c-l),{circleTangency:d,lineTangency:h,theta:p}=Tu({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:y}=Tu({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):a2({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=Tu({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:_,theta:N}=Tu({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),E=s?Math.abs(l-c):Math.abs(l-c)-j-N;if(E<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(E>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},FV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},o2=e=>{var t=ln(e,FV),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var h=ve("recharts-sector",d),p=a-i,m=hr(o,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=$V({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=a2({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),x.createElement("path",$v({},_e(t,!0),{className:h,d:g}))};function zV(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:d}=t,h=Ee(s,l,c,d),p=Ee(s,l,u,d);r=h.x,i=h.y,a=p.x,o=p.y}else return i2(t);return[{x:r,y:i},{x:a,y:o}]}var s2={},l2={},c2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(c2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c2;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(l2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0,n=l2;function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=r})(s2);var BV=s2.range;const u2=En(BV);function $i(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w0(e){let t,n,r;e.length!==2?(t=$i,n=(s,l)=>$i(e(s),l),r=(s,l)=>e(s)-l):(t=e===$i||e===UV?e:WV,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<0?c=d+1:u=d}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(s[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,l,c=0,u=s.length){const d=i(s,l,c,u-1);return d>c&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function WV(){return 0}function d2(e){return e===null?NaN:+e}function*KV(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const HV=w0($i),qV=HV.right;w0(d2).center;const Ic=qV;class RS extends Map{constructor(t,n=YV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(MS(this,t))}has(t){return super.has(MS(this,t))}set(t,n){return super.set(VV(this,t),n)}delete(t){return super.delete(GV(this,t))}}function MS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function VV({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function GV({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function YV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function JV(e=$i){if(e===$i)return f2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function f2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const QV=Math.sqrt(50),XV=Math.sqrt(10),ZV=Math.sqrt(2);function lf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=QV?10:a>=XV?5:a>=ZV?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?lf(e,t,n*2):[s,l,c]}function Fv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?lf(t,e,n):lf(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function zv(e,t,n){return t=+t,e=+e,n=+n,lf(e,t,n)[2]}function Bv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?zv(t,e,n):zv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function LS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function $S(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function h2(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?f2:JV(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*d/l+h)),m=Math.min(r,Math.floor(t+(l-c)*d/l+h));h2(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(Js(e,n,t),i(e[r],a)>0&&Js(e,n,r);o<s;){for(Js(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Js(e,n,s):(++s,Js(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Js(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function e7(e,t,n){if(e=Float64Array.from(KV(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return $S(e);if(t>=1)return LS(e);var r,i=(r-1)*t,a=Math.floor(i),o=LS(h2(e,a).subarray(0,a+1)),s=$S(e.subarray(a+1));return o+(s-o)*(i-a)}}function t7(e,t,n=d2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function n7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Qn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function di(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uv=Symbol("implicit");function k0(){var e=new RS,t=[],n=[],r=Uv;function i(a){let o=e.get(a);if(o===void 0){if(r!==Uv)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new RS;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return k0(t,n).unknown(r)},Qn.apply(i,arguments),i}function S0(){var e=k0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var y=n7(h).map(function(v){return m+a*v});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),d()):u},e.copy=function(){return S0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},Qn.apply(d(),arguments)}function p2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return p2(t())},e}function r7(){return p2(S0.apply(null,arguments).paddingInner(1))}function j0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function m2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dc(){}var ic=.7,cf=1/ic,Lo="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i7=/^#([0-9a-f]{3,8})$/,a7=new RegExp(`^rgb\\(${Lo},${Lo},${Lo}\\)$`),o7=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),s7=new RegExp(`^rgba\\(${Lo},${Lo},${Lo},${ac}\\)$`),l7=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${ac}\\)$`),c7=new RegExp(`^hsl\\(${ac},${Nr},${Nr}\\)$`),u7=new RegExp(`^hsla\\(${ac},${Nr},${Nr},${ac}\\)$`),FS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j0(Dc,oc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zS,formatHex:zS,formatHex8:d7,formatHsl:f7,formatRgb:BS,toString:BS});function zS(){return this.rgb().formatHex()}function d7(){return this.rgb().formatHex8()}function f7(){return g2(this).formatHsl()}function BS(){return this.rgb().formatRgb()}function oc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=i7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?US(t):n===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Iu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Iu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=a7.exec(e))?new en(t[1],t[2],t[3],1):(t=o7.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=s7.exec(e))?Iu(t[1],t[2],t[3],t[4]):(t=l7.exec(e))?Iu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=c7.exec(e))?HS(t[1],t[2]/100,t[3]/100,1):(t=u7.exec(e))?HS(t[1],t[2]/100,t[3]/100,t[4]):FS.hasOwnProperty(e)?US(FS[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function US(e){return new en(e>>16&255,e>>8&255,e&255,1)}function Iu(e,t,n,r){return r<=0&&(e=t=n=NaN),new en(e,t,n,r)}function h7(e){return e instanceof Dc||(e=oc(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function Wv(e,t,n,r){return arguments.length===1?h7(e):new en(e,t,n,r??1)}function en(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}j0(en,Wv,m2(Dc,{brighter(e){return e=e==null?cf:Math.pow(cf,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Aa(this.r),Aa(this.g),Aa(this.b),uf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:WS,formatHex:WS,formatHex8:p7,formatRgb:KS,toString:KS}));function WS(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}`}function p7(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}${wa((isNaN(this.opacity)?1:this.opacity)*255)}`}function KS(){const e=uf(this.opacity);return`${e===1?"rgb(":"rgba("}${Aa(this.r)}, ${Aa(this.g)}, ${Aa(this.b)}${e===1?")":`, ${e})`}`}function uf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Aa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wa(e){return e=Aa(e),(e<16?"0":"")+e.toString(16)}function HS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new or(e,t,n,r)}function g2(e){if(e instanceof or)return new or(e.h,e.s,e.l,e.opacity);if(e instanceof Dc||(e=oc(e)),!e)return new or;if(e instanceof or)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new or(o,s,l,e.opacity)}function m7(e,t,n,r){return arguments.length===1?g2(e):new or(e,t,n,r??1)}function or(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}j0(or,m7,m2(Dc,{brighter(e){return e=e==null?cf:Math.pow(cf,e),new or(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new or(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new en(Pm(e>=240?e-240:e+120,i,r),Pm(e,i,r),Pm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new or(qS(this.h),Du(this.s),Du(this.l),uf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=uf(this.opacity);return`${e===1?"hsl(":"hsla("}${qS(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qS(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function Pm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _0=e=>()=>e;function g7(e,t){return function(n){return e+n*t}}function v7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function y7(e){return(e=+e)==1?v2:function(t,n){return n-t?v7(t,n,e):_0(isNaN(t)?n:t)}}function v2(e,t){var n=t-e;return n?g7(e,n):_0(isNaN(e)?t:e)}const VS=function e(t){var n=y7(t);function r(i,a){var o=n((i=Wv(i)).r,(a=Wv(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=v2(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function x7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function b7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ys(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function k7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function df(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function S7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ys(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Kv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Om=new RegExp(Kv.source,"g");function j7(e){return function(){return e}}function _7(e){return function(t){return e(t)+""}}function C7(e,t){var n=Kv.lastIndex=Om.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Kv.exec(e))&&(i=Om.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:df(r,i)})),n=Om.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?_7(l[0].x):j7(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)s[(d=l[u]).i]=d.x(c);return s.join("")})}function ys(e,t){var n=typeof t,r;return t==null||n==="boolean"?_0(t):(n==="number"?df:n==="string"?(r=oc(t))?(t=r,VS):C7:t instanceof oc?VS:t instanceof Date?k7:b7(t)?x7:Array.isArray(t)?w7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?S7:df)(e,t)}function C0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function E7(e,t){t===void 0&&(t=e,e=ys);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function P7(e){return function(){return e}}function ff(e){return+e}var GS=[0,1];function Bt(e){return e}function Hv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:P7(isNaN(t)?NaN:.5)}function O7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function A7(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Hv(i,r),a=n(o,a)):(r=Hv(r,i),a=n(a,o)),function(s){return a(r(s))}}function N7(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Hv(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=Ic(e,s,1,r)-1;return a[l](i[l](s))}}function Rc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bh(){var e=GS,t=GS,n=ys,r,i,a,o=Bt,s,l,c;function u(){var h=Math.min(e.length,t.length);return o!==Bt&&(o=O7(e[0],e[h-1])),s=h>2?N7:A7,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=s(t,e.map(r),df)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,ff),u()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=C0,u()},d.clamp=function(h){return arguments.length?(o=h?!0:Bt,u()):o!==Bt},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,u()}}function E0(){return Bh()(Bt,Bt)}function T7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function hf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Zo(e){return e=hf(Math.abs(e)),e?e[1]:NaN}function I7(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function D7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var R7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sc(e){if(!(t=R7.exec(e)))throw new Error("invalid format: "+e);var t;return new P0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sc.prototype=P0.prototype;function P0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}P0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M7(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var y2;function L7(e,t){var n=hf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(y2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+hf(e,Math.max(0,t+a-1))[0]}function YS(e,t){var n=hf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YS(e*100,t),r:YS,s:L7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function QS(e){return e}var XS=Array.prototype.map,ZS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $7(e){var t=e.grouping===void 0||e.thousands===void 0?QS:I7(XS.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?QS:D7(XS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=sc(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,y=d.zero,v=d.width,b=d.comma,w=d.precision,S=d.trim,j=d.type;j==="n"?(b=!0,j="g"):JS[j]||(w===void 0&&(w=12),S=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=g==="$"?r:/[%p]/.test(j)?o:"",N=JS[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(A){var T=k,R=_,I,L,$;if(j==="c")R=N(A)+R,A="";else{A=+A;var q=A<0||1/A<0;if(A=isNaN(A)?l:N(Math.abs(A),w),S&&(A=M7(A)),q&&+A==0&&m!=="+"&&(q=!1),T=(q?m==="("?m:s:m==="-"||m==="("?"":m)+T,R=(j==="s"?ZS[8+y2/3]:"")+R+(q&&m==="("?")":""),E){for(I=-1,L=A.length;++I<L;)if($=A.charCodeAt(I),48>$||$>57){R=($===46?i+A.slice(I+1):A.slice(I))+R,A=A.slice(0,I);break}}}b&&!y&&(A=t(A,1/0));var D=T.length+A.length+R.length,B=D<v?new Array(v-D+1).join(h):"";switch(b&&y&&(A=t(B+A,B.length?v-R.length:1/0),B=""),p){case"<":A=T+A+R+B;break;case"=":A=T+B+A+R;break;case"^":A=B.slice(0,D=B.length>>1)+T+A+R+B.slice(D);break;default:A=B+T+A+R;break}return a(A)}return C.toString=function(){return d+""},C}function u(d,h){var p=c((d=sc(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Zo(h)/3)))*3,g=Math.pow(10,-m),y=ZS[8+m/3];return function(v){return p(g*v)+y}}return{format:c,formatPrefix:u}}var Ru,O0,x2;F7({thousands:",",grouping:[3],currency:["$",""]});function F7(e){return Ru=$7(e),O0=Ru.format,x2=Ru.formatPrefix,Ru}function z7(e){return Math.max(0,-Zo(Math.abs(e)))}function B7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zo(t)/3)))*3-Zo(Math.abs(e)))}function U7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zo(t)-Zo(e))+1}function b2(e,t,n,r){var i=Bv(e,t,n),a;switch(r=sc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=B7(i,o))&&(r.precision=a),x2(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=U7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=z7(i))&&(r.precision=a-(r.type==="%")*2);break}}return O0(r)}function Ji(e){var t=e.domain;return e.ticks=function(n){var r=t();return Fv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return b2(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=zv(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function w2(){var e=E0();return e.copy=function(){return Rc(e,w2())},Qn.apply(e,arguments),Ji(e)}function k2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ff),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return k2(e).unknown(t)},e=arguments.length?Array.from(e,ff):[0,1],Ji(n)}function S2(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function ej(e){return Math.log(e)}function tj(e){return Math.exp(e)}function W7(e){return-Math.log(-e)}function K7(e){return-Math.exp(-e)}function H7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function q7(e){return e===10?H7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function V7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nj(e){return(t,n)=>-e(-t,n)}function A0(e){const t=e(ej,tj),n=t.domain;let r=10,i,a;function o(){return i=V7(r),a=q7(r),n()[0]<0?(i=nj(i),a=nj(a),e(W7,K7)):e(ej,tj),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;v.push(g)}v.length*2<y&&(v=Fv(c,u,y))}else v=Fv(h,p,Math.min(p-h,y)).map(a);return d?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sc(l)).precision==null&&(l.trim=!0),l=O0(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=()=>n(S2(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function j2(){const e=A0(Bh()).domain([1,10]);return e.copy=()=>Rc(e,j2()).base(e.base()),Qn.apply(e,arguments),e}function rj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ij(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function N0(e){var t=1,n=e(rj(t),ij(t));return n.constant=function(r){return arguments.length?e(rj(t=+r),ij(t)):t},Ji(n)}function _2(){var e=N0(Bh());return e.copy=function(){return Rc(e,_2()).constant(e.constant())},Qn.apply(e,arguments)}function aj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function G7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Y7(e){return e<0?-e*e:e*e}function T0(e){var t=e(Bt,Bt),n=1;function r(){return n===1?e(Bt,Bt):n===.5?e(G7,Y7):e(aj(n),aj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ji(t)}function I0(){var e=T0(Bh());return e.copy=function(){return Rc(e,I0()).exponent(e.exponent())},Qn.apply(e,arguments),e}function J7(){return I0.apply(null,arguments).exponent(.5)}function oj(e){return Math.sign(e)*e*e}function Q7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function C2(){var e=E0(),t=[0,1],n=!1,r;function i(a){var o=Q7(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(oj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,ff)).map(oj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return C2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Qn.apply(i,arguments),Ji(i)}function E2(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=t7(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Ic(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($i),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return E2().domain(e).range(t).unknown(r)},Qn.apply(a,arguments)}function P2(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Ic(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return P2().domain([e,t]).range(i).unknown(a)},Qn.apply(Ji(o),arguments)}function O2(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Ic(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return O2().domain(e).range(t).unknown(n)},Qn.apply(i,arguments)}const Am=new Date,Nm=new Date;function ht(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>ht(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Am.setTime(+a),Nm.setTime(+o),e(Am),e(Nm),Math.floor(n(Am,Nm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const pf=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):pf);pf.range;const qr=1e3,Kn=qr*60,Vr=Kn*60,ri=Vr*24,D0=ri*7,sj=ri*30,Tm=ri*365,ka=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qr)},(e,t)=>(t-e)/qr,e=>e.getUTCSeconds());ka.range;const R0=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qr)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getMinutes());R0.range;const M0=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Kn)},(e,t)=>(t-e)/Kn,e=>e.getUTCMinutes());M0.range;const L0=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qr-e.getMinutes()*Kn)},(e,t)=>{e.setTime(+e+t*Vr)},(e,t)=>(t-e)/Vr,e=>e.getHours());L0.range;const $0=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Vr)},(e,t)=>(t-e)/Vr,e=>e.getUTCHours());$0.range;const Mc=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Kn)/ri,e=>e.getDate()-1);Mc.range;const Uh=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ri,e=>e.getUTCDate()-1);Uh.range;const A2=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ri,e=>Math.floor(e/ri));A2.range;function Qa(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Kn)/D0)}const Wh=Qa(0),mf=Qa(1),X7=Qa(2),Z7=Qa(3),es=Qa(4),eG=Qa(5),tG=Qa(6);Wh.range;mf.range;X7.range;Z7.range;es.range;eG.range;tG.range;function Xa(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/D0)}const Kh=Xa(0),gf=Xa(1),nG=Xa(2),rG=Xa(3),ts=Xa(4),iG=Xa(5),aG=Xa(6);Kh.range;gf.range;nG.range;rG.range;ts.range;iG.range;aG.range;const F0=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());F0.range;const z0=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());z0.range;const ii=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ii.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ii.range;const ai=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ai.range;function N2(e,t,n,r,i,a){const o=[[ka,1,qr],[ka,5,5*qr],[ka,15,15*qr],[ka,30,30*qr],[a,1,Kn],[a,5,5*Kn],[a,15,15*Kn],[a,30,30*Kn],[i,1,Vr],[i,3,3*Vr],[i,6,6*Vr],[i,12,12*Vr],[r,1,ri],[r,2,2*ri],[n,1,D0],[t,1,sj],[t,3,3*sj],[e,1,Tm]];function s(c,u,d){const h=u<c;h&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,d){const h=Math.abs(u-c)/d,p=w0(([,,y])=>y).right(o,h);if(p===o.length)return e.every(Bv(c/Tm,u/Tm,d));if(p===0)return pf.every(Math.max(Bv(c,u,d),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[oG,sG]=N2(ai,z0,Kh,A2,$0,M0),[lG,cG]=N2(ii,F0,Wh,Mc,L0,R0);function Im(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Dm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qs(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function uG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Xs(i),u=Zs(i),d=Xs(a),h=Zs(a),p=Xs(o),m=Zs(o),g=Xs(s),y=Zs(s),v=Xs(l),b=Zs(l),w={a:q,A:D,b:B,B:P,c:null,d:hj,e:hj,f:IG,g:WG,G:HG,H:AG,I:NG,j:TG,L:T2,m:DG,M:RG,p:X,q:M,Q:gj,s:vj,S:MG,u:LG,U:$G,V:FG,w:zG,W:BG,x:null,X:null,y:UG,Y:KG,Z:qG,"%":mj},S={a:O,A:ie,b:ne,B:ce,c:null,d:pj,e:pj,f:JG,g:oY,G:lY,H:VG,I:GG,j:YG,L:D2,m:QG,M:XG,p:ke,q:ot,Q:gj,s:vj,S:ZG,u:eY,U:tY,V:nY,w:rY,W:iY,x:null,X:null,y:aY,Y:sY,Z:cY,"%":mj},j={a:C,A,b:T,B:R,c:I,d:dj,e:dj,f:CG,g:uj,G:cj,H:fj,I:fj,j:kG,L:_G,m:wG,M:SG,p:E,q:bG,Q:PG,s:OG,S:jG,u:mG,U:gG,V:vG,w:pG,W:yG,x:L,X:$,y:uj,Y:cj,Z:xG,"%":EG};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(J,V){return function(re){var H=[],W=-1,U=0,ae=J.length,he,Pe,un;for(re instanceof Date||(re=new Date(+re));++W<ae;)J.charCodeAt(W)===37&&(H.push(J.slice(U,W)),(Pe=lj[he=J.charAt(++W)])!=null?he=J.charAt(++W):Pe=he==="e"?" ":"0",(un=V[he])&&(he=un(re,Pe)),H.push(he),U=W+1);return H.push(J.slice(U,W)),H.join("")}}function _(J,V){return function(re){var H=Qs(1900,void 0,1),W=N(H,J,re+="",0),U,ae;if(W!=re.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(V&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(U=Dm(Qs(H.y,0,1)),ae=U.getUTCDay(),U=ae>4||ae===0?gf.ceil(U):gf(U),U=Uh.offset(U,(H.V-1)*7),H.y=U.getUTCFullYear(),H.m=U.getUTCMonth(),H.d=U.getUTCDate()+(H.w+6)%7):(U=Im(Qs(H.y,0,1)),ae=U.getDay(),U=ae>4||ae===0?mf.ceil(U):mf(U),U=Mc.offset(U,(H.V-1)*7),H.y=U.getFullYear(),H.m=U.getMonth(),H.d=U.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),ae="Z"in H?Dm(Qs(H.y,0,1)).getUTCDay():Im(Qs(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(ae+5)%7:H.w+H.U*7-(ae+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Dm(H)):Im(H)}}function N(J,V,re,H){for(var W=0,U=V.length,ae=re.length,he,Pe;W<U;){if(H>=ae)return-1;if(he=V.charCodeAt(W++),he===37){if(he=V.charAt(W++),Pe=j[he in lj?V.charAt(W++):he],!Pe||(H=Pe(J,re,H))<0)return-1}else if(he!=re.charCodeAt(H++))return-1}return H}function E(J,V,re){var H=c.exec(V.slice(re));return H?(J.p=u.get(H[0].toLowerCase()),re+H[0].length):-1}function C(J,V,re){var H=p.exec(V.slice(re));return H?(J.w=m.get(H[0].toLowerCase()),re+H[0].length):-1}function A(J,V,re){var H=d.exec(V.slice(re));return H?(J.w=h.get(H[0].toLowerCase()),re+H[0].length):-1}function T(J,V,re){var H=v.exec(V.slice(re));return H?(J.m=b.get(H[0].toLowerCase()),re+H[0].length):-1}function R(J,V,re){var H=g.exec(V.slice(re));return H?(J.m=y.get(H[0].toLowerCase()),re+H[0].length):-1}function I(J,V,re){return N(J,t,V,re)}function L(J,V,re){return N(J,n,V,re)}function $(J,V,re){return N(J,r,V,re)}function q(J){return o[J.getDay()]}function D(J){return a[J.getDay()]}function B(J){return l[J.getMonth()]}function P(J){return s[J.getMonth()]}function X(J){return i[+(J.getHours()>=12)]}function M(J){return 1+~~(J.getMonth()/3)}function O(J){return o[J.getUTCDay()]}function ie(J){return a[J.getUTCDay()]}function ne(J){return l[J.getUTCMonth()]}function ce(J){return s[J.getUTCMonth()]}function ke(J){return i[+(J.getUTCHours()>=12)]}function ot(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var V=k(J+="",w);return V.toString=function(){return J},V},parse:function(J){var V=_(J+="",!1);return V.toString=function(){return J},V},utcFormat:function(J){var V=k(J+="",S);return V.toString=function(){return J},V},utcParse:function(J){var V=_(J+="",!0);return V.toString=function(){return J},V}}}var lj={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,dG=/^%/,fG=/[\\^$*+?|[\]().{}]/g;function Se(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function hG(e){return e.replace(fG,"\\$&")}function Xs(e){return new RegExp("^(?:"+e.map(hG).join("|")+")","i")}function Zs(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pG(e,t,n){var r=bt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function mG(e,t,n){var r=bt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gG(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vG(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yG(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function cj(e,t,n){var r=bt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function uj(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bG(e,t,n){var r=bt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wG(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function dj(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function kG(e,t,n){var r=bt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function fj(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SG(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jG(e,t,n){var r=bt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _G(e,t,n){var r=bt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function CG(e,t,n){var r=bt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function EG(e,t,n){var r=dG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function PG(e,t,n){var r=bt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function OG(e,t,n){var r=bt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hj(e,t){return Se(e.getDate(),t,2)}function AG(e,t){return Se(e.getHours(),t,2)}function NG(e,t){return Se(e.getHours()%12||12,t,2)}function TG(e,t){return Se(1+Mc.count(ii(e),e),t,3)}function T2(e,t){return Se(e.getMilliseconds(),t,3)}function IG(e,t){return T2(e,t)+"000"}function DG(e,t){return Se(e.getMonth()+1,t,2)}function RG(e,t){return Se(e.getMinutes(),t,2)}function MG(e,t){return Se(e.getSeconds(),t,2)}function LG(e){var t=e.getDay();return t===0?7:t}function $G(e,t){return Se(Wh.count(ii(e)-1,e),t,2)}function I2(e){var t=e.getDay();return t>=4||t===0?es(e):es.ceil(e)}function FG(e,t){return e=I2(e),Se(es.count(ii(e),e)+(ii(e).getDay()===4),t,2)}function zG(e){return e.getDay()}function BG(e,t){return Se(mf.count(ii(e)-1,e),t,2)}function UG(e,t){return Se(e.getFullYear()%100,t,2)}function WG(e,t){return e=I2(e),Se(e.getFullYear()%100,t,2)}function KG(e,t){return Se(e.getFullYear()%1e4,t,4)}function HG(e,t){var n=e.getDay();return e=n>=4||n===0?es(e):es.ceil(e),Se(e.getFullYear()%1e4,t,4)}function qG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function pj(e,t){return Se(e.getUTCDate(),t,2)}function VG(e,t){return Se(e.getUTCHours(),t,2)}function GG(e,t){return Se(e.getUTCHours()%12||12,t,2)}function YG(e,t){return Se(1+Uh.count(ai(e),e),t,3)}function D2(e,t){return Se(e.getUTCMilliseconds(),t,3)}function JG(e,t){return D2(e,t)+"000"}function QG(e,t){return Se(e.getUTCMonth()+1,t,2)}function XG(e,t){return Se(e.getUTCMinutes(),t,2)}function ZG(e,t){return Se(e.getUTCSeconds(),t,2)}function eY(e){var t=e.getUTCDay();return t===0?7:t}function tY(e,t){return Se(Kh.count(ai(e)-1,e),t,2)}function R2(e){var t=e.getUTCDay();return t>=4||t===0?ts(e):ts.ceil(e)}function nY(e,t){return e=R2(e),Se(ts.count(ai(e),e)+(ai(e).getUTCDay()===4),t,2)}function rY(e){return e.getUTCDay()}function iY(e,t){return Se(gf.count(ai(e)-1,e),t,2)}function aY(e,t){return Se(e.getUTCFullYear()%100,t,2)}function oY(e,t){return e=R2(e),Se(e.getUTCFullYear()%100,t,2)}function sY(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function lY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ts(e):ts.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function cY(){return"+0000"}function mj(){return"%"}function gj(e){return+e}function vj(e){return Math.floor(+e/1e3)}var co,M2,L2;uY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uY(e){return co=uG(e),M2=co.format,co.parse,L2=co.utcFormat,co.utcParse,co}function dY(e){return new Date(e)}function fY(e){return e instanceof Date?+e:+new Date(+e)}function B0(e,t,n,r,i,a,o,s,l,c){var u=E0(),d=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function j(k){return(l(k)<k?p:s(k)<k?m:o(k)<k?g:a(k)<k?y:r(k)<k?i(k)<k?v:b:n(k)<k?w:S)(k)}return u.invert=function(k){return new Date(d(k))},u.domain=function(k){return arguments.length?h(Array.from(k,fY)):h().map(dY)},u.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},u.tickFormat=function(k,_){return _==null?j:c(_)},u.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h(S2(_,k)):u},u.copy=function(){return Rc(u,B0(e,t,n,r,i,a,o,s,l,c))},u}function hY(){return Qn.apply(B0(lG,cG,ii,F0,Wh,Mc,L0,R0,ka,M2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pY(){return Qn.apply(B0(oG,sG,ai,z0,Kh,Uh,$0,M0,ka,L2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hh(){var e=0,t=1,n,r,i,a,o=Bt,s=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(s=!!d,c):s},c.interpolator=function(d){return arguments.length?(o=d,c):o};function u(d){return function(h){var p,m;return arguments.length?([p,m]=h,o=d(p,m),c):[o(0),o(1)]}}return c.range=u(ys),c.rangeRound=u(C0),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $2(){var e=Ji(Hh()(Bt));return e.copy=function(){return Qi(e,$2())},di.apply(e,arguments)}function F2(){var e=A0(Hh()).domain([1,10]);return e.copy=function(){return Qi(e,F2()).base(e.base())},di.apply(e,arguments)}function z2(){var e=N0(Hh());return e.copy=function(){return Qi(e,z2()).constant(e.constant())},di.apply(e,arguments)}function U0(){var e=T0(Hh());return e.copy=function(){return Qi(e,U0()).exponent(e.exponent())},di.apply(e,arguments)}function mY(){return U0.apply(null,arguments).exponent(.5)}function B2(){var e=[],t=Bt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ic(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort($i),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>e7(e,a/r))},n.copy=function(){return B2(t).domain(e)},di.apply(n,arguments)}function qh(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=Bt,u,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?s:l),c(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=E7(g,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(ys),p.rangeRound=m(C0),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function U2(){var e=Ji(qh()(Bt));return e.copy=function(){return Qi(e,U2())},di.apply(e,arguments)}function W2(){var e=A0(qh()).domain([.1,1,10]);return e.copy=function(){return Qi(e,W2()).base(e.base())},di.apply(e,arguments)}function K2(){var e=N0(qh());return e.copy=function(){return Qi(e,K2()).constant(e.constant())},di.apply(e,arguments)}function W0(){var e=T0(qh());return e.copy=function(){return Qi(e,W0()).exponent(e.exponent())},di.apply(e,arguments)}function gY(){return W0.apply(null,arguments).exponent(.5)}const cl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:S0,scaleDiverging:U2,scaleDivergingLog:W2,scaleDivergingPow:W0,scaleDivergingSqrt:gY,scaleDivergingSymlog:K2,scaleIdentity:k2,scaleImplicit:Uv,scaleLinear:w2,scaleLog:j2,scaleOrdinal:k0,scalePoint:r7,scalePow:I0,scaleQuantile:E2,scaleQuantize:P2,scaleRadial:C2,scaleSequential:$2,scaleSequentialLog:F2,scaleSequentialPow:U0,scaleSequentialQuantile:B2,scaleSequentialSqrt:mY,scaleSequentialSymlog:z2,scaleSqrt:J7,scaleSymlog:_2,scaleThreshold:O2,scaleTime:hY,scaleUtc:pY,tickFormat:b2},Symbol.toStringTag,{value:"Module"}));var Xi=e=>e.chartData,K0=F([Xi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),H0=(e,t,n,r)=>r?K0(e):Xi(e);function ns(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Cn(t)&&Cn(n))return!0}return!1}function yj(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vY(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Cn(n))i=n;else if(typeof n=="function")return;if(Cn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(ns(o))return o}}function yY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ns(r))return yj(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(oe(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&fS.test(i)){var l=fS.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(oe(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&hS.test(a)){var u=hS.exec(a);if(u==null||t==null)s=void 0;else{var d=+u[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[o,s];if(ns(h))return t==null?h:yj(h,t,n)}}}var xs=1e9,xY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},V0,We=!0,Yn="[DecimalError] ",Na=Yn+"Invalid argument: ",q0=Yn+"Exponent out of range: ",bs=Math.floor,da=Math.pow,bY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yn,mt=1e7,Fe=7,H2=9007199254740991,vf=bs(H2/Fe),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};te.dividedBy=te.div=function(e){return Qr(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,n=t.constructor;return Ae(Qr(t,new n(e),0,1),n.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return it(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(yn))throw Error(Yn+"NaN");if(n.s<1)throw Error(Yn+(n.s?"NaN":"-Infinity"));return n.eq(yn)?new r(0):(We=!1,t=Qr(lc(n,a),lc(e,a),a),We=!0,Ae(t,i))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G2(t,e):q2(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Yn+"NaN");return n.s?(We=!1,t=Qr(n,e,0,1).times(e),We=!0,n.minus(t)):Ae(new r(n),i)};te.naturalExponential=te.exp=function(){return V2(this)};te.naturalLogarithm=te.ln=function(){return lc(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?q2(t,e):G2(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Na+e);if(t=it(i)+1,r=i.d.length-1,n=r*Fe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};te.squareRoot=te.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Yn+"NaN")}for(e=it(s),We=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Er(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Qr(s,a,o+2)).times(.5),Er(a.d).slice(0,o)===(t=Er(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ae(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return We=!0,Ae(r,n)};te.times=te.mul=function(e){var t,n,r,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,p=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,n=u.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%mt|0,t=s/mt|0;a[i]=(a[i]+t)%mt|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,We?Ae(e,d.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Dr(e,0,xs),t===void 0?t=r.rounding:Dr(t,0,8),Ae(n,e+it(n)+1,t))};te.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=za(r,!0):(Dr(e,0,xs),t===void 0?t=i.rounding:Dr(t,0,8),r=Ae(new i(r),e+1,t),n=za(r,!0,e+1)),n};te.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?za(i):(Dr(e,0,xs),t===void 0?t=a.rounding:Dr(t,0,8),r=Ae(new a(i),e+it(i)+1,t),n=za(r.abs(),!1,e+it(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return Ae(new t(e),it(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(yn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Yn+"Infinity");return s}if(s.eq(yn))return s;if(r=l.precision,e.eq(yn))return Ae(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=u<0?-u:u)<=H2){for(i=new l(yn),t=Math.ceil(r/Fe+4),We=!1;n%2&&(i=i.times(s),bj(i.d,t)),n=bs(n/2),n!==0;)s=s.times(s),bj(s.d,t);return We=!0,e.s<0?new l(yn).div(i):Ae(i,r)}}else if(a<0)throw Error(Yn+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,We=!1,i=e.times(lc(s,r+c)),We=!0,i=V2(i),i.s=a,i};te.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=it(i),r=za(i,n<=a.toExpNeg||n>=a.toExpPos)):(Dr(e,1,xs),t===void 0?t=a.rounding:Dr(t,0,8),i=Ae(new a(i),e,t),n=it(i),r=za(i,e<=n||n<=a.toExpNeg,e)),r};te.toSignificantDigits=te.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Dr(e,1,xs),t===void 0?t=r.rounding:Dr(t,0,8)),Ae(new r(n),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=it(e),n=e.constructor;return za(e,t<=n.toExpNeg||t>=n.toExpPos)};function q2(e,t){var n,r,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),We?Ae(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(d/Fe),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/mt|0,l[a]%=mt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,We?Ae(t,d):t}function Dr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Na+e)}function Er(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Fe-r.length,n&&(a+=wi(n)),a+=r;o=e[t],r=o+"",n=Fe-r.length,n&&(a+=wi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Qr=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%mt|0,o=a/mt|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*mt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,d,h,p,m,g,y,v,b,w,S,j,k,_,N,E=r.constructor,C=r.s==i.s?1:-1,A=r.d,T=i.d;if(!r.s)return new E(r);if(!i.s)throw Error(Yn+"Division by zero");for(l=r.e-i.e,_=T.length,j=A.length,p=new E(C),m=p.d=[],c=0;T[c]==(A[c]||0);)++c;if(T[c]>(A[c]||0)&&--l,a==null?b=a=E.precision:o?b=a+(it(r)-it(i))+1:b=a,b<0)return new E(0);if(b=b/Fe+2|0,c=0,_==1)for(u=0,T=T[0],b++;(c<j||u)&&b--;c++)w=u*mt+(A[c]||0),m[c]=w/T|0,u=w%T|0;else{for(u=mt/(T[0]+1)|0,u>1&&(T=e(T,u),A=e(A,u),_=T.length,j=A.length),S=_,g=A.slice(0,_),y=g.length;y<_;)g[y++]=0;N=T.slice(),N.unshift(0),k=T[0],T[1]>=mt/2&&++k;do u=0,s=t(T,g,_,y),s<0?(v=g[0],_!=y&&(v=v*mt+(g[1]||0)),u=v/k|0,u>1?(u>=mt&&(u=mt-1),d=e(T,u),h=d.length,y=g.length,s=t(d,g,h,y),s==1&&(u--,n(d,_<h?N:T,h))):(u==0&&(s=u=1),d=T.slice()),h=d.length,h<y&&d.unshift(0),n(g,d,y),s==-1&&(y=g.length,s=t(T,g,_,y),s<1&&(u++,n(g,_<y?N:T,y))),y=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[y++]=A[S]||0:(g=[A[S]],y=1);while((S++<j||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Ae(p,o?a+it(p)+1:a)}}();function V2(e,t){var n,r,i,a,o,s,l=0,c=0,u=e.constructor,d=u.precision;if(it(e)>16)throw Error(q0+it(e));if(!e.s)return new u(yn);for(t==null?(We=!1,s=d):s=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(da(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(yn),u.precision=s;;){if(i=Ae(i.times(e),s),n=n.times(++l),o=a.plus(Qr(i,n,s)),Er(o.d).slice(0,s)===Er(a.d).slice(0,s)){for(;c--;)a=Ae(a.times(a),s);return u.precision=d,t==null?(We=!0,Ae(a,d)):a}a=o}}function it(e){for(var t=e.e*Fe,n=e.d[0];n>=10;n/=10)t++;return t}function Rm(e,t,n){if(t>e.LN10.sd())throw We=!0,n&&(e.precision=n),Error(Yn+"LN10 precision limit exceeded");return Ae(new e(e.LN10),t)}function wi(e){for(var t="";e--;)t+="0";return t}function lc(e,t){var n,r,i,a,o,s,l,c,u,d=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Yn+(p.s?"NaN":"-Infinity"));if(p.eq(yn))return new g(0);if(t==null?(We=!1,c=y):c=t,p.eq(10))return t==null&&(We=!0),Rm(g,c);if(c+=h,g.precision=c,n=Er(m),r=n.charAt(0),a=it(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Er(p.d),r=n.charAt(0),d++;a=it(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Rm(g,c+2,y).times(a+""),p=lc(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(We=!0,Ae(p,y)):p;for(s=o=p=Qr(p.minus(yn),p.plus(yn),c),u=Ae(p.times(p),c),i=3;;){if(o=Ae(o.times(u),c),l=s.plus(Qr(o,new g(i),c)),Er(l.d).slice(0,c)===Er(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Rm(g,c+2,y).times(a+""))),s=Qr(s,new g(d),c),g.precision=y,t==null?(We=!0,Ae(s,y)):s;s=l,i+=2}}function xj(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=bs(n/Fe),e.d=[],r=(n+1)%Fe,n<0&&(r+=Fe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Fe;r<i;)e.d.push(+t.slice(r,r+=Fe));t=t.slice(r),r=Fe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),We&&(e.e>vf||e.e<-vf))throw Error(q0+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ae(e,t,n){var r,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Fe,i=t,c=d[u=0];else{if(u=Math.ceil((r+1)/Fe),a=d.length,u>=a)return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;r%=Fe,i=r-Fe+o}if(n!==void 0&&(a=da(10,o-i-1),s=c/a%10|0,l=t<0||d[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/da(10,o-i):0:d[u-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(a=it(e),d.length=1,t=t-a-1,d[0]=da(10,(Fe-t%Fe)%Fe),e.e=bs(-t/Fe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=u,a=1,u--):(d.length=u+1,a=da(10,Fe-r),d[u]=i>0?(c/da(10,o-i)%da(10,i)|0)*a:0),l)for(;;)if(u==0){(d[0]+=a)==mt&&(d[0]=1,++e.e);break}else{if(d[u]+=a,d[u]!=mt)break;d[u--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(We&&(e.e>vf||e.e<-vf))throw Error(q0+it(e));return e}function G2(e,t){var n,r,i,a,o,s,l,c,u,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),We?Ae(t,p):t;if(l=e.d,d=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=d.length):(n=d,r=c,s=l.length),i=Math.max(Math.ceil(p/Fe),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=mt-1;--l[a],l[i]+=mt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,We?Ae(t,p):t):new h(0)}function za(e,t,n){var r,i=it(e),a=Er(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+wi(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+wi(-i-1)+a,n&&(r=n-o)>0&&(a+=wi(r))):i>=o?(a+=wi(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+wi(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=wi(r))),e.s<0?"-"+a:a}function bj(e,t){if(e.length>t)return e.length=t,!0}function Y2(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Na+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return xj(o,a.toString())}else if(typeof a!="string")throw Error(Na+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,bY.test(a))xj(o,a);else throw Error(Na+a)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Y2,i.config=i.set=wY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function wY(e){if(!e||typeof e!="object")throw Error(Yn+"Object expected");var t,n,r,i=["precision",1,xs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(bs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Na+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Na+n+": "+r);return this}var V0=Y2(xY);yn=new V0(1);const je=V0;var kY=e=>e,J2={"@@functional/placeholder":!0},Q2=e=>e===J2,wj=e=>function t(){return arguments.length===0||arguments.length===1&&Q2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},X2=(e,t)=>e===1?t:wj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==J2).length;return a>=e?t(...r):X2(e-a,wj(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(u=>Q2(u)?s.shift():u);return t(...c,...s)}))}),Vh=e=>X2(e.length,e),qv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},SY=Vh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),jY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return kY;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Vv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Z2=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,n=e(...i)),n}};function eT(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function tT(e,t,n){for(var r=new je(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}Vh((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Vh((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Vh((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var nT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},rT=(e,t,n)=>{if(e.lte(0))return new je(0);var r=eT(e.toNumber()),i=new je(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new je(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?new je(l.toNumber()):new je(Math.ceil(l.toNumber()))},_Y=(e,t,n)=>{var r=new je(1),i=new je(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new je(10).pow(eT(e)-1),i=new je(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new je(Math.floor(e)))}else e===0?i=new je(Math.floor((t-1)/2)):n||(i=new je(Math.floor(e)));var o=Math.floor((t-1)/2),s=jY(SY(l=>i.add(new je(l-o).mul(r)).toNumber()),qv);return s(0,t)},iT=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var o=rT(new je(n).sub(t).div(r-1),i,a),s;t<=0&&n>=0?s=new je(0):(s=new je(t).add(n).div(2),s=s.sub(new je(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new je(n).sub(s).div(o).toNumber()),u=l+c+1;return u>r?iT(t,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:s.sub(new je(l).mul(o)),tickMax:s.add(new je(c).mul(o))})};function CY(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,s]=nT([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...qv(0,r-1).map(()=>1/0)]:[...qv(0,r-1).map(()=>-1/0),s];return t>n?Vv(l):l}if(o===s)return _Y(o,r,i);var{step:c,tickMin:u,tickMax:d}=iT(o,s,a,i,0),h=tT(u,d.add(new je(.1).mul(c)),c);return t>n?Vv(h):h}function EY(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=nT([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=rT(new je(o).sub(a).div(s-1),i,0),c=[...tT(new je(a),new je(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?Vv(c):c}var PY=Z2(CY),OY=Z2(EY),aT=e=>e.rootProps.maxBarSize,AY=e=>e.rootProps.barGap,oT=e=>e.rootProps.barCategoryGap,NY=e=>e.rootProps.barSize,Lc=e=>e.rootProps.stackOffset,G0=e=>e.options.chartName,Y0=e=>e.rootProps.syncId,sT=e=>e.rootProps.syncMethod,J0=e=>e.options.eventEmitter,_r={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Yt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Gh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},TY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_r.angleAxisId,includeHidden:!1,name:void 0,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:void 0,ticks:void 0,type:_r.type,unit:void 0},IY={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,ticks:void 0,type:Yt.type,unit:void 0},DY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_r.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_r.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_r.scale,tick:_r.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},RY={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,ticks:void 0,type:"category",unit:void 0},ws=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DY:TY,$c=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?RY:IY,Yh=e=>e.polarOptions,Q0=F([ci,ui,xt],IH),lT=F([Yh,Q0],(e,t)=>{if(e!=null)return hr(e.innerRadius,t,0)}),cT=F([Yh,Q0],(e,t)=>{if(e!=null)return hr(e.outerRadius,t,t*.8)}),MY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},uT=F([Yh],MY),LY=F([ws,uT],Gh),dT=F([Q0,lT,cT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),$Y=F([$c,dT],Gh),ks=F([ye,Yh,lT,cT,ci,ui],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:hr(o,i,i/2),cy:hr(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Ie=(e,t)=>t,Fc=(e,t,n)=>n;function X0(e){return e==null?void 0:e.id}var pt=e=>{var t=ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ss=e=>e.tooltip.settings.axisId,wt=e=>{var t=pt(e),n=Ss(e);return js(e,t,n)},fT=F([wt],e=>e==null?void 0:e.dataKey);function hT(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=X0(s);c.forEach((d,h)=>{var p=a==null||i?h:String(ft(d,a,null)),m=ft(d,s.dataKey,0),g;o.has(p)?g=o.get(p):g={},Object.assign(g,{[u]:m}),o.set(p,g)})}}),Array.from(o.values())}function Jh(e){return e.stackId!=null&&e.dataKey!=null}function kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(n),!0).forEach(function(r){FY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FY(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gv=[0,"auto"],mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pT=(e,t)=>e.cartesianAxis.xAxis[t],fi=(e,t)=>{var n=pT(e,t);return n??mn},gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Tc},mT=(e,t)=>e.cartesianAxis.yAxis[t],hi=(e,t)=>{var n=mT(e,t);return n??gn},UY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Z0=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??UY},Xe=(e,t,n)=>{switch(t){case"xAxis":return fi(e,n);case"yAxis":return hi(e,n);case"zAxis":return Z0(e,n);case"angleAxis":return ws(e,n);case"radiusAxis":return $c(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},WY=(e,t,n)=>{switch(t){case"xAxis":return fi(e,n);case"yAxis":return hi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},js=(e,t,n)=>{switch(t){case"xAxis":return fi(e,n);case"yAxis":return hi(e,n);case"angleAxis":return ws(e,n);case"radiusAxis":return $c(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function eb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var tb=e=>e.graphicalItems.cartesianItems,KY=F([Ie,Fc],eb),nb=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),zc=F([tb,Xe,KY],nb),vT=F([zc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Jh)),yT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xT=F([zc],yT),rb=e=>e.map(t=>t.data).filter(Boolean).flat(1),HY=F([zc],rb),ib=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},ab=F([HY,H0],ib),ob=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ft(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ft(i,r)}))):e.map(r=>({value:r})),Qh=F([ab,Xe,zc],ob);function bT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Za(e){return e.filter(t=>Ir(t)||t instanceof Date).map(Number).filter(t=>jn(t)===!1)}function qY(e,t,n){return!n||typeof t!="number"||jn(t)?[]:n.length?Za(n.flatMap(r=>{var i=ft(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Cn(a)||!Cn(o)))return[t-a,t+o]})):[]}var VY=F([vT,H0,wt],hT),wT=(e,t,n)=>{var r={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(X0);return[o,{stackedData:YH(e,l,n),graphicalItems:s}]}))},Yv=F([VY,vT,Lc],wT),kT=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=eq(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},GY=F([Yv,Xi,Ie],kT),ST=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var s,l,c=(s=r[o.id])===null||s===void 0?void 0:s.filter(d=>bT(i,d)),u=ft(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:qY(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:ft(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Xh=e=>e.errorBars,jT=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>bT(n,r));F([xT,Xh,Ie],jT);var YY=F([ab,Xe,xT,Xh,Ie],ST);function JY(e){var{value:t}=e;if(Ir(t)||t instanceof Date)return t}var Sj=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Za(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},QY=(e,t,n)=>{var r=e.map(JY).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&jA(r))?u2(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},sb=e=>{var t;if(e==null||!("domain"in e))return Gv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Za(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Gv},xf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},_T=e=>e.referenceElements.dots,_s=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),XY=F([_T,Ie,Fc],_s),CT=e=>e.referenceElements.areas,ZY=F([CT,Ie,Fc],_s),ET=e=>e.referenceElements.lines,eJ=F([ET,Ie,Fc],_s),PT=(e,t)=>{var n=Za(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},tJ=F(XY,Ie,PT),OT=(e,t)=>{var n=Za(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},nJ=F([ZY,Ie],OT),AT=(e,t)=>{var n=Za(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rJ=F(eJ,Ie,AT),iJ=F(tJ,rJ,nJ,(e,t,n)=>xf(e,n,t)),NT=F([Xe],sb),lb=(e,t,n,r,i,a,o)=>{var s=vY(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?xf(n,i,Sj(r)):xf(i,Sj(r));return yY(t,c,e.allowDataOverflow)},aJ=F([Xe,NT,GY,YY,iJ,ye,Ie],lb),oJ=[0,1],cb=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=Yi(t,a);return c&&s==null?u2(0,n.length):l==="category"?QY(r,e,c):i==="expand"?oJ:o}},ub=F([Xe,ye,ab,Qh,Lc,Ie,aJ],cb),TT=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Pc(a));return s in cl?s:"point"}}},Zi=F([Xe,ye,gT,G0,Ie],TT);function sJ(e){if(e!=null){if(e in cl)return cl[e]();var t="scale".concat(Pc(e));if(t in cl)return cl[t]()}}function Zh(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=sJ(t);if(i!=null){var a=i.domain(n).range(r);return KH(a),a}}}var db=(e,t,n)=>{var r=sb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ns(e))return PY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ns(e))return OY(e,t.tickCount,t.allowDecimals)}},fb=F([ub,js,Zi],db),hb=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ns(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},lJ=F([Xe,ub,fb,Ie],hb),cJ=F(Qh,Xe,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Za(e.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),IT=F(cJ,ye,oT,xt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Cn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=hr(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),uJ=(e,t)=>{var n=fi(e,t);return n==null||typeof n.padding!="string"?0:IT(e,"xAxis",t,n.padding)},dJ=(e,t)=>{var n=hi(e,t);return n==null||typeof n.padding!="string"?0:IT(e,"yAxis",t,n.padding)},fJ=F(fi,uJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),hJ=F(hi,dJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),pJ=F([xt,fJ,Lh,Mh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),mJ=F([xt,ye,hJ,Lh,Mh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Bc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return pJ(e,n,r);case"yAxis":return mJ(e,n,r);case"zAxis":return(i=Z0(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return uT(e);case"radiusAxis":return dT(e,n);default:return}},DT=F([Xe,Bc],Gh),Cs=F([Xe,Zi,lJ,DT],Zh);F([zc,Xh,Ie],jT);function RT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ep=(e,t)=>t,tp=(e,t,n)=>n,gJ=F(Dh,ep,tp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(RT)),vJ=F(Rh,ep,tp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(RT)),MT=(e,t)=>({width:e.width,height:t.height}),yJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Tc;return{width:n,height:e.height}},LT=F(xt,fi,MT),xJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},bJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},wJ=F(ui,xt,gJ,ep,tp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=MT(t,s);o==null&&(o=xJ(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),kJ=F(ci,xt,vJ,ep,tp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=yJ(t,s);o==null&&(o=bJ(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),SJ=(e,t)=>{var n=fi(e,t);if(n!=null)return wJ(e,n.orientation,n.mirror)},jJ=F([xt,fi,SJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),_J=(e,t)=>{var n=hi(e,t);if(n!=null)return kJ(e,n.orientation,n.mirror)},CJ=F([xt,hi,_J,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),$T=F(xt,hi,(e,t)=>{var n=typeof t.width=="number"?t.width:Tc;return{width:n,height:e.height}}),jj=(e,t,n)=>{switch(t){case"xAxis":return LT(e,n).width;case"yAxis":return $T(e,n).height;default:return}},FT=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=Yi(e,r),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&jA(l))return l}},Uc=F([ye,Qh,Xe,Ie],FT),pb=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Yi(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},mb=F([ye,Qh,js,Ie],pb),_j=F([ye,WY,Zi,Cs,Uc,mb,Bc,fb,Ie],(e,t,n,r,i,a,o,s,l)=>{if(t==null)return null;var c=Yi(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),zT=(e,t,n,r,i,a,o,s,l)=>{if(!(t==null||r==null)){var c=Yi(e,l),{type:u,ticks:d,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?Zt(a[0]-a[1])*2*m:m;var g=d||i;if(g){var y=g.map((v,b)=>{var w=o?o.indexOf(v):v;return{index:b,coordinate:r(w)+m,value:v,offset:m}});return y.filter(v=>!jn(v.coordinate))}return c&&s?s.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:o?o[v]:v,index:b,offset:m}))}},BT=F([ye,js,Zi,Cs,fb,Bc,Uc,mb,Ie],zT),UT=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Yi(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Zt(r[0]-r[1])*2*c:c,s&&a?a.map((u,d)=>({coordinate:n(u)+c,value:u,index:d,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,d)=>({coordinate:n(u)+c,value:i?i[u]:u,index:d,offset:c}))}},rs=F([ye,js,Cs,Bc,Uc,mb,Ie],UT),is=F(Xe,Cs,(e,t)=>{if(!(e==null||t==null))return yf(yf({},e),{},{scale:t})}),EJ=F([Xe,Zi,ub,DT],Zh);F((e,t,n)=>Z0(e,n),EJ,(e,t)=>{if(!(e==null||t==null))return yf(yf({},e),{},{scale:t})});var PJ=F([ye,Dh,Rh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),WT=e=>e.options.defaultTooltipEventType,KT=e=>e.options.validateTooltipEventTypes;function HT(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function gb(e,t){var n=WT(e),r=KT(e);return HT(t,n,r)}function OJ(e){return Z(t=>gb(t,e))}var qT=(e,t)=>{var n,r=Number(t);if(!(jn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},AJ=e=>e.tooltip.settings,Ci={active:!1,index:null,dataKey:void 0,coordinate:void 0},NJ={itemInteraction:{click:Ci,hover:Ci},axisInteraction:{click:Ci,hover:Ci},keyboardInteraction:Ci,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},VT=Nn({name:"tooltip",initialState:NJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Jr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:TJ,removeTooltipEntrySettings:IJ,setTooltipSettingsState:DJ,setActiveMouseOverItemIndex:GT,mouseLeaveItem:RJ,mouseLeaveChart:YT,setActiveClickItemIndex:MJ,setMouseOverAxisIndex:JT,setMouseClickAxisIndex:LJ,setSyncInteraction:Jv,setKeyboardInteraction:Qv}=VT.actions,$J=VT.reducer;function Cj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(n),!0).forEach(function(r){FJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FJ(e,t,n){return(t=zJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WJ(e){return e.index!=null}var QT=(e,t,n,r)=>{if(t==null)return Ci;var i=UJ(e,t,n);if(i==null)return Ci;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(WJ(i)){if(a)return Mu(Mu({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Mu(Mu({},Ci),{},{coordinate:i.coordinate})},vb=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Cn(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},XT=(e,t,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},ZT=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Wc=e=>e.options.tooltipPayloadSearcher,Es=e=>e.tooltip;function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){KJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KJ(e,t,n){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=qJ(e,"string");return typeof t=="symbol"?t:t+""}function qJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e,t){return e??t}var eI=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,d=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:y}=p,v=VJ(g,s),b=Array.isArray(v)?KN(v,c,u):v,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:r,S=y==null?void 0:y.nameKey,j;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=B9(b,r,i):j=a(b,t,l,S),Array.isArray(j))j.forEach(_=>{var N=Pj(Pj({},y),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(pS({tooltipEntrySettings:N,dataKey:_.dataKey,payload:_.payload,value:ft(_.payload,_.dataKey),name:_.name}))});else{var k;h.push(pS({tooltipEntrySettings:y,dataKey:w,payload:j,value:ft(j,w),name:(k=ft(j,S))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},d)}},yb=F([wt,ye,gT,G0,pt],TT),GJ=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YJ=F([pt,Ss],eb),Kc=F([GJ,wt,YJ],nb),JJ=F([Kc],e=>e.filter(Jh)),QJ=F([Kc],rb),Ps=F([QJ,Xi],ib),XJ=F([JJ,Xi,wt],hT),xb=F([Ps,wt,Kc],ob),ZJ=F([wt],sb),eQ=F([Kc],e=>e.filter(Jh)),tQ=F([XJ,eQ,Lc],wT),nQ=F([tQ,Xi,pt],kT),rQ=F([Kc],yT),iQ=F([Ps,wt,rQ,Xh,pt],ST),aQ=F([_T,pt,Ss],_s),oQ=F([aQ,pt],PT),sQ=F([CT,pt,Ss],_s),lQ=F([sQ,pt],OT),cQ=F([ET,pt,Ss],_s),uQ=F([cQ,pt],AT),dQ=F([oQ,uQ,lQ],xf),fQ=F([wt,ZJ,nQ,iQ,dQ,ye,pt],lb),tI=F([wt,ye,Ps,xb,Lc,pt,fQ],cb),hQ=F([tI,wt,yb],db),pQ=F([wt,tI,hQ,pt],hb),nI=e=>{var t=pt(e),n=Ss(e),r=!1;return Bc(e,t,n,r)},rI=F([wt,nI],Gh),iI=F([wt,yb,pQ,rI],Zh),mQ=F([ye,xb,wt,pt],FT),gQ=F([ye,xb,wt,pt],pb),vQ=(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=Yi(e,s);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Zt(i[0]-i[1])*2*d:d,c&&o?o.map((h,p)=>({coordinate:r(h)+d,value:h,index:p,offset:d})):r.domain().map((h,p)=>({coordinate:r(h)+d,value:a?a[h]:h,index:p,offset:d}))}}},pi=F([ye,wt,yb,iI,nI,mQ,gQ,pt],vQ),bb=F([WT,KT,AJ],(e,t,n)=>HT(n.shared,e,t)),aI=e=>e.tooltip.settings.trigger,wb=e=>e.tooltip.settings.defaultIndex,np=F([Es,bb,aI,wb],QT),Ba=F([np,Ps],vb),oI=F([pi,Ba],qT),sI=F([np],e=>{if(e)return e.dataKey}),lI=F([Es,bb,aI,wb],ZT),yQ=F([ci,ui,ye,xt,pi,wb,lI,Wc],XT),xQ=F([np,yQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bQ=F([np],e=>e.active),wQ=F([lI,Ba,Xi,fT,oI,Wc,bb],eI),kQ=F([wQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){SQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SQ(e,t,n){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CQ=()=>Z(wt),EQ=()=>{var e=CQ(),t=Z(pi),n=Z(iI);return nc(Aj(Aj({},e),{},{scale:n}),t)},PQ=()=>Z(G0),kb=(e,t)=>t,cI=(e,t,n)=>n,Sb=(e,t,n,r)=>r,OQ=F(pi,e=>Eh(e,t=>t.coordinate)),jb=F([Es,kb,cI,Sb],QT),uI=F([jb,Ps],vb),AQ=(e,t,n)=>{if(t!=null){var r=Es(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dI=F([Es,kb,cI,Sb],ZT),bf=F([ci,ui,ye,xt,pi,Sb,dI,Wc],XT),NQ=F([jb,bf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),fI=F(pi,uI,qT),TQ=F([dI,uI,Xi,fT,fI,Wc,kb],eI),IQ=F([jb],e=>({isActive:e.active,activeIndex:e.index})),DQ=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a)){var l=tq(e.chartX,e.chartY,t,n,s);if(l){var c=rq(l,t),u=UH(c,o,a,r,i),d=nq(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}};function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xv.apply(null,arguments)}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){RQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RQ(e,t,n){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Q(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=e,u=t,d=n,h=r;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=oV;else if(c==="BarChart")p=sV(o,u,i,a),m=r2;else if(o==="radial"){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:w}=i2(u);p={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},m=o2}else p={points:zV(o,u,i)},m=Qq;var S=typeof s=="object"&&"className"in s?s.className:void 0,j=Lu(Lu(Lu(Lu({stroke:"#ccc",pointerEvents:"none"},i),p),_e(s,!1)),{},{payload:d,payloadIndex:h,className:ve("recharts-tooltip-cursor",S)});return x.isValidElement(s)?x.cloneElement(s,j):x.createElement(m,j)}function FQ(e){var t=EQ(),n=GN(),r=x0(),i=PQ();return x.createElement($Q,Xv({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var hI=x.createContext(null),zQ=()=>x.useContext(hI),pI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)t.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(c,u,d,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,d),!0;case 4:return y.fn.call(y.context,u,d,h),!0;case 5:return y.fn.call(y.context,u,d,h,p),!0;case 6:return y.fn.call(y.context,u,d,h,p,m),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,d);break;case 4:y[w].fn.call(y[w].context,u,d,h);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},s.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},s.prototype.removeListener=function(c,u,d,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==u||h&&!m[g].once||d&&m[g].context!==d)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(pI);var BQ=pI.exports;const UQ=En(BQ);var cc=new UQ,Zv="recharts.syncEvent.tooltip",Tj="recharts.syncEvent.brush";function mI(e,t){if(t){var n=Number.parseInt(t,10);if(!jn(n))return e==null?void 0:e[n]}}var WQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gI=Nn({name:"options",initialState:WQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KQ=gI.reducer,{createEventEmitter:HQ}=gI.actions;function qQ(e){return e.tooltip.syncInteraction}var VQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vI=Nn({name:"chartData",initialState:VQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Ij,setDataStartEndIndexes:GQ,setComputedData:nce}=vI.actions,YQ=vI.reducer,JQ=["x","y"];function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){QQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e,t){if(e==null)return{};var n,r,i=tX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yI=()=>{};function nX(){var e=Z(Y0),t=Z(J0),n=Be(),r=Z(sT),i=Z(pi),a=x0(),o=g0(),s=Z(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return yI;var l=(c,u,d)=>{if(t!==d&&e===c){if(r==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var p=u.payload.coordinate,{x:m,y:g}=p,y=eX(p,JQ),v=aa(aa(aa({},y),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),b=aa(aa({},u),{},{payload:aa(aa({},u.payload),{},{coordinate:v})});n(b)}else n(u);return}if(i!=null){var w;if(typeof r=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},j=r(i,S);w=i[j]}else r==="value"&&(w=i.find(R=>String(R.value)===u.payload.label));var{coordinate:k}=u.payload;if(w==null||u.payload.active===!1||k==null||o==null){n(Jv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:N}=k,E=Math.min(_,o.x+o.width),C=Math.min(N,o.y+o.height),A={x:a==="horizontal"?w.coordinate:E,y:a==="horizontal"?C:w.coordinate},T=Jv({active:u.payload.active,coordinate:A,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});n(T)}}};return cc.on(Zv,l),()=>{cc.off(Zv,l)}},[s,n,t,e,r,i,a,o])}function rX(){var e=Z(Y0),t=Z(J0),n=Be();x.useEffect(()=>{if(e==null)return yI;var r=(i,a,o)=>{t!==o&&e===i&&n(GQ(a))};return cc.on(Tj,r),()=>{cc.off(Tj,r)}},[n,t,e])}function iX(){var e=Be();x.useEffect(()=>{e(HQ())},[e]),nX(),rX()}function aX(e,t,n,r,i,a){var o=Z(h=>AQ(h,e,t)),s=Z(J0),l=Z(Y0),c=Z(sT),u=Z(qQ),d=u==null?void 0:u.active;x.useEffect(()=>{if(!d&&l!=null&&s!=null){var h=Jv({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});cc.emit(Zv,l,h,s)}},[d,n,o,i,r,s,l,c,a])}function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){oX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oX(e,t,n){return(t=sX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cX(e){return e.dataKey}function uX(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Lq,t)}var Lj=[],dX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ja.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $j(e){var t=ln(e,dX),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:d,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:S}=t,j=Be(),k=typeof b=="number"?String(b):b;x.useEffect(()=>{j(DJ({shared:y,trigger:v,axisId:S,active:n,defaultIndex:k}))},[j,y,v,S,n,k]);var _=g0(),N=XN(),E=OJ(y),{activeIndex:C,isActive:A}=Z(ne=>IQ(ne,E,v,k)),T=Z(ne=>TQ(ne,E,v,k)),R=Z(ne=>fI(ne,E,v,k)),I=Z(ne=>NQ(ne,E,v,k)),L=T,$=zQ(),q=n??A,[D,B]=yN([L,q]),P=E==="axis"?R:void 0;aX(E,v,I,P,C,q);var X=w??$;if(X==null)return null;var M=L??Lj;q||(M=Lj),s&&M.length&&(M=oN(L.filter(ne=>ne.value!=null&&(ne.hide!==!0||t.includeHidden)),u,cX));var O=M.length>0,ie=x.createElement(Kq,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:q,coordinate:I,hasPayload:O,offset:c,position:d,reverseDirection:h,useTranslate3d:p,viewBox:_,wrapperStyle:m,lastBoundingBox:D,innerRef:B,hasPortalFromProps:!!w},uX(o,Mj(Mj({},t),{},{payload:M,label:P,active:q,coordinate:I,accessibilityLayer:N})));return x.createElement(x.Fragment,null,hx.createPortal(ie,X),q&&x.createElement(FQ,{cursor:g,tooltipEventType:E,coordinate:I,payload:L,index:C}))}var xI={},bI={},wI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},d=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},y=()=>{u()},v=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const w=h==null;p(),l&&w&&u()};return v.schedule=p,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(wI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,d=null;const h=t.debounce(function(...g){u=r.apply(this,g),d=null},i,{edges:c}),p=function(...g){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=r.apply(this,g),d=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(bI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI;function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:s})}e.throttle=n})(xI);var fX=xI.throttle;const hX=En(fX);var _l=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(n),!0).forEach(function(r){pX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pX(e,t,n){return(t=mX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lm=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:h,onResize:p,style:m={}}=e,g=x.useRef(null),y=x.useRef();y.current=p,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((j,k)=>{b(_=>{var N=Math.round(j),E=Math.round(k);return _.containerWidth===N&&_.containerHeight===E?_:{containerWidth:N,containerHeight:E}})},[]);x.useEffect(()=>{var j=E=>{var C,{width:A,height:T}=E[0].contentRect;w(A,T),(C=y.current)===null||C===void 0||C.call(y,A,T)};u>0&&(j=hX(j,u,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:_,height:N}=g.current.getBoundingClientRect();return w(_,N),k.observe(g.current),()=>{k.disconnect()}},[w,u]);var S=x.useMemo(()=>{var{containerWidth:j,containerHeight:k}=v;if(j<0||k<0)return null;_l(ba(i)||ba(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),_l(!n||n>0,"The aspect(%s) must be greater than zero.",n);var _=ba(i)?j:i,N=ba(a)?k:a;return n&&n>0&&(_?N=_/n:N&&(_=N*n),l&&N>l&&(N=l)),_l(_>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,i,a,o,s,n),x.Children.map(c,E=>x.cloneElement(E,{width:_,height:N,style:Mm({width:_,height:N},E.props.style)}))},[n,c,a,l,s,o,v,i]);return x.createElement("div",{id:d?"".concat(d):void 0,className:ve("recharts-responsive-container",h),style:Mm(Mm({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),kI=e=>null;kI.displayName="Cell";function vX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bX{constructor(t){vX(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _X={cacheSize:2e3,enableCache:!0},SI=wX({},_X),Bj=new bX(SI.cacheSize),CX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Uj="recharts_measurement_span";function EX(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var Wj=(e,t)=>{try{var n=document.getElementById(Uj);n||(n=document.createElement("span"),n.setAttribute("id",Uj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,CX,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Cl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ja.isSsr)return{width:0,height:0};if(!SI.enableCache)return Wj(t,n);var r=EX(t,n),i=Bj.get(r);if(i)return i;var a=Wj(t,n);return Bj.set(r,a),a},Kj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},AX=Object.keys(jI),Co="NaN";function NX(e,t){return e*jI[t]}class Gt{static parse(t){var n,[,r,i]=(n=OX.exec(t))!==null&&n!==void 0?n:[];return new Gt(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,jn(t)&&(this.unit=""),n!==""&&!PX.test(n)&&(this.num=NaN,this.unit=""),AX.includes(n)&&(this.num=NX(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Gt(NaN,""):new Gt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jn(this.num)}}function _I(e){if(e.includes(Co))return Co;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=Kj.exec(t))!==null&&n!==void 0?n:[],o=Gt.parse(r??""),s=Gt.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Co;t=t.replace(Kj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=(c=Hj.exec(t))!==null&&c!==void 0?c:[],p=Gt.parse(u??""),m=Gt.parse(h??""),g=d==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Co;t=t.replace(Hj,g.toString())}return t}var qj=/\(([^()]*)\)/;function TX(e){for(var t=e,n;(n=qj.exec(t))!=null;){var[,r]=n;t=t.replace(qj,_I(r))}return t}function IX(e){var t=e.replace(/\s+/g,"");return t=TX(t),t=_I(t),t}function DX(e){try{return IX(e)}catch{return Co}}function $m(e){var t=DX(e.slice(5,-1));return t===Co?"":t}var RX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MX=["dx","dy","angle","className","breakAll"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ey.apply(null,arguments)}function Vj(e,t){if(e==null)return{};var n,r,i=LX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CI=/[ \f\n\r\t\v\u2028\u2029]+/,EI=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Qe(t)||(n?i=t.toString().split(""):i=t.toString().split(CI));var a=i.map(s=>({word:s,width:Cl(s,r).width})),o=n?0:Cl("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},$X=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=oe(a),u=o,d=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce((T,R)=>{var{word:I,width:L}=R,$=T[T.length-1];if($&&(r==null||i||$.width+L+n<Number(r)))$.words.push(I),$.width+=L+n;else{var q={words:[I],width:L};T.push(q)}return T},[])},h=d(t),p=C=>C.reduce((A,T)=>A.width>T.width?A:T);if(!c||i)return h;var m=h.length>a||p(h).width>Number(r);if(!m)return h;for(var g="",y=C=>{var A=u.slice(0,C),T=EI({breakAll:l,style:s,children:A+g}).wordsWithComputedWidth,R=d(T),I=R.length>a||p(R).width>Number(r);return[I,R]},v=0,b=u.length-1,w=0,S;v<=b&&w<=u.length-1;){var j=Math.floor((v+b)/2),k=j-1,[_,N]=y(k),[E]=y(j);if(!_&&!E&&(v=j+1),_&&E&&(b=j-1),!_&&E){S=N;break}w++}return S||h},Gj=e=>{var t=Qe(e)?[]:e.toString().split(CI);return[{words:t}]},FX=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!Ja.isSsr){var s,l,c=EI({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;s=u,l=d}else return Gj(r);return $X({breakAll:a,children:r,maxLines:o,style:i},s,l,t,n)}return Gj(r)},Yj="#808080",Hc=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=Yj}=e,u=Vj(e,RX),d=x.useMemo(()=>FX({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:y}=u,v=Vj(u,MX);if(!Ir(n)||!Ir(r)||d.length===0)return null;var b=n+(oe(h)?h:0),w=r+(oe(p)?p:0),S;switch(l){case"start":S=$m("calc(".concat(a,")"));break;case"middle":S=$m("calc(".concat((d.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:S=$m("calc(".concat(d.length-1," * -").concat(i,")"));break}var j=[];if(o){var k=d[0].width,{width:_}=u;j.push("scale(".concat(oe(_)?_/k:1,")"))}return m&&j.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),j.length&&(v.transform=j.join(" ")),x.createElement("text",ey({},_e(v,!0),{ref:t,x:b,y:w,className:ve("recharts-text",g),textAnchor:s,fill:c.includes("url")?Yj:c}),d.map((N,E)=>{var C=N.words.join(y?"":" ");return x.createElement("tspan",{x:b,dy:E===0?S:i,key:"".concat(C,"-").concat(E)},C)}))});Hc.displayName="Text";var zX=["labelRef"];function BX(e,t){if(e==null)return{};var n,r,i=UX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=KX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(null,arguments)}var PI=x.createContext(null),qX=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,o=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(PI.Provider,{value:o},a)},OI=()=>{var e=x.useContext(PI),t=g0();return e||t},AI=x.createContext(null),VX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=e,c=x.useMemo(()=>({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[t,n,r,i,a,o,s]);return x.createElement(AI.Provider,{value:c},l)},NI=()=>{var e=x.useContext(AI),t=Z(ks);return e||t},GX=e=>{var{value:t,formatter:n}=e,r=Qe(e.children)?t:e.children;return typeof n=="function"?n(r):r},_b=e=>e!=null&&typeof e=="function",YX=(e,t)=>{var n=Zt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},JX=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:h,clockWise:p}=i,m=(c+u)/2,g=YX(d,h),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=d+y*a,b=p;break;case"insideEnd":v=h-y*a,b=!p;break;case"end":v=h+y*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Ee(s,l,m,v),S=Ee(s,l,m,v+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),k=Qe(e.id)?Zl("recharts-radial-line-"):e.id;return x.createElement("text",Ur({},r,{dominantBaseline:"central",className:ve("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:k,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(k)},n))},QX=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:u,y:d}=Ee(r,i,o+t,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=Ee(r,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},TI=e=>"cx"in e&&oe(e.cx),XX=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!TI(n)&&(a=n);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,g=m*r,y=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var b={x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h};return Ye(Ye({},b),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p};return Ye(Ye({},w),a?{height:Math.max(a.y+a.height-(s+c),0),width:l}:{})}if(i==="left"){var S={x:o-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return Ye(Ye({},S),a?{width:Math.max(S.x-a.x,0),height:c}:{})}if(i==="right"){var j={x:o+l+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return Ye(Ye({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:c}:{})}var k=a?{width:l,height:c}:{};return i==="insideLeft"?Ye({x:o+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideRight"?Ye({x:o+l-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?Ye({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?Ye({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?Ye({x:o+g,y:s+d,textAnchor:v,verticalAnchor:p},k):i==="insideTopRight"?Ye({x:o+l-g,y:s+d,textAnchor:y,verticalAnchor:p},k):i==="insideBottomLeft"?Ye({x:o+g,y:s+c-d,textAnchor:v,verticalAnchor:h},k):i==="insideBottomRight"?Ye({x:o+l-g,y:s+c-d,textAnchor:y,verticalAnchor:h},k):i&&typeof i=="object"&&(oe(i.x)||ba(i.x))&&(oe(i.y)||ba(i.y))?Ye({x:o+hr(i.x,l),y:s+hr(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):Ye({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},ZX={offset:5};function ki(e){var t=ln(e,ZX),{viewBox:n,position:r,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,u=NI(),d=OI(),h=r==="center"?d:u??d,p=n||h;if(!p||Qe(i)&&Qe(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var m=Ye(Ye({},t),{},{viewBox:p});if(x.isValidElement(o)){var g=BX(m,zX);return x.cloneElement(o,g)}var y;if(typeof o=="function"){if(y=x.createElement(o,m),x.isValidElement(y))return y}else y=GX(t);var v=TI(p),b=_e(t,!0);if(v&&(r==="insideStart"||r==="insideEnd"||r==="end"))return JX(t,r,y,b,p);var w=v?QX(p,t.offset,t.position):XX(t,p);return x.createElement(Hc,Ur({ref:c,className:ve("recharts-label",s)},b,w,{breakAll:l}),y)}ki.displayName="Label";var II=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(ki,Ur({key:"label-implicit"},r)):Ir(e)?x.createElement(ki,Ur({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ki?x.cloneElement(e,Ye({key:"label-implicit"},r)):x.createElement(ki,Ur({key:"label-implicit",content:e},r)):_b(e)?x.createElement(ki,Ur({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ki,Ur({},e,{key:"label-implicit"},r)):null};function eZ(e){var{label:t}=e,n=OI();return II(t,n)||null}function tZ(e){var{label:t}=e,n=NI();return II(t,n)||null}var DI={},RI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(RI);var MI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(MI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RI,n=MI,r=jh;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(DI);var nZ=DI.last;const LI=En(nZ);var rZ=["valueAccessor"],iZ=["dataKey","clockWise","id","textBreakAll"];function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wf.apply(null,arguments)}function Qj(e,t){if(e==null)return{};var n,r,i=aZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oZ=e=>Array.isArray(e.value)?LI(e.value):e.value,$I=x.createContext(void 0),FI=$I.Provider,zI=x.createContext(void 0);zI.Provider;function sZ(){return x.useContext($I)}function lZ(){return x.useContext(zI)}function id(e){var{valueAccessor:t=oZ}=e,n=Qj(e,rZ),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,s=Qj(n,iZ),l=sZ(),c=lZ(),u=l||c;return!u||!u.length?null:x.createElement(yt,{className:"recharts-label-list"},u.map((d,h)=>{var p,m=Qe(r)?t(d,h):ft(d&&d.payload,r),g=Qe(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(ki,wf({},_e(d,!0),s,g,{fill:(p=n.fill)!==null&&p!==void 0?p:d.fill,parentViewBox:d.parentViewBox,value:m,textBreakAll:o,viewBox:d.viewBox,key:"label-".concat(h),index:h}))}))}id.displayName="LabelList";function BI(e){var{label:t}=e;return t?t===!0?x.createElement(id,{key:"labelList-implicit"}):x.isValidElement(t)||_b(t)?x.createElement(id,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(id,wf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var cZ=["points","className","baseLinePoints","connectNulls"];function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(null,arguments)}function uZ(e,t){if(e==null)return{};var n,r,i=dZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xj=e=>e&&e.x===+e.x&&e.y===+e.y,fZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{Xj(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Xj(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},El=(e,t)=>{var n=fZ(e);t&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,s)=>"".concat(a).concat(s===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},hZ=(e,t,n)=>{var r=El(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(El(Array.from(t).reverse(),n).slice(1))},UI=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,a=uZ(e,cZ);if(!t||!t.length)return null;var o=ve("recharts-polygon",n);if(r&&r.length){var s=a.stroke&&a.stroke!=="none",l=hZ(t,r,i);return x.createElement("g",{className:o},x.createElement("path",Eo({},_e(a,!0),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),s?x.createElement("path",Eo({},_e(a,!0),{fill:"none",d:El(t,i)})):null,s?x.createElement("path",Eo({},_e(a,!0),{fill:"none",d:El(r,i)})):null)}var c=El(t,i);return x.createElement("path",Eo({},_e(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:o,d:c}))};function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}var Cb=e=>{var{cx:t,cy:n,r,className:i}=e,a=ve("recharts-dot",i);return t===+t&&n===+n&&r===+r?x.createElement("circle",ty({},Ht(e),Hx(e),{className:a,cx:t,cy:n,r})):null},WI=e=>e.graphicalItems.polarItems,pZ=F([Ie,Fc],eb),Eb=F([WI,Xe,pZ],nb),mZ=F([Eb],rb),Pb=F([mZ,K0],ib),KI=F([Pb,Xe,Eb],ob),gZ=F([Pb,Xe,Eb],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=ft(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ft(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),Zj=()=>{},vZ=F([Xe,NT,Zj,gZ,Zj,ye,Ie],lb),HI=F([Xe,ye,Pb,KI,Lc,Ie,vZ],cb),qI=F([HI,Xe,Zi],db),yZ=F([Xe,HI,qI,Ie],hb),Ob=(e,t,n)=>{switch(t){case"angleAxis":return ws(e,n);case"radiusAxis":return $c(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ab=(e,t,n)=>{switch(t){case"angleAxis":return LY(e,n);case"radiusAxis":return $Y(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Os=F([Ob,Zi,yZ,Ab],Zh),VI=F([ye,KI,js,Ie],pb),As=F([ye,Ob,Zi,Os,qI,Ab,Uc,VI,Ie],zT);F([ye,Ob,Os,Ab,Uc,VI,Ie],UT);var xZ=(e,t)=>As(e,"angleAxis",t,!1),bZ=F([xZ],e=>{if(e)return e.map(t=>t.coordinate)}),wZ=(e,t)=>As(e,"radiusAxis",t,!1),kZ=F([wZ],e=>{if(e)return e.map(t=>t.coordinate)}),SZ=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function jZ(e,t){if(e==null)return{};var n,r,i=_Z(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sr(){return sr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sr.apply(null,arguments)}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(r){CZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OZ=(e,t,n,r)=>{var i="";return r.forEach((a,o)=>{var s=Ee(t,n,e,a);o?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},AZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=e;if(!a||!a.length||!o)return null;var s=rp({stroke:"#ccc"},Ht(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var c=Ee(t,n,r,l),u=Ee(t,n,i,l);return x.createElement("line",sr({},s,{key:"line-".concat(l),x1:c.x,y1:c.y,x2:u.x,y2:u.y}))}))},t_=e=>{var{cx:t,cy:n,radius:r}=e,i=rp({stroke:"#ccc",fill:"none"},Ht(e));return x.createElement("circle",sr({},i,{className:ve("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},n_=e=>{var{radius:t}=e,n=rp({stroke:"#ccc",fill:"none"},Ht(e));return x.createElement("path",sr({},n,{className:ve("recharts-polar-grid-concentric-polygon",e.className),d:OZ(t,e.cx,e.cy,e.polarAngles)}))},NZ=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(t_,sr({},e,{radius:r})),i&&n!=="circle"&&x.createElement(n_,sr({},e,{radius:r})),t.map((a,o)=>{var s=o;return n==="circle"?x.createElement(t_,sr({key:s},e,{fill:"none",radius:a})):x.createElement(n_,sr({key:s},e,{fill:"none",radius:a}))}))},GI=e=>{var t,n,r,i,a,o,s,l,{gridType:c="polygon",radialLines:u=!0,angleAxisId:d=0,radiusAxisId:h=0,cx:p,cy:m,innerRadius:g,outerRadius:y}=e,v=jZ(e,SZ),b=Z(ks),w=rp({cx:(t=(n=b==null?void 0:b.cx)!==null&&n!==void 0?n:p)!==null&&t!==void 0?t:0,cy:(r=(i=b==null?void 0:b.cy)!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0,innerRadius:(a=(o=b==null?void 0:b.innerRadius)!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0,outerRadius:(s=(l=b==null?void 0:b.outerRadius)!==null&&l!==void 0?l:y)!==null&&s!==void 0?s:0},v),{polarAngles:S,polarRadius:j,outerRadius:k}=w,_=Z(A=>bZ(A,d)),N=Z(A=>kZ(A,h)),E=Array.isArray(S)?S:_,C=Array.isArray(j)?j:N;return k<=0||E==null||C==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(NZ,sr({gridType:c,radialLines:u},w,{polarAngles:E,polarRadius:C})),x.createElement(AZ,sr({gridType:c,radialLines:u},w,{polarAngles:E,polarRadius:C})))};GI.displayName="PolarGrid";var YI={},JI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l>a&&(a=l,i=s)}return i}e.maxBy=t})(JI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI,n=Oc,r=_h;function i(a,o){if(a!=null)return t.maxBy(Array.from(a),r.iteratee(o??n.identity))}e.maxBy=i})(YI);var TZ=YI.maxBy;const IZ=En(TZ);var QI={},XI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l<a&&(a=l,i=s)}return i}e.minBy=t})(XI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI,n=Oc,r=_h;function i(a,o){if(a!=null)return t.minBy(Array.from(a),r.iteratee(o??n.identity))}e.minBy=i})(QI);var DZ=QI.minBy;const RZ=En(DZ);var MZ={radiusAxis:{},angleAxis:{}},ZI=Nn({name:"polarAxis",initialState:MZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LZ,removeRadiusAxis:$Z,addAngleAxis:FZ,removeAngleAxis:zZ}=ZI.actions,BZ=ZI.reducer,UZ=["cx","cy","angle","axisLine"],WZ=["angle","tickFormatter","stroke","tick"];function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uc.apply(null,arguments)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){ip(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ip(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=HZ(e,"string");return typeof t=="symbol"?t:t+""}function HZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eD(e,t){if(e==null)return{};var n,r,i=qZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tD="radiusAxis";function VZ(e){var t=Be();return x.useEffect(()=>(t(LZ(e)),()=>{t($Z(e))})),null}var GZ=(e,t,n,r)=>{var{coordinate:i}=e;return Ee(n,r,i,t)},YZ=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},JZ=(e,t,n,r)=>{var i=IZ(r,o=>o.coordinate||0),a=RZ(r,o=>o.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},QZ=(e,t)=>{var{cx:n,cy:r,angle:i,axisLine:a}=e,o=eD(e,UZ),s=t.reduce((d,h)=>[Math.min(d[0],h.coordinate),Math.max(d[1],h.coordinate)],[1/0,-1/0]),l=Ee(n,r,s[0],i),c=Ee(n,r,s[1],i),u=Pr(Pr(Pr({},Ht(o)),{},{fill:"none"},_e(a,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return x.createElement("line",uc({className:"recharts-polar-radius-axis-line"},u))},XZ=(e,t,n)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(Hc,uc({},t,{className:"recharts-polar-radius-axis-tick-value"}),n),r},ZZ=(e,t)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=e,o=eD(e,WZ),s=YZ(e.orientation),l=Ht(o),c=_e(a,!1),u=t.map((d,h)=>{var p=GZ(d,e.angle,e.cx,e.cy),m=Pr(Pr(Pr(Pr({textAnchor:s,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:i},c),{},{index:h},p),{},{payload:d});return x.createElement(yt,uc({className:ve("recharts-polar-radius-axis-tick",WN(a)),key:"tick-".concat(d.coordinate)},vs(e,d,h)),XZ(a,m,r?r(d.value,h):d.value))});return x.createElement(yt,{className:"recharts-polar-radius-axis-ticks"},u)},eee=e=>{var{radiusAxisId:t}=e,n=Z(ks),r=Z(l=>Os(l,"radiusAxis",t)),i=Z(l=>As(l,"radiusAxis",t,!1));if(n==null||!i||!i.length)return null;var a=Pr(Pr(Pr({},e),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:s}=a;return x.createElement(yt,{className:ve("recharts-polar-radius-axis",tD,a.className)},s&&QZ(a,i),o&&ZZ(a,i),x.createElement(VX,JZ(a.angle,a.cx,a.cy,i),x.createElement(tZ,{label:a.label}),a.children))};class ap extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(VZ,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(eee,this.props))}}ip(ap,"displayName","PolarRadiusAxis");ip(ap,"axisType",tD);ip(ap,"defaultProps",Yt);var tee=["children"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(null,arguments)}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){op(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function op(e,t,n){return(t=nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iee(e,t){if(e==null)return{};var n,r,i=aee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var a_=1e-5,oee=Math.cos(rf(45)),nD="angleAxis";function see(e){var t=Be(),n=x.useMemo(()=>{var a=iee(e,tee);return a},[e]),r=Z(a=>ws(a,n.id)),i=n===r;return x.useEffect(()=>(t(FZ(n)),()=>{t(zZ(n))}),[t,n]),i?e.children:null}var lee=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=Ee(n,r,i,e.coordinate),c=Ee(n,r,i+(a==="inner"?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}},cee=(e,t)=>{var n=Math.cos(rf(-e.coordinate));return n>a_?t==="outer"?"start":"end":n<-a_?t==="outer"?"end":"start":"middle"},uee=e=>{var t=Math.cos(rf(-e.coordinate)),n=Math.sin(rf(-e.coordinate));return Math.abs(t)<=oee?n>0?"start":"end":"middle"},dee=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=e;if(!a)return null;var s=Cr(Cr({},Ht(e)),{},{fill:"none"},_e(a,!1));if(i==="circle")return x.createElement(Cb,oi({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r}));var l=o.map(c=>Ee(t,n,r,c.coordinate));return x.createElement(UI,oi({className:"recharts-polar-angle-axis-line"},s,{points:l}))},fee=e=>{var{tick:t,tickProps:n,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,n):typeof t=="function"?t(n):x.createElement(Hc,oi({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},hee=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=e,o=Ht(e),s=_e(t,!1),l=Cr(Cr({},o),{},{fill:"none"},_e(n,!1)),c=a.map((u,d)=>{var h=lee(u,e),p=cee(u,e.orientation),m=uee(u),g=Cr(Cr(Cr({},o),{},{textAnchor:p,verticalAnchor:m,stroke:"none",fill:i},s),{},{index:d,payload:u,x:h.x2,y:h.y2});return x.createElement(yt,oi({className:ve("recharts-polar-angle-axis-tick",WN(t)),key:"tick-".concat(u.coordinate)},vs(e,u,d)),n&&x.createElement("line",oi({className:"recharts-polar-angle-axis-tick-line"},l,h)),x.createElement(fee,{tick:t,tickProps:g,value:r?r(u.value,d):u.value}))});return x.createElement(yt,{className:"recharts-polar-angle-axis-ticks"},c)},pee=e=>{var{angleAxisId:t}=e,n=Z(ks),r=Z(s=>Os(s,"angleAxis",t)),i=sn(),a=Z(s=>As(s,"angleAxis",t,i));if(n==null||!a||!a.length)return null;var o=Cr(Cr(Cr({},e),{},{scale:r},n),{},{radius:n.outerRadius});return x.createElement(yt,{className:ve("recharts-polar-angle-axis",nD,o.className)},x.createElement(dee,oi({},o,{ticks:a})),x.createElement(hee,oi({},o,{ticks:a})))};class sp extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(see,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(pee,this.props))}}op(sp,"displayName","PolarAngleAxis");op(sp,"axisType",nD);op(sp,"defaultProps",_r);var rD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(rD);var mee=rD.isPlainObject;const gee=En(mee);function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(r){vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vee(e,t,n){return(t=yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(null,arguments)}var l_=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},bee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wee=e=>{var t=ln(e,bee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,h=x.useRef(),[p,m]=x.useState(-1),g=x.useRef(i),y=x.useRef(a),v=x.useRef(o),b=x.useRef(n),w=x.useRef(r),S=zh(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var I=h.current.getTotalLength();I&&m(I)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=ve("recharts-trapezoid",s);if(!d)return x.createElement("g",null,x.createElement("path",kf({},_e(t,!0),{className:j,d:l_(n,r,i,a,o)})));var k=g.current,_=y.current,N=v.current,E=b.current,C=w.current,A="0px ".concat(p===-1?1:p,"px"),T="".concat(p,"px 0px"),R=ZN(["strokeDasharray"],c,l);return x.createElement(Fh,{animationId:S,key:S,canBegin:p>0,duration:c,easing:l,isActive:d,begin:u},I=>{var L=ut(k,i,I),$=ut(_,a,I),q=ut(N,o,I),D=ut(E,n,I),B=ut(C,r,I);h.current&&(g.current=L,y.current=$,v.current=q,b.current=D,w.current=B);var P=I>0?{transition:R,strokeDasharray:T}:{strokeDasharray:A};return x.createElement("path",kf({},_e(t,!0),{className:j,d:l_(D,B,L,$,q),ref:h,style:s_(s_({},P),t.style)}))})},kee=["option","shapeType","propTransformer","activeClassName","isActive"];function See(e,t){if(e==null)return{};var n,r,i=jee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(r){_ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ee(e,t,n){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cee(e){var t=Eee(e,"string");return typeof t=="symbol"?t:t+""}function Eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pee(e,t){return Sf(Sf({},t),e)}function Oee(e,t){return e==="symbols"}function u_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(r2,n);case"trapezoid":return x.createElement(wee,n);case"sector":return x.createElement(o2,n);case"symbols":if(Oee(t))return x.createElement(Jx,n);break;default:return null}}function Aee(e){return x.isValidElement(e)?e.props:e}function Nee(e){var{option:t,shapeType:n,propTransformer:r=Pee,activeClassName:i="recharts-active-shape",isActive:a}=e,o=See(e,kee),s;if(x.isValidElement(t))s=x.cloneElement(t,Sf(Sf({},o),Aee(t)));else if(typeof t=="function")s=t(o);else if(gee(t)&&typeof t!="boolean"){var l=r(t,o);s=x.createElement(u_,{shapeType:n,elementProps:l})}else{var c=o;s=x.createElement(u_,{shapeType:n,elementProps:c})}return a?x.createElement(yt,{className:i},s):s}var iD=(e,t)=>{var n=Be();return(r,i)=>a=>{e==null||e(r,i,a),n(GT({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},aD=e=>{var t=Be();return(n,r)=>i=>{e==null||e(n,r,i),t(RJ())}},oD=(e,t)=>{var n=Be();return(r,i)=>a=>{e==null||e(r,i,a),n(MJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function sD(e){var{fn:t,args:n}=e,r=Be(),i=sn();return x.useEffect(()=>{if(!i){var a=t(n);return r(TJ(a)),()=>{r(IJ(a))}}},[t,n,r,i]),null}var lD=()=>{};function Tee(e){var{legendPayload:t}=e,n=Be(),r=sn();return x.useEffect(()=>r?lD:(n(JN(t)),()=>{n(QN(t))}),[n,r,t]),null}function Iee(e){var{legendPayload:t}=e,n=Be(),r=Z(ye);return x.useEffect(()=>r!=="centric"&&r!=="radial"?lD:(n(JN(t)),()=>{n(QN(t))}),[n,r,t]),null}var Fm,Dee=()=>{var[e]=x.useState(()=>Zl("uid-"));return e},Ree=(Fm=gC["useId".toString()])!==null&&Fm!==void 0?Fm:Dee;function Mee(e,t){var n=Ree();return t||(e?"".concat(e,"-").concat(n):n)}var Lee=x.createContext(void 0),cD=e=>{var{id:t,type:n,children:r}=e,i=Mee("recharts-".concat(n),t);return x.createElement(Lee.Provider,{value:i},r(i))},$ee={cartesianItems:[],polarItems:[]},uD=Nn({name:"graphicalItems",initialState:$ee,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Jr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Jr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Jr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Fee,replaceCartesianGraphicalItem:zee,removeCartesianGraphicalItem:Bee,addPolarGraphicalItem:Uee,removePolarGraphicalItem:Wee}=uD.actions,Kee=uD.reducer;function Hee(e){var t=Be(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(Fee(e)):n.current!==e&&t(zee({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(Bee(n.current)),n.current=null)},[t]),null}function qee(e){var t=Be();return x.useEffect(()=>(t(Uee(e)),()=>{t(Wee(e))}),[t,e]),null}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){Vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vee(e,t,n){return(t=Gee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gee(e){var t=Yee(e,"string");return typeof t=="symbol"?t:t+""}function Yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jee={xAxis:{},yAxis:{},zAxis:{}},dD=Nn({name:"cartesianAxis",initialState:Jee,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=f_(f_({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Qee,removeXAxis:Xee,addYAxis:Zee,removeYAxis:ete,addZAxis:rce,removeZAxis:ice,updateYAxisWidth:tte}=dD.actions,nte=dD.reducer,rte=F([xt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ite=F([rte,ci,ui],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),fD=()=>Z(ite),ate=()=>Z(kQ);function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ote(e,t,n){return(t=ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ste(e){var t=lte(e,"string");return typeof t=="symbol"?t:t+""}function lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cte=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=p_(p_({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},_e(i,!1)),Hx(i)),s;return x.isValidElement(i)?s=x.cloneElement(i,o):typeof i=="function"?s=i(o):s=x.createElement(Cb,o),x.createElement(yt,{className:"recharts-active-dot"},s)};function ute(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=Z(Ba),o=ate();if(t==null||o==null)return null;var s=t.find(l=>o.includes(l.payload));return Qe(s)?null:cte({point:s,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function m_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(n),!0).forEach(function(r){dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dte(e,t,n){return(t=fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hD=(e,t)=>Os(e,"radiusAxis",t),pte=F([hD],e=>{if(e!=null)return{scale:e}}),mte=F([$c,hD],(e,t)=>{if(!(e==null||t==null))return jf(jf({},e),{},{scale:t})}),gte=(e,t,n,r)=>As(e,"radiusAxis",t,r),pD=(e,t,n)=>ws(e,n),mD=(e,t,n)=>Os(e,"angleAxis",n),vte=F([pD,mD],(e,t)=>{if(!(e==null||t==null))return jf(jf({},e),{},{scale:t})}),yte=(e,t,n,r)=>As(e,"angleAxis",n,r),xte=F([pD,mD,ks],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),bte=(e,t,n,r,i)=>i,wte=F([ye,mte,gte,vte,yte],(e,t,n,r,i)=>Yi(e,"radiusAxis")?nc(t,n,!1):nc(r,i,!1)),kte=F([WI,bte],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n==null?void 0:n.dataKey}}),Ste=F([pte,xte,K0,kte,wte],(e,t,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(!(e==null||t==null||a==null||i==null||r==null)){var l=a.slice(o,s+1);return Tte({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:r,bandSize:i})}}),jte=["id"];function _te(e,t){if(e==null)return{};var n,r,i=Cte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(r){Nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nb(e,t,n){return(t=Ete(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ete(e){var t=Pte(e,"string");return typeof t=="symbol"?t:t+""}function Pte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},as.apply(null,arguments)}function Tb(e,t){return e&&e!=="none"?e:t}var Ote=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Tb(r,i),value:Ih(n,t),payload:e}]};function Ate(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:Ih(a,t),hide:o,type:s,color:Tb(n,i),unit:""}}}function Nte(e,t){var n;return x.isValidElement(e)?n=x.cloneElement(e,t):typeof e=="function"?n=e(t):n=x.createElement(Cb,as({},t,{className:ve("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),n}function Tte(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=n,l=!1,c=[],u=n.type!=="number"?a??0:0;r.forEach((h,p)=>{var m=ft(h,n.dataKey,p),g=ft(h,i),y=n.scale(m)+u,v=Array.isArray(g)?LI(g):g,b=Qe(v)?void 0:t.scale(v);Array.isArray(g)&&g.length>=2&&(l=!0),c.push(_t(_t({},Ee(o,s,b,y)),{},{name:m,value:g,cx:o,cy:s,radius:b,angle:y,payload:h}))});var d=[];return l&&c.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],m=Qe(p)?void 0:t.scale(p);d.push(_t(_t({},h),{},{radius:m},Ee(o,s,m,h.angle)))}else d.push(h)}),{points:c,isRange:l,baseLinePoints:d}}function Ite(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n;if(!r)return null;var a=_te(n,jte),o=Ht(a),s=_e(r,!0),l=t.map((c,u)=>{var d=_t(_t(_t({key:"dot-".concat(u),r:3},o),s),{},{dataKey:i,cx:c.x,cy:c.y,index:u,payload:c});return Nte(r,d)});return x.createElement(yt,{className:"recharts-radar-dots"},l)}function Dte(e){var{showLabels:t,points:n,children:r}=e,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return _t(_t({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(FI,{value:t?i:null},r)}function Rte(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,s=u=>{var{onMouseEnter:d}=r;d&&d(r,u)},l=u=>{var{onMouseLeave:d}=r;d&&d(r,u)},c;return x.isValidElement(i)?c=x.cloneElement(i,_t(_t({},r),{},{points:t})):typeof i=="function"?c=i(_t(_t({},r),{},{points:t})):c=x.createElement(UI,as({},_e(r,!0),{onMouseEnter:s,onMouseLeave:l,points:t,baseLinePoints:a?n:null,connectNulls:o})),x.createElement(yt,{className:"recharts-radar-polygon"},c,x.createElement(Ite,{props:r,points:t}))}var v_=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return a?_t(_t({},r),{},{x:ut(a.x,r.x,n),y:ut(a.y,r.y,n)}):_t(_t({},r),{},{x:ut(r.cx,r.x,n),y:ut(r.cy,r.y,n)})};function Mte(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,p=r.current,m=h&&h.length/i.length,g=p&&p.length/a.length,y=zh(t,"recharts-radar-"),[v,b]=x.useState(!1),w=!v,S=x.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),j=x.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return x.createElement(Dte,{showLabels:w,points:i},x.createElement(Fh,{animationId:y,begin:s,duration:l,isActive:o,easing:c,key:"radar-".concat(y),onAnimationEnd:S,onAnimationStart:j},k=>{var _=k===1?i:i.map(v_(h,m,k)),N=k===1?a:a==null?void 0:a.map(v_(p,g,k));return k>0&&(n.current=_,r.current=N),x.createElement(Rte,{points:_,baseLinePoints:N,props:t})}),x.createElement(BI,{label:t.label}),t.children)}function Lte(e){var t=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(Mte,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var $te={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ja.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Fte extends x.PureComponent{render(){var{hide:t,className:n,points:r}=this.props;if(t||r==null)return null;var i=ve("recharts-radar",n);return x.createElement(x.Fragment,null,x.createElement(yt,{className:i},x.createElement(Lte,this.props)),x.createElement(ute,{points:r,mainColor:Tb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function zte(e){var t=sn(),n=Z(r=>Ste(r,e.radiusAxisId,e.angleAxisId,t,e.id));return x.createElement(Fte,as({},e,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class Ib extends x.PureComponent{render(){return x.createElement(cD,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(qee,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(Iee,{legendPayload:Ote(this.props)}),x.createElement(sD,{fn:Ate,args:this.props}),x.createElement(zte,as({},this.props,{id:t}))))}}Nb(Ib,"displayName","Radar");Nb(Ib,"defaultProps",$te);var Bte=!0,zm="Invariant failed";function Ute(e,t){if(!e){if(Bte)throw new Error(zm);var n=typeof t=="function"?t():t,r=n?"".concat(zm,": ").concat(n):zm;throw new Error(r)}}var Wte=["x","y"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ny.apply(null,arguments)}function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){Kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kte(e,t,n){return(t=Hte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hte(e){var t=qte(e,"string");return typeof t=="symbol"?t:t+""}function qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vte(e,t){if(e==null)return{};var n,r,i=Gte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yte(e,t){var{x:n,y:r}=e,i=Vte(e,Wte),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return el(el(el(el(el({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Db(e){return x.createElement(Nee,ny({shapeType:"rectangle",propTransformer:Yte,activeClassName:"recharts-active-bar"},e))}var Jte=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(oe(t))return t;var a=oe(r)||Qe(r);return a?t(r,i):(a||Ute(!1),n)}},Qte={},gD=Nn({name:"errorBars",initialState:Qte,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});gD.actions;var Xte=gD.reducer,Zte=["children"];function ene(e,t){if(e==null)return{};var n,r,i=tne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rne=x.createContext(nne);function ine(e){var{children:t}=e,n=ene(e,Zte);return x.createElement(rne.Provider,{value:n},t)}function vD(e,t){var n,r,i=Z(c=>fi(c,e)),a=Z(c=>hi(c,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:mn.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function ane(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=fD(),{needClipX:a,needClipY:o,needClip:s}=vD(t,n);if(!s)return null;var{x:l,y:c,width:u,height:d}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:u*2,height:o?d:d*2}))}var one=["onMouseEnter","onMouseLeave","onClick"],sne=["value","background","tooltipPosition"],lne=["id"],cne=["onMouseEnter","onClick","onMouseLeave"];function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ui.apply(null,arguments)}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function une(e,t,n){return(t=dne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=fne(e,"string");return typeof t=="symbol"?t:t+""}function fne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(e,t){if(e==null)return{};var n,r,i=hne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Ih(n,t),payload:e}]};function mne(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ih(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function gne(e){var t=Z(Ba),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=_f(a,one),u=iD(o,r),d=aD(s),h=oD(l,r);if(!i||n==null)return null;var p=_e(i,!1);return x.createElement(x.Fragment,null,n.map((m,g)=>{var{value:y,background:v,tooltipPosition:b}=m,w=_f(m,sne);if(!v)return null;var S=u(m,g),j=d(m,g),k=h(m,g),_=Ft(Ft(Ft(Ft(Ft({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},v),p),vs(c,m,g)),{},{onMouseEnter:S,onMouseLeave:j,onClick:k,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return x.createElement(Db,Ui({key:"background-bar-".concat(_.index)},_))}))}function vne(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Ft(Ft({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(FI,{value:t?i:void 0},n)}function yne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=Z(Ba),l=Z(sI),c=n&&String(a)===s&&(l==null||o===l),u=c?n:t;return x.createElement(Db,Ui({},r,i,{isActive:c,option:u,index:a,dataKey:o}))}function xne(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(Db,Ui({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function bne(e){var{data:t,props:n}=e,r=Ht(n),i=_f(r,lne),{shape:a,dataKey:o,activeBar:s}=n,{onMouseEnter:l,onClick:c,onMouseLeave:u}=n,d=_f(n,cne),h=iD(l,o),p=aD(u),m=oD(c,o);return t?x.createElement(x.Fragment,null,t.map((g,y)=>x.createElement(yt,Ui({className:"recharts-bar-rectangle"},vs(d,g,y),{onMouseEnter:h(g,y),onMouseLeave:p(g,y),onClick:m(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),s?x.createElement(yne,{shape:a,activeBar:s,baseProps:i,entry:g,index:y,dataKey:o}):x.createElement(xne,{shape:a,baseProps:i,entry:g,index:y,dataKey:o})))):null}function wne(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=n.current,h=zh(t,"recharts-bar-"),[p,m]=x.useState(!1),g=!p,y=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),v=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(vne,{showLabels:g,rects:r},x.createElement(Fh,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:v,key:h},b=>{var w=b===1?r:r==null?void 0:r.map((S,j)=>{var k=d&&d[j];if(k)return Ft(Ft({},S),{},{x:ut(k.x,S.x,b),y:ut(k.y,S.y,b),width:ut(k.width,S.width,b),height:ut(k.height,S.height,b)});if(i==="horizontal"){var _=ut(0,S.height,b);return Ft(Ft({},S),{},{y:S.y+S.height-_,height:_})}var N=ut(0,S.width,b);return Ft(Ft({},S),{},{width:N})});return b>0&&(n.current=w??null),w==null?null:x.createElement(yt,null,x.createElement(bne,{props:t,data:w}))}),x.createElement(BI,{label:t.label}),t.children)}function kne(e){var t=x.useRef(null);return x.createElement(wne,{previousRectanglesRef:t,props:e})}var yD=0,Sne=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ft(e,t)}};class jne extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||n==null)return null;var u=ve("recharts-bar",i),d=c;return x.createElement(yt,{className:u,id:c},s&&x.createElement("defs",null,x.createElement(ane,{clipPathId:d,xAxisId:a,yAxisId:o})),x.createElement(yt,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},x.createElement(gne,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(kne,this.props)))}}var _ne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ja.isSsr,legendType:"rect",minPointSize:yD,xAxisId:0,yAxisId:0};function Cne(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:d}=vD(t,n),h=x0(),p=sn(),m=q9(e.children,kI),g=Z(b=>ere(b,t,n,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var y,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?y=0:y=h==="vertical"?v.height/2:v.width/2,x.createElement(ine,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:Sne,errorBarOffset:y},x.createElement(jne,Ui({},e,{layout:h,needClip:d,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Ene(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?s:o,y=u?g.scale.domain():null,v=QH({numericAxis:g});return d.map((b,w)=>{var S,j,k,_,N,E;u?S=HH(u[w],y):(S=ft(b,n),Array.isArray(S)||(S=[v,S]));var C=Jte(r,yD)(S[1],w);if(t==="horizontal"){var A,[T,R]=[s.scale(S[0]),s.scale(S[1])];j=dS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:b,index:w}),k=(A=R??T)!==null&&A!==void 0?A:void 0,_=i.size;var I=T-R;if(N=jn(I)?0:I,E={x:j,y:h.top,width:_,height:h.height},Math.abs(C)>0&&Math.abs(N)<Math.abs(C)){var L=Zt(N||C)*(Math.abs(C)-Math.abs(N));k-=L,N+=L}}else{var[$,q]=[o.scale(S[0]),o.scale(S[1])];if(j=$,k=dS({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:b,index:w}),_=q-$,N=i.size,E={x:h.left,y:k,width:h.width,height:N},Math.abs(C)>0&&Math.abs(_)<Math.abs(C)){var D=Zt(_||C)*(Math.abs(C)-Math.abs(_));_+=D}}if(j==null||k==null||_==null||N==null)return null;var B=Ft(Ft({},b),{},{x:j,y:k,width:_,height:N,value:u?S:S[1],payload:b,background:E,tooltipPosition:{x:j+_/2,y:k+N/2},parentViewBox:m},p&&p[w]&&p[w].props);return B}).filter(Boolean)}function Pne(e){var t=ln(e,_ne),n=sn();return x.createElement(cD,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Tee,{legendPayload:pne(t)}),x.createElement(sD,{fn:mne,args:t}),x.createElement(Hee,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:JH(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(Cne,Ui({},t,{id:r}))))}var ad=x.memo(Pne);ad.displayName="Bar";function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(r){One(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function One(e,t,n){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ane(e){var t=Nne(e,"string");return typeof t=="symbol"?t:t+""}function Nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tne=(e,t)=>t,Ine=(e,t,n)=>n,Dne=(e,t,n,r)=>r,Rne=(e,t,n,r,i)=>i,qc=F([tb,Rne],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Mne=F([qc],e=>e==null?void 0:e.maxBarSize),Lne=(e,t,n,r,i,a)=>a,w_=(e,t,n)=>{var r=n??e;if(!Qe(r))return hr(r,t,0)},$ne=F([ye,tb,Tne,Ine,Dne],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Fne=(e,t,n,r)=>{var i=ye(e);return i==="horizontal"?Yv(e,"yAxis",n,r):Yv(e,"xAxis",t,r)},zne=(e,t,n)=>{var r=ye(e);return r==="horizontal"?jj(e,"xAxis",t):jj(e,"yAxis",n)},Bne=(e,t,n)=>{var r={},i=e.filter(Jh),a=e.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),s=Object.entries(o).map(c=>{var[u,d]=c,h=d.map(m=>m.dataKey),p=w_(t,n,d[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=a.map(c=>{var u=[c.dataKey].filter(h=>h!=null),d=w_(t,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:d}});return[...s,...l]},Une=F([$ne,NY,zne],Bne),Wne=(e,t,n,r,i)=>{var a,o,s=qc(e,t,n,r,i);if(s!=null){var l=ye(e),c=aT(e),{maxBarSize:u}=s,d=Qe(u)?c:u,h,p;return l==="horizontal"?(h=is(e,"xAxis",t,r),p=rs(e,"xAxis",t,r)):(h=is(e,"yAxis",n,r),p=rs(e,"yAxis",n,r)),(a=(o=nc(h,p,!0))!==null&&o!==void 0?o:d)!==null&&a!==void 0?a:0}},xD=(e,t,n,r)=>{var i=ye(e),a,o;return i==="horizontal"?(a=is(e,"xAxis",t,r),o=rs(e,"xAxis",t,r)):(a=is(e,"yAxis",n,r),o=rs(e,"yAxis",n,r)),nc(a,o)};function Kne(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=hr(e,n,0,!0),s,l=[];if(Cn(r[0].barSize)){var c=!1,u=n/a,d=r.reduce((v,b)=>v+(b.barSize||0),0);d+=(a-1)*o,d>=n&&(d-=(a-1)*o,o=0),d>=n&&u>0&&(c=!0,u*=.9,d=a*u);var h=(n-d)/2>>0,p={offset:h-o,size:0};s=r.reduce((v,b)=>{var w,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+o,size:c?u:(w=b.barSize)!==null&&w!==void 0?w:0}},j=[...v,S];return p=j[j.length-1].position,j},l)}else{var m=hr(t,n,0,!0);n-2*m-(a-1)*o<=0&&(o=0);var g=(n-2*m-(a-1)*o)/a;g>1&&(g>>=0);var y=Cn(i)?Math.min(g,i):g;s=r.reduce((v,b,w)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+o)*w+(g-y)/2,size:y}}],l)}return s}}var Hne=(e,t,n,r,i,a,o)=>{var s=Qe(o)?t:o,l=Kne(n,r,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>$u($u({},c),{},{position:$u($u({},c.position),{},{offset:c.position.offset-i/2})}))),l},qne=F([Une,aT,AY,oT,Wne,xD,Mne],Hne),Vne=(e,t,n,r)=>is(e,"xAxis",t,r),Gne=(e,t,n,r)=>is(e,"yAxis",n,r),Yne=(e,t,n,r)=>rs(e,"xAxis",t,r),Jne=(e,t,n,r)=>rs(e,"yAxis",n,r),Qne=F([qne,qc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Xne=(e,t)=>{var n=X0(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Zne=F([Fne,qc],Xne),ere=F([xt,m0,Vne,Gne,Yne,Jne,Qne,ye,H0,xD,Zne,qc,Lne],(e,t,n,r,i,a,o,s,l,c,u,d,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:y}=d,v;if(y!=null&&y.length>0?v=y:v=p==null?void 0:p.slice(m,g+1),v!=null)return Ene({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:v,offset:e,cells:h})}}),bD=e=>{var{chartData:t}=e,n=Be(),r=sn();return x.useEffect(()=>r?()=>{}:(n(Ij(t)),()=>{n(Ij(void 0))}),[t,n,r]),null},k_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wD=Nn({name:"brush",initialState:k_,reducers:{setBrushSettings(e,t){return t.payload==null?k_:t.payload}}});wD.actions;var tre=wD.reducer;function nre(e,t,n){return(t=rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rb{static create(t){return new Rb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}nre(Rb,"EPS",1e-4);function are(e){return(e%180+180)%180}var ore=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=are(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},sre={dots:[],areas:[],lines:[]},kD=Nn({name:"referenceElements",initialState:sre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Jr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Jr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Jr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});kD.actions;var lre=kD.reducer,cre=x.createContext(void 0),ure=e=>{var{children:t}=e,[n]=x.useState("".concat(Zl("recharts"),"-clip")),r=fD();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return x.createElement(cre.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function os(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function SD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function dre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ore(r,n)}function fre(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Cf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function hre(e,t){return SD(e,t+1)}function pre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,u=o,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:SD(r,c)};var g=l,y,v=()=>(y===void 0&&(y=n(m,g)),y),b=m.coordinate,w=l===0||Cf(e,b,v,u,s);w||(l=0,u=o,c+=1),w&&(u=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=d(),h)return h.v;return[]}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(r){mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t,n){return(t=gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yre(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===o-1){var y=e*(p.coordinate+e*g()/2-l);a[h]=p=At(At({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=At(At({},p),{},{tickCoord:p.coordinate});var v=Cf(e,p.tickCoord,g,s,l);v&&(l=p.tickCoord-e*(g()/2+i),a[h]=At(At({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function xre(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=At(At({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Cf(e,u.tickCoord,()=>d,l,c);p&&(c=u.tickCoord-e*(d/2+i),o[s-1]=At(At({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var w=o[b],S,j=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var k=e*(w.coordinate-e*j()/2-l);o[b]=w=At(At({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[b]=w=At(At({},w),{},{tickCoord:w.coordinate});var _=Cf(e,w.tickCoord,j,l,c);_&&(l=w.tickCoord+e*(j()/2+i),o[b]=At(At({},w),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function Mb(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:d}=e;if(!i||!i.length||!r)return[];if(oe(l)||Ja.isSsr){var h;return(h=hre(i,oe(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?Cl(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var j=typeof c=="function"?c(w.value,S):w.value;return m==="width"?dre(Cl(j,{fontSize:t,letterSpacing:n}),g,d):Cl(j,{fontSize:t,letterSpacing:n})[m]},v=i.length>=2?Zt(i[1].coordinate-i[0].coordinate):1,b=fre(a,v,m);return l==="equidistantPreserveStart"?pre(v,b,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=xre(v,b,y,i,o,l==="preserveStartEnd"):p=yre(v,b,y,i,o),p.filter(w=>w.isShow))}var bre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(n?r:0);return Math.round(c)}return 0},wre=["axisLine","width","height","className","hide","ticks"],kre=["viewBox"],Sre=["viewBox"];function ry(e,t){if(e==null)return{};var n,r,i=jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(null,arguments)}function j_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Pre(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=ct(ct(ct({},l),_e(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=ct(ct({},c),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);c=ct(ct({},c),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return x.createElement("line",Ua({},c,{className:ve("recharts-cartesian-axis-line",Vo(s,"className"))}))}function Ore(e,t,n,r,i,a,o,s,l){var c,u,d,h,p,m,g=s?-1:1,y=e.tickSize||o,v=oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,h=n+ +!s*i,d=h-g*y,m=d-g*l,p=v;break;case"left":d=h=e.coordinate,u=t+ +!s*r,c=u-g*y,p=c-g*l,m=v;break;case"right":d=h=e.coordinate,u=t+ +s*r,c=u+g*y,p=c+g*l,m=v;break;default:c=u=e.coordinate,h=n+ +s*i,d=h+g*y,m=d+g*l,p=v;break}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:p,y:m}}}function Are(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Tre(e){var{option:t,tickProps:n,value:r}=e,i,a=ve(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,ct(ct({},n),{},{className:a}));else if(typeof t=="function")i=t(ct(ct({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ve(o,t==null?void 0:t.className)),i=x.createElement(Hc,Ua({},n,{className:o}),r)}return i}function Ire(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:u,x:d,y:h,width:p,height:m,tickSize:g,tickMargin:y,fontSize:v,letterSpacing:b,getTicksConfig:w,events:S}=e,j=Mb(ct(ct({},w),{},{ticks:t}),v,b),k=Are(c,u),_=Nre(c,u),N=Ht(w),E=_e(n,!1),C=ct(ct({},N),{},{fill:"none"},_e(r,!1)),A=j.map((T,R)=>{var{line:I,tick:L}=Ore(T,d,h,p,m,c,g,u,y),$=ct(ct(ct(ct({textAnchor:k,verticalAnchor:_},N),{},{stroke:"none",fill:i},E),L),{},{index:R,payload:T,visibleTicksCount:j.length,tickFormatter:a,padding:s},l);return x.createElement(yt,Ua({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},vs(S,T,R)),r&&x.createElement("line",Ua({},C,I,{className:ve("recharts-cartesian-axis-tick-line",Vo(r,"className"))})),n&&x.createElement(Tre,{option:n,tickProps:$,value:"".concat(typeof a=="function"?a(T.value,R):T.value).concat(o||"")}))});return A.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},A):null}var Dre=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s}=e,l=ry(e,wre),[c,u]=x.useState(""),[d,h]=x.useState(""),p=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return bre({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=x.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(y);var v=y[0];if(v){var b=window.getComputedStyle(v),w=b.fontSize,S=b.letterSpacing;(w!==c||S!==d)&&(u(w),h(S))}}},[c,d]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(yt,{className:ve("recharts-cartesian-axis",a),ref:m},x.createElement(Pre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ht(e)}),x.createElement(Ire,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:d,getTicksConfig:e,events:l}),x.createElement(qX,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(eZ,{label:e.label}),e.children))}),Rre=x.memo(Dre,(e,t)=>{var{viewBox:n}=e,r=ry(e,kre),{viewBox:i}=t,a=ry(t,Sre);return os(n,i)&&os(r,a)}),$b=x.forwardRef((e,t)=>{var n=ln(e,Lb);return x.createElement(Rre,Ua({},n,{ref:t}))});$b.displayName="CartesianAxis";var Mre=["x1","y1","x2","y2","key"],Lre=["offset"],$re=["xAxisId","yAxisId"],Fre=["xAxisId","yAxisId"];function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?__(Object(n),!0).forEach(function(r){zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zre(e,t,n){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(null,arguments)}function Ef(e,t){if(e==null)return{};var n,r,i=Wre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function jD(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:o,key:s}=t,l=Ef(t,Mre),c=Ht(l),u=Ef(c,Lre);n=x.createElement("line",Sa({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Hre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=Ef(e,$re),o=i.map((s,l)=>{var c=Tt(Tt({},a),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return jD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function qre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=Ef(e,Fre),o=i.map((s,l)=>{var c=Tt(Tt({},a),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return jD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+o-d:c[h+1]-d;if(m<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:d,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Gre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==c[0]&&c.unshift(0);var u=c.map((d,h)=>{var p=!c[h+1],m=p?i+o-d:c[h+1]-d;if(m<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:m,height:s,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Yre=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return HN(Mb(Tt(Tt(Tt({},Lb),n),{},{ticks:qN(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Jre=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return HN(Mb(Tt(Tt(Tt({},Lb),n),{},{ticks:qN(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Qre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function iy(e){var t=v0(),n=y0(),r=GN(),i=Tt(Tt({},ln(e,Qre)),{},{x:oe(e.x)?e.x:r.left,y:oe(e.y)?e.y:r.top,width:oe(e.width)?e.width:r.width,height:oe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,m=sn(),g=Z(E=>_j(E,"xAxis",a,m)),y=Z(E=>_j(E,"yAxis",o,m));if(!oe(c)||c<=0||!oe(u)||u<=0||!oe(s)||s!==+s||!oe(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||Yre,b=i.horizontalCoordinatesGenerator||Jre,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var j=h&&h.length,k=b({yAxis:y?Tt(Tt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t,height:n,offset:r},j?!0:d);_l(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof v=="function"){var _=p&&p.length,N=v({xAxis:g?Tt(Tt({},g),{},{ticks:_?p:g.ticks}):void 0,width:t,height:n,offset:r},_?!0:d);_l(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Kre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(Vre,Sa({},i,{horizontalPoints:w})),x.createElement(Gre,Sa({},i,{verticalPoints:S})),x.createElement(Hre,Sa({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(qre,Sa({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y})))}iy.displayName="CartesianGrid";var Xre=["dangerouslySetInnerHTML","ticks"],Zre=["id"],eie=["domain"],tie=["domain"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function Pf(e,t){if(e==null)return{};var n,r,i=nie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rie(e){var t=Be();return x.useEffect(()=>(t(Qee(e)),()=>{t(Xee(e))}),[e,t]),null}var iie=e=>{var{xAxisId:t,className:n}=e,r=Z(m0),i=sn(),a="xAxis",o=Z(p=>Cs(p,a,t,i)),s=Z(p=>BT(p,a,t,i)),l=Z(p=>LT(p,t)),c=Z(p=>jJ(p,t)),u=Z(p=>pT(p,t));if(l==null||c==null||u==null)return null;var d=Pf(e,Xre),h=Pf(u,Zre);return x.createElement($b,ay({},d,h,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:ve("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s}))},aie={allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,height:mn.height,hide:!1,mirror:mn.mirror,orientation:mn.orientation,padding:mn.padding,reversed:mn.reversed,scale:mn.scale,tickCount:mn.tickCount,type:mn.type,xAxisId:0},oie=e=>{var t,n,r,i,a,o=ln(e,aie);return x.createElement(x.Fragment,null,x.createElement(rie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(iie,o))},sie=(e,t)=>{var{domain:n}=e,r=Pf(e,eie),{domain:i}=t,a=Pf(t,tie);return os(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:os({domain:n},{domain:i}):!1},oy=x.memo(oie,sie);oy.displayName="XAxis";var lie=["dangerouslySetInnerHTML","ticks"],cie=["id"],uie=["domain"],die=["domain"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(null,arguments)}function Of(e,t){if(e==null)return{};var n,r,i=fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hie(e){var t=Be();return x.useEffect(()=>(t(Zee(e)),()=>{t(ete(e))}),[e,t]),null}var pie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),o=x.useRef(null),s=Z(m0),l=sn(),c=Be(),u="yAxis",d=Z(b=>Cs(b,u,t,l)),h=Z(b=>$T(b,t)),p=Z(b=>CJ(b,t)),m=Z(b=>BT(b,u,t,l)),g=Z(b=>mT(b,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!h||_b(i)||x.isValidElement(i)||g==null)){var b=a.current;if(b){var w=b.getCalculatedWidth();Math.round(h.width)!==Math.round(w)&&c(tte({id:t,width:w}))}}},[m,h,c,i,t,r,g]),h==null||p==null||g==null)return null;var y=Of(e,lie),v=Of(g,cie);return x.createElement($b,sy({},y,v,{ref:a,labelRef:o,scale:d,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:ve("recharts-".concat(u," ").concat(u),n),viewBox:s,ticks:m}))},mie={allowDataOverflow:gn.allowDataOverflow,allowDecimals:gn.allowDecimals,allowDuplicatedCategory:gn.allowDuplicatedCategory,hide:!1,mirror:gn.mirror,orientation:gn.orientation,padding:gn.padding,reversed:gn.reversed,scale:gn.scale,tickCount:gn.tickCount,type:gn.type,width:gn.width,yAxisId:0},gie=e=>{var t,n,r,i,a,o=ln(e,mie);return x.createElement(x.Fragment,null,x.createElement(hie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(pie,o))},vie=(e,t)=>{var{domain:n}=e,r=Of(e,uie),{domain:i}=t,a=Of(t,die);return os(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:os({domain:n},{domain:i}):!1},ly=x.memo(gie,vie);ly.displayName="YAxis";var yie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=x;function xie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bie=typeof Object.is=="function"?Object.is:xie,wie=Vc.useSyncExternalStore,kie=Vc.useRef,Sie=Vc.useEffect,jie=Vc.useMemo,_ie=Vc.useDebugValue;yie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=kie(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=jie(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return d=m}return d=p}if(m=d,bie(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,d=g)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=wie(e,a[0],a[1]);return Sie(function(){o.hasValue=!0,o.value=s},[s]),_ie(s),s};function Cie(e){e()}function Eie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Cie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var C_={notify(){},get:()=>[]};function Pie(e,t){let n,r=C_,i=0,a=!1;function o(g){u();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),d())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Eie())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=C_)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,d())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var Oie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Aie=Oie(),Nie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tie=Nie(),Iie=()=>Aie||Tie?x.useLayoutEffect:x.useEffect,Die=Iie(),Bm=Symbol.for("react-redux-context"),Um=typeof globalThis<"u"?globalThis:{};function Rie(){if(!x.createContext)return{};const e=Um[Bm]??(Um[Bm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Mie=Rie();function Lie(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=Pie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);Die(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Mie;return x.createElement(s.Provider,{value:a},t)}var $ie=Lie,Fie=(e,t)=>t,Fb=F([Fie,ye,ks,pt,rI,pi,OQ,xt],DQ),zb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},_D=Gn("mouseClick"),CD=Nc();CD.startListening({actionCreator:_D,effect:(e,t)=>{var n=e.payload,r=Fb(t.getState(),zb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(LJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var cy=Gn("mouseMove"),ED=Nc();ED.startListening({actionCreator:cy,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=gb(r,r.tooltip.settings.shared),a=Fb(r,zb(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(JT({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(YT()))}});var E_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},PD=Nn({name:"rootProps",initialState:E_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:E_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),zie=PD.reducer,{updateOptions:Bie}=PD.actions,OD=Nn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Uie}=OD.actions,Wie=OD.reducer,AD=Gn("keyDown"),ND=Gn("focus"),Bb=Nc();Bb.startListening({actionCreator:AD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(vb(i,Ps(n))),s=pi(n);if(a==="Enter"){var l=bf(n,"axis","hover",String(i.index));t.dispatch(Qv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=PJ(n),u=c==="left-to-right"?1:-1,d=a==="ArrowRight"?1:-1,h=o+d*u;if(!(s==null||h>=s.length||h<0)){var p=bf(n,"axis","hover",String(h));t.dispatch(Qv({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Bb.startListening({actionCreator:ND,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=bf(n,"axis","hover",String(a));t.dispatch(Qv({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Ln=Gn("externalEvent"),TD=Nc();TD.startListening({actionCreator:Ln,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:xQ(n),activeDataKey:sI(n),activeIndex:Ba(n),activeLabel:oI(n),activeTooltipIndex:Ba(n),isTooltipActive:bQ(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Kie=F([Es],e=>e.tooltipItemPayloads),Hie=F([Kie,Wc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),ID=Gn("touchMove"),DD=Nc();DD.startListening({actionCreator:ID,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=gb(r,r.tooltip.settings.shared);if(i==="axis"){var a=Fb(r,zb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(JT({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(aq),u=(o=l.getAttribute(oq))!==null&&o!==void 0?o:void 0,d=Hie(t.getState(),c,u);t.dispatch(GT({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}});var qie=bN({brush:tre,cartesianAxis:nte,chartData:YQ,errorBars:Xte,graphicalItems:Kee,layout:PH,legend:wq,options:KQ,polarAxis:BZ,polarOptions:Wie,referenceElements:lre,rootProps:zie,tooltip:$J}),Vie=function(t){return ZK({reducer:qie,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([CD.middleware,ED.middleware,Bb.middleware,TD.middleware,DD.middleware]),devTools:Ja.devToolsEnabled})};function RD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=sn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=Vie(t));var o=s0;return x.createElement($ie,{context:o,store:a.current},n)}function MD(e){var{layout:t,width:n,height:r,margin:i}=e,a=Be(),o=sn();return x.useEffect(()=>{o||(a(_H(t)),a(CH({width:n,height:r})),a(jH(i)))},[a,o,t,n,r,i]),null}function LD(e){var t=Be();return x.useEffect(()=>{t(Bie(e))},[t,e]),null}var Gie=["children"];function Yie(e,t){if(e==null)return{};var n,r,i=Jie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(null,arguments)}var Qie={width:"100%",height:"100%"},Xie=x.forwardRef((e,t)=>{var n=v0(),r=y0(),i=XN();if(!Xo(n)||!Xo(r))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,x.createElement(qx,Af({},o,{title:s,desc:l,role:u,tabIndex:c,width:n,height:r,style:Qie,ref:t}),a)}),Zie=e=>{var{children:t}=e,n=Z(Lh);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return x.createElement(qx,{width:r,height:i,x:o,y:a},t)},P_=x.forwardRef((e,t)=>{var{children:n}=e,r=Yie(e,Gie),i=sn();return i?x.createElement(Zie,null,n):x.createElement(Xie,Af({ref:t},r),n)});function eae(){var e=Be(),[t,n]=x.useState(null),r=Z(iq);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Cn(a)&&a!==r&&e(EH(a))}},[t,e,r]),n}function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(n),!0).forEach(function(r){nae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nae(e,t,n){return(t=rae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aae=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=Be(),[w,S]=x.useState(null),[j,k]=x.useState(null);iX();var _=eae(),N=x.useCallback(M=>{_(M),typeof t=="function"&&t(M),S(M),k(M)},[_,t,S,k]),E=x.useCallback(M=>{b(_D(M)),b(Ln({handler:a,reactEvent:M}))},[b,a]),C=x.useCallback(M=>{b(cy(M)),b(Ln({handler:c,reactEvent:M}))},[b,c]),A=x.useCallback(M=>{b(YT()),b(Ln({handler:u,reactEvent:M}))},[b,u]),T=x.useCallback(M=>{b(cy(M)),b(Ln({handler:d,reactEvent:M}))},[b,d]),R=x.useCallback(()=>{b(ND())},[b]),I=x.useCallback(M=>{b(AD(M.key))},[b]),L=x.useCallback(M=>{b(Ln({handler:o,reactEvent:M}))},[b,o]),$=x.useCallback(M=>{b(Ln({handler:s,reactEvent:M}))},[b,s]),q=x.useCallback(M=>{b(Ln({handler:l,reactEvent:M}))},[b,l]),D=x.useCallback(M=>{b(Ln({handler:h,reactEvent:M}))},[b,h]),B=x.useCallback(M=>{b(Ln({handler:g,reactEvent:M}))},[b,g]),P=x.useCallback(M=>{b(ID(M)),b(Ln({handler:m,reactEvent:M}))},[b,m]),X=x.useCallback(M=>{b(Ln({handler:p,reactEvent:M}))},[b,p]);return x.createElement(hI.Provider,{value:w},x.createElement(EA.Provider,{value:j},x.createElement("div",{className:ve("recharts-wrapper",r),style:tae({position:"relative",cursor:"default",width:v,height:i},y),onClick:E,onContextMenu:L,onDoubleClick:$,onFocus:R,onKeyDown:I,onMouseDown:q,onMouseEnter:C,onMouseLeave:A,onMouseMove:T,onMouseUp:D,onTouchEnd:X,onTouchMove:P,onTouchStart:B,ref:N},n)))}),oae=["children","className","width","height","style","compact","title","desc"];function sae(e,t){if(e==null)return{};var n,r,i=lae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $D=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,u=sae(e,oae),d=Ht(u);return s?x.createElement(P_,{otherAttributes:d,title:l,desc:c},n):x.createElement(aae,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(P_,{otherAttributes:d,title:l,desc:c,ref:t},x.createElement(ure,null,n)))}),cae=["width","height"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(null,arguments)}function uae(e,t){if(e==null)return{};var n,r,i=dae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fae={top:5,right:5,bottom:5,left:5},hae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:fae,reverseStackOrder:!1,syncMethod:"index"},pae=x.forwardRef(function(t,n){var r,i=ln(t.categoricalChartProps,hae),{width:a,height:o}=i,s=uae(i,cae);if(!Xo(a)||!Xo(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(RD,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},x.createElement(bD,{chartData:h.data}),x.createElement(MD,{width:a,height:o,layout:i.layout,margin:i.margin}),x.createElement(LD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement($D,uy({},s,{width:a,height:o,ref:n})))}),mae=["axis","item"],A_=x.forwardRef((e,t)=>x.createElement(pae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mae,tooltipPayloadSearcher:mI,categoricalChartProps:e,ref:t}));function gae(e){var t=Be();return x.useEffect(()=>{t(Uie(e))},[t,e]),null}var vae=["width","height","layout"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(null,arguments)}function yae(e,t){if(e==null)return{};var n,r,i=xae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bae={top:5,right:5,bottom:5,left:5},wae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bae,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},kae=x.forwardRef(function(t,n){var r,i=ln(t.categoricalChartProps,wae),{width:a,height:o,layout:s}=i,l=yae(i,vae);if(!Xo(a)||!Xo(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(RD,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},x.createElement(bD,{chartData:i.data}),x.createElement(MD,{width:a,height:o,layout:s,margin:i.margin}),x.createElement(LD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(gae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement($D,dy({width:a,height:o},l,{ref:n})))}),Sae=["axis"],jae={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_ae=x.forwardRef((e,t)=>{var n=ln(e,jae);return x.createElement(kae,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Sae,tooltipPayloadSearcher:mI,categoricalChartProps:n,ref:t})});const Gr=({children:e,className:t="",header:n,subheader:r,actions:i})=>f.jsxs("div",{className:`card rounded-lg border ${t}`,style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[(n||r||i)&&f.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border)"},children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[n&&f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),r&&f.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:r})]}),i&&f.jsx("div",{className:"flex items-center space-x-2",children:i})]})}),f.jsx("div",{className:"p-6",children:e})]}),Cae={relevance:85,tone:92,length:78,accuracy:88,toxicity:95,promptable:82},Eae=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],score:Math.floor(Math.random()*20)+70})}return n},Pae=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],userCount:Math.floor(Math.random()*50)+10,assistantCount:Math.floor(Math.random()*50)+10})}return n},N_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Cae;throw new Error("Analytics API not implemented")},T_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Eae(e);throw new Error("Analytics API not implemented")},I_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Pae(e);throw new Error("Analytics API not implemented")},Oae=()=>{const{t:e}=Ge(),[t,n]=x.useState(null),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState("7d");x.useEffect(()=>{(async()=>{l(!0);try{const[m,g,y]=await Promise.all([N_(c),T_(c),I_(c)]);n(m),i(g),o(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},[c]);const d=()=>{(async()=>{l(!0);try{const[m,g,y]=await Promise.all([N_(c),T_(c),I_(c)]);n(m),i(g),o(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},h=()=>{if(!t)return 0;const p=Object.values(t);return Math.round(p.reduce((m,g)=>m+g,0)/p.length)};return s?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading analytics..."})}):f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Gr,{header:e("dashboard.title"),subheader:`Overall Score: ${h()}%`,actions:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:"7d",children:"Last 7 days"}),f.jsx("option",{value:"30d",children:"Last 30 days"}),f.jsx("option",{value:"90d",children:"Last 90 days"})]}),f.jsx("button",{onClick:d,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[f.jsx("div",{className:"h-80",children:f.jsx(Lm,{width:"100%",height:"100%",children:f.jsxs(_ae,{data:t?[t]:[],children:[f.jsx(GI,{}),f.jsx(sp,{dataKey:"subject"}),f.jsx(ap,{angle:90,domain:[0,100]}),f.jsx(Ib,{name:"Performance",dataKey:"relevance",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}),f.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{style:{color:"var(--text-secondary)"},children:"Relevance:"}),f.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.relevance,"%"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tone:"}),f.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.tone,"%"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{style:{color:"var(--text-secondary)"},children:"Length:"}),f.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.length,"%"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{style:{color:"var(--text-secondary)"},children:"Accuracy:"}),f.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.accuracy,"%"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{style:{color:"var(--text-secondary)"},children:"Toxicity:"}),f.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.toxicity,"%"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{style:{color:"var(--text-secondary)"},children:"Promptable:"}),f.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.promptable,"%"]})]})]})]}),f.jsx(Gr,{header:e("dashboard.timeline"),subheader:"Daily performance scores over time",children:f.jsx("div",{className:"h-80",children:f.jsx(Lm,{width:"100%",height:"100%",children:f.jsxs(A_,{data:r,children:[f.jsx(iy,{strokeDasharray:"3 3"}),f.jsx(oy,{dataKey:"ts"}),f.jsx(ly,{domain:[0,100]}),f.jsx($j,{}),f.jsx(ad,{dataKey:"score",fill:"#8884d8"})]})})})}),f.jsx(Gr,{header:e("dashboard.activity"),subheader:"Message volume by role",children:f.jsx("div",{className:"h-80",children:f.jsx(Lm,{width:"100%",height:"100%",children:f.jsxs(A_,{data:a,children:[f.jsx(iy,{strokeDasharray:"3 3"}),f.jsx(oy,{dataKey:"ts"}),f.jsx(ly,{}),f.jsx($j,{}),f.jsx($h,{}),f.jsx(ad,{dataKey:"userCount",name:"User Messages",fill:"#8884d8"}),f.jsx(ad,{dataKey:"assistantCount",name:"Assistant Messages",fill:"#82ca9d"})]})})})})]})};function Pl({columns:e,data:t,loading:n=!1,sortable:r=!0,pagination:i,onSort:a,className:o=""}){const[s,l]=x.useState(""),[c,u]=x.useState("asc"),d=p=>{if(!r||!a)return;const m=s===p&&c==="asc"?"desc":"asc";l(p),u(m),a(p,m)},h=p=>s!==p?"":c==="asc"?"":"";return n?f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading..."})}):f.jsxs("div",{className:`overflow-hidden ${o}`,children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{className:"sticky top-0",style:{backgroundColor:"var(--bg-secondary)"},children:f.jsx("tr",{children:e.map(p=>f.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${p.sortable&&r?"cursor-pointer hover:bg-gray-50":""}`,style:{color:"var(--text-muted)",width:p.width},onClick:()=>p.sortable&&d(String(p.key)),children:f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("span",{children:p.label}),p.sortable&&r&&f.jsx("span",{className:"text-xs",children:h(String(p.key))})]})},String(p.key)))})}),f.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border)"},children:t.map((p,m)=>f.jsx("tr",{className:"hover:bg-gray-50",children:e.map(g=>f.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--text)"},children:g.render?g.render(p[g.key],p):String(p[g.key]||"")},String(g.key)))},m))})]})}),i&&f.jsxs("div",{className:"px-4 py-3 border-t flex items-center justify-between",style:{borderColor:"var(--border)"},children:[f.jsx("div",{className:"flex items-center space-x-2",children:f.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",(i.page-1)*i.pageSize+1," to"," ",Math.min(i.page*i.pageSize,i.total)," of"," ",i.total," results"]})}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsxs("select",{value:i.pageSize,onChange:p=>i.onPageSizeChange(Number(p.target.value)),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:10,children:"10 per page"}),f.jsx("option",{value:25,children:"25 per page"}),f.jsx("option",{value:50,children:"50 per page"}),f.jsx("option",{value:100,children:"100 per page"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx("button",{onClick:()=>i.onPageChange(i.page-1),disabled:i.page<=1,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Previous"}),f.jsx("span",{className:"px-3 py-1 text-sm",style:{color:"var(--text)"},children:i.page}),f.jsx("button",{onClick:()=>i.onPageChange(i.page+1),disabled:i.page*i.pageSize>=i.total,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Next"})]})]})]})]})}const od=({status:e,children:t})=>{const n=r=>{switch(r){case"open":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"closed":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"synced":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"error":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"queued":return{backgroundColor:"var(--warning-light)",color:"var(--warning)",border:"1px solid var(--warning)"};case"indexing":return{backgroundColor:"var(--primary-light)",color:"var(--primary)",border:"1px solid var(--primary)"};default:return{backgroundColor:"var(--border-light)",color:"var(--text-muted)",border:"1px solid var(--border)"}}};return f.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:n(e),children:t})},Aae=({children:e,left:t,right:n,className:r=""})=>f.jsxs("div",{className:`flex items-center justify-between py-4 ${r}`,children:[f.jsx("div",{className:"flex items-center space-x-4",children:t}),f.jsx("div",{className:"flex items-center space-x-4",children:n})]}),Nae=({isOpen:e,onClose:t,title:n,children:r,className:i=""})=>{const a=x.useRef(null);return x.useEffect(()=>{const o=s=>{s.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),x.useEffect(()=>{e&&a.current&&a.current.focus()},[e]),e?f.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),f.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md",children:f.jsxs("div",{ref:a,className:`h-full flex flex-col ${i}`,style:{backgroundColor:"var(--card)"},tabIndex:-1,children:[f.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[f.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),f.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:""})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r})]})})]}):null},Tae=[{id:"1",title:"PSDAP Program Discussion",status:"open",lastAt:"2024-01-15T10:30:00Z",messageCount:12},{id:"2",title:"API Integration Help",status:"closed",lastAt:"2024-01-14T15:45:00Z",messageCount:8},{id:"3",title:"General Questions",status:"open",lastAt:"2024-01-13T09:20:00Z",messageCount:15}],Iae=[{id:"1",sessionId:"1",role:"user",content:"What is the PSDAP program?",createdAt:"2024-01-15T10:30:00Z"},{id:"2",sessionId:"1",role:"assistant",content:"The PSDAP program is a comprehensive development initiative...",createdAt:"2024-01-15T10:31:00Z",feedback:"up",citations:[{sourceType:"document",title:"PSDAP Program Guide",snippet:"The PSDAP program provides..."}]}],D_=[{id:"1",requestId:"req-123",corrected:"The PSDAP program is a comprehensive development initiative that focuses on...",createdAt:"2024-01-15T11:00:00Z"}],R_=[{id:"1",messageId:"2",rating:1,note:"Very helpful response",createdAt:"2024-01-15T10:35:00Z"}],Dae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Tae];e.search&&(t=t.filter(o=>o.title.toLowerCase().includes(e.search.toLowerCase()))),e.status&&e.status!=="all"&&(t=t.filter(o=>o.status===e.status)),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Rae=async(e,t={})=>{await new Promise(s=>setTimeout(s,300));const n=Iae.filter(s=>s.sessionId===e),r=t.page||1,i=t.pageSize||10,a=(r-1)*i,o=a+i;return{rows:n.slice(a,o),total:n.length}},Mae=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:D_,total:D_.length}),Lae=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:R_,total:R_.length}),$ae=()=>{const{t:e}=Ge(),t=An(),[n,r]=x.useState("sessions"),[i,a]=x.useState(null),[o,s]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[h,p]=x.useState([]),[m,g]=x.useState(!1),[y,v]=x.useState(null),[b,w]=x.useState(!1),[S,j]=x.useState(""),[k,_]=x.useState("all"),[N,E]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{C(),T()},[S,k,N.page,N.pageSize]),x.useEffect(()=>{i&&A(i)},[i]);const C=async()=>{g(!0);try{const D=await Dae({page:N.page,pageSize:N.pageSize,search:S,status:k});s(D.rows),E(B=>({...B,total:D.total}))}catch(D){console.error("Failed to fetch sessions:",D)}finally{g(!1)}},A=async D=>{try{const B=await Rae(D,{page:1,pageSize:50});c(B.rows)}catch(B){console.error("Failed to fetch messages:",B)}},T=async()=>{try{const[D,B]=await Promise.all([Mae(),Lae()]);d(D.rows),p(B.rows)}catch(D){console.error("Failed to fetch feedback:",D)}},R=async(D,B,P)=>{try{switch(D){case"open":t(`/chat/${B}`);break;case"rename":P&&console.log("Renaming session:",B,P);break;case"close":console.log("Closing session:",B);break;case"delete":console.log("Deleting session:",B);break}}catch(X){console.error("Failed to perform session action:",X)}},I=D=>{v(D),w(!0)},L=()=>{const D=[["Title","Status","Last Activity","Message Count"],...o.map(M=>[M.title,M.status,new Date(M.lastAt).toLocaleString(),M.messageCount.toString()])].map(M=>M.join(",")).join(`
`),B=new Blob([D],{type:"text/csv"}),P=window.URL.createObjectURL(B),X=document.createElement("a");X.href=P,X.download="sessions.csv",X.click(),window.URL.revokeObjectURL(P)},$=[{key:"title",label:e("labels.title"),sortable:!0,render:(D,B)=>f.jsx("button",{onClick:()=>a(B.id),className:"text-left hover:underline",style:{color:"var(--text)"},children:D})},{key:"status",label:e("labels.status"),render:D=>f.jsx(od,{status:D,children:D})},{key:"lastAt",label:e("labels.lastActivity"),render:D=>new Date(D).toLocaleString()},{key:"messageCount",label:e("labels.count"),render:D=>D.toString()},{key:"actions",label:"Actions",render:(D,B)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>R("open",B.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.open")}),f.jsx("button",{onClick:()=>R("close",B.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.close")}),f.jsx("button",{onClick:()=>R("delete",B.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.delete")})]})}],q=[{key:"createdAt",label:"Time",render:D=>new Date(D).toLocaleString()},{key:"role",label:"Role",render:D=>f.jsx("span",{className:`px-2 py-1 rounded text-xs ${D==="user"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:D})},{key:"content",label:"Content",render:D=>f.jsx("div",{className:"max-w-xs truncate",title:D,children:D})},{key:"feedback",label:"Feedback",render:D=>D?f.jsx("span",{className:`px-2 py-1 rounded text-xs ${D==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D==="up"?"":""}):"-"},{key:"actions",label:"Actions",render:(D,B)=>f.jsx("button",{onClick:()=>I(B),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"})}];return f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:f.jsxs("nav",{className:"-mb-px flex space-x-8",children:[f.jsx("button",{onClick:()=>r("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="sessions"?"var(--primary)":"var(--text-secondary)"},children:e("usage.sessions")}),f.jsx("button",{onClick:()=>r("feedback"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="feedback"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="feedback"?"var(--primary)":"var(--text-secondary)"},children:e("usage.feedback.admin")})]})}),n==="sessions"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs(Gr,{header:e("usage.sessions"),actions:f.jsx("button",{onClick:L,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Export CSV"}),children:[f.jsx(Aae,{left:f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("input",{type:"text",placeholder:e("filters.search"),value:S,onChange:D=>j(D.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),f.jsxs("select",{value:k,onChange:D=>_(D.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:"all",children:"All Status"}),f.jsx("option",{value:"open",children:"Open"}),f.jsx("option",{value:"closed",children:"Closed"})]})]})}),f.jsx(Pl,{columns:$,data:o,loading:m,pagination:{page:N.page,pageSize:N.pageSize,total:N.total,onPageChange:D=>E(B=>({...B,page:D})),onPageSizeChange:D=>E(B=>({...B,pageSize:D,page:1}))}})]}),i&&f.jsx(Gr,{header:e("usage.messages"),children:f.jsx(Pl,{columns:q,data:l,loading:m})})]}),n==="feedback"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(Gr,{header:e("usage.feedback.admin"),children:f.jsx("div",{className:"space-y-4",children:u.map(D=>f.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Request ID: ",D.requestId]}),f.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(D.createdAt).toLocaleString()})]}),f.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:D.corrected})]},D.id))})}),f.jsx(Gr,{header:e("usage.feedback.user"),children:f.jsx("div",{className:"space-y-4",children:h.map(D=>f.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Message ID: ",D.messageId]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:`px-2 py-1 rounded text-xs ${D.rating===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.rating===1?"":""}),f.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(D.createdAt).toLocaleString()})]})]}),D.note&&f.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:D.note})]},D.id))})})]}),f.jsx(Nae,{isOpen:b,onClose:()=>w(!1),title:"Message Details",children:y&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"Content"}),f.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:f.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:y.content})})]}),y.citations&&y.citations.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"References"}),f.jsx("div",{className:"space-y-2",children:y.citations.map((D,B)=>f.jsxs("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:[f.jsx("div",{className:"font-medium text-sm",style:{color:"var(--text)"},children:D.title}),D.snippet&&f.jsx("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:D.snippet}),D.url&&f.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"View Source"})]},B))})]})]})})]})},Fae=()=>{const{t:e}=Ge(),[t,n]=x.useState(""),[r,i]=x.useState("gpt-4"),[a,o]=x.useState("https://api.openai.com/v1/chat/completions"),[s,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState(""),[p,m]=x.useState(""),[g,y]=x.useState(!1);x.useEffect(()=>{const k=localStorage.getItem("axpro_system_prompt");k&&n(k);const _=localStorage.getItem("axpro_prompt_last_updated");_&&l(JSON.parse(_))},[]);const v=()=>{localStorage.setItem("axpro_system_prompt",t);const k={by:"admin@tecace.com",timestamp:new Date().toISOString()};localStorage.setItem("axpro_prompt_last_updated",JSON.stringify(k)),l(k),alert("Prompt saved successfully!")},b=()=>{if(confirm("Are you sure you want to revert to the last saved version?")){const k=localStorage.getItem("axpro_system_prompt");k&&n(k)}},w=async()=>{if(d.trim()){y(!0);try{await new Promise(k=>setTimeout(k,2e3)),m(`This is a test response for: "${d}"

Generated by ${r} at ${a}`)}catch{m("Error: Failed to get test response")}finally{y(!1)}}},S=t.length,j=4e3;return f.jsxs("div",{className:"space-y-6",children:[f.jsx(Gr,{header:e("mgmt.prompt"),subheader:"Configure the system prompt for the chatbot",actions:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:b,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.revert")}),f.jsx("button",{onClick:v,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.save")}),f.jsx("button",{onClick:()=>u(!0),className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.test")})]}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Model"}),f.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Endpoint"}),f.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"System Prompt"}),f.jsx("textarea",{value:t,onChange:k=>n(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:12,placeholder:"Enter the system prompt for the chatbot..."}),f.jsxs("div",{className:"flex justify-between items-center mt-2",children:[f.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:[S," / ",j," characters"]}),S>j&&f.jsx("span",{className:"text-xs text-red-600",children:"Exceeds maximum length"})]})]}),s&&f.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated by ",s.by," on ",new Date(s.timestamp).toLocaleString()]})]})}),c&&f.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>u(!1)}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:f.jsx("div",{className:"w-full max-w-2xl rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Test Prompt"}),f.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-md hover:bg-gray-100",style:{color:"var(--text-secondary)"},children:""})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Test Input"}),f.jsx("textarea",{value:d,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:3,placeholder:"Enter a test message..."})]}),f.jsxs("div",{className:"flex justify-end space-x-2",children:[f.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Cancel"}),f.jsx("button",{onClick:w,disabled:g||!d.trim(),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50 disabled:opacity-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:g?"Testing...":"Test"})]}),p&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Response"}),f.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:f.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:p})})]})]})]})})})]})]})},zae=[{id:"1",name:"PSDAP_Program_Guide.pdf",size:2048576,lastModified:"2024-01-15T10:00:00Z",contentType:"application/pdf"},{id:"2",name:"API_Documentation.md",size:512e3,lastModified:"2024-01-14T15:30:00Z",contentType:"text/markdown"},{id:"3",name:"User_Manual.docx",size:1024e3,lastModified:"2024-01-13T09:15:00Z",contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}],Bae=[{id:"1",name:"PSDAP_Program_Guide.pdf",chunks:45,status:"synced",lastIndexedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"API_Documentation.md",chunks:12,status:"indexing",lastIndexedAt:"2024-01-14T16:00:00Z"},{id:"3",name:"User_Manual.docx",chunks:0,status:"queued"}],Uae=[{id:"1",name:"PSDAP_Program_Guide.pdf",blobStatus:"present",chunks:45,syncStatus:"synced"},{id:"2",name:"API_Documentation.md",blobStatus:"present",chunks:12,syncStatus:"stale"},{id:"3",name:"User_Manual.docx",blobStatus:"missing",chunks:0,syncStatus:"error"}],Wae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...zae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Kae=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Deleting file:",e)},Hae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Bae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l===void 0||c===void 0?0:l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},qae=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Reindexing:",e)},Vae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Uae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Gae=()=>{const{t:e}=Ge(),[t,n]=x.useState("files"),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(!1),[d,h]=x.useState(""),[p,m]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{g()},[t,d,p.page,p.pageSize]);const g=async()=>{u(!0);try{let E;switch(t){case"files":E=await Wae({page:p.page,pageSize:p.pageSize,search:d}),i(E.rows);break;case"index":E=await Hae({page:p.page,pageSize:p.pageSize,search:d}),o(E.rows);break;case"sync":E=await Vae({page:p.page,pageSize:p.pageSize,search:d}),l(E.rows);break}m(C=>({...C,total:E.total}))}catch(E){console.error("Failed to fetch data:",E)}finally{u(!1)}},y=async E=>{if(confirm("Are you sure you want to delete this file?"))try{await Kae(E),g()}catch(C){console.error("Failed to delete file:",C)}},v=async E=>{try{await qae(E),g()}catch(C){console.error("Failed to reindex:",C)}},b=E=>{if(E===0)return"0 Bytes";const C=1024,A=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(E)/Math.log(C));return parseFloat((E/Math.pow(C,T)).toFixed(2))+" "+A[T]},w=E=>new Date(E).toLocaleString(),S=[{key:"name",label:"Filename",sortable:!0,render:E=>f.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:E})},{key:"size",label:"Size",sortable:!0,render:E=>b(E)},{key:"lastModified",label:"Last Modified",sortable:!0,render:E=>w(E)},{key:"contentType",label:"Type",render:E=>f.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:E})},{key:"actions",label:"Actions",render:(E,C)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>window.open(`/files/${C.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"}),f.jsx("button",{onClick:()=>window.open(`/files/${C.id}/download`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Download"}),f.jsx("button",{onClick:()=>y(C.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Delete"})]})}],j=[{key:"name",label:"Filename",sortable:!0,render:E=>f.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:E})},{key:"chunks",label:"Chunks",sortable:!0,render:E=>E.toString()},{key:"status",label:"Status",render:E=>f.jsx(od,{status:E,children:E})},{key:"lastIndexedAt",label:"Last Indexed",sortable:!0,render:E=>E?w(E):"-"},{key:"actions",label:"Actions",render:(E,C)=>f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("button",{onClick:()=>v(C.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Reindex"}),f.jsx("button",{onClick:()=>window.open(`/index/${C.id}/chunks`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View Chunks"})]})}],k=[{key:"name",label:"Filename",sortable:!0,render:E=>f.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:E})},{key:"blobStatus",label:"Blob Status",render:E=>f.jsx(od,{status:E,children:E})},{key:"chunks",label:"Chunks",sortable:!0,render:E=>E.toString()},{key:"syncStatus",label:"Sync Status",render:E=>f.jsx(od,{status:E,children:E})},{key:"actions",label:"Actions",render:(E,C)=>f.jsx("div",{className:"flex items-center space-x-2",children:f.jsx("button",{onClick:()=>window.open(`/sync/${C.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Open"})})}],_=()=>{switch(t){case"files":return r;case"index":return a;case"sync":return s;default:return[]}},N=()=>{switch(t){case"files":return S;case"index":return j;case"sync":return k;default:return[]}};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:f.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"files",label:"File Library"},{key:"index",label:"Knowledge Index"},{key:"sync",label:"Sync Overview"}].map(E=>f.jsx("button",{onClick:()=>n(E.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===E.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:t===E.key?"var(--primary)":"var(--text-secondary)"},children:E.label},E.key))})}),f.jsxs(Gr,{header:e("mgmt.knowledge"),actions:f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"text",placeholder:"Search...",value:d,onChange:E=>h(E.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),f.jsx("button",{onClick:g,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[t==="files"&&f.jsxs("div",{children:[f.jsx("div",{className:"mb-4 p-4 border-2 border-dashed rounded",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-secondary)"},children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"File upload is disabled in mock mode"}),f.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"In production, you can drag and drop files here to upload them"})]})}),f.jsx(Pl,{columns:N(),data:_(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:E=>m(C=>({...C,page:E})),onPageSizeChange:E=>m(C=>({...C,pageSize:E,page:1}))}})]}),t==="index"&&f.jsx(Pl,{columns:N(),data:_(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:E=>m(C=>({...C,page:E})),onPageSizeChange:E=>m(C=>({...C,pageSize:E,page:1}))}}),t==="sync"&&f.jsx(Pl,{columns:N(),data:_(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:E=>m(C=>({...C,page:E})),onPageSizeChange:E=>m(C=>({...C,pageSize:E,page:1}))}})]})]})},Fu=()=>{var p;const e=An(),t=qa(),{theme:n,toggleTheme:r}=Va(),{language:i,setLanguage:a,t:o}=Ge(),{logout:s}=B$(),[l,c]=x.useState(null);Fi.useEffect(()=>{const m=Tr();m&&c({email:m.email,role:m.role})},[Tr]);const u=async()=>{await s(),e("/")},d=[{group:"Dashboard",items:[{key:"overview",label:o("dashboard.title"),path:"/admin"}]},{group:"Analytics",items:[{key:"usage",label:o("usage.sessions"),path:"/admin/usage"}]},{group:"Management",items:[{key:"prompt",label:o("mgmt.prompt"),path:"/admin/prompt"},{key:"knowledge",label:o("mgmt.knowledge"),path:"/admin/knowledge"}]}],h=m=>t.pathname===m;return f.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:f.jsxs("div",{className:"flex",children:[f.jsxs("div",{className:"w-64 h-screen border-r sticky top-0",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[f.jsx("div",{className:"p-6",children:f.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text)"},children:"AX Pro Admin"})}),f.jsx("nav",{className:"px-4 pb-4",children:d.map(m=>f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-muted)"},children:m.group}),f.jsx("div",{className:"space-y-1",children:m.items.map(g=>f.jsx("button",{onClick:()=>e(g.path),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${h(g.path)?"text-white":"hover:bg-gray-100"}`,style:{backgroundColor:h(g.path)?"var(--text)":"transparent",color:h(g.path)?"var(--bg)":"var(--text-secondary)"},children:g.label},g.key))})]},m.group))})]}),f.jsxs("div",{className:"flex-1 flex flex-col",children:[f.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-6",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[f.jsx("div",{className:"flex items-center space-x-4",children:f.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:((p=d.flatMap(m=>m.items).find(m=>h(m.path)))==null?void 0:p.label)||"Admin Dashboard"})}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[f.jsx("option",{value:"en",children:"EN"}),f.jsx("option",{value:"ko",children:"KO"})]}),f.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n==="dark"?"":""}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:l==null?void 0:l.email}),f.jsx("button",{onClick:u,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:o("auth.signOut")})]})]})]}),f.jsx("main",{className:"flex-1 p-6",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.pathname==="/admin"&&f.jsx(Oae,{}),t.pathname==="/admin/usage"&&f.jsx($ae,{}),t.pathname==="/admin/prompt"&&f.jsx(Fae,{}),t.pathname==="/admin/knowledge"&&f.jsx(Gae,{})]})})]})]})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),M_=e=>{const t=Jae(e);return t.charAt(0).toUpperCase()+t.slice(1)},FD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Qae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>x.createElement("svg",{ref:l,...Xae,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:FD("lucide",i),...!a&&!Qae(s)&&{"aria-hidden":"true"},...s},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(Zae,{ref:a,iconNode:t,className:FD(`lucide-${Yae(M_(e))}`,`lucide-${e}`,r),...i}));return n.displayName=M_(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],toe=cn("activity",eoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],roe=cn("bell",noe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],aoe=cn("chart-column",ioe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],soe=cn("database",ooe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],coe=cn("log-out",loe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],doe=cn("megaphone",uoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],hoe=cn("message-square",foe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],moe=cn("moon",poe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],voe=cn("refresh-cw",goe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xoe=cn("search",yoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],woe=cn("sun",boe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Soe=cn("thumbs-down",koe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],_oe=cn("thumbs-up",joe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Eoe=cn("user",Coe),Poe=coe,Ooe=roe,Aoe=moe,Noe=woe,Toe=Eoe,Ioe=xoe,L_=aoe,fy=hoe,$_=soe,Doe=doe,dc=_oe,fc=Soe,F_=toe,lp=voe;function Roe({performanceScore:e,performanceDate:t,currentTime:n,onSignOut:r}){const i=An(),{theme:a,toggleTheme:o}=Va(),{language:s,setLanguage:l,t:c}=Ge(),u=h=>h>=90?c("admin.excellent"):h>=80?c("admin.good"):h>=70?c("admin.fair"):c("admin.poor"),d=()=>{i("/admin/dashboard")};return f.jsxs("header",{className:"dashboard-header",children:[f.jsx("div",{className:"header-left",children:f.jsxs("div",{className:"logo",onClick:d,style:{cursor:"pointer"},children:[f.jsx("div",{className:"logo-hexagon",children:f.jsx("div",{className:"hexagon-outer",children:f.jsx("div",{className:"hexagon-inner"})})}),f.jsx("span",{className:"logo-text",children:"TecAce Ax Pro"})]})}),f.jsxs("div",{className:"header-right",children:[f.jsxs("div",{className:"performance-indicator",children:[f.jsxs("span",{className:"performance-text",children:["TecAce Ax Pro: ",e,"% (",u(e),t?`, ${t}`:"",")"]}),f.jsx("span",{className:"current-time",children:n})]}),f.jsxs("div",{className:"header-actions",children:[f.jsx("button",{className:"icon-btn","aria-label":c("admin.goToChat"),onClick:()=>i("/chat"),title:c("admin.goToChat"),children:f.jsx(fy,{size:18})}),f.jsx("button",{className:"icon-btn","aria-label":c("admin.notifications"),children:f.jsx(Ooe,{size:18})}),f.jsx("button",{className:"icon-btn","aria-label":c("admin.toggleTheme"),onClick:o,title:c("admin.toggleTheme"),children:a==="light"?f.jsx(Aoe,{size:18}):f.jsx(Noe,{size:18})}),f.jsxs("select",{value:s,onChange:h=>l(h.target.value),className:"language-select",children:[f.jsx("option",{value:"en",children:"EN"}),f.jsx("option",{value:"ko",children:"KO"})]}),f.jsx("button",{className:"icon-btn","aria-label":c("admin.userProfile"),children:f.jsx(Toe,{size:18})}),f.jsx("button",{className:"icon-btn signout-btn","aria-label":c("admin.signOut"),onClick:r,title:c("admin.signOut"),children:f.jsx(Poe,{size:18})})]})]})]})}function Moe({conversations:e,satisfaction:t,documents:n,performanceScore:r,performanceDate:i,isCollapsed:a,onToggleCollapse:o,onScrollToSection:s}){const l=An(),c=qa(),{customization:u,updateCustomization:d}=Ec(),{t:h}=Ge(),p=c.pathname==="/admin/dashboard",[m,g]=x.useState(""),[y,v]=x.useState(!1),[b,w]=x.useState(""),[S,j]=x.useState("Main AI Assistant for HR Support"),k=A=>{A.preventDefault(),m.trim()&&console.log("Search:",m)},_=A=>{p?s(A):l(`/admin/dashboard?section=${A}`)},N=()=>{w(u.title||"TecAce Ax Pro"),j(u.chatSubtitle||"Main AI Assistant for HR Support"),v(!0)},E=()=>{d({title:b,chatSubtitle:S}),v(!1)},C=()=>{v(!1)};return f.jsx("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:f.jsxs("div",{className:"sidebar-content",children:[f.jsx("div",{className:"sidebar-section",style:{paddingBottom:"20px",borderBottom:"1px solid var(--admin-border)"},children:f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[f.jsxs("div",{style:{position:"relative"},children:[f.jsx("img",{src:u.avatarUrl,alt:"Chatbot Avatar",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid var(--admin-primary)",boxShadow:"0 0 20px rgba(59, 230, 255, 0.3)"},onError:A=>{A.currentTarget.src="/default-profile-avatar.png"}}),f.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",backgroundColor:"var(--admin-success, #10b981)",border:"3px solid var(--admin-bg)",borderRadius:"50%"}})]}),f.jsx("div",{style:{textAlign:"center",width:"100%",padding:"0 12px"},children:y?f.jsxs(f.Fragment,{children:[f.jsx("input",{type:"text",value:b,onChange:A=>w(A.target.value),placeholder:"Bot Title",style:{width:"100%",fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-primary)",borderRadius:"6px",padding:"8px 12px",marginBottom:"8px",textAlign:"center"}}),f.jsx("input",{type:"text",value:S,onChange:A=>j(A.target.value),placeholder:"Description",style:{width:"100%",fontSize:"12px",color:"var(--admin-text-muted)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"6px 12px",textAlign:"center"}})]}):f.jsxs(f.Fragment,{children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",marginBottom:"4px"},children:u.title||"TecAce Ax Pro"}),f.jsx("p",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:u.chatSubtitle||"Main AI Assistant for HR Support"})]})}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[f.jsxs("div",{style:{textAlign:"center"},children:[f.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, var(--admin-primary), var(--admin-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:[r,"%"]}),f.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Performance"}),f.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:i||"9/10"})]}),f.jsxs("div",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:[f.jsx("div",{style:{fontSize:"10px",fontWeight:"600",color:"var(--admin-success)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ACTIVE"}),f.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",textTransform:"uppercase"},children:"STATUS"})]})]}),f.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:y?f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:E,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#041220",backgroundColor:"var(--admin-primary)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.9",onMouseLeave:A=>A.currentTarget.style.opacity="1",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),f.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),f.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]}),f.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#ffffff",backgroundColor:"var(--admin-danger, #ef4444)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.9",onMouseLeave:A=>A.currentTarget.style.opacity="1",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:N,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:A=>A.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:A=>A.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),f.jsxs("button",{onClick:()=>l("/settings"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:A=>A.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:A=>A.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),f.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),f.jsx("polyline",{points:"21 15 16 10 5 21"})]}),"Photo"]})]})})]})}),f.jsxs("div",{className:"sidebar-section",children:[f.jsx("h3",{className:"sidebar-section-title",children:h("admin.overview")}),f.jsxs("div",{className:"metrics-grid",children:[f.jsxs("div",{className:"metric-card",children:[f.jsx("div",{className:"metric-icon",children:f.jsx(fy,{size:20})}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:e}),f.jsx("div",{className:"metric-label",children:h("admin.conversations")})]})]}),f.jsxs("div",{className:"metric-card",children:[f.jsx("div",{className:"metric-icon",children:f.jsx(F_,{size:20})}),f.jsxs("div",{className:"metric-content",children:[f.jsxs("div",{className:"metric-value",children:[t,"%"]}),f.jsx("div",{className:"metric-label",children:h("admin.satisfaction")})]})]}),f.jsxs("div",{className:"metric-card",children:[f.jsx("div",{className:"metric-icon",children:f.jsx($_,{size:20})}),f.jsxs("div",{className:"metric-content",children:[f.jsx("div",{className:"metric-value",children:n}),f.jsx("div",{className:"metric-label",children:h("admin.documents")})]})]}),f.jsxs("div",{className:"metric-card",children:[f.jsx("div",{className:"metric-icon",children:f.jsx(L_,{size:20})}),f.jsxs("div",{className:"metric-content",children:[f.jsxs("div",{className:"metric-value",children:[r,"%"]}),f.jsx("div",{className:"metric-label",children:h("admin.performance")})]})]})]})]}),f.jsx("div",{className:"sidebar-section",children:f.jsx("form",{onSubmit:k,className:"search-form",children:f.jsxs("div",{className:"search-input-wrapper",children:[f.jsx(Ioe,{size:16,className:"search-icon"}),f.jsx("input",{type:"text",value:m,onChange:A=>g(A.target.value),placeholder:h("admin.searchConversations"),className:"search-input"})]})})}),f.jsxs("div",{className:"sidebar-section",children:[f.jsx("h3",{className:"sidebar-section-title",children:h("admin.navigation")}),f.jsxs("nav",{className:"sidebar-nav",children:[f.jsxs("button",{className:"nav-item",onClick:()=>_("performance-radar"),children:[f.jsx(L_,{size:18}),f.jsx("span",{children:h("admin.performance")})]}),f.jsxs("button",{className:"nav-item",onClick:()=>_("daily-message-activity"),children:[f.jsx(F_,{size:18}),f.jsx("span",{children:h("admin.activity")})]}),f.jsxs("button",{className:"nav-item",onClick:()=>_("recent-conversations"),children:[f.jsx(fy,{size:18}),f.jsx("span",{children:h("admin.conversations")})]}),f.jsxs("button",{className:"nav-item",onClick:()=>_("user-feedback"),children:[f.jsx(Doe,{size:18}),f.jsx("span",{children:h("admin.feedback")})]}),f.jsxs("button",{className:"nav-item",onClick:()=>l("/admin/knowledge-management"),children:[f.jsx($_,{size:18}),f.jsx("span",{children:h("admin.knowledgeBase")})]})]})]})]})})}function Loe({data:e,selectedDate:t,onDateChange:n,title:r="Performance Timeline",includeSimulatedData:i,onIncludeSimulatedDataChange:a,estimationMode:o,onEstimationModeChange:s}){var _,N;const{t:l}=Ge(),[c,u]=x.useState(!1),[d,h]=x.useState(800),[p,m]=x.useState(!1),[g,y]=x.useState(null),v=x.useRef(null);x.useEffect(()=>{if(c&&e.length>0){const E=e.findIndex(C=>C.Date===t);v.current=window.setInterval(()=>{const C=E>=0?(E+1)%e.length:0;n(e[C].Date)},d)}else v.current&&(clearInterval(v.current),v.current=null);return()=>{v.current&&clearInterval(v.current)}},[c,t,e,d,n]);const b=()=>{u(!c)},w=E=>{const C=[E.Toxicity,E["Prompt Injection"],E["Answer Correctness"],E["Answer Relevancy"],E.Length,E.Tone];return Math.round(C.reduce((A,T)=>A+T,0)/C.length*100)},S=Math.max(...e.map(w),100),j=e.find(E=>E.Date===t),k=new Date().toISOString().split("T")[0];return e.length===0?f.jsx("div",{className:"performance-timeline",children:f.jsx("div",{className:"timeline-loading",children:"Loading data..."})}):f.jsxs("div",{className:"performance-timeline",children:[f.jsxs("div",{className:"timeline-single-row",children:[f.jsx("div",{className:"timeline-title-compact",children:f.jsx("h3",{children:r})}),f.jsxs("div",{className:"timeline-controls-compact",children:[f.jsxs("div",{className:"date-selector-compact",children:[f.jsxs("label",{children:[l("admin.date"),":"]}),f.jsx("select",{className:"date-select-compact",value:t,onChange:E=>n(E.target.value),children:e.map(E=>f.jsx("option",{value:E.Date,children:E.Date},E.Date))})]}),f.jsx("button",{className:"play-btn-compact",onClick:b,title:c?"Pause":"Play",children:c?"":""}),c&&f.jsxs("select",{className:"speed-control-compact",value:d,onChange:E=>h(Number(E.target.value)),children:[f.jsx("option",{value:1200,children:"Slow"}),f.jsx("option",{value:800,children:"Normal"}),f.jsx("option",{value:400,children:"Fast"})]}),f.jsx("div",{className:"data-indicator-compact",children:f.jsx("span",{className:`indicator ${j!=null&&j.isSimulated?"estimated":"actual"}`,children:j!=null&&j.isSimulated?` ${l("admin.estimated")}`:` ${l("admin.actual")}`})}),f.jsxs("div",{className:"settings-container-compact",children:[f.jsx("button",{className:`settings-btn-compact ${p?"active":""}`,onClick:()=>m(!p),title:"Settings",children:""}),p&&f.jsxs("div",{className:"settings-panel-compact",children:[f.jsx("div",{className:"setting-item",children:f.jsxs("label",{className:"checkbox-label",children:[f.jsx("input",{type:"checkbox",checked:i,onChange:E=>a(E.target.checked)}),l("admin.estimated"),"  "]})}),f.jsxs("div",{className:"setting-item",children:[f.jsx("label",{className:"select-label",children:" :"}),f.jsxs("select",{className:"mode-select",value:o,onChange:E=>s(E.target.value),children:[f.jsx("option",{value:"simple",children:" (5%)"}),f.jsx("option",{value:"improved",children:" (4% + )"}),f.jsx("option",{value:"realistic",children:" ( + )"})]})]})]})]})]})]}),f.jsxs("div",{className:"timeline-chart",children:[f.jsx("div",{className:"chart-container",children:e.map(E=>{const C=w(E),A=C/S*100,T=E.Date===t,R=E.Date===k,I=E.isSimulated,L=["bar"];return T?L.push("selected"):R?L.push("today"):I?L.push("simulated"):L.push("actual"),f.jsxs("div",{className:L.join(" "),style:{height:`${Math.max(A,5)}%`,position:"relative"},onClick:()=>n(E.Date),onMouseEnter:()=>y(E.Date),onMouseLeave:()=>y(null),title:`${E.Date}: ${C}% ${I?`(${l("admin.estimated")})`:`(${l("admin.actual")})`}`,children:[f.jsx("span",{className:"bar-value",children:C}),g===E.Date&&f.jsxs("div",{className:"bar-hover-info",children:[f.jsx("div",{className:"hover-date",children:E.Date}),f.jsxs("div",{className:"hover-score",children:[C,"%"]}),f.jsx("div",{className:"hover-type",children:l(I?"admin.estimated":"admin.actual")})]})]},E.Date)})}),f.jsxs("div",{className:"date-labels",children:[f.jsx("span",{className:"date-start",children:(_=e[0])==null?void 0:_.Date}),f.jsx("span",{className:"date-end",children:(N=e[e.length-1])==null?void 0:N.Date})]})]})]})}function $oe({relevance:e,tone:t,length:n,accuracy:r,toxicity:i,promptInjection:a,timelineData:o=[],selectedDate:s="",onDateChange:l=()=>{},includeSimulatedData:c=!1,onIncludeSimulatedDataChange:u=()=>{},estimationMode:d="simple",onEstimationModeChange:h=()=>{}}){const{t:p}=Ge(),[m,g]=x.useState({relevance:!0,tone:!0,length:!0,accuracy:!0,toxicity:!0,promptInjection:!0});x.useState(!1);const y=[{key:"relevance",label:p("admin.relevance"),value:e,description:p("admin.contentMatching"),icon:"",color:"#ff6b6b"},{key:"tone",label:p("admin.tone"),value:t,description:p("admin.responseStyle"),icon:"",color:"#4ecdc4"},{key:"length",label:p("admin.length"),value:n,description:p("admin.responseSize"),icon:"",color:"#45b7d1"},{key:"accuracy",label:p("admin.accuracy"),value:r,description:p("admin.correctAnswers"),icon:"",color:"#96ceb4"},{key:"toxicity",label:p("admin.toxicity"),value:i,description:p("admin.safetyCheck"),icon:"",color:"#feca57"},{key:"promptInjection",label:p("admin.promptInjection"),value:a,description:p("admin.securityFilter"),icon:"",color:"#ff9ff3"}],v=y.filter(R=>m[R.key]),b=R=>{g(I=>({...I,[R]:!I[R]}))},w=Object.values(m).filter(Boolean).length,S=v.length>0?Math.round(v.reduce((R,I)=>R+I.value,0)/v.length):0,j=400,k=j/2,_=k,N=130,E=(R,I,L)=>{const $=360/I,q=R*$-90,D=L/100*N,B=Math.cos(q*Math.PI/180)*D,P=Math.sin(q*Math.PI/180)*D;return{x:B,y:P,angle:q}},C=()=>v.length<3?"":`M ${v.map((I,L)=>{const $=E(L,v.length,I.value);return`${$.x+k},${$.y+k}`}).join(" L ")} Z`,A=(R,I)=>{const L=360/I,$=R*L-90,q=N+50,D=Math.cos($*Math.PI/180)*q,B=Math.sin($*Math.PI/180)*q;let P="center";return $>=-45&&$<=45?P="center":$>45&&$<=135?P="left":$>135||$<=-135?P="center":P="right",{x:D,y:B,angle:$,textAlign:P}},T=()=>{const R=[];for(let I=20;I<=100;I+=20)R.push(f.jsx("circle",{cx:k,cy:_,r:I/100*N,fill:"none",stroke:"rgba(59, 230, 255, 0.15)",strokeWidth:"1"},`circle-${I}`));for(let I=0;I<v.length;I++){const L=360/v.length,$=I*L-90,q=Math.cos($*Math.PI/180)*N,D=Math.sin($*Math.PI/180)*N;R.push(f.jsx("line",{x1:k,y1:_,x2:k+q,y2:_+D,stroke:"rgba(59, 230, 255, 0.2)",strokeWidth:"1"},`line-${I}`))}return R};return f.jsxs("div",{className:"performance-radar-section",children:[f.jsxs("div",{className:"radar-main-layout",children:[f.jsxs("div",{className:"radar-chart-section",children:[f.jsxs("div",{className:"radar-header",children:[f.jsx("h2",{className:"radar-title",children:p("admin.performanceRadar")}),f.jsx("p",{className:"radar-description",children:p("admin.performanceRadarDesc")})]}),f.jsxs("div",{className:"radar-chart-container",children:[f.jsxs("div",{className:"radar-chart-large",children:[f.jsxs("svg",{className:"radar-svg-large",width:j,height:j,children:[T(),f.jsx("path",{d:C(),fill:"rgba(59, 230, 255, 0.1)",stroke:"rgba(59, 230, 255, 0.8)",strokeWidth:"2"}),v.map((R,I)=>{const L=E(I,v.length,R.value);return f.jsxs("g",{className:"radar-point-large",children:[f.jsx("circle",{className:"point-dot-large",cx:L.x+k,cy:L.y+k,r:"6",fill:R.color,stroke:"white",strokeWidth:"2"}),f.jsx("text",{x:L.x+k,y:L.y+k-15,textAnchor:"middle",className:"point-score-box",fill:R.color,fontSize:"12",fontWeight:"bold",children:R.value})]},I)})]}),f.jsxs("div",{className:"radar-center-large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[f.jsx("div",{className:"center-score-large",children:S}),f.jsx("div",{className:"center-label-large",children:"OVERALL"})]})]}),y.map((R,I)=>{const L=A(I,y.length),$=m[R.key],q=R.key==="promptInjection",D=200,B=200,P=D+L.x,X=B+L.y;return f.jsx("div",{className:`radar-label-clean radar-label-${R.key.toLowerCase()} ${$?"":"label-inactive"}`,style:{position:"absolute",left:`${P}px`,top:`${X}px`,transform:"translate(-50%, -50%)",zIndex:10,borderColor:R.color,opacity:$?1:.5},children:f.jsxs("div",{className:"label-content",children:[f.jsx("span",{className:"label-name",style:{color:R.color},children:q?"PROMPT INJECTION":R.label.toUpperCase()}),f.jsx("span",{className:"label-score",style:{color:R.color},children:R.value})]})},I)})]})]}),f.jsxs("div",{className:"module-control-panel",children:[f.jsxs("div",{className:"module-control-header-side",children:[f.jsx("span",{className:"control-title",children:p("admin.moduleControl")}),f.jsxs("span",{className:"control-badge",children:[w," / ",y.length]})]}),f.jsx("div",{className:"control-list-side",children:y.map(R=>f.jsxs("div",{className:"control-item-side","data-key":R.key,children:[f.jsxs("div",{className:"control-info",children:[f.jsx("span",{className:"control-icon",style:{color:R.color},children:R.icon}),f.jsxs("div",{className:"control-text",children:[f.jsx("span",{className:"control-label",children:R.label}),f.jsx("span",{className:"control-description",children:R.description})]})]}),f.jsx("div",{className:"control-actions",children:f.jsx("button",{className:`control-toggle-btn ${m[R.key]?"enabled":"disabled"}`,onClick:()=>b(R.key),style:{borderColor:R.color,backgroundColor:m[R.key]?R.color:"transparent"},children:m[R.key]?"ON":"OFF"})})]},R.key))})]})]}),o&&o.length>0&&f.jsx("div",{className:"timeline-section-wrapper",style:{marginTop:"20px"},children:f.jsx(Loe,{data:o,selectedDate:s,onDateChange:l,title:"Performance Timeline",includeSimulatedData:c,onIncludeSimulatedDataChange:u,estimationMode:d,onEstimationModeChange:h})})]})}async function hy(e=100){try{const t=pr();console.log("Fetching chat data from Supabase...");const{data:n,error:r}=await t.from("chat").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw console.error("Supabase error:",r),new Error(`Failed to fetch chat data: ${r.message}`);return console.log(` Fetched ${(n==null?void 0:n.length)||0} chat records`),n||[]}catch(t){throw console.error("Failed to fetch chat data:",t),t}}async function zD(e){try{const t=pr();console.log(`Looking for chat with chat_id: ${e}`);const{data:n,error:r}=await t.from("chat").select("*").eq("chat_id",e).maybeSingle();return r?(console.error("Supabase error:",r),null):(n?console.log(` Found chat for chat_id: ${e}`):console.warn(`No chat found for chat_id: ${e}`),n)}catch(t){return console.error("Error fetching chat by ID:",t),null}}const Foe=[{value:"3d",label:"Last 3 days"},{value:"7d",label:"Last 7 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 3 months"},{value:"6m",label:"Last 6 months"},{value:"1y",label:"Last year"},{value:"custom",label:"Custom range"}];function zoe({startDate:e,endDate:t}){const{t:n}=Ge(),[r,i]=x.useState([]),[a,o]=x.useState({totalMessages:0,avgPerDay:0,totalUserFeedback:0,totalAdminFeedback:0,totalCorrected:0,uniqueUsers:0,userSatisfaction:0,adminApproval:0}),[s,l]=x.useState(!0),[c,u]=x.useState("messages"),[d,h]=x.useState("7d"),[p,m]=x.useState(""),[g,y]=x.useState(""),[v,b]=x.useState(!1),w=()=>{if(e&&t)return{startDate:e,endDate:t};const A=new Date,T=new Date;switch(d){case"3d":T.setDate(A.getDate()-3);break;case"7d":T.setDate(A.getDate()-7);break;case"30d":T.setDate(A.getDate()-30);break;case"90d":T.setDate(A.getDate()-90);break;case"6m":T.setMonth(A.getMonth()-6);break;case"1y":T.setFullYear(A.getFullYear()-1);break;case"custom":if(p&&g)return{startDate:p,endDate:g};T.setDate(A.getDate()-7);break}return{startDate:T.toISOString().split("T")[0],endDate:A.toISOString().split("T")[0]}},{startDate:S,endDate:j}=w();x.useEffect(()=>{k()},[S,j,d,p,g]);const k=async()=>{l(!0);try{const[A,T,R]=await Promise.all([hy(1e3),rv(),fO()]);console.log(" Loaded data:",{chats:A.length,userFeedbacks:T.length,adminFeedbacks:R.length}),A.length>0&&(console.log("Sample chat object:",A[0]),console.log("Sample chat ID:",A[0].id),console.log("Sample chat all keys:",Object.keys(A[0]))),T.length>0&&console.log("Sample user feedback chat_id:",T[0].chat_id),R.length>0&&console.log("Sample admin feedback chat_id:",R[0].chat_id);const I=new Map;T.forEach(V=>{I.has(V.chat_id)||I.set(V.chat_id,[]),I.get(V.chat_id).push(V)});const L=new Map;R.forEach(V=>{L.set(V.chat_id,V)}),console.log(" Feedback maps created:",{userFeedbackMapSize:I.size,adminFeedbackMapSize:L.size,sampleUserFeedbackKeys:Array.from(I.keys()).slice(0,3),sampleChatIds:A.slice(0,3).map(V=>V.id)});const $=new Map,q=new Date(S),D=new Date(j);for(let V=new Date(q);V<=D;V.setDate(V.getDate()+1)){const re=V.toISOString().split("T")[0];$.set(re,{date:re,messageCount:0,userFeedbackCount:0,userGoodCount:0,userBadCount:0,adminFeedbackCount:0,adminGoodCount:0,adminBadCount:0,correctedResponseCount:0,uniqueUsers:new Set})}const B=new Set;let P=0,X=0;console.warn(" Chat table missing chat_id field - feedback will be estimated by day proportion"),A.forEach(V=>{if(!V.created_at)return;const re=new Date(V.created_at).toISOString().split("T")[0],H=$.get(re);H&&(H.messageCount++,H.uniqueUsers.add(V.user_id),B.add(V.user_id))}),T.forEach(V=>{if(!V.created_at)return;const re=new Date(V.created_at).toISOString().split("T")[0],H=$.get(re);H&&(H.userFeedbackCount++,V.reaction==="good"&&H.userGoodCount++,V.reaction==="bad"&&H.userBadCount++,P++)}),R.forEach(V=>{const re=new Date(V.updated_at||V.created_at||"").toISOString().split("T")[0],H=$.get(re);H&&(H.adminFeedbackCount++,V.feedback_verdict==="good"&&H.adminGoodCount++,V.feedback_verdict==="bad"&&H.adminBadCount++,V.corrected_response&&H.correctedResponseCount++,X++)}),console.log(" Feedback distribution by date:",{totalChats:A.length,userFeedbackDistributed:P,adminFeedbackDistributed:X,totalUserFeedbacks:T.length,totalAdminFeedbacks:R.length});const M=Array.from($.values()).find(V=>V.userFeedbackCount>0||V.adminFeedbackCount>0);M?console.log(" Sample day with feedback:",{date:M.date,messages:M.messageCount,userFeedback:M.userFeedbackCount,adminFeedback:M.adminFeedbackCount,corrected:M.correctedResponseCount}):console.log(" No days with feedback data found"),console.log(" To fix: Add chat_id column to Supabase chat table to match feedback.chat_id");const O=Array.from($.values());i(O);const ie=O.reduce((V,re)=>V+re.messageCount,0),ne=O.reduce((V,re)=>V+re.userFeedbackCount,0),ce=O.reduce((V,re)=>V+re.userGoodCount,0),ke=O.reduce((V,re)=>V+re.adminFeedbackCount,0),ot=O.reduce((V,re)=>V+re.adminGoodCount,0),J=O.reduce((V,re)=>V+re.correctedResponseCount,0);o({totalMessages:ie,avgPerDay:O.length>0?Math.round(ie/O.length*10)/10:0,totalUserFeedback:ne,totalAdminFeedback:ke,totalCorrected:J,uniqueUsers:B.size,userSatisfaction:ne>0?Math.round(ce/ne*100):0,adminApproval:ke>0?Math.round(ot/ke*100):0}),console.log(" Stats:",{totalMessages:ie,totalUserFeedback:ne,totalAdminFeedback:ke,daysWithData:O.filter(V=>V.messageCount>0).length})}catch(A){console.error("Failed to load daily message activity:",A)}finally{l(!1)}},_=A=>c==="messages"?A.messageCount:c==="feedback"?A.userFeedbackCount:A.adminFeedbackCount,N=A=>{if(c==="feedback"){const T=A.userFeedbackCount;return T>0?Math.round(A.userGoodCount/T*100):null}else if(c==="admin"){const T=A.adminFeedbackCount;return T>0?Math.round(A.adminGoodCount/T*100):null}return null},E=A=>{const T=new Date(A),R=T.getMonth()+1,I=T.getDate(),L=T.toLocaleDateString("en-US",{weekday:"short"});return`${R}/${I} ${L}`},C=Math.max(...r.map(A=>_(A)),1);return f.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:n("admin.dailyMessageActivity")}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("select",{value:d,onChange:A=>{const T=A.target.value;h(T),b(T==="custom"),T!=="custom"&&(m(""),y(""))},className:"px-3 py-1 text-sm rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},children:Foe.map(A=>f.jsx("option",{value:A.value,children:A.label},A.value))})}),v&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"date",value:p,onChange:A=>{m(A.target.value),g||y(new Date().toISOString().split("T")[0])},className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},max:new Date().toISOString().split("T")[0]}),f.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"to"}),f.jsx("input",{type:"date",value:g,onChange:A=>y(A.target.value),className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},min:p,max:new Date().toISOString().split("T")[0]})]}),f.jsxs("div",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:[S," to ",j]})]})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"20px"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[f.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.totalMessages")}),f.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-primary)"},children:a.totalMessages}),f.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[": ",a.avgPerDay,"/",n("admin.avgPerDay")]})]}),f.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[f.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.userFeedbackCount")}),f.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-success)"},children:a.totalUserFeedback}),f.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.userSatisfaction,"% ",n("admin.satisfaction")]})]}),f.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[f.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.adminReviews")}),f.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-accent)"},children:a.totalAdminFeedback}),f.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.adminApproval,"% ",n("admin.approval")]})]}),f.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[f.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.corrected")}),f.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-warning, #ff9800)"},children:a.totalCorrected}),f.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.uniqueUsers," ",n("admin.uniqueUsers")]})]})]}),f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsx("button",{onClick:()=>u("messages"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="messages"?"font-semibold":""}`,style:{backgroundColor:c==="messages"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:c==="messages"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.messages")}),f.jsx("button",{onClick:()=>u("feedback"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="feedback"?"font-semibold":""}`,style:{backgroundColor:c==="feedback"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:c==="feedback"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.userFeedbackCount")}),f.jsx("button",{onClick:()=>u("admin"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="admin"?"font-semibold":""}`,style:{backgroundColor:c==="admin"?"var(--admin-accent)":"rgba(9, 14, 34, 0.4)",color:c==="admin"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.adminReviews")})]}),s?f.jsx("div",{className:"flex items-center justify-center p-8",children:f.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"Loading activity data..."})}):r.length===0?f.jsx("div",{className:"flex items-center justify-center p-8",children:f.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"No data available for this period"})}):f.jsxs("div",{children:[f.jsx("div",{style:{height:"200px",display:"flex",alignItems:"flex-end",gap:"8px",padding:"20px 0",borderBottom:"1px solid var(--admin-border)"},children:r.map((A,T)=>{const R=_(A),I=N(A),L=C>0?R/C*100:0;return T<3&&console.log(` Day ${T} (${A.date}):`,{viewMode:c,value:R,score:I,messageCount:A.messageCount,userFeedbackCount:A.userFeedbackCount,adminFeedbackCount:A.adminFeedbackCount,correctedCount:A.correctedResponseCount}),f.jsxs("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",position:"relative"},children:[R>0&&f.jsx("div",{style:{position:"absolute",top:`calc(${100-L}% - 25px)`,backgroundColor:c==="messages"?"var(--admin-primary)":c==="feedback"?"var(--admin-success)":"var(--admin-accent)",color:c==="messages"?"#041220":"#ffffff",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:R}),f.jsx("div",{style:{width:"100%",maxWidth:"40px",height:R>0?`${L}%`:"2px",background:R>0?c==="messages"?"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))":c==="feedback"?"linear-gradient(180deg, var(--admin-success), #0d9488)":"linear-gradient(180deg, var(--admin-accent), #8b5cf6)":"rgba(100, 116, 139, 0.2)",borderRadius:"4px 4px 0 0",cursor:"pointer",transition:"opacity 0.2s"},title:`${E(A.date)}
${R} ${c}${I!==null?`
${I}% positive`:""}`,onMouseEnter:$=>$.currentTarget.style.opacity="0.8",onMouseLeave:$=>$.currentTarget.style.opacity="1"})]},A.date)})}),f.jsx("div",{style:{display:"flex",gap:"8px",paddingTop:"12px"},children:r.map(A=>f.jsx("div",{style:{flex:1,textAlign:"center",fontSize:"10px",color:"var(--admin-text-muted)"},children:E(A.date)},`label-${A.date}`))}),f.jsxs("div",{className:"mt-4 p-3 rounded text-xs flex items-center gap-2",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",color:"var(--admin-text-muted)",border:"1px solid rgba(59, 230, 255, 0.1)"},children:[f.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),f.jsxs("span",{children:[c==="messages"&&"Total messages sent per day",c==="feedback"&&"User feedback received per day",c==="admin"&&"Admin reviews completed per day"]})]})]})]})}async function z_(){try{const e=pr();console.log("Fetching latest prompt from Supabase...");const{data:t,error:n}=await e.from("prompts").select("*").order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch prompt: ${n.message}`);if(!t||t.length===0)return console.log("No prompts found in database"),"";const r=t[0];return console.log(" Latest prompt fetched:",r.id),r.prompt_text||""}catch(e){throw console.error("Failed to fetch system prompt:",e),e}}async function Boe(e){try{const t=pr();console.log(" Creating new prompt in Supabase...");const{data:n,error:r}=await t.from("prompts").insert([{prompt_text:e}]).select();if(r)throw console.error("Supabase error:",r),new Error(`Failed to create prompt: ${r.message}`);const i=n[0];console.log(" New prompt created:",i.id)}catch(t){throw console.error("Failed to update system prompt:",t),t}}async function Uoe(){try{const e=await fetch("/prompt-api/force-prompt-reload",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Force reload failed: ${e.status} ${e.statusText}`);return await e.json()}catch(e){return console.error("Force reload failed:",e),{status:"skipped",message:"Force reload endpoint not available"}}}function Woe(){const{t:e}=Ge(),[t,n]=x.useState(""),[r,i]=x.useState(!0),[a,o]=x.useState(null),[s,l]=x.useState(!1),c=x.useRef(null),[u,d]=x.useState(!1),[h,p]=x.useState(!1),[m,g]=x.useState({isOpen:!1,message:"",isSuccess:!1});x.useEffect(()=>{y()},[]);const y=async()=>{try{console.log("Loading system prompt...");const k=await z_();console.log("System prompt loaded"),n(k),o(new Date)}catch(k){console.error("Failed to load system prompt:",k),g({isOpen:!0,message:k instanceof Error?k.message:"Failed to load system prompt",isSuccess:!1})}finally{i(!1)}},v=async()=>{l(!0);try{const k=await z_();n(k),o(new Date)}catch(k){console.error("Failed to refresh system prompt:",k),g({isOpen:!0,message:k instanceof Error?k.message:"Failed to refresh system prompt",isSuccess:!1})}finally{l(!1)}},b=()=>{d(!0)},w=async()=>{p(!0),d(!1);try{console.log("Saving system prompt..."),await Boe(t),console.log("System prompt saved successfully"),console.log("Attempting force reload...");const k=await Uoe();console.log("Force reload result:",k),g({isOpen:!0,message:"System prompt updated successfully!"+(k.status==="skipped"?"":` ${k.message}`),isSuccess:!0}),o(new Date)}catch(k){console.error("Save operation failed:",k),g({isOpen:!0,message:k instanceof Error?k.message:"Failed to update system prompt",isSuccess:!1})}finally{p(!1)}},S=()=>{d(!1)},j=()=>{g({isOpen:!1,message:"",isSuccess:!1})};return f.jsxs("div",{className:"admin-card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:e("admin.systemPrompt")}),f.jsxs("div",{className:"flex items-center gap-3",children:[a&&f.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:[e("admin.lastRefreshed"),": ",a.toLocaleString()]}),f.jsx("button",{className:"icon-btn",onClick:v,disabled:s,title:e("actions.refresh"),children:f.jsx(lp,{size:18,className:s?"animate-spin":""})})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("textarea",{ref:c,className:"w-full p-3 rounded-md font-mono text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid rgba(59, 230, 255, 0.15)",color:"var(--admin-text)",minHeight:"300px",resize:"vertical"},placeholder:r?e("admin.loading"):"Enter your prompt instructions here...",value:t,onChange:k=>n(k.target.value),disabled:r}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"px-6 py-2 rounded-md font-medium transition-all",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:r||h?.5:1,cursor:r||h?"not-allowed":"pointer"},onClick:b,disabled:r||h,children:e(r?"admin.loading":h?"admin.saving":"admin.saveChanges")})})]}),u&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:f.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--admin-text)"},children:e("admin.confirmUpdate")}),f.jsx("p",{className:"mb-6",style:{color:"var(--admin-text-muted)"},children:e("admin.confirmUpdateMessage")}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"transparent",border:"1px solid rgba(59,230,255,0.16)",color:"var(--admin-text)"},onClick:S,children:e("admin.cancel")}),f.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:w,children:e("admin.confirm")})]})]})}),m.isOpen&&f.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:f.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:m.isSuccess?"var(--admin-success)":"var(--admin-danger)"},children:m.isSuccess?e("admin.success"):e("admin.error")}),f.jsx("p",{className:"mb-6",style:{color:"var(--admin-text)"},children:m.message}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:j,children:e("admin.close")})})]})})]})}function Koe({scrollToChatId:e,highlightedChatId:t,onScrollComplete:n}){const{t:r}=Ge(),[i,a]=x.useState([]),[o,s]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[h,p]=x.useState(!1),[m,g]=x.useState(null),[y,v]=x.useState(""),[b,w]=x.useState(""),[S,j]=x.useState(!1),[k,_]=x.useState(""),[N,E]=x.useState("date-desc"),[C,A]=x.useState(10),[T,R]=x.useState("CSV"),[I,L]=x.useState(null),[$,q]=x.useState(null),[D,B]=x.useState(null);x.useEffect(()=>{P()},[]),x.useEffect(()=>{M()},[i,k,N,I,$,D]),x.useEffect(()=>{if(e){const U=document.getElementById(`chat-${e}`);U&&(U.scrollIntoView({behavior:"smooth",block:"center"}),n==null||n())}},[e,n]);const P=async()=>{c(!0),d(null);try{const U=await hy(50);a(U)}catch(U){console.error("Failed to load conversations:",U);const ae=U instanceof Error?U.message:"Failed to load conversations";ae.includes("Could not find the table")||ae.includes("PGRST")?d(`Database table not accessible. Please check:
1. Table "chat" exists in Supabase
2. Row Level Security (RLS) policies allow SELECT
3. Supabase URL and key are correct`):d(ae)}finally{c(!1)}},X=async()=>{p(!0);try{const U=await hy(50);a(U)}catch(U){console.error("Failed to refresh conversations:",U),d(U instanceof Error?U.message:"Failed to refresh conversations")}finally{p(!1)}},M=()=>{let U=[...i];if(I&&(U=U.filter(ae=>ae.session_id===I)),$&&(U=U.filter(ae=>ae.user_id===$)),D&&(U=U.filter(ae=>{if(!ae.created_at)return!1;const he=new Date(ae.created_at).toDateString(),Pe=new Date(D).toDateString();return he===Pe})),k){const ae=k.toLowerCase();U=U.filter(he=>{var Pe,un,dn,ea,Tn;return((Pe=he.user_id)==null?void 0:Pe.toLowerCase().includes(ae))||String(he.id||"").toLowerCase().includes(ae)||((un=he.chat_id)==null?void 0:un.toLowerCase().includes(ae))||((dn=he.session_id)==null?void 0:dn.toLowerCase().includes(ae))||((ea=he.chat_message)==null?void 0:ea.toLowerCase().includes(ae))||((Tn=he.response)==null?void 0:Tn.toLowerCase().includes(ae))})}U.sort((ae,he)=>{switch(N){case"date-desc":return new Date(he.created_at||"").getTime()-new Date(ae.created_at||"").getTime();case"date-asc":return new Date(ae.created_at||"").getTime()-new Date(he.created_at||"").getTime();case"user":return(ae.user_id||"").localeCompare(he.user_id||"");default:return 0}}),s(U)},O=U=>{if(!U)return"N/A";try{return new Date(U).toLocaleString()}catch{return U}},ie=(U,ae=100)=>U.length<=ae?U:U.substring(0,ae)+"...",ne=async(U,ae)=>{const he=await pO(U.chat_id);if(he&&he.feedback_verdict!==ae){const Pe=he.feedback_verdict==="good"?"positive":"negative",un=ae==="good"?"positive":"negative";if(!window.confirm(`A ${Pe} feedback was already provided for this chat message/response. Are you sure you would like to change it to a ${un} review? This will remove the previously saved ${Pe} feedback.`))return}g({chatId:U.chat_id,userMessage:U.chat_message,aiResponse:U.response,verdict:ae,existingFeedback:he}),he?(v(he.feedback_text||""),w(he.corrected_response||"")):(v(""),w(""))},ce=async()=>{if(m){if(m.verdict==="bad"&&!y&&!b){alert("For negative feedback, please provide either supervisor feedback or corrected response.");return}j(!0);try{await D3(m.chatId,m.verdict,y,b),g(null),v(""),w(""),alert("Admin feedback submitted successfully!"),X()}catch(U){console.error("Failed to submit admin feedback:",U),alert("Failed to submit feedback. Please try again.")}finally{j(!1)}}},ke=()=>{g(null),v(""),w("")},ot=U=>{I===U?L(null):(L(U),q(null))},J=U=>{$===U?q(null):(q(U),L(null))},V=U=>{D===U?B(null):(B(U),L(null),q(null))},re=()=>{L(null),q(null),B(null),_("")},H=()=>{if(o.length===0){alert("No conversations to export");return}const U=o.map(ae=>({chatId:ae.id,userId:ae.user_id||"",createdAt:ae.created_at||"",userMessage:ae.chat_message||"",aiResponse:ae.response||""}));if(T==="CSV"){const ae=["Chat ID","User ID","Created At","User Message","AI Response"],he=U.map(Tn=>[Tn.chatId,Tn.userId,Tn.createdAt,`"${Tn.userMessage.replace(/"/g,'""')}"`,`"${Tn.aiResponse.replace(/"/g,'""')}"`]),Pe=[ae,...he].map(Tn=>Tn.join(",")).join(`
`),un=new Blob([Pe],{type:"text/csv;charset=utf-8;"}),dn=document.createElement("a"),ea=URL.createObjectURL(un);dn.setAttribute("href",ea),dn.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.csv`),dn.style.visibility="hidden",document.body.appendChild(dn),dn.click(),document.body.removeChild(dn)}else{const ae=JSON.stringify(U,null,2),he=new Blob([ae],{type:"application/json;charset=utf-8;"}),Pe=document.createElement("a"),un=URL.createObjectURL(he);Pe.setAttribute("href",un),Pe.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.json`),Pe.style.visibility="hidden",document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe)}};if(l)return f.jsx("div",{className:"admin-card",children:f.jsx("div",{className:"flex items-center justify-center p-8",children:f.jsx("p",{style:{color:"var(--admin-text-muted)"},children:r("admin.loading")})})});if(u)return f.jsx("div",{className:"admin-card",children:f.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[f.jsx("p",{className:"font-semibold mb-2",children:r("admin.error")}),f.jsx("p",{className:"text-sm whitespace-pre-line mb-3",children:u}),u.includes("Row Level Security")&&f.jsxs("div",{className:"mt-3 p-3 rounded text-xs",style:{backgroundColor:"rgba(0,0,0,0.2)",color:"var(--admin-text-muted)"},children:[f.jsx("p",{className:"font-semibold mb-2",children:"To fix RLS in Supabase:"}),f.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[f.jsx("li",{children:"Go to Supabase Dashboard  Table Editor"}),f.jsx("li",{children:'Select "chat" table'}),f.jsx("li",{children:'Click "RLS" tab'}),f.jsx("li",{children:'Add policy: "Enable read access for all users"'}),f.jsxs("li",{children:["Policy command: ",f.jsx("code",{children:"SELECT"}),", Target roles: ",f.jsx("code",{children:"anon"})]})]})]}),f.jsx("button",{onClick:P,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:r("actions.refresh")})]})});const W=o.slice(0,C);return f.jsxs("div",{className:"admin-card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[r("admin.recentConversations")," (",o.length,")"]}),f.jsx("button",{className:"icon-btn",onClick:X,disabled:h,title:r("actions.refresh"),children:f.jsx(lp,{size:18,className:h?"animate-spin":""})})]}),f.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.sortBy"),":"]}),f.jsxs("select",{value:N,onChange:U=>E(U.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx("option",{value:"date-desc",children:r("admin.dateTimeNewest")}),f.jsx("option",{value:"date-asc",children:r("admin.dateTimeOldest")}),f.jsxs("option",{value:"user",children:[r("admin.user")," ID"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[f.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.search"),":"]}),f.jsx("input",{type:"text",placeholder:r("admin.searchConversations"),value:k,onChange:U=>_(U.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(I||$||D)&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),I&&f.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(34, 197, 94, 0.2)",color:"var(--admin-success)"},children:["Session: ",I]}),$&&f.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",$]}),D&&f.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(D).toLocaleDateString()]}),f.jsx("button",{onClick:re,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:" Clear"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:T,onChange:U=>R(U.target.value),children:[f.jsx("option",{children:"CSV"}),f.jsx("option",{children:"JSON"})]}),f.jsx("button",{onClick:H,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),W.length===0?f.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:f.jsx("p",{children:k?"No conversations match your search":"No conversations found"})}):f.jsx("div",{className:"space-y-3",children:W.map(U=>f.jsxs("div",{id:`chat-${U.chat_id}`,className:"p-4 rounded-lg border transition-all duration-500",style:{backgroundColor:t===U.chat_id?"rgba(59, 230, 255, 0.15)":"rgba(9, 14, 34, 0.4)",borderColor:t===U.chat_id?"var(--admin-primary)":"var(--admin-border)",boxShadow:t===U.chat_id?"0 0 20px rgba(59, 230, 255, 0.3)":"none"},children:[f.jsx("div",{className:"flex items-start justify-between mb-2",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["User:",f.jsx("button",{onClick:()=>J(U.user_id),className:`ml-1 hover:underline cursor-pointer ${$===U.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:U.user_id})]}),f.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",U.chat_id]}),U.session_id&&f.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Session:",f.jsx("button",{onClick:()=>ot(U.session_id),className:`ml-1 hover:underline cursor-pointer ${I===U.session_id?"text-green-400 font-semibold":"text-green-300"}`,title:"Click to filter by this session",children:U.session_id})]}),f.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:f.jsx("button",{onClick:()=>V(U.created_at||""),className:`hover:underline cursor-pointer ${D===U.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:O(U.created_at)})})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:[r("admin.userMessage"),":"]}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:ie(U.chat_message)})]}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:[r("admin.aiResponse"),":"]}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:ie(U.response)})]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t",style:{borderColor:"var(--admin-border)"},children:[f.jsxs("span",{className:"text-xs mr-2",style:{color:"var(--admin-text-muted)"},children:[r("usage.feedback.admin"),":"]}),f.jsx("button",{onClick:()=>ne(U,"good"),className:"p-2 rounded transition-colors hover:bg-green-500/20",title:"Thumbs up",children:f.jsx(dc,{size:16,style:{color:"var(--admin-success, #10b981)"}})}),f.jsx("button",{onClick:()=>ne(U,"bad"),className:"p-2 rounded transition-colors hover:bg-red-500/20",title:"Thumbs down",children:f.jsx(fc,{size:16,style:{color:"var(--admin-danger, #ef4444)"}})})]})]},U.id))}),o.length>C&&f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("button",{onClick:()=>A(U=>U+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",o.length-C," remaining)"]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsx("div",{className:"rounded-lg max-w-2xl w-full mx-4",style:{backgroundColor:"var(--admin-bg-card)",border:"1px solid var(--admin-border)",maxHeight:"90vh",overflow:"auto"},children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["Admin Feedback ",m.verdict==="good"?"":""]}),f.jsx("button",{onClick:ke,className:"p-1 hover:bg-gray-100/10 rounded",style:{color:"var(--admin-text-secondary)"},children:f.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.userMessage"),":"]}),f.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.userMessage})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.aiResponse"),":"]}),f.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.aiResponse})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Supervisor Feedback:"}),f.jsx("textarea",{value:y,onChange:U=>v(U.target.value),placeholder:"Explain what was wrong with this response...",className:"w-full h-24 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Corrected Response:"}),f.jsx("textarea",{value:b,onChange:U=>w(U.target.value),placeholder:"Enter the corrected response...",className:"w-full h-32 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:ke,disabled:S,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"transparent",border:"1px solid var(--admin-border)",color:"var(--admin-text)"},children:"Cancel"}),f.jsx("button",{onClick:ce,disabled:S,className:"px-6 py-2 text-sm font-medium rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:S?.6:1},children:S?"Submitting...":"Submit"})]})]})})})]})}function Hoe({onScrollToChat:e}){const{t}=Ge(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[y,v]=x.useState("all"),[b,w]=x.useState(10),[S,j]=x.useState("CSV"),[k,_]=x.useState(null),[N,E]=x.useState(null);x.useEffect(()=>{C()},[]),x.useEffect(()=>{T()},[n,h,m,y,k,N]);const C=async()=>{s(!0),c(null);try{const M=await rv();r(M)}catch(M){console.error("Failed to load user feedback:",M),c(M instanceof Error?M.message:"Failed to load user feedback")}finally{s(!1)}},A=async()=>{d(!0);try{const M=await rv();r(M)}catch(M){console.error("Failed to refresh user feedback:",M),c(M instanceof Error?M.message:"Failed to refresh user feedback")}finally{d(!1)}},T=()=>{let M=[...n];if(y!=="all"&&(M=M.filter(O=>O.reaction===y)),k&&(M=M.filter(O=>O.user_id===k)),N&&(M=M.filter(O=>{if(!O.created_at)return!1;const ie=new Date(O.created_at).toDateString(),ne=new Date(N).toDateString();return ie===ne})),h){const O=h.toLowerCase();M=M.filter(ie=>{var ne,ce,ke;return((ne=ie.user_id)==null?void 0:ne.toLowerCase().includes(O))||((ce=ie.chat_id)==null?void 0:ce.toLowerCase().includes(O))||((ke=ie.feedback_text)==null?void 0:ke.toLowerCase().includes(O))})}M.sort((O,ie)=>{switch(m){case"date-desc":return new Date(ie.created_at||"").getTime()-new Date(O.created_at||"").getTime();case"date-asc":return new Date(O.created_at||"").getTime()-new Date(ie.created_at||"").getTime();case"user":return(O.user_id||"").localeCompare(ie.user_id||"");default:return 0}}),a(M)},R=async M=>{const O=n.find(ie=>ie.id===M);if(O)if(!O.isExpanded&&!O.chatData){console.log(`Fetching chat data for feedback ${M} with chat_id: ${O.chat_id}`);const ie=await zD(O.chat_id);ie?(console.log(` Successfully loaded chat data for ${O.chat_id}`),r(ne=>ne.map(ce=>ce.id===M?{...ce,chatData:ie,isExpanded:!0}:ce))):(console.warn(` Could not load chat data for ${O.chat_id}. This might be due to a chat_id mismatch.`),r(ne=>ne.map(ce=>ce.id===M?{...ce,chatData:null,isExpanded:!0}:ce)))}else r(ie=>ie.map(ne=>ne.id===M?{...ne,isExpanded:!ne.isExpanded}:ne))},I=M=>{if(!M)return"N/A";try{return new Date(M).toLocaleString()}catch{return M}},L=M=>M==="good"?f.jsx(dc,{size:16,style:{color:"var(--admin-success)"}}):M==="bad"?f.jsx(fc,{size:16,style:{color:"var(--admin-danger)"}}):f.jsx("span",{className:"text-xs",children:M}),$=(M,O=150)=>M?M.length<=O?M:M.substring(0,O)+"...":"",q=M=>{k===M?_(null):(_(M),E(null))},D=M=>{N===M?E(null):(E(M),_(null))},B=()=>{_(null),E(null),p(""),v("all")},P=()=>{if(i.length===0){alert("No feedback to export");return}const M=i.map(O=>{var ie,ne;return{feedbackId:O.id,chatId:O.chat_id,userId:O.user_id||"",reaction:O.reaction||"",feedbackText:O.feedback_text||"",createdAt:O.created_at||"",userMessage:((ie=O.chatData)==null?void 0:ie.chat_message)||"",aiResponse:((ne=O.chatData)==null?void 0:ne.response)||""}});if(S==="CSV"){const O=["Feedback ID","Chat ID","User ID","Reaction","Feedback Text","Created At","User Message","AI Response"],ie=M.map(J=>[J.feedbackId,J.chatId,J.userId,J.reaction,`"${J.feedbackText.replace(/"/g,'""')}"`,J.createdAt,`"${J.userMessage.replace(/"/g,'""')}"`,`"${J.aiResponse.replace(/"/g,'""')}"`]),ne=[O,...ie].map(J=>J.join(",")).join(`
`),ce=new Blob([ne],{type:"text/csv;charset=utf-8;"}),ke=document.createElement("a"),ot=URL.createObjectURL(ce);ke.setAttribute("href",ot),ke.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.csv`),ke.style.visibility="hidden",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)}else{const O=JSON.stringify(M,null,2),ie=new Blob([O],{type:"application/json;charset=utf-8;"}),ne=document.createElement("a"),ce=URL.createObjectURL(ie);ne.setAttribute("href",ce),ne.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.json`),ne.style.visibility="hidden",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne)}};if(o)return f.jsx("div",{className:"admin-card",children:f.jsx("div",{className:"flex items-center justify-center p-8",children:f.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})});if(l)return f.jsx("div",{className:"admin-card",children:f.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[f.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),f.jsx("p",{className:"text-sm",children:l}),f.jsx("button",{onClick:C,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})});const X=i.slice(0,b);return f.jsxs("div",{className:"admin-card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["User Feedback (",i.length,")"]}),f.jsx("button",{className:"icon-btn",onClick:A,disabled:u,title:t("actions.refresh"),children:f.jsx(lp,{size:18,className:u?"animate-spin":""})})]}),f.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),f.jsxs("select",{value:m,onChange:M=>g(M.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),f.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),f.jsx("option",{value:"user",children:"User ID"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[f.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),f.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:M=>p(M.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(k||N)&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),k&&f.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",k]}),N&&f.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(N).toLocaleDateString()]}),f.jsx("button",{onClick:B,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:" Clear"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:S,onChange:M=>j(M.target.value),children:[f.jsx("option",{children:"CSV"}),f.jsx("option",{children:"JSON"})]}),f.jsx("button",{onClick:P,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),f.jsxs("div",{className:"mb-4 flex gap-2",children:[f.jsxs("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${y==="all"?"font-semibold":""}`,style:{backgroundColor:y==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:y==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),f.jsxs("button",{onClick:()=>v("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="good"?"font-semibold":""}`,style:{backgroundColor:y==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:y==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx(dc,{size:14})," Good (",n.filter(M=>M.reaction==="good").length,")"]}),f.jsxs("button",{onClick:()=>v("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="bad"?"font-semibold":""}`,style:{backgroundColor:y==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:y==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx(fc,{size:14})," Bad (",n.filter(M=>M.reaction==="bad").length,")"]})]}),X.length===0?f.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:f.jsx("p",{children:h||y!=="all"?"No feedback matches your filters":"No user feedback found"})}):f.jsx("div",{className:"space-y-3",children:X.map(M=>f.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)"},children:[f.jsxs("div",{className:"p-4 cursor-pointer hover:bg-opacity-60 transition-colors",onClick:()=>R(M.id),children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[L(M.reaction),f.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["User:",f.jsx("button",{onClick:O=>{O.stopPropagation(),q(M.user_id)},className:`ml-1 hover:underline cursor-pointer ${k===M.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:M.user_id})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:O=>{O.stopPropagation(),D(M.created_at||"")},className:`text-xs hover:underline cursor-pointer ${N===M.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:I(M.created_at)}),f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--admin-text-muted)",transform:M.isExpanded?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:f.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),f.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",f.jsx("button",{onClick:()=>e==null?void 0:e(M.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:M.chat_id})]}),M.feedback_text&&f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:$(M.feedback_text)})]}),M.isExpanded&&f.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--admin-border)"},children:M.chatData?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"User Message:"}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:M.chatData.chat_message})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:"AI Response:"}),f.jsx("button",{onClick:()=>e==null?void 0:e(M.chat_id),className:"text-sm text-left w-full p-2 rounded hover:bg-blue-500/10 transition-colors cursor-pointer",style:{color:"var(--admin-text)"},title:"Click to scroll to this chat in Recent Conversations",children:M.chatData.response})]})]}):M.chatData===null?f.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[f.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--admin-danger)"},children:" Chat data not found"}),f.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"The chat associated with this feedback could not be loaded. This might be due to a mismatch between the feedback chat_id and the chat table ID format."}),f.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",M.chat_id]})]}):f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"Loading chat details..."})})]},M.id))}),i.length>b&&f.jsx("div",{className:"mt-4 text-center",children:f.jsxs("button",{onClick:()=>w(M=>M+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",i.length-b," remaining)"]})})]})}function qoe(){const{t:e}=Ge(),[t,n]=x.useState([]),[r,i]=x.useState([]),[a,o]=x.useState(!0),[s,l]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState(""),[p,m]=x.useState("date-desc"),[g,y]=x.useState("all"),[v,b]=x.useState(null),[w,S]=x.useState(null);x.useEffect(()=>{j()},[]),x.useEffect(()=>{_()},[t,d,p,g,v,w]);const j=async()=>{o(!0),l(null);try{const T=await fO(),R=await Promise.all(T.map(async I=>{const L=await zD(I.chat_id);return{...I,chatData:L,isEnabled:!0}}));n(R)}catch(T){console.error("Failed to load admin feedback:",T),l(T instanceof Error?T.message:"Failed to load admin feedback")}finally{o(!1)}},k=async()=>{u(!0),await j(),u(!1)},_=()=>{let T=[...t];if(g!=="all"&&(T=T.filter(R=>R.feedback_verdict===g)),v&&(T=T.filter(R=>{var I;return((I=R.chatData)==null?void 0:I.user_id)===v})),w&&(T=T.filter(R=>{const I=R.updated_at||R.created_at;if(!I)return!1;const L=new Date(I).toDateString(),$=new Date(w).toDateString();return L===$})),d){const R=d.toLowerCase();T=T.filter(I=>{var L,$,q,D,B,P,X;return((L=I.chat_id)==null?void 0:L.toLowerCase().includes(R))||(($=I.feedback_text)==null?void 0:$.toLowerCase().includes(R))||((q=I.corrected_response)==null?void 0:q.toLowerCase().includes(R))||((B=(D=I.chatData)==null?void 0:D.chat_message)==null?void 0:B.toLowerCase().includes(R))||((X=(P=I.chatData)==null?void 0:P.response)==null?void 0:X.toLowerCase().includes(R))})}T.sort((R,I)=>{switch(p){case"date-desc":return new Date(I.updated_at||I.created_at||"").getTime()-new Date(R.updated_at||R.created_at||"").getTime();case"date-asc":return new Date(R.updated_at||R.created_at||"").getTime()-new Date(I.updated_at||I.created_at||"").getTime();case"verdict":return(R.feedback_verdict||"").localeCompare(I.feedback_verdict||"");default:return 0}}),i(T)},N=T=>{n(R=>R.map(I=>I.id===T?{...I,isEnabled:!I.isEnabled}:I))},E=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return T}},C=()=>{const T=r.filter(q=>q.isEnabled);if(T.length===0){alert("No enabled feedback to export");return}const R=[["Request ID","Date/Time","Verdict","User Message","AI Response","Feedback","Corrected Response"],...T.map(q=>{var D,B;return[q.chat_id,E(q.updated_at||q.created_at),q.feedback_verdict,((D=q.chatData)==null?void 0:D.chat_message)||"",((B=q.chatData)==null?void 0:B.response)||"",q.feedback_text||"",q.corrected_response||""]})].map(q=>q.map(D=>`"${D}"`).join(",")).join(`
`),I=new Blob([R],{type:"text/csv"}),L=URL.createObjectURL(I),$=document.createElement("a");$.href=L,$.download=`admin-feedback-${new Date().toISOString().split("T")[0]}.csv`,$.click(),URL.revokeObjectURL(L)},A=()=>{const T=r.filter(I=>I.isEnabled&&I.corrected_response);if(T.length===0){alert("No enabled feedback with corrected responses to apply");return}window.confirm(`Apply ${T.length} corrected response(s) to the system prompt?

This will update the prompt with examples from the selected feedback.`)&&alert("Prompt update feature coming soon!")};return a?f.jsx("div",{className:"admin-card",children:f.jsx("div",{className:"flex items-center justify-center p-8",children:f.jsx("p",{style:{color:"var(--admin-text-muted)"},children:e("admin.loading")})})}):s?f.jsx("div",{className:"admin-card",children:f.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[f.jsx("p",{className:"font-semibold mb-2",children:e("admin.error")}),f.jsx("p",{className:"text-sm",children:s}),f.jsx("button",{onClick:j,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:e("actions.refresh")})]})}):f.jsxs("div",{className:"admin-card",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["Admin Feedback (",r.length," feedback entries)"]}),f.jsx("button",{className:"icon-btn",onClick:k,disabled:c,title:e("actions.refresh"),children:f.jsx(lp,{size:18,className:c?"animate-spin":""})})]}),f.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),f.jsxs("select",{value:p,onChange:T=>m(T.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),f.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),f.jsx("option",{value:"verdict",children:"Verdict"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[f.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),f.jsx("input",{type:"text",placeholder:"Search feedback...",value:d,onChange:T=>h(T.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},defaultValue:"CSV",children:[f.jsx("option",{children:"CSV"}),f.jsx("option",{children:"JSON"})]}),f.jsx("button",{onClick:C,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"}),f.jsx("button",{onClick:A,className:"px-4 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:"Update Prompt"})]})]}),f.jsxs("div",{className:"flex gap-2 mb-4",children:[f.jsxs("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${g==="all"?"font-semibold":""}`,style:{backgroundColor:g==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:g==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",t.length,")"]}),f.jsxs("button",{onClick:()=>y("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${g==="good"?"font-semibold":""}`,style:{backgroundColor:g==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:g==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx(dc,{size:14})," Good (",t.filter(T=>T.feedback_verdict==="good").length,")"]}),f.jsxs("button",{onClick:()=>y("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${g==="bad"?"font-semibold":""}`,style:{backgroundColor:g==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:g==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[f.jsx(fc,{size:14})," Bad (",t.filter(T=>T.feedback_verdict==="bad").length,")"]})]}),r.length===0?f.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:f.jsx("p",{children:d||g!=="all"?"No feedback matches your filters":"No admin feedback found"})}):f.jsx("div",{className:"space-y-3",children:r.map(T=>{var R,I;return f.jsx("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)",opacity:T.isEnabled?1:.5},children:f.jsxs("div",{className:"p-4",children:[f.jsxs("div",{className:"flex items-start justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:["Request ID: ",T.chat_id]}),T.feedback_verdict==="good"?f.jsx(dc,{size:16,style:{color:"var(--admin-success)"}}):f.jsx(fc,{size:16,style:{color:"var(--admin-danger)"}})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:E(T.updated_at||T.created_at)}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("span",{className:"text-xs",style:{color:"var(--admin-text)"},children:"Apply to Prompt:"}),f.jsx("button",{onClick:()=>N(T.id),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors",style:{backgroundColor:T.isEnabled?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},children:f.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:T.isEnabled?"translateX(1.5rem)":"translateX(0.25rem)"}})})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[((R=T.chatData)==null?void 0:R.chat_message)&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"User Message:"}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:T.chatData.chat_message})]}),((I=T.chatData)==null?void 0:I.response)&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"Original AI Response:"}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:T.chatData.response})]}),T.feedback_text&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-warning, #ff9800)"},children:"Supervisor Feedback:"}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:T.feedback_text})]}),T.corrected_response&&f.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",border:"1px solid rgba(59, 230, 255, 0.2)"},children:[f.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"Corrected Response:"}),f.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:T.corrected_response})]})]})]})},T.id)})})]})}function BD(e,t){return function(){return e.apply(t,arguments)}}const{toString:Voe}=Object.prototype,{getPrototypeOf:Ub}=Object,{iterator:cp,toStringTag:UD}=Symbol,up=(e=>t=>{const n=Voe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gr=e=>(e=e.toLowerCase(),t=>up(t)===e),dp=e=>t=>typeof t===e,{isArray:Ns}=Array,ss=dp("undefined");function Gc(e){return e!==null&&!ss(e)&&e.constructor!==null&&!ss(e.constructor)&&an(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WD=gr("ArrayBuffer");function Goe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WD(e.buffer),t}const Yoe=dp("string"),an=dp("function"),KD=dp("number"),Yc=e=>e!==null&&typeof e=="object",Joe=e=>e===!0||e===!1,sd=e=>{if(up(e)!=="object")return!1;const t=Ub(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(UD in e)&&!(cp in e)},Qoe=e=>{if(!Yc(e)||Gc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Xoe=gr("Date"),Zoe=gr("File"),ese=gr("Blob"),tse=gr("FileList"),nse=e=>Yc(e)&&an(e.pipe),rse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||an(e.append)&&((t=up(e))==="formdata"||t==="object"&&an(e.toString)&&e.toString()==="[object FormData]"))},ise=gr("URLSearchParams"),[ase,ose,sse,lse]=["ReadableStream","Request","Response","Headers"].map(gr),cse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ns(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Gc(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(r=0;r<o;r++)s=a[r],t.call(null,e[s],s,e)}}function HD(e,t){if(Gc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const ja=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),qD=e=>!ss(e)&&e!==ja;function py(){const{caseless:e,skipUndefined:t}=qD(this)&&this||{},n={},r=(i,a)=>{const o=e&&HD(n,a)||a;sd(n[o])&&sd(i)?n[o]=py(n[o],i):sd(i)?n[o]=py({},i):Ns(i)?n[o]=i.slice():(!t||!ss(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Jc(arguments[i],r);return n}const use=(e,t,n,{allOwnKeys:r}={})=>(Jc(t,(i,a)=>{n&&an(i)?e[a]=BD(i,n):e[a]=i},{allOwnKeys:r}),e),dse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fse=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},hse=(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&Ub(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},pse=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},mse=e=>{if(!e)return null;if(Ns(e))return e;let t=e.length;if(!KD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},gse=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ub(Uint8Array)),vse=(e,t)=>{const r=(e&&e[cp]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},yse=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},xse=gr("HTMLFormElement"),bse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),B_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),wse=gr("RegExp"),VD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Jc(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},kse=e=>{VD(e,(t,n)=>{if(an(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(an(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Sse=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Ns(e)?r(e):r(String(e).split(t)),n},jse=()=>{},_se=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Cse(e){return!!(e&&an(e.append)&&e[UD]==="FormData"&&e[cp])}const Ese=e=>{const t=new Array(10),n=(r,i)=>{if(Yc(r)){if(t.indexOf(r)>=0)return;if(Gc(r))return r;if(!("toJSON"in r)){t[i]=r;const a=Ns(r)?[]:{};return Jc(r,(o,s)=>{const l=n(o,i+1);!ss(l)&&(a[s]=l)}),t[i]=void 0,a}}return r};return n(e,0)},Pse=gr("AsyncFunction"),Ose=e=>e&&(Yc(e)||an(e))&&an(e.then)&&an(e.catch),GD=((e,t)=>e?setImmediate:t?((n,r)=>(ja.addEventListener("message",({source:i,data:a})=>{i===ja&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ja.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",an(ja.postMessage)),Ase=typeof queueMicrotask<"u"?queueMicrotask.bind(ja):typeof process<"u"&&process.nextTick||GD,Nse=e=>e!=null&&an(e[cp]),z={isArray:Ns,isArrayBuffer:WD,isBuffer:Gc,isFormData:rse,isArrayBufferView:Goe,isString:Yoe,isNumber:KD,isBoolean:Joe,isObject:Yc,isPlainObject:sd,isEmptyObject:Qoe,isReadableStream:ase,isRequest:ose,isResponse:sse,isHeaders:lse,isUndefined:ss,isDate:Xoe,isFile:Zoe,isBlob:ese,isRegExp:wse,isFunction:an,isStream:nse,isURLSearchParams:ise,isTypedArray:gse,isFileList:tse,forEach:Jc,merge:py,extend:use,trim:cse,stripBOM:dse,inherits:fse,toFlatObject:hse,kindOf:up,kindOfTest:gr,endsWith:pse,toArray:mse,forEachEntry:vse,matchAll:yse,isHTMLForm:xse,hasOwnProperty:B_,hasOwnProp:B_,reduceDescriptors:VD,freezeMethods:kse,toObjectSet:Sse,toCamelCase:bse,noop:jse,toFiniteNumber:_se,findKey:HD,global:ja,isContextDefined:qD,isSpecCompliantForm:Cse,toJSONObject:Ese,isAsyncFn:Pse,isThenable:Ose,setImmediate:GD,asap:Ase,isIterable:Nse};function fe(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const YD=fe.prototype,JD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{JD[e]={value:e}});Object.defineProperties(fe,JD);Object.defineProperty(YD,"isAxiosError",{value:!0});fe.from=(e,t,n,r,i,a)=>{const o=Object.create(YD);z.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return fe.call(o,s,l,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Tse=null;function my(e){return z.isPlainObject(e)||z.isArray(e)}function QD(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function U_(e,t,n){return e?e.concat(t).map(function(i,a){return i=QD(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Ise(e){return z.isArray(e)&&!e.some(my)}const Dse=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function fp(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!z.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(z.isBoolean(m))return m.toString();if(!l&&z.isBlob(m))throw new fe("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let v=m;if(m&&!y&&typeof m=="object"){if(z.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&Ise(m)||(z.isFileList(m)||z.endsWith(g,"[]"))&&(v=z.toArray(m)))return g=QD(g),v.forEach(function(w,S){!(z.isUndefined(w)||w===null)&&t.append(o===!0?U_([g],S,a):o===null?g:g+"[]",c(w))}),!1}return my(m)?!0:(t.append(U_(y,g,a),c(m)),!1)}const d=[],h=Object.assign(Dse,{defaultVisitor:u,convertValue:c,isVisitable:my});function p(m,g){if(!z.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),z.forEach(m,function(v,b){(!(z.isUndefined(v)||v===null)&&i.call(t,v,z.isString(b)?b.trim():b,g,h))===!0&&p(v,g?g.concat(b):[b])}),d.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return p(e),t}function W_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Wb(e,t){this._pairs=[],e&&fp(e,this,t)}const XD=Wb.prototype;XD.append=function(t,n){this._pairs.push([t,n])};XD.toString=function(t){const n=t?function(r){return t.call(this,r,W_)}:W_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Rse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ZD(e,t,n){if(!t)return e;const r=n&&n.encode||Rse;z.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=z.isURLSearchParams(t)?t.toString():new Wb(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Mse{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const K_=Mse,eR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lse=typeof URLSearchParams<"u"?URLSearchParams:Wb,$se=typeof FormData<"u"?FormData:null,Fse=typeof Blob<"u"?Blob:null,zse={isBrowser:!0,classes:{URLSearchParams:Lse,FormData:$se,Blob:Fse},protocols:["http","https","file","blob","url","data"]},Kb=typeof window<"u"&&typeof document<"u",gy=typeof navigator=="object"&&navigator||void 0,Bse=Kb&&(!gy||["ReactNative","NativeScript","NS"].indexOf(gy.product)<0),Use=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Wse=Kb&&window.location.href||"http://localhost",Kse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kb,hasStandardBrowserEnv:Bse,hasStandardBrowserWebWorkerEnv:Use,navigator:gy,origin:Wse},Symbol.toStringTag,{value:"Module"})),It={...Kse,...zse};function Hse(e,t){return fp(e,new It.classes.URLSearchParams,{visitor:function(n,r,i,a){return It.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function qse(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vse(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function tR(e){function t(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=n.length;return o=!o&&z.isArray(i)?i.length:o,l?(z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],a)&&z.isArray(i[o])&&(i[o]=Vse(i[o])),!s)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,i)=>{t(qse(r),i,n,0)}),n}return null}function Gse(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Hb={transitional:eR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=z.isObject(t);if(a&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return i?JSON.stringify(tR(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hse(t,this.formSerializer).toString();if((s=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fp(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Gse(t)):t}],transformResponse:[function(t){const n=this.transitional||Hb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?fe.from(s,fe.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Hb.headers[e]={}});const qb=Hb,Yse=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jse=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Yse[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},H_=Symbol("internals");function tl(e){return e&&String(e).trim().toLowerCase()}function ld(e){return e===!1||e==null?e:z.isArray(e)?e.map(ld):String(e)}function Qse(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Xse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wm(e,t,n,r,i){if(z.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function Zse(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ele(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}class hp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(s,l,c){const u=tl(l);if(!u)throw new Error("header name must be a non-empty string");const d=z.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=ld(s))}const o=(s,l)=>z.forEach(s,(c,u)=>a(c,u,l));if(z.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(z.isString(t)&&(t=t.trim())&&!Xse(t))o(Jse(t),n);else if(z.isObject(t)&&z.isIterable(t)){let s={},l,c;for(const u of t){if(!z.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?z.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=tl(t),t){const r=z.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Qse(i);if(z.isFunction(n))return n.call(this,i,r);if(z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=tl(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Wm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(o){if(o=tl(o),o){const s=z.findKey(r,o);s&&(!n||Wm(r,r[s],s,n))&&(delete r[s],i=!0)}}return z.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Wm(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return z.forEach(this,(i,a)=>{const o=z.findKey(r,a);if(o){n[o]=ld(i),delete n[a];return}const s=t?Zse(a):String(a).trim();s!==a&&delete n[a],n[s]=ld(i),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[H_]=this[H_]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=tl(o);r[s]||(ele(i,o),r[s]=!0)}return z.isArray(t)?t.forEach(a):a(t),this}}hp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(hp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(hp);const dr=hp;function Km(e,t){const n=this||qb,r=t||n,i=dr.from(r.headers);let a=r.data;return z.forEach(e,function(s){a=s.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function nR(e){return!!(e&&e.__CANCEL__)}function Ts(e,t,n){fe.call(this,e??"canceled",fe.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Ts,fe,{__CANCEL__:!0});function rR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tle(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function nle(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[a];o||(o=c),n[i]=l,r[i]=c;let d=a,h=0;for(;d!==i;)h+=n[d++],d=d%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function rle(e,t){let n=0,r=1e3/t,i,a;const o=(c,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-d)))},()=>i&&o(i)]}const Nf=(e,t,n=3)=>{let r=0;const i=nle(50,250);return rle(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),u=o<=s;r=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(d)},n)},q_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},V_=e=>(...t)=>z.asap(()=>e(...t)),ile=It.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,It.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,ale=It.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ole(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sle(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function iR(e,t,n){let r=!ole(t);return e&&(r||n==!1)?sle(e,t):t}const G_=e=>e instanceof dr?{...e}:e;function Wa(e,t){t=t||{};const n={};function r(c,u,d,h){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:h},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function i(c,u,d,h){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c,d,h)}else return r(c,u,d,h)}function a(c,u){if(!z.isUndefined(u))return r(void 0,u)}function o(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,d)=>i(G_(c),G_(u),d,!0)};return z.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||i,h=d(e[u],t[u],u);z.isUndefined(h)&&d!==s||(n[u]=h)}),n}const aR=e=>{const t=Wa({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=dr.from(o),t.url=ZD(iR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),z.isFormData(n)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(z.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(It.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&ile(t.url))){const l=i&&a&&ale.read(a);l&&o.set(i,l)}return t},lle=typeof XMLHttpRequest<"u",cle=lle&&function(e){return new Promise(function(n,r){const i=aR(e);let a=i.data;const o=dr.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,d,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const w=dr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};rR(function(_){n(_),g()},function(_){r(_),g()},j),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new fe("Request aborted",fe.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const j=S&&S.message?S.message:"Network Error",k=new fe(j,fe.ERR_NETWORK,e,y);k.event=S||null,r(k),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||eR;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new fe(S,j.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&z.forEach(o.toJSON(),function(S,j){y.setRequestHeader(j,S)}),z.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),c&&([h,m]=Nf(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,p]=Nf(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=w=>{y&&(r(!w||w.type?new Ts(null,e,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=tle(i.url);if(b&&It.protocols.indexOf(b)===-1){r(new fe("Unsupported protocol "+b+":",fe.ERR_BAD_REQUEST,e));return}y.send(a||null)})},ule=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof fe?u:new Ts(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new fe(`timeout ${t} of ms exceeded`,fe.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>z.asap(s),l}},dle=ule,fle=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},hle=async function*(e,t){for await(const n of ple(e))yield*fle(n,t)},ple=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Y_=(e,t,n,r)=>{const i=hle(e,t);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let d=u.byteLength;if(n){let h=a+=d;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},J_=64*1024,{isFunction:zu}=z,mle=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:Q_,TextEncoder:X_}=z.global,Z_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},gle=e=>{e=z.merge.call({skipUndefined:!0},mle,e);const{fetch:t,Request:n,Response:r}=e,i=t?zu(t):typeof fetch=="function",a=zu(n),o=zu(r);if(!i)return!1;const s=i&&zu(Q_),l=i&&(typeof X_=="function"?(m=>g=>m.encode(g))(new X_):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=a&&s&&Z_(()=>{let m=!1;const g=new n(It.origin,{body:new Q_,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=o&&s&&Z_(()=>z.isReadableStream(new r("").body)),d={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(g,y)=>{let v=g&&g[m];if(v)return v.call(g);throw new fe(`Response type '${m}' is not supported`,fe.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(z.isBlob(m))return m.size;if(z.isSpecCompliantForm(m))return(await new n(It.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(z.isArrayBufferView(m)||z.isArrayBuffer(m))return m.byteLength;if(z.isURLSearchParams(m)&&(m=m+""),z.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=z.toFiniteNumber(m.getContentLength());return y??h(g)};return async m=>{let{url:g,method:y,data:v,signal:b,cancelToken:w,timeout:S,onDownloadProgress:j,onUploadProgress:k,responseType:_,headers:N,withCredentials:E="same-origin",fetchOptions:C}=aR(m),A=t||fetch;_=_?(_+"").toLowerCase():"text";let T=dle([b,w&&w.toAbortSignal()],S),R=null;const I=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let L;try{if(k&&c&&y!=="get"&&y!=="head"&&(L=await p(N,v))!==0){let X=new n(g,{method:"POST",body:v,duplex:"half"}),M;if(z.isFormData(v)&&(M=X.headers.get("content-type"))&&N.setContentType(M),X.body){const[O,ie]=q_(L,Nf(V_(k)));v=Y_(X.body,J_,O,ie)}}z.isString(E)||(E=E?"include":"omit");const $=a&&"credentials"in n.prototype,q={...C,signal:T,method:y.toUpperCase(),headers:N.normalize().toJSON(),body:v,duplex:"half",credentials:$?E:void 0};R=a&&new n(g,q);let D=await(a?A(R,C):A(g,q));const B=u&&(_==="stream"||_==="response");if(u&&(j||B&&I)){const X={};["status","statusText","headers"].forEach(ne=>{X[ne]=D[ne]});const M=z.toFiniteNumber(D.headers.get("content-length")),[O,ie]=j&&q_(M,Nf(V_(j),!0))||[];D=new r(Y_(D.body,J_,O,()=>{ie&&ie(),I&&I()}),X)}_=_||"text";let P=await d[z.findKey(d,_)||"text"](D,m);return!B&&I&&I(),await new Promise((X,M)=>{rR(X,M,{data:P,headers:dr.from(D.headers),status:D.status,statusText:D.statusText,config:m,request:R})})}catch($){throw I&&I(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,m,R),{cause:$.cause||$}):fe.from($,$&&$.code,m,R)}}},vle=new Map,oR=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o=a.length,s=o,l,c,u=vle;for(;s--;)l=a[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:gle(t)),u=c;return c};oR();const vy={http:Tse,xhr:cle,fetch:{get:oR}};z.forEach(vy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const eC=e=>`- ${e}`,yle=e=>z.isFunction(e)||e===null||e===!1,sR={getAdapter:(e,t)=>{e=z.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){r=e[o];let s;if(i=r,!yle(r)&&(i=vy[(s=String(r)).toLowerCase()],i===void 0))throw new fe(`Unknown adapter '${s}'`);if(i&&(z.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(eC).join(`
`):" "+eC(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:vy};function Hm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ts(null,e)}function tC(e){return Hm(e),e.headers=dr.from(e.headers),e.data=Km.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),sR.getAdapter(e.adapter||qb.adapter,e)(e).then(function(r){return Hm(e),r.data=Km.call(e,e.transformResponse,r),r.headers=dr.from(r.headers),r},function(r){return nR(r)||(Hm(e),r&&r.response&&(r.response.data=Km.call(e,e.transformResponse,r.response),r.response.headers=dr.from(r.response.headers))),Promise.reject(r)})}const lR="1.12.2",pp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{pp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const nC={};pp.transitional=function(t,n,r){function i(a,o){return"[Axios v"+lR+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(t===!1)throw new fe(i(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!nC[o]&&(nC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,s):!0}};pp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function xle(e,t,n){if(typeof e!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new fe("option "+a+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+a,fe.ERR_BAD_OPTION)}}const cd={assertOptions:xle,validators:pp},xr=cd.validators;class Tf{constructor(t){this.defaults=t||{},this.interceptors={request:new K_,response:new K_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Wa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&cd.assertOptions(r,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean)},!1),i!=null&&(z.isFunction(i)?n.paramsSerializer={serialize:i}:cd.assertOptions(i,{encode:xr.function,serialize:xr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),cd.assertOptions(n,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&z.merge(a.common,a[n.method]);a&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=dr.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,h;if(!l){const m=[tC.bind(this),void 0];for(m.unshift(...s),m.push(...c),h=m.length,u=Promise.resolve(n);d<h;)u=u.then(m[d++],m[d++]);return u}h=s.length;let p=n;for(;d<h;){const m=s[d++],g=s[d++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=tC.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Wa(this.defaults,t);const n=iR(t.baseURL,t.url,t.allowAbsoluteUrls);return ZD(n,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){Tf.prototype[t]=function(n,r){return this.request(Wa(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,s){return this.request(Wa(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Tf.prototype[t]=n(),Tf.prototype[t+"Form"]=n(!0)});const ud=Tf;class Vb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,s){r.reason||(r.reason=new Ts(a,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Vb(function(i){t=i}),cancel:t}}}const ble=Vb;function wle(e){return function(n){return e.apply(null,n)}}function kle(e){return z.isObject(e)&&e.isAxiosError===!0}const yy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yy).forEach(([e,t])=>{yy[t]=e});const Sle=yy;function cR(e){const t=new ud(e),n=BD(ud.prototype.request,t);return z.extend(n,ud.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return cR(Wa(e,i))},n}const at=cR(qb);at.Axios=ud;at.CanceledError=Ts;at.CancelToken=ble;at.isCancel=nR;at.VERSION=lR;at.toFormData=fp;at.AxiosError=fe;at.Cancel=at.CanceledError;at.all=function(t){return Promise.all(t)};at.spread=wle;at.isAxiosError=kle;at.mergeConfig=Wa;at.AxiosHeaders=dr;at.formToJSON=e=>tR(z.isHTMLForm(e)?new FormData(e):e);at.getAdapter=sR.getAdapter;at.HttpStatusCode=Sle;at.default=at;const mp=at,nl={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL||"https://n8n.srv978041.hstgr.cloud",jle={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_UPLOAD_WEBHOOK_ID||"1f18f1aa-44c4-467f-b299-c87c9b6f9459",gp={UPLOAD:`${nl}/webhook/${jle}`,LIST_FILES:`${nl}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_LIST_FILES_WEBHOOK_ID||"list-files"}`,DELETE_FILE:`${nl}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_DELETE_FILE_WEBHOOK_ID||"delete-file"}`,REINDEX_FILE:`${nl}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_REINDEX_FILE_WEBHOOK_ID||"reindex-file"}`,GET_FILE_STATUS:`${nl}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_FILE_STATUS_WEBHOOK_ID||"file-status"}`};async function _le(e){const t=[];try{const n=new FormData;e.forEach(i=>{n.append("Files",i)});const r=await mp.post(gp.UPLOAD,n,{headers:{Accept:"*/*","Content-Type":"multipart/form-data"},timeout:3e4});e.forEach(i=>{t.push({success:!0,message:"File uploaded successfully",fileName:i.name})}),console.log("RAG upload response:",r.data)}catch(n){console.error("Error uploading files to RAG:",n),e.forEach(r=>{var i,a;t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:((a=(i=n.response)==null?void 0:i.data)==null?void 0:a.message)||n.message||"Unknown error"})})}return t}async function Cle(){var e,t;try{console.log("Fetching files from n8n RAG system...");const n=await mp.post(gp.LIST_FILES,{},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4});console.log("Files fetched successfully:",n.data);let r=[];Array.isArray(n.data)?r=n.data:n.data.files&&Array.isArray(n.data.files)?r=n.data.files:n.data.data&&Array.isArray(n.data.data)?r=n.data.data:(console.warn("Unexpected response format from n8n:",n.data),r=[]);const i=r.map((a,o)=>({id:a.id||a.fileId||a.file_id||`file-${Date.now()}-${o}`,name:a.name||a.fileName||a.file_name||"Unknown",size:a.size||a.fileSize||a.file_size||0,type:a.type||a.contentType||a.content_type||"application/octet-stream",uploadedAt:a.uploadedAt||a.createdAt||a.uploadDate||a.created_at||new Date().toISOString(),status:a.status||"ready",url:a.url||a.downloadUrl||a.download_url,lastModified:a.lastModified||a.updatedAt||a.updated_at,syncStatus:a.syncStatus||a.sync_status||"synced"}));return{success:!0,files:i,total:i.length,message:"Files fetched successfully"}}catch(n){return console.error("Error fetching files from RAG:",n),{success:!1,files:[],total:0,message:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to fetch files"}}}function Ele(e){return e.size>10485760?{valid:!1,error:"File size must be less than 10MB"}:["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown","application/json","text/html"].includes(e.type)?{valid:!0}:{valid:!1,error:"Unsupported file type. Please upload PDF, Word, Excel, CSV, TXT, MD, JSON, or HTML files."}}function Ple(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}function Ole(e){return e.includes("pdf")?"":e.includes("word")||e.includes("document")?"":e.includes("excel")||e.includes("spreadsheet")?"":e.includes("csv")?"":e.includes("text")?"":e.includes("markdown")?"":e.includes("json")?"":e.includes("html")?"":""}async function Ale(e){var t,n;try{console.log(`Re-indexing file via n8n: ${e}`);const r=await mp.post(gp.REINDEX_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:15e3});return console.log("Re-index response:",r.data),{success:!0,message:r.data.message||"File re-indexed successfully"}}catch(r){return console.error("Error re-indexing file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to re-index file"}}}async function Nle(e){var t,n;try{console.log(`Deleting file from RAG via n8n: ${e}`);const r=await mp.post(gp.DELETE_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4});return console.log("Delete response:",r.data),{success:!0,message:r.data.message||"File deleted successfully"}}catch(r){return console.error("Error deleting file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to delete file"}}}const rC=()=>{const{t:e}=Ge(),t=x.useRef(null),[n,r]=x.useState(!1),[i,a]=x.useState([]),[o,s]=x.useState(!1),[l,c]=x.useState([]),[u,d]=x.useState(""),[h,p]=x.useState("date"),[m,g]=x.useState("desc"),[y,v]=x.useState(!1),[b,w]=x.useState(null);x.useEffect(()=>{S()},[]);const S=async()=>{var I,L;v(!0),w(null);try{const $=await Cle();$.success?(c($.files),console.log(`Loaded ${$.files.length} files from n8n`)):((I=$.message)!=null&&I.includes("404")||(L=$.message)!=null&&L.includes("Not Found")?w("n8n file management endpoints not configured yet. Please set up the following webhooks in n8n: list-files, delete-file, reindex-file"):w($.message||"Failed to load files"),console.error("Failed to load files:",$.message))}catch($){w("Failed to connect to n8n service. Please ensure n8n webhooks are configured."),console.error("Error loading files:",$)}finally{v(!1)}},j=()=>{S()},k=async(I,L)=>{if(confirm(`Are you sure you want to delete "${L}"?`))try{const $=await Nle(I);$.success?(c(q=>q.filter(D=>D.id!==I)),console.log(`File ${L} deleted successfully`)):alert(`Failed to delete file: ${$.message}`)}catch($){console.error("Error deleting file:",$),alert("Failed to delete file")}},_=async(I,L)=>{try{const $=await Ale(I);$.success?(alert(`File "${L}" re-indexed successfully`),S()):alert(`Failed to re-index file: ${$.message}`)}catch($){console.error("Error re-indexing file:",$),alert("Failed to re-index file")}},N=x.useCallback(I=>{if(!I||I.length===0)return;const L=Array.from(I),$=[],q=[];L.forEach(D=>{const B=Ele(D);B.valid?$.push(D):q.push(`${D.name}: ${B.error}`)}),q.length>0&&alert(q.join(`
`)),$.length>0&&E($)},[]),E=async I=>{r(!0),a([]);try{const L=await _le(I);a(L);const $=L.filter(q=>q.success).map((q,D)=>({id:`file-${Date.now()}-${D}`,name:q.fileName||I[D].name,size:I[D].size,type:I[D].type,uploadedAt:new Date().toISOString(),status:"ready"}));c(q=>[...$,...q]),setTimeout(()=>{S()},1e3)}catch(L){console.error("Upload error:",L)}finally{r(!1)}},C=x.useCallback(I=>{I.preventDefault(),I.stopPropagation(),I.type==="dragenter"||I.type==="dragover"?s(!0):I.type==="dragleave"&&s(!1)},[]),A=x.useCallback(I=>{I.preventDefault(),I.stopPropagation(),s(!1),I.dataTransfer.files&&I.dataTransfer.files[0]&&N(I.dataTransfer.files)},[N]),T=I=>{N(I.target.files)},R=l.filter(I=>I.name.toLowerCase().includes(u.toLowerCase())).sort((I,L)=>{let $=0;switch(h){case"name":$=I.name.localeCompare(L.name);break;case"date":$=new Date(I.uploadedAt).getTime()-new Date(L.uploadedAt).getTime();break;case"size":$=I.size-L.size;break}return m==="asc"?$:-$});return f.jsxs("div",{className:"file-library",children:[f.jsxs("div",{className:"fl-header",children:[f.jsx("h2",{className:"fl-title",children:e("knowledge.fileLibrary")}),f.jsx("p",{className:"fl-description",children:e("knowledge.fileLibraryDescription")})]}),f.jsx("div",{className:"fl-upload-section",children:f.jsxs("div",{className:`fl-upload-area ${o?"drag-active":""} ${n?"uploading":""}`,onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:A,onClick:()=>{var I;return(I=t.current)==null?void 0:I.click()},children:[f.jsx("input",{ref:t,type:"file",multiple:!0,accept:".txt,.md,.json,.csv,.xml,.html,.css,.js,.ts,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",onChange:T,style:{display:"none"},disabled:n}),f.jsx("div",{className:"upload-content",children:n?f.jsxs("div",{className:"upload-loading",children:[f.jsx("div",{className:"spinner"}),f.jsx("p",{children:e("knowledge.uploadingFiles")})]}):f.jsxs("div",{className:"upload-prompt",children:[f.jsx("div",{className:"upload-icon",children:""}),f.jsx("p",{className:"upload-text",children:e("knowledge.dragFilesHere")}),f.jsx("p",{className:"upload-formats",children:e("knowledge.supportedFormats")})]})})]})}),f.jsxs("div",{className:"fl-controls",children:[f.jsx("div",{className:"fl-search",children:f.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:u,onChange:I=>d(I.target.value),className:"search-input"})}),f.jsxs("button",{className:"refresh-btn",onClick:j,disabled:y,children:[f.jsx("span",{className:"refresh-icon",children:""}),y?e("knowledge.loading")||"Loading...":e("knowledge.refresh")]})]}),b&&f.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:b}),f.jsx("div",{className:"fl-table-container",children:y?f.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[f.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading files from n8n..."]}):f.jsxs("table",{className:"fl-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:e("knowledge.fileName")}),f.jsx("th",{children:e("knowledge.size")}),f.jsx("th",{children:e("knowledge.lastModified")}),f.jsx("th",{children:e("knowledge.contentType")}),f.jsx("th",{children:e("knowledge.syncStatus")}),f.jsx("th",{children:e("knowledge.actions")})]})}),f.jsx("tbody",{children:R.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"40px",color:"#666"},children:b?"Failed to load files":"No files found. Upload some files to get started."})}):R.map(I=>f.jsxs("tr",{children:[f.jsxs("td",{className:"file-name",children:[f.jsx("span",{className:"file-icon",children:Ole(I.type)}),I.name]}),f.jsx("td",{children:Ple(I.size)}),f.jsx("td",{children:new Date(I.uploadedAt).toLocaleString()}),f.jsx("td",{children:I.type}),f.jsx("td",{children:f.jsx("span",{className:`sync-status ${I.syncStatus||"synced"}`,children:I.syncStatus==="synced"?"":I.syncStatus==="pending"?"":I.syncStatus==="error"?"":""})}),f.jsx("td",{children:f.jsxs("div",{className:"file-actions",children:[f.jsx("button",{className:"action-btn reindex-btn",title:"Re-index file",onClick:()=>_(I.id,I.name),children:""}),f.jsx("button",{className:"action-btn download-btn",title:e("knowledge.download"),onClick:()=>I.url&&window.open(I.url,"_blank"),disabled:!I.url,children:""}),f.jsx("button",{className:"action-btn delete-btn",title:e("knowledge.delete"),onClick:()=>k(I.id,I.name),children:""})]})})]},I.id))})]})})]})},Tle=()=>{const{t:e}=Ge(),[t,n]=x.useState(""),[r,i]=x.useState(1),[a,o]=x.useState(200),[s]=x.useState(234),c=[{id:"1",title:"TecAce_Intro_client_202...",parentId:"TecAce_Intro_client_202...",chunkId:"VGVjQWNlX0ludHJvX2N...",url:"#",syncStatus:"synced"},{id:"2",title:"   .docx",parentId:"   .docx",chunkId:"7Lac7J6167mEIOydvou...",url:"#",syncStatus:"synced"},{id:"3",title:"Dental - Alltech 09492 O...",parentId:"Dental - Alltech 09492 O...",chunkId:"RGVudGFsIC0gQWxsdGVjaA...",url:"#",syncStatus:"synced"},{id:"4",title:"Vision - AllTech - Sig Pla...",parentId:"Vision - AllTech - Sig Pla...",chunkId:"VmlzaW9uIC0gQWxsVGVjaA...",url:"#",syncStatus:"synced"},{id:"5",title:"HR MEMORANDUM2025...",parentId:"HR MEMORANDUM2025...",chunkId:"SFIgTUVNT1JBTkRVTTIwMjU...",url:"#",syncStatus:"synced"},{id:"6",title:"Wellspring EAP Promotio...",parentId:"Wellspring EAP Promotio...",chunkId:"V2VsbHNwcmluZyBFQVAgUHJvbW90aW8...",url:"#",syncStatus:"synced"},{id:"7",title:"Health - 012025 RBS Te...",parentId:"Health - 012025 RBS Te...",chunkId:"SGVhbHRoIC0gMDEyMDI1IFJCUyBUZQ...",url:"#",syncStatus:"synced"}].filter(d=>d.title.toLowerCase().includes(t.toLowerCase())||d.parentId.toLowerCase().includes(t.toLowerCase())||d.chunkId.toLowerCase().includes(t.toLowerCase())),u=Math.ceil(s/a);return f.jsxs("div",{className:"knowledge-index",children:[f.jsxs("div",{className:"ki-header",children:[f.jsx("h2",{className:"ki-title",children:e("knowledge.knowledgeIndex")}),f.jsx("p",{className:"ki-description",children:e("knowledge.knowledgeIndexDescription")})]}),f.jsxs("div",{className:"ki-controls",children:[f.jsx("div",{className:"ki-search",children:f.jsx("input",{type:"text",placeholder:e("knowledge.searchByTitleFilepathContent"),value:t,onChange:d=>n(d.target.value),className:"search-input"})}),f.jsxs("div",{className:"ki-pagination-info",children:[f.jsxs("span",{children:["Total items: ",s]}),f.jsxs("span",{children:["Page ",r," of ",u]})]}),f.jsxs("div",{className:"ki-items-per-page",children:[f.jsx("label",{children:"Items per page:"}),f.jsxs("select",{value:a,onChange:d=>o(Number(d.target.value)),className:"items-select",children:[f.jsx("option",{value:50,children:"50"}),f.jsx("option",{value:100,children:"100"}),f.jsx("option",{value:200,children:"200"}),f.jsx("option",{value:500,children:"500"})]})]}),f.jsxs("div",{className:"ki-navigation",children:[f.jsx("button",{className:"nav-btn prev-btn",disabled:r===1,onClick:()=>i(d=>Math.max(1,d-1)),children:e("knowledge.previous")}),f.jsx("button",{className:"nav-btn next-btn",disabled:r===u,onClick:()=>i(d=>Math.min(u,d+1)),children:e("knowledge.next")})]}),f.jsxs("button",{className:"refresh-btn",children:[f.jsx("span",{className:"refresh-icon",children:""}),e("knowledge.refresh")]})]}),f.jsx("div",{className:"ki-table-container",children:f.jsxs("table",{className:"ki-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:e("knowledge.documentTitle")}),f.jsx("th",{children:e("knowledge.parentId")}),f.jsx("th",{children:e("knowledge.chunkId")}),f.jsx("th",{children:e("knowledge.url")}),f.jsx("th",{children:e("knowledge.sync")}),f.jsx("th",{children:e("knowledge.actions")})]})}),f.jsx("tbody",{children:c.map(d=>f.jsxs("tr",{children:[f.jsx("td",{className:"doc-title",children:d.title}),f.jsx("td",{className:"doc-parent-id",children:d.parentId}),f.jsx("td",{className:"doc-chunk-id",children:d.chunkId}),f.jsx("td",{children:f.jsx("a",{href:d.url,className:"url-link",children:""})}),f.jsx("td",{children:f.jsx("span",{className:`sync-status ${d.syncStatus}`,children:d.syncStatus==="synced"?"":""})}),f.jsx("td",{children:f.jsx("button",{className:"action-btn view-btn",title:e("knowledge.view"),children:""})})]},d.id))})]})})]})},Ile=()=>{const{t:e}=Ge(),[t,n]=x.useState(""),[r]=x.useState(new Date().toLocaleString()),a=[{id:"1",fileName:"2025 Payroll & Holiday S...",blobStatus:"synced",lastModified:"10/1/2025, 11:58:00 AM",indexStatus:"synced",chunks:3,syncStatus:"synced"},{id:"2",fileName:"333 & 777 Rewards Prog...",blobStatus:"synced",lastModified:"10/1/2025, 11:55:00 AM",indexStatus:"synced",chunks:5,syncStatus:"synced"},{id:"3",fileName:"Dental - Alltech 09492...",blobStatus:"synced",lastModified:"10/1/2025, 11:52:00 AM",indexStatus:"synced",chunks:2,syncStatus:"synced"},{id:"4",fileName:"Employee Handbook 20...",blobStatus:"synced",lastModified:"10/1/2025, 11:48:00 AM",indexStatus:"synced",chunks:8,syncStatus:"synced"},{id:"5",fileName:"For business trips and g...",blobStatus:"synced",lastModified:"10/1/2025, 11:45:00 AM",indexStatus:"synced",chunks:4,syncStatus:"synced"},{id:"6",fileName:"Green Card support qual...",blobStatus:"synced",lastModified:"10/1/2025, 11:42:00 AM",indexStatus:"synced",chunks:3,syncStatus:"synced"},{id:"7",fileName:"Health - 012025 RBS Te...",blobStatus:"synced",lastModified:"10/1/2025, 11:38:00 AM",indexStatus:"synced",chunks:6,syncStatus:"synced"},{id:"8",fileName:"HR MEMORANDUM2018...",blobStatus:"synced",lastModified:"10/1/2025, 11:35:00 AM",indexStatus:"synced",chunks:2,syncStatus:"synced"}].filter(l=>l.fileName.toLowerCase().includes(t.toLowerCase())),o=l=>{switch(l){case"synced":return"";case"pending":return"";case"error":return"";default:return""}},s=l=>{switch(l){case"synced":return e("knowledge.synced");case"pending":return e("knowledge.pending");case"error":return e("knowledge.error");default:return e("knowledge.unknown")}};return f.jsxs("div",{className:"sync-overview",children:[f.jsxs("div",{className:"so-header",children:[f.jsx("h2",{className:"so-title",children:e("knowledge.syncOverview")}),f.jsx("p",{className:"so-description",children:e("knowledge.syncOverviewDescription")})]}),f.jsxs("div",{className:"so-controls",children:[f.jsx("div",{className:"so-search",children:f.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:t,onChange:l=>n(l.target.value),className:"search-input"})}),f.jsxs("div",{className:"so-last-updated",children:["Last updated: ",r]}),f.jsxs("button",{className:"refresh-btn",children:[f.jsx("span",{className:"refresh-icon",children:""}),e("knowledge.refresh")]})]}),f.jsx("div",{className:"so-table-container",children:f.jsxs("table",{className:"so-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:e("knowledge.fileName")}),f.jsx("th",{children:e("knowledge.blobStatusLastModified")}),f.jsx("th",{children:e("knowledge.indexStatusChunks")}),f.jsx("th",{children:e("knowledge.syncStatus")}),f.jsx("th",{children:e("knowledge.actions")})]})}),f.jsx("tbody",{children:a.map(l=>f.jsxs("tr",{children:[f.jsx("td",{className:"file-name",children:l.fileName}),f.jsx("td",{children:f.jsxs("div",{className:"status-cell",children:[f.jsx("span",{className:`status-icon ${l.blobStatus}`,children:o(l.blobStatus)}),f.jsx("span",{className:"status-date",children:l.lastModified})]})}),f.jsx("td",{children:f.jsxs("div",{className:"status-cell",children:[f.jsx("span",{className:`status-icon ${l.indexStatus}`,children:o(l.indexStatus)}),f.jsxs("span",{className:"chunks-info",children:[l.chunks," chunks"]})]})}),f.jsx("td",{children:f.jsxs("div",{className:"status-cell",children:[f.jsx("span",{className:`status-icon ${l.syncStatus}`,children:o(l.syncStatus)}),f.jsx("span",{className:"status-text",children:s(l.syncStatus)})]})}),f.jsx("td",{children:f.jsxs("div",{className:"file-actions",children:[f.jsx("button",{className:"action-btn stop-btn",title:e("knowledge.stop"),children:""}),f.jsx("button",{className:"action-btn download-btn",title:e("knowledge.download"),children:""}),f.jsx("button",{className:"action-btn delete-btn",title:e("knowledge.delete"),children:""})]})})]},l.id))})]})})]})};const Dle=()=>{const{t:e}=Ge(),{theme:t}=Va(),[n,r]=x.useState("file-library"),i=[{id:"file-library",label:e("knowledge.fileLibrary")},{id:"knowledge-index",label:e("knowledge.knowledgeIndex")},{id:"sync-overview",label:e("knowledge.syncOverview")}],a=()=>{switch(n){case"file-library":return f.jsx(rC,{});case"knowledge-index":return f.jsx(Tle,{});case"sync-overview":return f.jsx(Ile,{});default:return f.jsx(rC,{})}};return f.jsxs("div",{className:"knowledge-management","data-theme":t,children:[f.jsx("div",{className:"km-header",children:f.jsxs("div",{className:"km-title-section",children:[f.jsx("h1",{className:"km-title",children:e("knowledge.title")}),f.jsx("p",{className:"km-subtitle",children:e("knowledge.subtitle")})]})}),f.jsx("div",{className:"km-tabs",children:i.map(o=>f.jsx("button",{className:`km-tab ${n===o.id?"active":""}`,onClick:()=>r(o.id),children:o.label},o.id))}),f.jsx("div",{className:"km-content",children:a()})]})},Rle="1X5lAcD0uJVtmbEdPjnP6XlesS3pzsmd_",Mle="608001025",iC=`https://docs.google.com/spreadsheets/d/${Rle}/export?format=csv&gid=${Mle}`;async function Lle(e="simple"){try{console.log(" Fetching from Google Sheets:",iC);const t=await fetch(iC,{cache:"no-store",mode:"cors"});if(console.log(" Response status:",t.status),!t.ok)throw new Error(`Sheets CSV fetch failed: ${t.status}`);const n=await t.text();console.log(" CSV data received, length:",n.length);const r=n.split(`
`).filter(s=>s.trim());if(r.length===0)return console.log(" No data in CSV, using dummy data"),qm();const i=r[0].split(",").map(s=>s.trim().replace(/"/g,""));console.log(" Headers found:",i);const a=[];for(let s=1;s<r.length;s++){const l=r[s].split(",").map(c=>c.trim().replace(/"/g,""));if(l.length>=i.length&&l[0]){const c={};i.forEach((d,h)=>{c[d]=l[h]||""});const u={Date:String(c.Date||c.date||"").slice(0,10),Toxicity:Number(c.Toxicity||0),"Prompt Injection":Number(c["Prompt Injection"]||c.PromptInjection||0),"Answer Correctness":Number(c["Answer Correctness"]||c.Correctness||0),"Answer Relevancy":Number(c["Answer Relevancy"]||c.Relevancy||0),Length:Number(c.Length||0),Tone:Number(c.Tone||0),isSimulated:!1};u.Date&&u.Date!=="0000-00-00"&&a.push(u)}}const o=a.sort((s,l)=>s.Date.localeCompare(l.Date));return o.length===0?(console.log(" No valid rows found, using dummy data"),qm()):(console.log(" Successfully loaded",o.length,"real rows from Google Sheets"),o.length<30?(console.log(` Adding estimated data with ${e} mode`),$le(o,e)):o)}catch(t){return console.error(" Failed to fetch Google Sheets data:",t),console.log(" Using dummy data instead"),qm()}}function $le(e,t){const n=[],r=new Date;r.setHours(0,0,0,0);let i=r;if(e.length>0){const s=new Date(e[e.length-1].Date);i=s<r?s:r}for(let s=29;s>=0;s--){const c=new Date(i.getTime()-s*24*60*60*1e3).toISOString().split("T")[0],u=e.find(d=>d.Date===c);if(u)n.push(u);else{const d=e[e.length-1]||Ble();let h;switch(t){case"simple":h=aC(d,c);break;case"improved":h=Fle(d,c,s);break;case"realistic":h=zle(d,c,s);break;default:h=aC(d,c)}n.push(h)}}const a=n.filter(s=>s.isSimulated).length,o=n.filter(s=>!s.isSimulated).length;return console.log(` Generated data (${t}): ${o} real + ${a} simulated = ${n.length} total`),n.sort((s,l)=>s.Date.localeCompare(l.Date))}function aC(e,t){const n=(Math.random()-.5)*.1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+n)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+n)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+n)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+n)),Length:Math.max(0,Math.min(1,e.Length+n)),Tone:Math.max(0,Math.min(1,e.Tone+n)),isSimulated:!0}}function Fle(e,t,n){const r=(Math.random()-.5)*.08,i=Math.sin(n/7*Math.PI)*.02,a=r+i;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+a*.5)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+a*.5)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+a)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+a)),Length:Math.max(0,Math.min(1,e.Length+a*1.2)),Tone:Math.max(0,Math.min(1,e.Tone+a*1.2)),isSimulated:!0}}function zle(e,t,n){const i=1-Math.abs(n-29)*.005,a=(Math.random()-.5)*.03,o=(Math.random()-.5)*.06,s=(Math.random()-.5)*.1,c=new Date(t).getDay(),u=c===0||c===6?.95:1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity*i*u+a)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]*i*u+a)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]*i*u+o)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]*i*u+o)),Length:Math.max(0,Math.min(1,e.Length*i+s)),Tone:Math.max(0,Math.min(1,e.Tone*i+s)),isSimulated:!0}}function Ble(){return{Date:"",Toxicity:.8,"Prompt Injection":.85,"Answer Correctness":.8,"Answer Relevancy":.85,Length:.7,Tone:.75,isSimulated:!1}}function qm(){console.log(" Generating dummy radar data...");const e=[],t=new Date;t.setHours(0,0,0,0);for(let n=30;n>=0;n--){const i=new Date(t.getTime()-n*24*60*60*1e3).toISOString().split("T")[0];e.push({Date:i,Toxicity:Math.random()*.3+.7,"Prompt Injection":Math.random()*.2+.8,"Answer Correctness":Math.random()*.2+.8,"Answer Relevancy":Math.random()*.15+.85,Length:Math.random()*.3+.7,Tone:Math.random()*.25+.75,isSimulated:!0})}return console.log(" Generated",e.length,"dummy rows"),e}function Ule(e,t){return t?e:e.filter(n=>!n.isSimulated)}function Bu(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function Wle(){const e=An(),[t]=M$(),n=qa(),{theme:r}=Va(),{t:i}=Ge(),[a,o]=x.useState(!1),[,s]=x.useState(""),[,l]=x.useState(""),[c,u]=x.useState([]),[d,h]=x.useState(""),[p,m]=x.useState(!0),[g,y]=x.useState("simple"),[v,b]=x.useState(null),[w,S]=x.useState(null),j=new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});x.useEffect(()=>{const L=new Date,$=new Date;$.setDate(L.getDate()-6),s(Bu($)),l(Bu(L)),k()},[]),x.useEffect(()=>{k()},[g]);const k=async()=>{try{console.log(" Loading Google Sheets data for Performance Timeline...");const L=await Lle(g);u(L),L.length>0&&h(L[L.length-1].Date),console.log(" Loaded",L.length,"days of performance data")}catch(L){console.error(" Failed to load radar data:",L)}},_=Ule(c,p),N=_.find(L=>L.Date===d)||_[_.length-1],E=N?{relevance:Math.round(N["Answer Relevancy"]*100),tone:Math.round(N.Tone*100),length:Math.round(N.Length*100),accuracy:Math.round(N["Answer Correctness"]*100),toxicity:Math.round(N.Toxicity*100),promptInjection:Math.round(N["Prompt Injection"]*100)}:{relevance:85,tone:78,length:82,accuracy:92,toxicity:95,promptInjection:88},C=Math.round((E.relevance+E.tone+E.length+E.accuracy+E.toxicity+E.promptInjection)/6);x.useEffect(()=>{const L=t.get("section");L&&setTimeout(()=>{R(L)},500)},[t]);const A=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("axpro_session"),sessionStorage.removeItem("axAccess"),e("/",{replace:!0})},T=()=>{o(!a)},R=L=>{const $=document.getElementById(L);$&&$.scrollIntoView({behavior:"smooth",block:"start"})},I=L=>{S(L),b(L);const $=document.getElementById("recent-conversations");$&&$.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{b(null)},3e3)};return f.jsx("div",{className:"admin-layout","data-theme":r,children:f.jsxs("div",{className:"dashboard-layout",children:[f.jsx(Roe,{performanceScore:C,performanceDate:Bu(new Date),currentTime:j,onSignOut:A}),f.jsxs("div",{className:"dashboard-content",children:[f.jsx(Moe,{conversations:156,satisfaction:94.5,documents:156,performanceScore:C,performanceDate:Bu(new Date),isCollapsed:a,onToggleCollapse:T,onScrollToSection:R}),f.jsx("main",{className:"dashboard-main",children:n.pathname==="/admin/knowledge-management"?f.jsx(Dle,{}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"dashboard-grid",children:f.jsx("div",{className:"grid-left",children:f.jsx("div",{id:"performance-radar",children:f.jsx($oe,{...E,timelineData:_,selectedDate:d,onDateChange:h,includeSimulatedData:p,onIncludeSimulatedDataChange:m,estimationMode:g,onEstimationModeChange:y})})})}),f.jsxs("div",{className:"content-module",children:[f.jsx("div",{id:"daily-message-activity",className:"content-section",children:f.jsx(zoe,{})}),f.jsxs("div",{id:"recent-conversations",className:"content-section",children:[f.jsx("h2",{className:"section-title",children:i("admin.recentConversations")}),f.jsx(Koe,{scrollToChatId:w,highlightedChatId:v,onScrollComplete:()=>S(null)})]}),f.jsxs("div",{id:"admin-feedback",className:"content-section",children:[f.jsx("h2",{className:"section-title",children:"Admin Feedback"}),f.jsx(qoe,{})]}),f.jsxs("div",{id:"user-feedback",className:"content-section",children:[f.jsx("h2",{className:"section-title",children:i("admin.userFeedback")}),f.jsx(Hoe,{onScrollToChat:I})]}),f.jsxs("div",{id:"prompt-control",className:"content-section",children:[f.jsx("h2",{className:"section-title",children:i("admin.promptControl")}),f.jsx(Woe,{})]})]})]})})]})]})})}const $r=({children:e,requiredRole:t})=>DP(t)?f.jsx(f.Fragment,{children:e}):f.jsx(TP,{to:"/",replace:!0}),Kle=()=>f.jsx(L$,{children:f.jsx(F$,{children:f.jsx(R$,{children:f.jsx("div",{className:"App",children:f.jsxs(N$,{children:[f.jsx(Mn,{path:"/",element:f.jsx(W$,{})}),f.jsx(Mn,{path:"/chat",element:f.jsx($r,{requiredRole:"user",children:f.jsx(Dk,{})})}),f.jsx(Mn,{path:"/chat/:sessionId",element:f.jsx($r,{requiredRole:"user",children:f.jsx(Dk,{})})}),f.jsx(Mn,{path:"/dashboard",element:f.jsx($r,{requiredRole:"admin",children:f.jsx(D9,{})})}),f.jsx(Mn,{path:"/settings",element:f.jsx($r,{requiredRole:"user",children:f.jsx(R9,{})})}),f.jsx(Mn,{path:"/admin/dashboard",element:f.jsx($r,{requiredRole:"admin",children:f.jsx(Wle,{})})}),f.jsx(Mn,{path:"/admin",element:f.jsx($r,{requiredRole:"admin",children:f.jsx(Fu,{})})}),f.jsx(Mn,{path:"/admin/usage",element:f.jsx($r,{requiredRole:"admin",children:f.jsx(Fu,{})})}),f.jsx(Mn,{path:"/admin/prompt",element:f.jsx($r,{requiredRole:"admin",children:f.jsx(Fu,{})})}),f.jsx(Mn,{path:"/admin/knowledge",element:f.jsx($r,{requiredRole:"admin",children:f.jsx(Fu,{})})}),f.jsx(Mn,{path:"*",element:f.jsx(TP,{to:"/",replace:!0})})]})})})})});Vm.createRoot(document.getElementById("root")).render(f.jsx(Fi.StrictMode,{children:f.jsx(Kle,{})}));
