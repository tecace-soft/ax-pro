var $R=Object.defineProperty;var FR=(e,t,n)=>t in e?$R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ru=(e,t,n)=>(FR(e,typeof t!="symbol"?t+"":t,n),n);function zR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function UR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var S2={exports:{}},Vf={},j2={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),BR=Symbol.for("react.portal"),WR=Symbol.for("react.fragment"),VR=Symbol.for("react.strict_mode"),KR=Symbol.for("react.profiler"),HR=Symbol.for("react.provider"),qR=Symbol.for("react.context"),YR=Symbol.for("react.forward_ref"),JR=Symbol.for("react.suspense"),GR=Symbol.for("react.memo"),XR=Symbol.for("react.lazy"),pw=Symbol.iterator;function QR(e){return e===null||typeof e!="object"?null:(e=pw&&e[pw]||e["@@iterator"],typeof e=="function"?e:null)}var _2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C2=Object.assign,E2={};function xo(e,t,n){this.props=e,this.context=t,this.refs=E2,this.updater=n||_2}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N2(){}N2.prototype=xo.prototype;function Py(e,t,n){this.props=e,this.context=t,this.refs=E2,this.updater=n||_2}var Ty=Py.prototype=new N2;Ty.constructor=Py;C2(Ty,xo.prototype);Ty.isPureReactComponent=!0;var mw=Array.isArray,O2=Object.prototype.hasOwnProperty,Iy={current:null},A2={key:!0,ref:!0,__self:!0,__source:!0};function P2(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)O2.call(t,r)&&!A2.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yc,type:e,key:a,ref:s,props:i,_owner:Iy.current}}function ZR(e,t){return{$$typeof:yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dy(e){return typeof e=="object"&&e!==null&&e.$$typeof===yc}function e4(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gw=/\/+/g;function Ep(e,t){return typeof e=="object"&&e!==null&&e.key!=null?e4(""+e.key):t.toString(36)}function qu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case yc:case BR:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ep(s,0):r,mw(i)?(n="",e!=null&&(n=e.replace(gw,"$&/")+"/"),qu(i,t,n,"",function(u){return u})):i!=null&&(Dy(i)&&(i=ZR(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(gw,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",mw(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Ep(a,l);s+=qu(a,t,n,c,i)}else if(c=QR(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Ep(a,l++),s+=qu(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function iu(e,t,n){if(e==null)return e;var r=[],i=0;return qu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function t4(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tn={current:null},Yu={transition:null},n4={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:Iy};function T2(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:iu,forEach:function(e,t,n){iu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return iu(e,function(){t++}),t},toArray:function(e){return iu(e,function(t){return t})||[]},only:function(e){if(!Dy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=xo;_e.Fragment=WR;_e.Profiler=KR;_e.PureComponent=Py;_e.StrictMode=VR;_e.Suspense=JR;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n4;_e.act=T2;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=C2({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Iy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)O2.call(t,c)&&!A2.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:yc,type:e.type,key:i,ref:a,props:r,_owner:s}};_e.createContext=function(e){return e={$$typeof:qR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HR,_context:e},e.Consumer=e};_e.createElement=P2;_e.createFactory=function(e){var t=P2.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:YR,render:e}};_e.isValidElement=Dy;_e.lazy=function(e){return{$$typeof:XR,_payload:{_status:-1,_result:e},_init:t4}};_e.memo=function(e,t){return{$$typeof:GR,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=Yu.transition;Yu.transition={};try{e()}finally{Yu.transition=t}};_e.unstable_act=T2;_e.useCallback=function(e,t){return tn.current.useCallback(e,t)};_e.useContext=function(e){return tn.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return tn.current.useDeferredValue(e)};_e.useEffect=function(e,t){return tn.current.useEffect(e,t)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(e,t,n){return tn.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return tn.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return tn.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return tn.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return tn.current.useReducer(e,t,n)};_e.useRef=function(e){return tn.current.useRef(e)};_e.useState=function(e){return tn.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return tn.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";j2.exports=_e;var v=j2.exports;const ui=$n(v),I2=zR({__proto__:null,default:ui},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4=v,i4=Symbol.for("react.element"),a4=Symbol.for("react.fragment"),s4=Object.prototype.hasOwnProperty,o4=r4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l4={key:!0,ref:!0,__self:!0,__source:!0};function D2(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)s4.call(t,r)&&!l4.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:i4,type:e,key:a,ref:s,props:i,_owner:o4.current}}Vf.Fragment=a4;Vf.jsx=D2;Vf.jsxs=D2;S2.exports=Vf;var o=S2.exports,cg={},R2={exports:{}},Fn={},M2={exports:{}},L2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,D){var j=N.length;N.push(D);e:for(;0<j;){var z=j-1>>>1,W=N[z];if(0<i(W,D))N[z]=D,N[j]=W,j=z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var D=N[0],j=N.pop();if(j!==D){N[0]=j;e:for(var z=0,W=N.length,A=W>>>1;z<A;){var re=2*(z+1)-1,B=N[re],ee=re+1,Y=N[ee];if(0>i(B,j))ee<W&&0>i(Y,B)?(N[z]=Y,N[ee]=j,z=ee):(N[z]=B,N[re]=j,z=re);else if(ee<W&&0>i(Y,j))N[z]=Y,N[ee]=j,z=ee;else break e}}return D}function i(N,D){var j=N.sortIndex-D.sortIndex;return j!==0?j:N.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=N)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function S(N){if(g=!1,w(N),!m)if(n(c)!==null)m=!0,L(_);else{var D=n(u);D!==null&&G(S,D.startTime-N)}}function _(N,D){m=!1,g&&(g=!1,x(I),I=-1),p=!0;var j=h;try{for(w(D),f=n(c);f!==null&&(!(f.expirationTime>D)||N&&!P());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var W=z(f.expirationTime<=D);D=e.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),w(D)}else r(c);f=n(c)}if(f!==null)var A=!0;else{var re=n(u);re!==null&&G(S,re.startTime-D),A=!1}return A}finally{f=null,h=j,p=!1}}var k=!1,E=null,I=-1,O=5,C=-1;function P(){return!(e.unstable_now()-C<O)}function R(){if(E!==null){var N=e.unstable_now();C=N;var D=!0;try{D=E(!0,N)}finally{D?F():(k=!1,E=null)}}else k=!1}var F;if(typeof b=="function")F=function(){b(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,J=V.port2;V.port1.onmessage=R,F=function(){J.postMessage(null)}}else F=function(){y(R,0)};function L(N){E=N,k||(k=!0,F())}function G(N,D){I=y(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,L(_))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var j=h;h=D;try{return N()}finally{h=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=h;h=N;try{return D()}finally{h=j}},e.unstable_scheduleCallback=function(N,D,j){var z=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?z+j:z):j=z,N){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=j+W,N={id:d++,callback:D,priorityLevel:N,startTime:j,expirationTime:W,sortIndex:-1},j>z?(N.sortIndex=j,t(u,N),n(c)===null&&N===n(u)&&(g?(x(I),I=-1):g=!0,G(S,j-z))):(N.sortIndex=W,t(c,N),m||p||(m=!0,L(_))),N},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(N){var D=h;return function(){var j=h;h=D;try{return N.apply(this,arguments)}finally{h=j}}}})(L2);M2.exports=L2;var c4=M2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4=v,Dn=c4;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $2=new Set,Ll={};function ns(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Ll[e]=t,e=0;e<t.length;e++)$2.add(t[e])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,d4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vw={},yw={};function f4(e){return ug.call(yw,e)?!0:ug.call(vw,e)?!1:d4.test(e)?yw[e]=!0:(vw[e]=!0,!1)}function h4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function p4(e,t,n,r){if(t===null||typeof t>"u"||h4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nn(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ry=/[\-:]([a-z])/g;function My(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ry,My);Lt[t]=new nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ry,My);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ry,My);Lt[t]=new nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ly(e,t,n,r){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(p4(t,n,i,r)&&(n=null),r||i===null?f4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bi=u4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),js=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),z2=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),fg=Symbol.for("react.suspense"),hg=Symbol.for("react.suspense_list"),zy=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),U2=Symbol.for("react.offscreen"),xw=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=xw&&e[xw]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Object.assign,Np;function dl(e){if(Np===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Np=t&&t[1]||""}return`
`+Np+e}var Op=!1;function Ap(e,t){if(!e||Op)return"";Op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Op=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dl(e):""}function m4(e){switch(e.tag){case 5:return dl(e.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return e=Ap(e.type,!1),e;case 11:return e=Ap(e.type.render,!1),e;case 1:return e=Ap(e.type,!0),e;default:return""}}function pg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case js:return"Portal";case dg:return"Profiler";case $y:return"StrictMode";case fg:return"Suspense";case hg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z2:return(e.displayName||"Context")+".Consumer";case F2:return(e._context.displayName||"Context")+".Provider";case Fy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case zy:return t=e.displayName||null,t!==null?t:pg(e.type)||"Memo";case Ti:t=e._payload,e=e._init;try{return pg(e(t))}catch{}}return null}function g4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(t);case 8:return t===$y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function B2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function v4(e){var t=B2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function su(e){e._valueTracker||(e._valueTracker=v4(e))}function W2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=B2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mg(e,t){var n=t.checked;return nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function V2(e,t){t=t.checked,t!=null&&Ly(e,"checked",t,!1)}function gg(e,t){V2(e,t);var n=Zi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vg(e,t.type,n):t.hasOwnProperty("defaultValue")&&vg(e,t.type,Zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ww(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vg(e,t,n){(t!=="number"||vd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fl=Array.isArray;function $s(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(fl(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zi(n)}}function K2(e,t){var n=Zi(t.value),r=Zi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,q2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y4=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(e){y4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yl[t]=yl[e]})});function Y2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yl.hasOwnProperty(e)&&yl[e]?(""+t).trim():t+"px"}function J2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Y2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var x4=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bg(e,t){if(t){if(x4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function wg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=null;function Uy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sg=null,Fs=null,zs=null;function jw(e){if(e=wc(e)){if(typeof Sg!="function")throw Error(te(280));var t=e.stateNode;t&&(t=Jf(t),Sg(e.stateNode,e.type,t))}}function G2(e){Fs?zs?zs.push(e):zs=[e]:Fs=e}function X2(){if(Fs){var e=Fs,t=zs;if(zs=Fs=null,jw(e),t)for(e=0;e<t.length;e++)jw(t[e])}}function Q2(e,t){return e(t)}function Z2(){}var Pp=!1;function eC(e,t,n){if(Pp)return e(t,n);Pp=!0;try{return Q2(e,t,n)}finally{Pp=!1,(Fs!==null||zs!==null)&&(Z2(),X2())}}function Fl(e,t){var n=e.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var jg=!1;if(di)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){jg=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{jg=!1}function b4(e,t,n,r,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xl=!1,yd=null,xd=!1,_g=null,w4={onError:function(e){xl=!0,yd=e}};function k4(e,t,n,r,i,a,s,l,c){xl=!1,yd=null,b4.apply(w4,arguments)}function S4(e,t,n,r,i,a,s,l,c){if(k4.apply(this,arguments),xl){if(xl){var u=yd;xl=!1,yd=null}else throw Error(te(198));xd||(xd=!0,_g=u)}}function rs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _w(e){if(rs(e)!==e)throw Error(te(188))}function j4(e){var t=e.alternate;if(!t){if(t=rs(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return _w(i),e;if(a===r)return _w(i),t;a=a.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function nC(e){return e=j4(e),e!==null?rC(e):null}function rC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rC(e);if(t!==null)return t;e=e.sibling}return null}var iC=Dn.unstable_scheduleCallback,Cw=Dn.unstable_cancelCallback,_4=Dn.unstable_shouldYield,C4=Dn.unstable_requestPaint,st=Dn.unstable_now,E4=Dn.unstable_getCurrentPriorityLevel,By=Dn.unstable_ImmediatePriority,aC=Dn.unstable_UserBlockingPriority,bd=Dn.unstable_NormalPriority,N4=Dn.unstable_LowPriority,sC=Dn.unstable_IdlePriority,Kf=null,Wr=null;function O4(e){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Kf,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:T4,A4=Math.log,P4=Math.LN2;function T4(e){return e>>>=0,e===0?32:31-(A4(e)/P4|0)|0}var lu=64,cu=4194304;function hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=hl(l):(a&=s,a!==0&&(r=hl(a)))}else s=n&~i,s!==0?r=hl(s):a!==0&&(r=hl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wr(t),i=1<<n,r|=e[n],t&=~i;return r}function I4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-wr(a),l=1<<s,c=i[s];c===-1?(!(l&n)||l&r)&&(i[s]=I4(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Cg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oC(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function Tp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=n}function R4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Wy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Re=0;function lC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cC,Vy,uC,dC,fC,Eg=!1,uu=[],Wi=null,Vi=null,Ki=null,zl=new Map,Ul=new Map,Mi=[],M4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ew(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Ko(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=wc(t),t!==null&&Vy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function L4(e,t,n,r,i){switch(t){case"focusin":return Wi=Ko(Wi,e,t,n,r,i),!0;case"dragenter":return Vi=Ko(Vi,e,t,n,r,i),!0;case"mouseover":return Ki=Ko(Ki,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return zl.set(a,Ko(zl.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ul.set(a,Ko(Ul.get(a)||null,e,t,n,r,i)),!0}return!1}function hC(e){var t=Ca(e.target);if(t!==null){var n=rs(t);if(n!==null){if(t=n.tag,t===13){if(t=tC(n),t!==null){e.blockedOn=t,fC(e.priority,function(){uC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ng(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kg=r,n.target.dispatchEvent(r),kg=null}else return t=wc(n),t!==null&&Vy(t),e.blockedOn=n,!1;t.shift()}return!0}function Nw(e,t,n){Ju(e)&&n.delete(t)}function $4(){Eg=!1,Wi!==null&&Ju(Wi)&&(Wi=null),Vi!==null&&Ju(Vi)&&(Vi=null),Ki!==null&&Ju(Ki)&&(Ki=null),zl.forEach(Nw),Ul.forEach(Nw)}function Ho(e,t){e.blockedOn===t&&(e.blockedOn=null,Eg||(Eg=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,$4)))}function Bl(e){function t(i){return Ho(i,e)}if(0<uu.length){Ho(uu[0],e);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wi!==null&&Ho(Wi,e),Vi!==null&&Ho(Vi,e),Ki!==null&&Ho(Ki,e),zl.forEach(t),Ul.forEach(t),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)hC(n),n.blockedOn===null&&Mi.shift()}var Us=bi.ReactCurrentBatchConfig,kd=!0;function F4(e,t,n,r){var i=Re,a=Us.transition;Us.transition=null;try{Re=1,Ky(e,t,n,r)}finally{Re=i,Us.transition=a}}function z4(e,t,n,r){var i=Re,a=Us.transition;Us.transition=null;try{Re=4,Ky(e,t,n,r)}finally{Re=i,Us.transition=a}}function Ky(e,t,n,r){if(kd){var i=Ng(e,t,n,r);if(i===null)Bp(e,t,r,Sd,n),Ew(e,r);else if(L4(i,e,t,n,r))r.stopPropagation();else if(Ew(e,r),t&4&&-1<M4.indexOf(e)){for(;i!==null;){var a=wc(i);if(a!==null&&cC(a),a=Ng(e,t,n,r),a===null&&Bp(e,t,r,Sd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Bp(e,t,r,null,n)}}var Sd=null;function Ng(e,t,n,r){if(Sd=null,e=Uy(r),e=Ca(e),e!==null)if(t=rs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sd=e,null}function pC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E4()){case By:return 1;case aC:return 4;case bd:case N4:return 16;case sC:return 536870912;default:return 16}default:return 16}}var zi=null,Hy=null,Gu=null;function mC(){if(Gu)return Gu;var e,t=Hy,n=t.length,r,i="value"in zi?zi.value:zi.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return Gu=i.slice(e,1<r?1-r:void 0)}function Xu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function du(){return!0}function Ow(){return!1}function zn(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?du:Ow,this.isPropagationStopped=Ow,this}return nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),t}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qy=zn(bo),bc=nt({},bo,{view:0,detail:0}),U4=zn(bc),Ip,Dp,qo,Hf=nt({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(Ip=e.screenX-qo.screenX,Dp=e.screenY-qo.screenY):Dp=Ip=0,qo=e),Ip)},movementY:function(e){return"movementY"in e?e.movementY:Dp}}),Aw=zn(Hf),B4=nt({},Hf,{dataTransfer:0}),W4=zn(B4),V4=nt({},bc,{relatedTarget:0}),Rp=zn(V4),K4=nt({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),H4=zn(K4),q4=nt({},bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y4=zn(q4),J4=nt({},bo,{data:0}),Pw=zn(J4),G4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Q4[e])?!!t[e]:!1}function Yy(){return Z4}var eM=nt({},bc,{key:function(e){if(e.key){var t=G4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yy,charCode:function(e){return e.type==="keypress"?Xu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tM=zn(eM),nM=nt({},Hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tw=zn(nM),rM=nt({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yy}),iM=zn(rM),aM=nt({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sM=zn(aM),oM=nt({},Hf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lM=zn(oM),cM=[9,13,27,32],Jy=di&&"CompositionEvent"in window,bl=null;di&&"documentMode"in document&&(bl=document.documentMode);var uM=di&&"TextEvent"in window&&!bl,gC=di&&(!Jy||bl&&8<bl&&11>=bl),Iw=String.fromCharCode(32),Dw=!1;function vC(e,t){switch(e){case"keyup":return cM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cs=!1;function dM(e,t){switch(e){case"compositionend":return yC(t);case"keypress":return t.which!==32?null:(Dw=!0,Iw);case"textInput":return e=t.data,e===Iw&&Dw?null:e;default:return null}}function fM(e,t){if(Cs)return e==="compositionend"||!Jy&&vC(e,t)?(e=mC(),Gu=Hy=zi=null,Cs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gC&&t.locale!=="ko"?null:t.data;default:return null}}var hM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hM[e.type]:t==="textarea"}function xC(e,t,n,r){G2(r),t=jd(t,"onChange"),0<t.length&&(n=new qy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wl=null,Wl=null;function pM(e){AC(e,0)}function qf(e){var t=Os(e);if(W2(t))return e}function mM(e,t){if(e==="change")return t}var bC=!1;if(di){var Mp;if(di){var Lp="oninput"in document;if(!Lp){var Mw=document.createElement("div");Mw.setAttribute("oninput","return;"),Lp=typeof Mw.oninput=="function"}Mp=Lp}else Mp=!1;bC=Mp&&(!document.documentMode||9<document.documentMode)}function Lw(){wl&&(wl.detachEvent("onpropertychange",wC),Wl=wl=null)}function wC(e){if(e.propertyName==="value"&&qf(Wl)){var t=[];xC(t,Wl,e,Uy(e)),eC(pM,t)}}function gM(e,t,n){e==="focusin"?(Lw(),wl=t,Wl=n,wl.attachEvent("onpropertychange",wC)):e==="focusout"&&Lw()}function vM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qf(Wl)}function yM(e,t){if(e==="click")return qf(t)}function xM(e,t){if(e==="input"||e==="change")return qf(t)}function bM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:bM;function Vl(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ug.call(t,i)||!_r(e[i],t[i]))return!1}return!0}function $w(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fw(e,t){var n=$w(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$w(n)}}function kC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SC(){for(var e=window,t=vd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vd(e.document)}return t}function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wM(e){var t=SC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kC(n.ownerDocument.documentElement,n)){if(r!==null&&Gy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Fw(n,a);var s=Fw(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kM=di&&"documentMode"in document&&11>=document.documentMode,Es=null,Og=null,kl=null,Ag=!1;function zw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ag||Es==null||Es!==vd(r)||(r=Es,"selectionStart"in r&&Gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Vl(kl,r)||(kl=r,r=jd(Og,"onSelect"),0<r.length&&(t=new qy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Es)))}function fu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ns={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},$p={},jC={};di&&(jC=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Yf(e){if($p[e])return $p[e];if(!Ns[e])return e;var t=Ns[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jC)return $p[e]=t[n];return e}var _C=Yf("animationend"),CC=Yf("animationiteration"),EC=Yf("animationstart"),NC=Yf("transitionend"),OC=new Map,Uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(e,t){OC.set(e,t),ns(t,[e])}for(var Fp=0;Fp<Uw.length;Fp++){var zp=Uw[Fp],SM=zp.toLowerCase(),jM=zp[0].toUpperCase()+zp.slice(1);na(SM,"on"+jM)}na(_C,"onAnimationEnd");na(CC,"onAnimationIteration");na(EC,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(NC,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_M=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Bw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,S4(r,t,void 0,e),e.currentTarget=null}function AC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;Bw(i,l,u),a=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;Bw(i,l,u),a=c}}}if(xd)throw e=_g,xd=!1,_g=null,e}function He(e,t){var n=t[Rg];n===void 0&&(n=t[Rg]=new Set);var r=e+"__bubble";n.has(r)||(PC(t,e,2,!1),n.add(r))}function Up(e,t,n){var r=0;t&&(r|=4),PC(n,e,r,t)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[hu]){e[hu]=!0,$2.forEach(function(n){n!=="selectionchange"&&(_M.has(n)||Up(n,!1,e),Up(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hu]||(t[hu]=!0,Up("selectionchange",!1,t))}}function PC(e,t,n,r){switch(pC(t)){case 1:var i=F4;break;case 4:i=z4;break;default:i=Ky}n=i.bind(null,t,n,e),i=void 0,!jg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Bp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Ca(l),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}l=l.parentNode}}r=r.return}eC(function(){var u=a,d=Uy(n),f=[];e:{var h=OC.get(e);if(h!==void 0){var p=qy,m=e;switch(e){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":p=tM;break;case"focusin":m="focus",p=Rp;break;case"focusout":m="blur",p=Rp;break;case"beforeblur":case"afterblur":p=Rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=W4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iM;break;case _C:case CC:case EC:p=H4;break;case NC:p=sM;break;case"scroll":p=U4;break;case"wheel":p=lM;break;case"copy":case"cut":case"paste":p=Y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tw}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?h!==null?h+"Capture":null:h;g=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,x!==null&&(S=Fl(b,x),S!=null&&g.push(Hl(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==kg&&(m=n.relatedTarget||n.fromElement)&&(Ca(m)||m[fi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ca(m):null,m!==null&&(y=rs(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=Aw,S="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Tw,S="onPointerLeave",x="onPointerEnter",b="pointer"),y=p==null?h:Os(p),w=m==null?h:Os(m),h=new g(S,b+"leave",p,n,d),h.target=y,h.relatedTarget=w,S=null,Ca(d)===u&&(g=new g(x,b+"enter",m,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,x=m,b=0,w=g;w;w=fs(w))b++;for(w=0,S=x;S;S=fs(S))w++;for(;0<b-w;)g=fs(g),b--;for(;0<w-b;)x=fs(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=fs(g),x=fs(x)}g=null}else g=null;p!==null&&Ww(f,h,p,g,!1),m!==null&&y!==null&&Ww(f,y,m,g,!0)}}e:{if(h=u?Os(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=mM;else if(Rw(h))if(bC)_=xM;else{_=vM;var k=gM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=yM);if(_&&(_=_(e,u))){xC(f,_,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&vg(h,"number",h.value)}switch(k=u?Os(u):window,e){case"focusin":(Rw(k)||k.contentEditable==="true")&&(Es=k,Og=u,kl=null);break;case"focusout":kl=Og=Es=null;break;case"mousedown":Ag=!0;break;case"contextmenu":case"mouseup":case"dragend":Ag=!1,zw(f,n,d);break;case"selectionchange":if(kM)break;case"keydown":case"keyup":zw(f,n,d)}var E;if(Jy)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Cs?vC(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(gC&&n.locale!=="ko"&&(Cs||I!=="onCompositionStart"?I==="onCompositionEnd"&&Cs&&(E=mC()):(zi=d,Hy="value"in zi?zi.value:zi.textContent,Cs=!0)),k=jd(u,I),0<k.length&&(I=new Pw(I,e,null,n,d),f.push({event:I,listeners:k}),E?I.data=E:(E=yC(n),E!==null&&(I.data=E)))),(E=uM?dM(e,n):fM(e,n))&&(u=jd(u,"onBeforeInput"),0<u.length&&(d=new Pw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}AC(f,t)})}function Hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fl(e,n),a!=null&&r.unshift(Hl(e,a,i)),a=Fl(e,t),a!=null&&r.push(Hl(e,a,i))),e=e.return}return r}function fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ww(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Fl(n,a),c!=null&&s.unshift(Hl(n,c,l))):i||(c=Fl(n,a),c!=null&&s.push(Hl(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var CM=/\r\n?/g,EM=/\u0000|\uFFFD/g;function Vw(e){return(typeof e=="string"?e:""+e).replace(CM,`
`).replace(EM,"")}function pu(e,t,n){if(t=Vw(t),Vw(e)!==t&&n)throw Error(te(425))}function _d(){}var Pg=null,Tg=null;function Ig(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,NM=typeof clearTimeout=="function"?clearTimeout:void 0,Kw=typeof Promise=="function"?Promise:void 0,OM=typeof queueMicrotask=="function"?queueMicrotask:typeof Kw<"u"?function(e){return Kw.resolve(null).then(e).catch(AM)}:Dg;function AM(e){setTimeout(function(){throw e})}function Wp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Bl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bl(t)}function Hi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Lr="__reactFiber$"+wo,ql="__reactProps$"+wo,fi="__reactContainer$"+wo,Rg="__reactEvents$"+wo,PM="__reactListeners$"+wo,TM="__reactHandles$"+wo;function Ca(e){var t=e[Lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[Lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hw(e);e!==null;){if(n=e[Lr])return n;e=Hw(e)}return t}e=n,n=e.parentNode}return null}function wc(e){return e=e[Lr]||e[fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function Jf(e){return e[ql]||null}var Mg=[],As=-1;function ra(e){return{current:e}}function Ye(e){0>As||(e.current=Mg[As],Mg[As]=null,As--)}function Ke(e,t){As++,Mg[As]=e.current,e.current=t}var ea={},Ht=ra(ea),pn=ra(!1),Ba=ea;function Js(e,t){var n=e.type.contextTypes;if(!n)return ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mn(e){return e=e.childContextTypes,e!=null}function Cd(){Ye(pn),Ye(Ht)}function qw(e,t,n){if(Ht.current!==ea)throw Error(te(168));Ke(Ht,t),Ke(pn,n)}function TC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(te(108,g4(e)||"Unknown",i));return nt({},n,r)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ea,Ba=Ht.current,Ke(Ht,e),Ke(pn,pn.current),!0}function Yw(e,t,n){var r=e.stateNode;if(!r)throw Error(te(169));n?(e=TC(e,t,Ba),r.__reactInternalMemoizedMergedChildContext=e,Ye(pn),Ye(Ht),Ke(Ht,e)):Ye(pn),Ke(pn,n)}var Zr=null,Gf=!1,Vp=!1;function IC(e){Zr===null?Zr=[e]:Zr.push(e)}function IM(e){Gf=!0,IC(e)}function ia(){if(!Vp&&Zr!==null){Vp=!0;var e=0,t=Re;try{var n=Zr;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zr=null,Gf=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(e+1)),iC(By,ia),i}finally{Re=t,Vp=!1}}return null}var Ps=[],Ts=0,Nd=null,Od=0,Gn=[],Xn=0,Wa=null,ti=1,ni="";function va(e,t){Ps[Ts++]=Od,Ps[Ts++]=Nd,Nd=e,Od=t}function DC(e,t,n){Gn[Xn++]=ti,Gn[Xn++]=ni,Gn[Xn++]=Wa,Wa=e;var r=ti;e=ni;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var a=32-wr(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ti=1<<32-wr(t)+i|n<<i|r,ni=a+e}else ti=1<<a|n<<i|r,ni=e}function Xy(e){e.return!==null&&(va(e,1),DC(e,1,0))}function Qy(e){for(;e===Nd;)Nd=Ps[--Ts],Ps[Ts]=null,Od=Ps[--Ts],Ps[Ts]=null;for(;e===Wa;)Wa=Gn[--Xn],Gn[Xn]=null,ni=Gn[--Xn],Gn[Xn]=null,ti=Gn[--Xn],Gn[Xn]=null}var Pn=null,An=null,Xe=!1,vr=null;function RC(e,t){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,An=Hi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wa!==null?{id:ti,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pn=e,An=null,!0):!1;default:return!1}}function Lg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $g(e){if(Xe){var t=An;if(t){var n=t;if(!Jw(e,t)){if(Lg(e))throw Error(te(418));t=Hi(n.nextSibling);var r=Pn;t&&Jw(e,t)?RC(r,n):(e.flags=e.flags&-4097|2,Xe=!1,Pn=e)}}else{if(Lg(e))throw Error(te(418));e.flags=e.flags&-4097|2,Xe=!1,Pn=e}}}function Gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function mu(e){if(e!==Pn)return!1;if(!Xe)return Gw(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ig(e.type,e.memoizedProps)),t&&(t=An)){if(Lg(e))throw MC(),Error(te(418));for(;t;)RC(e,t),t=Hi(t.nextSibling)}if(Gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){An=Hi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}An=null}}else An=Pn?Hi(e.stateNode.nextSibling):null;return!0}function MC(){for(var e=An;e;)e=Hi(e.nextSibling)}function Gs(){An=Pn=null,Xe=!1}function Zy(e){vr===null?vr=[e]:vr.push(e)}var DM=bi.ReactCurrentBatchConfig;function Yo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xw(e){var t=e._init;return t(e._payload)}function LC(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Gi(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,b,w,S){return b===null||b.tag!==6?(b=Xp(w,x.mode,S),b.return=x,b):(b=i(b,w),b.return=x,b)}function c(x,b,w,S){var _=w.type;return _===_s?d(x,b,w.props.children,S,w.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ti&&Xw(_)===b.type)?(S=i(b,w.props),S.ref=Yo(x,b,w),S.return=x,S):(S=id(w.type,w.key,w.props,null,x.mode,S),S.ref=Yo(x,b,w),S.return=x,S)}function u(x,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Qp(w,x.mode,S),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,S,_){return b===null||b.tag!==7?(b=Ma(w,x.mode,S,_),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Xp(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return w=id(b.type,b.key,b.props,null,x.mode,w),w.ref=Yo(x,null,b),w.return=x,w;case js:return b=Qp(b,x.mode,w),b.return=x,b;case Ti:var S=b._init;return f(x,S(b._payload),w)}if(fl(b)||Wo(b))return b=Ma(b,x.mode,w,null),b.return=x,b;gu(x,b)}return null}function h(x,b,w,S){var _=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:l(x,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return w.key===_?c(x,b,w,S):null;case js:return w.key===_?u(x,b,w,S):null;case Ti:return _=w._init,h(x,b,_(w._payload),S)}if(fl(w)||Wo(w))return _!==null?null:d(x,b,w,S,null);gu(x,w)}return null}function p(x,b,w,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(w)||null,l(b,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case au:return x=x.get(S.key===null?w:S.key)||null,c(b,x,S,_);case js:return x=x.get(S.key===null?w:S.key)||null,u(b,x,S,_);case Ti:var k=S._init;return p(x,b,w,k(S._payload),_)}if(fl(S)||Wo(S))return x=x.get(w)||null,d(b,x,S,_,null);gu(b,S)}return null}function m(x,b,w,S){for(var _=null,k=null,E=b,I=b=0,O=null;E!==null&&I<w.length;I++){E.index>I?(O=E,E=null):O=E.sibling;var C=h(x,E,w[I],S);if(C===null){E===null&&(E=O);break}e&&E&&C.alternate===null&&t(x,E),b=a(C,b,I),k===null?_=C:k.sibling=C,k=C,E=O}if(I===w.length)return n(x,E),Xe&&va(x,I),_;if(E===null){for(;I<w.length;I++)E=f(x,w[I],S),E!==null&&(b=a(E,b,I),k===null?_=E:k.sibling=E,k=E);return Xe&&va(x,I),_}for(E=r(x,E);I<w.length;I++)O=p(E,x,I,w[I],S),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?I:O.key),b=a(O,b,I),k===null?_=O:k.sibling=O,k=O);return e&&E.forEach(function(P){return t(x,P)}),Xe&&va(x,I),_}function g(x,b,w,S){var _=Wo(w);if(typeof _!="function")throw Error(te(150));if(w=_.call(w),w==null)throw Error(te(151));for(var k=_=null,E=b,I=b=0,O=null,C=w.next();E!==null&&!C.done;I++,C=w.next()){E.index>I?(O=E,E=null):O=E.sibling;var P=h(x,E,C.value,S);if(P===null){E===null&&(E=O);break}e&&E&&P.alternate===null&&t(x,E),b=a(P,b,I),k===null?_=P:k.sibling=P,k=P,E=O}if(C.done)return n(x,E),Xe&&va(x,I),_;if(E===null){for(;!C.done;I++,C=w.next())C=f(x,C.value,S),C!==null&&(b=a(C,b,I),k===null?_=C:k.sibling=C,k=C);return Xe&&va(x,I),_}for(E=r(x,E);!C.done;I++,C=w.next())C=p(E,x,I,C.value,S),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?I:C.key),b=a(C,b,I),k===null?_=C:k.sibling=C,k=C);return e&&E.forEach(function(R){return t(x,R)}),Xe&&va(x,I),_}function y(x,b,w,S){if(typeof w=="object"&&w!==null&&w.type===_s&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case au:e:{for(var _=w.key,k=b;k!==null;){if(k.key===_){if(_=w.type,_===_s){if(k.tag===7){n(x,k.sibling),b=i(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ti&&Xw(_)===k.type){n(x,k.sibling),b=i(k,w.props),b.ref=Yo(x,k,w),b.return=x,x=b;break e}n(x,k);break}else t(x,k);k=k.sibling}w.type===_s?(b=Ma(w.props.children,x.mode,S,w.key),b.return=x,x=b):(S=id(w.type,w.key,w.props,null,x.mode,S),S.ref=Yo(x,b,w),S.return=x,x=S)}return s(x);case js:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=Qp(w,x.mode,S),b.return=x,x=b}return s(x);case Ti:return k=w._init,y(x,b,k(w._payload),S)}if(fl(w))return m(x,b,w,S);if(Wo(w))return g(x,b,w,S);gu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=Xp(w,x.mode,S),b.return=x,x=b),s(x)):n(x,b)}return y}var Xs=LC(!0),$C=LC(!1),Ad=ra(null),Pd=null,Is=null,ex=null;function tx(){ex=Is=Pd=null}function nx(e){var t=Ad.current;Ye(Ad),e._currentValue=t}function Fg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bs(e,t){Pd=e,ex=Is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function rr(e){var t=e._currentValue;if(ex!==e)if(e={context:e,memoizedValue:t,next:null},Is===null){if(Pd===null)throw Error(te(308));Is=e,Pd.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var Ea=null;function rx(e){Ea===null?Ea=[e]:Ea.push(e)}function FC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,rx(t)):(n.next=i.next,i.next=n),t.interleaved=n,hi(e,r)}function hi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ii=!1;function ix(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hi(e,n)}return i=r.interleaved,i===null?(t.next=t,rx(r)):(t.next=i.next,i.next=t),r.interleaved=t,hi(e,n)}function Qu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wy(e,n)}}function Qw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Td(e,t,n,r){var i=e.updateQueue;Ii=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=e,g=l;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=nt({},f,h);break e;case 2:Ii=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ka|=s,e.lanes=s,e.memoizedState=f}}function Zw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var kc={},Vr=ra(kc),Yl=ra(kc),Jl=ra(kc);function Na(e){if(e===kc)throw Error(te(174));return e}function ax(e,t){switch(Ke(Jl,t),Ke(Yl,e),Ke(Vr,kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xg(t,e)}Ye(Vr),Ke(Vr,t)}function Qs(){Ye(Vr),Ye(Yl),Ye(Jl)}function UC(e){Na(Jl.current);var t=Na(Vr.current),n=xg(t,e.type);t!==n&&(Ke(Yl,e),Ke(Vr,n))}function sx(e){Yl.current===e&&(Ye(Vr),Ye(Yl))}var et=ra(0);function Id(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kp=[];function ox(){for(var e=0;e<Kp.length;e++)Kp[e]._workInProgressVersionPrimary=null;Kp.length=0}var Zu=bi.ReactCurrentDispatcher,Hp=bi.ReactCurrentBatchConfig,Va=0,tt=null,vt=null,_t=null,Dd=!1,Sl=!1,Gl=0,RM=0;function $t(){throw Error(te(321))}function lx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_r(e[n],t[n]))return!1;return!0}function cx(e,t,n,r,i,a){if(Va=a,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zu.current=e===null||e.memoizedState===null?FM:zM,e=n(r,i),Sl){a=0;do{if(Sl=!1,Gl=0,25<=a)throw Error(te(301));a+=1,_t=vt=null,t.updateQueue=null,Zu.current=UM,e=n(r,i)}while(Sl)}if(Zu.current=Rd,t=vt!==null&&vt.next!==null,Va=0,_t=vt=tt=null,Dd=!1,t)throw Error(te(300));return e}function ux(){var e=Gl!==0;return Gl=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?tt.memoizedState=_t=e:_t=_t.next=e,_t}function ir(){if(vt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=_t===null?tt.memoizedState:_t.next;if(t!==null)_t=t,vt=e;else{if(e===null)throw Error(te(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},_t===null?tt.memoizedState=_t=e:_t=_t.next=e}return _t}function Xl(e,t){return typeof t=="function"?t(e):t}function qp(e){var t=ir(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=vt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((Va&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=r):c=c.next=f,tt.lanes|=d,Ka|=d}u=u.next}while(u!==null&&u!==a);c===null?s=r:c.next=l,_r(r,t.memoizedState)||(dn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,tt.lanes|=a,Ka|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yp(e){var t=ir(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);_r(a,t.memoizedState)||(dn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function BC(){}function WC(e,t){var n=tt,r=ir(),i=t(),a=!_r(r.memoizedState,i);if(a&&(r.memoizedState=i,dn=!0),r=r.queue,dx(HC.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ql(9,KC.bind(null,n,r,i,t),void 0,null),Ct===null)throw Error(te(349));Va&30||VC(n,t,i)}return i}function VC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KC(e,t,n,r){t.value=n,t.getSnapshot=r,qC(t)&&YC(e)}function HC(e,t,n){return n(function(){qC(t)&&YC(e)})}function qC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_r(e,n)}catch{return!0}}function YC(e){var t=hi(e,1);t!==null&&kr(t,e,1,-1)}function e1(e){var t=Dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:e},t.queue=e,e=e.dispatch=$M.bind(null,tt,e),[t.memoizedState,e]}function Ql(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tt.updateQueue,t===null?(t={lastEffect:null,stores:null},tt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function JC(){return ir().memoizedState}function ed(e,t,n,r){var i=Dr();tt.flags|=e,i.memoizedState=Ql(1|t,n,void 0,r===void 0?null:r)}function Xf(e,t,n,r){var i=ir();r=r===void 0?null:r;var a=void 0;if(vt!==null){var s=vt.memoizedState;if(a=s.destroy,r!==null&&lx(r,s.deps)){i.memoizedState=Ql(t,n,a,r);return}}tt.flags|=e,i.memoizedState=Ql(1|t,n,a,r)}function t1(e,t){return ed(8390656,8,e,t)}function dx(e,t){return Xf(2048,8,e,t)}function GC(e,t){return Xf(4,2,e,t)}function XC(e,t){return Xf(4,4,e,t)}function QC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZC(e,t,n){return n=n!=null?n.concat([e]):null,Xf(4,4,QC.bind(null,t,e),n)}function fx(){}function eE(e,t){var n=ir();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tE(e,t){var n=ir();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nE(e,t,n){return Va&21?(_r(n,t)||(n=oC(),tt.lanes|=n,Ka|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=n)}function MM(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Hp.transition;Hp.transition={};try{e(!1),t()}finally{Re=n,Hp.transition=r}}function rE(){return ir().memoizedState}function LM(e,t,n){var r=Ji(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iE(e))aE(t,n);else if(n=FC(e,t,n,r),n!==null){var i=en();kr(n,e,r,i),sE(n,t,r)}}function $M(e,t,n){var r=Ji(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iE(e))aE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,_r(l,s)){var c=t.interleaved;c===null?(i.next=i,rx(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=FC(e,t,i,r),n!==null&&(i=en(),kr(n,e,r,i),sE(n,t,r))}}function iE(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function aE(e,t){Sl=Dd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wy(e,n)}}var Rd={readContext:rr,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},FM={readContext:rr,useCallback:function(e,t){return Dr().memoizedState=[e,t===void 0?null:t],e},useContext:rr,useEffect:t1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ed(4194308,4,QC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ed(4194308,4,e,t)},useInsertionEffect:function(e,t){return ed(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=LM.bind(null,tt,e),[r.memoizedState,e]},useRef:function(e){var t=Dr();return e={current:e},t.memoizedState=e},useState:e1,useDebugValue:fx,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=e1(!1),t=e[0];return e=MM.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tt,i=Dr();if(Xe){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Ct===null)throw Error(te(349));Va&30||VC(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,t1(HC.bind(null,r,a,e),[e]),r.flags|=2048,Ql(9,KC.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Dr(),t=Ct.identifierPrefix;if(Xe){var n=ni,r=ti;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=RM++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zM={readContext:rr,useCallback:eE,useContext:rr,useEffect:dx,useImperativeHandle:ZC,useInsertionEffect:GC,useLayoutEffect:XC,useMemo:tE,useReducer:qp,useRef:JC,useState:function(){return qp(Xl)},useDebugValue:fx,useDeferredValue:function(e){var t=ir();return nE(t,vt.memoizedState,e)},useTransition:function(){var e=qp(Xl)[0],t=ir().memoizedState;return[e,t]},useMutableSource:BC,useSyncExternalStore:WC,useId:rE,unstable_isNewReconciler:!1},UM={readContext:rr,useCallback:eE,useContext:rr,useEffect:dx,useImperativeHandle:ZC,useInsertionEffect:GC,useLayoutEffect:XC,useMemo:tE,useReducer:Yp,useRef:JC,useState:function(){return Yp(Xl)},useDebugValue:fx,useDeferredValue:function(e){var t=ir();return vt===null?t.memoizedState=e:nE(t,vt.memoizedState,e)},useTransition:function(){var e=Yp(Xl)[0],t=ir().memoizedState;return[e,t]},useMutableSource:BC,useSyncExternalStore:WC,useId:rE,unstable_isNewReconciler:!1};function pr(e,t){if(e&&e.defaultProps){t=nt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qf={isMounted:function(e){return(e=e._reactInternals)?rs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=en(),i=Ji(e),a=oi(r,i);a.payload=t,n!=null&&(a.callback=n),t=qi(e,a,i),t!==null&&(kr(t,e,i,r),Qu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=en(),i=Ji(e),a=oi(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=qi(e,a,i),t!==null&&(kr(t,e,i,r),Qu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),r=Ji(e),i=oi(n,r);i.tag=2,t!=null&&(i.callback=t),t=qi(e,i,r),t!==null&&(kr(t,e,r,n),Qu(t,e,r))}};function n1(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Vl(n,r)||!Vl(i,a):!0}function oE(e,t,n){var r=!1,i=ea,a=t.contextType;return typeof a=="object"&&a!==null?a=rr(a):(i=mn(t)?Ba:Ht.current,r=t.contextTypes,a=(r=r!=null)?Js(e,i):ea),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function r1(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Qf.enqueueReplaceState(t,t.state,null)}function Ug(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ix(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=rr(a):(a=mn(t)?Ba:Ht.current,i.context=Js(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(zg(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qf.enqueueReplaceState(i,i.state,null),Td(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var n="",r=t;do n+=m4(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Jp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var BM=typeof WeakMap=="function"?WeakMap:Map;function lE(e,t,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ld||(Ld=!0,Qg=r),Bg(e,t)},n}function cE(e,t,n){n=oi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Bg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Bg(e,t),typeof r!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function i1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new BM;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=nL.bind(null,e,t,n),t.then(e,e))}function a1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function s1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oi(-1,1),t.tag=2,qi(n,t,1))),n.lanes|=1),e)}var WM=bi.ReactCurrentOwner,dn=!1;function Gt(e,t,n,r){t.child=e===null?$C(t,null,n,r):Xs(t,e.child,n,r)}function o1(e,t,n,r,i){n=n.render;var a=t.ref;return Bs(t,i),r=cx(e,t,n,r,a,i),n=ux(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pi(e,t,i)):(Xe&&n&&Xy(t),t.flags|=1,Gt(e,t,r,i),t.child)}function l1(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!bx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,uE(e,t,a,r,i)):(e=id(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Vl,n(s,r)&&e.ref===t.ref)return pi(e,t,i)}return t.flags|=1,e=Gi(a,r),e.ref=t.ref,e.return=t,t.child=e}function uE(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Vl(a,r)&&e.ref===t.ref)if(dn=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,pi(e,t,i)}return Wg(e,t,n,r,i)}function dE(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Rs,Cn),Cn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ke(Rs,Cn),Cn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ke(Rs,Cn),Cn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ke(Rs,Cn),Cn|=r;return Gt(e,t,i,n),t.child}function fE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wg(e,t,n,r,i){var a=mn(n)?Ba:Ht.current;return a=Js(t,a),Bs(t,i),n=cx(e,t,n,r,a,i),r=ux(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pi(e,t,i)):(Xe&&r&&Xy(t),t.flags|=1,Gt(e,t,n,i),t.child)}function c1(e,t,n,r,i){if(mn(n)){var a=!0;Ed(t)}else a=!1;if(Bs(t,i),t.stateNode===null)td(e,t),oE(t,n,r),Ug(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=rr(u):(u=mn(n)?Ba:Ht.current,u=Js(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==u)&&r1(t,s,r,u),Ii=!1;var h=t.memoizedState;s.state=h,Td(t,r,s,i),c=t.memoizedState,l!==r||h!==c||pn.current||Ii?(typeof d=="function"&&(zg(t,n,d,r),c=t.memoizedState),(l=Ii||n1(t,n,l,r,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,zC(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:pr(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=rr(c):(c=mn(n)?Ba:Ht.current,c=Js(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&r1(t,s,r,c),Ii=!1,h=t.memoizedState,s.state=h,Td(t,r,s,i);var m=t.memoizedState;l!==f||h!==m||pn.current||Ii?(typeof p=="function"&&(zg(t,n,p,r),m=t.memoizedState),(u=Ii||n1(t,n,u,r,h,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Vg(e,t,n,r,a,i)}function Vg(e,t,n,r,i,a){fE(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Yw(t,n,!1),pi(e,t,a);r=t.stateNode,WM.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Xs(t,e.child,null,a),t.child=Xs(t,null,l,a)):Gt(e,t,l,a),t.memoizedState=r.state,i&&Yw(t,n,!0),t.child}function hE(e){var t=e.stateNode;t.pendingContext?qw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qw(e,t.context,!1),ax(e,t.containerInfo)}function u1(e,t,n,r,i){return Gs(),Zy(i),t.flags|=256,Gt(e,t,n,r),t.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function Hg(e){return{baseLanes:e,cachePool:null,transitions:null}}function pE(e,t,n){var r=t.pendingProps,i=et.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ke(et,i&1),e===null)return $g(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=th(s,r,0,null),e=Ma(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hg(n),t.memoizedState=Kg,e):hx(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return VM(e,t,s,r,l,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Gi(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Gi(l,a):(a=Ma(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Hg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Kg,r}return a=e.child,e=a.sibling,r=Gi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function hx(e,t){return t=th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vu(e,t,n,r){return r!==null&&Zy(r),Xs(t,e.child,null,n),e=hx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function VM(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Jp(Error(te(422))),vu(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=th({mode:"visible",children:r.children},i,0,null),a=Ma(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Xs(t,e.child,null,s),t.child.memoizedState=Hg(s),t.memoizedState=Kg,a);if(!(t.mode&1))return vu(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(te(419)),r=Jp(a,r,void 0),vu(e,t,s,r)}if(l=(s&e.childLanes)!==0,dn||l){if(r=Ct,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hi(e,i),kr(r,e,i,-1))}return xx(),r=Jp(Error(te(421))),vu(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=rL.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,An=Hi(i.nextSibling),Pn=t,Xe=!0,vr=null,e!==null&&(Gn[Xn++]=ti,Gn[Xn++]=ni,Gn[Xn++]=Wa,ti=e.id,ni=e.overflow,Wa=t),t=hx(t,r.children),t.flags|=4096,t)}function d1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fg(e.return,t,n)}function Gp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function mE(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Gt(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d1(e,n,t);else if(e.tag===19)d1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ke(et,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Id(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Id(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gp(t,!0,n,null,a);break;case"together":Gp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function td(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=Gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KM(e,t,n){switch(t.tag){case 3:hE(t),Gs();break;case 5:UC(t);break;case 1:mn(t.type)&&Ed(t);break;case 4:ax(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ke(Ad,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ke(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?pE(e,t,n):(Ke(et,et.current&1),e=pi(e,t,n),e!==null?e.sibling:null);Ke(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,dE(e,t,n)}return pi(e,t,n)}var gE,qg,vE,yE;gE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qg=function(){};vE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Na(Vr.current);var a=null;switch(n){case"input":i=mg(e,i),r=mg(e,r),a=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),a=[];break;case"textarea":i=yg(e,i),r=yg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_d)}bg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&He("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};yE=function(e,t,n,r){n!==r&&(t.flags|=4)};function Jo(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function HM(e,t,n){var r=t.pendingProps;switch(Qy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return mn(t.type)&&Cd(),Ft(t),null;case 3:return r=t.stateNode,Qs(),Ye(pn),Ye(Ht),ox(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(tv(vr),vr=null))),qg(e,t),Ft(t),null;case 5:sx(t);var i=Na(Jl.current);if(n=t.type,e!==null&&t.stateNode!=null)vE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(te(166));return Ft(t),null}if(e=Na(Vr.current),mu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Lr]=t,r[ql]=a,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<pl.length;i++)He(pl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":bw(r,a),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},He("invalid",r);break;case"textarea":kw(r,a),He("invalid",r)}bg(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&pu(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&pu(r.textContent,l,e),i=["children",""+l]):Ll.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&He("scroll",r)}switch(n){case"input":su(r),ww(r,a,!0);break;case"textarea":su(r),Sw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=_d)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Lr]=t,e[ql]=r,gE(e,t,!1,!1),t.stateNode=e;e:{switch(s=wg(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<pl.length;i++)He(pl[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":bw(e,r),i=mg(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),He("invalid",e);break;case"textarea":kw(e,r),i=yg(e,r),He("invalid",e);break;default:i=r}bg(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?J2(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&q2(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$l(e,c):typeof c=="number"&&$l(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ll.hasOwnProperty(a)?c!=null&&a==="onScroll"&&He("scroll",e):c!=null&&Ly(e,a,c,s))}switch(n){case"input":su(e),ww(e,r,!1);break;case"textarea":su(e),Sw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zi(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?$s(e,!!r.multiple,a,!1):r.defaultValue!=null&&$s(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)yE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(te(166));if(n=Na(Jl.current),Na(Vr.current),mu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Lr]=t,(a=r.nodeValue!==n)&&(e=Pn,e!==null))switch(e.tag){case 3:pu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Lr]=t,t.stateNode=r}return Ft(t),null;case 13:if(Ye(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&An!==null&&t.mode&1&&!(t.flags&128))MC(),Gs(),t.flags|=98560,a=!1;else if(a=mu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(te(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(te(317));a[Lr]=t}else Gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),a=!1}else vr!==null&&(tv(vr),vr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?bt===0&&(bt=3):xx())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return Qs(),qg(e,t),e===null&&Kl(t.stateNode.containerInfo),Ft(t),null;case 10:return nx(t.type._context),Ft(t),null;case 17:return mn(t.type)&&Cd(),Ft(t),null;case 19:if(Ye(et),a=t.memoizedState,a===null)return Ft(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Jo(a,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Id(e),s!==null){for(t.flags|=128,Jo(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ke(et,et.current&1|2),t.child}e=e.sibling}a.tail!==null&&st()>eo&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Id(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Jo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Xe)return Ft(t),null}else 2*st()-a.renderingStartTime>eo&&n!==1073741824&&(t.flags|=128,r=!0,Jo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=st(),t.sibling=null,n=et.current,Ke(et,r?n&1|2:n&1),t):(Ft(t),null);case 22:case 23:return yx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Cn&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function qM(e,t){switch(Qy(t),t.tag){case 1:return mn(t.type)&&Cd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qs(),Ye(pn),Ye(Ht),ox(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sx(t),null;case 13:if(Ye(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(et),null;case 4:return Qs(),null;case 10:return nx(t.type._context),null;case 22:case 23:return yx(),null;case 24:return null;default:return null}}var yu=!1,Ut=!1,YM=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ds(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(e,t,r)}else n.current=null}function Yg(e,t,n){try{n()}catch(r){it(e,t,r)}}var f1=!1;function JM(e,t){if(Pg=kd,e=SC(),Gy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=s),h===a&&++d===r&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tg={focusedElem:e,selectionRange:n},kd=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:pr(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){it(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return m=f1,f1=!1,m}function jl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Yg(t,n,a)}i=i.next}while(i!==r)}}function Zf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xE(e){var t=e.alternate;t!==null&&(e.alternate=null,xE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lr],delete t[ql],delete t[Rg],delete t[PM],delete t[TM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bE(e){return e.tag===5||e.tag===3||e.tag===4}function h1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_d));else if(r!==4&&(e=e.child,e!==null))for(Gg(e,t,n),e=e.sibling;e!==null;)Gg(e,t,n),e=e.sibling}function Xg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xg(e,t,n),e=e.sibling;e!==null;)Xg(e,t,n),e=e.sibling}var It=null,mr=!1;function Ni(e,t,n){for(n=n.child;n!==null;)wE(e,t,n),n=n.sibling}function wE(e,t,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Kf,n)}catch{}switch(n.tag){case 5:Ut||Ds(n,t);case 6:var r=It,i=mr;It=null,Ni(e,t,n),It=r,mr=i,It!==null&&(mr?(e=It,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(mr?(e=It,n=n.stateNode,e.nodeType===8?Wp(e.parentNode,n):e.nodeType===1&&Wp(e,n),Bl(e)):Wp(It,n.stateNode));break;case 4:r=It,i=mr,It=n.stateNode.containerInfo,mr=!0,Ni(e,t,n),It=r,mr=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Yg(n,t,s),i=i.next}while(i!==r)}Ni(e,t,n);break;case 1:if(!Ut&&(Ds(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){it(n,t,l)}Ni(e,t,n);break;case 21:Ni(e,t,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Ni(e,t,n),Ut=r):Ni(e,t,n);break;default:Ni(e,t,n)}}function p1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YM),t.forEach(function(r){var i=iL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,mr=!1;break e;case 3:It=l.stateNode.containerInfo,mr=!0;break e;case 4:It=l.stateNode.containerInfo,mr=!0;break e}l=l.return}if(It===null)throw Error(te(160));wE(a,s,i),It=null,mr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){it(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kE(t,e),t=t.sibling}function kE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fr(t,e),Pr(e),r&4){try{jl(3,e,e.return),Zf(3,e)}catch(g){it(e,e.return,g)}try{jl(5,e,e.return)}catch(g){it(e,e.return,g)}}break;case 1:fr(t,e),Pr(e),r&512&&n!==null&&Ds(n,n.return);break;case 5:if(fr(t,e),Pr(e),r&512&&n!==null&&Ds(n,n.return),e.flags&32){var i=e.stateNode;try{$l(i,"")}catch(g){it(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&V2(i,a),wg(l,s);var u=wg(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?J2(i,f):d==="dangerouslySetInnerHTML"?q2(i,f):d==="children"?$l(i,f):Ly(i,d,f,u)}switch(l){case"input":gg(i,a);break;case"textarea":K2(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?$s(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?$s(i,!!a.multiple,a.defaultValue,!0):$s(i,!!a.multiple,a.multiple?[]:"",!1))}i[ql]=a}catch(g){it(e,e.return,g)}}break;case 6:if(fr(t,e),Pr(e),r&4){if(e.stateNode===null)throw Error(te(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){it(e,e.return,g)}}break;case 3:if(fr(t,e),Pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(g){it(e,e.return,g)}break;case 4:fr(t,e),Pr(e);break;case 13:fr(t,e),Pr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(gx=st())),r&4&&p1(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ut=(u=Ut)||d,fr(t,e),Ut=u):fr(t,e),Pr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:jl(4,h,h.return);break;case 1:Ds(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){it(r,n,g)}}break;case 5:Ds(h,h.return);break;case 22:if(h.memoizedState!==null){g1(f);continue}}p!==null?(p.return=h,oe=p):g1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Y2("display",s))}catch(g){it(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){it(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fr(t,e),Pr(e),r&4&&p1(e);break;case 21:break;default:fr(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(bE(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($l(i,""),r.flags&=-33);var a=h1(e);Xg(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=h1(e);Gg(e,l,s);break;default:throw Error(te(161))}}catch(c){it(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GM(e,t,n){oe=e,SE(e)}function SE(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var i=oe,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||yu;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ut;l=yu;var u=Ut;if(yu=s,(Ut=c)&&!u)for(oe=i;oe!==null;)s=oe,c=s.child,s.tag===22&&s.memoizedState!==null?v1(i):c!==null?(c.return=s,oe=c):v1(i);for(;a!==null;)oe=a,SE(a),a=a.sibling;oe=i,yu=l,Ut=u}m1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oe=a):m1(e)}}function m1(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||Zf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Zw(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Zw(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Ut||t.flags&512&&Jg(t)}catch(h){it(t,t.return,h)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function g1(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function v1(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zf(4,t)}catch(c){it(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){it(t,i,c)}}var a=t.return;try{Jg(t)}catch(c){it(t,a,c)}break;case 5:var s=t.return;try{Jg(t)}catch(c){it(t,s,c)}}}catch(c){it(t,t.return,c)}if(t===e){oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,oe=l;break}oe=t.return}}var XM=Math.ceil,Md=bi.ReactCurrentDispatcher,px=bi.ReactCurrentOwner,nr=bi.ReactCurrentBatchConfig,Oe=0,Ct=null,ft=null,Mt=0,Cn=0,Rs=ra(0),bt=0,Zl=null,Ka=0,eh=0,mx=0,_l=null,cn=null,gx=0,eo=1/0,Xr=null,Ld=!1,Qg=null,Yi=null,xu=!1,Ui=null,$d=0,Cl=0,Zg=null,nd=-1,rd=0;function en(){return Oe&6?st():nd!==-1?nd:nd=st()}function Ji(e){return e.mode&1?Oe&2&&Mt!==0?Mt&-Mt:DM.transition!==null?(rd===0&&(rd=oC()),rd):(e=Re,e!==0||(e=window.event,e=e===void 0?16:pC(e.type)),e):1}function kr(e,t,n,r){if(50<Cl)throw Cl=0,Zg=null,Error(te(185));xc(e,n,r),(!(Oe&2)||e!==Ct)&&(e===Ct&&(!(Oe&2)&&(eh|=n),bt===4&&Li(e,Mt)),gn(e,r),n===1&&Oe===0&&!(t.mode&1)&&(eo=st()+500,Gf&&ia()))}function gn(e,t){var n=e.callbackNode;D4(e,t);var r=wd(e,e===Ct?Mt:0);if(r===0)n!==null&&Cw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Cw(n),t===1)e.tag===0?IM(y1.bind(null,e)):IC(y1.bind(null,e)),OM(function(){!(Oe&6)&&ia()}),n=null;else{switch(lC(r)){case 1:n=By;break;case 4:n=aC;break;case 16:n=bd;break;case 536870912:n=sC;break;default:n=bd}n=PE(n,jE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jE(e,t){if(nd=-1,rd=0,Oe&6)throw Error(te(327));var n=e.callbackNode;if(Ws()&&e.callbackNode!==n)return null;var r=wd(e,e===Ct?Mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fd(e,r);else{t=r;var i=Oe;Oe|=2;var a=CE();(Ct!==e||Mt!==t)&&(Xr=null,eo=st()+500,Ra(e,t));do try{eL();break}catch(l){_E(e,l)}while(1);tx(),Md.current=a,Oe=i,ft!==null?t=0:(Ct=null,Mt=0,t=bt)}if(t!==0){if(t===2&&(i=Cg(e),i!==0&&(r=i,t=ev(e,i))),t===1)throw n=Zl,Ra(e,0),Li(e,r),gn(e,st()),n;if(t===6)Li(e,r);else{if(i=e.current.alternate,!(r&30)&&!QM(i)&&(t=Fd(e,r),t===2&&(a=Cg(e),a!==0&&(r=a,t=ev(e,a))),t===1))throw n=Zl,Ra(e,0),Li(e,r),gn(e,st()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(te(345));case 2:ya(e,cn,Xr);break;case 3:if(Li(e,r),(r&130023424)===r&&(t=gx+500-st(),10<t)){if(wd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){en(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dg(ya.bind(null,e,cn,Xr),t);break}ya(e,cn,Xr);break;case 4:if(Li(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-wr(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*XM(r/1960))-r,10<r){e.timeoutHandle=Dg(ya.bind(null,e,cn,Xr),r);break}ya(e,cn,Xr);break;case 5:ya(e,cn,Xr);break;default:throw Error(te(329))}}}return gn(e,st()),e.callbackNode===n?jE.bind(null,e):null}function ev(e,t){var n=_l;return e.current.memoizedState.isDehydrated&&(Ra(e,t).flags|=256),e=Fd(e,t),e!==2&&(t=cn,cn=n,t!==null&&tv(t)),e}function tv(e){cn===null?cn=e:cn.push.apply(cn,e)}function QM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!_r(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Li(e,t){for(t&=~mx,t&=~eh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wr(t),r=1<<n;e[n]=-1,t&=~r}}function y1(e){if(Oe&6)throw Error(te(327));Ws();var t=wd(e,0);if(!(t&1))return gn(e,st()),null;var n=Fd(e,t);if(e.tag!==0&&n===2){var r=Cg(e);r!==0&&(t=r,n=ev(e,r))}if(n===1)throw n=Zl,Ra(e,0),Li(e,t),gn(e,st()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,cn,Xr),gn(e,st()),null}function vx(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(eo=st()+500,Gf&&ia())}}function Ha(e){Ui!==null&&Ui.tag===0&&!(Oe&6)&&Ws();var t=Oe;Oe|=1;var n=nr.transition,r=Re;try{if(nr.transition=null,Re=1,e)return e()}finally{Re=r,nr.transition=n,Oe=t,!(Oe&6)&&ia()}}function yx(){Cn=Rs.current,Ye(Rs)}function Ra(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,NM(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(Qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:Qs(),Ye(pn),Ye(Ht),ox();break;case 5:sx(r);break;case 4:Qs();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:nx(r.type._context);break;case 22:case 23:yx()}n=n.return}if(Ct=e,ft=e=Gi(e.current,null),Mt=Cn=t,bt=0,Zl=null,mx=eh=Ka=0,cn=_l=null,Ea!==null){for(t=0;t<Ea.length;t++)if(n=Ea[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Ea=null}return e}function _E(e,t){do{var n=ft;try{if(tx(),Zu.current=Rd,Dd){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(Va=0,_t=vt=tt=null,Sl=!1,Gl=0,px.current=null,n===null||n.return===null){bt=1,Zl=t,ft=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=a1(s);if(p!==null){p.flags&=-257,s1(p,s,l,a,t),p.mode&1&&i1(a,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){i1(a,u,t),xx();break e}c=Error(te(426))}}else if(Xe&&l.mode&1){var y=a1(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),s1(y,s,l,a,t),Zy(Zs(c,l));break e}}a=c=Zs(c,l),bt!==4&&(bt=2),_l===null?_l=[a]:_l.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=lE(a,c,t);Qw(a,x);break e;case 1:l=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Yi===null||!Yi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=cE(a,l,t);Qw(a,S);break e}}a=a.return}while(a!==null)}NE(n)}catch(_){t=_,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function CE(){var e=Md.current;return Md.current=Rd,e===null?Rd:e}function xx(){(bt===0||bt===3||bt===2)&&(bt=4),Ct===null||!(Ka&268435455)&&!(eh&268435455)||Li(Ct,Mt)}function Fd(e,t){var n=Oe;Oe|=2;var r=CE();(Ct!==e||Mt!==t)&&(Xr=null,Ra(e,t));do try{ZM();break}catch(i){_E(e,i)}while(1);if(tx(),Oe=n,Md.current=r,ft!==null)throw Error(te(261));return Ct=null,Mt=0,bt}function ZM(){for(;ft!==null;)EE(ft)}function eL(){for(;ft!==null&&!_4();)EE(ft)}function EE(e){var t=AE(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?NE(e):ft=t,px.current=null}function NE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qM(n,t),n!==null){n.flags&=32767,ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,ft=null;return}}else if(n=HM(n,t,Cn),n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);bt===0&&(bt=5)}function ya(e,t,n){var r=Re,i=nr.transition;try{nr.transition=null,Re=1,tL(e,t,n,r)}finally{nr.transition=i,Re=r}return null}function tL(e,t,n,r){do Ws();while(Ui!==null);if(Oe&6)throw Error(te(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(R4(e,a),e===Ct&&(ft=Ct=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,PE(bd,function(){return Ws(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=nr.transition,nr.transition=null;var s=Re;Re=1;var l=Oe;Oe|=4,px.current=null,JM(e,n),kE(n,e),wM(Tg),kd=!!Pg,Tg=Pg=null,e.current=n,GM(n),C4(),Oe=l,Re=s,nr.transition=a}else e.current=n;if(xu&&(xu=!1,Ui=e,$d=i),a=e.pendingLanes,a===0&&(Yi=null),O4(n.stateNode),gn(e,st()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,e=Qg,Qg=null,e;return $d&1&&e.tag!==0&&Ws(),a=e.pendingLanes,a&1?e===Zg?Cl++:(Cl=0,Zg=e):Cl=0,ia(),null}function Ws(){if(Ui!==null){var e=lC($d),t=nr.transition,n=Re;try{if(nr.transition=null,Re=16>e?16:e,Ui===null)var r=!1;else{if(e=Ui,Ui=null,$d=0,Oe&6)throw Error(te(331));var i=Oe;for(Oe|=4,oe=e.current;oe!==null;){var a=oe,s=a.child;if(oe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:jl(8,d,a)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,p=d.return;if(xE(d),d===u){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}oe=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,oe=s;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,oe=x;break e}oe=a.return}}var b=e.current;for(oe=b;oe!==null;){s=oe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,oe=w;else e:for(s=b;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zf(9,l)}}catch(_){it(l,l.return,_)}if(l===s){oe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,oe=S;break e}oe=l.return}}if(Oe=i,ia(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Kf,e)}catch{}r=!0}return r}finally{Re=n,nr.transition=t}}return!1}function x1(e,t,n){t=Zs(n,t),t=lE(e,t,1),e=qi(e,t,1),t=en(),e!==null&&(xc(e,1,t),gn(e,t))}function it(e,t,n){if(e.tag===3)x1(e,e,n);else for(;t!==null;){if(t.tag===3){x1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){e=Zs(n,e),e=cE(t,e,1),t=qi(t,e,1),e=en(),t!==null&&(xc(t,1,e),gn(t,e));break}}t=t.return}}function nL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=en(),e.pingedLanes|=e.suspendedLanes&n,Ct===e&&(Mt&n)===n&&(bt===4||bt===3&&(Mt&130023424)===Mt&&500>st()-gx?Ra(e,0):mx|=n),gn(e,t)}function OE(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var n=en();e=hi(e,t),e!==null&&(xc(e,t,n),gn(e,n))}function rL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),OE(e,n)}function iL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(t),OE(e,n)}var AE;AE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pn.current)dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dn=!1,KM(e,t,n);dn=!!(e.flags&131072)}else dn=!1,Xe&&t.flags&1048576&&DC(t,Od,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;td(e,t),e=t.pendingProps;var i=Js(t,Ht.current);Bs(t,n),i=cx(null,t,r,e,i,n);var a=ux();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(r)?(a=!0,Ed(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ix(t),i.updater=Qf,t.stateNode=i,i._reactInternals=t,Ug(t,r,e,n),t=Vg(null,t,r,!0,a,n)):(t.tag=0,Xe&&a&&Xy(t),Gt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(td(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=sL(r),e=pr(r,e),i){case 0:t=Wg(null,t,r,e,n);break e;case 1:t=c1(null,t,r,e,n);break e;case 11:t=o1(null,t,r,e,n);break e;case 14:t=l1(null,t,r,pr(r.type,e),n);break e}throw Error(te(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),Wg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),c1(e,t,r,i,n);case 3:e:{if(hE(t),e===null)throw Error(te(387));r=t.pendingProps,a=t.memoizedState,i=a.element,zC(e,t),Td(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Zs(Error(te(423)),t),t=u1(e,t,r,n,i);break e}else if(r!==i){i=Zs(Error(te(424)),t),t=u1(e,t,r,n,i);break e}else for(An=Hi(t.stateNode.containerInfo.firstChild),Pn=t,Xe=!0,vr=null,n=$C(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gs(),r===i){t=pi(e,t,n);break e}Gt(e,t,r,n)}t=t.child}return t;case 5:return UC(t),e===null&&$g(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Ig(r,i)?s=null:a!==null&&Ig(r,a)&&(t.flags|=32),fE(e,t),Gt(e,t,s,n),t.child;case 6:return e===null&&$g(t),null;case 13:return pE(e,t,n);case 4:return ax(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xs(t,null,r,n):Gt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),o1(e,t,r,i,n);case 7:return Gt(e,t,t.pendingProps,n),t.child;case 8:return Gt(e,t,t.pendingProps.children,n),t.child;case 12:return Gt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ke(Ad,r._currentValue),r._currentValue=s,a!==null)if(_r(a.value,s)){if(a.children===i.children&&!pn.current){t=pi(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=oi(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Fg(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(te(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fg(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Gt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Bs(t,n),i=rr(i),r=r(i),t.flags|=1,Gt(e,t,r,n),t.child;case 14:return r=t.type,i=pr(r,t.pendingProps),i=pr(r.type,i),l1(e,t,r,i,n);case 15:return uE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),td(e,t),t.tag=1,mn(r)?(e=!0,Ed(t)):e=!1,Bs(t,n),oE(t,r,i),Ug(t,r,i,n),Vg(null,t,r,!0,e,n);case 19:return mE(e,t,n);case 22:return dE(e,t,n)}throw Error(te(156,t.tag))};function PE(e,t){return iC(e,t)}function aL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,n,r){return new aL(e,t,n,r)}function bx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sL(e){if(typeof e=="function")return bx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fy)return 11;if(e===zy)return 14}return 2}function Gi(e,t){var n=e.alternate;return n===null?(n=er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function id(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")bx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case _s:return Ma(n.children,i,a,t);case $y:s=8,i|=8;break;case dg:return e=er(12,n,t,i|2),e.elementType=dg,e.lanes=a,e;case fg:return e=er(13,n,t,i),e.elementType=fg,e.lanes=a,e;case hg:return e=er(19,n,t,i),e.elementType=hg,e.lanes=a,e;case U2:return th(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F2:s=10;break e;case z2:s=9;break e;case Fy:s=11;break e;case zy:s=14;break e;case Ti:s=16,r=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=er(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ma(e,t,n,r){return e=er(7,e,r,t),e.lanes=n,e}function th(e,t,n,r){return e=er(22,e,r,t),e.elementType=U2,e.lanes=n,e.stateNode={isHidden:!1},e}function Xp(e,t,n){return e=er(6,e,null,t),e.lanes=n,e}function Qp(e,t,n){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tp(0),this.expirationTimes=Tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wx(e,t,n,r,i,a,s,l,c){return e=new oL(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=er(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ix(a),e}function lL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function TE(e){if(!e)return ea;e=e._reactInternals;e:{if(rs(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(mn(n))return TC(e,n,t)}return t}function IE(e,t,n,r,i,a,s,l,c){return e=wx(n,r,!0,e,i,a,s,l,c),e.context=TE(null),n=e.current,r=en(),i=Ji(n),a=oi(r,i),a.callback=t??null,qi(n,a,i),e.current.lanes=i,xc(e,i,r),gn(e,r),e}function nh(e,t,n,r){var i=t.current,a=en(),s=Ji(i);return n=TE(n),t.context===null?t.context=n:t.pendingContext=n,t=oi(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qi(i,t,s),e!==null&&(kr(e,i,s,a),Qu(e,i,s)),s}function zd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function b1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kx(e,t){b1(e,t),(e=e.alternate)&&b1(e,t)}function cL(){return null}var DE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sx(e){this._internalRoot=e}rh.prototype.render=Sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));nh(e,t,null,null)};rh.prototype.unmount=Sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ha(function(){nh(null,e,null,null)}),t[fi]=null}};function rh(e){this._internalRoot=e}rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=dC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mi.length&&t!==0&&t<Mi[n].priority;n++);Mi.splice(n,0,e),n===0&&hC(e)}};function jx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function w1(){}function uL(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=zd(s);a.call(u)}}var s=IE(t,r,e,0,null,!1,!1,"",w1);return e._reactRootContainer=s,e[fi]=s.current,Kl(e.nodeType===8?e.parentNode:e),Ha(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=zd(c);l.call(u)}}var c=wx(e,0,!1,null,null,!1,!1,"",w1);return e._reactRootContainer=c,e[fi]=c.current,Kl(e.nodeType===8?e.parentNode:e),Ha(function(){nh(t,c,n,r)}),c}function ah(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=zd(s);l.call(c)}}nh(t,s,e,i)}else s=uL(n,t,e,i,r);return zd(s)}cC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hl(t.pendingLanes);n!==0&&(Wy(t,n|1),gn(t,st()),!(Oe&6)&&(eo=st()+500,ia()))}break;case 13:Ha(function(){var r=hi(e,1);if(r!==null){var i=en();kr(r,e,1,i)}}),kx(e,1)}};Vy=function(e){if(e.tag===13){var t=hi(e,134217728);if(t!==null){var n=en();kr(t,e,134217728,n)}kx(e,134217728)}};uC=function(e){if(e.tag===13){var t=Ji(e),n=hi(e,t);if(n!==null){var r=en();kr(n,e,t,r)}kx(e,t)}};dC=function(){return Re};fC=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};Sg=function(e,t,n){switch(t){case"input":if(gg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Jf(r);if(!i)throw Error(te(90));W2(r),gg(r,i)}}}break;case"textarea":K2(e,n);break;case"select":t=n.value,t!=null&&$s(e,!!n.multiple,t,!1)}};Q2=vx;Z2=Ha;var dL={usingClientEntryPoint:!1,Events:[wc,Os,Jf,G2,X2,vx]},Go={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fL={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nC(e),e===null?null:e.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||cL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Kf=bu.inject(fL),Wr=bu}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dL;Fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jx(t))throw Error(te(200));return lL(e,t,null,n)};Fn.createRoot=function(e,t){if(!jx(e))throw Error(te(299));var n=!1,r="",i=DE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wx(e,1,!1,null,null,n,!1,r,i),e[fi]=t.current,Kl(e.nodeType===8?e.parentNode:e),new Sx(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=nC(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return Ha(e)};Fn.hydrate=function(e,t,n){if(!ih(t))throw Error(te(200));return ah(null,e,t,!0,n)};Fn.hydrateRoot=function(e,t,n){if(!jx(e))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=DE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=IE(t,null,e,1,n??null,i,!1,a,s),e[fi]=t.current,Kl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new rh(t)};Fn.render=function(e,t,n){if(!ih(t))throw Error(te(200));return ah(null,e,t,!1,n)};Fn.unmountComponentAtNode=function(e){if(!ih(e))throw Error(te(40));return e._reactRootContainer?(Ha(function(){ah(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0):!1};Fn.unstable_batchedUpdates=vx;Fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ih(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return ah(e,t,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(e){console.error(e)}}RE(),R2.exports=Fn;var _x=R2.exports,k1=_x;cg.createRoot=k1.createRoot,cg.hydrateRoot=k1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}var Bi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bi||(Bi={}));const S1="popstate";function hL(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:s,hash:l}=r.location;return nv("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:LE(i)}return mL(t,n,null,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ME(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pL(){return Math.random().toString(36).substr(2,8)}function j1(e,t){return{usr:e.state,key:e.key,idx:t}}function nv(e,t,n,r){return n===void 0&&(n=null),ec({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ko(t):t,{state:n,key:t&&t.key||r||pL()})}function LE(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ko(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mL(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Bi.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(ec({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=Bi.Pop;let y=d(),x=y==null?null:y-u;u=y,c&&c({action:l,location:g.location,delta:x})}function h(y,x){l=Bi.Push;let b=nv(g.location,y,x);n&&n(b,y),u=d()+1;let w=j1(b,u),S=g.createHref(b);try{s.pushState(w,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(S)}a&&c&&c({action:l,location:g.location,delta:1})}function p(y,x){l=Bi.Replace;let b=nv(g.location,y,x);n&&n(b,y),u=d();let w=j1(b,u),S=g.createHref(b);s.replaceState(w,"",S),a&&c&&c({action:l,location:g.location,delta:0})}function m(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:LE(y);return b=b.replace(/ $/,"%20"),ht(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let g={get action(){return l},get location(){return e(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(S1,f),c=y,()=>{i.removeEventListener(S1,f),c=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let x=m(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:p,go(y){return s.go(y)}};return g}var _1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_1||(_1={}));function gL(e,t,n){return n===void 0&&(n="/"),vL(e,t,n,!1)}function vL(e,t,n,r){let i=typeof t=="string"?ko(t):t,a=zE(i.pathname||"/",n);if(a==null)return null;let s=$E(e);yL(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=OL(a);l=EL(s[c],u,r)}return l}function $E(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(ht(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=La([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(ht(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$E(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:_L(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of FE(a.path))i(a,s,c)}),t}function FE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=FE(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function yL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:CL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xL=/^:[\w-]+$/,bL=3,wL=2,kL=1,SL=10,jL=-2,C1=e=>e==="*";function _L(e,t){let n=e.split("/"),r=n.length;return n.some(C1)&&(r+=jL),t&&(r+=wL),n.filter(i=>!C1(i)).reduce((i,a)=>i+(xL.test(a)?bL:a===""?kL:SL),r)}function CL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function EL(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=E1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=E1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:La([a,f.pathname]),pathnameBase:IL(La([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=La([a,f.pathnameBase]))}return s}function E1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NL(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=l[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function NL(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ME(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function OL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ME(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function AL(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ko(e):e;return{pathname:n?n.startsWith("/")?n:PL(n,t):t,search:DL(r),hash:RL(i)}}function PL(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function UE(e,t){let n=TL(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ko(e):(i=ec({},e),ht(!i.pathname||!i.pathname.includes("?"),Zp("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Zp("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Zp("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=AL(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const La=e=>e.join("/").replace(/\/\/+/g,"/"),IL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ML(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const WE=["post","put","patch","delete"];new Set(WE);const LL=["get",...WE];new Set(LL);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}const Cx=v.createContext(null),$L=v.createContext(null),Sc=v.createContext(null),sh=v.createContext(null),aa=v.createContext({outlet:null,matches:[],isDataRoute:!1}),VE=v.createContext(null);function jc(){return v.useContext(sh)!=null}function is(){return jc()||ht(!1),v.useContext(sh).location}function KE(e){v.useContext(Sc).static||v.useLayoutEffect(e)}function Un(){let{isDataRoute:e}=v.useContext(aa);return e?XL():FL()}function FL(){jc()||ht(!1);let e=v.useContext(Cx),{basename:t,future:n,navigator:r}=v.useContext(Sc),{matches:i}=v.useContext(aa),{pathname:a}=is(),s=JSON.stringify(UE(i,n.v7_relativeSplatPath)),l=v.useRef(!1);return KE(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=BE(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:La([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,s,a,e])}function HE(){let{matches:e}=v.useContext(aa),t=e[e.length-1];return t?t.params:{}}function zL(e,t){return UL(e,t)}function UL(e,t,n,r){jc()||ht(!1);let{navigator:i}=v.useContext(Sc),{matches:a}=v.useContext(aa),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=is(),d;if(t){var f;let y=typeof t=="string"?ko(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||ht(!1),d=y}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=gL(e,{pathname:p}),g=HL(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:La([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:La([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?v.createElement(sh.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bi.Pop}},g):g}function BL(){let e=GL(),t=ML(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:i},n):null,a)}const WL=v.createElement(BL,null);class VL extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?v.createElement(aa.Provider,{value:this.props.routeContext},v.createElement(VE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KL(e){let{routeContext:t,match:n,children:r}=e,i=v.useContext(Cx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(aa.Provider,{value:t},r)}function HL(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||ht(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,y=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||WL,c&&(u<0&&h===0?(QL("route-fallback",!1),m=!0,y=null):u===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=y:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(KL,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(VL,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var qE=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qE||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function qL(e){let t=v.useContext(Cx);return t||ht(!1),t}function YL(e){let t=v.useContext($L);return t||ht(!1),t}function JL(e){let t=v.useContext(aa);return t||ht(!1),t}function YE(e){let t=JL(),n=t.matches[t.matches.length-1];return n.route.id||ht(!1),n.route.id}function GL(){var e;let t=v.useContext(VE),n=YL(Ud.UseRouteError),r=YE(Ud.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function XL(){let{router:e}=qL(qE.UseNavigateStable),t=YE(Ud.UseNavigateStable),n=v.useRef(!1);return KE(()=>{n.current=!0}),v.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,tc({fromRouteId:t},a)))},[e,t])}const N1={};function QL(e,t,n){!t&&!N1[e]&&(N1[e]=!0)}function ZL(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function JE(e){let{to:t,replace:n,state:r,relative:i}=e;jc()||ht(!1);let{future:a,static:s}=v.useContext(Sc),{matches:l}=v.useContext(aa),{pathname:c}=is(),u=Un(),d=BE(t,UE(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function qn(e){ht(!1)}function e3(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Bi.Pop,navigator:a,static:s=!1,future:l}=e;jc()&&ht(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:a,static:s,future:tc({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof r=="string"&&(r=ko(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=v.useMemo(()=>{let y=zE(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:i}},[c,d,f,h,p,m,i]);return g==null?null:v.createElement(Sc.Provider,{value:u},v.createElement(sh.Provider,{children:n,value:g}))}function t3(e){let{children:t,location:n}=e;return zL(rv(t),n)}new Promise(()=>{});function rv(e,t){t===void 0&&(t=[]);let n=[];return v.Children.forEach(e,(r,i)=>{if(!v.isValidElement(r))return;let a=[...t,i];if(r.type===v.Fragment){n.push.apply(n,rv(r.props.children,a));return}r.type!==qn&&ht(!1),!r.props.index||!r.props.children||ht(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=rv(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function n3(e,t){let n=iv(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const r3="6";try{window.__reactRouterVersion=r3}catch{}const i3="startTransition",O1=I2[i3];function a3(e){let{basename:t,children:n,future:r,window:i}=e,a=v.useRef();a.current==null&&(a.current=hL({window:i,v5Compat:!0}));let s=a.current,[l,c]=v.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=v.useCallback(f=>{u&&O1?O1(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>s.listen(d),[s,d]),v.useEffect(()=>ZL(r),[r]),v.createElement(e3,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}var A1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A1||(A1={}));var P1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(P1||(P1={}));function s3(e){let t=v.useRef(iv(e)),n=v.useRef(!1),r=is(),i=v.useMemo(()=>n3(r.search,n.current?null:t.current),[r.search]),a=Un(),s=v.useCallback((l,c)=>{const u=iv(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,s]}const GE=v.createContext(void 0),T1="axpro_theme",o3=({children:e})=>{const[t,n]=v.useState(()=>{const l=localStorage.getItem(T1);return l==="light"||l==="dark"?l:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=l=>{n(l),localStorage.setItem(T1,l),a(l)},i=()=>{r(t==="light"?"dark":"light")},a=l=>{document.documentElement.setAttribute("data-theme",l)};v.useEffect(()=>{a(t)},[t]);const s={theme:t,setTheme:r,toggleTheme:i};return o.jsx(GE.Provider,{value:s,children:e})},as=()=>{const e=v.useContext(GE);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Ex=v.createContext(void 0),I1="axpro_lang",l3={en:{"app.brand":"AX PRO PLATFORM","auth.title.chat":"Sign in","auth.title.admin":"Sign in","auth.subtitle.chat":"Continue to the Chat Interface","auth.subtitle.admin":"Continue to the Administrative Console","auth.email":"Email","auth.password":"Password","auth.continue":"Continue","auth.error":"Invalid credentials. Try the demo accounts.","auth.demoHint":"Demo: demo@tecace.com / demo1234 · admin@tecace.com / admin1234","link.toAdmin":"Sign in to the Admin Console","link.toChat":"Use Chat Interface sign-in","ui.theme.light":"Light","ui.theme.dark":"Dark","ui.lang.en":"English","ui.lang.ko":"한국어","chat.title":"Chat Interface","chat.welcome":"Welcome to the chat interface","dashboard.title":"Admin Console","dashboard.welcome":"Welcome to the admin console","auth.signOut":"Sign out","dashboard.timeline":"Performance Timeline","dashboard.activity":"Daily Message Activity","usage.sessions":"Recent Conversations","usage.messages":"Messages","usage.feedback.admin":"Admin Feedback","usage.feedback.user":"User Feedback","mgmt.prompt":"Prompt Control","mgmt.knowledge":"Knowledge Management","actions.new":"New","actions.refresh":"Refresh","actions.save":"Save","actions.revert":"Revert","actions.test":"Test","actions.open":"Open","actions.rename":"Rename","actions.close":"Close","actions.delete":"Delete","filters.status":"Status","filters.search":"Search","labels.title":"Title","labels.lastActivity":"Last activity","labels.count":"Count","labels.status":"Status","context.rename":"Rename","context.reopen":"Reopen","context.close":"Close","context.deletePermanently":"Delete permanently","context.confirmDelete":"Are you sure you want to permanently delete this conversation? This action cannot be undone.","context.confirmDeleteClosed":"Are you sure you want to permanently delete this closed conversation? This action cannot be undone.","context.deleteFailed":"Failed to delete session. Please try again.","ui.user":"User","ui.settings":"Settings","ui.signOut":"Sign Out","ui.demoMode":"Demo Mode","ui.demoModeDescription":"Backend not running. Chat features limited.","ui.newChat":"New Chat","ui.searchConversations":"Search conversations...","ui.all":"All","ui.open":"Open","ui.closed":"Closed","ui.noConversations":"No conversations yet","ui.startConversation":"Start a new conversation to begin chatting","ui.startNewChat":"Start New Chat","ui.backendNote":"Note: Full chat features require backend server","ui.selectConversation":"Select a conversation from the sidebar or start a new chat","ui.newChatTitle":"New Chat","ui.closeChat":"Close Chat","ui.justNow":"Just now","ui.typeMessage":"Type a message... (Enter to send, Shift+Enter for new line)","ui.send":"Send","ui.sending":"Sending...","ui.suggestedQuestions":"Suggested questions","ui.question1":"What is artificial intelligence?","ui.question2":"How does machine learning work?","ui.question3":"Explain quantum computing","ui.question4":"What are the benefits of cloud computing?","admin.performance":"Performance","admin.excellent":"Excellent","admin.good":"Good","admin.fair":"Fair","admin.poor":"Poor","admin.conversations":"Conversations","admin.overview":"Overview","admin.documents":"Documents","admin.navigation":"Navigation","admin.activity":"Activity","admin.feedback":"Feedback","admin.knowledgeBase":"Knowledge Management","admin.satisfaction":"Satisfaction","admin.metrics":"Metrics","admin.recentConversations":"Recent Conversations","admin.userFeedback":"User Feedback","admin.promptControl":"Prompt Control","admin.systemPrompt":"System Prompt Control","admin.lastRefreshed":"Last refreshed","admin.loading":"Loading...","admin.saving":"Saving...","admin.saveChanges":"Save Changes","admin.confirmUpdate":"Confirm Update","admin.confirmUpdateMessage":"This will update the system prompt for the chatbot. Are you sure you would like to proceed?","admin.cancel":"Cancel","admin.confirm":"Confirm","admin.success":"Success","admin.error":"Error","admin.close":"Close","admin.goToChat":"Go to Chat Interface","admin.notifications":"Notifications","admin.toggleTheme":"Toggle theme","admin.userProfile":"User profile","admin.signOut":"Sign out","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"Monitor AI response quality and security performance across 6 key metrics in real-time for optimal user experience","admin.dailyMessageActivity":"Daily Message Activity","admin.moduleControl":"Module Control","admin.relevance":"Relevance","admin.tone":"Tone","admin.length":"Length","admin.accuracy":"Accuracy","admin.toxicity":"Toxicity","admin.promptInjection":"Prompt Injection","admin.contentMatching":"Content Matching","admin.responseStyle":"Response Style","admin.responseSize":"Response Size","admin.correctAnswers":"Correct Answers","admin.safetyCheck":"Safety Check","admin.securityFilter":"Security Filter","admin.performanceTimeline":"Performance Timeline","admin.date":"Date","admin.actual":"Actual","admin.estimated":"Estimated","admin.totalMessages":"Total Messages","admin.userFeedbackCount":"User Feedback","admin.adminReviews":"Admin Reviews","admin.corrected":"Corrected","admin.messages":"Messages","admin.sortBy":"Sort by","admin.search":"Search","admin.exportCSV":"Export CSV","admin.dateTimeNewest":"Date/Time (Newest)","admin.dateTimeOldest":"Date/Time (Oldest)","admin.user":"User","admin.userMessage":"User Message","admin.aiResponse":"AI Response","admin.searchConversations":"Search conversations...","admin.searchAll":"Search all data...","admin.avgPerDay":"avg/day","admin.average":"Average","admin.approval":"Approval","admin.uniqueUsers":"Unique Users","admin.last3Days":"Last 3 days","admin.last7Days":"Last 7 days","admin.last2Weeks":"Last 2 weeks","admin.last3Weeks":"Last 3 weeks","admin.last30Days":"Last 30 days","admin.last3Months":"Last 3 months","admin.customRange":"Custom range","admin.ragManagement":"RAG Management","admin.ragDescription":"Upload and manage documents for the RAG (Retrieval-Augmented Generation) system","admin.uploadingFiles":"Uploading files...","admin.dropFilesHere":"Drop files here to upload","admin.clickToUpload":"Click to upload or drag and drop files","admin.supportedFormats":"Supports PDF, Word, Excel, CSV, TXT, MD, JSON, HTML","admin.uploadResults":"Upload Results","admin.clear":"Clear","admin.uploadedFiles":"Uploaded Files","admin.status.uploading":"Uploading","admin.status.processing":"Processing","admin.status.ready":"Ready","admin.status.error":"Error","admin.removeFile":"Remove file","admin.instructions":"Instructions","admin.instruction1":"Upload documents to enhance the AI's knowledge base","admin.instruction2":"Supported formats: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"Files are automatically processed and vectorized for search","admin.instruction4":"Maximum file size: 10MB per file","admin.searchFiles":"Search files...","admin.name":"Name","admin.size":"Size","admin.reindexFile":"Re-index file","admin.deleteFile":"Delete file","admin.confirmDeleteFile":"Are you sure you want to delete this file?","admin.deleteError":"Failed to delete file","knowledge.title":"Knowledge Management","knowledge.subtitle":"Manage files and knowledge base for AI chatbot","knowledge.note":"Files are stored in the **File Library**, while the **Knowledge Index** holds their searchable content. These can differ. Check the **Sync Overview** tab to see if they're in sync.","knowledge.fileLibrary":"File Library","knowledge.knowledgeIndex":"Knowledge Index","knowledge.syncOverview":"Sync Overview","knowledge.fileLibraryDescription":"Manage files in your library (upload/delete). Knowledge indexing is handled in the next section.","knowledge.knowledgeIndexDescription":"Documents indexed for AI chatbot knowledge queries","knowledge.syncOverviewDescription":"Monitor synchronization status between files and knowledge index","knowledge.dragFilesHere":"Drag text files here to upload or click to select","knowledge.supportedFormats":"Supported formats: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"Uploading files...","knowledge.searchByFilename":"Search by filename...","knowledge.searchByTitleFilepathContent":"Search by title, filepath, or content...","knowledge.refresh":"Refresh","knowledge.loading":"Loading...","knowledge.fileName":"File Name","knowledge.size":"Size","knowledge.lastModified":"Last Modified","knowledge.contentType":"Content Type","knowledge.syncStatus":"Sync Status","knowledge.actions":"Actions","knowledge.documentTitle":"Title","knowledge.parentId":"Parent ID","knowledge.chunkId":"Chunk ID","knowledge.url":"URL","knowledge.sync":"Sync","knowledge.view":"View","knowledge.download":"Download","knowledge.delete":"Delete","knowledge.stop":"Stop","knowledge.previous":"Previous","knowledge.next":"Next","knowledge.synced":"Synced","knowledge.pending":"Pending","knowledge.error":"Error","knowledge.unknown":"Unknown","knowledge.blobStatusLastModified":"Blob Status / Last Modified","knowledge.indexStatusChunks":"Index Status / Chunks"},ko:{"app.brand":"AX PRO 플랫폼","auth.title.chat":"로그인","auth.title.admin":"로그인","auth.subtitle.chat":"채팅 인터페이스로 이동","auth.subtitle.admin":"관리자 콘솔로 이동","auth.email":"이메일","auth.password":"비밀번호","auth.continue":"계속","auth.error":"계정 정보가 올바르지 않습니다. 데모 계정을 사용해 보세요.","auth.demoHint":"데모: demo@tecace.com / demo1234 · admin@tecace.com / admin1234","link.toAdmin":"관리자 콘솔로 이동","link.toChat":"채팅 인터페이스로 이동","ui.theme.light":"라이트","ui.theme.dark":"다크","ui.lang.en":"영어","ui.lang.ko":"한국어","chat.title":"채팅 인터페이스","chat.welcome":"채팅 인터페이스에 오신 것을 환영합니다","dashboard.title":"관리자 콘솔","dashboard.welcome":"관리자 콘솔에 오신 것을 환영합니다","auth.signOut":"로그아웃","dashboard.timeline":"성능 타임라인","dashboard.activity":"일일 메시지 활동","usage.sessions":"최근 대화","usage.messages":"메시지","usage.feedback.admin":"관리자 피드백","usage.feedback.user":"사용자 피드백","mgmt.prompt":"프롬프트 제어","mgmt.knowledge":"지식 관리","actions.new":"새로 만들기","actions.refresh":"새로고침","actions.save":"저장","actions.revert":"되돌리기","actions.test":"테스트","actions.open":"열기","actions.rename":"이름 변경","actions.close":"닫기","actions.delete":"삭제","filters.status":"상태","filters.search":"검색","labels.title":"제목","labels.lastActivity":"마지막 활동","labels.count":"개수","labels.status":"상태","context.rename":"이름 변경","context.reopen":"다시 열기","context.close":"닫기","context.deletePermanently":"영구 삭제","context.confirmDelete":"이 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.","context.confirmDeleteClosed":"이 닫힌 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.","context.deleteFailed":"세션 삭제에 실패했습니다. 다시 시도해 주세요.","ui.user":"사용자","ui.settings":"설정","ui.signOut":"로그아웃","ui.demoMode":"데모 모드","ui.demoModeDescription":"백엔드가 실행되지 않습니다. 채팅 기능이 제한됩니다.","ui.newChat":"새 채팅","ui.searchConversations":"대화 검색...","ui.all":"전체","ui.open":"열림","ui.closed":"닫힘","ui.noConversations":"아직 대화가 없습니다","ui.startConversation":"새 대화를 시작하여 채팅을 시작하세요","ui.startNewChat":"새 채팅 시작","ui.backendNote":"참고: 전체 채팅 기능은 백엔드 서버가 필요합니다","ui.selectConversation":"사이드바에서 대화를 선택하거나 새 채팅을 시작하세요","ui.newChatTitle":"새 채팅","ui.closeChat":"채팅 닫기","ui.justNow":"방금 전","ui.typeMessage":"메시지를 입력하세요... (Enter로 전송, Shift+Enter로 새 줄)","ui.send":"전송","ui.sending":"전송 중...","ui.suggestedQuestions":"추천 질문","ui.question1":"인공지능이란 무엇인가요?","ui.question2":"머신러닝은 어떻게 작동하나요?","ui.question3":"양자 컴퓨팅을 설명해주세요","ui.question4":"클라우드 컴퓨팅의 장점은 무엇인가요?","admin.performance":"성능","admin.excellent":"우수","admin.good":"좋음","admin.fair":"보통","admin.poor":"미흡","admin.conversations":"대화","admin.overview":"개요","admin.documents":"문서","admin.navigation":"네비게이션","admin.activity":"활동","admin.feedback":"피드백","admin.knowledgeBase":"지식 관리","admin.satisfaction":"만족도","admin.metrics":"지표","admin.recentConversations":"최근 대화","admin.userFeedback":"사용자 피드백","admin.promptControl":"프롬프트 제어","admin.systemPrompt":"시스템 프롬프트 제어","admin.lastRefreshed":"마지막 새로고침","admin.loading":"로딩 중...","admin.saving":"저장 중...","admin.saveChanges":"변경사항 저장","admin.confirmUpdate":"업데이트 확인","admin.confirmUpdateMessage":"챗봇의 시스템 프롬프트를 업데이트합니다. 계속하시겠습니까?","admin.cancel":"취소","admin.confirm":"확인","admin.success":"성공","admin.error":"오류","admin.close":"닫기","admin.goToChat":"채팅 인터페이스로 이동","admin.notifications":"알림","admin.toggleTheme":"테마 전환","admin.userProfile":"사용자 프로필","admin.signOut":"로그아웃","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"AI 응답 품질과 보안 성능을 6가지 핵심 지표로 실시간 모니터링하여 최적의 사용자 경험을 제공합니다","admin.dailyMessageActivity":"일일 메시지 활동","admin.moduleControl":"모듈 제어","admin.relevance":"관련성","admin.tone":"톤","admin.length":"길이","admin.accuracy":"정확도","admin.toxicity":"유해성","admin.promptInjection":"프롬프트 주입","admin.contentMatching":"콘텐츠 매칭","admin.responseStyle":"응답 스타일","admin.responseSize":"응답 크기","admin.correctAnswers":"정답률","admin.safetyCheck":"안전성 검사","admin.securityFilter":"보안 필터","admin.performanceTimeline":"성능 타임라인","admin.date":"날짜","admin.actual":"실제","admin.estimated":"추정","admin.totalMessages":"전체 메시지","admin.userFeedbackCount":"사용자 피드백","admin.adminReviews":"관리자 리뷰","admin.corrected":"수정됨","admin.messages":"메시지","admin.sortBy":"정렬","admin.search":"검색","admin.exportCSV":"CSV 내보내기","admin.dateTimeNewest":"날짜/시간 (최신순)","admin.dateTimeOldest":"날짜/시간 (오래된순)","admin.user":"사용자","admin.userMessage":"사용자 메시지","admin.aiResponse":"AI 응답","admin.searchConversations":"대화 검색...","admin.searchAll":"모든 데이터 검색...","admin.avgPerDay":"일평균","admin.average":"평균","admin.approval":"승인률","admin.uniqueUsers":"고유 사용자","admin.last3Days":"최근 3일","admin.last7Days":"최근 7일","admin.last2Weeks":"최근 2주","admin.last3Weeks":"최근 3주","admin.last30Days":"최근 30일","admin.last3Months":"최근 3개월","admin.customRange":"사용자 지정 범위","admin.ragManagement":"RAG 관리","admin.ragDescription":"RAG (검색 증강 생성) 시스템을 위한 문서 업로드 및 관리","admin.uploadingFiles":"파일 업로드 중...","admin.dropFilesHere":"파일을 여기에 드롭하여 업로드","admin.clickToUpload":"클릭하여 업로드하거나 파일을 드래그 앤 드롭","admin.supportedFormats":"PDF, Word, Excel, CSV, TXT, MD, JSON, HTML 지원","admin.uploadResults":"업로드 결과","admin.clear":"지우기","admin.uploadedFiles":"업로드된 파일","admin.status.uploading":"업로드 중","admin.status.processing":"처리 중","admin.status.ready":"준비됨","admin.status.error":"오류","admin.removeFile":"파일 제거","admin.instructions":"사용 방법","admin.instruction1":"AI의 지식 베이스를 향상시키기 위해 문서를 업로드하세요","admin.instruction2":"지원 형식: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"파일은 자동으로 처리되어 검색을 위해 벡터화됩니다","admin.instruction4":"최대 파일 크기: 파일당 10MB","admin.searchFiles":"파일 검색...","admin.name":"이름","admin.size":"크기","admin.reindexFile":"파일 재인덱싱","admin.deleteFile":"파일 삭제","admin.confirmDeleteFile":"이 파일을 삭제하시겠습니까?","admin.deleteError":"파일 삭제에 실패했습니다","knowledge.title":"지식 관리","knowledge.subtitle":"AI 챗봇을 위한 파일 및 지식 베이스 관리","knowledge.note":"파일은 **파일 라이브러리**에 저장되며, **지식 인덱스**에는 검색 가능한 콘텐츠가 저장됩니다. 이 둘은 다를 수 있습니다. **동기화 개요** 탭에서 동기화 상태를 확인하세요.","knowledge.fileLibrary":"파일 라이브러리","knowledge.knowledgeIndex":"지식 인덱스","knowledge.syncOverview":"동기화 개요","knowledge.fileLibraryDescription":"라이브러리의 파일을 관리합니다 (업로드/삭제). 지식 인덱싱은 다음 섹션에서 처리됩니다.","knowledge.knowledgeIndexDescription":"AI 챗봇 지식 쿼리를 위해 인덱싱된 문서","knowledge.syncOverviewDescription":"파일과 지식 인덱스 간의 동기화 상태 모니터링","knowledge.dragFilesHere":"텍스트 파일을 여기에 드래그하여 업로드하거나 클릭하여 선택","knowledge.supportedFormats":"지원 형식: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"파일 업로드 중...","knowledge.searchByFilename":"파일명으로 검색...","knowledge.searchByTitleFilepathContent":"제목, 파일 경로 또는 내용으로 검색...","knowledge.refresh":"새로고침","knowledge.loading":"로딩 중...","knowledge.fileName":"파일명","knowledge.size":"크기","knowledge.lastModified":"마지막 수정","knowledge.contentType":"콘텐츠 유형","knowledge.syncStatus":"동기화 상태","knowledge.actions":"작업","knowledge.documentTitle":"제목","knowledge.parentId":"상위 ID","knowledge.chunkId":"청크 ID","knowledge.url":"URL","knowledge.sync":"동기화","knowledge.view":"보기","knowledge.download":"다운로드","knowledge.delete":"삭제","knowledge.stop":"중지","knowledge.previous":"이전","knowledge.next":"다음","knowledge.synced":"동기화됨","knowledge.pending":"대기 중","knowledge.error":"오류","knowledge.unknown":"알 수 없음","knowledge.blobStatusLastModified":"Blob 상태 / 마지막 수정","knowledge.indexStatusChunks":"인덱스 상태 / 청크"}},c3=({children:e})=>{const[t,n]=v.useState(()=>{const s=localStorage.getItem(I1);return s==="en"||s==="ko"?s:"en"}),a={language:t,setLanguage:s=>{n(s),localStorage.setItem(I1,s)},t:s=>l3[t][s]||s};return o.jsx(Ex.Provider,{value:a,children:e})},_c=()=>{const e=v.useContext(Ex);if(e===void 0)throw new Error("useT must be used within an I18nProvider");return e.t},rt=()=>{const e=v.useContext(Ex);if(e===void 0)throw new Error("useTranslation must be used within an I18nProvider");return e},u3={"chatbot-admin@tecace.com":{password:"admin1234",role:"admin",userId:"409esj1923"},"chatbot-user@tecace.com":{password:"user1234",role:"user",userId:"user123456"},"hana@tecace.com":{password:"tsl1234",role:"admin",userId:"seokhoon_kang_001"},"professor@tecace.com":{password:"admin1234",role:"admin",userId:"professor_001"}},Nx="axpro_session",Bd=(e,t)=>{const n=e.toLowerCase().trim(),r=u3[n];if(!r||r.password!==t)return null;const i={email:n,userId:r.userId,role:r.role,createdAt:Date.now()};try{return sessionStorage.setItem(Nx,JSON.stringify(i)),i}catch(a){return console.error("Failed to store session:",a),null}},qa=()=>{try{sessionStorage.removeItem(Nx)}catch(e){console.error("Failed to clear session:",e)}},Je=()=>{try{const e=sessionStorage.getItem(Nx);if(!e)return null;const t=JSON.parse(e);return!t.email||!t.userId||!t.role||!t.createdAt?(qa(),null):t}catch(e){return console.error("Failed to retrieve session:",e),qa(),null}},Ox=e=>{const t=Je();return t?e==="admin"?t.role==="admin":!0:!1},XE=()=>{const[e,t]=ui.useState(null);return ui.useEffect(()=>{t(Je())},[]),{session:e,login:(a,s)=>{const l=Bd(a,s);return t(l),l},logout:()=>{qa(),t(null)},isAuthedFor:a=>Ox(a)}},d3=Object.freeze(Object.defineProperty({__proto__:null,getSession:Je,isAuthedFor:Ox,login:Bd,logout:qa,useAuth:XE},Symbol.toStringTag,{value:"Module"})),QE="http://localhost:3000/api";class ad extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}async function $r(e,t={}){const n=`${QE}${e}`;try{const r=await fetch(n,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){const i=await r.json().catch(()=>({}));throw new ad(r.status,i.error||"Request failed")}return r.json()}catch(r){throw r instanceof ad?r:new ad(0,`Network error: ${r instanceof Error?r.message:"Unknown error"}`)}}const av={async demoLogin(e,t){return $r("/auth/demo-login",{method:"POST",body:JSON.stringify({email:e,password:t})})},async getMe(){return $r("/auth/me")},async logout(){return $r("/auth/logout",{method:"POST"})}},wu={async list(e=20,t){const n=new URLSearchParams({limit:e.toString()});return t&&n.append("cursor",t),$r(`/sessions?${n}`)},async create(e){return $r("/sessions",{method:"POST",body:JSON.stringify({title:e})})},async get(e){return $r(`/sessions/${e}`)},async update(e,t){return $r(`/sessions/${e}`,{method:"PATCH",body:JSON.stringify(t)})},async delete(e){return $r(`/sessions/${e}`,{method:"DELETE"})}},em={async list(e,t=50,n,r="older"){const i=new URLSearchParams({limit:t.toString(),direction:r});return n&&i.append("cursor",n),$r(`/sessions/${e}/messages?${i}`)},async send(e,t,n=!1){if(n){const r=await fetch(`${QE}/sessions/${e}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,stream:!0})});if(!r.ok)throw new ad(r.status,"Stream request failed");return r}else return $r(`/sessions/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,stream:!1})})}},ri=async()=>(console.log("Backend check: No backend API server, using local storage for sessions"),!1),f3=()=>{if("https://n8n.srv978041.hstgr.cloud".trim())return console.log("n8n webhook check: Configured (environment variable)"),!0;const t=localStorage.getItem("axpro_n8n_webhook_url"),n=localStorage.getItem("axpro_n8n_configs");if(n)try{const r=JSON.parse(n);if(Array.isArray(r)&&r.length>0&&r[0].webhookUrl)return console.log("n8n webhook check: Configured (multi-config)"),!0}catch(r){console.error("Failed to parse n8n configs:",r)}return t&&t.trim()?(console.log("n8n webhook check: Configured (legacy)"),!0):(console.log("n8n webhook check: Not configured"),!1)},sv=()=>{const e={VITE_SUPABASE_URL:"https://qpyteahuynkgkbmdasbv.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY",VITE_N8N_BASE_URL:"https://n8n.srv978041.hstgr.cloud",VITE_N8N_UPLOAD_WEBHOOK_ID:"1f18f1aa-44c4-467f-b299-c87c9b6f9459",VITE_N8N_LIST_FILES_WEBHOOK_ID:"list-files",VITE_N8N_DELETE_FILE_WEBHOOK_ID:"delete-file",VITE_N8N_REINDEX_FILE_WEBHOOK_ID:"reindex-file",VITE_N8N_FILE_STATUS_WEBHOOK_ID:"file-status",VITE_DEV_MODE:"false",VITE_USE_MOCK_DATA:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_ENABLE_SIMULATION;if(e!==void 0)return e==="true"||e==="1";const t=localStorage.getItem("axpro_enable_simulation");return t!==null?t==="true":!1},h3=e=>{localStorage.setItem("axpro_enable_simulation",e.toString())},p3=()=>{const e=Un(),{theme:t,toggleTheme:n}=as(),{language:r,setLanguage:i,t:a}=rt(),[s,l]=v.useState({email:"",password:""}),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,p]=v.useState("checking"),[m,g]=v.useState(!1),[y,x]=v.useState(!1);ui.useEffect(()=>{const S=Je();S&&(S.role==="admin"?e("/admin/dashboard"):e("/chat"))},[e]),ui.useEffect(()=>{(async()=>{const _=await ri();p(_?"available":"unavailable")})()},[]);const b=S=>{const{name:_,value:k}=S.target;l(E=>({...E,[_]:k})),c&&u(null)},w=async S=>{S.preventDefault(),f(!0),u(null);try{await av.demoLogin(s.email,s.password);const _=Bd(s.email,s.password);_?_.role==="admin"?e("/admin/dashboard"):e("/chat"):u(a("auth.error"))}catch(_){console.log("Backend API failed, trying local auth:",_);const k=Bd(s.email,s.password);k?k.role==="admin"?e("/admin/dashboard"):e("/chat"):u(a("auth.error"))}finally{f(!1)}};return o.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--bg)"},children:[o.jsxs("div",{className:"flex justify-between items-center p-4",children:[o.jsx("div",{className:"text-xs uppercase tracking-wider",style:{color:"var(--text-muted)"},children:a("app.brand")}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:a(t==="light"?"ui.theme.dark":"ui.theme.light")}),o.jsxs("select",{value:r,onChange:S=>i(S.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:"en",children:a("ui.lang.en")}),o.jsx("option",{value:"ko",children:a("ui.lang.ko")})]})]})]}),o.jsx("div",{className:"flex-grow flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-light",style:{color:"var(--text)"},children:a("auth.title.chat")}),o.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:a("auth.subtitle.chat")})]}),o.jsx("form",{className:"space-y-6",onSubmit:w,children:o.jsxs("div",{className:"card py-8 px-6 rounded-lg",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.email")}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:b,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.email")})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.password")}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"password",name:"password",type:m?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:b,className:"input w-full px-3 py-2 pr-10 rounded-md",placeholder:a("auth.password")}),o.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm px-2 py-1",style:{color:"var(--text-muted)"},children:m?o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]}):o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),o.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]})})]})]})]}),c&&o.jsxs("div",{className:"mt-4 p-3 rounded-md error",children:[o.jsx("p",{className:"text-sm",children:c}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:a("auth.demoHint")})]}),o.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full mt-6 flex justify-center py-2 px-4 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":a("auth.continue")})]})}),o.jsxs("div",{className:"card rounded-md p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"Quick Login (Click to use)"}),o.jsxs("button",{onClick:()=>x(!y),className:"flex items-center gap-1 text-xs px-2 py-1 rounded border transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text-muted)"},children:[o.jsx("span",{children:y?"Hide":"Show"}),o.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:y?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:o.jsx("polyline",{points:"6,9 12,15 18,9"})})]})]}),y&&o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("button",{onClick:()=>{l({email:"chatbot-user@tecace.com",password:"user1234"})},className:"text-left p-3 rounded border hover:border-primary transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),o.jsx("span",{className:"font-medium",children:"User"})]}),o.jsx("div",{className:"text-xs mt-1 ml-6",style:{color:"var(--text-muted)"},children:"Chat"})]}),o.jsxs("button",{onClick:()=>{l({email:"chatbot-admin@tecace.com",password:"admin1234"})},className:"text-left p-3 rounded border hover:border-primary transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),o.jsx("path",{d:"M2 17l10 5 10-5"}),o.jsx("path",{d:"M2 12l10 5 10-5"})]}),o.jsx("span",{className:"font-medium",children:"Admin"})]}),o.jsx("div",{className:"text-xs mt-1 ml-6",style:{color:"var(--text-muted)"},children:"Dashboard"})]}),o.jsxs("button",{onClick:()=>{l({email:"professor@tecace.com",password:"admin1234"})},className:"text-left p-3 rounded border hover:border-primary transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),o.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),o.jsx("span",{className:"font-medium",children:"Professor"})]}),o.jsx("div",{className:"text-xs mt-1 ml-6",style:{color:"var(--text-muted)"},children:"Education"})]}),o.jsxs("button",{onClick:()=>{l({email:"hana@tecace.com",password:"tsl1234"})},className:"text-left p-3 rounded border hover:border-primary transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"3"}),o.jsx("path",{d:"M12 1v6m0 6v6m5.2-13.2l-4.2 4.2m0 6l4.2 4.2M1 12h6m6 0h6m-13.2 5.2l4.2-4.2m0-6l-4.2-4.2"})]}),o.jsx("span",{className:"font-medium",children:"Hana"})]}),o.jsx("div",{className:"text-xs mt-1 ml-6",style:{color:"var(--text-muted)"},children:"Custom"})]})]})]})]})}),o.jsx("footer",{className:"mt-auto py-6 px-4 border-t",style:{borderColor:"var(--border)"},children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--text)"},children:"TecAce"}),o.jsx("p",{className:"text-xs leading-relaxed",style:{color:"var(--text-muted)"},children:"Enterprise AI Solutions for Modern Businesses"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--text)"},children:"Product"}),o.jsxs("ul",{className:"space-y-2 text-xs",style:{color:"var(--text-muted)"},children:[o.jsx("li",{children:"AI Assistant Platform"}),o.jsx("li",{children:"Knowledge Management"}),o.jsx("li",{children:"Analytics Dashboard"})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--text)"},children:"Company"}),o.jsxs("ul",{className:"space-y-2 text-xs",style:{color:"var(--text-muted)"},children:[o.jsx("li",{children:o.jsx("a",{href:"https://tecace.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",children:"About Us"})}),o.jsx("li",{children:o.jsx("a",{href:"https://tecace.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",children:"Contact"})})]})]})]}),o.jsx("div",{className:"pt-4 border-t text-center",style:{borderColor:"var(--border)"},children:o.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["© ",new Date().getFullYear()," TecAce Software, Ltd. All rights reserved. |"," ",o.jsx("a",{href:"https://tecace.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",style:{color:"var(--primary)"},children:"tecace.com"})]})})]})})]})},m3=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,a]=v.useState(null),s=Un(),l=()=>{const m=Je();return`axpro_sim_sessions_${(m==null?void 0:m.userId)||"anonymous"}`},c=async()=>{var m;try{if(r(!0),a(null),await ri()){const y=await wu.list();t(y)}else{const y=l(),x=JSON.parse(localStorage.getItem(y)||"[]");console.log(`Loading sessions for user: ${((m=Je())==null?void 0:m.userId)||"anonymous"}, key: ${y}`),t(x)}}catch(g){a(g instanceof Error?g.message:"Failed to fetch sessions")}finally{r(!1)}},u=async m=>{var g;try{console.log("Creating new session...");const y=await ri();if(console.log("Backend available:",y),y){console.log("Using backend API for session creation");const{id:x}=await wu.create(m);return await c(),s(`/chat/${x}`),x}else{console.log("Using local storage for session creation");const x=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,b={id:x,title:m||"New Chat",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},w=l(),S=JSON.parse(localStorage.getItem(w)||"[]");return S.push(b),localStorage.setItem(w,JSON.stringify(S)),console.log(`Created session for user: ${((g=Je())==null?void 0:g.userId)||"anonymous"}, key: ${w}`),console.log("Session created successfully:",b),await c(),s(`/chat/${x}`),x}}catch(y){throw console.error("Failed to create session:",y),a(y instanceof Error?y.message:"Failed to create session"),y}},d=async(m,g)=>{try{if(await ri())await wu.update(m,g);else{const x=l(),b=JSON.parse(localStorage.getItem(x)||"[]"),w=b.findIndex(S=>S.id===m);w!==-1&&(b[w]={...b[w],...g,updatedAt:new Date().toISOString()},localStorage.setItem(x,JSON.stringify(b)))}await c()}catch(y){throw a(y instanceof Error?y.message:"Failed to update session"),y}},f=async m=>{var g;try{console.log("deleteSession called with id:",m);const y=await ri();if(console.log("Backend available:",y),y)console.log("Deleting via backend API"),await wu.delete(m);else{console.log("Deleting from localStorage");const b=l(),w=JSON.parse(localStorage.getItem(b)||"[]");console.log("Current sessions before delete:",w.length);const S=w.filter(k=>k.id!==m);console.log("Sessions after delete:",S.length),localStorage.setItem(b,JSON.stringify(S));const _=`axpro_sim_messages_${((g=Je())==null?void 0:g.userId)||"anonymous"}_${m}`;localStorage.removeItem(_),console.log("Deleted associated messages for session:",m,"key:",_)}console.log("Refreshing sessions list"),await c();const x=e.filter(b=>b.id!==m);console.log("Remaining sessions:",x.length),x.length>0?s(`/chat/${x[0].id}`):s("/chat"),console.log("Delete session completed successfully")}catch(y){throw console.error("Error in deleteSession:",y),a(y instanceof Error?y.message:"Failed to delete session"),y}},h=async m=>{await d(m,{status:"closed"})},p=async m=>{await d(m,{status:"open"})};return v.useEffect(()=>{c()},[]),{sessions:e,loading:n,error:i,createSession:u,updateSession:d,deleteSession:f,closeSession:h,reopenSession:p,refresh:c}},g3=({session:e,isActive:t,onClick:n,updateSession:r,deleteSession:i,closeSession:a,reopenSession:s})=>{var S;const l=_c(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState(e.title||""),m=v.useRef(null),g=_=>{_.preventDefault(),_.stopPropagation(),u(!c)},y=async()=>{if(h.trim()&&h!==e.title)try{await r(e.id,{title:h.trim()})}catch(_){console.error("Failed to rename session:",_)}f(!1),u(!1)},x=async()=>{try{e.status==="closed"?await s(e.id):await a(e.id)}catch(_){console.error("Failed to toggle session status:",_)}u(!1)},b=async()=>{const _=e.status==="closed"?l("context.confirmDeleteClosed"):l("context.confirmDelete");if(window.confirm(_))try{console.log("Deleting session:",e.id),await i(e.id),console.log("Session deleted successfully")}catch(k){console.error("Failed to permanently delete session:",k),alert(l("context.deleteFailed"))}u(!1)};v.useEffect(()=>{const _=k=>{m.current&&!m.current.contains(k.target)&&u(!1)};return c&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[c]);const w=_=>{const k=new Date(_),I=(new Date().getTime()-k.getTime())/(1e3*60*60);return I<1?l("ui.justNow"):I<24?`${Math.floor(I)}h ago`:I<168?`${Math.floor(I/24)}d ago`:k.toLocaleDateString()};return o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`p-3 cursor-pointer transition-colors group ${t?"bg-gray-100 border-r-2 border-gray-400":"hover:bg-gray-50"}`,style:{backgroundColor:t?"var(--primary-light)":void 0,borderRightColor:t?"var(--text)":void 0},onClick:n,onContextMenu:g,children:d?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:h,onChange:_=>p(_.target.value),onKeyDown:_=>{_.key==="Enter"&&y(),_.key==="Escape"&&(f(!1),p(e.title||""))},className:"input w-full px-2 py-1 text-sm",autoFocus:!0}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:y,className:"text-xs px-2 py-1 rounded bg-blue-500 text-white",children:"Save"}),o.jsx("button",{onClick:()=>{f(!1),p(e.title||"")},className:"text-xs px-2 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Cancel"})]})]}):o.jsx(o.Fragment,{children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:`text-sm font-medium truncate ${e.status==="closed"?"opacity-60":""}`,style:{color:"var(--text)"},children:e.title||l("ui.newChatTitle")}),e.status==="closed"&&o.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:"🔒"})]}),e.lastMessage&&o.jsxs("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-secondary)"},children:[e.lastMessage.role==="user"?"You: ":"Assistant: ",e.lastMessage.content]})]}),o.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:w(((S=e.lastMessage)==null?void 0:S.createdAt)||e.updatedAt)}),o.jsx("button",{onClick:g,className:"opacity-0 group-hover:opacity-100 text-xs px-1 py-1 rounded hover:bg-gray-200",style:{color:"var(--text-muted)"},children:"⋯"})]})]})})}),c&&!d&&o.jsx("div",{ref:m,className:"absolute right-0 top-0 z-20 w-48 card rounded-md shadow-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},onClick:_=>_.stopPropagation(),children:o.jsxs("div",{className:"py-1",children:[o.jsxs("button",{onClick:_=>{_.stopPropagation(),f(!0),u(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:["✏️ ",l("context.rename")]}),o.jsx("button",{onClick:_=>{_.stopPropagation(),x()},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:e.status==="closed"?`🔄 ${l("context.reopen")}`:`🔒 ${l("context.close")}`}),o.jsx("hr",{className:"my-1",style:{borderColor:"var(--border)"}}),o.jsxs("button",{onClick:_=>{_.stopPropagation(),b()},className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50",style:{color:"var(--error)"},children:["🗑️ ",l("context.deletePermanently")]})]})})]})},v3=()=>{const e=Un(),{sessionId:t}=HE(),{sessions:n,loading:r,createSession:i,refresh:a,updateSession:s,deleteSession:l,closeSession:c,reopenSession:u}=m3(),d=_c(),[f,h]=v.useState(""),[p,m]=v.useState("all"),g=n.filter(x=>{var S,_;const b=!f||((S=x.title)==null?void 0:S.toLowerCase().includes(f.toLowerCase()))||((_=x.lastMessage)==null?void 0:_.content.toLowerCase().includes(f.toLowerCase())),w=p==="all"||x.status===p;return b&&w}),y=async()=>{try{await i()}catch(x){console.error("Failed to create new chat:",x)}};return v.useEffect(()=>{const x=b=>{(b.metaKey||b.ctrlKey)&&b.key==="n"&&(b.preventDefault(),y())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[]),v.useEffect(()=>{const x=()=>{a()};return window.addEventListener("sessionUpdated",x),()=>window.removeEventListener("sessionUpdated",x)},[a]),r?o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"animate-pulse space-y-3",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),o.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})}):o.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[o.jsxs("div",{className:"p-4 space-y-3 flex-shrink-0",children:[o.jsxs("button",{onClick:y,className:"w-full btn-primary py-2 px-4 rounded-md text-sm font-medium",title:"Create new chat (⌘N or Ctrl+N)",children:["+ ",d("ui.newChat")]}),o.jsx("input",{type:"text",placeholder:d("ui.searchConversations"),value:f,onChange:x=>h(x.target.value),className:"input w-full px-3 py-2 rounded-md text-sm"})]}),o.jsx("div",{className:"px-4 pb-2 flex-shrink-0",children:o.jsx("div",{className:"flex space-x-1",children:["all","open","closed"].map(x=>o.jsx("button",{onClick:()=>m(x),className:`px-3 py-1 text-xs rounded-md transition-colors ${p===x?"text-white":"text-gray-600 hover:text-gray-900"}`,style:{backgroundColor:p===x?"var(--text)":"transparent",color:p===x?"var(--bg)":"var(--text-secondary)"},children:d(x==="all"?"ui.all":x==="open"?"ui.open":"ui.closed")},x))})}),o.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:g.length===0?o.jsx("div",{className:"p-4 text-center",children:f?o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:d("ui.noConversations")}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Try a different search term"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-4xl mb-2",children:"💬"}),o.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text)"},children:d("ui.noConversations")}),o.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:d("ui.startConversation")}),o.jsx("button",{onClick:y,className:"btn-primary px-4 py-2 text-sm rounded-md",children:d("ui.startNewChat")}),o.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:d("ui.backendNote")})]})}):o.jsx("div",{className:"space-y-1 p-2",children:g.map(x=>o.jsx(g3,{session:x,isActive:t===x.id,onClick:()=>e(`/chat/${x.id}`),updateSession:s,deleteSession:l,closeSession:c,reopenSession:u},x.id))})})]})},y3="modulepreload",x3=function(e){return"/"+e},D1={},Yr=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=x3(a),a in D1)return;D1[a]=!0;const s=a.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":y3,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},b3={n8nConfigs:[{id:"default_webhook",name:"Default Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"default_webhook",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"},apiConfigs:[],uiCustomization:{}},w3={n8nConfigs:[{id:"seokhoon_default",name:"Hana Custom Chatbot",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/63647efd-8c39-42d5-8e1f-b465d62091c6",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"seokhoon_default",supabaseConfig:{url:"https://oomjruguisqdahcrvfws.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vbWpydWd1aXNxZGFoY3J2ZndzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNjAxNTUsImV4cCI6MjA3NjYzNjE1NX0.gPLhFgvyCXozmUwbdNDTRp2_-pDH4rHQCJuyPotR8Vo"}},tm={n8nConfigs:[{id:"admin_default",name:"Admin Default Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"admin_default",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"}},Wd="axpro_user_settings",Ax=()=>{const e=Je();if(!e)return null;try{const t=JSON.parse(localStorage.getItem(Wd)||"{}"),n=t[e.userId];if(!n){const r=ZE(e.userId,e.email);return t[e.userId]=r,localStorage.setItem(Wd,JSON.stringify(t)),console.log("✅ Created and saved default settings for:",e.email),r}return n}catch(t){return console.error("Failed to get user settings:",t),null}},oh=e=>{const t=Je();if(!t)return!1;try{const n=JSON.parse(localStorage.getItem(Wd)||"{}"),i={...n[t.userId]||ZE(t.userId,t.email),...e,userId:t.userId,email:t.email,updatedAt:new Date().toISOString()};return n[t.userId]=i,localStorage.setItem(Wd,JSON.stringify(n)),!0}catch(n){return console.error("Failed to save user settings:",n),!1}},ZE=(e,t)=>{const n=new Date().toISOString();return e==="seokhoon_kang_001"||t==="hana@tecace.com"?{userId:e,email:t,...w3,createdAt:n,updatedAt:n}:e==="409esj1923"||t==="chatbot-admin@tecace.com"?{userId:e,email:t,...tm,createdAt:n,updatedAt:n}:e==="user123456"||t==="chatbot-user@tecace.com"?{userId:e,email:t,...tm,createdAt:n,updatedAt:n}:e==="professor_001"||t==="professor@tecace.com"?{userId:e,email:t,...tm,createdAt:n,updatedAt:n}:{userId:e,email:t,...b3,createdAt:n,updatedAt:n}},k3=()=>{const e=Ax();return(e==null?void 0:e.n8nConfigs)||[]},S3=e=>oh({n8nConfigs:e}),j3=()=>{const e=Ax();return e&&(e.n8nConfigs.find(n=>n.id===e.activeN8nConfigId)||e.n8nConfigs[0])||null},_3=e=>oh({activeN8nConfigId:e}),eN=()=>{const e=Ax();return(e==null?void 0:e.supabaseConfig)||{url:"",anonKey:""}},C3=e=>oh({supabaseConfig:e}),lh=()=>{try{const e=k3();return console.log("Loaded user-specific n8n configs:",e),e}catch(e){return console.error("Failed to get user n8n configs:",e),[]}},Px=e=>{try{S3(e),console.log("Saved user-specific n8n configs:",e)}catch(t){console.error("Failed to save user n8n configs:",t)}},Tx=()=>{try{const e=j3();return console.log("Active user n8n config:",e),e}catch(e){return console.error("Failed to get active user n8n config:",e),null}},tN=e=>{try{_3(e),console.log("Set active user n8n config:",e)}catch(t){console.error("Failed to set active user n8n config:",t)}},E3=e=>{const t={...e,id:`n8n_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=lh();return n.push(t),Px(n),t},N3=(e,t)=>{const n=lh(),r=n.findIndex(i=>i.id===e);return r===-1?null:(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},Px(n),n[r])},O3=e=>{const t=lh(),n=t.filter(i=>i.id!==e);if(n.length===t.length)return!1;Px(n);const r=Tx();return(r==null?void 0:r.id)===e&&n.length>0&&tN(n[0].id),!0},A3=async e=>{const t=Tx();if(console.log("Sending to n8n with user config:",t),console.log("Request payload:",e),!t)throw new Error("No active n8n configuration found for current user");try{console.log("Making request to:",t.webhookUrl),console.log("Request payload:",JSON.stringify(e));const n=new AbortController,r=setTimeout(()=>{console.log("n8n webhook request timed out after 60 seconds"),n.abort()},6e4),i=await fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e),signal:n.signal});clearTimeout(r),console.log("Response status:",i.status),console.log("Response headers:",i.headers);const a=await i.text();if(console.log("=== N8N WEBHOOK DEBUG ==="),console.log("Response status:",i.status),console.log("Response ok:",i.ok),console.log("Raw response text length:",a.length),console.log("Raw response text:",a),console.log("Response text trimmed:",a.trim()),console.log("Is empty?",!a||a.trim()===""),console.log("Response URL:",i.url),console.log("Response headers:",Object.fromEntries(i.headers.entries())),console.log("========================"),!i.ok)throw console.error("Response error:",a),new Error(`HTTP error! status: ${i.status}, message: ${a}`);if(!a||a.trim()==="")throw console.warn("Empty response from webhook"),new Error("Empty response from webhook. Please check your workflow configuration.");let s;try{s=JSON.parse(a)}catch(c){throw console.error("Failed to parse JSON response:",c),console.error("Response text was:",a),new Error(`Invalid JSON response from n8n: ${a.substring(0,100)}...`)}console.log("n8n response:",s);let l;if(Array.isArray(s))l=s[0];else if(s&&typeof s=="object")l=s;else throw new Error("Unexpected response format from n8n webhook");if(l&&l.answer){if(l.answer.includes("No response from webhook"))throw console.error("Webhook returned error message:",l.answer),new Error("Webhook returned error: "+l.answer);if(l.answer===null||l.answer==="")throw console.error("Webhook returned null or empty answer"),new Error("Empty response from webhook. Please check your workflow configuration.");typeof l.answer=="string"&&(l.answer.includes("error")||l.answer.includes("Error")||l.answer.includes("not valid")||l.answer.includes("invalid"))&&console.warn("Webhook answer contains error indicators:",l.answer)}return l}catch(n){throw console.error("Failed to send to n8n:",n),n.name==="AbortError"?new Error("Webhook request timed out after 60 seconds"):n.name==="TypeError"&&n.message.includes("fetch")?new Error("Network error: Unable to reach webhook"):n}},P3=async e=>{try{const t={sessionId:"test-session",chatId:"test-chat-"+Date.now(),userId:"test-user",action:"sendMessage",chatInput:"Test connection"};return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch(t){return console.error("Failed to test n8n connection:",t),!1}};class T3{constructor(t){ru(this,"reader");this.reader=t.body.getReader()}async*read(){const t=new TextDecoder;let n="";try{for(;;){const{done:r,value:i}=await this.reader.read();if(r)break;n+=t.decode(i,{stream:!0});const a=n.split(`
`);n=a.pop()||"";for(const s of a)if(s.startsWith("data: ")){const l=s.slice(6);if(l==="[DONE]")return;try{yield JSON.parse(l)}catch{console.warn("Failed to parse SSE data:",l)}}}}finally{this.reader.releaseLock()}}}const R1={async sendMessage(e,t,n){const r=await ri();if(console.log("Backend available:",r),r)if(n){const i=await em.send(e,t,!0),a=new T3(i);let s="",l=[];for await(const c of a.read())n(c),c.type==="final"&&(s=c.messageId||"",l=c.citations||[]);return{messageId:s,citations:l}}else{const i=await em.send(e,t,!1);return{messageId:i.messageId||`backend_${Date.now()}`,citations:i.citations||[]}}else{console.log("Backend unavailable, trying n8n for chat...");const i=f3(),a=Tx();if(console.log("n8n webhook available:",i),console.log("Active n8n config:",a),i&&a&&a.webhookUrl){console.log("Using n8n webhook:",a.webhookUrl);try{const u=Je(),d=`chat_${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f={sessionId:e,chatId:d,userId:(u==null?void 0:u.userId)||"unknown",action:"sendMessage",chatInput:t};console.log("=== CHAT SERVICE DEBUG ==="),console.log("Sending request to n8n:",f);let h,p=null,m=f;for(let g=1;g<=3;g++)try{console.log(`n8n request attempt ${g}/3`),console.log("Using chatId:",m.chatId),h=await A3(m),console.log("n8n response received successfully:",h),console.log("Response type:",typeof h),console.log("Response has answer?",!!(h!=null&&h.answer)),console.log("Response answer:",h==null?void 0:h.answer);break}catch(y){p=y,console.warn(`n8n request attempt ${g} failed:`,y);const x=y instanceof Error?y.message:String(y);if(x.includes("chat")&&(x.includes("duplicate")||x.includes("already exists")||x.includes("not unique")||x.includes("unique constraint"))&&g<3){console.log("Chat ID duplication detected, generating new chatId...");const w=`chat_${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;m={...m,chatId:w},console.log("New chatId generated:",w)}if(g<3){const w=Math.pow(2,g)*1e3;console.log(`Retrying in ${w}ms...`),await new Promise(S=>setTimeout(S,w))}}if(!h||!h.answer){console.error("All n8n attempts failed, last error:",p);let g="Chat service unavailable";throw p!=null&&p.message.includes("Empty response")?g+=": Empty response from webhook. Please check your workflow configuration.":p!=null&&p.message.includes("timeout")||p!=null&&p.message.includes("ECONNRESET")?g+=": Request timed out or connection reset. The service may be overloaded.":p!=null&&p.message.includes("Network error")?g+=": Network connection failed. Please check your internet connection.":p!=null&&p.message.includes("socket hang up")?g+=": Connection lost. Please try again.":p!=null&&p.message.includes("chat")&&(p!=null&&p.message.includes("duplicate"))?g+=": Chat ID conflict detected and resolved, but service still unavailable.":g+=`: ${(p==null?void 0:p.message)||"Unknown error occurred"}`,new Error(`n8n webhook failed after 3 attempts: ${g}`)}if(console.log("=========================="),n){const g=h.answer;console.log("Streaming answer text:",g);const y=g.split(" ");for(let x=0;x<y.length;x++)n({type:"delta",text:y[x]+(x<y.length-1?" ":"")}),await new Promise(b=>setTimeout(b,50));n({type:"final",messageId:d,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:d,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]})}return{messageId:d,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:d,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]}}catch(u){if(console.error("Failed to send to n8n:",u),console.log("n8n failed, checking simulation mode setting"),sv())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error(`Chat service unavailable: ${u instanceof Error?u.message:"n8n webhook failed"}`)}}else if(console.log("No n8n config found or webhook URL missing"),console.log("n8n config was:",a),sv())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error("Chat service unavailable: No n8n webhook configured");console.log("Falling back to simulation");const l=(await Yr(()=>import("./simulation-ee6eb0cb.js"),[])).generateSimulatedResponse(t),c=l.reply;if(n){const u=c.split(" ");for(let d=0;d<u.length;d++)n({type:"delta",text:u[d]+(d<u.length-1?" ":"")}),await new Promise(f=>setTimeout(f,50));n({type:"final",messageId:`sim_${Date.now()}`,citations:(l.citations||[]).map((d,f)=>({id:`sim_citation_${Date.now()}_${f}`,messageId:`sim_${Date.now()}`,sourceType:d.sourceType,title:d.title,snippet:d.snippet,sourceId:d.sourceId||`sim_${Date.now()}`,metadata:{}}))})}return{messageId:`sim_${Date.now()}`,citations:(l.citations||[]).map((u,d)=>({id:`sim_citation_${Date.now()}_${d}`,messageId:`sim_${Date.now()}`,sourceType:u.sourceType,title:u.title,snippet:u.snippet,sourceId:u.sourceId||`sim_${Date.now()}`,metadata:{}}))}}},async getMessages(e,t=50,n,r="older"){return await ri()?await em.list(e,t,n,r):JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]")}},I3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yr(()=>Promise.resolve().then(()=>So),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ix extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class M1 extends Ix{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class L1 extends Ix{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $1 extends Ix{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ov;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ov||(ov={}));var D3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class R3{constructor(t,{headers:n={},customFetch:r,region:i=ov.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=I3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return D3(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:s,body:l,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)));const p=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:h,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new M1(x)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new L1(p);if(!p.ok)throw new $1(p);let g=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield p.json():g==="application/octet-stream"?y=yield p.blob():g==="text/event-stream"?y=p:g==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new M1(a)}:{data:null,error:a,response:a instanceof $1||a instanceof L1?a.context:void 0}}})}}var un={},Dx={},ch={},Cc={},uh={},dh={},M3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},to=M3();const L3=to.fetch,nN=to.fetch.bind(to),rN=to.Headers,$3=to.Request,F3=to.Response,So=Object.freeze(Object.defineProperty({__proto__:null,Headers:rN,Request:$3,Response:F3,default:nN,fetch:L3},Symbol.toStringTag,{value:"Module"})),z3=UR(So);var fh={};Object.defineProperty(fh,"__esModule",{value:!0});let U3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};fh.default=U3;var iN=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dh,"__esModule",{value:!0});const B3=iN(z3),W3=iN(fh);let V3=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=B3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,l,c,u;let d=null,f=null,h=null,p=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,p=200,m="OK")}catch{a.status===404&&y===""?(p=204,m="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,m="OK"),d&&this.shouldThrowOnError)throw new W3.default(d)}return{error:d,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,l,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};dh.default=V3;var K3=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uh,"__esModule",{value:!0});const H3=K3(dh);let q3=class extends H3.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};uh.default=q3;var Y3=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const J3=Y3(uh);let G3=class extends J3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Cc.default=G3;var X3=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ch,"__esModule",{value:!0});const Xo=X3(Cc);let Q3=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},a=r?"HEAD":"GET";let s=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",l),i&&this.headers.append("Prefer",`count=${i}`),new Xo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Xo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ch.default=Q3;var aN=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dx,"__esModule",{value:!0});const Z3=aN(ch),e$=aN(Cc);let t$=class sN{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new Z3.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||i?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new e$.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Dx.default=t$;var jo=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(un,"__esModule",{value:!0});un.PostgrestError=un.PostgrestBuilder=un.PostgrestTransformBuilder=un.PostgrestFilterBuilder=un.PostgrestQueryBuilder=un.PostgrestClient=void 0;const oN=jo(Dx);un.PostgrestClient=oN.default;const lN=jo(ch);un.PostgrestQueryBuilder=lN.default;const cN=jo(Cc);un.PostgrestFilterBuilder=cN.default;const uN=jo(uh);un.PostgrestTransformBuilder=uN.default;const dN=jo(dh);un.PostgrestBuilder=dN.default;const fN=jo(fh);un.PostgrestError=fN.default;var n$=un.default={PostgrestClient:oN.default,PostgrestQueryBuilder:lN.default,PostgrestFilterBuilder:cN.default,PostgrestTransformBuilder:uN.default,PostgrestBuilder:dN.default,PostgrestError:fN.default};const{PostgrestClient:r$,PostgrestQueryBuilder:Xce,PostgrestFilterBuilder:Qce,PostgrestTransformBuilder:Zce,PostgrestBuilder:eue,PostgrestError:tue}=n$;class i${static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const a$="2.75.0",s$=`realtime-js/${a$}`,o$="1.0.0",lv=1e4,l$=1e3,c$=100;var El;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(El||(El={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var gr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gr||(gr={}));var cv;(function(e){e.websocket="websocket"})(cv||(cv={}));var Sa;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Sa||(Sa={}));class u${constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let s=this.HEADER_LENGTH+2;const l=r.decode(t.slice(s,s+i));s=s+i;const c=r.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class hN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Be||(Be={}));const F1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=d$(s,e,t,i),a),{}):{}},d$=(e,t,n,r)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=n[e];return a&&!r.includes(a)?pN(a,s):uv(s)},pN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return m$(t,n)}switch(e){case Be.bool:return f$(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return h$(t);case Be.json:case Be.jsonb:return p$(t);case Be.timestamp:return g$(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return uv(t);default:return uv(t)}},uv=e=>e,f$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},h$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},p$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},m$=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const s=e.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>pN(t,l))}return e},g$=e=>typeof e=="string"?e.replace(" ","T"):e,mN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class nm{constructor(t,n,r={},i=lv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var z1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(z1||(z1={}));class Nl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Nl.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nl.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),s=this.transformState(n),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),m=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(l[u]=m),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(U1||(U1={}));var Ol;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ol||(Ol={}));var Qr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qr||(Qr={}));class Rx{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new nm(this,gr.join,this.params,this.timeout),this.rejoinTimer=new hN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gr.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Nl(this),this.broadcastEndpointURL=mN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ol.PRESENCE]&&this.bindings[Ol.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Qr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Qr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Qr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,x=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:S,schema:_,table:k,filter:E}}=w,I=p&&p[b];if(I&&I.event===S&&I.schema===_&&I.table===k&&I.filter===E)x.push(Object.assign(Object.assign({},w),{id:I.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(Qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Qr.SUBSCRIBED);return}}).receive("error",p=>{this.state=gt.errored,t==null||t(Qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===gt.joined&&t===Ol.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new nm(this,gr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nm(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>c$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=gr;if(r&&[l,c,u,d].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(p=>p.callback(h,r)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,y,x,b,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const S=p.id,_=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:x,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:x,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Rx.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gr.close,{},t)}_onError(t){this._on(gr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=F1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=F1(t.columns,t.old_record)),n}}const rm=()=>{},ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},v$=[1e3,2e3,5e3,1e4],y$=1e4,x$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b${constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lv,this.transport=null,this.heartbeatIntervalMs=ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=rm,this.ref=0,this.reconnectTimer=null,this.logger=rm,this.conn=null,this.sendBuffer=[],this.serializer=new u$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Yr(()=>Promise.resolve().then(()=>So),void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${cv.websocket}`,this.httpEndpoint=mN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o$}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case El.connecting:return Sa.Connecting;case El.open:return Sa.Open;case El.closing:return Sa.Closing;default:return Sa.Closed}}isConnected(){return this.connectionState()===Sa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Rx(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(l$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:s}=n,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${r} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([x$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:s$};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(gr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new hN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,s,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:lv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ku.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:rm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>v$[f-1]||y$,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Mx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w$ extends Mx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dv extends Mx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var k$=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const gN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yr(()=>Promise.resolve().then(()=>So),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},S$=()=>k$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yr(()=>Promise.resolve().then(()=>So),void 0)).Response:Response}),fv=e=>{if(Array.isArray(e))return e.map(n=>fv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=fv(r)}),t},j$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ss=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const im=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_$=(e,t,n)=>ss(void 0,void 0,void 0,function*(){const r=yield S$();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new w$(im(i),a,s))}).catch(i=>{t(new dv(im(i),i))}):t(new dv(im(e),e))}),C$=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(j$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ec(e,t,n,r,i,a){return ss(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(n,C$(t,r,i,a)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>_$(c,l,r))})})}function Vd(e,t,n,r){return ss(this,void 0,void 0,function*(){return Ec(e,"GET",t,n,r)})}function Rr(e,t,n,r,i){return ss(this,void 0,void 0,function*(){return Ec(e,"POST",t,r,i,n)})}function hv(e,t,n,r,i){return ss(this,void 0,void 0,function*(){return Ec(e,"PUT",t,r,i,n)})}function E$(e,t,n,r){return ss(this,void 0,void 0,function*(){return Ec(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vN(e,t,n,r,i){return ss(this,void 0,void 0,function*(){return Ec(e,"DELETE",t,r,i,n)})}var N$=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class O${constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return N$(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var A$=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class P${constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new O$(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return A$(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}var an=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const T$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},B1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I${constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=gN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return an(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},B1),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?hv:Rr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return an(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:B1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield hv(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return an(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Rr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new Mx("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}update(t,n,r){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return an(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return an(this,void 0,void 0,function*(){try{return{data:{path:(yield Rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return an(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Rr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return an(this,void 0,void 0,function*(){try{const i=yield Rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),s=a?`?${a}`:"",l=this._getFinalPath(t),c=()=>Vd(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new P$(c,this.shouldThrowOnError)}info(t){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Vd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}exists(t){return an(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield E$(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r)&&r instanceof dv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return an(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}list(t,n,r){return an(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},T$),n),{prefix:t||""});return{data:yield Rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}listV2(t,n){return an(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Rr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const D$="2.75.0",R$={"X-Client-Info":`storage-js/${D$}`};var hs=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class M${constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},R$),n),this.fetch=gN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hs(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Vd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}createBucket(t){return hs(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Rr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return hs(this,void 0,void 0,function*(){try{return{data:yield hv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return hs(this,void 0,void 0,function*(){try{return{data:yield vN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}})}}class L$ extends M${constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new I$(this.url,this.headers,t,this.fetch)}}const $$="2.75.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const F$={"X-Client-Info":`supabase-js-${ml}/${$$}`},z$={headers:F$},U$={schema:"public"},B$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},W$={};var V$=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const K$=e=>{let t;return e?t=e:typeof fetch>"u"?t=nN:t=fetch,(...n)=>t(...n)},H$=()=>typeof Headers>"u"?rN:Headers,q$=(e,t,n)=>{const r=K$(n),i=H$();return(a,s)=>V$(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(a,Object.assign(Object.assign({},s),{headers:u}))})};var Y$=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function J$(e){return e.endsWith("/")?e:e+"/"}function G$(e,t){var n,r;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Y$(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function X$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(J$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const yN="2.75.0",ws=30*1e3,pv=3,am=pv*ws,Q$="http://localhost:9999",Z$="supabase.auth.token",e5={"X-Client-Info":`gotrue-js/${yN}`},mv="X-Supabase-Api-Version",xN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},t5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n5=10*60*1e3;class nc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class r5 extends nc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function i5(e){return pe(e)&&e.name==="AuthApiError"}class ja extends nc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class sa extends nc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Pi extends sa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function a5(e){return pe(e)&&e.name==="AuthSessionMissingError"}class ps extends sa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Su extends sa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends sa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s5(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class W1 extends sa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gv extends sa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function sm(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class V1 extends sa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vv extends sa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Kd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K1=` 	
\r=`.split(""),o5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<K1.length;t+=1)e[K1[t].charCodeAt(0)]=-2;for(let t=0;t<Kd.length;t+=1)e[Kd[t].charCodeAt(0)]=t;return e})();function H1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Kd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Kd[r]),t.queuedBits-=6}}function bN(e,t,n){const r=o5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function q1(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{u5(s,r,n)};for(let s=0;s<e.length;s+=1)bN(e.charCodeAt(s),i,a);return t.join("")}function l5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function c5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}l5(r,t)}}function u5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Vs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)bN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function d5(e){const t=[];return c5(e,n=>t.push(n)),new Uint8Array(t)}function Oa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>H1(i,n,r)),H1(null,n,r),t.join("")}function f5(e){return Math.round(Date.now()/1e3)+e}function h5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sn=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},wN=()=>{if(!Sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function p5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const kN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Yr(()=>Promise.resolve().then(()=>So),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},m5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ks=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Oi=async(e,t)=>{await e.removeItem(t)};class hh{constructor(){this.promise=new hh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hh.promiseConstructor=Promise;function om(e){const t=e.split(".");if(t.length!==3)throw new vv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!t5.test(t[r]))throw new vv("JWT not in base64url format");return{header:JSON.parse(q1(t[0])),payload:JSON.parse(q1(t[1])),signature:Vs(t[2]),raw:{header:t[0],payload:t[1]}}}async function g5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function v5(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){r(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function y5(e){return("0"+e.toString(16)).substr(-2)}function x5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,y5).join("")}async function b5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function w5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await b5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(e,t,n=!1){const r=x5();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ks(e,`${t}-code-verifier`,i);const a=await w5(r);return[a,r===a?"plain":"s256"]}const k5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function S5(e){const t=e.headers.get(mv);if(!t||!t.match(k5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function j5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const C5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(e){if(!C5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Y1(e){return JSON.parse(JSON.stringify(e))}var E5=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const xa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N5=[502,503,504];async function J1(e){var t;if(!m5(e))throw new gv(xa(e),0);if(N5.includes(e.status))throw new gv(xa(e),e.status);let n;try{n=await e.json()}catch(a){throw new ja(xa(a),a)}let r;const i=S5(e);if(i&&i.getTime()>=xN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new V1(xa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Pi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new V1(xa(n),e.status,n.weak_password.reasons);throw new r5(xa(n),e.status||500,r)}const O5=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function be(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[mv]||(a[mv]=xN["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await A5(e,t,n+l,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function A5(e,t,n,r,i,a){const s=O5(t,r,i,a);let l;try{l=await e(n,Object.assign({},s))}catch(c){throw console.error(c),new gv(xa(c),0)}if(l.ok||await J1(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await J1(c)}}function hr(e){var t;let n=null;I5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=f5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function G1(e){const t=hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $i(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function P5(e){return{data:e,error:null}}function T5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=E5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function X1(e){return e}function I5(e){return e.access_token&&e.refresh_token&&e.expires_in}const cm=["global","local","others"];var D5=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class R5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=kN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=cm[0]){if(cm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cm.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$i})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=D5(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:T5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$i})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:X1});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){gs(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$i})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){gs(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$i})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){gs(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$i})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){gs(t.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){gs(t.userId),gs(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:X1});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function Q1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vs={debug:!!(globalThis&&wN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class SN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class M5 extends SN{}async function L5(e,t,n){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new M5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function $5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function F5(e){return parseInt(e,16)}function z5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function U5(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=jN(e.address),m=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(x+=`
Expiration Time: ${i.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}x+=b}return`${y}
${x}`}class ut extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Hd extends ut{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function B5({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(CN(s)){if(a.rp.id!==s)return new ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function W5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(CN(r)){if(n.rpId!==r)return new ut({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var _N=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class V5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const K5=new V5;function H5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=_N(e,["challenge","user","excludeCredentials"]),a=Vs(t).buffer,s=Object.assign(Object.assign({},n),{id:Vs(n.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Vs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function q5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=_N(e,["challenge","allowCredentials"]),i=Vs(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const l=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Vs(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Y5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Oa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Oa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function J5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Oa(new Uint8Array(i.authenticatorData)),clientDataJSON:Oa(new Uint8Array(i.clientDataJSON)),signature:Oa(new Uint8Array(i.signature)),userHandle:i.userHandle?Oa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Z1(){var e,t;return!!(Sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function G5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hd("Browser returned unexpected credential type",t)}:{data:null,error:new Hd("Empty credential response",t)}}catch(t){return{data:null,error:B5({error:t,options:e})}}}async function X5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Hd("Browser returned unexpected credential type",t)}:{data:null,error:new Hd("Empty credential response",t)}}catch(t){return{data:null,error:W5({error:t,options:e})}}}const Q5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Z5={userVerification:"preferred",hints:["security-key"]};function qd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(t(s)){const l=r[a];t(l)?r[a]=qd(l,s):r[a]=qd(s)}else r[a]=s}return r}function eF(e,t){return qd(Q5,e,t||{})}function tF(e,t){return qd(Z5,e,t||{})}class nF{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const c=i??K5.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=eF(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await G5({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=tF(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await X5(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return pe(s)?{data:null,error:s}:{data:null,error:new ja("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn authentication")};try{if(!Z1())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(s){return pe(s)?{data:null,error:s}:{data:null,error:new ja("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn registration")};try{if(!Z1())return{data:null,error:new ja("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return pe(s)?{data:null,error:s}:{data:null,error:new ja("Unexpected error in register",s)}}}}$5();const rF={url:Q$,storageKey:Z$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ek(e,t,n){return await n()}const ys={};class rc{get jwks(){var t,n;return(n=(t=ys[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ys[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ys[this.storageKey]=Object.assign(Object.assign({},ys[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rc.nextInstanceID,rc.nextInstanceID+=1,this.instanceID>0&&Sn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},rF),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new R5({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=kN(i.fetch),this.lock=i.lock||ek,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=L5:this.lock=ek,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new nF(this)},this.persistSession?(i.storage?this.storage=i.storage:wN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Q1(this.memoryStorage)),Sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=p5(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Sn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),s5(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?{error:n}:{error:new ja("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:hr}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ms(this.storage,this.storageKey)),a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:hr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hr})}else throw new Su("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:s,options:l}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:G1})}else if("phone"in t){const{phone:a,password:s,options:l}=t;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:G1})}else throw new Su("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ps}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,s,l,c,u,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:x,options:b}=t;let w;if(Sn())if(typeof y=="object")w=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),_=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=jN(_[0]);let E=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const O=await w.request({method:"eth_chainId"});E=F5(O)}const I={domain:S.host,address:k,statement:x,uri:S.href,version:"1",chainId:E,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=U5(I),m=await w.request({method:"personal_sign",params:[z5(p),k]})}try{const{data:g,error:y}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:hr});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new ps}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(pe(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var n,r,i,a,s,l,c,u,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:x,statement:b,options:w}=t;let S;if(Sn())if(typeof x=="object")S=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=x}const _=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:x}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Oa(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:hr});if(x)throw x;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ps}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:x})}catch(y){if(pe(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await pa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:s}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:hr});if(await Oi(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ps}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(pe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=t,l=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:hr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ps}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ms(this.storage,this.storageKey));const{error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Su("You must provide either an email or phone number.")}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:l}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:hr});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await ms(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:P5})}catch(a){if(pe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Pi;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:s}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:s,error:l}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new Su("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<am:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await pa(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=lm()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$i}):await this._useSession(async n=>{var r,i,a;const{data:s,error:l}=n;if(l)throw l;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pi}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:$i})})}catch(n){if(pe(n))return a5(n)&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Pi;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ms(this.storage,this.storageKey));const{data:u,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:$i});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=om(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(pe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:l}=n;if(l)throw l;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Pi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(pe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Sn())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new W1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new W1("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new ju("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const x={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(r){if(pe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(i5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Oi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=h5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ms(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(pe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Sn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(pe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:hr}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ps}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await v5(async i=>(i>0&&await g5(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hr})),(i,a)=>{const s=200*Math.pow(2,i);return a&&sm(a)&&Date.now()+s-r<ws})}catch(r){if(this._debug(n,"error",r),pe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Sn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await pa(this.storage,this.storageKey);if(i&&this.userStorage){let s=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await ks(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:lm()}else if(i&&!i.user&&!i.user){const s=await pa(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Oi(this.storage,this.storageKey+"-user"),await ks(this.storage,this.storageKey,i)):i.user=lm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<am;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${am}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),sm(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hh;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Pi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),pe(a)){const s={data:null,error:a};return sm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ks(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Y1(i);await ks(this.storage,this.storageKey,a)}else{const i=Y1(n);await ks(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Oi(this.storage,this.storageKey),await Oi(this.storage,this.storageKey+"-code-verifier"),await Oi(this.storage,this.storageKey+"-user"),this.userStorage&&await Oi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ws}ms, refresh threshold is ${pv} ticks`),i<=pv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof SN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await ms(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Y5(t.webauthn.credential_response):J5(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const s=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:H5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:q5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=om(i.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+n5>i)return r;const{data:a,error:s}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=om(r);n!=null&&n.allowExpired||j5(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=_5(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,d5(`${l}.${c}`)))throw new vv("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}rc.nextInstanceID=0;const iF=rc;class aF extends iF{constructor(t){super(t)}}var sF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function l(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class oF{constructor(t,n,r){var i,a,s;this.supabaseUrl=t,this.supabaseKey=n;const l=X$(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:U$,realtime:W$,auth:Object.assign(Object.assign({},B$),{storageKey:c}),global:z$},d=G$(r??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=q$(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new r$(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new L$(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new R3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return sF(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:s,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aF({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new b$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lF=(e,t,n)=>new oF(e,t,n);function cF(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}cF()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let um=null,tk=null;const Me=()=>{const e=eN(),t=`${e.url}:${e.anonKey}`;if(!um||tk!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set for current user. Please configure in Settings > Database.");um=lF(e.url,e.anonKey),tk=t,console.log("✅ Supabase client initialized for current user")}return um},uF=()=>eN(),dF=e=>{C3(e)},fF=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}};async function Lx(){try{const e=Me();console.log("Fetching admin feedback from Supabase...");const{data:t,error:n}=await e.from("admin_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch admin feedback: ${n.message}`);return console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} admin feedback records`),t||[]}catch(e){throw console.error("Failed to fetch admin feedback:",e),e}}async function Ya(){try{const e=Me();console.log("Fetching user feedback from Supabase...");const{data:t,error:n}=await e.from("user_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch user feedback: ${n.message}`);return console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} user feedback records`),t||[]}catch(e){throw console.error("Failed to fetch user feedback:",e),e}}async function hF(e,t){try{const n=Me(),{data:r,error:i}=await n.from("user_feedback").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!1});if(i)throw console.error("Supabase error:",i),new Error(`Failed to fetch user feedback: ${i.message}`);return r||[]}catch(n){throw console.error("Failed to fetch user feedback by date range:",n),n}}async function pF(e){try{const t=Me(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(t){throw console.error("Error fetching admin feedback:",t),t}}async function $x(e,t,n,r){try{const i=Me();console.log("Submitting user feedback:",{chatId:e,userId:t,reaction:n,feedbackText:r});const a={chat_id:e,user_id:t,reaction:n,feedback_text:r||null},{data:s,error:l}=await i.from("user_feedback").insert([a]).select().single();if(l)throw console.error("Supabase error:",l),new Error(`Failed to submit user feedback: ${l.message}`);return console.log("✅ User feedback submitted:",s),s}catch(i){throw console.error("Failed to submit user feedback:",i),i}}async function Yd(e){try{const t=Me(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).maybeSingle();if(r)throw console.error("Error fetching admin feedback:",r),r;return n}catch(t){return console.error("Error fetching admin feedback by chat:",t),null}}async function EN(e,t,n,r){try{const i=Me();console.log("Submitting admin feedback:",{chatId:e,verdict:t,feedbackText:n,correctedResponse:r});const a=await Yd(e);let s,l;if(a){const c={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},u=await i.from("admin_feedback").update(c).eq("chat_id",e).select().maybeSingle();s=u.data,l=u.error}else{const c={chat_id:e,feedback_verdict:t,feedback_text:n||null,corrected_response:r||null},u=await i.from("admin_feedback").insert([c]).select().maybeSingle();s=u.data,l=u.error}if(l)throw console.error("Supabase error:",l),new Error(`Failed to submit admin feedback: ${l.message}`);return console.log("✅ Admin feedback submitted:",s),s}catch(i){throw console.error("Failed to submit admin feedback:",i),i}}async function mF(e,t,n,r){try{const i=Me();console.log("Updating admin feedback:",{id:e,verdict:t,feedbackText:n,correctedResponse:r});const a={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},{data:s,error:l}=await i.from("admin_feedback").update(a).eq("id",e).select().single();if(l)throw console.error("Supabase error:",l),new Error(`Failed to update admin feedback: ${l.message}`);return console.log("✅ Admin feedback updated:",s),s}catch(i){throw console.error("Failed to update admin feedback:",i),i}}async function gF(e,t){try{const n=Me();console.log("Updating admin feedback field:",{id:e,updates:t});const{data:r,error:i}=await n.from("admin_feedback").update(t).eq("id",e).select().single();if(i)throw console.error("Supabase error:",i),new Error(`Failed to update admin feedback: ${i.message}`);return console.log("✅ Admin feedback field updated:",r),r}catch(n){throw console.error("Failed to update admin feedback field:",n),n}}async function NN(e){try{const t=Me();console.log("Deleting admin feedback:",{id:e});const{error:n}=await t.from("admin_feedback").delete().eq("id",e);if(n)throw console.error("Supabase error:",n),new Error(`Failed to delete admin feedback: ${n.message}`);console.log("✅ Admin feedback deleted:",e)}catch(t){throw console.error("Failed to delete admin feedback:",t),t}}async function ON(e){try{const t=Me();console.log("Deleting user feedback:",{id:e});const{error:n}=await t.from("user_feedback").delete().eq("id",e);if(n)throw console.error("Supabase error:",n),new Error(`Failed to delete user feedback: ${n.message}`);console.log("✅ User feedback deleted:",e)}catch(t){throw console.error("Failed to delete user feedback:",t),t}}const vF=Object.freeze(Object.defineProperty({__proto__:null,deleteAdminFeedback:NN,deleteUserFeedback:ON,fetchAllAdminFeedback:Lx,fetchAllUserFeedback:Ya,fetchUserFeedbackByDateRange:hF,getAdminFeedback:pF,getAdminFeedbackByChat:Yd,submitAdminFeedback:EN,submitUserFeedback:$x,updateAdminFeedback:mF,updateAdminFeedbackField:gF},Symbol.toStringTag,{value:"Module"})),yF=e=>{const[t,n]=v.useState([]),[r,i]=v.useState(!0),[a,s]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(0),p=b=>{const w=Je();return`axpro_sim_messages_${(w==null?void 0:w.userId)||"anonymous"}_${b}`},m=v.useCallback(async()=>{var b;try{if(i(!0),c(null),await ri()){const S=await R1.getMessages(e);n(S)}else{const S=p(e),_=JSON.parse(localStorage.getItem(S)||"[]");console.log(`Loading messages for user: ${((b=Je())==null?void 0:b.userId)||"anonymous"}, session: ${e}, key: ${S}`),n(_)}}catch(w){c(w instanceof Error?w.message:"Failed to fetch messages")}finally{i(!1)}},[e]);v.useEffect(()=>{m()},[m]);const g=b=>{const w=b.split(`
`)[0];return(w.length>50?w.substring(0,50)+"...":w)||"New Chat"},y=v.useCallback(async b=>{if(!b.trim())return;const w=Date.now();if(u===b&&w-f<5e3){console.log("Preventing duplicate message send within 5 seconds");return}console.log("=== SEND MESSAGE START ==="),console.log("Session ID:",e),console.log("Content:",b),s(!0),c(null),d(b),h(w);const S={id:`user-${Date.now()}`,sessionId:e,role:"user",content:b,meta:{},createdAt:new Date().toISOString()};n(O=>(console.log("Adding user message:",S),[...O,S]));const _=`assistant-${Date.now()}`;n(O=>{const C={id:_,sessionId:e,role:"assistant",content:"",createdAt:new Date().toISOString(),meta:{isStreaming:!0}};return console.log("Created new assistant message:",C),[...O,C]});let k="",E,I=[];try{console.log("Calling chatService.sendMessage...");const O=await R1.sendMessage(e,b,P=>{console.log("=== STREAM EVENT ==="),console.log("Event type:",P.type),console.log("Event text:",P.text),console.log("Event messageId:",P.messageId),console.log("==================="),P.type==="delta"&&P.text?(k+=P.text,n(R=>R.map(F=>{if(F.id===_){const V=(F.content||"")+P.text;return console.log("Updated assistant message content:",V),{...F,content:V}}return F}))):P.type==="final"&&(E=P.messageId,I=P.citations,console.log("Final event received - messageId:",P.messageId,"citations:",P.citations))});if(console.log("Chat service result:",O),n(P=>P.map(R=>{if(R.id===_){const V={...R,id:E||_,content:k||"No response received",citations:I,meta:{isStreaming:!1}};return console.log("Final assistant message:",V),V}return R})),!await ri()){const P=[...t.filter(N=>!N.id.startsWith("temp-")),S,{id:E||_,sessionId:e,role:"assistant",content:k||"No response received",meta:{isStreaming:!1},createdAt:new Date().toISOString(),citations:I}];console.log("Saving to localStorage:",P);const R=p(e);localStorage.setItem(R,JSON.stringify(P));const F=Je(),J=`axpro_sim_sessions_${(F==null?void 0:F.userId)||"anonymous"}`,L=JSON.parse(localStorage.getItem(J)||"[]"),G=L.find(N=>N.id===e);if(G&&G.title==="New Chat"&&t.length===0){const N=g(b);G.title=N,G.updatedAt=new Date().toISOString(),localStorage.setItem(J,JSON.stringify(L)),console.log("Auto-generated title:",N),window.dispatchEvent(new Event("sessionUpdated"))}}}catch(O){console.error("Error in sendMessage:",O),d(null),h(0);const C=O instanceof Error?O.message:"Failed to send message";c(C),n(F=>F.filter(V=>V.id!==_));const P=C.includes("Empty response")?"Chat service is temporarily unavailable. Please try again in a moment.":C.includes("timeout")?"Request timed out. The service may be busy. Please try again.":C.includes("Network error")?"Network connection failed. Please check your internet connection.":C,R={id:`error-${Date.now()}`,sessionId:e,role:"assistant",content:P,meta:{isError:!0},createdAt:new Date().toISOString()};n(F=>[...F,R])}finally{s(!1),console.log("=== SEND MESSAGE END ===")}},[e,t]),x=v.useCallback(async(b,w,S)=>{try{const _=Je();if(!_||!_.userId)throw console.error("No user session found"),new Error("Please log in to submit feedback");if(!t.find(O=>O.id===b))throw console.error("Message not found:",b),new Error("Message not found");const E=b,I=w===1?"good":"bad";console.log("Submitting feedback:",{chatId:E,userId:_.userId,reaction:I,feedbackText:S}),await $x(E,_.userId,I,S),console.log("✅ Feedback submitted successfully")}catch(_){throw console.error("Failed to submit feedback:",_),_}},[t]);return{messages:t,loading:r,sending:a,error:l,sendMessage:y,submitFeedback:x}};function xF(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const bF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,wF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kF={};function nk(e,t){return((t||kF).jsx?wF:bF).test(e)}const SF=/[ \t\n\f\r]/g;function jF(e){return typeof e=="object"?e.type==="text"?rk(e.value):!1:rk(e)}function rk(e){return e.replace(SF,"")===""}class Nc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Nc.prototype.normal={};Nc.prototype.property={};Nc.prototype.space=void 0;function AN(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Nc(n,r,t)}function yv(e){return e.toLowerCase()}class yn{constructor(t,n){this.attribute=n,this.property=t}}yn.prototype.attribute="";yn.prototype.booleanish=!1;yn.prototype.boolean=!1;yn.prototype.commaOrSpaceSeparated=!1;yn.prototype.commaSeparated=!1;yn.prototype.defined=!1;yn.prototype.mustUseProperty=!1;yn.prototype.number=!1;yn.prototype.overloadedBoolean=!1;yn.prototype.property="";yn.prototype.spaceSeparated=!1;yn.prototype.space=void 0;let _F=0;const ke=os(),ct=os(),xv=os(),ne=os(),We=os(),Ks=os(),kn=os();function os(){return 2**++_F}const bv=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:ct,commaOrSpaceSeparated:kn,commaSeparated:Ks,number:ne,overloadedBoolean:xv,spaceSeparated:We},Symbol.toStringTag,{value:"Module"})),dm=Object.keys(bv);class Fx extends yn{constructor(t,n,r,i){let a=-1;if(super(t,n),ik(this,"space",i),typeof r=="number")for(;++a<dm.length;){const s=dm[a];ik(this,dm[a],(r&bv[s])===bv[s])}}}Fx.prototype.defined=!0;function ik(e,t,n){n&&(e[t]=n)}function _o(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new Fx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[yv(r)]=r,n[yv(a.attribute)]=r}return new Nc(t,n,e.space)}const PN=_o({properties:{ariaActiveDescendant:null,ariaAtomic:ct,ariaAutoComplete:null,ariaBusy:ct,ariaChecked:ct,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:We,ariaCurrent:null,ariaDescribedBy:We,ariaDetails:null,ariaDisabled:ct,ariaDropEffect:We,ariaErrorMessage:null,ariaExpanded:ct,ariaFlowTo:We,ariaGrabbed:ct,ariaHasPopup:null,ariaHidden:ct,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:We,ariaLevel:ne,ariaLive:null,ariaModal:ct,ariaMultiLine:ct,ariaMultiSelectable:ct,ariaOrientation:null,ariaOwns:We,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:ct,ariaReadOnly:ct,ariaRelevant:null,ariaRequired:ct,ariaRoleDescription:We,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:ct,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function TN(e,t){return t in e?e[t]:t}function IN(e,t){return TN(e,t.toLowerCase())}const CF=_o({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ks,acceptCharset:We,accessKey:We,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:We,autoFocus:ke,autoPlay:ke,blocking:We,capture:null,charSet:null,checked:ke,cite:null,className:We,cols:ne,colSpan:null,content:null,contentEditable:ct,controls:ke,controlsList:We,coords:ne|Ks,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:xv,draggable:ct,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:We,height:ne,hidden:xv,high:ne,href:null,hrefLang:null,htmlFor:We,httpEquiv:We,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:We,itemRef:We,itemScope:ke,itemType:We,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:ne,pattern:null,ping:We,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:We,required:ke,reversed:ke,rows:ne,rowSpan:ne,sandbox:We,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:ct,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:ct,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:We,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:ct,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:IN}),EF=_o({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:kn,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:We,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ks,g2:Ks,glyphName:Ks,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:We,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kn,rev:kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kn,requiredFeatures:kn,requiredFonts:kn,requiredFormats:kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kn,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:TN}),DN=_o({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),RN=_o({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:IN}),MN=_o({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),NF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},OF=/[A-Z]/g,ak=/-[a-z]/g,AF=/^data[-\w.:]+$/i;function PF(e,t){const n=yv(t);let r=t,i=yn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&AF.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(ak,IF);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!ak.test(a)){let s=a.replace(OF,TF);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=Fx}return new i(r,t)}function TF(e){return"-"+e.toLowerCase()}function IF(e){return e.charAt(1).toUpperCase()}const DF=AN([PN,CF,DN,RN,MN],"html"),zx=AN([PN,EF,DN,RN,MN],"svg");function RF(e){return e.join(" ").trim()}var Ux={},sk=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,MF=/\n/g,LF=/^\s*/,$F=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,FF=/^:\s*/,zF=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,UF=/^[;\s]*/,BF=/^\s+|\s+$/g,WF=`
`,ok="/",lk="*",_a="",VF="comment",KF="declaration",HF=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(MF);g&&(n+=g.length);var y=m.lastIndexOf(WF);r=~y?m.length-y:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new s(m),u(),g}}function s(m){this.start=m,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function l(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(m){var g=m.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function u(){c(LF)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(ok!=e.charAt(0)||lk!=e.charAt(1))){for(var g=2;_a!=e.charAt(g)&&(lk!=e.charAt(g)||ok!=e.charAt(g+1));)++g;if(g+=2,_a===e.charAt(g-1))return l("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,m({type:VF,comment:y})}}function h(){var m=a(),g=c($F);if(g){if(f(),!c(FF))return l("property missing ':'");var y=c(zF),x=m({type:KF,property:ck(g[0].replace(sk,_a)),value:y?ck(y[0].replace(sk,_a)):_a});return c(UF),x}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return u(),p()};function ck(e){return e?e.replace(BF,_a):_a}var qF=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ux,"__esModule",{value:!0});Ux.default=JF;var YF=qF(HF);function JF(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,YF.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var s=a.property,l=a.value;i?t(s,l,a):l&&(n=n||{},n[s]=l)}}),n}var ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.camelCase=void 0;var GF=/^--[a-zA-Z0-9_-]+$/,XF=/-([a-z])/g,QF=/^[^-]+$/,ZF=/^-(webkit|moz|ms|o|khtml)-/,e8=/^-(ms)-/,t8=function(e){return!e||QF.test(e)||GF.test(e)},n8=function(e,t){return t.toUpperCase()},uk=function(e,t){return"".concat(t,"-")},r8=function(e,t){return t===void 0&&(t={}),t8(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(e8,uk):e=e.replace(ZF,uk),e.replace(XF,n8))};ph.camelCase=r8;var i8=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a8=i8(Ux),s8=ph;function wv(e,t){var n={};return!e||typeof e!="string"||(0,a8.default)(e,function(r,i){r&&i&&(n[(0,s8.camelCase)(r,t)]=i)}),n}wv.default=wv;var o8=wv;const l8=$n(o8),LN=$N("end"),Bx=$N("start");function $N(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function c8(e){const t=Bx(e),n=LN(e);if(t&&n)return{start:t,end:n}}function Al(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?dk(e.position):"start"in e||"end"in e?dk(e):"line"in e||"column"in e?kv(e):""}function kv(e){return fk(e&&e.line)+":"+fk(e&&e.column)}function dk(e){return kv(e&&e.start)+"-"+kv(e&&e.end)}function fk(e){return e&&typeof e=="number"?e:1}class qt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Al(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const Wx={}.hasOwnProperty,u8=new Map,d8=/[A-Z]/g,f8=new Set(["table","tbody","thead","tfoot","tr"]),h8=new Set(["td","th"]),FN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function p8(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=k8(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=w8(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?zx:DF,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=zN(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function zN(e,t,n){if(t.type==="element")return m8(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return g8(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return y8(e,t,n);if(t.type==="mdxjsEsm")return v8(e,t);if(t.type==="root")return x8(e,t,n);if(t.type==="text")return b8(e,t)}function m8(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=zx,e.schema=i),e.ancestors.push(t);const a=BN(e,t.tagName,!1),s=S8(e,t);let l=Kx(e,t);return f8.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!jF(c):!0})),UN(e,s,a,t),Vx(s,l),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function g8(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ic(e,t.position)}function v8(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ic(e,t.position)}function y8(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=zx,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:BN(e,t.name,!0),s=j8(e,t),l=Kx(e,t);return UN(e,s,a,t),Vx(s,l),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function x8(e,t,n){const r={};return Vx(r,Kx(e,t)),e.create(t,e.Fragment,r,n)}function b8(e,t){return t.value}function UN(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Vx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function w8(e,t,n){return r;function r(i,a,s,l){const u=Array.isArray(s.children)?n:t;return l?u(a,s,l):u(a,s)}}function k8(e,t){return n;function n(r,i,a,s){const l=Array.isArray(a.children),c=Bx(r);return t(i,a,s,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function S8(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Wx.call(t.properties,i)){const a=_8(e,i,t.properties[i]);if(a){const[s,l]=a;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&h8.has(t.tagName)?r=l:n[s]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function j8(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const l=s.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else ic(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else ic(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Kx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:u8;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;s=c+"-"+u,i.set(c,u+1)}}const l=zN(e,a,s);l!==void 0&&n.push(l)}return n}function _8(e,t,n){const r=PF(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xF(n):RF(n)),r.property==="style"){let i=typeof n=="object"?n:C8(e,String(n));return e.stylePropertyNameCase==="css"&&(i=E8(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?NF[r.property]||r.property:r.attribute,n]}}function C8(e,t){try{return l8(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new qt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=FN+"#cannot-parse-style-attribute",i}}function BN(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const l=nk(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=s}else r=nk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Wx.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ic(e)}function ic(e,t){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=FN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function E8(e){const t={};let n;for(n in e)Wx.call(e,n)&&(t[N8(n)]=e[n]);return t}function N8(e){let t=e.replace(d8,O8);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function O8(e){return"-"+e.toLowerCase()}const fm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},A8={};function Hx(e,t){const n=t||A8,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return WN(e,r,i)}function WN(e,t,n){if(P8(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return hk(e.children,t,n)}return Array.isArray(e)?hk(e,t,n):""}function hk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=WN(e[i],t,n);return r.join("")}function P8(e){return!!(e&&typeof e=="object")}const pk=document.createElement("i");function qx(e){const t="&"+e+";";pk.innerHTML=t;const n=pk.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Tn(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Qn(e,t){return e.length>0?(Tn(e,e.length,0,t),e):t}const mk={}.hasOwnProperty;function VN(e){const t={};let n=-1;for(;++n<e.length;)T8(t,e[n]);return t}function T8(e,t){let n;for(n in t){const i=(mk.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){mk.call(i,s)||(i[s]=[]);const l=a[s];I8(i[s],Array.isArray(l)?l:l?[l]:[])}}}function I8(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Tn(e,0,0,r)}function KN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Sr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=oa(/[A-Za-z]/),Vt=oa(/[\dA-Za-z]/),D8=oa(/[#-'*+\--9=?A-Z^-~]/);function Jd(e){return e!==null&&(e<32||e===127)}const Sv=oa(/\d/),R8=oa(/[\dA-Fa-f]/),M8=oa(/[!-/:-@[-`{-~]/);function me(e){return e!==null&&e<-2}function Fe(e){return e!==null&&(e<0||e===32)}function je(e){return e===-2||e===-1||e===32}const mh=oa(/\p{P}|\p{S}/u),Ja=oa(/\s/);function oa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Co(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Vt(e.charCodeAt(n+1))&&Vt(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s="�"}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ne(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return je(c)?(e.enter(n),l(c)):t(c)}function l(c){return je(c)&&a++<i?(e.consume(c),l):(e.exit(n),t(c))}}const L8={tokenize:$8};function $8(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ne(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return me(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const F8={tokenize:z8},gk={tokenize:U8};function z8(e){const t=this,n=[];let r=0,i,a,s;return l;function l(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let _=S,k;for(;_--;)if(t.events[_][0]==="exit"&&t.events[_][1].type==="chunkFlow"){k=t.events[_][1].end;break}x(r);let E=S;for(;E<t.events.length;)t.events[E][1].end={...k},E++;return Tn(t.events,_+1,0,t.events.slice(S)),t.events.length=E,u(w)}return l(w)}function u(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(gk,d,f)(w)}function d(w){return i&&b(),x(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(gk,p,m)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){i&&b(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return me(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),g)}function y(w,S){const _=t.sliceStream(w);if(S&&_.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(_),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const E=t.events.length;let I=E,O,C;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){if(O){C=t.events[I][1].end;break}O=!0}for(x(r),k=E;k<t.events.length;)t.events[k][1].end={...C},k++;Tn(t.events,I+1,0,t.events.slice(E)),t.events.length=k}}function x(w){let S=n.length;for(;S-- >w;){const _=n[S];t.containerState=_[1],_[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function U8(e,t,n){return Ne(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function no(e){if(e===null||Fe(e)||Ja(e))return 1;if(mh(e))return 2}function gh(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const jv={name:"attention",resolveAll:B8,tokenize:W8};function B8(e,t){let n=-1,r,i,a,s,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};vk(f,-c),vk(h,c),s={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...l.end}},e[r][1].end={...s.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Qn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Qn(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Qn(u,gh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Qn(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Qn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Tn(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function W8(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=no(r);let a;return s;function s(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=no(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(c)}}function vk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const V8={name:"autolink",tokenize:K8};function K8(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Qt(p)?(e.consume(p),s):p===64?n(p):u(p)}function s(p){return p===43||p===45||p===46||Vt(p)?(r=1,l(p)):u(p)}function l(p){return p===58?(e.consume(p),r=0,c):(p===43||p===45||p===46||Vt(p))&&r++<32?(e.consume(p),l):(r=0,u(p))}function c(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Jd(p)?n(p):(e.consume(p),c)}function u(p){return p===64?(e.consume(p),d):D8(p)?(e.consume(p),u):n(p)}function d(p){return Vt(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Vt(p))&&r++<63){const m=p===45?h:f;return e.consume(p),m}return n(p)}}const Oc={partial:!0,tokenize:H8};function H8(e,t,n){return r;function r(a){return je(a)?Ne(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||me(a)?t(a):n(a)}}const HN={continuation:{tokenize:Y8},exit:J8,name:"blockQuote",tokenize:q8};function q8(e,t,n){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return je(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Y8(e,t,n){const r=this;return i;function i(s){return je(s)?Ne(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(HN,t,n)(s)}}function J8(e){e.exit("blockQuote")}const qN={name:"characterEscape",tokenize:G8};function G8(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return M8(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const YN={name:"characterReference",tokenize:X8};function X8(e,t,n){const r=this;let i=0,a,s;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=Vt,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=R8,d):(e.enter("characterReferenceValue"),a=7,s=Sv,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Vt&&!qx(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const yk={partial:!0,tokenize:Z8},xk={concrete:!0,name:"codeFenced",tokenize:Q8};function Q8(e,t,n){const r=this,i={partial:!0,tokenize:_};let a=0,s=0,l;return c;function c(k){return u(k)}function u(k){const E=r.events[r.events.length-1];return a=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===l?(s++,e.consume(k),d):s<3?n(k):(e.exit("codeFencedFenceSequence"),je(k)?Ne(e,f,"whitespace")(k):f(k))}function f(k){return k===null||me(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(yk,g,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||me(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):je(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ne(e,p,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),h)}function p(k){return k===null||me(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||me(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(e.consume(k),m)}function g(k){return e.attempt(i,S,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),x}function x(k){return a>0&&je(k)?Ne(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||me(k)?e.check(yk,g,S)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||me(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),w)}function S(k){return e.exit("codeFenced"),t(k)}function _(k,E,I){let O=0;return C;function C(J){return k.enter("lineEnding"),k.consume(J),k.exit("lineEnding"),P}function P(J){return k.enter("codeFencedFence"),je(J)?Ne(k,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):R(J)}function R(J){return J===l?(k.enter("codeFencedFenceSequence"),F(J)):I(J)}function F(J){return J===l?(O++,k.consume(J),F):O>=s?(k.exit("codeFencedFenceSequence"),je(J)?Ne(k,V,"whitespace")(J):V(J)):I(J)}function V(J){return J===null||me(J)?(k.exit("codeFencedFence"),E(J)):I(J)}}}function Z8(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const hm={name:"codeIndented",tokenize:tz},ez={partial:!0,tokenize:nz};function tz(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Ne(e,a,"linePrefix",4+1)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?c(u):me(u)?e.attempt(ez,s,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||me(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function nz(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):me(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Ne(e,a,"linePrefix",4+1)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):me(s)?i(s):n(s)}}const rz={name:"codeText",previous:az,resolve:iz,tokenize:sz};function iz(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function az(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function sz(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):me(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||me(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class oz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Qo(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Qo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qo(this.left,n.reverse())}}}function Qo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function JN(e){const t={};let n=-1,r,i,a,s,l,c,u;const d=new oz(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,lz(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return Tn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function lz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const l=s.events,c=[],u={};let d,f,h=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(g=h+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const x=l.slice(y[h],y[h+1]),b=a.pop();c.push([b,b+x.length-1]),e.splice(b,2,x)}for(c.reverse(),h=-1;++h<c.length;)u[m+c[h][0]]=m+c[h][1],m+=c[h][1]-c[h][0]-1;return u}const cz={resolve:dz,tokenize:fz},uz={partial:!0,tokenize:hz};function dz(e){return JN(e),e}function fz(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):me(l)?e.check(uz,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function s(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function hz(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ne(e,a,"linePrefix")}function a(s){if(s===null||me(s))return n(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function GN(e,t,n,r,i,a,s,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||Jd(x)?n(x):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===62?(e.exit("chunkString"),e.exit(l),h(x)):x===null||x===60||me(x)?n(x):(e.consume(x),x===92?m:p)}function m(x){return x===60||x===62||x===92?(e.consume(x),p):p(x)}function g(x){return!d&&(x===null||x===41||Fe(x))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,g):x===41?(e.consume(x),d--,g):x===null||x===32||x===40||Jd(x)?n(x):(e.consume(x),x===92?y:g)}function y(x){return x===40||x===41||x===92?(e.consume(x),g):g(x)}}function XN(e,t,n,r,i,a){const s=this;let l=0,c;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),d}function d(p){return l>999||p===null||p===91||p===93&&!c||p===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):me(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||me(p)||l++>999?(e.exit("chunkString"),d(p)):(e.consume(p),c||(c=!je(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),l++,f):f(p)}}function QN(e,t,n,r,i,a){let s;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,c):n(h)}function c(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),c(s)):h===null?n(h):me(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Ne(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||me(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Pl(e,t){let n;return r;function r(i){return me(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):je(i)?Ne(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const pz={name:"definition",tokenize:gz},mz={partial:!0,tokenize:vz};function gz(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),s(p)}function s(p){return XN.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=Sr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),c):n(p)}function c(p){return Fe(p)?Pl(e,u)(p):u(p)}function u(p){return GN(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(mz,f,f)(p)}function f(p){return je(p)?Ne(e,h,"whitespace")(p):h(p)}function h(p){return p===null||me(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function vz(e,t,n){return r;function r(l){return Fe(l)?Pl(e,i)(l):n(l)}function i(l){return QN(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return je(l)?Ne(e,s,"whitespace")(l):s(l)}function s(l){return l===null||me(l)?t(l):n(l)}}const yz={name:"hardBreakEscape",tokenize:xz};function xz(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return me(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const bz={name:"headingAtx",resolve:wz,tokenize:kz};function wz(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Tn(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function kz(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Fe(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||me(d)?(e.exit("atxHeading"),t(d)):je(d)?Ne(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Fe(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const Sz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bk=["pre","script","style","textarea"],jz={concrete:!0,name:"htmlFlow",resolveTo:Ez,tokenize:Nz},_z={partial:!0,tokenize:Az},Cz={partial:!0,tokenize:Oz};function Ez(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Nz(e,t,n){const r=this;let i,a,s,l,c;return u;function u(A){return d(A)}function d(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),f}function f(A){return A===33?(e.consume(A),h):A===47?(e.consume(A),a=!0,g):A===63?(e.consume(A),i=3,r.interrupt?t:j):Qt(A)?(e.consume(A),s=String.fromCharCode(A),y):n(A)}function h(A){return A===45?(e.consume(A),i=2,p):A===91?(e.consume(A),i=5,l=0,m):Qt(A)?(e.consume(A),i=4,r.interrupt?t:j):n(A)}function p(A){return A===45?(e.consume(A),r.interrupt?t:j):n(A)}function m(A){const re="CDATA[";return A===re.charCodeAt(l++)?(e.consume(A),l===re.length?r.interrupt?t:R:m):n(A)}function g(A){return Qt(A)?(e.consume(A),s=String.fromCharCode(A),y):n(A)}function y(A){if(A===null||A===47||A===62||Fe(A)){const re=A===47,B=s.toLowerCase();return!re&&!a&&bk.includes(B)?(i=1,r.interrupt?t(A):R(A)):Sz.includes(s.toLowerCase())?(i=6,re?(e.consume(A),x):r.interrupt?t(A):R(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?b(A):w(A))}return A===45||Vt(A)?(e.consume(A),s+=String.fromCharCode(A),y):n(A)}function x(A){return A===62?(e.consume(A),r.interrupt?t:R):n(A)}function b(A){return je(A)?(e.consume(A),b):C(A)}function w(A){return A===47?(e.consume(A),C):A===58||A===95||Qt(A)?(e.consume(A),S):je(A)?(e.consume(A),w):C(A)}function S(A){return A===45||A===46||A===58||A===95||Vt(A)?(e.consume(A),S):_(A)}function _(A){return A===61?(e.consume(A),k):je(A)?(e.consume(A),_):w(A)}function k(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),c=A,E):je(A)?(e.consume(A),k):I(A)}function E(A){return A===c?(e.consume(A),c=null,O):A===null||me(A)?n(A):(e.consume(A),E)}function I(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Fe(A)?_(A):(e.consume(A),I)}function O(A){return A===47||A===62||je(A)?w(A):n(A)}function C(A){return A===62?(e.consume(A),P):n(A)}function P(A){return A===null||me(A)?R(A):je(A)?(e.consume(A),P):n(A)}function R(A){return A===45&&i===2?(e.consume(A),L):A===60&&i===1?(e.consume(A),G):A===62&&i===4?(e.consume(A),z):A===63&&i===3?(e.consume(A),j):A===93&&i===5?(e.consume(A),D):me(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(_z,W,F)(A)):A===null||me(A)?(e.exit("htmlFlowData"),F(A)):(e.consume(A),R)}function F(A){return e.check(Cz,V,W)(A)}function V(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),J}function J(A){return A===null||me(A)?F(A):(e.enter("htmlFlowData"),R(A))}function L(A){return A===45?(e.consume(A),j):R(A)}function G(A){return A===47?(e.consume(A),s="",N):R(A)}function N(A){if(A===62){const re=s.toLowerCase();return bk.includes(re)?(e.consume(A),z):R(A)}return Qt(A)&&s.length<8?(e.consume(A),s+=String.fromCharCode(A),N):R(A)}function D(A){return A===93?(e.consume(A),j):R(A)}function j(A){return A===62?(e.consume(A),z):A===45&&i===2?(e.consume(A),j):R(A)}function z(A){return A===null||me(A)?(e.exit("htmlFlowData"),W(A)):(e.consume(A),z)}function W(A){return e.exit("htmlFlow"),t(A)}}function Oz(e,t,n){const r=this;return i;function i(s){return me(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Az(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Oc,t,n)}}const Pz={name:"htmlText",tokenize:Tz};function Tz(e,t,n){const r=this;let i,a,s;return l;function l(j){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(j),c}function c(j){return j===33?(e.consume(j),u):j===47?(e.consume(j),_):j===63?(e.consume(j),w):Qt(j)?(e.consume(j),I):n(j)}function u(j){return j===45?(e.consume(j),d):j===91?(e.consume(j),a=0,m):Qt(j)?(e.consume(j),b):n(j)}function d(j){return j===45?(e.consume(j),p):n(j)}function f(j){return j===null?n(j):j===45?(e.consume(j),h):me(j)?(s=f,G(j)):(e.consume(j),f)}function h(j){return j===45?(e.consume(j),p):f(j)}function p(j){return j===62?L(j):j===45?h(j):f(j)}function m(j){const z="CDATA[";return j===z.charCodeAt(a++)?(e.consume(j),a===z.length?g:m):n(j)}function g(j){return j===null?n(j):j===93?(e.consume(j),y):me(j)?(s=g,G(j)):(e.consume(j),g)}function y(j){return j===93?(e.consume(j),x):g(j)}function x(j){return j===62?L(j):j===93?(e.consume(j),x):g(j)}function b(j){return j===null||j===62?L(j):me(j)?(s=b,G(j)):(e.consume(j),b)}function w(j){return j===null?n(j):j===63?(e.consume(j),S):me(j)?(s=w,G(j)):(e.consume(j),w)}function S(j){return j===62?L(j):w(j)}function _(j){return Qt(j)?(e.consume(j),k):n(j)}function k(j){return j===45||Vt(j)?(e.consume(j),k):E(j)}function E(j){return me(j)?(s=E,G(j)):je(j)?(e.consume(j),E):L(j)}function I(j){return j===45||Vt(j)?(e.consume(j),I):j===47||j===62||Fe(j)?O(j):n(j)}function O(j){return j===47?(e.consume(j),L):j===58||j===95||Qt(j)?(e.consume(j),C):me(j)?(s=O,G(j)):je(j)?(e.consume(j),O):L(j)}function C(j){return j===45||j===46||j===58||j===95||Vt(j)?(e.consume(j),C):P(j)}function P(j){return j===61?(e.consume(j),R):me(j)?(s=P,G(j)):je(j)?(e.consume(j),P):O(j)}function R(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),i=j,F):me(j)?(s=R,G(j)):je(j)?(e.consume(j),R):(e.consume(j),V)}function F(j){return j===i?(e.consume(j),i=void 0,J):j===null?n(j):me(j)?(s=F,G(j)):(e.consume(j),F)}function V(j){return j===null||j===34||j===39||j===60||j===61||j===96?n(j):j===47||j===62||Fe(j)?O(j):(e.consume(j),V)}function J(j){return j===47||j===62||Fe(j)?O(j):n(j)}function L(j){return j===62?(e.consume(j),e.exit("htmlTextData"),e.exit("htmlText"),t):n(j)}function G(j){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),N}function N(j){return je(j)?Ne(e,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(j):D(j)}function D(j){return e.enter("htmlTextData"),s(j)}}const Yx={name:"labelEnd",resolveAll:Mz,resolveTo:Lz,tokenize:$z},Iz={tokenize:Fz},Dz={tokenize:zz},Rz={tokenize:Uz};function Mz(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Tn(e,0,e.length,n),e}function Lz(e,t){let n=e.length,r=0,i,a,s,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=Qn(l,e.slice(a+1,a+r+3)),l=Qn(l,[["enter",d,t]]),l=Qn(l,gh(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),l=Qn(l,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),l=Qn(l,e.slice(s+1)),l=Qn(l,[["exit",c,t]]),Tn(e,a,e.length,l),e}function $z(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(Sr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(Iz,d,s?d:f)(h):h===91?e.attempt(Dz,d,s?u:f)(h):s?d(h):f(h)}function u(h){return e.attempt(Rz,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function Fz(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Fe(f)?Pl(e,a)(f):a(f)}function a(f){return f===41?d(f):GN(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Fe(f)?Pl(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?QN(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Fe(f)?Pl(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function zz(e,t,n){const r=this;return i;function i(l){return XN.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Sr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function s(l){return n(l)}}function Uz(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Bz={name:"labelStartImage",resolveAll:Yx.resolveAll,tokenize:Wz};function Wz(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):n(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Vz={name:"labelStartLink",resolveAll:Yx.resolveAll,tokenize:Kz};function Kz(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const pm={name:"lineEnding",tokenize:Hz};function Hz(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ne(e,t,"linePrefix")}}const sd={name:"thematicBreak",tokenize:qz};function qz(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||me(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),je(u)?Ne(e,l,"whitespace")(u):l(u))}}const sn={continuation:{tokenize:Xz},exit:Zz,name:"list",tokenize:Gz},Yz={partial:!0,tokenize:e6},Jz={partial:!0,tokenize:Qz};function Gz(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Sv(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(sd,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(p)}return n(p)}function c(p){return Sv(p)&&++s<10?(e.consume(p),c):(!r.interrupt||s<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Oc,r.interrupt?n:d,e.attempt(Yz,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return je(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Xz(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Oc,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ne(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!je(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Jz,t,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ne(e,e.attempt(sn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Qz(e,t,n){const r=this;return Ne(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function Zz(e){e.exit(this.containerState.type)}function e6(e,t,n){const r=this;return Ne(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const s=r.events[r.events.length-1];return!je(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const wk={name:"setextUnderline",resolveTo:t6,tokenize:n6};function t6(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function n6(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),je(u)?Ne(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||me(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const r6={tokenize:i6};function i6(e){const t=this,n=e.attempt(Oc,r,e.attempt(this.parser.constructs.flowInitial,i,Ne(e,e.attempt(this.parser.constructs.flow,i,e.attempt(cz,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const a6={resolveAll:eO()},s6=ZN("string"),o6=ZN("text");function ZN(e){return{resolveAll:eO(e==="text"?l6:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,l);return s;function s(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function eO(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function l6(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const c6={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:HN},u6={91:pz},d6={[-2]:hm,[-1]:hm,32:hm},f6={35:bz,42:sd,45:[wk,sd],60:jz,61:wk,95:sd,96:xk,126:xk},h6={38:YN,92:qN},p6={[-5]:pm,[-4]:pm,[-3]:pm,33:Bz,38:YN,42:jv,60:[V8,Pz],91:Vz,92:[yz,qN],93:Yx,95:jv,96:rz},m6={null:[jv,a6]},g6={null:[42,95]},v6={null:[]},y6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:g6,contentInitial:u6,disable:v6,document:c6,flow:f6,flowInitial:d6,insideSpan:m6,string:h6,text:p6},Symbol.toStringTag,{value:"Module"}));function x6(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],l=[];const c={attempt:E(_),check:E(k),consume:b,enter:w,exit:S,interrupt:E(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function f(P){return s=Qn(s,P),y(),s[s.length-1]!==null?[]:(I(t,0),u.events=gh(a,u.events,u),u.events)}function h(P,R){return w6(p(P),R)}function p(P){return b6(s,P)}function m(){const{_bufferIndex:P,_index:R,line:F,column:V,offset:J}=r;return{_bufferIndex:P,_index:R,line:F,column:V,offset:J}}function g(P){i[P.line]=P.column,C()}function y(){let P;for(;r._index<s.length;){const R=s[r._index];if(typeof R=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<R.length;)x(R.charCodeAt(r._bufferIndex));else x(R)}}function x(P){d=d(P)}function b(P){me(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,C()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function w(P,R){const F=R||{};return F.type=P,F.start=m(),u.events.push(["enter",F,u]),l.push(F),F}function S(P){const R=l.pop();return R.end=m(),u.events.push(["exit",R,u]),R}function _(P,R){I(P,R.from)}function k(P,R){R.restore()}function E(P,R){return F;function F(V,J,L){let G,N,D,j;return Array.isArray(V)?W(V):"tokenize"in V?W([V]):z(V);function z(ee){return Y;function Y($){const Q=$!==null&&ee[$],M=$!==null&&ee.null,X=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(M)?M:M?[M]:[]];return W(X)($)}}function W(ee){return G=ee,N=0,ee.length===0?L:A(ee[N])}function A(ee){return Y;function Y($){return j=O(),D=ee,ee.partial||(u.currentConstruct=ee),ee.name&&u.parser.constructs.disable.null.includes(ee.name)?B():ee.tokenize.call(R?Object.assign(Object.create(u),R):u,c,re,B)($)}}function re(ee){return P(D,j),J}function B(ee){return j.restore(),++N<G.length?A(G[N]):L}}}function I(P,R){P.resolveAll&&!a.includes(P)&&a.push(P),P.resolve&&Tn(u.events,R,u.events.length-R,P.resolve(u.events.slice(R),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function O(){const P=m(),R=u.previous,F=u.currentConstruct,V=u.events.length,J=Array.from(l);return{from:V,restore:L};function L(){r=P,u.previous=R,u.currentConstruct=F,u.events.length=V,l=J,C()}}function C(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function b6(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function w6(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function k6(e){const r={constructs:VN([y6,...(e||{}).extensions||[]]),content:i(L8),defined:[],document:i(F8),flow:i(r6),lazy:{},string:i(s6),text:i(o6)};return r;function i(a){return s;function s(l){return x6(r,a,l)}}}function S6(e){for(;!JN(e););return e}const kk=/[\0\t\n\r]/g;function j6(){let e=1,t="",n=!0,r;return i;function i(a,s,l){const c=[];let u,d,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(kk.lastIndex=f,u=kk.exec(a),h=u&&u.index!==void 0?u.index:a.length,p=a.charCodeAt(h),!u){t=a.slice(f);break}if(p===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(a.slice(f,h)),e+=h-f),p){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const _6=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function C6(e){return e.replace(_6,E6)}function E6(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return KN(n.slice(a?2:1),a?16:10)}return qx(n)||e}const tO={}.hasOwnProperty;function N6(e,t,n){return typeof t!="string"&&(n=t,t=void 0),O6(n)(S6(k6(n).document().write(j6()(e,t,!0))))}function O6(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Ze),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(Se),blockQuote:a(M),characterEscape:O,characterReference:O,codeFenced:a(X),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(X,s),codeText:a(U,s),codeTextData:O,data:O,codeFlowValue:O,definition:a(he),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ue),hardBreakEscape:a(Ae),hardBreakTrailing:a(Ae),htmlFlow:a(ye,s),htmlFlowData:O,htmlText:a(ye,s),htmlTextData:O,image:a(Te),label:s,link:a(Ze),listItem:a(Or),listItemValue:h,listOrdered:a(Wn,f),listUnordered:a(Wn),paragraph:a(wn),reference:A,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Se),strong:a(H),thematicBreak:a(de)},exit:{atxHeading:c(),atxHeadingSequence:_,autolink:c(),autolinkEmail:Q,autolinkProtocol:$,blockQuote:c(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:ee,characterReference:Y,codeFenced:c(y),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:C,codeIndented:c(x),codeText:c(J),codeTextData:C,data:C,definition:c(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(R),hardBreakTrailing:c(R),htmlFlow:c(F),htmlFlowData:C,htmlText:c(V),htmlTextData:C,image:c(G),label:D,labelText:N,lineEnding:P,link:c(L),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:re,resourceDestinationString:j,resourceTitleString:z,resource:W,setextHeading:c(I),setextHeadingLineSequence:E,setextHeadingText:k,strong:c(),thematicBreak:c()}};nO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(T){let Z={type:"root",children:[]};const ae={stack:[Z],tokenStack:[],config:t,enter:l,exit:u,buffer:s,resume:d,data:n},ge=[];let ve=-1;for(;++ve<T.length;)if(T[ve][1].type==="listOrdered"||T[ve][1].type==="listUnordered")if(T[ve][0]==="enter")ge.push(ve);else{const ce=ge.pop();ve=i(T,ce,ve)}for(ve=-1;++ve<T.length;){const ce=t[T[ve][0]];tO.call(ce,T[ve][1].type)&&ce[T[ve][1].type].call(Object.assign({sliceSerialize:T[ve][2].sliceSerialize},ae),T[ve][1])}if(ae.tokenStack.length>0){const ce=ae.tokenStack[ae.tokenStack.length-1];(ce[1]||Sk).call(ae,void 0,ce[0])}for(Z.position={start:Ai(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:Ai(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},ve=-1;++ve<t.transforms.length;)Z=t.transforms[ve](Z)||Z;return Z}function i(T,Z,ae){let ge=Z-1,ve=-1,ce=!1,xe,Jt,Ar,cr;for(;++ge<=ae;){const Pt=T[ge];switch(Pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pt[0]==="enter"?ve++:ve--,cr=void 0;break}case"lineEndingBlank":{Pt[0]==="enter"&&(xe&&!cr&&!ve&&!Ar&&(Ar=ge),cr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:cr=void 0}if(!ve&&Pt[0]==="enter"&&Pt[1].type==="listItemPrefix"||ve===-1&&Pt[0]==="exit"&&(Pt[1].type==="listUnordered"||Pt[1].type==="listOrdered")){if(xe){let ur=ge;for(Jt=void 0;ur--;){const dr=T[ur];if(dr[1].type==="lineEnding"||dr[1].type==="lineEndingBlank"){if(dr[0]==="exit")continue;Jt&&(T[Jt][1].type="lineEndingBlank",ce=!0),dr[1].type="lineEnding",Jt=ur}else if(!(dr[1].type==="linePrefix"||dr[1].type==="blockQuotePrefix"||dr[1].type==="blockQuotePrefixWhitespace"||dr[1].type==="blockQuoteMarker"||dr[1].type==="listItemIndent"))break}Ar&&(!Jt||Ar<Jt)&&(xe._spread=!0),xe.end=Object.assign({},Jt?T[Jt][1].start:Pt[1].end),T.splice(Jt||ge,0,["exit",xe,Pt[2]]),ge++,ae++}if(Pt[1].type==="listItemPrefix"){const ur={type:"listItem",_spread:!1,start:Object.assign({},Pt[1].start),end:void 0};xe=ur,T.splice(ge,0,["enter",ur,Pt[2]]),ge++,ae++,Ar=void 0,cr=!0}}}return T[Z][1]._spread=ce,ae}function a(T,Z){return ae;function ae(ge){l.call(this,T(ge),ge),Z&&Z.call(this,ge)}}function s(){this.stack.push({type:"fragment",children:[]})}function l(T,Z,ae){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([Z,ae||void 0]),T.position={start:Ai(Z.start),end:void 0}}function c(T){return Z;function Z(ae){T&&T.call(this,ae),u.call(this,ae)}}function u(T,Z){const ae=this.stack.pop(),ge=this.tokenStack.pop();if(ge)ge[0].type!==T.type&&(Z?Z.call(this,T,ge[0]):(ge[1]||Sk).call(this,T,ge[0]));else throw new Error("Cannot close `"+T.type+"` ("+Al({start:T.start,end:T.end})+"): it’s not open");ae.position.end=Ai(T.end)}function d(){return Hx(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(T){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function p(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=T}function m(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=T}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.value=T.replace(/(\r?\n|\r)$/g,"")}function b(T){const Z=this.resume(),ae=this.stack[this.stack.length-1];ae.label=Z,ae.identifier=Sr(this.sliceSerialize(T)).toLowerCase()}function w(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.title=T}function S(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.url=T}function _(T){const Z=this.stack[this.stack.length-1];if(!Z.depth){const ae=this.sliceSerialize(T).length;Z.depth=ae}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function E(T){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function O(T){const ae=this.stack[this.stack.length-1].children;let ge=ae[ae.length-1];(!ge||ge.type!=="text")&&(ge=ie(),ge.position={start:Ai(T.start),end:void 0},ae.push(ge)),this.stack.push(ge)}function C(T){const Z=this.stack.pop();Z.value+=this.sliceSerialize(T),Z.position.end=Ai(T.end)}function P(T){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=Z.children[Z.children.length-1];ae.position.end=Ai(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Z.type)&&(O.call(this,T),C.call(this,T))}function R(){this.data.atHardBreak=!0}function F(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.value=T}function V(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.value=T}function J(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.value=T}function L(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=Z,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function G(){const T=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=Z,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function N(T){const Z=this.sliceSerialize(T),ae=this.stack[this.stack.length-2];ae.label=C6(Z),ae.identifier=Sr(Z).toLowerCase()}function D(){const T=this.stack[this.stack.length-1],Z=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const ge=T.children;ae.children=ge}else ae.alt=Z}function j(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.url=T}function z(){const T=this.resume(),Z=this.stack[this.stack.length-1];Z.title=T}function W(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function re(T){const Z=this.resume(),ae=this.stack[this.stack.length-1];ae.label=Z,ae.identifier=Sr(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function B(T){this.data.characterReferenceType=T.type}function ee(T){const Z=this.sliceSerialize(T),ae=this.data.characterReferenceType;let ge;ae?(ge=KN(Z,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ge=qx(Z);const ve=this.stack[this.stack.length-1];ve.value+=ge}function Y(T){const Z=this.stack.pop();Z.position.end=Ai(T.end)}function $(T){C.call(this,T);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(T)}function Q(T){C.call(this,T);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(T)}function M(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function U(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function Se(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function ye(){return{type:"html",value:""}}function Te(){return{type:"image",title:null,url:"",alt:null}}function Ze(){return{type:"link",title:null,url:"",children:[]}}function Wn(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function Or(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function wn(){return{type:"paragraph",children:[]}}function H(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function de(){return{type:"thematicBreak"}}}function Ai(e){return{line:e.line,column:e.column,offset:e.offset}}function nO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?nO(e,r):A6(e,r)}}function A6(e,t){let n;for(n in t)if(tO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Sk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Al({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Al({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Al({start:t.start,end:t.end})+") is still open")}function P6(e){const t=this;t.parser=n;function n(r){return N6(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function T6(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function I6(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function D6(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function R6(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M6(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function L6(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Co(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function $6(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F6(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function rO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function z6(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rO(e,t);const i={src:Co(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function U6(e,t){const n={src:Co(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function B6(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function W6(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return rO(e,t);const i={href:Co(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function V6(e,t){const n={href:Co(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function K6(e,t,n){const r=e.all(t),i=n?H6(n):iO(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function H6(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=iO(n[r])}return t}function iO(e){const t=e.spread;return t??e.children.length>1}function q6(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Y6(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function J6(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function G6(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X6(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Bx(t.children[1]),c=LN(t.children[t.children.length-1]);l&&c&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Q6(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,l=s?s.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],h={},p=s?s[c]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),u.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function Z6(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const jk=9,_k=32;function eU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(Ck(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Ck(t.slice(i),i>0,!1)),a.join("")}function Ck(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===jk||a===_k;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===jk||a===_k;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function tU(e,t){const n={type:"text",value:eU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function nU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const rU={blockquote:T6,break:I6,code:D6,delete:R6,emphasis:M6,footnoteReference:L6,heading:$6,html:F6,imageReference:z6,image:U6,inlineCode:B6,linkReference:W6,link:V6,listItem:K6,list:q6,paragraph:Y6,root:J6,strong:G6,table:X6,tableCell:Z6,tableRow:Q6,text:tU,thematicBreak:nU,toml:_u,yaml:_u,definition:_u,footnoteDefinition:_u};function _u(){}const aO=-1,vh=0,Tl=1,Gd=2,Jx=3,Gx=4,Xx=5,Qx=6,sO=7,oO=8,Ek=typeof self=="object"?self:globalThis,iU=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case vh:case aO:return n(s,i);case Tl:{const l=n([],i);for(const c of s)l.push(r(c));return l}case Gd:{const l=n({},i);for(const[c,u]of s)l[r(c)]=r(u);return l}case Jx:return n(new Date(s),i);case Gx:{const{source:l,flags:c}=s;return n(new RegExp(l,c),i)}case Xx:{const l=n(new Map,i);for(const[c,u]of s)l.set(r(c),r(u));return l}case Qx:{const l=n(new Set,i);for(const c of s)l.add(r(c));return l}case sO:{const{name:l,message:c}=s;return n(new Ek[l](c),i)}case oO:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:l}=new Uint8Array(s);return n(new DataView(l),s)}}return n(new Ek[a](s),i)};return r},Nk=e=>iU(new Map,e)(0),xs="",{toString:aU}={},{keys:sU}=Object,Zo=e=>{const t=typeof e;if(t!=="object"||!e)return[vh,t];const n=aU.call(e).slice(8,-1);switch(n){case"Array":return[Tl,xs];case"Object":return[Gd,xs];case"Date":return[Jx,xs];case"RegExp":return[Gx,xs];case"Map":return[Xx,xs];case"Set":return[Qx,xs];case"DataView":return[Tl,n]}return n.includes("Array")?[Tl,n]:n.includes("Error")?[sO,n]:[Gd,n]},Cu=([e,t])=>e===vh&&(t==="function"||t==="symbol"),oU=(e,t,n,r)=>{const i=(s,l)=>{const c=r.push(s)-1;return n.set(l,c),c},a=s=>{if(n.has(s))return n.get(s);let[l,c]=Zo(s);switch(l){case vh:{let d=s;switch(c){case"bigint":l=oO,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([aO],s)}return i([l,d],s)}case Tl:{if(c){let h=s;return c==="DataView"?h=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(s)),i([c,[...h]],s)}const d=[],f=i([l,d],s);for(const h of s)d.push(a(h));return f}case Gd:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([l,d],s);for(const h of sU(s))(e||!Cu(Zo(s[h])))&&d.push([a(h),a(s[h])]);return f}case Jx:return i([l,s.toISOString()],s);case Gx:{const{source:d,flags:f}=s;return i([l,{source:d,flags:f}],s)}case Xx:{const d=[],f=i([l,d],s);for(const[h,p]of s)(e||!(Cu(Zo(h))||Cu(Zo(p))))&&d.push([a(h),a(p)]);return f}case Qx:{const d=[],f=i([l,d],s);for(const h of s)(e||!Cu(Zo(h)))&&d.push(a(h));return f}}const{message:u}=s;return i([l,{name:c,message:u}],s)};return a},Ok=(e,{json:t,lossy:n}={})=>{const r=[];return oU(!(t||n),!!t,new Map,r)(e),r},Xd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Nk(Ok(e,t)):structuredClone(e):(e,t)=>Nk(Ok(e,t));function lU(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function cU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function uU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||lU,r=e.options.footnoteBackLabel||cU,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Co(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(c,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else d.push(...m);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Xd(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const yh=function(e){if(e==null)return pU;if(typeof e=="function")return xh(e);if(typeof e=="object")return Array.isArray(e)?dU(e):fU(e);if(typeof e=="string")return hU(e);throw new Error("Expected function, string, or object as test")};function dU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=yh(e[n]);return xh(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function fU(e){const t=e;return xh(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function hU(e){return xh(t);function t(n){return n&&n.type===e}}function xh(e){return t;function t(n,r,i){return!!(mU(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function pU(){return!0}function mU(e){return e!==null&&typeof e=="object"&&"type"in e}const lO=[],gU=!0,_v=!1,vU="skip";function cO(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=yh(i),s=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=lO,m,g,y;if((!t||a(c,u,d[d.length-1]||void 0))&&(p=yU(n(c,d)),p[0]===_v))return p;if("children"in c&&c.children){const x=c;if(x.children&&p[0]!==vU)for(g=(r?x.children.length:-1)+s,y=d.concat(x);g>-1&&g<x.children.length;){const b=x.children[g];if(m=l(b,g,y)(),m[0]===_v)return m;g=typeof m[1]=="number"?m[1]:g+s}}return p}}}function yU(e){return Array.isArray(e)?e:typeof e=="number"?[gU,e]:e==null?lO:[e]}function Zx(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),cO(e,a,l,i);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return s(c,f,d)}}const Cv={}.hasOwnProperty,xU={};function bU(e,t){const n=t||xU,r=new Map,i=new Map,a=new Map,s={...rU,...n.handlers},l={all:u,applyData:kU,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:wU,wrap:jU};return Zx(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),l;function c(d,f){const h=d.type,p=l.handlers[h];if(Cv.call(l.handlers,h)&&p)return p(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,x=Xd(y);return x.children=l.all(d),x}return Xd(d)}return(l.options.unknownHandler||SU)(l,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=l.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=Ak(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=Ak(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function wU(e,t){e.position&&(t.position=c8(e))}function kU(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Xd(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function SU(e,t){const n=t.data||{},r="value"in t&&!(Cv.call(n,"hProperties")||Cv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jU(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Ak(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Pk(e,t){const n=bU(e,t),r=n.one(e,void 0),i=uU(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function _U(e,t){return e&&"run"in e?async function(n,r){const i=Pk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Pk(n,{file:r,...e||t})}}function Tk(e){if(e)throw e}var od=Object.prototype.hasOwnProperty,uO=Object.prototype.toString,Ik=Object.defineProperty,Dk=Object.getOwnPropertyDescriptor,Rk=function(t){return typeof Array.isArray=="function"?Array.isArray(t):uO.call(t)==="[object Array]"},Mk=function(t){if(!t||uO.call(t)!=="[object Object]")return!1;var n=od.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&od.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||od.call(t,i)},Lk=function(t,n){Ik&&n.name==="__proto__"?Ik(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},$k=function(t,n){if(n==="__proto__")if(od.call(t,n)){if(Dk)return Dk(t,n).value}else return;return t[n]},CU=function e(){var t,n,r,i,a,s,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=$k(l,n),i=$k(t,n),l!==i&&(d&&i&&(Mk(i)||(a=Rk(i)))?(a?(a=!1,s=r&&Rk(r)?r:[]):s=r&&Mk(r)?r:{},Lk(l,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&Lk(l,{name:n,newValue:i}));return l};const mm=$n(CU);function Ev(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function EU(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...u){const d=e[++a];let f=-1;if(c){s(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?NU(d,l)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function NU(e,t){let n;return r;function r(...s){const l=e.length>s.length;let c;l&&s.push(i);try{c=e.apply(this,s)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){n||(n=!0,t(s,...l))}function a(s){i(null,s)}}const Mr={basename:OU,dirname:AU,extname:PU,join:TU,sep:"/"};function OU(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ac(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function AU(e){if(Ac(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function PU(e){Ac(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const l=e.codePointAt(t);if(l===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function TU(...e){let t=-1,n;for(;++t<e.length;)Ac(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":IU(n)}function IU(e){Ac(e);const t=e.codePointAt(0)===47;let n=DU(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function DU(e,t){let n="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=e.length;){if(s<e.length)l=e.codePointAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return n}function Ac(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const RU={cwd:MU};function MU(){return"/"}function Nv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function LU(e){if(typeof e=="string")e=new URL(e);else if(!Nv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $U(e)}function $U(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const gm=["history","path","basename","stem","extname","dirname"];class dO{constructor(t){let n;t?Nv(t)?n={path:t}:typeof t=="string"||FU(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":RU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gm.length;){const a=gm[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)gm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Mr.basename(this.path):void 0}set basename(t){ym(t,"basename"),vm(t,"basename"),this.path=Mr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mr.dirname(this.path):void 0}set dirname(t){Fk(this.basename,"dirname"),this.path=Mr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mr.extname(this.path):void 0}set extname(t){if(vm(t,"extname"),Fk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Nv(t)&&(t=LU(t)),ym(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mr.basename(this.path,this.extname):void 0}set stem(t){ym(t,"stem"),vm(t,"stem"),this.path=Mr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new qt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function vm(e,t){if(e&&e.includes(Mr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mr.sep+"`")}function ym(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Fk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function FU(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zU=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},UU={}.hasOwnProperty;class e0 extends zU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=EU()}copy(){const t=new e0;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(mm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(wm("data",this.frozen),this.namespace[t]=n,this):UU.call(this.namespace,t)&&this.namespace[t]||void 0:t?(wm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Eu(t),r=this.parser||this.Parser;return xm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),xm("process",this.parser||this.Parser),bm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const l=Eu(t),c=r.parse(l);r.run(c,l,function(d,f,h){if(d||!f||!h)return u(d);const p=f,m=r.stringify(p,h);VU(m)?h.value=m:h.result=m,u(d,h)});function u(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),xm("processSync",this.parser||this.Parser),bm("processSync",this.compiler||this.Compiler),this.process(t,i),Uk("processSync","process",n),r;function i(a,s){n=!0,Tk(a),r=s}}run(t,n,r){zk(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,l){const c=Eu(n);i.run(t,c,u);function u(d,f,h){const p=f||t;d?l(d):s?s(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),Uk("runSync","run",r),i;function a(s,l){Tk(s),i=l,r=!0}}stringify(t,n){this.freeze();const r=Eu(n),i=this.compiler||this.Compiler;return bm("stringify",i),zk(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(wm("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=mm(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];Ev(g)&&Ev(p)&&(p=mm(!0,g,p)),r[h]=[u,p,...m]}}}}const BU=new e0().freeze();function xm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function bm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function wm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zk(e){if(!Ev(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Uk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Eu(e){return WU(e)?e:new dO(e)}function WU(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function VU(e){return typeof e=="string"||KU(e)}function KU(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const HU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Bk=[],Wk={allowDangerousHtml:!0},qU=/^(https?|ircs?|mailto|xmpp)$/i,YU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function JU(e){const t=GU(e),n=XU(e);return QU(t.runSync(t.parse(n),n),e)}function GU(e){const t=e.rehypePlugins||Bk,n=e.remarkPlugins||Bk,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Wk}:Wk;return BU().use(P6).use(n).use(_U,r).use(t)}function XU(e){const t=e.children||"",n=new dO;return typeof t=="string"&&(n.value=t),n}function QU(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||ZU;for(const d of YU)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+HU+d.id,void 0);return Zx(e,u),p8(e,{Fragment:o.Fragment,components:i,ignoreInvalidStyle:!0,jsx:o.jsx,jsxs:o.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in fm)if(Object.hasOwn(fm,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=fm[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=c(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return l&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function ZU(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||qU.test(e.slice(0,t))?e:""}function Vk(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function eB(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tB(e,t,n){const i=yh((n||{}).ignore||[]),a=nB(t);let s=-1;for(;++s<a.length;)cO(e,"text",l);function l(u,d){let f=-1,h;for(;++f<d.length;){const p=d[f],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=a[s][0],p=a[s][1];let m=0;const y=f.children.indexOf(u);let x=!1,b=[];h.lastIndex=0;let w=h.exec(u.value);for(;w;){const S=w.index,_={index:w.index,input:w.input,stack:[...d,u]};let k=p(...w,_);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=S+1:(m!==S&&b.push({type:"text",value:u.value.slice(m,S)}),Array.isArray(k)?b.push(...k):k&&b.push(k),m=S+w[0].length,x=!0),!h.global)break;w=h.exec(u.value)}return x?(m<u.value.length&&b.push({type:"text",value:u.value.slice(m)}),f.children.splice(y,1,...b)):b=[u],y+b.length}}function nB(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([rB(i[0]),iB(i[1])])}return t}function rB(e){return typeof e=="string"?new RegExp(eB(e),"g"):e}function iB(e){return typeof e=="function"?e:function(){return e}}const km="phrasing",Sm=["autolink","link","image","label"];function aB(){return{transforms:[fB],enter:{literalAutolink:oB,literalAutolinkEmail:jm,literalAutolinkHttp:jm,literalAutolinkWww:jm},exit:{literalAutolink:dB,literalAutolinkEmail:uB,literalAutolinkHttp:lB,literalAutolinkWww:cB}}}function sB(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:km,notInConstruct:Sm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:km,notInConstruct:Sm},{character:":",before:"[ps]",after:"\\/",inConstruct:km,notInConstruct:Sm}]}}function oB(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function jm(e){this.config.enter.autolinkProtocol.call(this,e)}function lB(e){this.config.exit.autolinkProtocol.call(this,e)}function cB(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function uB(e){this.config.exit.autolinkEmail.call(this,e)}function dB(e){this.exit(e)}function fB(e){tB(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,hB],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),pB]],{ignore:["link","linkReference"]})}function hB(e,t,n,r,i){let a="";if(!fO(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!mB(n)))return!1;const s=gB(n+r);if(!s[0])return!1;const l={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function pB(e,t,n,r){return!fO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function mB(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function gB(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Vk(e,"(");let a=Vk(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function fO(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ja(n)||mh(n))&&(!t||n!==47)}hO.peek=_B;function vB(){this.buffer()}function yB(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function xB(){this.buffer()}function bB(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function wB(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Sr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function kB(e){this.exit(e)}function SB(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Sr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function jB(e){this.exit(e)}function _B(){return"["}function hO(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),l=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),s(),a+=i.move("]"),a}function CB(){return{enter:{gfmFootnoteCallString:vB,gfmFootnoteCall:yB,gfmFootnoteDefinitionLabelString:xB,gfmFootnoteDefinition:bB},exit:{gfmFootnoteCallString:wB,gfmFootnoteCall:kB,gfmFootnoteDefinitionLabelString:SB,gfmFootnoteDefinition:jB}}}function EB(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:hO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const l=a.createTracker(s);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?pO:NB))),u(),c}}function NB(e,t,n){return t===0?e:pO(e,t,n)}function pO(e,t,n){return(n?"":"    ")+e}const OB=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];mO.peek=DB;function AB(){return{canContainEols:["delete"],enter:{strikethrough:TB},exit:{strikethrough:IB}}}function PB(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:OB}],handlers:{delete:mO}}}function TB(e){this.enter({type:"delete",children:[]},e)}function IB(e){this.exit(e)}function mO(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function DB(){return"~"}function RB(e){return e.length}function MB(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||RB,a=[],s=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const g=[],y=[];let x=-1;for(e[d].length>u&&(u=e[d].length);++x<e[d].length;){const b=LB(e[d][x]);if(n.alignDelimiters!==!1){const w=i(b);y[x]=w,(c[x]===void 0||w>c[x])&&(c[x]=w)}g.push(b)}s[d]=g,l[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=Kk(r[f]);else{const g=Kk(r);for(;++f<u;)a[f]=g}f=-1;const h=[],p=[];for(;++f<u;){const g=a[f];let y="",x="";g===99?(y=":",x=":"):g===108?y=":":g===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,c[f]-y.length-x.length);const w=y+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=y.length+b+x.length,b>c[f]&&(c[f]=b),p[f]=b),h[f]=w}s.splice(1,0,h),l.splice(1,0,p),d=-1;const m=[];for(;++d<s.length;){const g=s[d],y=l[d];f=-1;const x=[];for(;++f<u;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const _=c[f]-(y[f]||0),k=a[f];k===114?w=" ".repeat(_):k===99?_%2?(w=" ".repeat(_/2+.5),S=" ".repeat(_/2-.5)):(w=" ".repeat(_/2),S=w):S=" ".repeat(_)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(w),x.push(b),n.alignDelimiters!==!1&&x.push(S),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&x.push("|")}m.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return m.join(`
`)}function LB(e){return e==null?"":String(e)}function Kk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function $B(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),FB);return i(),s}function FB(e,t,n){return">"+(n?"":" ")+e}function zB(e,t){return Hk(e,t.inConstruct,!0)&&!Hk(e,t.notInConstruct,!1)}function Hk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function qk(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&zB(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function UB(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function BB(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function WB(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function VB(e,t,n,r){const i=WB(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(BB(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,KB);return f(),h}const l=n.createTracker(r),c=i.repeat(Math.max(UB(a,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function KB(e,t,n){return(n?"":"    ")+e}function t0(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function HB(e,t,n,r){const i=t0(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),s(),u}function qB(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ac(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Qd(e,t,n){const r=no(e),i=no(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}gO.peek=YB;function gO(e,t,n,r){const i=qB(n),a=n.enter("emphasis"),s=n.createTracker(r),l=s.move(i);let c=s.move(n.containerPhrasing(e,{after:i,before:l,...s.current()}));const u=c.charCodeAt(0),d=Qd(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=ac(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Qd(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+ac(f));const p=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+c+p}function YB(e,t,n){return n.options.emphasis||"*"}function JB(e,t){let n=!1;return Zx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,_v}),!!((!e.depth||e.depth<3)&&Hx(e)&&(t.options.setext||n))}function GB(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(JB(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=ac(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),c(),l(),u}vO.peek=XB;function vO(e){return e.value||""}function XB(){return"<"}yO.peek=QB;function yO(e,t,n,r){const i=t0(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),s(),u}function QB(){return"!"}xO.peek=ZB;function xO(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function ZB(){return"!"}bO.peek=e9;function bO(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],l=n.compilePattern(s);let c;if(s.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function e9(){return"`"}function wO(e,t){const n=Hx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}kO.peek=t9;function kO(e,t,n,r){const i=t0(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let l,c;if(wO(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(c=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),c()),u+=s.move(")"),l(),u}function t9(e,t,n){return wO(e,n)?"<":"["}SO.peek=n9;function SO(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function n9(){return"["}function n0(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function r9(e){const t=n0(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function i9(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function jO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function a9(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?i9(n):n0(n);const l=e.ordered?s==="."?")":".":r9(n);let c=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),jO(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=l),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function s9(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function o9(e,t,n,r){const i=s9(n);let a=n.bulletCurrent||n0(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(s-a.length)),l.shift(s);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,h,p){return h?(p?"":" ".repeat(s))+f:(p?a:a+" ".repeat(s-a.length))+f}}function l9(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const c9=yh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function u9(e,t,n,r){return(e.children.some(function(s){return c9(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function d9(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}_O.peek=f9;function _O(e,t,n,r){const i=d9(n),a=n.enter("strong"),s=n.createTracker(r),l=s.move(i+i);let c=s.move(n.containerPhrasing(e,{after:i,before:l,...s.current()}));const u=c.charCodeAt(0),d=Qd(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=ac(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Qd(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+ac(f));const p=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},l+c+p}function f9(e,t,n){return n.options.strong||"*"}function h9(e,t,n,r){return n.safe(e.value,r)}function p9(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function m9(e,t,n){const r=(jO(n)+(n.options.ruleSpaces?" ":"")).repeat(p9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const CO={blockquote:$B,break:qk,code:VB,definition:HB,emphasis:gO,hardBreak:qk,heading:GB,html:vO,image:yO,imageReference:xO,inlineCode:bO,link:kO,linkReference:SO,list:a9,listItem:o9,paragraph:l9,root:u9,strong:_O,text:h9,thematicBreak:m9};function g9(){return{enter:{table:v9,tableData:Yk,tableHeader:Yk,tableRow:x9},exit:{codeText:b9,table:y9,tableData:_m,tableHeader:_m,tableRow:_m}}}function v9(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function y9(e){this.exit(e),this.data.inTable=void 0}function x9(e){this.enter({type:"tableRow",children:[]},e)}function _m(e){this.exit(e)}function Yk(e){this.enter({type:"tableCell",children:[]},e)}function b9(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,w9));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function w9(e,t){return t==="|"?t:e}function k9(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:c,tableRow:l}};function s(p,m,g,y){return u(d(p,g,y),p.align)}function l(p,m,g,y){const x=f(p,g,y),b=u([x]);return b.slice(0,b.indexOf(`
`))}function c(p,m,g,y){const x=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(p,{...y,before:a,after:a});return b(),x(),w}function u(p,m){return MB(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(p,m,g){const y=p.children;let x=-1;const b=[],w=m.enter("table");for(;++x<y.length;)b[x]=f(y[x],m,g);return w(),b}function f(p,m,g){const y=p.children;let x=-1;const b=[],w=m.enter("tableRow");for(;++x<y.length;)b[x]=c(y[x],p,m,g);return w(),b}function h(p,m,g){let y=CO.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function S9(){return{exit:{taskListCheckValueChecked:Jk,taskListCheckValueUnchecked:Jk,paragraph:_9}}}function j9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:C9}}}function Jk(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function _9(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const l=i[a];if(l.type==="paragraph"){s=l;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function C9(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(s);let c=CO.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+s}}function E9(){return[aB(),CB(),AB(),g9(),S9()]}function N9(e){return{extensions:[sB(),EB(e),PB(),k9(e),j9()]}}const O9={tokenize:R9,partial:!0},EO={tokenize:M9,partial:!0},NO={tokenize:L9,partial:!0},OO={tokenize:$9,partial:!0},A9={tokenize:F9,partial:!0},AO={name:"wwwAutolink",tokenize:I9,previous:TO},PO={name:"protocolAutolink",tokenize:D9,previous:IO},wi={name:"emailAutolink",tokenize:T9,previous:DO},Jr={};function P9(){return{text:Jr}}let ma=48;for(;ma<123;)Jr[ma]=wi,ma++,ma===58?ma=65:ma===91&&(ma=97);Jr[43]=wi;Jr[45]=wi;Jr[46]=wi;Jr[95]=wi;Jr[72]=[wi,PO];Jr[104]=[wi,PO];Jr[87]=[wi,AO];Jr[119]=[wi,AO];function T9(e,t,n){const r=this;let i,a;return s;function s(f){return!Ov(f)||!DO.call(r,r.previous)||r0(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return Ov(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(A9,d,u)(f):f===45||f===95||Vt(f)?(a=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return a&&i&&Qt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function I9(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!TO.call(r,r.previous)||r0(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(O9,e.attempt(EO,e.attempt(NO,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function D9(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&IO.call(r,r.previous)&&!r0(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(Qt(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||Jd(f)||Fe(f)||Ja(f)||mh(f)?n(f):e.attempt(EO,e.attempt(NO,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function R9(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function M9(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(OO,c,l)(u):u===null||Fe(u)||Ja(u)||u!==45&&mh(u)?c(u):(a=!0,e.consume(u),s)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function c(u){return i||r||!a?n(u):t(u)}}function L9(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(OO,t,a)(s):s===null||Fe(s)||Ja(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function $9(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),i):l===60||l===null||Fe(l)||Ja(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||Fe(l)||Ja(l)?t(l):r(l)}function a(l){return Qt(l)?s(l):n(l)}function s(l){return l===59?(e.consume(l),r):Qt(l)?(e.consume(l),s):n(l)}}function F9(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Vt(a)?n(a):t(a)}}function TO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fe(e)}function IO(e){return!Qt(e)}function DO(e){return!(e===47||Ov(e))}function Ov(e){return e===43||e===45||e===46||e===95||Vt(e)}function r0(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const z9={tokenize:Y9,partial:!0};function U9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:K9,continuation:{tokenize:H9},exit:q9}},text:{91:{name:"gfmFootnoteCall",tokenize:V9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:B9,resolveTo:W9}}}}function B9(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!s||!s._balanced)return n(c);const u=Sr(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function W9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function V9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||Fe(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Sr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Fe(f)||(s=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function K9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,l;return c;function c(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(s>999||m===93&&!l||m===null||m===91||Fe(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=Sr(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Fe(m)||(l=!0),s++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),s++,d):d(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),Ne(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function H9(e,t,n){return e.check(Oc,t,e.attempt(z9,t,n))}function q9(e){e.exit("gfmFootnoteDefinition")}function Y9(e,t,n){const r=this;return Ne(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function J9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,l){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let u=c;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[c][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[c][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[c][1].start)},h=[["enter",d,l],["enter",s[u][1],l],["exit",s[u][1],l],["enter",f,l]],p=l.parser.constructs.insideSpan.null;p&&Tn(h,h.length,0,gh(p,s.slice(u+1,c),l)),Tn(h,h.length,0,[["exit",f,l],["enter",s[c][1],l],["exit",s[c][1],l],["exit",d,l]]),Tn(s,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function a(s,l,c){const u=this.previous,d=this.events;let f=0;return h;function h(m){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(m):(s.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=no(u);if(m===126)return f>1?c(m):(s.consume(m),f++,p);if(f<2&&!n)return c(m);const y=s.exit("strikethroughSequenceTemporary"),x=no(m);return y._open=!x||x===2&&!!g,y._close=!g||g===2&&!!x,l(m)}}}class G9{constructor(){this.map=[]}add(t,n,r){X9(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function X9(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function Q9(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Z9(){return{flow:{null:{name:"table",tokenize:eW,resolveAll:tW}}}}function eW(e,t,n){const r=this;let i=0,a=0,s;return l;function l(C){let P=r.events.length-1;for(;P>-1;){const V=r.events[P][1].type;if(V==="lineEnding"||V==="linePrefix")P--;else break}const R=P>-1?r.events[P][1].type:null,F=R==="tableHead"||R==="tableRow"?k:c;return F===k&&r.parser.lazy[r.now().line]?n(C):F(C)}function c(C){return e.enter("tableHead"),e.enter("tableRow"),u(C)}function u(C){return C===124||(s=!0,a+=1),d(C)}function d(C){return C===null?n(C):me(C)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),p):n(C):je(C)?Ne(e,d,"whitespace")(C):(a+=1,s&&(s=!1,i+=1),C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(C)))}function f(C){return C===null||C===124||Fe(C)?(e.exit("data"),d(C)):(e.consume(C),C===92?h:f)}function h(C){return C===92||C===124?(e.consume(C),f):f(C)}function p(C){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(C):(e.enter("tableDelimiterRow"),s=!1,je(C)?Ne(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):m(C))}function m(C){return C===45||C===58?y(C):C===124?(s=!0,e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),g):_(C)}function g(C){return je(C)?Ne(e,y,"whitespace")(C):y(C)}function y(C){return C===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),x):C===45?(a+=1,x(C)):C===null||me(C)?S(C):_(C)}function x(C){return C===45?(e.enter("tableDelimiterFiller"),b(C)):_(C)}function b(C){return C===45?(e.consume(C),b):C===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(C),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(C))}function w(C){return je(C)?Ne(e,S,"whitespace")(C):S(C)}function S(C){return C===124?m(C):C===null||me(C)?!s||i!==a?_(C):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(C)):_(C)}function _(C){return n(C)}function k(C){return e.enter("tableRow"),E(C)}function E(C){return C===124?(e.enter("tableCellDivider"),e.consume(C),e.exit("tableCellDivider"),E):C===null||me(C)?(e.exit("tableRow"),t(C)):je(C)?Ne(e,E,"whitespace")(C):(e.enter("data"),I(C))}function I(C){return C===null||C===124||Fe(C)?(e.exit("data"),E(C)):(e.consume(C),C===92?O:I)}function O(C){return C===92||C===124?(e.consume(C),I):I(C)}}function tW(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],l=!1,c=0,u,d,f;const h=new G9;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(l=!1,c!==0&&(Gk(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Nu(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Nu(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):m.type==="tableHead"?(l=!0,c=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(c=n,a[1]!==0?(s[0]=s[1],f=Nu(h,t,a,i,n,f)):s[1]!==0&&(f=Nu(h,t,s,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(s[3]=n)}for(c!==0&&Gk(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=Q9(t.events,n))}return e}function Nu(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},Ss(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=Ss(t.events,n[1]);if(a={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Ss(t.events,n[2]),d=Ss(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Ss(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Gk(e,t,n,r,i){const a=[],s=Ss(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Ss(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const nW={name:"tasklistCheck",tokenize:iW};function rW(){return{text:{91:nW}}}function iW(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return Fe(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):n(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return me(c)?t(c):je(c)?e.check({tokenize:aW},t,n)(c):n(c)}}function aW(e,t,n){return Ne(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function sW(e){return VN([P9(),U9(),J9(e),Z9(),rW()])}const oW={};function lW(e){const t=this,n=e||oW,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(sW(n)),a.push(E9()),s.push(N9(n))}const cW=({citations:e})=>{const t=r=>{switch(r){case"web":return"🌐";case"document":return"📄";case"kb":return"📚";case"blob":return"💾";default:return"📎"}},n=r=>{r.sourceId&&r.sourceId.startsWith("http")&&window.open(r.sourceId,"_blank","noopener,noreferrer")};return o.jsxs("div",{className:"card p-3 rounded-md border",style:{backgroundColor:"var(--bg-secondary)"},children:[o.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"References"}),o.jsx("div",{className:"space-y-2",children:e.map(r=>o.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${r.sourceId&&r.sourceId.startsWith("http")?"hover:bg-gray-50":"cursor-default"}`,style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},onClick:()=>n(r),children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-sm",children:t(r.sourceType)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h5",{className:"text-sm font-medium truncate",style:{color:"var(--text)"},children:r.title||"Untitled Source"}),r.snippet&&o.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--text-secondary)"},children:r.snippet}),r.sourceId&&o.jsx("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-muted)"},children:r.sourceId})]})]})},r.id))})]})},uW=({messageId:e})=>{const[t,n]=v.useState(null),[r,i]=v.useState(!1),[a,s]=v.useState(null),[l,c]=v.useState(""),[u,d]=v.useState(null),f=p=>{s(p),i(!0),c("")},h=async()=>{if(a!==null)try{const p=Je();if(!p||!p.userId){console.error("No user session found"),alert("Please log in to submit feedback");return}const m=e,g=a===1?"good":"bad";console.log("Submitting feedback:",{chatId:m,userId:p.userId,reaction:g,feedbackText:l}),await $x(m,p.userId,g,l||void 0),console.log("✅ Feedback submitted successfully"),n(a),i(!1),c(""),d("success"),setTimeout(()=>d(null),3e3)}catch(p){console.error("Failed to submit feedback:",p),i(!1),d("error"),setTimeout(()=>d(null),3e3)}};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f(1),className:`p-1 rounded transition-colors ${t===1?"bg-green-100 text-green-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===1?"var(--success-light)":"transparent",color:t===1?"var(--success)":"var(--text-muted)"},title:"Thumbs up",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})})}),o.jsx("button",{onClick:()=>f(-1),className:`p-1 rounded transition-colors ${t===-1?"bg-red-100 text-red-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===-1?"var(--error-light)":"transparent",color:t===-1?"var(--error)":"var(--text-muted)"},title:"Thumbs down",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"})})})]}),r&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"card p-6 rounded-lg max-w-md w-full mx-4",style:{backgroundColor:"var(--card)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Submit feedback to HR Ax Pro"}),o.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),o.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text)"},children:"What did you like?"}),o.jsx("textarea",{value:l,onChange:p=>c(p.target.value),placeholder:"Give as much detail as you can, but don't include any private or sensitive information.",className:"input w-full h-24 resize-none text-sm",style:{backgroundColor:"var(--bg)",color:"var(--text)",borderColor:"var(--border)",padding:"12px"},autoFocus:!0}),o.jsx("p",{className:"text-xs mt-2 mb-4",style:{color:"var(--text-secondary)"},children:"We'll also share the content you're providing feedback on to help improve future responses."}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:h,className:"px-6 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--primary)",color:"white"},children:"Submit"})})]})}),u&&o.jsx("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",style:{backgroundColor:u==="success"?"var(--success, #10b981)":"var(--error, #ef4444)",color:"white"},children:u==="success"?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),o.jsx("span",{children:"Feedback submitted successfully!"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),o.jsx("span",{children:"Failed to submit feedback. Please try again."})]})})]})},Xk=e=>btoa(e),dW=e=>{try{return atob(e)}catch{return""}},el="axpro_api_configs",Cm="axpro_ui_customization",Jn={getConfigs(){try{const e=localStorage.getItem(el);return e?JSON.parse(e).map(n=>({...n,apiKey:dW(n.apiKey)})):[]}catch{return[]}},saveConfig(e){const t=this.getConfigs(),n=new Date().toISOString(),r={...e,id:`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,apiKey:e.apiKey,createdAt:n,updatedAt:n},i={...r,apiKey:Xk(r.apiKey)},a=[...t.filter(s=>s.id!==e.id),i];return localStorage.setItem(el,JSON.stringify(a)),r},updateConfig(e,t){const n=this.getConfigs(),r=n.findIndex(s=>s.id===e);if(r===-1)return null;const i={...n[r],...t,updatedAt:new Date().toISOString()},a={...i,apiKey:Xk(i.apiKey)};return n[r]=a,localStorage.setItem(el,JSON.stringify(n)),i},deleteConfig(e){const t=this.getConfigs(),n=t.filter(r=>r.id!==e);return n.length===t.length?!1:(localStorage.setItem(el,JSON.stringify(n)),!0)},getActiveConfig(){return this.getConfigs().find(t=>t.isActive)||null},setActiveConfig(e){const t=this.getConfigs();if(!t.find(i=>i.id===e))return!1;const r=t.map(i=>({...i,isActive:i.id===e}));return localStorage.setItem(el,JSON.stringify(r)),!0},getUICustomization(){const e={chatTitle:"Chat Interface",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};try{const t=localStorage.getItem(Cm);if(!t)return e;const n=JSON.parse(t);return{...e,...n}}catch{return e}},saveUICustomization(e){localStorage.setItem(Cm,JSON.stringify(e))},resetUICustomization(){localStorage.removeItem(Cm)}},Tr={chatTitle:"TecAce Ax Pro",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};async function fW(){try{const e=Me(),{data:t,error:n}=await e.from("ui_settings").select("*").eq("id","global").maybeSingle();return n?(console.error("Error fetching UI customization:",n),Tr):t?{chatTitle:t.chat_title||Tr.chatTitle,chatSubtitle:t.chat_subtitle||Tr.chatSubtitle,avatarUrl:t.avatar_url||Tr.avatarUrl,suggestedQuestions:{question1:t.question_1||Tr.suggestedQuestions.question1,question2:t.question_2||Tr.suggestedQuestions.question2,question3:t.question_3||Tr.suggestedQuestions.question3,question4:t.question_4||Tr.suggestedQuestions.question4}}:(console.log("No UI customization found in database, using defaults"),Tr)}catch(e){return console.error("Failed to fetch UI customization:",e),Tr}}async function hW(e){try{const t=Me(),{error:n}=await t.from("ui_settings").upsert({id:"global",chat_title:e.chatTitle,chat_subtitle:e.chatSubtitle,avatar_url:e.avatarUrl,question_1:e.suggestedQuestions.question1,question_2:e.suggestedQuestions.question2,question_3:e.suggestedQuestions.question3,question_4:e.suggestedQuestions.question4,updated_at:new Date().toISOString()},{onConflict:"id"});return n?(console.error("Error saving UI customization:",n),!1):(console.log("✅ UI customization saved to Supabase"),!0)}catch(t){return console.error("Failed to save UI customization:",t),!1}}const Pc=()=>{const[e,t]=v.useState(()=>Jn.getUICustomization()),[n,r]=v.useState(!0);v.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const c=await fW();t(c),Jn.saveUICustomization(c)}catch(c){console.error("Failed to load UI customization:",c);const u=Jn.getUICustomization();t(u)}finally{r(!1)}},a=async c=>{r(!0);try{const u={...e,...c};await hW(u)?(t(u),Jn.saveUICustomization(u),console.log("✅ UI customization updated successfully")):(console.error("Failed to save to Supabase, falling back to localStorage"),Jn.saveUICustomization(u),t(u))}catch(u){console.error("Failed to update UI customization:",u)}finally{r(!1)}};return{customization:e,loading:n,updateCustomization:a,updateQuestion:(c,u)=>{a({suggestedQuestions:{...e.suggestedQuestions,[c]:u}})},resetCustomization:()=>{r(!0);try{Jn.resetUICustomization();const c=Jn.getUICustomization();t(c)}catch(c){console.error("Failed to reset UI customization:",c)}finally{r(!1)}}}},pW=({message:e})=>{const[t,n]=v.useState(!1),{customization:r}=Pc(),i=e.role==="user",a=e.role==="assistant",s=e.id.startsWith("sim_"),l=c=>new Date(c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{className:`flex ${i?"justify-end":"justify-start"} gap-3`,children:[a&&o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:r.avatarUrl,alt:"Assistant",className:"w-8 h-8 rounded-full",style:{objectFit:"cover"}})}),o.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg ${i?"order-2":"order-1"}`,children:[o.jsx("div",{className:`p-3 rounded-lg ${i?"message-user":"message-assistant"}`,children:o.jsx("div",{className:"prose prose-sm max-w-none",style:{fontSize:"14px",lineHeight:"1.5",color:i?"#ffffff":"var(--text)"},children:e.content&&e.content.trim()?o.jsx(JU,{remarkPlugins:[lW],components:{p:({children:c})=>o.jsx("p",{style:{margin:"0 0 8px 0"},children:c}),code:({children:c,className:u})=>!u?o.jsx("code",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"2px 4px",borderRadius:"3px",fontSize:"0.9em"},children:c}):o.jsx("pre",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"8px",borderRadius:"4px",overflow:"auto",margin:"8px 0"},children:o.jsx("code",{children:c})}),ul:({children:c})=>o.jsx("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:c}),ol:({children:c})=>o.jsx("ol",{style:{margin:"8px 0",paddingLeft:"20px"},children:c}),li:({children:c})=>o.jsx("li",{style:{margin:"4px 0"},children:c}),blockquote:({children:c})=>o.jsx("blockquote",{style:{borderLeft:`3px solid ${i?"rgba(255,255,255,0.3)":"var(--border)"}`,paddingLeft:"12px",margin:"8px 0",fontStyle:"italic",color:i?"#ffffff":"var(--text)"},children:c}),h1:({children:c})=>o.jsx("h1",{style:{fontSize:"1.2em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:c}),h2:({children:c})=>o.jsx("h2",{style:{fontSize:"1.1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:c}),h3:({children:c})=>o.jsx("h3",{style:{fontSize:"1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:c})},children:e.content}):o.jsx("span",{style:{color:i?"rgba(255,255,255,0.7)":"var(--text-muted)",fontStyle:"italic"},children:e.role==="assistant"?"Thinking...":"No content available"})})}),o.jsxs("div",{className:`flex items-center gap-2 mt-1 ${i?"justify-end":"justify-start"}`,children:[o.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:l(e.createdAt)}),s&&a&&o.jsx("div",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--warning-bg, rgba(255, 193, 7, 0.1))",color:"var(--warning-text, #ff9800)",border:"1px solid var(--warning-border, rgba(255, 152, 0, 0.3))",fontSize:"10px",fontWeight:"500"},children:"SIMULATION MODE"})]}),a&&o.jsxs("div",{className:"mt-2 space-y-2",children:[e.citations&&e.citations.length>0&&o.jsxs("button",{onClick:()=>n(!t),className:"text-xs link flex items-center space-x-2",children:[o.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),o.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),o.jsxs("span",{children:[t?"Hide":"Show"," References (",e.citations.length,")"]})]}),t&&e.citations&&o.jsx(cW,{citations:e.citations}),!s&&o.jsx(uW,{messageId:e.id})]})]})]})},mW=({onSend:e,disabled:t=!1})=>{const[n,r]=v.useState(""),i=v.useRef(null),a=_c(),s=u=>{u.preventDefault(),n.trim()&&!t&&(e(n.trim()),r(""))},l=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),s(u))},c=()=>{const u=i.current;u&&(u.style.height="auto",u.style.height=`${Math.min(u.scrollHeight,120)}px`)};return v.useEffect(()=>{c()},[n]),o.jsx("form",{onSubmit:s,className:"relative",children:o.jsxs("div",{className:"relative",children:[o.jsx("textarea",{ref:i,value:n,onChange:u=>r(u.target.value),onKeyDown:l,placeholder:a("ui.typeMessage"),className:"w-full resize-none rounded-2xl px-4 py-3 pr-12 min-h-[52px] max-h-[200px] border focus:outline-none focus:ring-0 focus:border-transparent transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)",color:"var(--text)",fontSize:"16px",boxShadow:"0 0 0 1px var(--border)"},disabled:t,rows:1}),o.jsx("button",{type:"submit",disabled:!n.trim()||t,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:n.trim()&&!t?"var(--primary)":"transparent",color:n.trim()&&!t?"white":"var(--text-muted)"},children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),o.jsx("path",{d:"M22 2 11 13"})]})})]})})},gW=({sessionId:e,isClosed:t=!1})=>{const{messages:n,loading:r,sending:i,error:a,sendMessage:s}=yF(e),l=v.useRef(null);_c();const{customization:c}=Pc();ui.useEffect(()=>{console.log("ThreadView messages for sessionId:",e,n)},[n,e]);const u=()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})};return v.useEffect(()=>{u()},[n]),r?o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),o.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading conversation..."})]})}):o.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[o.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:n.length===0?o.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:o.jsxs("div",{className:"max-w-2xl w-full text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:c.chatTitle}),o.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:c.chatSubtitle})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[o.jsx("button",{onClick:()=>s(c.suggestedQuestions.question1),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o.jsx("circle",{cx:"12",cy:"5",r:"2"}),o.jsx("path",{d:"M12 7v4"})]})}),o.jsx("span",{className:"text-sm",children:c.suggestedQuestions.question1})]})}),o.jsx("button",{onClick:()=>s(c.suggestedQuestions.question2),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),o.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),o.jsx("span",{className:"text-sm",children:c.suggestedQuestions.question2})]})}),o.jsx("button",{onClick:()=>s(c.suggestedQuestions.question3),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M8 12h8"}),o.jsx("path",{d:"M12 8v8"})]})}),o.jsx("span",{className:"text-sm",children:c.suggestedQuestions.question3})]})}),o.jsx("button",{onClick:()=>s(c.suggestedQuestions.question4),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),o.jsx("span",{className:"text-sm",children:c.suggestedQuestions.question4})]})})]})]})}):o.jsxs("div",{className:"p-4 space-y-4",children:[n.map(d=>(console.log("Rendering message:",d),o.jsx(pW,{message:d},d.id))),o.jsx("div",{ref:l})]})}),a&&o.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:o.jsx("div",{className:"error p-3 rounded-md",children:o.jsx("p",{className:"text-sm",children:a})})}),o.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--border)"},children:t?o.jsx("div",{className:"flex items-center justify-center p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"🔒"}),o.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"This chat is closed"}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Reopen the chat to continue the conversation"})]})}):o.jsx(mW,{onSend:d=>s(d),disabled:i})})]})},Qk=()=>{const{sessionId:e}=HE(),t=Un(),{theme:n,toggleTheme:r}=as(),{language:i,setLanguage:a,t:s}=rt(),{customization:l}=Pc(),[c,u]=v.useState(null),[d,f]=v.useState(!0),[h,p]=v.useState(null);v.useEffect(()=>{(async()=>{try{const y=await av.getMe();u({...y,userId:y.email}),f(!0)}catch(y){console.log("Backend auth failed, trying local auth:",y),f(!1);const x=Je();x?u({email:x.email,userId:x.email,role:x.role}):(console.log("No local session found, redirecting to login"),t("/"))}})()},[t]),v.useEffect(()=>{if(e){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").find(x=>x.id===e);p(y)}},[e]);const m=async()=>{try{await av.logout()}catch(g){console.log("Backend logout failed, using local logout:",g)}qa(),t("/")};return c?o.jsxs("div",{className:"h-screen flex overflow-hidden",style:{backgroundColor:"var(--bg)"},children:[o.jsxs("div",{className:"w-80 border-r flex flex-col h-full",style:{borderColor:"var(--border)"},children:[o.jsxs("div",{className:"p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:l.chatTitle}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:r,className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},title:s(n==="light"?"ui.theme.dark":"ui.theme.light"),children:n==="light"?o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"5"}),o.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),o.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),o.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),o.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),o.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),o.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),o.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),o.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),o.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"text-sm px-2 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:"en",children:"EN"}),o.jsx("option",{value:"ko",children:"KO"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:c.email}),o.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:c.role==="admin"?"Administrator":s("ui.user")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[c.role==="admin"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 rounded-md border transition-colors",style:{borderColor:"var(--border)",color:"var(--text)"},title:s("ui.dashboard"),children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),o.jsx("button",{onClick:()=>t("/settings"),className:"p-2 rounded-md border transition-colors",style:{borderColor:"var(--border)",color:"var(--text)"},title:s("ui.settings"),children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"3"}),o.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]})})]}),o.jsx("button",{onClick:m,className:"text-sm link",children:s("ui.signOut")})]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx(v3,{})})]}),o.jsx("div",{className:"flex-1 flex flex-col h-full",children:e?o.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[o.jsx("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:l.avatarUrl,alt:"Chatbot Avatar",className:"w-10 h-10 rounded-full flex-shrink-0",style:{objectFit:"cover"},onError:g=>{g.currentTarget.src="/default-profile-avatar.png"}}),o.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:(h==null?void 0:h.title)||s("ui.newChatTitle")}),(h==null?void 0:h.status)==="closed"&&o.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:"🔒 Closed"}),o.jsx("button",{onClick:()=>{if((h==null?void 0:h.status)==="closed"){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(x=>x.id===e?{...x,status:"open"}:x);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"open"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(x=>x.id===e?{...x,status:"closed"}:x);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"closed"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}},className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:(h==null?void 0:h.status)==="closed"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),o.jsx("path",{d:"M21 3v5h-5"}),o.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),o.jsx("path",{d:"M3 21v-5h5"})]}),o.jsxs("span",{children:[s("context.reopen")," ",s("ui.newChatTitle")]})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("path",{d:"M9 9h6v6H9z"})]}),o.jsx("span",{children:s("ui.closeChat")})]})})]})}),o.jsx(gW,{sessionId:e,isClosed:(h==null?void 0:h.status)==="closed"})]}):o.jsx("div",{className:"flex-1 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-light mb-4",style:{color:"var(--text)"},children:s("chat.welcome")}),o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:s("ui.selectConversation")})]})})})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),o.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})]})})},vW=()=>{const e=Un(),t=Je(),n=_c(),r=()=>{qa(),e("/")};return o.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[o.jsx("header",{className:"card border-b",style:{borderColor:"var(--border)"},children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:n("dashboard.title")})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Admin: ",t==null?void 0:t.email]}),o.jsx("button",{onClick:r,className:"link text-sm",children:"Sign Out"})]})]})})}),o.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"card p-6 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Total Users"}),o.jsx("p",{className:"text-3xl font-light",style:{color:"var(--primary)"},children:"1,234"}),o.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"+12% from last month"})]}),o.jsxs("div",{className:"card p-6 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Active Sessions"}),o.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"89"}),o.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"Currently online"})]}),o.jsxs("div",{className:"card p-6 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Status"}),o.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"Healthy"}),o.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"All systems operational"})]})]}),o.jsxs("div",{className:"mt-8 card p-8 rounded-lg",children:[o.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--text)"},children:"Admin Panel"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[o.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"User Management"}),o.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Manage user accounts and permissions"}),o.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Manage Users"})]}),o.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[o.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Settings"}),o.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Configure platform settings"}),o.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Settings"})]})]}),o.jsx("div",{className:"mt-6 card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:o.jsxs("p",{className:"text-sm",style:{color:"var(--primary)"},children:[o.jsx("strong",{children:"Demo Mode:"})," You are logged in as an administrator. Admin features will be implemented here."]})})]})]})]})},yW=()=>{const e=Un(),{theme:t,toggleTheme:n}=as(),{language:r,setLanguage:i}=rt(),[a,s]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState("ui"),[f,h]=v.useState("supabase"),[p,m]=v.useState(!1),[g,y]=v.useState(null),[x,b]=v.useState(null),[w,S]=v.useState(!1),{customization:_,updateCustomization:k,updateQuestion:E,resetCustomization:I}=Pc();v.useEffect(()=>{const Z=new URLSearchParams(window.location.search).get("tab");(Z==="ui"||Z==="photo")&&d("ui")},[]);const[O,C]=v.useState({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),[P,R]=v.useState({name:"",webhookUrl:""}),[F,V]=v.useState({url:"",anonKey:""}),[J,L]=v.useState(!1),[G,N]=v.useState(null),[D,j]=v.useState(!1),[z,W]=v.useState(!1),[A,re]=v.useState(""),[B,ee]=v.useState({x:50,y:50}),[Y,$]=v.useState(100),[Q,M]=v.useState("");v.useEffect(()=>{he(),ue(),X(),U()},[]);const X=()=>{const T=uF();V(T)},U=()=>{const T=sv();j(T)},he=()=>{const T=Jn.getConfigs();s(T)},ue=()=>{const T=lh();c(T)},Se=T=>{T.preventDefault(),g?Jn.updateConfig(g.id,O):Jn.saveConfig({...O,isActive:a.length===0}),he(),Ae()},Ae=()=>{C({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),m(!1),y(null)},ye=T=>{C({name:T.name,baseUrl:T.baseUrl,apiKey:T.apiKey,model:T.model||"gpt-3.5-turbo",temperature:T.temperature||.7,maxTokens:T.maxTokens||1e3}),y(T),m(!0)},Te=T=>{window.confirm("Are you sure you want to delete this configuration?")&&(Jn.deleteConfig(T),he())},Ze=T=>{Jn.setActiveConfig(T),he()},Wn=T=>{T.preventDefault(),x?N3(x.id,P):E3({...P,isActive:l.length===0}),ue(),Or()},Or=()=>{R({name:"",webhookUrl:""}),m(!1),b(null)},wn=T=>{R({name:T.name,webhookUrl:T.webhookUrl}),b(T),m(!0)},H=T=>{window.confirm("Are you sure you want to delete this n8n configuration?")&&(O3(T),ue())},ie=T=>{tN(T),ue()},de=async T=>{S(!0);try{const Z=await P3(T);alert(Z?"✅ Connection successful!":"❌ Connection failed. Please check your webhook URL.")}catch{alert("❌ Connection failed. Please check your webhook URL.")}finally{S(!1)}};return o.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border)",flexShrink:0},children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>e("/chat"),className:"text-sm px-3 py-1 rounded border transition-colors hover:bg-gray-100",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{display:"inline-block",marginRight:"6px",verticalAlign:"middle"},children:o.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Chat"]}),o.jsxs("button",{onClick:()=>e("/admin/dashboard"),className:"text-sm px-3 py-1 rounded border transition-colors hover:bg-gray-100",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{display:"inline-block",marginRight:"6px",verticalAlign:"middle"},children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]}),"Dashboard"]}),o.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:"Settings"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border transition-colors hover:bg-gray-100",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:t==="light"?o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"5"}),o.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),o.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),o.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),o.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),o.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),o.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),o.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),o.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),o.jsxs("select",{value:r,onChange:T=>i(T.target.value),className:"text-sm px-3 py-1 rounded border",style:{borderColor:"var(--border)",color:"var(--text)",backgroundColor:"var(--card)"},children:[o.jsx("option",{value:"en",children:"EN"}),o.jsx("option",{value:"ko",children:"KO"})]})]})]}),o.jsxs("div",{className:"max-w-4xl mx-auto p-6",style:{flex:1,overflowY:"auto"},children:[o.jsx("div",{className:"border-b mb-6",style:{borderColor:"var(--border)"},children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>d("ui"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="ui"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:u==="ui"?"var(--primary)":"var(--text-secondary)",borderBottomColor:u==="ui"?"var(--primary)":"transparent"},children:r==="ko"?"UI 커스터마이징":"UI Customization"}),o.jsx("button",{onClick:()=>d("api"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="api"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:u==="api"?"var(--primary)":"var(--text-secondary)",borderBottomColor:u==="api"?"var(--primary)":"transparent"},children:r==="ko"?"API 설정":"API Configurations"}),o.jsx("button",{onClick:()=>d("webhook"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="webhook"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:u==="webhook"?"var(--primary)":"var(--text-secondary)",borderBottomColor:u==="webhook"?"var(--primary)":"transparent"},children:r==="ko"?"웹훅":"Webhooks"}),o.jsx("button",{onClick:()=>d("database"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${u==="database"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:u==="database"?"var(--primary)":"var(--text-secondary)",borderBottomColor:u==="database"?"var(--primary)":"transparent"},children:r==="ko"?"데이터베이스":"Database"})]})}),u==="api"&&o.jsxs(o.Fragment,{children:[p&&o.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:g?"Edit Configuration":"Add New Configuration"}),o.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),o.jsx("input",{type:"text",value:O.name,onChange:T=>C(Z=>({...Z,name:T.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., OpenAI GPT-4",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Base URL"}),o.jsx("input",{type:"url",value:O.baseUrl,onChange:T=>C(Z=>({...Z,baseUrl:T.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://api.openai.com/v1",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"API Key"}),o.jsx("input",{type:"password",value:O.apiKey,onChange:T=>C(Z=>({...Z,apiKey:T.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"sk-...",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Model"}),o.jsx("input",{type:"text",value:O.model,onChange:T=>C(Z=>({...Z,model:T.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"gpt-3.5-turbo"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:["Temperature: ",O.temperature]}),o.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:O.temperature,onChange:T=>C(Z=>({...Z,temperature:parseFloat(T.target.value)})),className:"w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Max Tokens"}),o.jsx("input",{type:"number",value:O.maxTokens,onChange:T=>C(Z=>({...Z,maxTokens:parseInt(T.target.value)})),className:"input w-full px-3 py-2 rounded-md",min:"1",max:"4000"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:Ae,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),o.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[g?"Update":"Add"," Configuration"]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"API Configurations"}),o.jsx("button",{onClick:()=>m(!0),className:"btn-primary px-4 py-2 text-sm",children:"+ Add Configuration"})]}),a.length===0?o.jsx("div",{className:"card p-8 rounded-lg text-center",children:o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No API configurations found. Add your first configuration to get started."})}):o.jsx("div",{className:"space-y-3",children:a.map(T=>o.jsx("div",{className:`card p-4 rounded-lg ${T.isActive?"border-2":"border"}`,style:{borderColor:T.isActive?"var(--primary)":"var(--border)",backgroundColor:T.isActive?"var(--primary-light)":"var(--card)"},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:T.name}),T.isActive&&o.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),o.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:T.baseUrl}),o.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Model: ",T.model," • Temperature: ",T.temperature," • Max Tokens: ",T.maxTokens]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[!T.isActive&&o.jsx("button",{onClick:()=>Ze(T.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),o.jsx("button",{onClick:()=>ye(T),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),o.jsx("button",{onClick:()=>Te(T.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},T.id))})]}),o.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--warning-light)"},children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{flexShrink:0,marginTop:"2px"},children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Development Mode"}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"When backend is unavailable, the system uses intelligent simulation based on your chat input. Configure your API settings above for full functionality when backend is running."})]})]})})]}),u==="webhook"&&o.jsxs(o.Fragment,{children:[p&&o.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:x?"Edit Webhook Configuration":"Add New Webhook Configuration"}),o.jsxs("form",{onSubmit:Wn,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),o.jsx("input",{type:"text",value:P.name,onChange:T=>R(Z=>({...Z,name:T.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Production n8n Webhook",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Webhook URL"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("input",{type:"url",value:P.webhookUrl,onChange:T=>R(Z=>({...Z,webhookUrl:T.target.value})),className:"input flex-1 px-3 py-2 rounded-md",placeholder:"https://n8n.srv978041.hstgr.cloud/webhook/...",required:!0}),o.jsx("button",{type:"button",onClick:()=>de(P.webhookUrl),disabled:w||!P.webhookUrl,className:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:Or,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),o.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[x?"Update":"Add"," Configuration"]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Webhook Configurations"}),o.jsx("button",{onClick:()=>{d("webhook"),m(!0)},className:"btn-primary px-4 py-2 text-sm",children:"+ Add Webhook Configuration"})]}),l.length===0?o.jsx("div",{className:"card p-8 rounded-lg text-center",children:o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No webhook configurations found. Add your first webhook to get started."})}):o.jsx("div",{className:"space-y-3",children:l.map(T=>o.jsx("div",{className:`card p-4 rounded-lg ${T.isActive?"border-2":"border"}`,style:{borderColor:T.isActive?"var(--primary)":"var(--border)",backgroundColor:T.isActive?"var(--primary-light)":"var(--card)"},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:T.name}),T.isActive&&o.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),o.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:T.webhookUrl}),o.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Created: ",new Date(T.createdAt).toLocaleString()]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>de(T.webhookUrl),disabled:w,className:"text-xs px-3 py-1 rounded border disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"}),!T.isActive&&o.jsx("button",{onClick:()=>ie(T.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),o.jsx("button",{onClick:()=>wn(T),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),o.jsx("button",{onClick:()=>H(T.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},T.id))})]}),o.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--primary-light)"},children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{flexShrink:0,marginTop:"2px"},children:[o.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),o.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--primary)"},children:"Webhook Integration"}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Configure webhooks to connect your chat interface with external workflows (e.g., n8n). The system will send chat messages to your webhook and receive AI responses."})]})]})})]}),u==="ui"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"card p-6 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:r==="ko"?"채팅 인터페이스 커스터마이징":"Chat Interface Customization"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"채팅 인터페이스 제목":"Chat Interface Title"}),o.jsx("input",{type:"text",value:_.chatTitle,onChange:T=>k({chatTitle:T.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:r==="ko"?"예: 채팅 인터페이스, AI 어시스턴트 등":"e.g., Chat Interface, AI Assistant, etc."}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:r==="ko"?"이 제목은 빈 채팅 화면 상단에 표시됩니다":"This title appears at the top of the empty chat screen"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"채팅 인터페이스 부제목":"Chat Interface Subtitle"}),o.jsx("input",{type:"text",value:_.chatSubtitle,onChange:T=>k({chatSubtitle:T.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:r==="ko"?"예: 사이드바에서 대화를 선택하거나 새 채팅을 시작하세요":"e.g., Select a conversation from the sidebar or start a new chat"}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:r==="ko"?"이 부제목은 빈 채팅 화면의 제목 아래에 표시됩니다":"This subtitle appears below the title on the empty chat screen"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"챗봇 아바타":"Chatbot Avatar"}),o.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[o.jsx("div",{className:"flex-shrink-0",style:{width:"80px",height:"80px"},children:o.jsx("img",{src:_.avatarUrl,alt:"Avatar Preview",style:{width:"80px",height:"80px",borderRadius:"50%",border:"2px solid var(--border)",objectFit:"cover",objectPosition:"center"},onError:T=>{T.currentTarget.src="/default-profile-avatar.png"}})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--text)"},children:r==="ko"?"기본 아바타 선택":"Select Default Avatar"}),o.jsxs("select",{value:_.avatarUrl.startsWith("/")?_.avatarUrl:"custom",onChange:T=>{T.target.value!=="custom"&&k({avatarUrl:T.target.value})},className:"w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:"custom",children:r==="ko"?"커스텀 (업로드된 이미지)":"Custom (Uploaded)"}),o.jsx("option",{value:"/default-profile-avatar.png",children:r==="ko"?"기본 아바타 1":"Default Avatar 1"}),o.jsx("option",{value:"/chatbot-avatar-2.png",children:r==="ko"?"챗봇 아바타 2":"Chatbot Avatar 2"}),o.jsx("option",{value:"/professor-avatar.png",children:r==="ko"?"교수 아바타":"Professor Avatar"})]})]})]}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsxs("label",{className:"px-4 py-2 rounded-md cursor-pointer transition-all hover:opacity-90",style:{backgroundColor:"#3b82f6",color:"#ffffff",display:"inline-flex",alignItems:"center",gap:"8px",border:"1px solid rgba(59, 130, 246, 0.5)"},children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),r==="ko"?"사진 업로드":"Upload Photo",o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T=>{var ae;const Z=(ae=T.target.files)==null?void 0:ae[0];if(Z){const ge=new FileReader;ge.onloadend=()=>{const ve=ge.result;M(ve),re(ve),ee({x:50,y:50}),$(100),W(!0)},ge.readAsDataURL(Z)}}})]}),_.avatarUrl!=="/default-profile-avatar.png"&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{const T=document.createElement("a");T.href=_.avatarUrl,T.download="chatbot-avatar.png",T.click()},className:"px-4 py-2 rounded-md transition-all hover:opacity-90",style:{backgroundColor:"#10b981",color:"#ffffff",border:"1px solid rgba(16, 185, 129, 0.5)"},children:r==="ko"?"다운로드":"Download"}),o.jsx("button",{onClick:()=>k({avatarUrl:"/default-profile-avatar.png"}),className:"px-4 py-2 rounded-md transition-all hover:opacity-90",style:{backgroundColor:"#ef4444",color:"#ffffff",border:"1px solid rgba(239, 68, 68, 0.5)"},children:r==="ko"?"리셋":"Reset"})]})]}),o.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:r==="ko"?"기본 아바타를 선택하거나 새 이미지를 업로드하세요. 다운로드한 이미지를 apps/professor/public/ 폴더에 저장하면 드롭다운에 추가할 수 있습니다.":"Select a default avatar or upload a new image. Save downloaded images to apps/professor/public/ to add them to the dropdown."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:r==="ko"?"추천 질문":"Suggested Questions"}),o.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:r==="ko"?"빈 채팅 화면에 표시될 추천 질문을 커스터마이징하세요":"Customize the suggested questions that appear on the empty chat screen"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"질문 1":"Question 1"}),o.jsx("input",{type:"text",value:_.suggestedQuestions.question1,onChange:T=>E("question1",T.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:r==="ko"?"인공지능이란 무엇인가요?":"What is artificial intelligence?"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"질문 2":"Question 2"}),o.jsx("input",{type:"text",value:_.suggestedQuestions.question2,onChange:T=>E("question2",T.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:r==="ko"?"머신러닝은 어떻게 작동하나요?":"How does machine learning work?"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"질문 3":"Question 3"}),o.jsx("input",{type:"text",value:_.suggestedQuestions.question3,onChange:T=>E("question3",T.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:r==="ko"?"양자 컴퓨팅을 설명해주세요":"Explain quantum computing"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"질문 4":"Question 4"}),o.jsx("input",{type:"text",value:_.suggestedQuestions.question4,onChange:T=>E("question4",T.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:r==="ko"?"클라우드 컴퓨팅의 장점은 무엇인가요?":"What are the benefits of cloud computing?"})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>{const T=r==="ko"?"모든 UI 커스터마이징을 기본값으로 초기화하시겠습니까?":"Are you sure you want to reset all UI customizations to default values?";window.confirm(T)&&I()},className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--error)",color:"var(--error)"},children:r==="ko"?"기본값으로 초기화":"Reset to Defaults"})})]})]}),o.jsxs("div",{className:"card p-6 rounded-lg",children:[o.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:r==="ko"?"미리보기":"Preview"}),o.jsx("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:_.chatTitle}),o.jsx("p",{className:"text-lg mb-8",style:{color:"var(--text-secondary)"},children:_.chatSubtitle}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[o.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),o.jsx("circle",{cx:"12",cy:"5",r:"2"}),o.jsx("path",{d:"M12 7v4"})]})}),o.jsx("span",{className:"text-sm",children:_.suggestedQuestions.question1})]})}),o.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),o.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),o.jsx("span",{className:"text-sm",children:_.suggestedQuestions.question2})]})}),o.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M8 12h8"}),o.jsx("path",{d:"M12 8v8"})]})}),o.jsx("span",{className:"text-sm",children:_.suggestedQuestions.question3})]})}),o.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),o.jsx("span",{className:"text-sm",children:_.suggestedQuestions.question4})]})})]})]})})]})]}),u==="database"&&o.jsxs("div",{className:"card p-6 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Database Configuration"}),o.jsx("p",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Configure your database connection for prompt management and data storage."}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Database Type"}),o.jsxs("select",{value:f,onChange:T=>h(T.target.value),className:"input w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--card)",color:"var(--text)",borderColor:"var(--border)"},children:[o.jsx("option",{value:"supabase",children:"Supabase"}),o.jsx("option",{value:"other",children:"Other (Coming Soon)"})]})]}),f==="supabase"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase URL"}),o.jsx("input",{type:"text",value:F.url,onChange:T=>V({...F,url:T.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://your-project.supabase.co"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase Anon Key"}),o.jsx("input",{type:"password",value:F.anonKey,onChange:T=>V({...F,anonKey:T.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."})]})]}),f==="supabase"&&G&&o.jsx("div",{className:"p-3 rounded-md",style:{backgroundColor:G.success?"var(--success-light)":"var(--danger-light)",color:G.success?"var(--success)":"var(--danger)"},children:G.message}),f==="supabase"&&o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:async()=>{L(!0),N(null);try{const T=await fF(F);N({success:T,message:T?"Connection successful!":"Connection failed. Please check your credentials."})}catch(T){N({success:!1,message:"Connection test failed: "+(T instanceof Error?T.message:"Unknown error")})}finally{L(!1)}},disabled:J||!F.url||!F.anonKey,className:"btn-ghost px-4 py-2 rounded-md",children:J?"Testing...":"Test Connection"}),o.jsx("button",{type:"button",onClick:()=>{dF(F),N({success:!0,message:"Configuration saved successfully!"})},disabled:!F.url||!F.anonKey,className:"btn-primary px-4 py-2 rounded-md",children:"Save Configuration"})]}),o.jsxs("div",{className:"border-t pt-4 mt-6",style:{borderColor:"var(--border)"},children:[o.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Chat Behavior"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Enable Simulation Mode"}),o.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"When enabled, chat will fall back to simulated responses if the chatbot server is unavailable. When disabled, chat will show an error instead of simulation."})]}),o.jsx("label",{className:"flex items-center",children:o.jsx("input",{type:"checkbox",checked:D,onChange:T=>{j(T.target.checked),h3(T.target.checked)},className:"w-4 h-4 rounded",style:{accentColor:"var(--primary)"}})})]})]}),o.jsxs("div",{className:"border-t pt-4 mt-6",style:{borderColor:"var(--border)"},children:[o.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Advanced"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Reset All Data"}),o.jsx("p",{className:"text-xs mb-3",style:{color:"var(--text-secondary)"},children:"Clear all stored settings, configurations, and cached data. This will reset the app to its default state. You will need to log in again after reset."}),o.jsx("button",{type:"button",onClick:()=>{window.confirm("Are you sure you want to reset all data? This action cannot be undone. You will be logged out.")&&(localStorage.clear(),sessionStorage.clear(),alert("All data has been cleared. The page will now reload."),window.location.href="/")},className:"px-4 py-2 rounded-md text-sm font-medium transition-colors",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)"},children:"Reset All Data"})]})})]}),f==="other"&&o.jsx("div",{className:"p-4 rounded-md",style:{backgroundColor:"var(--warning-light)"},children:o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Additional database types will be available in future updates."})})]})]})]}),z&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>W(!1),children:o.jsxs("div",{onClick:T=>T.stopPropagation(),style:{backgroundColor:"var(--card, #1e1e1e)",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto",border:"1px solid var(--border)"},children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"#ffffff"},children:r==="ko"?"이미지 조정":"Adjust Image"}),o.jsx("div",{style:{width:"200px",height:"200px",margin:"0 auto 24px",borderRadius:"50%",overflow:"hidden",position:"relative",border:"2px solid var(--border)",backgroundColor:"var(--bg-secondary)"},children:o.jsx("div",{style:{width:"100%",height:"100%",backgroundImage:`url(${A})`,backgroundSize:`${Y}%`,backgroundPosition:`${B.x}% ${B.y}%`,backgroundRepeat:"no-repeat"}})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:"#e5e5e5"},children:[r==="ko"?"확대/축소":"Zoom",": ",Y,"%"]}),o.jsx("input",{type:"range",min:"50",max:"200",value:Y,onChange:T=>$(Number(T.target.value)),className:"w-full",style:{accentColor:"var(--primary)"}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#e5e5e5"},children:r==="ko"?"가로 위치":"Horizontal Position"}),o.jsx("input",{type:"range",min:"0",max:"100",value:B.x,onChange:T=>ee({...B,x:Number(T.target.value)}),className:"w-full",style:{accentColor:"var(--primary)"}})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#e5e5e5"},children:r==="ko"?"세로 위치":"Vertical Position"}),o.jsx("input",{type:"range",min:"0",max:"100",value:B.y,onChange:T=>ee({...B,y:Number(T.target.value)}),className:"w-full",style:{accentColor:"var(--primary)"}})]})]}),o.jsxs("div",{className:"space-y-3 mt-6",children:[o.jsx("button",{onClick:()=>{k({avatarUrl:Q}),W(!1)},className:"w-full px-4 py-2 rounded-md font-medium transition-colors hover:opacity-90",style:{backgroundColor:"#3b82f6",color:"#ffffff"},children:r==="ko"?"원본 사용":"Use Original"}),o.jsx("button",{onClick:()=>{const T=document.createElement("canvas"),Z=T.getContext("2d"),ae=new Image;ae.onload=()=>{if(T.width=300,T.height=300,Z){const ve=Y/100;let ce=Math.min(ae.width,ae.height);const xe=ce/ve,Jt=ce/ve,Ar=B.x/100*(ae.width-xe),cr=B.y/100*(ae.height-Jt);Z.drawImage(ae,Ar,cr,xe,Jt,0,0,300,300),k({avatarUrl:T.toDataURL("image/png",.95)})}W(!1)},ae.src=Q},className:"w-full px-4 py-2 rounded-md font-medium transition-colors hover:opacity-90",style:{backgroundColor:"#10b981",color:"#ffffff"},children:r==="ko"?"조정된 이미지 사용":"Use Adjusted"}),o.jsx("button",{onClick:()=>W(!1),className:"w-full px-4 py-2 rounded-md font-medium transition-colors hover:bg-gray-700",style:{backgroundColor:"var(--card)",color:"var(--text)",border:"1px solid var(--border)"},children:r==="ko"?"취소":"Cancel"})]})]})})]})};function RO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=RO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=RO(e))&&(r&&(r+=" "),r+=t);return r}var bh={},MO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(MO);var i0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(i0);var wh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(wh);var kh={},LO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(LO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LO,n=wh;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const f=i[l];u?f==="\\"&&l+1<s?(l++,c+=i[l]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,l++}return c&&a.push(c),a}e.toPath=r})(kh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO,n=i0,r=wh,i=kh;function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?a(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(bh);var xW=bh.get;const ro=$n(xW);var $O={exports:{}},ze={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=Symbol.for("react.transitional.element"),s0=Symbol.for("react.portal"),Sh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),Ch=Symbol.for("react.consumer"),Eh=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Ah=Symbol.for("react.suspense_list"),Ph=Symbol.for("react.memo"),Th=Symbol.for("react.lazy"),bW=Symbol.for("react.view_transition"),wW=Symbol.for("react.client.reference");function or(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case a0:switch(e=e.type,e){case Sh:case _h:case jh:case Oh:case Ah:case bW:return e;default:switch(e=e&&e.$$typeof,e){case Eh:case Nh:case Th:case Ph:return e;case Ch:return e;default:return t}}case s0:return t}}}ze.ContextConsumer=Ch;ze.ContextProvider=Eh;ze.Element=a0;ze.ForwardRef=Nh;ze.Fragment=Sh;ze.Lazy=Th;ze.Memo=Ph;ze.Portal=s0;ze.Profiler=_h;ze.StrictMode=jh;ze.Suspense=Oh;ze.SuspenseList=Ah;ze.isContextConsumer=function(e){return or(e)===Ch};ze.isContextProvider=function(e){return or(e)===Eh};ze.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===a0};ze.isForwardRef=function(e){return or(e)===Nh};ze.isFragment=function(e){return or(e)===Sh};ze.isLazy=function(e){return or(e)===Th};ze.isMemo=function(e){return or(e)===Ph};ze.isPortal=function(e){return or(e)===s0};ze.isProfiler=function(e){return or(e)===_h};ze.isStrictMode=function(e){return or(e)===jh};ze.isSuspense=function(e){return or(e)===Oh};ze.isSuspenseList=function(e){return or(e)===Ah};ze.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sh||e===_h||e===jh||e===Oh||e===Ah||typeof e=="object"&&e!==null&&(e.$$typeof===Th||e.$$typeof===Ph||e.$$typeof===Eh||e.$$typeof===Ch||e.$$typeof===Nh||e.$$typeof===wW||e.getModuleId!==void 0)};ze.typeOf=or;$O.exports=ze;var kW=$O.exports,fn=e=>e===0?0:e>0?1:-1,Rn=e=>typeof e=="number"&&e!=+e,Aa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,fe=e=>(typeof e=="number"||e instanceof Number)&&!Rn(e),Hr=e=>fe(e)||typeof e=="string",SW=0,sc=e=>{var t=++SW;return"".concat(e||"").concat(t)},Cr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&typeof t!="string")return r;var a;if(Aa(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return Rn(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},FO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function xt(e,t,n){return fe(e)&&fe(t)?e+n*(t-e):t}function jW(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ro(r,t))===n)}var ot=e=>e===null||typeof e>"u",Tc=e=>ot(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),_W=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function o0(e){if(typeof e!="string")return!1;var t=_W;return t.includes(e)}var CW=["viewBox","children"],Zk=["points","pathLength"],Em={svg:CW,polygon:Zk,polyline:Zk},l0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{o0(i)&&(r[i]=t||(a=>n[i](n,a)))}),r},EW=(e,t,n)=>r=>(e(t,n,r),null),Eo=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];o0(i)&&typeof a=="function"&&(r||(r={}),r[i]=EW(a,t,n))}),r},NW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function zO(e){if(typeof e!="string")return!1;var t=NW;return t.includes(e)}function rn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return zO(r)});return Object.fromEntries(t)}var eS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",tS=null,Nm=null,UO=e=>{if(e===tS&&Array.isArray(Nm))return Nm;var t=[];return v.Children.forEach(e,n=>{ot(n)||(kW.isFragment(n)?t=t.concat(UO(n.props.children)):t.push(n))}),Nm=t,tS=e,t};function OW(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>eS(i)):r=[eS(t)],UO(e).forEach(i=>{var a=ro(i,"type.displayName")||ro(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var AW=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(Em==null?void 0:Em[r]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),l=typeof e!="function"&&(!!r&&a.includes(t)||zO(t)),c=!!n&&o0(t);return s||l||c},De=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var s;AW((s=r)===null||s===void 0?void 0:s[a],a,t,n)&&(i[a]=r[a])}),i},PW=["children","width","height","viewBox","className","style","title","desc"];function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Av.apply(null,arguments)}function TW(e,t){if(e==null)return{};var n,r,i=IW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var c0=v.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:l,title:c,desc:u}=e,d=TW(e,PW),f=a||{width:r,height:i,x:0,y:0},h=Ce("recharts-surface",s);return v.createElement("svg",Av({},De(d,!0,"svg"),{className:h,width:r,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,c),v.createElement("desc",null,u),n)}),DW=["children","className"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(null,arguments)}function RW(e,t){if(e==null)return{};var n,r,i=MW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Et=v.forwardRef((e,t)=>{var{children:n,className:r}=e,i=RW(e,DW),a=Ce("recharts-layer",r);return v.createElement("g",Pv({className:a},De(i,!0),{ref:t}),n)}),BO=v.createContext(null),LW=()=>v.useContext(BO);function Ve(e){return function(){return e}}const WO=Math.cos,Zd=Math.sin,Er=Math.sqrt,ef=Math.PI,Ih=2*ef,Tv=Math.PI,Iv=2*Tv,ba=1e-6,$W=Iv-ba;function VO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function FW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VO:FW(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=r-t,u=i-n,d=s-t,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ba)if(!(Math.abs(f*c-u*d)>ba)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-l,g=c*c+u*u,y=p*p+m*m,x=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((Tv-Math.acos((g+h-y)/(2*x*b)))/2),S=w/b,_=w/x;Math.abs(S-1)>ba&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=t+_*c},${this._y1=n+_*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ba||Math.abs(this._y1-d)>ba)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Iv+Iv),h>$W?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>ba&&this._append`A${r},${r},0,${+(h>=Tv)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function u0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new zW(t)}function d0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function KO(e){this._context=e}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dh(e){return new KO(e)}function HO(e){return e[0]}function qO(e){return e[1]}function YO(e,t){var n=Ve(!0),r=null,i=Dh,a=null,s=u0(l);e=typeof e=="function"?e:e===void 0?HO:Ve(e),t=typeof t=="function"?t:t===void 0?qO:Ve(t);function l(c){var u,d=(c=d0(c)).length,f,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ve(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ve(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ve(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Ou(e,t,n){var r=null,i=Ve(!0),a=null,s=Dh,l=null,c=u0(u);e=typeof e=="function"?e:e===void 0?HO:Ve(+e),t=typeof t=="function"?t:Ve(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?qO:Ve(+n);function u(f){var h,p,m,g=(f=d0(f)).length,y,x=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(l=s(b=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===x)if(x=!x)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),m=h-1;m>=p;--m)l.point(w[m],S[m]);l.lineEnd(),l.areaEnd()}x&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),l.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return l=null,b+""||null}function d(){return YO().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ve(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ve(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ve(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ve(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ve(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class JO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function UW(e){return new JO(e,!0)}function BW(e){return new JO(e,!1)}const f0={draw(e,t){const n=Er(t/ef);e.moveTo(n,0),e.arc(0,0,n,0,Ih)}},WW={draw(e,t){const n=Er(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GO=Er(1/3),VW=GO*2,KW={draw(e,t){const n=Er(t/VW),r=n*GO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},HW={draw(e,t){const n=Er(t),r=-n/2;e.rect(r,r,n,n)}},qW=.8908130915292852,XO=Zd(ef/10)/Zd(7*ef/10),YW=Zd(Ih/10)*XO,JW=-WO(Ih/10)*XO,GW={draw(e,t){const n=Er(t*qW),r=YW*n,i=JW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Ih*a/5,l=WO(s),c=Zd(s);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},Om=Er(3),XW={draw(e,t){const n=-Er(t/(Om*3));e.moveTo(0,n*2),e.lineTo(-Om*n,-n),e.lineTo(Om*n,-n),e.closePath()}},Vn=-.5,Kn=Er(3)/2,Dv=1/Er(12),QW=(Dv/2+1)*3,ZW={draw(e,t){const n=Er(t/QW),r=n/2,i=n*Dv,a=r,s=n*Dv+n,l=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(Vn*r-Kn*i,Kn*r+Vn*i),e.lineTo(Vn*a-Kn*s,Kn*a+Vn*s),e.lineTo(Vn*l-Kn*c,Kn*l+Vn*c),e.lineTo(Vn*r+Kn*i,Vn*i-Kn*r),e.lineTo(Vn*a+Kn*s,Vn*s-Kn*a),e.lineTo(Vn*l+Kn*c,Vn*c-Kn*l),e.closePath()}};function eV(e,t){let n=null,r=u0(i);e=typeof e=="function"?e:Ve(e||f0),t=typeof t=="function"?t:Ve(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ve(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function tf(){}function nf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function QO(e){this._context=e}QO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tV(e){return new QO(e)}function ZO(e){this._context=e}ZO.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nV(e){return new ZO(e)}function eA(e){this._context=e}eA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rV(e){return new eA(e)}function tA(e){this._context=e}tA.prototype={areaStart:tf,areaEnd:tf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iV(e){return new tA(e)}function nS(e){return e<0?-1:1}function rS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),l=(a*i+s*r)/(r+i);return(nS(a)+nS(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function iS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Am(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,s-l*n,a,s)}function rf(e){this._context=e}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Am(this,this._t0,iS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Am(this,iS(this,n=rS(this,e,t)),n);break;default:Am(this,this._t0,n=rS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function nA(e){this._context=new rA(e)}(nA.prototype=Object.create(rf.prototype)).point=function(e,t){rf.prototype.point.call(this,t,e)};function rA(e){this._context=e}rA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function aV(e){return new rf(e)}function sV(e){return new nA(e)}function iA(e){this._context=e}iA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=aS(e),i=aS(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aS(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function oV(e){return new iA(e)}function Rh(e,t){this._context=e,this._t=t}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function lV(e){return new Rh(e,.5)}function cV(e){return new Rh(e,0)}function uV(e){return new Rh(e,1)}function io(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,l=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Rv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dV(e,t){return e[t]}function fV(e){const t=[];return t.key=e,t}function hV(){var e=Ve([]),t=Rv,n=io,r=dV;function i(a){var s=Array.from(e.apply(this,arguments),fV),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+r(f,s[l].key,u,a)]).data=f;for(l=0,d=d0(t(s));l<c;++l)s[d[l]].index=l;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ve(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Ve(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Rv:typeof a=="function"?a:Ve(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??io,i):n},i}function pV(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}io(e,t)}}function mV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,l=0;s<i;++s)l+=e[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}io(e,t)}}function gV(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<l;++m){var g=e[t[m]],y=g[r][1]||0,x=g[r-1][1]||0;p+=y-x}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,io(e,t)}}var vV=["type","size","sizeType"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mv.apply(null,arguments)}function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(r){yV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yV(e,t,n){return(t=xV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wV(e,t){if(e==null)return{};var n,r,i=kV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aA={symbolCircle:f0,symbolCross:WW,symbolDiamond:KW,symbolSquare:HW,symbolStar:GW,symbolTriangle:XW,symbolWye:ZW},SV=Math.PI/180,jV=e=>{var t="symbol".concat(Tc(e));return aA[t]||f0},_V=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*SV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},CV=(e,t)=>{aA["symbol".concat(Tc(e))]=t},h0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=wV(e,vV),a=oS(oS({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=jV(s),p=eV().type(h).size(_V(n,r,s));return p()},{className:c,cx:u,cy:d}=a,f=De(a,!0);return u===+u&&d===+d&&n===+n?v.createElement("path",Mv({},f,{className:Ce("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};h0.registerSymbol=CV;function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(null,arguments)}function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(n),!0).forEach(function(r){p0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p0(e,t,n){return(t=NV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NV(e){var t=OV(e,"string");return typeof t=="symbol"?t:t+""}function OV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hn=32;class m0 extends v.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Hn/2,a=Hn/6,s=Hn/3,l=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Hn,y2:i,className:"recharts-legend-icon"});if(c==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Hn,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return v.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Hn/8,"h").concat(Hn,"v").concat(Hn*3/4,"h").concat(-Hn,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=EV({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(h0,{fill:l,cx:i,cy:i,size:Hn,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=this.props,l={x:0,y:0,width:Hn,height:Hn},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,p=Ce({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var m=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return v.createElement("li",Lv({className:p,style:c,key:"legend-item-".concat(f)},Eo(this.props,d,f)),v.createElement(c0,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(g," legend icon")},this.renderIcon(d,s)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}p0(m0,"displayName","Legend");p0(m0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var sA={},oA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],l=r(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(oA);var Ic={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ic);var lA={},Mh={},cA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(cA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cA;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Mh);var uA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(uA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mh,n=uA;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(lA);var Lh={},dA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bh;function n(r){return function(i){return t.get(i,r)}}e.property=n})(dA);var fA={},Pm={},Tm={},g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(g0);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(v0);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(y0);var cS;function AV(){return cS||(cS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0(),n=g0,r=v0,i=y0;function a(f,h,p){return typeof p!="function"?t.isMatch(f,h):s(f,h,function m(g,y,x,b,w,S){const _=p(g,y,x,b,w,S);return _!==void 0?!!_:s(g,y,m,S)},new Map)}function s(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,p,m);case"function":return Object.keys(h).length>0?s(f,{...h},p,m):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return u(f,h,p,m);if(h instanceof Map)return c(f,h,p,m);if(h instanceof Set)return d(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let y=0;y<g.length;y++){const x=g[y];if(!r.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!p(f[x],h[x],x,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function c(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,y]of h.entries()){const x=f.get(g);if(p(x,y,g,f,h,m)===!1)return!1}return!0}function u(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let y=0;y<h.length;y++){const x=h[y];let b=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const S=f[w];let _=!1;if(p(S,x,y,f,h,m)&&(_=!0),_){g.add(w),b=!0;break}}if(!b)return!1}return!0}function d(f,h,p,m){return h.size===0?!0:f instanceof Set?u([...f],[...h],p,m):!1}e.isMatchWith=a,e.isSetMatch=d}(Tm)),Tm}var uS;function x0(){return uS||(uS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AV();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(Pm)),Pm}var hA={},b0={},pA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(pA);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(w0);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",_="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",I="[object BigInt64Array]",O="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=I,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=l,e.errorTag=m,e.float32ArrayTag=O,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=E,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(k0);var mA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(mA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pA,n=w0,r=k0,i=v0,a=mA;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(d,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let x=0;x<d.length;x++)y[x]=l(d[x],x,h,p,m);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[x,b]of d)y.set(x,l(b,x,h,p,m));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const x of d)y.add(l(x,void 0,h,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let x=0;x<d.length;x++)y[x]=l(d[x],x,h,p,m);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),c(y,d,h,p,m),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),c(y,d,h,p,m),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),c(y,d,h,p,m),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,h,p,m),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return p.set(d,y),c(y,d,h,p,m),y}if(d instanceof Number){const y=new Number(d.valueOf());return p.set(d,y),c(y,d,h,p,m),y}if(d instanceof String){const y=new String(d.valueOf());return p.set(d,y),c(y,d,h,p,m),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),c(y,d,h,p,m),y}return d}function c(d,f,h=d,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=l(f[x],x,h,p,m))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(b0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(hA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0(),n=hA;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(fA);var gA={},vA={},yA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,n=k0;function r(i,a){return t.cloneDeepWith(i,(s,l,c,u)=>{const d=a==null?void 0:a(s,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(yA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yA;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(vA);var xA={},S0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(S0);var bA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(bA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i0,n=S0,r=bA,i=kh;function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(xA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0(),n=wh,r=vA,i=bh,a=xA;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(gA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ic,n=dA,r=fA,i=gA;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(Lh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oA,n=Ic,r=lA,i=Lh;function a(s,l=n.identity){return r.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(l)):[]}e.uniqBy=a})(sA);var PV=sA.uniqBy;const dS=$n(PV);function wA(e,t,n){return t===!0?dS(e,n):typeof t=="function"?dS(e,t):e}var kA={exports:{}},SA={},jA={exports:{}},_A={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao=v;function TV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IV=typeof Object.is=="function"?Object.is:TV,DV=ao.useState,RV=ao.useEffect,MV=ao.useLayoutEffect,LV=ao.useDebugValue;function $V(e,t){var n=t(),r=DV({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return MV(function(){i.value=n,i.getSnapshot=t,Im(i)&&a({inst:i})},[e,n,t]),RV(function(){return Im(i)&&a({inst:i}),e(function(){Im(i)&&a({inst:i})})},[e]),LV(n),n}function Im(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!IV(e,n)}catch{return!0}}function FV(e,t){return t()}var zV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?FV:$V;_A.useSyncExternalStore=ao.useSyncExternalStore!==void 0?ao.useSyncExternalStore:zV;jA.exports=_A;var UV=jA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h=v,BV=UV;function WV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VV=typeof Object.is=="function"?Object.is:WV,KV=BV.useSyncExternalStore,HV=$h.useRef,qV=$h.useEffect,YV=$h.useMemo,JV=$h.useDebugValue;SA.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=HV(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=YV(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,VV(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var l=KV(e,a[0],a[1]);return qV(function(){s.hasValue=!0,s.value=l},[l]),JV(l),l};kA.exports=SA;var GV=kA.exports,j0=v.createContext(null),XV=e=>e,Ge=()=>{var e=v.useContext(j0);return e?e.store.dispatch:XV},ld=()=>{},QV=()=>ld,ZV=(e,t)=>e===t;function se(e){var t=v.useContext(j0);return GV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QV,t?t.store.getState:ld,t?t.store.getState:ld,t?e:ld,ZV)}function e7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function n7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var fS=e=>Array.isArray(e)?e:[e];function r7(e){const t=Array.isArray(e[0])?e[0]:e;return n7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function i7(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var a7=class{constructor(e){this.value=e}deref(){return this.value}},s7=typeof WeakRef<"u"?WeakRef:a7,o7=0,hS=1;function Au(){return{s:o7,v:void 0,o:null,p:null}}function CA(e,t={}){let n=Au();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let l=n;const{length:c}=arguments;for(let h=0,p=c;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=l.o;g===null&&(l.o=g=new WeakMap);const y=g.get(m);y===void 0?(l=Au(),g.set(m,l)):l=y}else{let g=l.p;g===null&&(l.p=g=new Map);const y=g.get(m);y===void 0?(l=Au(),g.set(m,l)):l=y}}const u=l;let d;if(l.s===hS)d=l.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new s7(d):d}return u.s=hS,u.v=d,d}return s.clearCache=()=>{n=Au(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function l7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),e7(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:p=CA,argsMemoizeOptions:m=[],devModeChecks:g={}}=d,y=fS(h),x=fS(m),b=r7(i),w=f(function(){return a++,u.apply(null,arguments)},...y),S=p(function(){s++;const k=i7(b,arguments);return l=w.apply(null,k),l},...x);return Object.assign(S,{resultFunc:u,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var K=l7(CA),c7=Object.assign((e,t=K)=>{t7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,l,c)=>(s[n[c]]=l,s),{}))},{withTypes:()=>c7}),EA={},NA={},OA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),l=t(i);if(s===l&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};e.compareValues=n})(OA);var AA={},_0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(_0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(AA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA,n=AA,r=kh;function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,m)=>{let g=p;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(p.criteria[g],m.criteria[g],l[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(NA);var PA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(n,0),i}e.flatten=t})(PA);var C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,n=Mh,r=g0,i=y0;function a(s,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}e.isIterateeCall=a})(C0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NA,n=PA,r=C0;function i(a,...s){const l=s.length;return l>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(EA);var u7=EA.sortBy;const Fh=$n(u7);var TA=e=>e.legend.settings,d7=e=>e.legend.size,f7=e=>e.legend.payload,h7=K([f7,TA],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Fh(r,n):r});function p7(){return se(h7)}var Pu=1;function IA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=v.useState({height:0,left:0,top:0,width:0}),r=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Pu||Math.abs(s.left-t.left)>Pu||Math.abs(s.top-t.top)>Pu||Math.abs(s.width-t.width)>Pu)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Tt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var m7=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),pS=m7,Dm=()=>Math.random().toString(36).substring(7).split("").join("."),g7={INIT:`@@redux/INIT${Dm()}`,REPLACE:`@@redux/REPLACE${Dm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dm()}`},af=g7;function E0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function DA(e,t,n){if(typeof e!="function")throw new Error(Tt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tt(1));return n(DA)(e,t)}let r=e,i=t,a=new Map,s=a,l=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(c)throw new Error(Tt(3));return i}function f(y){if(typeof y!="function")throw new Error(Tt(4));if(c)throw new Error(Tt(5));let x=!0;u();const b=l++;return s.set(b,y),function(){if(x){if(c)throw new Error(Tt(6));x=!1,u(),s.delete(b),a=null}}}function h(y){if(!E0(y))throw new Error(Tt(7));if(typeof y.type>"u")throw new Error(Tt(8));if(typeof y.type!="string")throw new Error(Tt(17));if(c)throw new Error(Tt(9));try{c=!0,i=r(i,y)}finally{c=!1}return(a=s).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(Tt(10));r=y,h({type:af.REPLACE})}function m(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Tt(11));function b(){const S=x;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[pS](){return this}}}return h({type:af.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[pS]:m}}function v7(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:af.INIT})>"u")throw new Error(Tt(12));if(typeof n(void 0,{type:af.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tt(13))})}function RA(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{v7(n)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],p=s[f],m=h(p,l);if(typeof m>"u")throw l&&l.type,new Error(Tt(14));u[f]=m,c=c||m!==p}return c=c||r.length!==Object.keys(s).length,c?u:s}}function sf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function y7(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Tt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(s));return a=sf(...l)(i.dispatch),{...i,dispatch:a}}}function MA(e){return E0(e)&&"type"in e&&typeof e.type=="string"}var LA=Symbol.for("immer-nothing"),mS=Symbol.for("immer-draftable"),Mn=Symbol.for("immer-state");function yr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var so=Object.getPrototypeOf;function Ga(e){return!!e&&!!e[Mn]}function mi(e){var t;return e?$A(e)||Array.isArray(e)||!!e[mS]||!!((t=e.constructor)!=null&&t[mS])||Dc(e)||Uh(e):!1}var x7=Object.prototype.constructor.toString();function $A(e){if(!e||typeof e!="object")return!1;const t=so(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===x7}function of(e,t){zh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function zh(e){const t=e[Mn];return t?t.type_:Array.isArray(e)?1:Dc(e)?2:Uh(e)?3:0}function $v(e,t){return zh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FA(e,t,n){const r=zh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function b7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dc(e){return e instanceof Map}function Uh(e){return e instanceof Set}function wa(e){return e.copy_||e.base_}function Fv(e,t){if(Dc(e))return new Map(e);if(Uh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$A(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Mn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],l=r[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(so(e),r)}else{const r=so(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function N0(e,t=!1){return Bh(e)||Ga(e)||!mi(e)||(zh(e)>1&&Object.defineProperties(e,{set:{value:Tu},add:{value:Tu},clear:{value:Tu},delete:{value:Tu}}),Object.freeze(e),t&&Object.values(e).forEach(n=>N0(n,!0))),e}function Tu(){yr(2)}function Bh(e){return Object.isFrozen(e)}var w7={};function Xa(e){const t=w7[e];return t||yr(0,e),t}var oc;function zA(){return oc}function k7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gS(e,t){t&&(Xa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zv(e){Uv(e),e.drafts_.forEach(S7),e.drafts_=null}function Uv(e){e===oc&&(oc=e.parent_)}function vS(e){return oc=k7(oc,e)}function S7(e){const t=e[Mn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Mn].modified_&&(zv(t),yr(4)),mi(e)&&(e=lf(t,e),t.parent_||cf(t,e)),t.patches_&&Xa("Patches").generateReplacementPatches_(n[Mn].base_,e,t.patches_,t.inversePatches_)):e=lf(t,n,[]),zv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LA?e:void 0}function lf(e,t,n){if(Bh(t))return t;const r=t[Mn];if(!r)return of(t,(i,a)=>xS(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return cf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),of(a,(l,c)=>xS(e,r,i,l,c,n,s)),cf(e,i,!1),n&&e.patches_&&Xa("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function xS(e,t,n,r,i,a,s){if(Ga(i)){const l=a&&t&&t.type_!==3&&!$v(t.assigned_,r)?a.concat(r):void 0,c=lf(e,i,l);if(FA(n,r,c),Ga(c))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(mi(i)&&!Bh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;lf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Dc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&cf(e,i)}}function cf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&N0(t,n)}function j7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=O0;n&&(i=[r],a=lc);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return r.draft_=l,r.revoke_=s,l}var O0={get(e,t){if(t===Mn)return e;const n=wa(e);if(!$v(n,t))return _7(e,n,t);const r=n[t];return e.finalized_||!mi(r)?r:r===Rm(e.base_,t)?(Mm(e),e.copy_[t]=Wv(r,e)):r},has(e,t){return t in wa(e)},ownKeys(e){return Reflect.ownKeys(wa(e))},set(e,t,n){const r=UA(wa(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Rm(wa(e),t),a=i==null?void 0:i[Mn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(b7(n,i)&&(n!==void 0||$v(e.base_,t)))return!0;Mm(e),Bv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Rm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Mm(e),Bv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=wa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){yr(11)},getPrototypeOf(e){return so(e.base_)},setPrototypeOf(){yr(12)}},lc={};of(O0,(e,t)=>{lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lc.deleteProperty=function(e,t){return lc.set.call(this,e,t,void 0)};lc.set=function(e,t,n){return O0.set.call(this,e[0],t,n,e[0])};function Rm(e,t){const n=e[Mn];return(n?wa(n):e)[t]}function _7(e,t,n){var i;const r=UA(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function UA(e,t){if(!(t in e))return;let n=so(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=so(n)}}function Bv(e){e.modified_||(e.modified_=!0,e.parent_&&Bv(e.parent_))}function Mm(e){e.copy_||(e.copy_=Fv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var C7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(c=a,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&yr(6),r!==void 0&&typeof r!="function"&&yr(7);let i;if(mi(t)){const a=vS(this),s=Wv(t,void 0);let l=!0;try{i=n(s),l=!1}finally{l?zv(a):Uv(a)}return gS(a,r),yS(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===LA&&(i=void 0),this.autoFreeze_&&N0(i,!0),r){const a=[],s=[];Xa("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else yr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let r,i;return[this.produce(t,n,(s,l)=>{r=s,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mi(e)||yr(8),Ga(e)&&(e=li(e));const t=vS(this),n=Wv(e,void 0);return n[Mn].isManual_=!0,Uv(t),n}finishDraft(e,t){const n=e&&e[Mn];(!n||!n.isManual_)&&yr(9);const{scope_:r}=n;return gS(r,t),yS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Xa("Patches").applyPatches_;return Ga(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Wv(e,t){const n=Dc(e)?Xa("MapSet").proxyMap_(e,t):Uh(e)?Xa("MapSet").proxySet_(e,t):j7(e,t);return(t?t.scope_:zA()).drafts_.push(n),n}function li(e){return Ga(e)||yr(10,e),BA(e)}function BA(e){if(!mi(e)||Bh(e))return e;const t=e[Mn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Fv(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Fv(e,!0);return of(n,(r,i)=>{FA(n,r,BA(i))}),t&&(t.finalized_=!1),n}var E7=new C7,WA=E7.produce;function VA(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var N7=VA(),O7=VA,A7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sf:sf.apply(null,arguments)};function ar(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(In(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>MA(r)&&r.type===e,n}var KA=class gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gl.prototype)}static get[Symbol.species](){return gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gl(...t[0].concat(this)):new gl(...t.concat(this))}};function bS(e){return mi(e)?WA(e,()=>{}):e}function Iu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function P7(e){return typeof e=="boolean"}var T7=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new KA;return n&&(P7(n)?s.push(N7):s.push(O7(n.extraArgument))),s},I7="RTK_autoBatch",wS=e=>t=>{setTimeout(t,e)},D7=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wS(10):e.type==="callback"?e.queueNotification:wS(e.timeout),u=()=>{s=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[I7]),a=!i,a&&(s||(s=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},R7=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new KA(e);return r&&i.push(D7(typeof r=="object"?r:void 0)),i};function M7(e){const t=T7(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(E0(n))c=RA(n);else throw new Error(In(1));let u;typeof r=="function"?u=r(t):u=t();let d=sf;i&&(d=A7({trace:!1,...typeof i=="object"&&i}));const f=y7(...u),h=R7(f);let p=typeof l=="function"?l(h):h();const m=d(...p);return DA(c,s,m)}function HA(e){const t={},n=[];let r;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(In(28));if(l in t)throw new Error(In(29));return t[l]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function L7(e){return typeof e=="function"}function $7(e,t){let[n,r,i]=HA(t),a;if(L7(e))a=()=>bS(e());else{const l=bS(e);a=()=>l}function s(l=a(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Ga(d)){const p=f(d,c);return p===void 0?d:p}else{if(mi(d))return WA(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=a,s}var F7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z7=(e=21)=>{let t="",n=e;for(;n--;)t+=F7[Math.random()*64|0];return t},U7=Symbol.for("rtk-slice-createasyncthunk");function B7(e,t){return`${e}/${t}`}function W7({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[U7];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(In(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(K7()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,_){const k=typeof S=="string"?S:S.type;if(!k)throw new Error(In(12));if(k in u.sliceCaseReducersByType)throw new Error(In(13));return u.sliceCaseReducersByType[k]=_,d},addMatcher(S,_){return u.sliceMatchers.push({matcher:S,reducer:_}),d},exposeAction(S,_){return u.actionCreators[S]=_,d},exposeCaseReducer(S,_){return u.sliceCaseReducersByName[S]=_,d}};c.forEach(S=>{const _=l[S],k={reducerName:S,type:B7(a,S),createNotation:typeof i.reducers=="function"};q7(_)?J7(k,_,d,t):H7(k,_,d)});function f(){const[S={},_=[],k=void 0]=typeof i.extraReducers=="function"?HA(i.extraReducers):[i.extraReducers],E={...S,...u.sliceCaseReducersByType};return $7(i.initialState,I=>{for(let O in E)I.addCase(O,E[O]);for(let O of u.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of _)I.addMatcher(O.matcher,O.reducer);k&&I.addDefaultCase(k)})}const h=S=>S,p=new Map,m=new WeakMap;let g;function y(S,_){return g||(g=f()),g(S,_)}function x(){return g||(g=f()),g.getInitialState()}function b(S,_=!1){function k(I){let O=I[S];return typeof O>"u"&&_&&(O=Iu(m,k,x)),O}function E(I=h){const O=Iu(p,_,()=>new WeakMap);return Iu(O,I,()=>{const C={};for(const[P,R]of Object.entries(i.selectors??{}))C[P]=V7(R,I,()=>Iu(m,I,x),_);return C})}return{reducerPath:S,getSelectors:E,get selectors(){return E(k)},selectSlice:k}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(S,{reducerPath:_,...k}={}){const E=_??s;return S.inject({reducerPath:E,reducer:y},k),{...w,...b(E,!0)}}};return w}}function V7(e,t,n,r){function i(a,...s){let l=t(a);return typeof l>"u"&&r&&(l=n()),e(l,...s)}return i.unwrapped=e,i}var Bn=W7();function K7(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function H7({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!Y7(r))throw new Error(In(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?ar(e,s):ar(e))}function q7(e){return e._reducerDefinitionType==="asyncThunk"}function Y7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function J7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(In(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Du,pending:l||Du,rejected:c||Du,settled:u||Du})}function Du(){}var G7="task",qA="listener",YA="completed",A0="cancelled",X7=`task-${A0}`,Q7=`task-${YA}`,Vv=`${qA}-${A0}`,Z7=`${qA}-${YA}`,Wh=class{constructor(e){ru(this,"name","TaskAbortError");ru(this,"message");this.code=e,this.message=`${G7} ${A0} (reason: ${e})`}},P0=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},uf=()=>{},JA=(e,t=uf)=>(e.catch(t),e),GA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$a=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Fa=e=>{if(e.aborted){const{reason:t}=e;throw new Wh(t)}};function XA(e,t){let n=uf;return new Promise((r,i)=>{const a=()=>i(new Wh(e.reason));if(e.aborted){a();return}n=GA(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=uf})}var eK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wh?"cancelled":"rejected",error:n}}finally{t==null||t()}},df=e=>t=>JA(XA(e,t).then(n=>(Fa(e),n))),QA=e=>{const t=df(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Hs}=Object,kS={},Vh="listenerMiddleware",tK=(e,t)=>{const n=r=>GA(e,()=>$a(r,e.reason));return(r,i)=>{P0(r);const a=new AbortController;n(a);const s=eK(async()=>{Fa(e),Fa(a.signal);const l=await r({pause:df(a.signal),delay:QA(a.signal),signal:a.signal});return Fa(a.signal),l},()=>$a(a,Q7));return i!=null&&i.autoJoin&&t.push(s.catch(uf)),{result:df(e)(s),cancel(){$a(a,X7)}}}},nK=(e,t)=>{const n=async(r,i)=>{Fa(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await XA(t,Promise.race(l));return Fa(t),c}finally{a()}};return(r,i)=>JA(n(r,i))},ZA=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=ar(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(In(21));return P0(a),{predicate:i,type:t,effect:a}},eP=Hs(e=>{const{type:t,predicate:n,effect:r}=ZA(e);return{id:z7(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>eP}),SS=(e,t)=>{const{type:n,effect:r,predicate:i}=ZA(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Kv=e=>{e.pending.forEach(t=>{$a(t,Vv)})},rK=e=>()=>{e.forEach(Kv),e.clear()},jS=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},tP=Hs(ar(`${Vh}/add`),{withTypes:()=>tP}),iK=ar(`${Vh}/removeAll`),nP=Hs(ar(`${Vh}/remove`),{withTypes:()=>nP}),aK=(...e)=>{console.error(`${Vh}/error`,...e)},Rc=(e={})=>{const t=new Map,{extra:n,onError:r=aK}=e;P0(r);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Kv(d)}),a=d=>{const f=SS(t,d)??eP(d);return i(f)};Hs(a,{withTypes:()=>a});const s=d=>{const f=SS(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Kv(f)),!!f};Hs(s,{withTypes:()=>s});const l=async(d,f,h,p)=>{const m=new AbortController,g=nK(a,m.signal),y=[];try{d.pending.add(m),await Promise.resolve(d.effect(f,Hs({},h,{getOriginalState:p,condition:(x,b)=>g(x,b).then(Boolean),take:g,delay:QA(m.signal),pause:df(m.signal),extra:n,signal:m.signal,fork:tK(m.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,b,w)=>{x!==m&&($a(x,Vv),w.delete(x))})},cancel:()=>{$a(m,Vv),d.pending.delete(m)},throwIfCancelled:()=>{Fa(m.signal)}})))}catch(x){x instanceof Wh||jS(r,x,{raisedBy:"effect"})}finally{await Promise.all(y),$a(m,Z7),d.pending.delete(m)}},c=rK(t);return{middleware:d=>f=>h=>{if(!MA(h))return f(h);if(tP.match(h))return a(h.payload);if(iK.match(h)){c();return}if(nP.match(h))return s(h.payload);let p=d.getState();const m=()=>{if(p===kS)throw new Error(In(23));return p};let g;try{if(g=f(h),t.size>0){const y=d.getState(),x=Array.from(t.values());for(const b of x){let w=!1;try{w=b.predicate(h,y,p)}catch(S){w=!1,jS(r,S,{raisedBy:"predicate"})}w&&l(b,h,d,m)}}}finally{p=kS}return g},startListening:a,stopListening:s,clearListeners:c}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rP=Bn({name:"chartLayout",initialState:sK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oK,setLayout:lK,setChartSize:cK,setScale:uK}=rP.actions,dK=rP.reducer;function _S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(n),!0).forEach(function(r){fK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fK(e,t,n){return(t=hK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hK(e){var t=pK(e,"string");return typeof t=="symbol"?t:t+""}function pK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ff=Math.PI/180,hf=e=>e*Math.PI/180,mK=e=>e*180/Math.PI,Le=(e,t,n,r)=>({x:e+Math.cos(-ff*r)*n,y:t+Math.sin(-ff*r)*n}),gK=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},yK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=vK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(n-i)/s,c=Math.acos(l);return r>a&&(c=2*Math.PI-c),{radius:s,angle:mK(c),angleInRadian:c}},xK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},bK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},wK=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=yK({x:n,y:r},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:u}=xK(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?CS(CS({},t),{},{radius:i,angle:bK(d,t)}):null},iP=e=>!v.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function aP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ES(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(n),!0).forEach(function(r){kK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kK(e,t,n){return(t=SK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wt(e,t,n){return ot(e)||ot(t)?n:Hr(t)?ro(e,t,n):typeof t=="function"?t(e):n}var _K=(e,t,n,r,i)=>{var a,s=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,d=n[c].coordinate,f=c>=l-1?n[0].coordinate:n[c+1].coordinate,h=void 0;if(fn(d-u)!==fn(f-d)){var p=[];if(fn(f-d)===fn(i[1]-i[0])){h=f;var m=d+i[1]-i[0];p[0]=Math.min(m,(m+u)/2),p[1]=Math.max(m,(m+u)/2)}else{h=u;var g=f+i[1]-i[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:s}=n[c]);break}}else{var x=Math.min(u,f),b=Math.max(u,f);if(e>(x+d)/2&&e<=(b+d)/2){({index:s}=n[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},CK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&fe(e[a]))return Zn(Zn({},e),{},{[a]:e[a]+(r||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&fe(e[s]))return Zn(Zn({},e),{},{[s]:e[s]+(i||0)})}return e},la=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sP=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,a,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(a=!0),l.coordinate));return i||s.push(t),a||s.push(n),s},oP=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var m=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=(t||n)&&i==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?fn(a[0]-a[1])*2*g:g,t&&(f||h)){var y=(f||h||[]).map((x,b)=>{var w=r?r.indexOf(x):x;return{coordinate:s(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!Rn(x.coordinate))}return c&&u?u.map((x,b)=>({coordinate:s(x)+g,value:x,index:b,offset:g})):s.ticks&&!n&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+g,value:x,offset:g,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+g,value:r?r[x]:x,index:b,offset:g}))},NS=1e-4,EK=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-NS,a=Math.max(r[0],r[1])+NS,s=e(t[0]),l=e(t[n-1]);(s<i||s>a||l<i||l>a)&&e.domain([t[0],t[n-1]])}},NK=(e,t)=>{if(!t||t.length!==2||!fe(t[0])||!fe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!fe(e[0])||e[0]<n)&&(i[0]=n),(!fe(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},OK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,s=0;s<t;++s){var l=Rn(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1])}},AK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var s=Rn(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},PK={sign:OK,expand:pV,none:io,silhouette:mV,wiggle:gV,positive:AK},TK=(e,t,n)=>{var r=PK[n],i=hV().keys(t).value((a,s)=>+wt(a,s,0)).order(Rv).offset(r);return i(e)};function IK(e){return e==null?void 0:String(e)}var OS=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return n[s]?n[s].coordinate+r:null;var l=wt(a,t.dataKey,t.scale.domain()[s]);return ot(l)?null:t.scale(l)-i/2+r},DK=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},RK=e=>{var t=e.flat(2).filter(fe);return[Math.min(...t),Math.max(...t)]},MK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],LK=(e,t,n)=>{if(e!=null)return MK(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:s}=a,l=s.reduce((c,u)=>{var d=aP(u,t,n),f=RK(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},AS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Fh(t,d=>d.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function TS(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Zn(Zn({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Kh(e,t){if(e)return String(e);if(typeof t=="string")return t}function $K(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?wK({x:e,y:t},r):null}var FK=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Zn(Zn(Zn({},r),Le(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=r;return Zn(Zn(Zn({},r),Le(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},zK=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ki=e=>e.layout.width,Si=e=>e.layout.height,UK=e=>e.layout.scale,lP=e=>e.layout.margin,Hh=K(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qh=K(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),BK="data-recharts-item-index",WK="data-recharts-item-data-key",Mc=60;function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(r){VK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VK(e,t,n){return(t=KK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qK=e=>e.brush.height;function YK(e){var t=qh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function JK(e){var t=qh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function GK(e){var t=Hh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function XK(e){var t=Hh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nt=K([ki,Si,lP,qK,YK,JK,GK,XK,TA,d7],(e,t,n,r,i,a,s,l,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+l},h=Ru(Ru({},f),d),p=h.bottom;h.bottom+=r,h=CK(h,c,u);var m=e-h.left-h.right,g=t-h.top-h.bottom;return Ru(Ru({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),QK=K(Nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),T0=K(ki,Si,(e,t)=>({x:0,y:0,width:e,height:t})),ZK=v.createContext(null),xn=()=>v.useContext(ZK)!=null,Yh=e=>e.brush,Jh=K([Yh,Nt,lP],(e,t,n)=>({height:e.height,x:fe(e.x)?e.x:t.left,y:fe(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:fe(e.width)?e.width:t.width})),I0=()=>{var e,t=xn(),n=se(QK),r=se(Jh),i=(e=se(Yh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},eH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cP=()=>{var e;return(e=se(Nt))!==null&&e!==void 0?e:eH},D0=()=>se(ki),R0=()=>se(Si),tH=()=>se(e=>e.layout.margin),Ee=e=>e.layout.layoutType,M0=()=>se(Ee),nH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},uP=Bn({name:"legend",initialState:nH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=li(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:DS,setLegendSettings:rH,addLegendPayload:dP,removeLegendPayload:fP}=uP.actions,iH=uP.reducer,aH=["contextPayload"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(null,arguments)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(r){L0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L0(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t){if(e==null)return{};var n,r,i=cH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uH(e){return e.value}function dH(e){var{contextPayload:t}=e,n=lH(e,aH),r=wA(t,e.payloadUniqBy,uH),i=oo(oo({},n),{},{payload:r});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(m0,i)}function fH(e,t,n,r,i,a){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),oo(oo({},u),d)}function hH(e){var t=Ge();return v.useEffect(()=>{t(rH(e))},[t,e]),null}function pH(e){var t=Ge();return v.useEffect(()=>(t(DS(e)),()=>{t(DS({width:0,height:0}))}),[t,e]),null}function mH(e){var t=p7(),n=LW(),r=tH(),{width:i,height:a,wrapperStyle:s,portal:l}=e,[c,u]=IA([t]),d=D0(),f=R0();if(d==null||f==null)return null;var h=d-(r.left||0)-(r.right||0),p=Gh.getWidthOrHeight(e.layout,a,i,h),m=l?s:oo(oo({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},fH(s,e,r,d,f,c)),s),g=l??n;if(g==null)return null;var y=v.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:u},v.createElement(hH,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(pH,{width:c.width,height:c.height}),v.createElement(dH,Hv({},e,p,{margin:r,chartWidth:d,chartHeight:f,contextPayload:t})));return _x.createPortal(y,g)}class Gh extends v.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&fe(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return v.createElement(mH,this.props)}}L0(Gh,"displayName","Legend");L0(Gh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qv.apply(null,arguments)}function MS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(n),!0).forEach(function(r){gH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gH(e,t,n){return(t=vH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var bH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var _={padding:0,margin:0},k=(l?Fh(a,l):a).map((E,I)=>{if(E.type==="none")return null;var O=E.formatter||s||xH,{value:C,name:P}=E,R=C,F=P;if(O){var V=O(C,P,E,I,a);if(Array.isArray(V))[R,F]=V;else if(V!=null)R=V;else return null}var J=Lm({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},r);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:J},Hr(F)?v.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Hr(F)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},R),v.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:_},k)}return null},m=Lm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Lm({margin:0},i),y=!ot(d),x=y?d:"",b=Ce("recharts-default-tooltip",c),w=Ce("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",qv({className:b,style:m},S),v.createElement("p",{className:w,style:g},v.isValidElement(x)?x:"".concat(x)),p())},tl="recharts-tooltip-wrapper",wH={visibility:"hidden"};function kH(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ce(tl,{["".concat(tl,"-right")]:fe(n)&&t&&fe(t.x)&&n>=t.x,["".concat(tl,"-left")]:fe(n)&&t&&fe(t.x)&&n<t.x,["".concat(tl,"-bottom")]:fe(r)&&t&&fe(t.y)&&r>=t.y,["".concat(tl,"-top")]:fe(r)&&t&&fe(t.y)&&r<t.y})}function LS(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&fe(a[r]))return a[r];var d=n[r]-l-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=c[r];if(h==null)return 0;if(s[r]){var p=d,m=h;return p<m?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var g=f+l,y=h+u;return g>y?Math.max(d,h):Math.max(f,h)}function SH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function jH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&n?(d=LS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=LS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=SH({translateX:d,translateY:f,useTranslate3d:l})):u=wH,{cssProperties:u,cssClasses:kH({translateX:d,translateY:f,coordinate:n})}}function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(r){Yv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yv(e,t,n){return(t=_H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _H(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EH extends v.PureComponent{constructor(){super(...arguments),Yv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Yv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=jH({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=x?{}:Mu(Mu({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Mu(Mu({},S),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},m);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:_,ref:y},a)}}var NH=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ls={devToolsEnabled:!1,isSsr:NH()},hP=()=>se(e=>e.rootProps.accessibilityLayer);function Ln(e){return Number.isFinite(e)}function lo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jv.apply(null,arguments)}function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=AH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=PH(e,"string");return typeof t=="symbol"?t:t+""}function PH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var US={curveBasisClosed:nV,curveBasisOpen:rV,curveBasis:tV,curveBumpX:UW,curveBumpY:BW,curveLinearClosed:iV,curveLinear:Dh,curveMonotoneX:aV,curveMonotoneY:sV,curveNatural:oV,curveStep:lV,curveStepAfter:uV,curveStepBefore:cV},Lu=e=>Ln(e.x)&&Ln(e.y),nl=e=>e.x,rl=e=>e.y,TH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Tc(e));return(n==="curveMonotone"||n==="curveBump")&&t?US["".concat(n).concat(t==="vertical"?"Y":"X")]:US[n]||Dh},IH=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=TH(t,i),l=a?n.filter(Lu):n,c;if(Array.isArray(r)){var u=a?r.filter(f=>Lu(f)):r,d=l.map((f,h)=>zS(zS({},f),{},{base:u[h]}));return i==="vertical"?c=Ou().y(rl).x1(nl).x0(f=>f.base.x):c=Ou().x(nl).y1(rl).y0(f=>f.base.y),c.defined(Lu).curve(s),c(d)}return i==="vertical"&&fe(r)?c=Ou().y(rl).x1(nl).x0(r):fe(r)?c=Ou().x(nl).y1(rl).y0(r):c=YO().x(nl).y(rl),c.defined(Lu).curve(s),c(l)},DH=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?IH(e):r;return v.createElement("path",Jv({},rn(e),l0(e),{className:Ce("recharts-curve",t),d:a===null?void 0:a,ref:i}))},RH=["x","y","top","left","width","height","className"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(null,arguments)}function BS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(n),!0).forEach(function(r){LH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LH(e,t,n){return(t=$H(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $H(e){var t=FH(e,"string");return typeof t=="symbol"?t:t+""}function FH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e,t){if(e==null)return{};var n,r,i=UH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BH=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),WH=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:l}=e,c=zH(e,RH),u=MH({x:t,y:n,top:r,left:i,width:a,height:s},c);return!fe(t)||!fe(n)||!fe(a)||!fe(s)||!fe(r)||!fe(i)?null:v.createElement("path",Gv({},De(u,!0),{className:Ce("recharts-cross",l),d:BH(t,n,a,s,r,i)}))};function VH(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function WS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(n),!0).forEach(function(r){HH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(e,t){var n=KH({},e),r=t,i=Object.keys(t),a=i.reduce((s,l)=>(s[l]===void 0&&r[l]!==void 0&&(s[l]=r[l]),s),n);return a}function JH(){}function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(n),!0).forEach(function(r){GH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GH(e,t,n){return(t=XH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),pP=(e,t,n)=>e.map(r=>"".concat(ZH(r)," ").concat(t,"ms ").concat(n)).join(","),eq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),uc=(e,t)=>Object.keys(t).reduce((n,r)=>KS(KS({},n),{},{[r]:e(r,t[r])}),{});function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(n),!0).forEach(function(r){tq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tq(e,t,n){return(t=nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pf=(e,t,n)=>e+(t-e)*n,Xv=e=>{var{from:t,to:n}=e;return t!==n},mP=(e,t,n)=>{var r=uc((i,a)=>{if(Xv(a)){var[s,l]=e(a.from,a.to,a.velocity);return Dt(Dt({},a),{},{from:s,velocity:l})}return a},t);return n<1?uc((i,a)=>Xv(a)?Dt(Dt({},a),{},{velocity:pf(a.velocity,r[i].velocity,n),from:pf(a.from,r[i].from,n)}):a,t):mP(e,r,n-1)};function iq(e,t,n,r,i,a){var s,l=r.reduce((h,p)=>Dt(Dt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>uc((h,p)=>p.from,l),u=()=>!Object.values(l).filter(Xv).length,d=null,f=h=>{s||(s=h);var p=h-s,m=p/n.dt;l=mP(n,l,m),i(Dt(Dt(Dt({},e),t),c())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function aq(e,t,n,r,i,a,s){var l=null,c=i.reduce((f,h)=>Dt(Dt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/r,p=uc((g,y)=>pf(...y,n(h)),c);if(a(Dt(Dt(Dt({},e),t),p)),h<1)l=s.setTimeout(d);else{var m=uc((g,y)=>pf(...y,n(1)),c);a(Dt(Dt(Dt({},e),t),m))}};return()=>(l=s.setTimeout(d),()=>{l()})}const sq=(e,t,n,r,i,a)=>{var s=eq(e,t);return n.isStepper===!0?iq(e,t,n,s,i,a):aq(e,t,n,r,s,i,a)};var mf=1e-4,gP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],vP=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),qS=(e,t)=>n=>{var r=gP(e,t);return vP(r,n)},oq=(e,t)=>n=>{var r=gP(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return vP(i,n)},YS=function(){for(var t,n,r,i,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,r,n,i]=c[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else s.length===4&&([t,r,n,i]=s);var u=qS(t,n),d=qS(r,i),f=oq(t,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,y=g,x=0;x<8;++x){var b=u(y)-g,w=f(y);if(Math.abs(b-g)<mf||w<mf)return d(y);y=h(y-b/w)}return d(y)};return p.isStepper=!1,p},lq=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,l,c)=>{var u=-(s-l)*n,d=c*r,f=c+(u-d)*i/1e3,h=c*i/1e3+s;return Math.abs(h-l)<mf&&Math.abs(f)<mf?[l,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},cq=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YS(e);case"spring":return lq();default:if(e.split("(")[0]==="cubic-bezier")return YS(e)}return typeof e=="function"?e:null};function uq(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class dq{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function fq(){return uq(new dq)}var hq=v.createContext(fq);function pq(e,t){var n=v.useContext(hq);return v.useMemo(()=>t??n(e),[e,t,n])}var mq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},JS={t:0},$m={t:1};function Xh(e){var t=bn(e,mq),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=pq(t.animationId,t.animationManager),[f,h]=v.useState(n?JS:$m),p=v.useRef(null);return v.useEffect(()=>{n||h($m)},[n]),v.useEffect(()=>{if(!n||!r)return JH;var m=sq(JS,$m,cq(a),i,h,d.getTimeoutController()),g=()=>{p.current=m()};return d.start([c,s,g,i,l]),()=>{d.stop(),p.current&&p.current(),l()}},[n,r,i,a,s,c,l,d]),u(f.t)}function Qh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=v.useRef(sc(t)),r=v.useRef(e);return r.current!==e&&(n.current=sc(t),r.current=e),n.current}function GS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(n),!0).forEach(function(r){gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gq(e,t,n){return(t=vq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vq(e){var t=yq(e,"string");return typeof t=="symbol"?t:t+""}function yq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gf.apply(null,arguments)}var QS=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(t+s*d[1])),u+="L ".concat(e+n,",").concat(t+r-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+n-l*d[2],",").concat(t+r)),u+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+r-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);u="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+l*p,",").concat(t,`
            L `).concat(e+n-l*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*p,`
            L `).concat(e+n,",").concat(t+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e+n-l*p,",").concat(t+r,`
            L `).concat(e+l*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*p," Z")}else u="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},xq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yP=e=>{var t=bn(e,xq),n=v.useRef(null),[r,i]=v.useState(-1);v.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=v.useRef(l),x=v.useRef(c),b=v.useRef(a),w=v.useRef(s),S=v.useMemo(()=>({x:a,y:s,width:l,height:c,radius:u}),[a,s,l,c,u]),_=Qh(S,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var k=Ce("recharts-rectangle",d);if(!g)return v.createElement("path",gf({},De(t,!0),{className:k,d:QS(a,s,l,c,u)}));var E=y.current,I=x.current,O=b.current,C=w.current,P="0px ".concat(r===-1?1:r,"px"),R="".concat(r,"px 0px"),F=pP(["strokeDasharray"],h,typeof f=="string"?f:void 0);return v.createElement(Xh,{animationId:_,key:_,canBegin:r>0,duration:h,easing:f,isActive:g,begin:p},V=>{var J=xt(E,l,V),L=xt(I,c,V),G=xt(O,a,V),N=xt(C,s,V);n.current&&(y.current=J,x.current=L,b.current=G,w.current=N);var D;return m?V>0?D={transition:F,strokeDasharray:R}:D={strokeDasharray:P}:D={strokeDasharray:R},v.createElement("path",gf({},De(t,!0),{className:k,d:QS(G,N,J,L,u),ref:n,style:XS(XS({},D),t.style)}))})};function xP(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Le(t,n,r,i),l=Le(t,n,r,a);return{points:[s,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qv.apply(null,arguments)}var bq=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},$u=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+r,d=Math.asin(l/u)/ff,f=c?i:i+a*d,h=Le(t,n,u,f),p=Le(t,n,r,f),m=c?i-a*d:i,g=Le(t,n,u*Math.cos(d*ff),m);return{center:h,circleTangency:p,lineTangency:g,theta:d}},bP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,l=bq(a,s),c=a+l,u=Le(t,n,i,a),d=Le(t,n,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var h=Le(t,n,r,a),p=Le(t,n,r,c);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},wq=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=fn(u-c),{circleTangency:f,lineTangency:h,theta:p}=$u({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:m,lineTangency:g,theta:y}=$u({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-p-y;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):bP({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:S,theta:_}=$u({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:k,lineTangency:E,theta:I}=$u({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=l?Math.abs(c-u):Math.abs(c-u)-_-I;if(O<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},kq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wP=e=>{var t=bn(e,kq),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=Ce("recharts-sector",f),p=a-i,m=Cr(s,p,0,!0),g;return m>0&&Math.abs(u-d)<360?g=wq({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):g=bP({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),v.createElement("path",Qv({},De(t,!0),{className:h,d:g}))};function Sq(e,t,n){var r,i,a,s;if(e==="horizontal")r=t.x,a=r,i=n.top,s=n.top+n.height;else if(e==="vertical")i=t.y,s=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Le(l,c,u,f),p=Le(l,c,d,f);r=h.x,i=h.y,a=p.x,s=p.y}else return xP(t);return[{x:r,y:i},{x:a,y:s}]}var kP={},SP={},jP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(jP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(SP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0,n=SP;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=s;return c}e.range=r})(kP);var jq=kP.range;const _P=$n(jq);function Xi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _q(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $0(e){let t,n,r;e.length!==2?(t=Xi,n=(l,c)=>Xi(e(l),c),r=(l,c)=>e(l)-c):(t=e===Xi||e===_q?e:Cq,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function Cq(){return 0}function CP(e){return e===null?NaN:+e}function*Eq(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Nq=$0(Xi),Oq=Nq.right;$0(CP).center;const Lc=Oq;class ZS extends Map{constructor(t,n=Tq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ej(this,t))}has(t){return super.has(ej(this,t))}set(t,n){return super.set(Aq(this,t),n)}delete(t){return super.delete(Pq(this,t))}}function ej({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Aq({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Pq({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Tq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Iq(e=Xi){if(e===Xi)return EP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function EP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dq=Math.sqrt(50),Rq=Math.sqrt(10),Mq=Math.sqrt(2);function vf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Dq?10:a>=Rq?5:a>=Mq?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?vf(e,t,n*2):[l,c,u]}function Zv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?vf(t,e,n):vf(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function ey(e,t,n){return t=+t,e=+e,n=+n,vf(e,t,n)[2]}function ty(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ey(t,e,n):ey(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function tj(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function nj(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function NP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?EP:Iq(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*f/c+h)),m=Math.min(r,Math.floor(t+(c-u)*f/c+h));NP(e,t,p,m,i)}const a=e[t];let s=n,l=r;for(il(e,n,t),i(e[r],a)>0&&il(e,n,r);s<l;){for(il(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?il(e,n,l):(++l,il(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function il(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Lq(e,t,n){if(e=Float64Array.from(Eq(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return nj(e);if(t>=1)return tj(e);var r,i=(r-1)*t,a=Math.floor(i),s=tj(NP(e,a).subarray(0,a+1)),l=nj(e.subarray(a+1));return s+(l-s)*(i-a)}}function $q(e,t,n=CP){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function Fq(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ny=Symbol("implicit");function F0(){var e=new ZS,t=[],n=[],r=ny;function i(a){let s=e.get(a);if(s===void 0){if(r!==ny)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new ZS;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return F0(t,n).unknown(r)},lr.apply(i,arguments),i}function z0(){var e=F0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*d,s=a*(1-c),l&&(m=Math.round(m),s=Math.round(s));var y=Fq(h).map(function(x){return m+a*x});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return z0(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},lr.apply(f(),arguments)}function OP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return OP(t())},e}function zq(){return OP(z0.apply(null,arguments).paddingInner(1))}function U0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function AP(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $c(){}var dc=.7,yf=1/dc,qs="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uq=/^#([0-9a-f]{3,8})$/,Bq=new RegExp(`^rgb\\(${qs},${qs},${qs}\\)$`),Wq=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),Vq=new RegExp(`^rgba\\(${qs},${qs},${qs},${fc}\\)$`),Kq=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${fc}\\)$`),Hq=new RegExp(`^hsl\\(${fc},${Kr},${Kr}\\)$`),qq=new RegExp(`^hsla\\(${fc},${Kr},${Kr},${fc}\\)$`),rj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U0($c,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ij,formatHex:ij,formatHex8:Yq,formatHsl:Jq,formatRgb:aj,toString:aj});function ij(){return this.rgb().formatHex()}function Yq(){return this.rgb().formatHex8()}function Jq(){return PP(this).formatHsl()}function aj(){return this.rgb().formatRgb()}function hc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Uq.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sj(t):n===3?new hn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Bq.exec(e))?new hn(t[1],t[2],t[3],1):(t=Wq.exec(e))?new hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vq.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=Kq.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hq.exec(e))?cj(t[1],t[2]/100,t[3]/100,1):(t=qq.exec(e))?cj(t[1],t[2]/100,t[3]/100,t[4]):rj.hasOwnProperty(e)?sj(rj[e]):e==="transparent"?new hn(NaN,NaN,NaN,0):null}function sj(e){return new hn(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,n,r){return r<=0&&(e=t=n=NaN),new hn(e,t,n,r)}function Gq(e){return e instanceof $c||(e=hc(e)),e?(e=e.rgb(),new hn(e.r,e.g,e.b,e.opacity)):new hn}function ry(e,t,n,r){return arguments.length===1?Gq(e):new hn(e,t,n,r??1)}function hn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}U0(hn,ry,AP($c,{brighter(e){return e=e==null?yf:Math.pow(yf,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new hn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new hn(za(this.r),za(this.g),za(this.b),xf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oj,formatHex:oj,formatHex8:Xq,formatRgb:lj,toString:lj}));function oj(){return`#${Pa(this.r)}${Pa(this.g)}${Pa(this.b)}`}function Xq(){return`#${Pa(this.r)}${Pa(this.g)}${Pa(this.b)}${Pa((isNaN(this.opacity)?1:this.opacity)*255)}`}function lj(){const e=xf(this.opacity);return`${e===1?"rgb(":"rgba("}${za(this.r)}, ${za(this.g)}, ${za(this.b)}${e===1?")":`, ${e})`}`}function xf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function za(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pa(e){return e=za(e),(e<16?"0":"")+e.toString(16)}function cj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xr(e,t,n,r)}function PP(e){if(e instanceof xr)return new xr(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=hc(e)),!e)return new xr;if(e instanceof xr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new xr(s,l,c,e.opacity)}function Qq(e,t,n,r){return arguments.length===1?PP(e):new xr(e,t,n,r??1)}function xr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}U0(xr,Qq,AP($c,{brighter(e){return e=e==null?yf:Math.pow(yf,e),new xr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new xr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new hn(Fm(e>=240?e-240:e+120,i,r),Fm(e,i,r),Fm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new xr(uj(this.h),zu(this.s),zu(this.l),xf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xf(this.opacity);return`${e===1?"hsl(":"hsla("}${uj(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uj(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function Fm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const B0=e=>()=>e;function Zq(e,t){return function(n){return e+n*t}}function eY(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tY(e){return(e=+e)==1?TP:function(t,n){return n-t?eY(t,n,e):B0(isNaN(t)?n:t)}}function TP(e,t){var n=t-e;return n?Zq(e,n):B0(isNaN(e)?t:e)}const dj=function e(t){var n=tY(t);function r(i,a){var s=n((i=ry(i)).r,(a=ry(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=TP(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function nY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function rY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iY(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=No(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function aY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function bf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sY(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=No(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var iy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zm=new RegExp(iy.source,"g");function oY(e){return function(){return e}}function lY(e){return function(t){return e(t)+""}}function cY(e,t){var n=iy.lastIndex=zm.lastIndex=0,r,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(r=iy.exec(e))&&(i=zm.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:bf(r,i)})),n=zm.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?lY(c[0].x):oY(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function No(e,t){var n=typeof t,r;return t==null||n==="boolean"?B0(t):(n==="number"?bf:n==="string"?(r=hc(t))?(t=r,dj):cY:t instanceof hc?dj:t instanceof Date?aY:rY(t)?nY:Array.isArray(t)?iY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sY:bf)(e,t)}function W0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function uY(e,t){t===void 0&&(t=e,e=No);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[l](s-l)}}function dY(e){return function(){return e}}function wf(e){return+e}var fj=[0,1];function Zt(e){return e}function ay(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dY(isNaN(t)?NaN:.5)}function fY(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function hY(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=ay(i,r),a=n(s,a)):(r=ay(r,i),a=n(a,s)),function(l){return a(r(l))}}function pY(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=ay(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var c=Lc(e,l,1,r)-1;return a[c](i[c](l))}}function Fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zh(){var e=fj,t=fj,n=No,r,i,a,s=Zt,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Zt&&(s=fY(e[0],e[h-1])),l=h>2?pY:hY,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(r),bf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,wf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=W0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Zt,d()):s!==Zt},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function V0(){return Zh()(Zt,Zt)}function mY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function kf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function co(e){return e=kf(Math.abs(e)),e?e[1]:NaN}function gY(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function vY(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var yY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=yY.exec(e)))throw new Error("invalid format: "+e);var t;return new K0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=K0.prototype;function K0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}K0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xY(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var IP;function bY(e,t){var n=kf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(IP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+kf(e,Math.max(0,t+a-1))[0]}function hj(e,t){var n=kf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hj(e*100,t),r:hj,s:bY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mj(e){return e}var gj=Array.prototype.map,vj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wY(e){var t=e.grouping===void 0||e.thousands===void 0?mj:gY(gj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?mj:vY(gj.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,S=f.trim,_=f.type;_==="n"?(b=!0,_="g"):pj[_]||(w===void 0&&(w=12),S=!0,_="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=g==="$"?r:/[%p]/.test(_)?s:"",I=pj[_],O=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(P){var R=k,F=E,V,J,L;if(_==="c")F=I(P)+F,P="";else{P=+P;var G=P<0||1/P<0;if(P=isNaN(P)?c:I(Math.abs(P),w),S&&(P=xY(P)),G&&+P==0&&m!=="+"&&(G=!1),R=(G?m==="("?m:l:m==="-"||m==="("?"":m)+R,F=(_==="s"?vj[8+IP/3]:"")+F+(G&&m==="("?")":""),O){for(V=-1,J=P.length;++V<J;)if(L=P.charCodeAt(V),48>L||L>57){F=(L===46?i+P.slice(V+1):P.slice(V))+F,P=P.slice(0,V);break}}}b&&!y&&(P=t(P,1/0));var N=R.length+P.length+F.length,D=N<x?new Array(x-N+1).join(h):"";switch(b&&y&&(P=t(D+P,D.length?x-F.length:1/0),D=""),p){case"<":P=R+P+F+D;break;case"=":P=R+D+P+F;break;case"^":P=D.slice(0,N=D.length>>1)+R+P+F+D.slice(N);break;default:P=D+R+P+F;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var p=u((f=pc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(co(h)/3)))*3,g=Math.pow(10,-m),y=vj[8+m/3];return function(x){return p(g*x)+y}}return{format:u,formatPrefix:d}}var Uu,H0,DP;kY({thousands:",",grouping:[3],currency:["$",""]});function kY(e){return Uu=wY(e),H0=Uu.format,DP=Uu.formatPrefix,Uu}function SY(e){return Math.max(0,-co(Math.abs(e)))}function jY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(co(t)/3)))*3-co(Math.abs(e)))}function _Y(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,co(t)-co(e))+1}function RP(e,t,n,r){var i=ty(e,t,n),a;switch(r=pc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=jY(i,s))&&(r.precision=a),DP(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_Y(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=SY(i))&&(r.precision=a-(r.type==="%")*2);break}}return H0(r)}function ca(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return RP(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=ey(s,l,n),u===c)return r[i]=s,r[a]=l,t(r);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function MP(){var e=V0();return e.copy=function(){return Fc(e,MP())},lr.apply(e,arguments),ca(e)}function LP(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,wf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return LP(e).unknown(t)},e=arguments.length?Array.from(e,wf):[0,1],ca(n)}function $P(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function yj(e){return Math.log(e)}function xj(e){return Math.exp(e)}function CY(e){return-Math.log(-e)}function EY(e){return-Math.exp(-e)}function NY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OY(e){return e===10?NY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function AY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bj(e){return(t,n)=>-e(-t,n)}function q0(e){const t=e(yj,xj),n=t.domain;let r=10,i,a;function s(){return i=AY(r),a=OY(r),n()[0]<0?(i=bj(i),a=bj(a),e(CY,EY)):e(yj,xj),t}return t.base=function(l){return arguments.length?(r=+l,s()):r},t.domain=function(l){return arguments.length?(n(l),s()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const y=l==null?10:+l;let x=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=Zv(u,d,y))}else x=Zv(h,p,Math.min(p-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=pc(c)).precision==null&&(c.trim=!0),c=H0(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n($P(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function FP(){const e=q0(Zh()).domain([1,10]);return e.copy=()=>Fc(e,FP()).base(e.base()),lr.apply(e,arguments),e}function wj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Y0(e){var t=1,n=e(wj(t),kj(t));return n.constant=function(r){return arguments.length?e(wj(t=+r),kj(t)):t},ca(n)}function zP(){var e=Y0(Zh());return e.copy=function(){return Fc(e,zP()).constant(e.constant())},lr.apply(e,arguments)}function Sj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function TY(e){return e<0?-e*e:e*e}function J0(e){var t=e(Zt,Zt),n=1;function r(){return n===1?e(Zt,Zt):n===.5?e(PY,TY):e(Sj(n),Sj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ca(t)}function G0(){var e=J0(Zh());return e.copy=function(){return Fc(e,G0()).exponent(e.exponent())},lr.apply(e,arguments),e}function IY(){return G0.apply(null,arguments).exponent(.5)}function jj(e){return Math.sign(e)*e*e}function DY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UP(){var e=V0(),t=[0,1],n=!1,r;function i(a){var s=DY(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(jj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,wf)).map(jj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UP(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},lr.apply(i,arguments),ca(i)}function BP(){var e=[],t=[],n=[],r;function i(){var s=0,l=Math.max(1,t.length);for(n=new Array(l-1);++s<l;)n[s-1]=$q(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?r:t[Lc(n,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Xi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return BP().domain(e).range(t).unknown(r)},lr.apply(a,arguments)}function WP(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Lc(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return WP().domain([e,t]).range(i).unknown(a)},lr.apply(ca(s),arguments)}function VP(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Lc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return VP().domain(e).range(t).unknown(n)},lr.apply(i,arguments)}const Um=new Date,Bm=new Date;function kt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>kt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Um.setTime(+a),Bm.setTime(+s),e(Um),e(Bm),Math.floor(n(Um,Bm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Sf=kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Sf);Sf.range;const ii=1e3,tr=ii*60,ai=tr*60,gi=ai*24,X0=gi*7,_j=gi*30,Wm=gi*365,Ta=kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());Ta.range;const Q0=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*tr)},(e,t)=>(t-e)/tr,e=>e.getMinutes());Q0.range;const Z0=kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*tr)},(e,t)=>(t-e)/tr,e=>e.getUTCMinutes());Z0.range;const eb=kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*tr)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());eb.range;const tb=kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());tb.range;const zc=kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*tr)/gi,e=>e.getDate()-1);zc.range;const ep=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gi,e=>e.getUTCDate()-1);ep.range;const KP=kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gi,e=>Math.floor(e/gi));KP.range;function cs(e){return kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*tr)/X0)}const tp=cs(0),jf=cs(1),RY=cs(2),MY=cs(3),uo=cs(4),LY=cs(5),$Y=cs(6);tp.range;jf.range;RY.range;MY.range;uo.range;LY.range;$Y.range;function us(e){return kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/X0)}const np=us(0),_f=us(1),FY=us(2),zY=us(3),fo=us(4),UY=us(5),BY=us(6);np.range;_f.range;FY.range;zY.range;fo.range;UY.range;BY.range;const nb=kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nb.range;const rb=kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rb.range;const vi=kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});vi.range;const yi=kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});yi.range;function HP(e,t,n,r,i,a){const s=[[Ta,1,ii],[Ta,5,5*ii],[Ta,15,15*ii],[Ta,30,30*ii],[a,1,tr],[a,5,5*tr],[a,15,15*tr],[a,30,30*tr],[i,1,ai],[i,3,3*ai],[i,6,6*ai],[i,12,12*ai],[r,1,gi],[r,2,2*gi],[n,1,X0],[t,1,_j],[t,3,3*_j],[e,1,Wm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=$0(([,,y])=>y).right(s,h);if(p===s.length)return e.every(ty(u/Wm,d/Wm,f));if(p===0)return Sf.every(Math.max(ty(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[l,c]}const[WY,VY]=HP(yi,rb,np,KP,tb,Z0),[KY,HY]=HP(vi,nb,tp,zc,eb,Q0);function Vm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Km(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function al(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function qY(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=sl(i),d=ol(i),f=sl(a),h=ol(a),p=sl(s),m=ol(s),g=sl(l),y=ol(l),x=sl(c),b=ol(c),w={a:G,A:N,b:D,B:j,c:null,d:Pj,e:Pj,f:gJ,g:CJ,G:NJ,H:hJ,I:pJ,j:mJ,L:qP,m:vJ,M:yJ,p:z,q:W,Q:Dj,s:Rj,S:xJ,u:bJ,U:wJ,V:kJ,w:SJ,W:jJ,x:null,X:null,y:_J,Y:EJ,Z:OJ,"%":Ij},S={a:A,A:re,b:B,B:ee,c:null,d:Tj,e:Tj,f:IJ,g:WJ,G:KJ,H:AJ,I:PJ,j:TJ,L:JP,m:DJ,M:RJ,p:Y,q:$,Q:Dj,s:Rj,S:MJ,u:LJ,U:$J,V:FJ,w:zJ,W:UJ,x:null,X:null,y:BJ,Y:VJ,Z:HJ,"%":Ij},_={a:C,A:P,b:R,B:F,c:V,d:Oj,e:Oj,f:cJ,g:Nj,G:Ej,H:Aj,I:Aj,j:aJ,L:lJ,m:iJ,M:sJ,p:O,q:rJ,Q:dJ,s:fJ,S:oJ,u:QY,U:ZY,V:eJ,w:XY,W:tJ,x:J,X:L,y:Nj,Y:Ej,Z:nJ,"%":uJ};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(Q,M){return function(X){var U=[],he=-1,ue=0,Se=Q.length,Ae,ye,Te;for(X instanceof Date||(X=new Date(+X));++he<Se;)Q.charCodeAt(he)===37&&(U.push(Q.slice(ue,he)),(ye=Cj[Ae=Q.charAt(++he)])!=null?Ae=Q.charAt(++he):ye=Ae==="e"?" ":"0",(Te=M[Ae])&&(Ae=Te(X,ye)),U.push(Ae),ue=he+1);return U.push(Q.slice(ue,he)),U.join("")}}function E(Q,M){return function(X){var U=al(1900,void 0,1),he=I(U,Q,X+="",0),ue,Se;if(he!=X.length)return null;if("Q"in U)return new Date(U.Q);if("s"in U)return new Date(U.s*1e3+("L"in U?U.L:0));if(M&&!("Z"in U)&&(U.Z=0),"p"in U&&(U.H=U.H%12+U.p*12),U.m===void 0&&(U.m="q"in U?U.q:0),"V"in U){if(U.V<1||U.V>53)return null;"w"in U||(U.w=1),"Z"in U?(ue=Km(al(U.y,0,1)),Se=ue.getUTCDay(),ue=Se>4||Se===0?_f.ceil(ue):_f(ue),ue=ep.offset(ue,(U.V-1)*7),U.y=ue.getUTCFullYear(),U.m=ue.getUTCMonth(),U.d=ue.getUTCDate()+(U.w+6)%7):(ue=Vm(al(U.y,0,1)),Se=ue.getDay(),ue=Se>4||Se===0?jf.ceil(ue):jf(ue),ue=zc.offset(ue,(U.V-1)*7),U.y=ue.getFullYear(),U.m=ue.getMonth(),U.d=ue.getDate()+(U.w+6)%7)}else("W"in U||"U"in U)&&("w"in U||(U.w="u"in U?U.u%7:"W"in U?1:0),Se="Z"in U?Km(al(U.y,0,1)).getUTCDay():Vm(al(U.y,0,1)).getDay(),U.m=0,U.d="W"in U?(U.w+6)%7+U.W*7-(Se+5)%7:U.w+U.U*7-(Se+6)%7);return"Z"in U?(U.H+=U.Z/100|0,U.M+=U.Z%100,Km(U)):Vm(U)}}function I(Q,M,X,U){for(var he=0,ue=M.length,Se=X.length,Ae,ye;he<ue;){if(U>=Se)return-1;if(Ae=M.charCodeAt(he++),Ae===37){if(Ae=M.charAt(he++),ye=_[Ae in Cj?M.charAt(he++):Ae],!ye||(U=ye(Q,X,U))<0)return-1}else if(Ae!=X.charCodeAt(U++))return-1}return U}function O(Q,M,X){var U=u.exec(M.slice(X));return U?(Q.p=d.get(U[0].toLowerCase()),X+U[0].length):-1}function C(Q,M,X){var U=p.exec(M.slice(X));return U?(Q.w=m.get(U[0].toLowerCase()),X+U[0].length):-1}function P(Q,M,X){var U=f.exec(M.slice(X));return U?(Q.w=h.get(U[0].toLowerCase()),X+U[0].length):-1}function R(Q,M,X){var U=x.exec(M.slice(X));return U?(Q.m=b.get(U[0].toLowerCase()),X+U[0].length):-1}function F(Q,M,X){var U=g.exec(M.slice(X));return U?(Q.m=y.get(U[0].toLowerCase()),X+U[0].length):-1}function V(Q,M,X){return I(Q,t,M,X)}function J(Q,M,X){return I(Q,n,M,X)}function L(Q,M,X){return I(Q,r,M,X)}function G(Q){return s[Q.getDay()]}function N(Q){return a[Q.getDay()]}function D(Q){return c[Q.getMonth()]}function j(Q){return l[Q.getMonth()]}function z(Q){return i[+(Q.getHours()>=12)]}function W(Q){return 1+~~(Q.getMonth()/3)}function A(Q){return s[Q.getUTCDay()]}function re(Q){return a[Q.getUTCDay()]}function B(Q){return c[Q.getUTCMonth()]}function ee(Q){return l[Q.getUTCMonth()]}function Y(Q){return i[+(Q.getUTCHours()>=12)]}function $(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var M=k(Q+="",w);return M.toString=function(){return Q},M},parse:function(Q){var M=E(Q+="",!1);return M.toString=function(){return Q},M},utcFormat:function(Q){var M=k(Q+="",S);return M.toString=function(){return Q},M},utcParse:function(Q){var M=E(Q+="",!0);return M.toString=function(){return Q},M}}}var Cj={"-":"",_:" ",0:"0"},Ot=/^\s*\d+/,YY=/^%/,JY=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function GY(e){return e.replace(JY,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(GY).join("|")+")","i")}function ol(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function XY(e,t,n){var r=Ot.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function QY(e,t,n){var r=Ot.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ZY(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eJ(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tJ(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ej(e,t,n){var r=Ot.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Nj(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nJ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rJ(e,t,n){var r=Ot.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iJ(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Oj(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aJ(e,t,n){var r=Ot.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Aj(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sJ(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function oJ(e,t,n){var r=Ot.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lJ(e,t,n){var r=Ot.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cJ(e,t,n){var r=Ot.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uJ(e,t,n){var r=YY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dJ(e,t,n){var r=Ot.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fJ(e,t,n){var r=Ot.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Pj(e,t){return Pe(e.getDate(),t,2)}function hJ(e,t){return Pe(e.getHours(),t,2)}function pJ(e,t){return Pe(e.getHours()%12||12,t,2)}function mJ(e,t){return Pe(1+zc.count(vi(e),e),t,3)}function qP(e,t){return Pe(e.getMilliseconds(),t,3)}function gJ(e,t){return qP(e,t)+"000"}function vJ(e,t){return Pe(e.getMonth()+1,t,2)}function yJ(e,t){return Pe(e.getMinutes(),t,2)}function xJ(e,t){return Pe(e.getSeconds(),t,2)}function bJ(e){var t=e.getDay();return t===0?7:t}function wJ(e,t){return Pe(tp.count(vi(e)-1,e),t,2)}function YP(e){var t=e.getDay();return t>=4||t===0?uo(e):uo.ceil(e)}function kJ(e,t){return e=YP(e),Pe(uo.count(vi(e),e)+(vi(e).getDay()===4),t,2)}function SJ(e){return e.getDay()}function jJ(e,t){return Pe(jf.count(vi(e)-1,e),t,2)}function _J(e,t){return Pe(e.getFullYear()%100,t,2)}function CJ(e,t){return e=YP(e),Pe(e.getFullYear()%100,t,2)}function EJ(e,t){return Pe(e.getFullYear()%1e4,t,4)}function NJ(e,t){var n=e.getDay();return e=n>=4||n===0?uo(e):uo.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function OJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function Tj(e,t){return Pe(e.getUTCDate(),t,2)}function AJ(e,t){return Pe(e.getUTCHours(),t,2)}function PJ(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function TJ(e,t){return Pe(1+ep.count(yi(e),e),t,3)}function JP(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function IJ(e,t){return JP(e,t)+"000"}function DJ(e,t){return Pe(e.getUTCMonth()+1,t,2)}function RJ(e,t){return Pe(e.getUTCMinutes(),t,2)}function MJ(e,t){return Pe(e.getUTCSeconds(),t,2)}function LJ(e){var t=e.getUTCDay();return t===0?7:t}function $J(e,t){return Pe(np.count(yi(e)-1,e),t,2)}function GP(e){var t=e.getUTCDay();return t>=4||t===0?fo(e):fo.ceil(e)}function FJ(e,t){return e=GP(e),Pe(fo.count(yi(e),e)+(yi(e).getUTCDay()===4),t,2)}function zJ(e){return e.getUTCDay()}function UJ(e,t){return Pe(_f.count(yi(e)-1,e),t,2)}function BJ(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function WJ(e,t){return e=GP(e),Pe(e.getUTCFullYear()%100,t,2)}function VJ(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function KJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fo(e):fo.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function HJ(){return"+0000"}function Ij(){return"%"}function Dj(e){return+e}function Rj(e){return Math.floor(+e/1e3)}var bs,XP,QP;qJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qJ(e){return bs=qY(e),XP=bs.format,bs.parse,QP=bs.utcFormat,bs.utcParse,bs}function YJ(e){return new Date(e)}function JJ(e){return e instanceof Date?+e:+new Date(+e)}function ib(e,t,n,r,i,a,s,l,c,u){var d=V0(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function _(k){return(c(k)<k?p:l(k)<k?m:s(k)<k?g:a(k)<k?y:r(k)<k?i(k)<k?x:b:n(k)<k?w:S)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,JJ)):h().map(YJ)},d.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},d.tickFormat=function(k,E){return E==null?_:u(E)},d.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h($P(E,k)):d},d.copy=function(){return Fc(d,ib(e,t,n,r,i,a,s,l,c,u))},d}function GJ(){return lr.apply(ib(KY,HY,vi,nb,tp,zc,eb,Q0,Ta,XP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XJ(){return lr.apply(ib(WY,VY,yi,rb,np,ep,tb,Z0,Ta,QP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rp(){var e=0,t=1,n,r,i,a,s=Zt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(No),u.rangeRound=d(W0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function ua(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZP(){var e=ca(rp()(Zt));return e.copy=function(){return ua(e,ZP())},ji.apply(e,arguments)}function eT(){var e=q0(rp()).domain([1,10]);return e.copy=function(){return ua(e,eT()).base(e.base())},ji.apply(e,arguments)}function tT(){var e=Y0(rp());return e.copy=function(){return ua(e,tT()).constant(e.constant())},ji.apply(e,arguments)}function ab(){var e=J0(rp());return e.copy=function(){return ua(e,ab()).exponent(e.exponent())},ji.apply(e,arguments)}function QJ(){return ab.apply(null,arguments).exponent(.5)}function nT(){var e=[],t=Zt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Lc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Xi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Lq(e,a/r))},n.copy=function(){return nT(t).domain(e)},ji.apply(n,arguments)}function ip(){var e=0,t=.5,n=1,r=1,i,a,s,l,c,u=Zt,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),s=d(n=+n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=uY(g,[x,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(No),p.rangeRound=m(W0),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),a=g(t),s=g(n),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function rT(){var e=ca(ip()(Zt));return e.copy=function(){return ua(e,rT())},ji.apply(e,arguments)}function iT(){var e=q0(ip()).domain([.1,1,10]);return e.copy=function(){return ua(e,iT()).base(e.base())},ji.apply(e,arguments)}function aT(){var e=Y0(ip());return e.copy=function(){return ua(e,aT()).constant(e.constant())},ji.apply(e,arguments)}function sb(){var e=J0(ip());return e.copy=function(){return ua(e,sb()).exponent(e.exponent())},ji.apply(e,arguments)}function ZJ(){return sb.apply(null,arguments).exponent(.5)}const vl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:z0,scaleDiverging:rT,scaleDivergingLog:iT,scaleDivergingPow:sb,scaleDivergingSqrt:ZJ,scaleDivergingSymlog:aT,scaleIdentity:LP,scaleImplicit:ny,scaleLinear:MP,scaleLog:FP,scaleOrdinal:F0,scalePoint:zq,scalePow:G0,scaleQuantile:BP,scaleQuantize:WP,scaleRadial:UP,scaleSequential:ZP,scaleSequentialLog:eT,scaleSequentialPow:ab,scaleSequentialQuantile:nT,scaleSequentialSqrt:QJ,scaleSequentialSymlog:tT,scaleSqrt:IY,scaleSymlog:zP,scaleThreshold:VP,scaleTime:GJ,scaleUtc:XJ,tickFormat:RP},Symbol.toStringTag,{value:"Module"}));var da=e=>e.chartData,ob=K([da],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lb=(e,t,n,r)=>r?ob(e):da(e);function ho(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ln(t)&&Ln(n))return!0}return!1}function Mj(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function eG(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Ln(n))i=n;else if(typeof n=="function")return;if(Ln(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(ho(s))return s}}function tG(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ho(r))return Mj(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(fe(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&AS.test(i)){var c=AS.exec(i);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(fe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&PS.test(a)){var d=PS.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if(ho(h))return t==null?h:Mj(h,t,n)}}}var Oo=1e9,nG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ub,Qe=!0,sr="[DecimalError] ",Ua=sr+"Invalid argument: ",cb=sr+"Exponent out of range: ",Ao=Math.floor,ka=Math.pow,rG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,On,jt=1e7,qe=7,sT=9007199254740991,Cf=Ao(sT/qe),le={};le.absoluteValue=le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};le.comparedTo=le.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};le.decimalPlaces=le.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*qe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};le.dividedBy=le.div=function(e){return ci(this,new this.constructor(e))};le.dividedToIntegerBy=le.idiv=function(e){var t=this,n=t.constructor;return $e(ci(t,new n(e),0,1),n.precision)};le.equals=le.eq=function(e){return!this.cmp(e)};le.exponent=function(){return pt(this)};le.greaterThan=le.gt=function(e){return this.cmp(e)>0};le.greaterThanOrEqualTo=le.gte=function(e){return this.cmp(e)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(e){return this.cmp(e)<0};le.lessThanOrEqualTo=le.lte=function(e){return this.cmp(e)<1};le.logarithm=le.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(On))throw Error(sr+"NaN");if(n.s<1)throw Error(sr+(n.s?"NaN":"-Infinity"));return n.eq(On)?new r(0):(Qe=!1,t=ci(mc(n,a),mc(e,a),a),Qe=!0,$e(t,i))};le.minus=le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?cT(t,e):oT(t,(e.s=-e.s,e))};le.modulo=le.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(sr+"NaN");return n.s?(Qe=!1,t=ci(n,e,0,1).times(e),Qe=!0,n.minus(t)):$e(new r(n),i)};le.naturalExponential=le.exp=function(){return lT(this)};le.naturalLogarithm=le.ln=function(){return mc(this)};le.negated=le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};le.plus=le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?oT(t,e):cT(t,(e.s=-e.s,e))};le.precision=le.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ua+e);if(t=pt(i)+1,r=i.d.length-1,n=r*qe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};le.squareRoot=le.sqrt=function(){var e,t,n,r,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(sr+"NaN")}for(e=pt(l),Qe=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ur(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ao((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(ci(l,a,s+2)).times(.5),Ur(a.d).slice(0,s)===(t=Ur(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if($e(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;s+=4}return Qe=!0,$e(r,n)};le.times=le.mul=function(e){var t,n,r,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+p[r]*h[i-r-1]+t,a[i--]=l%jt|0,t=l/jt|0;a[i]=(a[i]+t)%jt|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Qe?$e(e,f.precision):e};le.toDecimalPlaces=le.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(qr(e,0,Oo),t===void 0?t=r.rounding:qr(t,0,8),$e(n,e+pt(n)+1,t))};le.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Qa(r,!0):(qr(e,0,Oo),t===void 0?t=i.rounding:qr(t,0,8),r=$e(new i(r),e+1,t),n=Qa(r,!0,e+1)),n};le.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Qa(i):(qr(e,0,Oo),t===void 0?t=a.rounding:qr(t,0,8),r=$e(new a(i),e+pt(i)+1,t),n=Qa(r.abs(),!1,e+pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};le.toInteger=le.toint=function(){var e=this,t=e.constructor;return $e(new t(e),pt(e)+1,t.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(e){var t,n,r,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(On);if(l=new c(l),!l.s){if(e.s<1)throw Error(sr+"Infinity");return l}if(l.eq(On))return l;if(r=c.precision,e.eq(On))return $e(l,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=l.s,s){if((n=d<0?-d:d)<=sT){for(i=new c(On),t=Math.ceil(r/qe+4),Qe=!1;n%2&&(i=i.times(l),$j(i.d,t)),n=Ao(n/2),n!==0;)l=l.times(l),$j(l.d,t);return Qe=!0,e.s<0?new c(On).div(i):$e(i,r)}}else if(a<0)throw Error(sr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Qe=!1,i=e.times(mc(l,r+u)),Qe=!0,i=lT(i),i.s=a,i};le.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=pt(i),r=Qa(i,n<=a.toExpNeg||n>=a.toExpPos)):(qr(e,1,Oo),t===void 0?t=a.rounding:qr(t,0,8),i=$e(new a(i),e,t),n=pt(i),r=Qa(i,e<=n||n<=a.toExpNeg,e)),r};le.toSignificantDigits=le.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(qr(e,1,Oo),t===void 0?t=r.rounding:qr(t,0,8)),$e(new r(n),e,t)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pt(e),n=e.constructor;return Qa(e,t<=n.toExpNeg||t>=n.toExpPos)};function oT(e,t){var n,r,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Qe?$e(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=s,l=c.length),s=Math.ceil(f/qe),l=s>l?s+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/jt|0,c[a]%=jt;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Qe?$e(t,f):t}function qr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ua+e)}function Ur(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=qe-r.length,n&&(a+=Di(n)),a+=r;s=e[t],r=s+"",n=qe-r.length,n&&(a+=Di(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ci=function(){function e(r,i){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%jt|0,s=a/jt|0;return s&&r.unshift(s),r}function t(r,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*jt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var l,c,u,d,f,h,p,m,g,y,x,b,w,S,_,k,E,I,O=r.constructor,C=r.s==i.s?1:-1,P=r.d,R=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(sr+"Division by zero");for(c=r.e-i.e,E=R.length,_=P.length,p=new O(C),m=p.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,a==null?b=a=O.precision:s?b=a+(pt(r)-pt(i))+1:b=a,b<0)return new O(0);if(b=b/qe+2|0,u=0,E==1)for(d=0,R=R[0],b++;(u<_||d)&&b--;u++)w=d*jt+(P[u]||0),m[u]=w/R|0,d=w%R|0;else{for(d=jt/(R[0]+1)|0,d>1&&(R=e(R,d),P=e(P,d),E=R.length,_=P.length),S=E,g=P.slice(0,E),y=g.length;y<E;)g[y++]=0;I=R.slice(),I.unshift(0),k=R[0],R[1]>=jt/2&&++k;do d=0,l=t(R,g,E,y),l<0?(x=g[0],E!=y&&(x=x*jt+(g[1]||0)),d=x/k|0,d>1?(d>=jt&&(d=jt-1),f=e(R,d),h=f.length,y=g.length,l=t(f,g,h,y),l==1&&(d--,n(f,E<h?I:R,h))):(d==0&&(l=d=1),f=R.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),l==-1&&(y=g.length,l=t(R,g,E,y),l<1&&(d++,n(g,E<y?I:R,y))),y=g.length):l===0&&(d++,g=[0]),m[u++]=d,l&&g[0]?g[y++]=P[S]||0:(g=[P[S]],y=1);while((S++<_||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=c,$e(p,s?a+pt(p)+1:a)}}();function lT(e,t){var n,r,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(pt(e)>16)throw Error(cb+pt(e));if(!e.s)return new d(On);for(t==null?(Qe=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(ka(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(On),d.precision=l;;){if(i=$e(i.times(e),l),n=n.times(++c),s=a.plus(ci(i,n,l)),Ur(s.d).slice(0,l)===Ur(a.d).slice(0,l)){for(;u--;)a=$e(a.times(a),l);return d.precision=f,t==null?(Qe=!0,$e(a,f)):a}a=s}}function pt(e){for(var t=e.e*qe,n=e.d[0];n>=10;n/=10)t++;return t}function Hm(e,t,n){if(t>e.LN10.sd())throw Qe=!0,n&&(e.precision=n),Error(sr+"LN10 precision limit exceeded");return $e(new e(e.LN10),t)}function Di(e){for(var t="";e--;)t+="0";return t}function mc(e,t){var n,r,i,a,s,l,c,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(sr+(p.s?"NaN":"-Infinity"));if(p.eq(On))return new g(0);if(t==null?(Qe=!1,u=y):u=t,p.eq(10))return t==null&&(Qe=!0),Hm(g,u);if(u+=h,g.precision=u,n=Ur(m),r=n.charAt(0),a=pt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Ur(p.d),r=n.charAt(0),f++;a=pt(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return c=Hm(g,u+2,y).times(a+""),p=mc(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=y,t==null?(Qe=!0,$e(p,y)):p;for(l=s=p=ci(p.minus(On),p.plus(On),u),d=$e(p.times(p),u),i=3;;){if(s=$e(s.times(d),u),c=l.plus(ci(s,new g(i),u)),Ur(c.d).slice(0,u)===Ur(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Hm(g,u+2,y).times(a+""))),l=ci(l,new g(f),u),g.precision=y,t==null?(Qe=!0,$e(l,y)):l;l=c,i+=2}}function Lj(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ao(n/qe),e.d=[],r=(n+1)%qe,n<0&&(r+=qe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=qe;r<i;)e.d.push(+t.slice(r,r+=qe));t=t.slice(r),r=qe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Qe&&(e.e>Cf||e.e<-Cf))throw Error(cb+n)}else e.s=0,e.e=0,e.d=[0];return e}function $e(e,t,n){var r,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=qe,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/qe),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=qe,i=r-qe+s}if(n!==void 0&&(a=ka(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/ka(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=pt(e),f.length=1,t=t-a-1,f[0]=ka(10,(qe-t%qe)%qe),e.e=Ao(-t/qe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=ka(10,qe-r),f[d]=i>0?(u/ka(10,s-i)%ka(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==jt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=jt)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Qe&&(e.e>Cf||e.e<-Cf))throw Error(cb+pt(e));return e}function cT(e,t){var n,r,i,a,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Qe?$e(t,p):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(p/qe),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=jt-1;--c[a],c[i]+=jt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Qe?$e(t,p):t):new h(0)}function Qa(e,t,n){var r,i=pt(e),a=Ur(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Di(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Di(-i-1)+a,n&&(r=n-s)>0&&(a+=Di(r))):i>=s?(a+=Di(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Di(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Di(r))),e.s<0?"-"+a:a}function $j(e,t){if(e.length>t)return e.length=t,!0}function uT(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ua+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Lj(s,a.toString())}else if(typeof a!="string")throw Error(Ua+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,rG.test(a))Lj(s,a);else throw Error(Ua+a)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=uT,i.config=i.set=iG,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function iG(e){if(!e||typeof e!="object")throw Error(sr+"Object expected");var t,n,r,i=["precision",1,Oo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ao(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ua+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ua+n+": "+r);return this}var ub=uT(nG);On=new ub(1);const Ie=ub;var aG=e=>e,dT={"@@functional/placeholder":!0},fT=e=>e===dT,Fj=e=>function t(){return arguments.length===0||arguments.length===1&&fT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},hT=(e,t)=>e===1?t:Fj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==dT).length;return a>=e?t(...r):hT(e-a,Fj(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=r.map(d=>fT(d)?l.shift():d);return t(...u,...l)}))}),ap=e=>hT(e.length,e),sy=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},sG=ap((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),oG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return aG;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},oy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),pT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((s,l)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,n=e(...i)),n}};function mT(e){var t;return e===0?t=1:t=Math.floor(new Ie(e).abs().log(10).toNumber())+1,t}function gT(e,t,n){for(var r=new Ie(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}ap((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});ap((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});ap((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var vT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},yT=(e,t,n)=>{if(e.lte(0))return new Ie(0);var r=mT(e.toNumber()),i=new Ie(10).pow(r),a=e.div(i),s=r!==1?.05:.1,l=new Ie(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return t?new Ie(c.toNumber()):new Ie(Math.ceil(c.toNumber()))},lG=(e,t,n)=>{var r=new Ie(1),i=new Ie(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ie(10).pow(mT(e)-1),i=new Ie(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ie(Math.floor(e)))}else e===0?i=new Ie(Math.floor((t-1)/2)):n||(i=new Ie(Math.floor(e)));var s=Math.floor((t-1)/2),l=oG(sG(c=>i.add(new Ie(c-s).mul(r)).toNumber()),sy);return l(0,t)},xT=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ie(0),tickMin:new Ie(0),tickMax:new Ie(0)};var s=yT(new Ie(n).sub(t).div(r-1),i,a),l;t<=0&&n>=0?l=new Ie(0):(l=new Ie(t).add(n).div(2),l=l.sub(new Ie(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new Ie(n).sub(l).div(s).toNumber()),d=c+u+1;return d>r?xT(t,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:s,tickMin:l.sub(new Ie(c).mul(s)),tickMax:l.add(new Ie(u).mul(s))})};function cG(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[s,l]=vT([t,n]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...sy(0,r-1).map(()=>1/0)]:[...sy(0,r-1).map(()=>-1/0),l];return t>n?oy(c):c}if(s===l)return lG(s,r,i);var{step:u,tickMin:d,tickMax:f}=xT(s,l,a,i,0),h=gT(d,f.add(new Ie(.1).mul(u)),u);return t>n?oy(h):h}function uG(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=vT([n,r]);if(a===-1/0||s===1/0)return[n,r];if(a===s)return[a];var l=Math.max(t,2),c=yT(new Ie(s).sub(a).div(l-1),i,0),u=[...gT(new Ie(a),new Ie(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),n>r?oy(u):u}var dG=pT(cG),fG=pT(uG),bT=e=>e.rootProps.maxBarSize,hG=e=>e.rootProps.barGap,wT=e=>e.rootProps.barCategoryGap,pG=e=>e.rootProps.barSize,Uc=e=>e.rootProps.stackOffset,db=e=>e.options.chartName,fb=e=>e.rootProps.syncId,kT=e=>e.rootProps.syncMethod,hb=e=>e.options.eventEmitter,Fr={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},ln={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},sp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},mG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fr.angleAxisId,includeHidden:!1,name:void 0,reversed:Fr.reversed,scale:Fr.scale,tick:Fr.tick,tickCount:void 0,ticks:void 0,type:Fr.type,unit:void 0},gG={allowDataOverflow:ln.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ln.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ln.scale,tick:ln.tick,tickCount:ln.tickCount,ticks:void 0,type:ln.type,unit:void 0},vG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fr.scale,tick:Fr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yG={allowDataOverflow:ln.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ln.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ln.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ln.scale,tick:ln.tick,tickCount:ln.tickCount,ticks:void 0,type:"category",unit:void 0},Po=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vG:mG,Bc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yG:gG,op=e=>e.polarOptions,pb=K([ki,Si,Nt],gK),ST=K([op,pb],(e,t)=>{if(e!=null)return Cr(e.innerRadius,t,0)}),jT=K([op,pb],(e,t)=>{if(e!=null)return Cr(e.outerRadius,t,t*.8)}),xG=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},_T=K([op],xG),bG=K([Po,_T],sp),CT=K([pb,ST,jT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),wG=K([Bc,CT],sp),To=K([Ee,op,ST,jT,ki,Si],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:Cr(s,i,i/2),cy:Cr(l,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Ue=(e,t)=>t,Wc=(e,t,n)=>n;function mb(e){return e==null?void 0:e.id}var St=e=>{var t=Ee(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Io=e=>e.tooltip.settings.axisId,At=e=>{var t=St(e),n=Io(e);return Do(e,t,n)},ET=K([At],e=>e==null?void 0:e.dataKey);function NT(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=mb(l);u.forEach((f,h)=>{var p=a==null||i?h:String(wt(f,a,null)),m=wt(f,l.dataKey,0),g;s.has(p)?g=s.get(p):g={},Object.assign(g,{[d]:m}),s.set(p,g)})}}),Array.from(s.values())}function lp(e){return e.stackId!=null&&e.dataKey!=null}function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){kG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kG(e,t,n){return(t=SG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ly=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},OT=(e,t)=>e.cartesianAxis.xAxis[t],_i=(e,t)=>{var n=OT(e,t);return n??jn},_n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ly,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mc},AT=(e,t)=>e.cartesianAxis.yAxis[t],Ci=(e,t)=>{var n=AT(e,t);return n??_n},_G={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??_G},lt=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return Ci(e,n);case"zAxis":return gb(e,n);case"angleAxis":return Po(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},CG=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return Ci(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Do=(e,t,n)=>{switch(t){case"xAxis":return _i(e,n);case"yAxis":return Ci(e,n);case"angleAxis":return Po(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function vb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var yb=e=>e.graphicalItems.cartesianItems,EG=K([Ue,Wc],vb),xb=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Vc=K([yb,lt,EG],xb),TT=K([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(lp)),IT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),DT=K([Vc],IT),bb=e=>e.map(t=>t.data).filter(Boolean).flat(1),NG=K([Vc],bb),wb=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},kb=K([NG,lb],wb),Sb=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:wt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:wt(i,r)}))):e.map(r=>({value:r})),cp=K([kb,lt,Vc],Sb);function RT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ds(e){return e.filter(t=>Hr(t)||t instanceof Date).map(Number).filter(t=>Rn(t)===!1)}function OG(e,t,n){return!n||typeof t!="number"||Rn(t)?[]:n.length?ds(n.flatMap(r=>{var i=wt(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ln(a)||!Ln(s)))return[t-a,t+s]})):[]}var AG=K([TT,lb,At],NT),MT=(e,t,n)=>{var r={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,c=l.map(mb);return[s,{stackedData:TK(e,c,n),graphicalItems:l}]}))},cy=K([AG,TT,Uc],MT),LT=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=LK(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},PG=K([cy,da,Ue],LT),$T=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var l,c,u=(l=r[s.id])===null||l===void 0?void 0:l.filter(f=>RT(i,f)),d=wt(a,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:OG(a,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:wt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),up=e=>e.errorBars,FT=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>RT(n,r));K([DT,up,Ue],FT);var TG=K([kb,lt,DT,up,Ue],$T);function IG(e){var{value:t}=e;if(Hr(t)||t instanceof Date)return t}var Uj=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ds(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},DG=(e,t,n)=>{var r=e.map(IG).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&FO(r))?_P(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},jb=e=>{var t;if(e==null||!("domain"in e))return ly;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ds(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ly},Nf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},zT=e=>e.referenceElements.dots,Ro=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),RG=K([zT,Ue,Wc],Ro),UT=e=>e.referenceElements.areas,MG=K([UT,Ue,Wc],Ro),BT=e=>e.referenceElements.lines,LG=K([BT,Ue,Wc],Ro),WT=(e,t)=>{var n=ds(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$G=K(RG,Ue,WT),VT=(e,t)=>{var n=ds(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},FG=K([MG,Ue],VT),KT=(e,t)=>{var n=ds(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zG=K(LG,Ue,KT),UG=K($G,zG,FG,(e,t,n)=>Nf(e,n,t)),HT=K([lt],jb),_b=(e,t,n,r,i,a,s)=>{var l=eG(t,e.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=c?Nf(n,i,Uj(r)):Nf(i,Uj(r));return tG(t,u,e.allowDataOverflow)},BG=K([lt,HT,PG,TG,UG,Ee,Ue],_b),WG=[0,1],Cb=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=la(t,a);return u&&l==null?_P(0,n.length):c==="category"?DG(r,e,u):i==="expand"?WG:s}},Eb=K([lt,Ee,kb,cp,Uc,Ue,BG],Cb),qT=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Tc(a));return l in vl?l:"point"}}},fa=K([lt,Ee,PT,db,Ue],qT);function VG(e){if(e!=null){if(e in vl)return vl[e]();var t="scale".concat(Tc(e));if(t in vl)return vl[t]()}}function dp(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=VG(t);if(i!=null){var a=i.domain(n).range(r);return EK(a),a}}}var Nb=(e,t,n)=>{var r=jb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ho(e))return dG(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ho(e))return fG(e,t.tickCount,t.allowDecimals)}},Ob=K([Eb,Do,fa],Nb),Ab=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ho(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],l=n[n.length-1];return[Math.min(i,a),Math.max(s,l)]}return t},KG=K([lt,Eb,Ob,Ue],Ab),HG=K(cp,lt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ds(e.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var s=r[a+1]-r[a];n=Math.min(n,s)}return n/i}}),YT=K(HG,Ee,wT,Nt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Ln(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Cr(n,e*a),l=e*a/2;return l-s-(l-s)/a*s}return 0}),qG=(e,t)=>{var n=_i(e,t);return n==null||typeof n.padding!="string"?0:YT(e,"xAxis",t,n.padding)},YG=(e,t)=>{var n=Ci(e,t);return n==null||typeof n.padding!="string"?0:YT(e,"yAxis",t,n.padding)},JG=K(_i,qG,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),GG=K(Ci,YG,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),XG=K([Nt,JG,Jh,Yh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),QG=K([Nt,Ee,GG,Jh,Yh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Kc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return XG(e,n,r);case"yAxis":return QG(e,n,r);case"zAxis":return(i=gb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _T(e);case"radiusAxis":return CT(e,n);default:return}},JT=K([lt,Kc],sp),Mo=K([lt,fa,KG,JT],dp);K([Vc,up,Ue],FT);function GT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var fp=(e,t)=>t,hp=(e,t,n)=>n,ZG=K(Hh,fp,hp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(GT)),eX=K(qh,fp,hp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(GT)),XT=(e,t)=>({width:e.width,height:t.height}),tX=(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}},QT=K(Nt,_i,XT),nX=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},rX=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},iX=K(Si,Nt,ZG,fp,hp,(e,t,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=XT(t,l);s==null&&(s=nX(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),aX=K(ki,Nt,eX,fp,hp,(e,t,n,r,i)=>{var a={},s;return n.forEach(l=>{var c=tX(t,l);s==null&&(s=rX(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),sX=(e,t)=>{var n=_i(e,t);if(n!=null)return iX(e,n.orientation,n.mirror)},oX=K([Nt,_i,sX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),lX=(e,t)=>{var n=Ci(e,t);if(n!=null)return aX(e,n.orientation,n.mirror)},cX=K([Nt,Ci,lX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),ZT=K(Nt,Ci,(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}}),Bj=(e,t,n)=>{switch(t){case"xAxis":return QT(e,n).width;case"yAxis":return ZT(e,n).height;default:return}},eI=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,l=la(e,r),c=t.map(u=>u.value);if(s&&l&&a==="category"&&i&&FO(c))return c}},Hc=K([Ee,cp,lt,Ue],eI),Pb=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=la(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},Tb=K([Ee,cp,Do,Ue],Pb),Wj=K([Ee,CG,fa,Mo,Hc,Tb,Kc,Ob,Ue],(e,t,n,r,i,a,s,l,c)=>{if(t==null)return null;var u=la(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:l,range:s,realScaleType:n,scale:r}}),tI=(e,t,n,r,i,a,s,l,c)=>{if(!(t==null||r==null)){var u=la(e,c),{type:d,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;m=c==="angleAxis"&&a!=null&&a.length>=2?fn(a[0]-a[1])*2*m:m;var g=f||i;if(g){var y=g.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:r(w)+m,value:x,offset:m}});return y.filter(x=>!Rn(x.coordinate))}return u&&l?l.map((x,b)=>({coordinate:r(x)+m,value:x,index:b,offset:m})):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+m,value:x,offset:m})):r.domain().map((x,b)=>({coordinate:r(x)+m,value:s?s[x]:x,index:b,offset:m}))}},nI=K([Ee,Do,fa,Mo,Ob,Kc,Hc,Tb,Ue],tI),rI=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=la(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?fn(r[0]-r[1])*2*u:u,l&&a?a.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},po=K([Ee,Do,Mo,Kc,Hc,Tb,Ue],rI),mo=K(lt,Mo,(e,t)=>{if(!(e==null||t==null))return Ef(Ef({},e),{},{scale:t})}),uX=K([lt,fa,Eb,JT],dp);K((e,t,n)=>gb(e,n),uX,(e,t)=>{if(!(e==null||t==null))return Ef(Ef({},e),{},{scale:t})});var dX=K([Ee,Hh,qh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iI=e=>e.options.defaultTooltipEventType,aI=e=>e.options.validateTooltipEventTypes;function sI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Ib(e,t){var n=iI(e),r=aI(e);return sI(t,n,r)}function fX(e){return se(t=>Ib(t,e))}var oI=(e,t)=>{var n,r=Number(t);if(!(Rn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},hX=e=>e.tooltip.settings,Fi={active:!1,index:null,dataKey:void 0,coordinate:void 0},pX={itemInteraction:{click:Fi,hover:Fi},axisInteraction:{click:Fi,hover:Fi},keyboardInteraction:Fi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lI=Bn({name:"tooltip",initialState:pX,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=li(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:mX,removeTooltipEntrySettings:gX,setTooltipSettingsState:vX,setActiveMouseOverItemIndex:cI,mouseLeaveItem:yX,mouseLeaveChart:uI,setActiveClickItemIndex:xX,setMouseOverAxisIndex:dI,setMouseClickAxisIndex:bX,setSyncInteraction:uy,setKeyboardInteraction:dy}=lI.actions,wX=lI.reducer;function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){kX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kX(e,t,n){return(t=SX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _X(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function CX(e){return e.index!=null}var fI=(e,t,n,r)=>{if(t==null)return Fi;var i=_X(e,t,n);if(i==null)return Fi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(CX(i)){if(a)return Bu(Bu({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Bu(Bu({},Fi),{},{coordinate:i.coordinate})},Db=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Ln(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},hI=(e,t,n,r,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},pI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},qc=e=>e.options.tooltipPayloadSearcher,Lo=e=>e.tooltip;function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(r){EX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AX(e,t){return e??t}var mI=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:y}=p,x=AX(g,l),b=Array.isArray(x)?aP(x,u,d):x,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:r,S=y==null?void 0:y.nameKey,_;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?_=jW(b,r,i):_=a(b,t,c,S),Array.isArray(_))_.forEach(E=>{var I=Hj(Hj({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(TS({tooltipEntrySettings:I,dataKey:E.dataKey,payload:E.payload,value:wt(E.payload,E.dataKey),name:E.name}))});else{var k;h.push(TS({tooltipEntrySettings:y,dataKey:w,payload:_,value:wt(_,w),name:(k=wt(_,S))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},f)}},Rb=K([At,Ee,PT,db,St],qT),PX=K([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),TX=K([St,Io],vb),Yc=K([PX,At,TX],xb),IX=K([Yc],e=>e.filter(lp)),DX=K([Yc],bb),$o=K([DX,da],wb),RX=K([IX,da,At],NT),Mb=K([$o,At,Yc],Sb),MX=K([At],jb),LX=K([Yc],e=>e.filter(lp)),$X=K([RX,LX,Uc],MT),FX=K([$X,da,St],LT),zX=K([Yc],IT),UX=K([$o,At,zX,up,St],$T),BX=K([zT,St,Io],Ro),WX=K([BX,St],WT),VX=K([UT,St,Io],Ro),KX=K([VX,St],VT),HX=K([BT,St,Io],Ro),qX=K([HX,St],KT),YX=K([WX,qX,KX],Nf),JX=K([At,MX,FX,UX,YX,Ee,St],_b),gI=K([At,Ee,$o,Mb,Uc,St,JX],Cb),GX=K([gI,At,Rb],Nb),XX=K([At,gI,GX,St],Ab),vI=e=>{var t=St(e),n=Io(e),r=!1;return Kc(e,t,n,r)},yI=K([At,vI],sp),xI=K([At,Rb,XX,yI],dp),QX=K([Ee,Mb,At,St],eI),ZX=K([Ee,Mb,At,St],Pb),eQ=(e,t,n,r,i,a,s,l)=>{if(t){var{type:c}=t,u=la(e,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fn(i[0]-i[1])*2*f:f,u&&s?s.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:a?a[h]:h,index:p,offset:f}))}}},Ei=K([Ee,At,Rb,xI,vI,QX,ZX,St],eQ),Lb=K([iI,aI,hX],(e,t,n)=>sI(n.shared,e,t)),bI=e=>e.tooltip.settings.trigger,$b=e=>e.tooltip.settings.defaultIndex,pp=K([Lo,Lb,bI,$b],fI),Za=K([pp,$o],Db),wI=K([Ei,Za],oI),kI=K([pp],e=>{if(e)return e.dataKey}),SI=K([Lo,Lb,bI,$b],pI),tQ=K([ki,Si,Ee,Nt,Ei,$b,SI,qc],hI),nQ=K([pp,tQ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rQ=K([pp],e=>e.active),iQ=K([SI,Za,da,ET,wI,qc,Lb],mI),aQ=K([iQ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(n),!0).forEach(function(r){sQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sQ(e,t,n){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oQ(e){var t=lQ(e,"string");return typeof t=="symbol"?t:t+""}function lQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cQ=()=>se(At),uQ=()=>{var e=cQ(),t=se(Ei),n=se(xI);return cc(Yj(Yj({},e),{},{scale:n}),t)},dQ=()=>se(db),Fb=(e,t)=>t,jI=(e,t,n)=>n,zb=(e,t,n,r)=>r,fQ=K(Ei,e=>Fh(e,t=>t.coordinate)),Ub=K([Lo,Fb,jI,zb],fI),_I=K([Ub,$o],Db),hQ=(e,t,n)=>{if(t!=null){var r=Lo(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},CI=K([Lo,Fb,jI,zb],pI),Of=K([ki,Si,Ee,Nt,Ei,zb,CI,qc],hI),pQ=K([Ub,Of],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),EI=K(Ei,_I,oI),mQ=K([CI,_I,da,ET,EI,qc,Fb],mI),gQ=K([Ub],e=>({isActive:e.active,activeIndex:e.index})),vQ=(e,t,n,r,i,a,s,l)=>{if(!(!e||!t||!r||!i||!a)){var c=$K(e.chartX,e.chartY,t,n,l);if(c){var u=zK(c,t),d=_K(u,s,a,r,i),f=FK(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=n,h=r;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var p,m;if(u==="ScatterChart")p=d,m=WH;else if(u==="BarChart")p=VH(s,d,i,a),m=yP;else if(s==="radial"){var{cx:g,cy:y,radius:x,startAngle:b,endAngle:w}=xP(d);p={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:x,outerRadius:x},m=wP}else p={points:Sq(s,d,i)},m=DH;var S=typeof l=="object"&&"className"in l?l.className:void 0,_=Wu(Wu(Wu(Wu({stroke:"#ccc",pointerEvents:"none"},i),p),De(l,!1)),{},{payload:f,payloadIndex:h,className:Ce("recharts-tooltip-cursor",S)});return v.isValidElement(l)?v.cloneElement(l,_):v.createElement(m,_)}function kQ(e){var t=uQ(),n=cP(),r=M0(),i=dQ();return v.createElement(wQ,fy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var NI=v.createContext(null),SQ=()=>v.useContext(NI),OI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),m=n?n+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,m){var g=n?n+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,m),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,_;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(_=1,b=new Array(x-1);_<x;_++)b[_-1]=arguments[_];y[w].fn.apply(y[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,y=[],x=m.length;g<x;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(OI);var jQ=OI.exports;const _Q=$n(jQ);var gc=new _Q,hy="recharts.syncEvent.tooltip",Gj="recharts.syncEvent.brush";function AI(e,t){if(t){var n=Number.parseInt(t,10);if(!Rn(n))return e==null?void 0:e[n]}}var CQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PI=Bn({name:"options",initialState:CQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),EQ=PI.reducer,{createEventEmitter:NQ}=PI.actions;function OQ(e){return e.tooltip.syncInteraction}var AQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TI=Bn({name:"chartData",initialState:AQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Xj,setDataStartEndIndexes:PQ,setComputedData:nue}=TI.actions,TQ=TI.reducer,IQ=["x","y"];function Qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(n),!0).forEach(function(r){DQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t){if(e==null)return{};var n,r,i=$Q(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Q(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var II=()=>{};function FQ(){var e=se(fb),t=se(hb),n=Ge(),r=se(kT),i=se(Ei),a=M0(),s=I0(),l=se(c=>c.rootProps.className);v.useEffect(()=>{if(e==null)return II;var c=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var p=d.payload.coordinate,{x:m,y:g}=p,y=LQ(p,IQ),x=ga(ga(ga({},y),typeof m=="number"&&{x:Math.max(s.x,Math.min(m,s.x+s.width))}),typeof g=="number"&&{y:Math.max(s.y,Math.min(g,s.y+s.height))}),b=ga(ga({},d),{},{payload:ga(ga({},d.payload),{},{coordinate:x})});n(b)}else n(d);return}if(i!=null){var w;if(typeof r=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=r(i,S);w=i[_]}else r==="value"&&(w=i.find(F=>String(F.value)===d.payload.label));var{coordinate:k}=d.payload;if(w==null||d.payload.active===!1||k==null||s==null){n(uy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:I}=k,O=Math.min(E,s.x+s.width),C=Math.min(I,s.y+s.height),P={x:a==="horizontal"?w.coordinate:O,y:a==="horizontal"?C:w.coordinate},R=uy({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label});n(R)}}};return gc.on(hy,c),()=>{gc.off(hy,c)}},[l,n,t,e,r,i,a,s])}function zQ(){var e=se(fb),t=se(hb),n=Ge();v.useEffect(()=>{if(e==null)return II;var r=(i,a,s)=>{t!==s&&e===i&&n(PQ(a))};return gc.on(Gj,r),()=>{gc.off(Gj,r)}},[n,t,e])}function UQ(){var e=Ge();v.useEffect(()=>{e(NQ())},[e]),FQ(),zQ()}function BQ(e,t,n,r,i,a){var s=se(h=>hQ(h,e,t)),l=se(hb),c=se(fb),u=se(kT),d=se(OQ),f=d==null?void 0:d.active;v.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=uy({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});gc.emit(hy,c,h,l)}},[f,n,s,i,r,l,c,u,a])}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){WQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WQ(e,t,n){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HQ(e){return e.dataKey}function qQ(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(bH,t)}var t_=[],YQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ls.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function n_(e){var t=bn(e,YQ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:x,defaultIndex:b,portal:w,axisId:S}=t,_=Ge(),k=typeof b=="number"?String(b):b;v.useEffect(()=>{_(vX({shared:y,trigger:x,axisId:S,active:n,defaultIndex:k}))},[_,y,x,S,n,k]);var E=I0(),I=hP(),O=fX(y),{activeIndex:C,isActive:P}=se(B=>gQ(B,O,x,k)),R=se(B=>mQ(B,O,x,k)),F=se(B=>EI(B,O,x,k)),V=se(B=>pQ(B,O,x,k)),J=R,L=SQ(),G=n??P,[N,D]=IA([J,G]),j=O==="axis"?F:void 0;BQ(O,x,V,j,C,G);var z=w??L;if(z==null)return null;var W=J??t_;G||(W=t_),l&&W.length&&(W=wA(J.filter(B=>B.value!=null&&(B.hide!==!0||t.includeHidden)),d,HQ));var A=W.length>0,re=v.createElement(EH,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:c,active:G,coordinate:V,hasPayload:A,offset:u,position:f,reverseDirection:h,useTranslate3d:p,viewBox:E,wrapperStyle:m,lastBoundingBox:N,innerRef:D,hasPortalFromProps:!!w},qQ(s,e_(e_({},t),{},{payload:W,label:j,active:G,coordinate:V,accessibilityLayer:I})));return v.createElement(v.Fragment,null,_x.createPortal(re,z),G&&v.createElement(kQ,{cursor:g,tooltipEventType:O,coordinate:V,payload:J,index:C}))}var DI={},RI={},MI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(n.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),s=void 0,l=null},y=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,l=b;const w=h==null;p(),c&&w&&d()};return x.schedule=p,x.cancel=g,x.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(MI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:u}),p=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},m=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(RI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RI;function n(r,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:l})}e.throttle=n})(DI);var JQ=DI.throttle;const GQ=$n(JQ);var Il=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){XQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XQ(e,t,n){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ym=v.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:p,style:m={}}=e,g=v.useRef(null),y=v.useRef();y.current=p,v.useImperativeHandle(t,()=>g.current);var[x,b]=v.useState({containerWidth:r.width,containerHeight:r.height}),w=v.useCallback((_,k)=>{b(E=>{var I=Math.round(_),O=Math.round(k);return E.containerWidth===I&&E.containerHeight===O?E:{containerWidth:I,containerHeight:O}})},[]);v.useEffect(()=>{var _=O=>{var C,{width:P,height:R}=O[0].contentRect;w(P,R),(C=y.current)===null||C===void 0||C.call(y,P,R)};d>0&&(_=GQ(_,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(_),{width:E,height:I}=g.current.getBoundingClientRect();return w(E,I),k.observe(g.current),()=>{k.disconnect()}},[w,d]);var S=v.useMemo(()=>{var{containerWidth:_,containerHeight:k}=x;if(_<0||k<0)return null;Il(Aa(i)||Aa(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Il(!n||n>0,"The aspect(%s) must be greater than zero.",n);var E=Aa(i)?_:i,I=Aa(a)?k:a;return n&&n>0&&(E?I=E/n:I&&(E=I*n),c&&I>c&&(I=c)),Il(E>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,I,i,a,s,l,n),v.Children.map(u,O=>v.cloneElement(O,{width:E,height:I,style:qm({width:E,height:I},O.props.style)}))},[n,u,a,c,l,s,x,i]);return v.createElement("div",{id:f?"".concat(f):void 0,className:Ce("recharts-responsive-container",h),style:qm(qm({},m),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:g},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),LI=e=>null;LI.displayName="Cell";function eZ(e,t,n){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rZ{constructor(t){eZ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){aZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZ(e,t,n){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lZ={cacheSize:2e3,enableCache:!0},$I=iZ({},lZ),a_=new rZ($I.cacheSize),cZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},s_="recharts_measurement_span";function uZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var o_=(e,t)=>{try{var n=document.getElementById(s_);n||(n=document.createElement("span"),n.setAttribute("id",s_),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,cZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Dl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ls.isSsr)return{width:0,height:0};if(!$I.enableCache)return o_(t,n);var r=uZ(t,n),i=a_.get(r);if(i)return i;var a=o_(t,n);return a_.set(r,a),a},l_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hZ=Object.keys(FI),Ms="NaN";function pZ(e,t){return e*FI[t]}class on{static parse(t){var n,[,r,i]=(n=fZ.exec(t))!==null&&n!==void 0?n:[];return new on(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Rn(t)&&(this.unit=""),n!==""&&!dZ.test(n)&&(this.num=NaN,this.unit=""),hZ.includes(n)&&(this.num=pZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new on(NaN,""):new on(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new on(NaN,""):new on(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new on(NaN,""):new on(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new on(NaN,""):new on(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rn(this.num)}}function zI(e){if(e.includes(Ms))return Ms;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=l_.exec(t))!==null&&n!==void 0?n:[],s=on.parse(r??""),l=on.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Ms;t=t.replace(l_,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=c_.exec(t))!==null&&u!==void 0?u:[],p=on.parse(d??""),m=on.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Ms;t=t.replace(c_,g.toString())}return t}var u_=/\(([^()]*)\)/;function mZ(e){for(var t=e,n;(n=u_.exec(t))!=null;){var[,r]=n;t=t.replace(u_,zI(r))}return t}function gZ(e){var t=e.replace(/\s+/g,"");return t=mZ(t),t=zI(t),t}function vZ(e){try{return gZ(e)}catch{return Ms}}function Jm(e){var t=vZ(e.slice(5,-1));return t===Ms?"":t}var yZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xZ=["dx","dy","angle","className","breakAll"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},py.apply(null,arguments)}function d_(e,t){if(e==null)return{};var n,r,i=bZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UI=/[ \f\n\r\t\v\u2028\u2029]+/,BI=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ot(t)||(n?i=t.toString().split(""):i=t.toString().split(UI));var a=i.map(l=>({word:l,width:Dl(l,r).width})),s=n?0:Dl(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},wZ=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=e,u=fe(a),d=s,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((R,F)=>{var{word:V,width:J}=F,L=R[R.length-1];if(L&&(r==null||i||L.width+J+n<Number(r)))L.words.push(V),L.width+=J+n;else{var G={words:[V],width:J};R.push(G)}return R},[])},h=f(t),p=C=>C.reduce((P,R)=>P.width>R.width?P:R);if(!u||i)return h;var m=h.length>a||p(h).width>Number(r);if(!m)return h;for(var g="…",y=C=>{var P=d.slice(0,C),R=BI({breakAll:c,style:l,children:P+g}).wordsWithComputedWidth,F=f(R),V=F.length>a||p(F).width>Number(r);return[V,F]},x=0,b=d.length-1,w=0,S;x<=b&&w<=d.length-1;){var _=Math.floor((x+b)/2),k=_-1,[E,I]=y(k),[O]=y(_);if(!E&&!O&&(x=_+1),E&&O&&(b=_-1),!E&&O){S=I;break}w++}return S||h},f_=e=>{var t=ot(e)?[]:e.toString().split(UI);return[{words:t}]},kZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!ls.isSsr){var l,c,u=BI({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return f_(r);return wZ({breakAll:a,children:r,maxLines:s,style:i},l,c,t,n)}return f_(r)},h_="#808080",Jc=v.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=h_}=e,d=d_(e,yZ),f=v.useMemo(()=>kZ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:p,angle:m,className:g,breakAll:y}=d,x=d_(d,xZ);if(!Hr(n)||!Hr(r)||f.length===0)return null;var b=n+(fe(h)?h:0),w=r+(fe(p)?p:0),S;switch(c){case"start":S=Jm("calc(".concat(a,")"));break;case"middle":S=Jm("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:S=Jm("calc(".concat(f.length-1," * -").concat(i,")"));break}var _=[];if(s){var k=f[0].width,{width:E}=d;_.push("scale(".concat(fe(E)?E/k:1,")"))}return m&&_.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),_.length&&(x.transform=_.join(" ")),v.createElement("text",py({},De(x,!0),{ref:t,x:b,y:w,className:Ce("recharts-text",g),textAnchor:l,fill:u.includes("url")?h_:u}),f.map((I,O)=>{var C=I.words.join(y?"":" ");return v.createElement("tspan",{x:b,dy:O===0?S:i,key:"".concat(C,"-").concat(O)},C)}))});Jc.displayName="Text";var SZ=["labelRef"];function jZ(e,t){if(e==null)return{};var n,r,i=_Z(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _Z(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(n),!0).forEach(function(r){CZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(null,arguments)}var WI=v.createContext(null),OZ=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,s=v.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return v.createElement(WI.Provider,{value:s},a)},VI=()=>{var e=v.useContext(WI),t=I0();return e||t},KI=v.createContext(null),AZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s,clockWise:l,children:c}=e,u=v.useMemo(()=>({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s,clockWise:l}),[t,n,r,i,a,s,l]);return v.createElement(KI.Provider,{value:u},c)},HI=()=>{var e=v.useContext(KI),t=se(To);return e||t},PZ=e=>{var{value:t,formatter:n}=e,r=ot(e.children)?t:e.children;return typeof n=="function"?n(r):r},Bb=e=>e!=null&&typeof e=="function",TZ=(e,t)=>{var n=fn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},IZ=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=i,m=(u+d)/2,g=TZ(f,h),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=p;break;case"insideEnd":x=h-y*a,b=!p;break;case"end":x=h+y*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Le(l,c,m,x),S=Le(l,c,m,x+(b?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),k=ot(e.id)?sc("recharts-radial-line-"):e.id;return v.createElement("text",ei({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:k,d:_})),v.createElement("textPath",{xlinkHref:"#".concat(k)},n))},DZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:f}=Le(r,i,s+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:p,y:m}=Le(r,i,h,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},qI=e=>"cx"in e&&fe(e.cx),RZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!qI(n)&&(a=n);var{x:s,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*r,h=d>0?"end":"start",p=d>0?"start":"end",m=c>=0?1:-1,g=m*r,y=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var b={x:s+c/2,y:l-d*r,textAnchor:"middle",verticalAnchor:h};return at(at({},b),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var w={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:p};return at(at({},w),a?{height:Math.max(a.y+a.height-(l+u),0),width:c}:{})}if(i==="left"){var S={x:s-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return at(at({},S),a?{width:Math.max(S.x-a.x,0),height:u}:{})}if(i==="right"){var _={x:s+c+g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return at(at({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:u}:{})}var k=a?{width:c,height:u}:{};return i==="insideLeft"?at({x:s+g,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideRight"?at({x:s+c-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?at({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?at({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?at({x:s+g,y:l+f,textAnchor:x,verticalAnchor:p},k):i==="insideTopRight"?at({x:s+c-g,y:l+f,textAnchor:y,verticalAnchor:p},k):i==="insideBottomLeft"?at({x:s+g,y:l+u-f,textAnchor:x,verticalAnchor:h},k):i==="insideBottomRight"?at({x:s+c-g,y:l+u-f,textAnchor:y,verticalAnchor:h},k):i&&typeof i=="object"&&(fe(i.x)||Aa(i.x))&&(fe(i.y)||Aa(i.y))?at({x:s+Cr(i.x,c),y:l+Cr(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):at({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},MZ={offset:5};function Ri(e){var t=bn(e,MZ),{viewBox:n,position:r,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=HI(),f=VI(),h=r==="center"?f:d??f,p=n||h;if(!p||ot(i)&&ot(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var m=at(at({},t),{},{viewBox:p});if(v.isValidElement(s)){var g=jZ(m,SZ);return v.cloneElement(s,g)}var y;if(typeof s=="function"){if(y=v.createElement(s,m),v.isValidElement(y))return y}else y=PZ(t);var x=qI(p),b=De(t,!0);if(x&&(r==="insideStart"||r==="insideEnd"||r==="end"))return IZ(t,r,y,b,p);var w=x?DZ(p,t.offset,t.position):RZ(t,p);return v.createElement(Jc,ei({ref:u,className:Ce("recharts-label",l)},b,w,{breakAll:c}),y)}Ri.displayName="Label";var YI=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?v.createElement(Ri,ei({key:"label-implicit"},r)):Hr(e)?v.createElement(Ri,ei({key:"label-implicit",value:e},r)):v.isValidElement(e)?e.type===Ri?v.cloneElement(e,at({key:"label-implicit"},r)):v.createElement(Ri,ei({key:"label-implicit",content:e},r)):Bb(e)?v.createElement(Ri,ei({key:"label-implicit",content:e},r)):e&&typeof e=="object"?v.createElement(Ri,ei({},e,{key:"label-implicit"},r)):null};function LZ(e){var{label:t}=e,n=VI();return YI(t,n)||null}function $Z(e){var{label:t}=e,n=HI();return YI(t,n)||null}var JI={},GI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(GI);var XI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(XI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI,n=XI,r=Mh;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(JI);var FZ=JI.last;const QI=$n(FZ);var zZ=["valueAccessor"],UZ=["dataKey","clockWise","id","textBreakAll"];function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(null,arguments)}function m_(e,t){if(e==null)return{};var n,r,i=BZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WZ=e=>Array.isArray(e.value)?QI(e.value):e.value,ZI=v.createContext(void 0),eD=ZI.Provider,tD=v.createContext(void 0);tD.Provider;function VZ(){return v.useContext(ZI)}function KZ(){return v.useContext(tD)}function cd(e){var{valueAccessor:t=WZ}=e,n=m_(e,zZ),{dataKey:r,clockWise:i,id:a,textBreakAll:s}=n,l=m_(n,UZ),c=VZ(),u=KZ(),d=c||u;return!d||!d.length?null:v.createElement(Et,{className:"recharts-label-list"},d.map((f,h)=>{var p,m=ot(r)?t(f,h):wt(f&&f.payload,r),g=ot(a)?{}:{id:"".concat(a,"-").concat(h)};return v.createElement(Ri,Af({},De(f,!0),l,g,{fill:(p=n.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}cd.displayName="LabelList";function nD(e){var{label:t}=e;return t?t===!0?v.createElement(cd,{key:"labelList-implicit"}):v.isValidElement(t)||Bb(t)?v.createElement(cd,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(cd,Af({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var HZ=["points","className","baseLinePoints","connectNulls"];function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(null,arguments)}function qZ(e,t){if(e==null)return{};var n,r,i=YZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g_=e=>e&&e.x===+e.x&&e.y===+e.y,JZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{g_(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),g_(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Rl=(e,t)=>{var n=JZ(e);t&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,s,l)=>"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},GZ=(e,t,n)=>{var r=Rl(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Rl(Array.from(t).reverse(),n).slice(1))},rD=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,a=qZ(e,HZ);if(!t||!t.length)return null;var s=Ce("recharts-polygon",n);if(r&&r.length){var l=a.stroke&&a.stroke!=="none",c=GZ(t,r,i);return v.createElement("g",{className:s},v.createElement("path",Ls({},De(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?v.createElement("path",Ls({},De(a,!0),{fill:"none",d:Rl(t,i)})):null,l?v.createElement("path",Ls({},De(a,!0),{fill:"none",d:Rl(r,i)})):null)}var u=Rl(t,i);return v.createElement("path",Ls({},De(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:s,d:u}))};function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}var Wb=e=>{var{cx:t,cy:n,r,className:i}=e,a=Ce("recharts-dot",i);return t===+t&&n===+n&&r===+r?v.createElement("circle",my({},rn(e),l0(e),{className:a,cx:t,cy:n,r})):null},iD=e=>e.graphicalItems.polarItems,XZ=K([Ue,Wc],vb),Vb=K([iD,lt,XZ],xb),QZ=K([Vb],bb),Kb=K([QZ,ob],wb),aD=K([Kb,lt,Vb],Sb),ZZ=K([Kb,lt,Vb],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=wt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:wt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),v_=()=>{},eee=K([lt,HT,v_,ZZ,v_,Ee,Ue],_b),sD=K([lt,Ee,Kb,aD,Uc,Ue,eee],Cb),oD=K([sD,lt,fa],Nb),tee=K([lt,sD,oD,Ue],Ab),Hb=(e,t,n)=>{switch(t){case"angleAxis":return Po(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qb=(e,t,n)=>{switch(t){case"angleAxis":return bG(e,n);case"radiusAxis":return wG(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Fo=K([Hb,fa,tee,qb],dp),lD=K([Ee,aD,Do,Ue],Pb),zo=K([Ee,Hb,fa,Fo,oD,qb,Hc,lD,Ue],tI);K([Ee,Hb,Fo,qb,Hc,lD,Ue],rI);var nee=(e,t)=>zo(e,"angleAxis",t,!1),ree=K([nee],e=>{if(e)return e.map(t=>t.coordinate)}),iee=(e,t)=>zo(e,"radiusAxis",t,!1),aee=K([iee],e=>{if(e)return e.map(t=>t.coordinate)}),see=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function oee(e,t){if(e==null)return{};var n,r,i=lee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},br.apply(null,arguments)}function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cee(e,t,n){return(t=uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fee=(e,t,n,r)=>{var i="";return r.forEach((a,s)=>{var l=Le(t,n,e,a);s?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},hee=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:s}=e;if(!a||!a.length||!s)return null;var l=mp({stroke:"#ccc"},rn(e));return v.createElement("g",{className:"recharts-polar-grid-angle"},a.map(c=>{var u=Le(t,n,r,c),d=Le(t,n,i,c);return v.createElement("line",br({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},x_=e=>{var{cx:t,cy:n,radius:r}=e,i=mp({stroke:"#ccc",fill:"none"},rn(e));return v.createElement("circle",br({},i,{className:Ce("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},b_=e=>{var{radius:t}=e,n=mp({stroke:"#ccc",fill:"none"},rn(e));return v.createElement("path",br({},n,{className:Ce("recharts-polar-grid-concentric-polygon",e.className),d:fee(t,e.cx,e.cy,e.polarAngles)}))},pee=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return v.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&v.createElement(x_,br({},e,{radius:r})),i&&n!=="circle"&&v.createElement(b_,br({},e,{radius:r})),t.map((a,s)=>{var l=s;return n==="circle"?v.createElement(x_,br({key:l},e,{fill:"none",radius:a})):v.createElement(b_,br({key:l},e,{fill:"none",radius:a}))}))},cD=e=>{var t,n,r,i,a,s,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:p,cy:m,innerRadius:g,outerRadius:y}=e,x=oee(e,see),b=se(To),w=mp({cx:(t=(n=b==null?void 0:b.cx)!==null&&n!==void 0?n:p)!==null&&t!==void 0?t:0,cy:(r=(i=b==null?void 0:b.cy)!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0,innerRadius:(a=(s=b==null?void 0:b.innerRadius)!==null&&s!==void 0?s:g)!==null&&a!==void 0?a:0,outerRadius:(l=(c=b==null?void 0:b.outerRadius)!==null&&c!==void 0?c:y)!==null&&l!==void 0?l:0},x),{polarAngles:S,polarRadius:_,outerRadius:k}=w,E=se(P=>ree(P,f)),I=se(P=>aee(P,h)),O=Array.isArray(S)?S:E,C=Array.isArray(_)?_:I;return k<=0||O==null||C==null?null:v.createElement("g",{className:"recharts-polar-grid"},v.createElement(pee,br({gridType:u,radialLines:d},w,{polarAngles:O,polarRadius:C})),v.createElement(hee,br({gridType:u,radialLines:d},w,{polarAngles:O,polarRadius:C})))};cD.displayName="PolarGrid";var uD={},dD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let s=1;s<n.length;s++){const l=n[s],c=r(l);c>a&&(a=c,i=l)}return i}e.maxBy=t})(dD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dD,n=Ic,r=Lh;function i(a,s){if(a!=null)return t.maxBy(Array.from(a),r.iteratee(s??n.identity))}e.maxBy=i})(uD);var mee=uD.maxBy;const gee=$n(mee);var fD={},hD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let s=1;s<n.length;s++){const l=n[s],c=r(l);c<a&&(a=c,i=l)}return i}e.minBy=t})(hD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hD,n=Ic,r=Lh;function i(a,s){if(a!=null)return t.minBy(Array.from(a),r.iteratee(s??n.identity))}e.minBy=i})(fD);var vee=fD.minBy;const yee=$n(vee);var xee={radiusAxis:{},angleAxis:{}},pD=Bn({name:"polarAxis",initialState:xee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bee,removeRadiusAxis:wee,addAngleAxis:kee,removeAngleAxis:See}=pD.actions,jee=pD.reducer,_ee=["cx","cy","angle","axisLine"],Cee=["angle","tickFormatter","stroke","tick"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(null,arguments)}function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Br(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){gp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gp(e,t,n){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mD(e,t){if(e==null)return{};var n,r,i=Oee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gD="radiusAxis";function Aee(e){var t=Ge();return v.useEffect(()=>(t(bee(e)),()=>{t(wee(e))})),null}var Pee=(e,t,n,r)=>{var{coordinate:i}=e;return Le(n,r,i,t)},Tee=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},Iee=(e,t,n,r)=>{var i=gee(r,s=>s.coordinate||0),a=yee(r,s=>s.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},Dee=(e,t)=>{var{cx:n,cy:r,angle:i,axisLine:a}=e,s=mD(e,_ee),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Le(n,r,l[0],i),u=Le(n,r,l[1],i),d=Br(Br(Br({},rn(s)),{},{fill:"none"},De(a,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return v.createElement("line",vc({className:"recharts-polar-radius-axis-line"},d))},Ree=(e,t,n)=>{var r;return v.isValidElement(e)?r=v.cloneElement(e,t):typeof e=="function"?r=e(t):r=v.createElement(Jc,vc({},t,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Mee=(e,t)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=e,s=mD(e,Cee),l=Tee(e.orientation),c=rn(s),u=De(a,!1),d=t.map((f,h)=>{var p=Pee(f,e.angle,e.cx,e.cy),m=Br(Br(Br(Br({textAnchor:l,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},p),{},{payload:f});return v.createElement(Et,vc({className:Ce("recharts-polar-radius-axis-tick",iP(a)),key:"tick-".concat(f.coordinate)},Eo(e,f,h)),Ree(a,m,r?r(f.value,h):f.value))});return v.createElement(Et,{className:"recharts-polar-radius-axis-ticks"},d)},Lee=e=>{var{radiusAxisId:t}=e,n=se(To),r=se(c=>Fo(c,"radiusAxis",t)),i=se(c=>zo(c,"radiusAxis",t,!1));if(n==null||!i||!i.length)return null;var a=Br(Br(Br({},e),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:s,axisLine:l}=a;return v.createElement(Et,{className:Ce("recharts-polar-radius-axis",gD,a.className)},l&&Dee(a,i),s&&Mee(a,i),v.createElement(AZ,Iee(a.angle,a.cx,a.cy,i),v.createElement($Z,{label:a.label}),a.children))};class vp extends v.PureComponent{render(){return v.createElement(v.Fragment,null,v.createElement(Aee,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),v.createElement(Lee,this.props))}}gp(vp,"displayName","PolarRadiusAxis");gp(vp,"axisType",gD);gp(vp,"defaultProps",ln);var $ee=["children"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(null,arguments)}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(r){yp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yp(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uee(e,t){if(e==null)return{};var n,r,i=Bee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var S_=1e-5,Wee=Math.cos(hf(45)),vD="angleAxis";function Vee(e){var t=Ge(),n=v.useMemo(()=>{var a=Uee(e,$ee);return a},[e]),r=se(a=>Po(a,n.id)),i=n===r;return v.useEffect(()=>(t(kee(n)),()=>{t(See(n))}),[t,n]),i?e.children:null}var Kee=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:s}=t,l=s||8,c=Le(n,r,i,e.coordinate),u=Le(n,r,i+(a==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},Hee=(e,t)=>{var n=Math.cos(hf(-e.coordinate));return n>S_?t==="outer"?"start":"end":n<-S_?t==="outer"?"end":"start":"middle"},qee=e=>{var t=Math.cos(hf(-e.coordinate)),n=Math.sin(hf(-e.coordinate));return Math.abs(t)<=Wee?n>0?"start":"end":"middle"},Yee=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:s}=e;if(!a)return null;var l=zr(zr({},rn(e)),{},{fill:"none"},De(a,!1));if(i==="circle")return v.createElement(Wb,xi({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:n,r}));var c=s.map(u=>Le(t,n,r,u.coordinate));return v.createElement(rD,xi({className:"recharts-polar-angle-axis-line"},l,{points:c}))},Jee=e=>{var{tick:t,tickProps:n,value:r}=e;return t?v.isValidElement(t)?v.cloneElement(t,n):typeof t=="function"?t(n):v.createElement(Jc,xi({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Gee=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=e,s=rn(e),l=De(t,!1),c=zr(zr({},s),{},{fill:"none"},De(n,!1)),u=a.map((d,f)=>{var h=Kee(d,e),p=Hee(d,e.orientation),m=qee(d),g=zr(zr(zr({},s),{},{textAnchor:p,verticalAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return v.createElement(Et,xi({className:Ce("recharts-polar-angle-axis-tick",iP(t)),key:"tick-".concat(d.coordinate)},Eo(e,d,f)),n&&v.createElement("line",xi({className:"recharts-polar-angle-axis-tick-line"},c,h)),v.createElement(Jee,{tick:t,tickProps:g,value:r?r(d.value,f):d.value}))});return v.createElement(Et,{className:"recharts-polar-angle-axis-ticks"},u)},Xee=e=>{var{angleAxisId:t}=e,n=se(To),r=se(l=>Fo(l,"angleAxis",t)),i=xn(),a=se(l=>zo(l,"angleAxis",t,i));if(n==null||!a||!a.length)return null;var s=zr(zr(zr({},e),{},{scale:r},n),{},{radius:n.outerRadius});return v.createElement(Et,{className:Ce("recharts-polar-angle-axis",vD,s.className)},v.createElement(Yee,xi({},s,{ticks:a})),v.createElement(Gee,xi({},s,{ticks:a})))};class xp extends v.PureComponent{render(){return this.props.radius<=0?null:v.createElement(Vee,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},v.createElement(Xee,this.props))}}yp(xp,"displayName","PolarAngleAxis");yp(xp,"axisType",vD);yp(xp,"defaultProps",Fr);var yD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(yD);var Qee=yD.isPlainObject;const Zee=$n(Qee);function j_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(n),!0).forEach(function(r){ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ete(e,t,n){return(t=tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pf.apply(null,arguments)}var C_=(e,t,n,r,i)=>{var a=n-r,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-a/2,",").concat(t+i),s+="L ".concat(e+n-a/2-r,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},rte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ite=e=>{var t=bn(e,rte),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=v.useRef(),[p,m]=v.useState(-1),g=v.useRef(i),y=v.useRef(a),x=v.useRef(s),b=v.useRef(n),w=v.useRef(r),S=Qh(e,"trapezoid-");if(v.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var V=h.current.getTotalLength();V&&m(V)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var _=Ce("recharts-trapezoid",l);if(!f)return v.createElement("g",null,v.createElement("path",Pf({},De(t,!0),{className:_,d:C_(n,r,i,a,s)})));var k=g.current,E=y.current,I=x.current,O=b.current,C=w.current,P="0px ".concat(p===-1?1:p,"px"),R="".concat(p,"px 0px"),F=pP(["strokeDasharray"],u,c);return v.createElement(Xh,{animationId:S,key:S,canBegin:p>0,duration:u,easing:c,isActive:f,begin:d},V=>{var J=xt(k,i,V),L=xt(E,a,V),G=xt(I,s,V),N=xt(O,n,V),D=xt(C,r,V);h.current&&(g.current=J,y.current=L,x.current=G,b.current=N,w.current=D);var j=V>0?{transition:F,strokeDasharray:R}:{strokeDasharray:P};return v.createElement("path",Pf({},De(t,!0),{className:_,d:C_(N,D,J,L,G),ref:h,style:__(__({},j),t.style)}))})},ate=["option","shapeType","propTransformer","activeClassName","isActive"];function ste(e,t){if(e==null)return{};var n,r,i=ote(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ote(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(r){lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lte(e,t,n){return(t=cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dte(e,t){return Tf(Tf({},t),e)}function fte(e,t){return e==="symbols"}function N_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return v.createElement(yP,n);case"trapezoid":return v.createElement(ite,n);case"sector":return v.createElement(wP,n);case"symbols":if(fte(t))return v.createElement(h0,n);break;default:return null}}function hte(e){return v.isValidElement(e)?e.props:e}function pte(e){var{option:t,shapeType:n,propTransformer:r=dte,activeClassName:i="recharts-active-shape",isActive:a}=e,s=ste(e,ate),l;if(v.isValidElement(t))l=v.cloneElement(t,Tf(Tf({},s),hte(t)));else if(typeof t=="function")l=t(s);else if(Zee(t)&&typeof t!="boolean"){var c=r(t,s);l=v.createElement(N_,{shapeType:n,elementProps:c})}else{var u=s;l=v.createElement(N_,{shapeType:n,elementProps:u})}return a?v.createElement(Et,{className:i},l):l}var xD=(e,t)=>{var n=Ge();return(r,i)=>a=>{e==null||e(r,i,a),n(cI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},bD=e=>{var t=Ge();return(n,r)=>i=>{e==null||e(n,r,i),t(yX())}},wD=(e,t)=>{var n=Ge();return(r,i)=>a=>{e==null||e(r,i,a),n(xX({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function kD(e){var{fn:t,args:n}=e,r=Ge(),i=xn();return v.useEffect(()=>{if(!i){var a=t(n);return r(mX(a)),()=>{r(gX(a))}}},[t,n,r,i]),null}var SD=()=>{};function mte(e){var{legendPayload:t}=e,n=Ge(),r=xn();return v.useEffect(()=>r?SD:(n(dP(t)),()=>{n(fP(t))}),[n,r,t]),null}function gte(e){var{legendPayload:t}=e,n=Ge(),r=se(Ee);return v.useEffect(()=>r!=="centric"&&r!=="radial"?SD:(n(dP(t)),()=>{n(fP(t))}),[n,r,t]),null}var Gm,vte=()=>{var[e]=v.useState(()=>sc("uid-"));return e},yte=(Gm=I2["useId".toString()])!==null&&Gm!==void 0?Gm:vte;function xte(e,t){var n=yte();return t||(e?"".concat(e,"-").concat(n):n)}var bte=v.createContext(void 0),jD=e=>{var{id:t,type:n,children:r}=e,i=xte("recharts-".concat(n),t);return v.createElement(bte.Provider,{value:i},r(i))},wte={cartesianItems:[],polarItems:[]},_D=Bn({name:"graphicalItems",initialState:wte,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=li(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=li(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=li(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:kte,replaceCartesianGraphicalItem:Ste,removeCartesianGraphicalItem:jte,addPolarGraphicalItem:_te,removePolarGraphicalItem:Cte}=_D.actions,Ete=_D.reducer;function Nte(e){var t=Ge(),n=v.useRef(null);return v.useEffect(()=>{n.current===null?t(kte(e)):n.current!==e&&t(Ste({prev:n.current,next:e})),n.current=e},[t,e]),v.useEffect(()=>()=>{n.current&&(t(jte(n.current)),n.current=null)},[t]),null}function Ote(e){var t=Ge();return v.useEffect(()=>(t(_te(e)),()=>{t(Cte(e))}),[t,e]),null}function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(n),!0).forEach(function(r){Ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ate(e,t,n){return(t=Pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pte(e){var t=Tte(e,"string");return typeof t=="symbol"?t:t+""}function Tte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ite={xAxis:{},yAxis:{},zAxis:{}},CD=Bn({name:"cartesianAxis",initialState:Ite,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=A_(A_({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Dte,removeXAxis:Rte,addYAxis:Mte,removeYAxis:Lte,addZAxis:rue,removeZAxis:iue,updateYAxisWidth:$te}=CD.actions,Fte=CD.reducer,zte=K([Nt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Ute=K([zte,ki,Si],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),ED=()=>se(Ute),Bte=()=>se(aQ);function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(r){Wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wte(e,t,n){return(t=Vte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vte(e){var t=Kte(e,"string");return typeof t=="symbol"?t:t+""}function Kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hte=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=T_(T_({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},De(i,!1)),l0(i)),l;return v.isValidElement(i)?l=v.cloneElement(i,s):typeof i=="function"?l=i(s):l=v.createElement(Wb,s),v.createElement(Et,{className:"recharts-active-dot"},l)};function qte(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=se(Za),s=Bte();if(t==null||s==null)return null;var l=t.find(c=>s.includes(c.payload));return ot(l)?null:Hte({point:l,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(n),!0).forEach(function(r){Yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yte(e,t,n){return(t=Jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jte(e){var t=Gte(e,"string");return typeof t=="symbol"?t:t+""}function Gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ND=(e,t)=>Fo(e,"radiusAxis",t),Xte=K([ND],e=>{if(e!=null)return{scale:e}}),Qte=K([Bc,ND],(e,t)=>{if(!(e==null||t==null))return If(If({},e),{},{scale:t})}),Zte=(e,t,n,r)=>zo(e,"radiusAxis",t,r),OD=(e,t,n)=>Po(e,n),AD=(e,t,n)=>Fo(e,"angleAxis",n),ene=K([OD,AD],(e,t)=>{if(!(e==null||t==null))return If(If({},e),{},{scale:t})}),tne=(e,t,n,r)=>zo(e,"angleAxis",n,r),nne=K([OD,AD,To],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),rne=(e,t,n,r,i)=>i,ine=K([Ee,Qte,Zte,ene,tne],(e,t,n,r,i)=>la(e,"radiusAxis")?cc(t,n,!1):cc(r,i,!1)),ane=K([iD,rne],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n==null?void 0:n.dataKey}}),sne=K([Xte,nne,ob,ane,ine],(e,t,n,r,i)=>{var{chartData:a,dataStartIndex:s,dataEndIndex:l}=n;if(!(e==null||t==null||a==null||i==null||r==null)){var c=a.slice(s,l+1);return mne({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:r,bandSize:i})}}),one=["id"];function lne(e,t){if(e==null)return{};var n,r,i=cne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function D_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(n),!0).forEach(function(r){Yb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yb(e,t,n){return(t=une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(null,arguments)}function Jb(e,t){return e&&e!=="none"?e:t}var fne=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:Jb(r,i),value:Kh(n,t),payload:e}]};function hne(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:Kh(a,t),hide:s,type:l,color:Jb(n,i),unit:""}}}function pne(e,t){var n;return v.isValidElement(e)?n=v.cloneElement(e,t):typeof e=="function"?n=e(t):n=v.createElement(Wb,go({},t,{className:Ce("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),n}function mne(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:s,cy:l}=n,c=!1,u=[],d=n.type!=="number"?a??0:0;r.forEach((h,p)=>{var m=wt(h,n.dataKey,p),g=wt(h,i),y=n.scale(m)+d,x=Array.isArray(g)?QI(g):g,b=ot(x)?void 0:t.scale(x);Array.isArray(g)&&g.length>=2&&(c=!0),u.push(Rt(Rt({},Le(s,l,b,y)),{},{name:m,value:g,cx:s,cy:l,radius:b,angle:y,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],m=ot(p)?void 0:t.scale(p);f.push(Rt(Rt({},h),{},{radius:m},Le(s,l,m,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function gne(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n;if(!r)return null;var a=lne(n,one),s=rn(a),l=De(r,!0),c=t.map((u,d)=>{var f=Rt(Rt(Rt({key:"dot-".concat(d),r:3},s),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return pne(r,f)});return v.createElement(Et,{className:"recharts-radar-dots"},c)}function vne(e){var{showLabels:t,points:n,children:r}=e,i=n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Rt(Rt({},s),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return v.createElement(eD,{value:t?i:null},r)}function yne(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:a,connectNulls:s}=r,l=d=>{var{onMouseEnter:f}=r;f&&f(r,d)},c=d=>{var{onMouseLeave:f}=r;f&&f(r,d)},u;return v.isValidElement(i)?u=v.cloneElement(i,Rt(Rt({},r),{},{points:t})):typeof i=="function"?u=i(Rt(Rt({},r),{},{points:t})):u=v.createElement(rD,go({},De(r,!0),{onMouseEnter:l,onMouseLeave:c,points:t,baseLinePoints:a?n:null,connectNulls:s})),v.createElement(Et,{className:"recharts-radar-polygon"},u,v.createElement(gne,{props:r,points:t}))}var R_=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return a?Rt(Rt({},r),{},{x:xt(a.x,r.x,n),y:xt(a.y,r.y,n)}):Rt(Rt({},r),{},{x:xt(r.cx,r.x,n),y:xt(r.cy,r.y,n)})};function xne(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:a,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:u,onAnimationEnd:d,onAnimationStart:f}=t,h=n.current,p=r.current,m=h&&h.length/i.length,g=p&&p.length/a.length,y=Qh(t,"recharts-radar-"),[x,b]=v.useState(!1),w=!x,S=v.useCallback(()=>{typeof d=="function"&&d(),b(!1)},[d]),_=v.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return v.createElement(vne,{showLabels:w,points:i},v.createElement(Xh,{animationId:y,begin:l,duration:c,isActive:s,easing:u,key:"radar-".concat(y),onAnimationEnd:S,onAnimationStart:_},k=>{var E=k===1?i:i.map(R_(h,m,k)),I=k===1?a:a==null?void 0:a.map(R_(p,g,k));return k>0&&(n.current=E,r.current=I),v.createElement(yne,{points:E,baseLinePoints:I,props:t})}),v.createElement(nD,{label:t.label}),t.children)}function bne(e){var t=v.useRef(void 0),n=v.useRef(void 0);return v.createElement(xne,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var wne={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!ls.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class kne extends v.PureComponent{render(){var{hide:t,className:n,points:r}=this.props;if(t||r==null)return null;var i=Ce("recharts-radar",n);return v.createElement(v.Fragment,null,v.createElement(Et,{className:i},v.createElement(bne,this.props)),v.createElement(qte,{points:r,mainColor:Jb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Sne(e){var t=xn(),n=se(r=>sne(r,e.radiusAxisId,e.angleAxisId,t,e.id));return v.createElement(kne,go({},e,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class Gb extends v.PureComponent{render(){return v.createElement(jD,{id:this.props.id,type:"radar"},t=>v.createElement(v.Fragment,null,v.createElement(Ote,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),v.createElement(gte,{legendPayload:fne(this.props)}),v.createElement(kD,{fn:hne,args:this.props}),v.createElement(Sne,go({},this.props,{id:t}))))}}Yb(Gb,"displayName","Radar");Yb(Gb,"defaultProps",wne);var jne=!0,Xm="Invariant failed";function _ne(e,t){if(!e){if(jne)throw new Error(Xm);var n=typeof t=="function"?t():t,r=n?"".concat(Xm,": ").concat(n):Xm;throw new Error(r)}}var Cne=["x","y"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(null,arguments)}function M_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ane(e,t){if(e==null)return{};var n,r,i=Pne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tne(e,t){var{x:n,y:r}=e,i=Ane(e,Cne),a="".concat(n),s=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ll(ll(ll(ll(ll({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function Xb(e){return v.createElement(pte,gy({shapeType:"rectangle",propTransformer:Tne,activeClassName:"recharts-active-bar"},e))}var Ine=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(fe(t))return t;var a=fe(r)||ot(r);return a?t(r,i):(a||_ne(!1),n)}},Dne={},PD=Bn({name:"errorBars",initialState:Dne,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});PD.actions;var Rne=PD.reducer,Mne=["children"];function Lne(e,t){if(e==null)return{};var n,r,i=$ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zne=v.createContext(Fne);function Une(e){var{children:t}=e,n=Lne(e,Mne);return v.createElement(zne.Provider,{value:n},t)}function TD(e,t){var n,r,i=se(u=>_i(u,e)),a=se(u=>Ci(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:_n.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function Bne(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=ED(),{needClipX:a,needClipY:s,needClip:l}=TD(t,n);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(r)},v.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var Wne=["onMouseEnter","onMouseLeave","onClick"],Vne=["value","background","tooltipPosition"],Kne=["id"],Hne=["onMouseEnter","onClick","onMouseLeave"];function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ta.apply(null,arguments)}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(n),!0).forEach(function(r){qne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qne(e,t,n){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yne(e){var t=Jne(e,"string");return typeof t=="symbol"?t:t+""}function Jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Df(e,t){if(e==null)return{};var n,r,i=Gne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Kh(n,t),payload:e}]};function Qne(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:s,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Kh(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:l}}}function Zne(e){var t=se(Za),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=a,u=Df(a,Wne),d=xD(s,r),f=bD(l),h=wD(c,r);if(!i||n==null)return null;var p=De(i,!1);return v.createElement(v.Fragment,null,n.map((m,g)=>{var{value:y,background:x,tooltipPosition:b}=m,w=Df(m,Vne);if(!x)return null;var S=d(m,g),_=f(m,g),k=h(m,g),E=Xt(Xt(Xt(Xt(Xt({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},x),p),Eo(u,m,g)),{},{onMouseEnter:S,onMouseLeave:_,onClick:k,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return v.createElement(Xb,ta({key:"background-bar-".concat(E.index)},E))}))}function ere(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var s={x:a.x,y:a.y,width:a.width,height:a.height};return Xt(Xt({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return v.createElement(eD,{value:t?i:void 0},n)}function tre(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:s}=e,l=se(Za),c=se(kI),u=n&&String(a)===l&&(c==null||s===c),d=u?n:t;return v.createElement(Xb,ta({},r,i,{isActive:u,option:d,index:a,dataKey:s}))}function nre(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return v.createElement(Xb,ta({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function rre(e){var{data:t,props:n}=e,r=rn(n),i=Df(r,Kne),{shape:a,dataKey:s,activeBar:l}=n,{onMouseEnter:c,onClick:u,onMouseLeave:d}=n,f=Df(n,Hne),h=xD(c,s),p=bD(d),m=wD(u,s);return t?v.createElement(v.Fragment,null,t.map((g,y)=>v.createElement(Et,ta({className:"recharts-bar-rectangle"},Eo(f,g,y),{onMouseEnter:h(g,y),onMouseLeave:p(g,y),onClick:m(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),l?v.createElement(tre,{shape:a,activeBar:l,baseProps:i,entry:g,index:y,dataKey:s}):v.createElement(nre,{shape:a,baseProps:i,entry:g,index:y,dataKey:s})))):null}function ire(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=n.current,h=Qh(t,"recharts-bar-"),[p,m]=v.useState(!1),g=!p,y=v.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),x=v.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return v.createElement(ere,{showLabels:g,rects:r},v.createElement(Xh,{animationId:h,begin:s,duration:l,isActive:a,easing:c,onAnimationEnd:y,onAnimationStart:x,key:h},b=>{var w=b===1?r:r==null?void 0:r.map((S,_)=>{var k=f&&f[_];if(k)return Xt(Xt({},S),{},{x:xt(k.x,S.x,b),y:xt(k.y,S.y,b),width:xt(k.width,S.width,b),height:xt(k.height,S.height,b)});if(i==="horizontal"){var E=xt(0,S.height,b);return Xt(Xt({},S),{},{y:S.y+S.height-E,height:E})}var I=xt(0,S.width,b);return Xt(Xt({},S),{},{width:I})});return b>0&&(n.current=w??null),w==null?null:v.createElement(Et,null,v.createElement(rre,{props:t,data:w}))}),v.createElement(nD,{label:t.label}),t.children)}function are(e){var t=v.useRef(null);return v.createElement(ire,{previousRectanglesRef:t,props:e})}var ID=0,sre=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:wt(e,t)}};class ore extends v.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=Ce("recharts-bar",i),f=u;return v.createElement(Et,{className:d,id:u},l&&v.createElement("defs",null,v.createElement(Bne,{clipPathId:f,xAxisId:a,yAxisId:s})),v.createElement(Et,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},v.createElement(Zne,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),v.createElement(are,this.props)))}}var lre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ls.isSsr,legendType:"rect",minPointSize:ID,xAxisId:0,yAxisId:0};function cre(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=TD(t,n),h=M0(),p=xn(),m=OW(e.children,LI),g=se(b=>Lre(b,t,n,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var y,x=g==null?void 0:g[0];return x==null||x.height==null||x.width==null?y=0:y=h==="vertical"?x.height/2:x.width/2,v.createElement(Une,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:sre,errorBarOffset:y},v.createElement(ore,ta({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function ure(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?l:s,y=d?g.scale.domain():null,x=DK({numericAxis:g});return f.map((b,w)=>{var S,_,k,E,I,O;d?S=NK(d[w],y):(S=wt(b,n),Array.isArray(S)||(S=[x,S]));var C=Ine(r,ID)(S[1],w);if(t==="horizontal"){var P,[R,F]=[l.scale(S[0]),l.scale(S[1])];_=OS({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:b,index:w}),k=(P=F??R)!==null&&P!==void 0?P:void 0,E=i.size;var V=R-F;if(I=Rn(V)?0:V,O={x:_,y:h.top,width:E,height:h.height},Math.abs(C)>0&&Math.abs(I)<Math.abs(C)){var J=fn(I||C)*(Math.abs(C)-Math.abs(I));k-=J,I+=J}}else{var[L,G]=[s.scale(S[0]),s.scale(S[1])];if(_=L,k=OS({axis:l,ticks:u,bandSize:a,offset:i.offset,entry:b,index:w}),E=G-L,I=i.size,O={x:h.left,y:k,width:h.width,height:I},Math.abs(C)>0&&Math.abs(E)<Math.abs(C)){var N=fn(E||C)*(Math.abs(C)-Math.abs(E));E+=N}}if(_==null||k==null||E==null||I==null)return null;var D=Xt(Xt({},b),{},{x:_,y:k,width:E,height:I,value:d?S:S[1],payload:b,background:O,tooltipPosition:{x:_+E/2,y:k+I/2},parentViewBox:m},p&&p[w]&&p[w].props);return D}).filter(Boolean)}function dre(e){var t=bn(e,lre),n=xn();return v.createElement(jD,{id:t.id,type:"bar"},r=>v.createElement(v.Fragment,null,v.createElement(mte,{legendPayload:Xne(t)}),v.createElement(kD,{fn:Qne,args:t}),v.createElement(Nte,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:IK(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(cre,ta({},t,{id:r}))))}var ud=v.memo(dre);ud.displayName="Bar";function $_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(n),!0).forEach(function(r){fre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fre(e,t,n){return(t=hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hre(e){var t=pre(e,"string");return typeof t=="symbol"?t:t+""}function pre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mre=(e,t)=>t,gre=(e,t,n)=>n,vre=(e,t,n,r)=>r,yre=(e,t,n,r,i)=>i,Gc=K([yb,yre],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),xre=K([Gc],e=>e==null?void 0:e.maxBarSize),bre=(e,t,n,r,i,a)=>a,F_=(e,t,n)=>{var r=n??e;if(!ot(r))return Cr(r,t,0)},wre=K([Ee,yb,mre,gre,vre],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),kre=(e,t,n,r)=>{var i=Ee(e);return i==="horizontal"?cy(e,"yAxis",n,r):cy(e,"xAxis",t,r)},Sre=(e,t,n)=>{var r=Ee(e);return r==="horizontal"?Bj(e,"xAxis",t):Bj(e,"yAxis",n)},jre=(e,t,n)=>{var r={},i=e.filter(lp),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(s).map(u=>{var[d,f]=u,h=f.map(m=>m.dataKey),p=F_(t,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),c=a.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=F_(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},_re=K([wre,pG,Sre],jre),Cre=(e,t,n,r,i)=>{var a,s,l=Gc(e,t,n,r,i);if(l!=null){var c=Ee(e),u=bT(e),{maxBarSize:d}=l,f=ot(d)?u:d,h,p;return c==="horizontal"?(h=mo(e,"xAxis",t,r),p=po(e,"xAxis",t,r)):(h=mo(e,"yAxis",n,r),p=po(e,"yAxis",n,r)),(a=(s=cc(h,p,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},DD=(e,t,n,r)=>{var i=Ee(e),a,s;return i==="horizontal"?(a=mo(e,"xAxis",t,r),s=po(e,"xAxis",t,r)):(a=mo(e,"yAxis",n,r),s=po(e,"yAxis",n,r)),cc(a,s)};function Ere(e,t,n,r,i){var a=r.length;if(!(a<1)){var s=Cr(e,n,0,!0),l,c=[];if(Ln(r[0].barSize)){var u=!1,d=n/a,f=r.reduce((x,b)=>x+(b.barSize||0),0);f+=(a-1)*s,f>=n&&(f-=(a-1)*s,s=0),f>=n&&d>0&&(u=!0,d*=.9,f=a*d);var h=(n-f)/2>>0,p={offset:h-s,size:0};l=r.reduce((x,b)=>{var w,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+s,size:u?d:(w=b.barSize)!==null&&w!==void 0?w:0}},_=[...x,S];return p=_[_.length-1].position,_},c)}else{var m=Cr(t,n,0,!0);n-2*m-(a-1)*s<=0&&(s=0);var g=(n-2*m-(a-1)*s)/a;g>1&&(g>>=0);var y=Ln(i)?Math.min(g,i):g;l=r.reduce((x,b,w)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+s)*w+(g-y)/2,size:y}}],c)}return l}}var Nre=(e,t,n,r,i,a,s)=>{var l=ot(s)?t:s,c=Ere(n,r,i!==a?i:a,e,l);return i!==a&&c!=null&&(c=c.map(u=>Vu(Vu({},u),{},{position:Vu(Vu({},u.position),{},{offset:u.position.offset-i/2})}))),c},Ore=K([_re,bT,hG,wT,Cre,DD,xre],Nre),Are=(e,t,n,r)=>mo(e,"xAxis",t,r),Pre=(e,t,n,r)=>mo(e,"yAxis",n,r),Tre=(e,t,n,r)=>po(e,"xAxis",t,r),Ire=(e,t,n,r)=>po(e,"yAxis",n,r),Dre=K([Ore,Gc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Rre=(e,t)=>{var n=mb(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===n)}}}},Mre=K([kre,Gc],Rre),Lre=K([Nt,T0,Are,Pre,Tre,Ire,Dre,Ee,lb,DD,Mre,Gc,bre],(e,t,n,r,i,a,s,l,c,u,d,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=c;if(!(f==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||a==null||u==null)){var{data:y}=f,x;if(y!=null&&y.length>0?x=y:x=p==null?void 0:p.slice(m,g+1),x!=null)return ure({layout:l,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:x,offset:e,cells:h})}}),RD=e=>{var{chartData:t}=e,n=Ge(),r=xn();return v.useEffect(()=>r?()=>{}:(n(Xj(t)),()=>{n(Xj(void 0))}),[t,n,r]),null},z_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MD=Bn({name:"brush",initialState:z_,reducers:{setBrushSettings(e,t){return t.payload==null?z_:t.payload}}});MD.actions;var $re=MD.reducer;function Fre(e,t,n){return(t=zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zre(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qb{static create(t){return new Qb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Fre(Qb,"EPS",1e-4);function Bre(e){return(e%180+180)%180}var Wre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bre(i),s=a*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},Vre={dots:[],areas:[],lines:[]},LD=Bn({name:"referenceElements",initialState:Vre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=li(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=li(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=li(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});LD.actions;var Kre=LD.reducer,Hre=v.createContext(void 0),qre=e=>{var{children:t}=e,[n]=v.useState("".concat(sc("recharts"),"-clip")),r=ED();if(r==null)return null;var{x:i,y:a,width:s,height:l}=r;return v.createElement(Hre.Provider,{value:n},v.createElement("defs",null,v.createElement("clipPath",{id:n},v.createElement("rect",{x:i,y:a,height:l,width:s}))),t)};function vo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function $D(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function Yre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Wre(r,n)}function Jre(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:l}=e;return t===1?{start:r?i:a,end:r?i+s:a+l}:{start:r?i+s:a+l,end:r?i:a}}function Rf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Gre(e,t){return $D(e,t+1)}function Xre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var m=r==null?void 0:r[c];if(m===void 0)return{v:$D(r,u)};var g=c,y,x=()=>(y===void 0&&(y=n(m,g)),y),b=m.coordinate,w=c===0||Rf(e,b,x,d,l);w||(c=0,d=s,u+=1),w&&(d=b+e*(x()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function U_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(n),!0).forEach(function(r){Qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qre(e,t,n){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tie(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:l}=t,{end:c}=t,u=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===s-1){var y=e*(p.coordinate+e*g()/2-c);a[h]=p=zt(zt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=zt(zt({},p),{},{tickCoord:p.coordinate});var x=Rf(e,p.tickCoord,g,l,c);x&&(c=p.tickCoord-e*(g()/2+i),a[h]=zt(zt({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function nie(e,t,n,r,i,a){var s=(r||[]).slice(),l=s.length,{start:c,end:u}=t;if(a){var d=r[l-1],f=n(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=zt(zt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Rf(e,d.tickCoord,()=>f,c,u);p&&(u=d.tickCoord-e*(f/2+i),s[l-1]=zt(zt({},d),{},{isShow:!0}))}for(var m=a?l-1:l,g=function(b){var w=s[b],S,_=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var k=e*(w.coordinate-e*_()/2-c);s[b]=w=zt(zt({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else s[b]=w=zt(zt({},w),{},{tickCoord:w.coordinate});var E=Rf(e,w.tickCoord,_,c,u);E&&(c=w.tickCoord+e*(_()/2+i),s[b]=zt(zt({},w),{},{isShow:!0}))},y=0;y<m;y++)g(y);return s}function Zb(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(fe(c)||ls.isSsr){var h;return(h=Gre(i,fe(c)?c:0))!==null&&h!==void 0?h:[]}var p=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Dl(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var _=typeof u=="function"?u(w.value,S):w.value;return m==="width"?Yre(Dl(_,{fontSize:t,letterSpacing:n}),g,f):Dl(_,{fontSize:t,letterSpacing:n})[m]},x=i.length>=2?fn(i[1].coordinate-i[0].coordinate):1,b=Jre(a,x,m);return c==="equidistantPreserveStart"?Xre(x,b,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?p=nie(x,b,y,i,s,c==="preserveStartEnd"):p=tie(x,b,y,i,s),p.filter(w=>w.isShow))}var rie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+a,u=s+c+l+(n?r:0);return Math.round(u)}return 0},iie=["axisLine","width","height","className","hide","ticks"],aie=["viewBox"],sie=["viewBox"];function vy(e,t){if(e==null)return{};var n,r,i=oie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function es(){return es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},es.apply(null,arguments)}function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(n),!0).forEach(function(r){lie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lie(e,t,n){return(t=cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){var t=uie(e,"string");return typeof t=="symbol"?t:t+""}function uie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ew={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function die(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=yt(yt(yt({},c),De(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=yt(yt({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=yt(yt({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return v.createElement("line",es({},u,{className:Ce("recharts-cartesian-axis-line",ro(l,"className"))}))}function fie(e,t,n,r,i,a,s,l,c){var u,d,f,h,p,m,g=l?-1:1,y=e.tickSize||s,x=fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=n+ +!l*i,f=h-g*y,m=f-g*c,p=x;break;case"left":f=h=e.coordinate,d=t+ +!l*r,u=d-g*y,p=u-g*c,m=x;break;case"right":f=h=e.coordinate,d=t+ +l*r,u=d+g*y,p=u+g*c,m=x;break;default:u=d=e.coordinate,h=n+ +l*i,f=h+g*y,m=f+g*c,p=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:p,y:m}}}function hie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mie(e){var{option:t,tickProps:n,value:r}=e,i,a=Ce(n.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,yt(yt({},n),{},{className:a}));else if(typeof t=="function")i=t(yt(yt({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ce(s,t==null?void 0:t.className)),i=v.createElement(Jc,es({},n,{className:s}),r)}return i}function gie(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:p,height:m,tickSize:g,tickMargin:y,fontSize:x,letterSpacing:b,getTicksConfig:w,events:S}=e,_=Zb(yt(yt({},w),{},{ticks:t}),x,b),k=hie(u,d),E=pie(u,d),I=rn(w),O=De(n,!1),C=yt(yt({},I),{},{fill:"none"},De(r,!1)),P=_.map((R,F)=>{var{line:V,tick:J}=fie(R,f,h,p,m,u,g,d,y),L=yt(yt(yt(yt({textAnchor:k,verticalAnchor:E},I),{},{stroke:"none",fill:i},O),J),{},{index:F,payload:R,visibleTicksCount:_.length,tickFormatter:a,padding:l},c);return v.createElement(Et,es({className:"recharts-cartesian-axis-tick",key:"tick-".concat(R.value,"-").concat(R.coordinate,"-").concat(R.tickCoord)},Eo(S,R,F)),r&&v.createElement("line",es({},C,V,{className:Ce("recharts-cartesian-axis-tick-line",ro(r,"className"))})),n&&v.createElement(mie,{option:n,tickProps:L,value:"".concat(typeof a=="function"?a(R.value,F):R.value).concat(s||"")}))});return P.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var vie=v.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:l}=e,c=vy(e,iie),[u,d]=v.useState(""),[f,h]=v.useState(""),p=v.useRef([]);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return rie({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=v.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(y);var x=y[0];if(x){var b=window.getComputedStyle(x),w=b.fontSize,S=b.letterSpacing;(w!==u||S!==f)&&(d(w),h(S))}}},[u,f]);return s||r!=null&&r<=0||i!=null&&i<=0?null:v.createElement(Et,{className:Ce("recharts-cartesian-axis",a),ref:m},v.createElement(die,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:rn(e)}),v.createElement(gie,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),v.createElement(OZ,{x:e.x,y:e.y,width:e.width,height:e.height},v.createElement(LZ,{label:e.label}),e.children))}),yie=v.memo(vie,(e,t)=>{var{viewBox:n}=e,r=vy(e,aie),{viewBox:i}=t,a=vy(t,sie);return vo(n,i)&&vo(r,a)}),tw=v.forwardRef((e,t)=>{var n=bn(e,ew);return v.createElement(yie,es({},n,{ref:t}))});tw.displayName="CartesianAxis";var xie=["x1","y1","x2","y2","key"],bie=["offset"],wie=["xAxisId","yAxisId"],kie=["xAxisId","yAxisId"];function W_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(n),!0).forEach(function(r){Sie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sie(e,t,n){return(t=jie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(null,arguments)}function Mf(e,t){if(e==null)return{};var n,r,i=Cie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Eie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:l}=e;return v.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function FD(e,t){var n;if(v.isValidElement(e))n=v.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:s,key:l}=t,c=Mf(t,xie),u=rn(c),d=Mf(u,bie);n=v.createElement("line",Ia({},d,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function Nie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=Mf(e,wie),s=i.map((l,c)=>{var u=Bt(Bt({},a),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return FD(r,u)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Oie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=Mf(e,kie),s=i.map((l,c)=>{var u=Bt(Bt({},a),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return FD(r,u)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Aie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Pie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var p=!u[h+1],m=p?i+s-f:u[h+1]-f;if(m<=0)return null;var g=h%n.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Tie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return sP(Zb(Bt(Bt(Bt({},ew),n),{},{ticks:oP(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Iie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return sP(Zb(Bt(Bt(Bt({},ew),n),{},{ticks:oP(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Die={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function yy(e){var t=D0(),n=R0(),r=cP(),i=Bt(Bt({},bn(e,Die)),{},{x:fe(e.x)?e.x:r.left,y:fe(e.y)?e.y:r.top,width:fe(e.width)?e.width:r.width,height:fe(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=xn(),g=se(O=>Wj(O,"xAxis",a,m)),y=se(O=>Wj(O,"yAxis",s,m));if(!fe(u)||u<=0||!fe(d)||d<=0||!fe(l)||l!==+l||!fe(c)||c!==+c)return null;var x=i.verticalCoordinatesGenerator||Tie,b=i.horizontalCoordinatesGenerator||Iie,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var _=h&&h.length,k=b({yAxis:y?Bt(Bt({},y),{},{ticks:_?h:y.ticks}):void 0,width:t,height:n,offset:r},_?!0:f);Il(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof x=="function"){var E=p&&p.length,I=x({xAxis:g?Bt(Bt({},g),{},{ticks:E?p:g.ticks}):void 0,width:t,height:n,offset:r},E?!0:f);Il(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(S=I)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(Eie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(Aie,Ia({},i,{horizontalPoints:w})),v.createElement(Pie,Ia({},i,{verticalPoints:S})),v.createElement(Nie,Ia({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),v.createElement(Oie,Ia({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y})))}yy.displayName="CartesianGrid";var Rie=["dangerouslySetInnerHTML","ticks"],Mie=["id"],Lie=["domain"],$ie=["domain"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}function Lf(e,t){if(e==null)return{};var n,r,i=Fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zie(e){var t=Ge();return v.useEffect(()=>(t(Dte(e)),()=>{t(Rte(e))}),[e,t]),null}var Uie=e=>{var{xAxisId:t,className:n}=e,r=se(T0),i=xn(),a="xAxis",s=se(p=>Mo(p,a,t,i)),l=se(p=>nI(p,a,t,i)),c=se(p=>QT(p,t)),u=se(p=>oX(p,t)),d=se(p=>OT(p,t));if(c==null||u==null||d==null)return null;var f=Lf(e,Rie),h=Lf(d,Mie);return v.createElement(tw,xy({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Ce("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l}))},Bie={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,height:jn.height,hide:!1,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tickCount:jn.tickCount,type:jn.type,xAxisId:0},Wie=e=>{var t,n,r,i,a,s=bn(e,Bie);return v.createElement(v.Fragment,null,v.createElement(zie,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(Uie,s))},Vie=(e,t)=>{var{domain:n}=e,r=Lf(e,Lie),{domain:i}=t,a=Lf(t,$ie);return vo(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vo({domain:n},{domain:i}):!1},by=v.memo(Wie,Vie);by.displayName="XAxis";var Kie=["dangerouslySetInnerHTML","ticks"],Hie=["id"],qie=["domain"],Yie=["domain"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}function $f(e,t){if(e==null)return{};var n,r,i=Jie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gie(e){var t=Ge();return v.useEffect(()=>(t(Mte(e)),()=>{t(Lte(e))}),[e,t]),null}var Xie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=v.useRef(null),s=v.useRef(null),l=se(T0),c=xn(),u=Ge(),d="yAxis",f=se(b=>Mo(b,d,t,c)),h=se(b=>ZT(b,t)),p=se(b=>cX(b,t)),m=se(b=>nI(b,d,t,c)),g=se(b=>AT(b,t));if(v.useLayoutEffect(()=>{if(!(r!=="auto"||!h||Bb(i)||v.isValidElement(i)||g==null)){var b=a.current;if(b){var w=b.getCalculatedWidth();Math.round(h.width)!==Math.round(w)&&u($te({id:t,width:w}))}}},[m,h,u,i,t,r,g]),h==null||p==null||g==null)return null;var y=$f(e,Kie),x=$f(g,Hie);return v.createElement(tw,wy({},y,x,{ref:a,labelRef:s,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Ce("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:m}))},Qie={allowDataOverflow:_n.allowDataOverflow,allowDecimals:_n.allowDecimals,allowDuplicatedCategory:_n.allowDuplicatedCategory,hide:!1,mirror:_n.mirror,orientation:_n.orientation,padding:_n.padding,reversed:_n.reversed,scale:_n.scale,tickCount:_n.tickCount,type:_n.type,width:_n.width,yAxisId:0},Zie=e=>{var t,n,r,i,a,s=bn(e,Qie);return v.createElement(v.Fragment,null,v.createElement(Gie,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(n=s.includeHidden)!==null&&n!==void 0?n:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(r=s.angle)!==null&&r!==void 0?r:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(Xie,s))},eae=(e,t)=>{var{domain:n}=e,r=$f(e,qie),{domain:i}=t,a=$f(t,Yie);return vo(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vo({domain:n},{domain:i}):!1},ky=v.memo(Zie,eae);ky.displayName="YAxis";var tae={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=v;function nae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rae=typeof Object.is=="function"?Object.is:nae,iae=Xc.useSyncExternalStore,aae=Xc.useRef,sae=Xc.useEffect,oae=Xc.useMemo,lae=Xc.useDebugValue;tae.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=aae(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=oae(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&s.hasValue){var m=s.value;if(i(m,p))return f=m}return f=p}if(m=f,rae(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var l=iae(e,a[0],a[1]);return sae(function(){s.hasValue=!0,s.value=l},[l]),lae(l),l};function cae(e){e()}function uae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var V_={notify(){},get:()=>[]};function dae(e,t){let n,r=V_,i=0,a=!1;function s(g){d();const y=r.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function l(){r.notify()}function c(){m.onStateChange&&m.onStateChange()}function u(){return a}function d(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=uae())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=V_)}function h(){a||(a=!0,d())}function p(){a&&(a=!1,f())}const m={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var fae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hae=fae(),pae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mae=pae(),gae=()=>hae||mae?v.useLayoutEffect:v.useEffect,vae=gae(),Qm=Symbol.for("react-redux-context"),Zm=typeof globalThis<"u"?globalThis:{};function yae(){if(!v.createContext)return{};const e=Zm[Qm]??(Zm[Qm]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var xae=yae();function bae(e){const{children:t,context:n,serverState:r,store:i}=e,a=v.useMemo(()=>{const c=dae(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=v.useMemo(()=>i.getState(),[i]);vae(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=n||xae;return v.createElement(l.Provider,{value:a},t)}var wae=bae,kae=(e,t)=>t,nw=K([kae,Ee,To,St,yI,Ei,fQ,Nt],vQ),rw=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},zD=ar("mouseClick"),UD=Rc();UD.startListening({actionCreator:zD,effect:(e,t)=>{var n=e.payload,r=nw(t.getState(),rw(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(bX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Sy=ar("mouseMove"),BD=Rc();BD.startListening({actionCreator:Sy,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Ib(r,r.tooltip.settings.shared),a=nw(r,rw(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(dI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(uI()))}});var K_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},WD=Bn({name:"rootProps",initialState:K_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:K_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Sae=WD.reducer,{updateOptions:jae}=WD.actions,VD=Bn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:_ae}=VD.actions,Cae=VD.reducer,KD=ar("keyDown"),HD=ar("focus"),iw=Rc();iw.startListening({actionCreator:KD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Db(i,$o(n))),l=Ei(n);if(a==="Enter"){var c=Of(n,"axis","hover",String(i.index));t.dispatch(dy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=dX(n),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var p=Of(n,"axis","hover",String(h));t.dispatch(dy({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});iw.startListening({actionCreator:HD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=Of(n,"axis","hover",String(a));t.dispatch(dy({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Yn=ar("externalEvent"),qD=Rc();qD.startListening({actionCreator:Yn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:nQ(n),activeDataKey:kI(n),activeIndex:Za(n),activeLabel:wI(n),activeTooltipIndex:Za(n),isTooltipActive:rQ(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Eae=K([Lo],e=>e.tooltipItemPayloads),Nae=K([Eae,qc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),YD=ar("touchMove"),JD=Rc();JD.startListening({actionCreator:YD,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Ib(r,r.tooltip.settings.shared);if(i==="axis"){var a=nw(r,rw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(dI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(BK),d=(s=c.getAttribute(WK))!==null&&s!==void 0?s:void 0,f=Nae(t.getState(),u,d);t.dispatch(cI({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Oae=RA({brush:$re,cartesianAxis:Fte,chartData:TQ,errorBars:Rne,graphicalItems:Ete,layout:dK,legend:iH,options:EQ,polarAxis:jee,polarOptions:Cae,referenceElements:Kre,rootProps:Sae,tooltip:wX}),Aae=function(t){return M7({reducer:Oae,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([UD.middleware,BD.middleware,iw.middleware,qD.middleware,JD.middleware]),devTools:ls.devToolsEnabled})};function GD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=xn(),a=v.useRef(null);if(i)return n;a.current==null&&(a.current=Aae(t));var s=j0;return v.createElement(wae,{context:s,store:a.current},n)}function XD(e){var{layout:t,width:n,height:r,margin:i}=e,a=Ge(),s=xn();return v.useEffect(()=>{s||(a(lK(t)),a(cK({width:n,height:r})),a(oK(i)))},[a,s,t,n,r,i]),null}function QD(e){var t=Ge();return v.useEffect(()=>{t(jae(e))},[t,e]),null}var Pae=["children"];function Tae(e,t){if(e==null)return{};var n,r,i=Iae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ff(){return Ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ff.apply(null,arguments)}var Dae={width:"100%",height:"100%"},Rae=v.forwardRef((e,t)=>{var n=D0(),r=R0(),i=hP();if(!lo(n)||!lo(r))return null;var{children:a,otherAttributes:s,title:l,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0,v.createElement(c0,Ff({},s,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:Dae,ref:t}),a)}),Mae=e=>{var{children:t}=e,n=se(Jh);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return v.createElement(c0,{width:r,height:i,x:s,y:a},t)},H_=v.forwardRef((e,t)=>{var{children:n}=e,r=Tae(e,Pae),i=xn();return i?v.createElement(Mae,null,n):v.createElement(Rae,Ff({ref:t},r),n)});function Lae(){var e=Ge(),[t,n]=v.useState(null),r=se(UK);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Ln(a)&&a!==r&&e(uK(a))}},[t,e,r]),n}function q_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(n),!0).forEach(function(r){Fae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fae(e,t,n){return(t=zae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zae(e){var t=Uae(e,"string");return typeof t=="symbol"?t:t+""}function Uae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bae=v.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:x}=e,b=Ge(),[w,S]=v.useState(null),[_,k]=v.useState(null);UQ();var E=Lae(),I=v.useCallback(W=>{E(W),typeof t=="function"&&t(W),S(W),k(W)},[E,t,S,k]),O=v.useCallback(W=>{b(zD(W)),b(Yn({handler:a,reactEvent:W}))},[b,a]),C=v.useCallback(W=>{b(Sy(W)),b(Yn({handler:u,reactEvent:W}))},[b,u]),P=v.useCallback(W=>{b(uI()),b(Yn({handler:d,reactEvent:W}))},[b,d]),R=v.useCallback(W=>{b(Sy(W)),b(Yn({handler:f,reactEvent:W}))},[b,f]),F=v.useCallback(()=>{b(HD())},[b]),V=v.useCallback(W=>{b(KD(W.key))},[b]),J=v.useCallback(W=>{b(Yn({handler:s,reactEvent:W}))},[b,s]),L=v.useCallback(W=>{b(Yn({handler:l,reactEvent:W}))},[b,l]),G=v.useCallback(W=>{b(Yn({handler:c,reactEvent:W}))},[b,c]),N=v.useCallback(W=>{b(Yn({handler:h,reactEvent:W}))},[b,h]),D=v.useCallback(W=>{b(Yn({handler:g,reactEvent:W}))},[b,g]),j=v.useCallback(W=>{b(YD(W)),b(Yn({handler:m,reactEvent:W}))},[b,m]),z=v.useCallback(W=>{b(Yn({handler:p,reactEvent:W}))},[b,p]);return v.createElement(NI.Provider,{value:w},v.createElement(BO.Provider,{value:_},v.createElement("div",{className:Ce("recharts-wrapper",r),style:$ae({position:"relative",cursor:"default",width:x,height:i},y),onClick:O,onContextMenu:J,onDoubleClick:L,onFocus:F,onKeyDown:V,onMouseDown:G,onMouseEnter:C,onMouseLeave:P,onMouseMove:R,onMouseUp:N,onTouchEnd:z,onTouchMove:j,onTouchStart:D,ref:I},n)))}),Wae=["children","className","width","height","style","compact","title","desc"];function Vae(e,t){if(e==null)return{};var n,r,i=Kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZD=v.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:s,compact:l,title:c,desc:u}=e,d=Vae(e,Wae),f=rn(d);return l?v.createElement(H_,{otherAttributes:f,title:c,desc:u},n):v.createElement(Bae,{className:r,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(H_,{otherAttributes:f,title:c,desc:u,ref:t},v.createElement(qre,null,n)))}),Hae=["width","height"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function qae(e,t){if(e==null)return{};var n,r,i=Yae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jae={top:5,right:5,bottom:5,left:5},Gae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jae,reverseStackOrder:!1,syncMethod:"index"},Xae=v.forwardRef(function(t,n){var r,i=bn(t.categoricalChartProps,Gae),{width:a,height:s}=i,l=qae(i,Hae);if(!lo(a)||!lo(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(GD,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:c},v.createElement(RD,{chartData:h.data}),v.createElement(XD,{width:a,height:s,layout:i.layout,margin:i.margin}),v.createElement(QD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(ZD,jy({},l,{width:a,height:s,ref:n})))}),Qae=["axis","item"],Y_=v.forwardRef((e,t)=>v.createElement(Xae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qae,tooltipPayloadSearcher:AI,categoricalChartProps:e,ref:t}));function Zae(e){var t=Ge();return v.useEffect(()=>{t(_ae(e))},[t,e]),null}var ese=["width","height","layout"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function tse(e,t){if(e==null)return{};var n,r,i=nse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rse={top:5,right:5,bottom:5,left:5},ise={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rse,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},ase=v.forwardRef(function(t,n){var r,i=bn(t.categoricalChartProps,ise),{width:a,height:s,layout:l}=i,c=tse(i,ese);if(!lo(a)||!lo(s))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return v.createElement(GD,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},v.createElement(RD,{chartData:i.data}),v.createElement(XD,{width:a,height:s,layout:l,margin:i.margin}),v.createElement(QD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(Zae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(ZD,_y({width:a,height:s},c,{ref:n})))}),sse=["axis"],ose={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},lse=v.forwardRef((e,t)=>{var n=bn(e,ose);return v.createElement(ase,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sse,tooltipPayloadSearcher:AI,categoricalChartProps:n,ref:t})});const si=({children:e,className:t="",header:n,subheader:r,actions:i})=>o.jsxs("div",{className:`card rounded-lg border ${t}`,style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[(n||r||i)&&o.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border)"},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[n&&o.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),r&&o.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:r})]}),i&&o.jsx("div",{className:"flex items-center space-x-2",children:i})]})}),o.jsx("div",{className:"p-6",children:e})]}),cse={relevance:85,tone:92,length:78,accuracy:88,toxicity:95,promptable:82},use=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],score:Math.floor(Math.random()*20)+70})}return n},dse=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],userCount:Math.floor(Math.random()*50)+10,assistantCount:Math.floor(Math.random()*50)+10})}return n},J_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),cse;throw new Error("Analytics API not implemented")},G_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),use(e);throw new Error("Analytics API not implemented")},X_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),dse(e);throw new Error("Analytics API not implemented")},fse=()=>{const{t:e}=rt(),[t,n]=v.useState(null),[r,i]=v.useState([]),[a,s]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState("7d");v.useEffect(()=>{(async()=>{c(!0);try{const[m,g,y]=await Promise.all([J_(u),G_(u),X_(u)]);n(m),i(g),s(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{c(!1)}})()},[u]);const f=()=>{(async()=>{c(!0);try{const[m,g,y]=await Promise.all([J_(u),G_(u),X_(u)]);n(m),i(g),s(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{c(!1)}})()},h=()=>{if(!t)return 0;const p=Object.values(t);return Math.round(p.reduce((m,g)=>m+g,0)/p.length)};return l?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading analytics..."})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(si,{header:e("dashboard.title"),subheader:`Overall Score: ${h()}%`,actions:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:u,onChange:p=>d(p.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:"7d",children:"Last 7 days"}),o.jsx("option",{value:"30d",children:"Last 30 days"}),o.jsx("option",{value:"90d",children:"Last 90 days"})]}),o.jsx("button",{onClick:f,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[o.jsx("div",{className:"h-80",children:o.jsx(Ym,{width:"100%",height:"100%",children:o.jsxs(lse,{data:t?[t]:[],children:[o.jsx(cD,{}),o.jsx(xp,{dataKey:"subject"}),o.jsx(vp,{angle:90,domain:[0,100]}),o.jsx(Gb,{name:"Performance",dataKey:"relevance",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}),o.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Relevance:"}),o.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.relevance,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tone:"}),o.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.tone,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Length:"}),o.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.length,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Accuracy:"}),o.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.accuracy,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Toxicity:"}),o.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.toxicity,"%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Promptable:"}),o.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.promptable,"%"]})]})]})]}),o.jsx(si,{header:e("dashboard.timeline"),subheader:"Daily performance scores over time",children:o.jsx("div",{className:"h-80",children:o.jsx(Ym,{width:"100%",height:"100%",children:o.jsxs(Y_,{data:r,children:[o.jsx(yy,{strokeDasharray:"3 3"}),o.jsx(by,{dataKey:"ts"}),o.jsx(ky,{domain:[0,100]}),o.jsx(n_,{}),o.jsx(ud,{dataKey:"score",fill:"#8884d8"})]})})})}),o.jsx(si,{header:e("dashboard.activity"),subheader:"Message volume by role",children:o.jsx("div",{className:"h-80",children:o.jsx(Ym,{width:"100%",height:"100%",children:o.jsxs(Y_,{data:a,children:[o.jsx(yy,{strokeDasharray:"3 3"}),o.jsx(by,{dataKey:"ts"}),o.jsx(ky,{}),o.jsx(n_,{}),o.jsx(Gh,{}),o.jsx(ud,{dataKey:"userCount",name:"User Messages",fill:"#8884d8"}),o.jsx(ud,{dataKey:"assistantCount",name:"Assistant Messages",fill:"#82ca9d"})]})})})})]})};function Ml({columns:e,data:t,loading:n=!1,sortable:r=!0,pagination:i,onSort:a,className:s=""}){const[l,c]=v.useState(""),[u,d]=v.useState("asc"),f=p=>{if(!r||!a)return;const m=l===p&&u==="asc"?"desc":"asc";c(p),d(m),a(p,m)},h=p=>l!==p?"↕️":u==="asc"?"↑":"↓";return n?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading..."})}):o.jsxs("div",{className:`overflow-hidden ${s}`,children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"sticky top-0",style:{backgroundColor:"var(--bg-secondary)"},children:o.jsx("tr",{children:e.map(p=>o.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${p.sortable&&r?"cursor-pointer hover:bg-gray-50":""}`,style:{color:"var(--text-muted)",width:p.width},onClick:()=>p.sortable&&f(String(p.key)),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:p.label}),p.sortable&&r&&o.jsx("span",{className:"text-xs",children:h(String(p.key))})]})},String(p.key)))})}),o.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border)"},children:t.map((p,m)=>o.jsx("tr",{className:"hover:bg-gray-50",children:e.map(g=>o.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--text)"},children:g.render?g.render(p[g.key],p):String(p[g.key]||"")},String(g.key)))},m))})]})}),i&&o.jsxs("div",{className:"px-4 py-3 border-t flex items-center justify-between",style:{borderColor:"var(--border)"},children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",(i.page-1)*i.pageSize+1," to"," ",Math.min(i.page*i.pageSize,i.total)," of"," ",i.total," results"]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{value:i.pageSize,onChange:p=>i.onPageSizeChange(Number(p.target.value)),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:10,children:"10 per page"}),o.jsx("option",{value:25,children:"25 per page"}),o.jsx("option",{value:50,children:"50 per page"}),o.jsx("option",{value:100,children:"100 per page"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>i.onPageChange(i.page-1),disabled:i.page<=1,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Previous"}),o.jsx("span",{className:"px-3 py-1 text-sm",style:{color:"var(--text)"},children:i.page}),o.jsx("button",{onClick:()=>i.onPageChange(i.page+1),disabled:i.page*i.pageSize>=i.total,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Next"})]})]})]})]})}const dd=({status:e,children:t})=>{const n=r=>{switch(r){case"open":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"closed":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"synced":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"error":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"queued":return{backgroundColor:"var(--warning-light)",color:"var(--warning)",border:"1px solid var(--warning)"};case"indexing":return{backgroundColor:"var(--primary-light)",color:"var(--primary)",border:"1px solid var(--primary)"};default:return{backgroundColor:"var(--border-light)",color:"var(--text-muted)",border:"1px solid var(--border)"}}};return o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:n(e),children:t})},hse=({children:e,left:t,right:n,className:r=""})=>o.jsxs("div",{className:`flex items-center justify-between py-4 ${r}`,children:[o.jsx("div",{className:"flex items-center space-x-4",children:t}),o.jsx("div",{className:"flex items-center space-x-4",children:n})]}),pse=({isOpen:e,onClose:t,title:n,children:r,className:i=""})=>{const a=v.useRef(null);return v.useEffect(()=>{const s=l=>{l.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),v.useEffect(()=>{e&&a.current&&a.current.focus()},[e]),e?o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),o.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md",children:o.jsxs("div",{ref:a,className:`h-full flex flex-col ${i}`,style:{backgroundColor:"var(--card)"},tabIndex:-1,children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[o.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),o.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:"✕"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r})]})})]}):null},mse=[{id:"1",title:"PSDAP Program Discussion",status:"open",lastAt:"2024-01-15T10:30:00Z",messageCount:12},{id:"2",title:"API Integration Help",status:"closed",lastAt:"2024-01-14T15:45:00Z",messageCount:8},{id:"3",title:"General Questions",status:"open",lastAt:"2024-01-13T09:20:00Z",messageCount:15}],gse=[{id:"1",sessionId:"1",role:"user",content:"What is the PSDAP program?",createdAt:"2024-01-15T10:30:00Z"},{id:"2",sessionId:"1",role:"assistant",content:"The PSDAP program is a comprehensive development initiative...",createdAt:"2024-01-15T10:31:00Z",feedback:"up",citations:[{sourceType:"document",title:"PSDAP Program Guide",snippet:"The PSDAP program provides..."}]}],Q_=[{id:"1",requestId:"req-123",corrected:"The PSDAP program is a comprehensive development initiative that focuses on...",createdAt:"2024-01-15T11:00:00Z"}],Z_=[{id:"1",messageId:"2",rating:1,note:"Very helpful response",createdAt:"2024-01-15T10:35:00Z"}],vse=async(e={})=>{await new Promise(s=>setTimeout(s,300));let t=[...mse];e.search&&(t=t.filter(s=>s.title.toLowerCase().includes(e.search.toLowerCase()))),e.status&&e.status!=="all"&&(t=t.filter(s=>s.status===e.status)),e.sortBy&&t.sort((s,l)=>{const c=s[e.sortBy],u=l[e.sortBy],d=e.sortDirection==="desc"?-1:1;return c<u?-1*d:c>u?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},yse=async(e,t={})=>{await new Promise(l=>setTimeout(l,300));const n=gse.filter(l=>l.sessionId===e),r=t.page||1,i=t.pageSize||10,a=(r-1)*i,s=a+i;return{rows:n.slice(a,s),total:n.length}},xse=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:Q_,total:Q_.length}),bse=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:Z_,total:Z_.length}),wse=()=>{const{t:e}=rt(),t=Un(),[n,r]=v.useState("sessions"),[i,a]=v.useState(null),[s,l]=v.useState([]),[c,u]=v.useState([]),[d,f]=v.useState([]),[h,p]=v.useState([]),[m,g]=v.useState(!1),[y,x]=v.useState(null),[b,w]=v.useState(!1),[S,_]=v.useState(""),[k,E]=v.useState("all"),[I,O]=v.useState({page:1,pageSize:10,total:0});v.useEffect(()=>{C(),R()},[S,k,I.page,I.pageSize]),v.useEffect(()=>{i&&P(i)},[i]);const C=async()=>{g(!0);try{const N=await vse({page:I.page,pageSize:I.pageSize,search:S,status:k});l(N.rows),O(D=>({...D,total:N.total}))}catch(N){console.error("Failed to fetch sessions:",N)}finally{g(!1)}},P=async N=>{try{const D=await yse(N,{page:1,pageSize:50});u(D.rows)}catch(D){console.error("Failed to fetch messages:",D)}},R=async()=>{try{const[N,D]=await Promise.all([xse(),bse()]);f(N.rows),p(D.rows)}catch(N){console.error("Failed to fetch feedback:",N)}},F=async(N,D,j)=>{try{switch(N){case"open":t(`/chat/${D}`);break;case"rename":j&&console.log("Renaming session:",D,j);break;case"close":console.log("Closing session:",D);break;case"delete":console.log("Deleting session:",D);break}}catch(z){console.error("Failed to perform session action:",z)}},V=N=>{x(N),w(!0)},J=()=>{const N=[["Title","Status","Last Activity","Message Count"],...s.map(W=>[W.title,W.status,new Date(W.lastAt).toLocaleString(),W.messageCount.toString()])].map(W=>W.join(",")).join(`
`),D=new Blob([N],{type:"text/csv"}),j=window.URL.createObjectURL(D),z=document.createElement("a");z.href=j,z.download="sessions.csv",z.click(),window.URL.revokeObjectURL(j)},L=[{key:"title",label:e("labels.title"),sortable:!0,render:(N,D)=>o.jsx("button",{onClick:()=>a(D.id),className:"text-left hover:underline",style:{color:"var(--text)"},children:N})},{key:"status",label:e("labels.status"),render:N=>o.jsx(dd,{status:N,children:N})},{key:"lastAt",label:e("labels.lastActivity"),render:N=>new Date(N).toLocaleString()},{key:"messageCount",label:e("labels.count"),render:N=>N.toString()},{key:"actions",label:"Actions",render:(N,D)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>F("open",D.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.open")}),o.jsx("button",{onClick:()=>F("close",D.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.close")}),o.jsx("button",{onClick:()=>F("delete",D.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.delete")})]})}],G=[{key:"createdAt",label:"Time",render:N=>new Date(N).toLocaleString()},{key:"role",label:"Role",render:N=>o.jsx("span",{className:`px-2 py-1 rounded text-xs ${N==="user"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:N})},{key:"content",label:"Content",render:N=>o.jsx("div",{className:"max-w-xs truncate",title:N,children:N})},{key:"feedback",label:"Feedback",render:N=>N?o.jsx("span",{className:`px-2 py-1 rounded text-xs ${N==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N==="up"?"👍":"👎"}):"-"},{key:"actions",label:"Actions",render:(N,D)=>o.jsx("button",{onClick:()=>V(D),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"})}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:o.jsxs("nav",{className:"-mb-px flex space-x-8",children:[o.jsx("button",{onClick:()=>r("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="sessions"?"var(--primary)":"var(--text-secondary)"},children:e("usage.sessions")}),o.jsx("button",{onClick:()=>r("feedback"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="feedback"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="feedback"?"var(--primary)":"var(--text-secondary)"},children:e("usage.feedback.admin")})]})}),n==="sessions"&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs(si,{header:e("usage.sessions"),actions:o.jsx("button",{onClick:J,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Export CSV"}),children:[o.jsx(hse,{left:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("input",{type:"text",placeholder:e("filters.search"),value:S,onChange:N=>_(N.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),o.jsxs("select",{value:k,onChange:N=>E(N.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"closed",children:"Closed"})]})]})}),o.jsx(Ml,{columns:L,data:s,loading:m,pagination:{page:I.page,pageSize:I.pageSize,total:I.total,onPageChange:N=>O(D=>({...D,page:N})),onPageSizeChange:N=>O(D=>({...D,pageSize:N,page:1}))}})]}),i&&o.jsx(si,{header:e("usage.messages"),children:o.jsx(Ml,{columns:G,data:c,loading:m})})]}),n==="feedback"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx(si,{header:e("usage.feedback.admin"),children:o.jsx("div",{className:"space-y-4",children:d.map(N=>o.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Request ID: ",N.requestId]}),o.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(N.createdAt).toLocaleString()})]}),o.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:N.corrected})]},N.id))})}),o.jsx(si,{header:e("usage.feedback.user"),children:o.jsx("div",{className:"space-y-4",children:h.map(N=>o.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Message ID: ",N.messageId]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`px-2 py-1 rounded text-xs ${N.rating===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:N.rating===1?"👍":"👎"}),o.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(N.createdAt).toLocaleString()})]})]}),N.note&&o.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:N.note})]},N.id))})})]}),o.jsx(pse,{isOpen:b,onClose:()=>w(!1),title:"Message Details",children:y&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"Content"}),o.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:y.content})})]}),y.citations&&y.citations.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"References"}),o.jsx("div",{className:"space-y-2",children:y.citations.map((N,D)=>o.jsxs("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:[o.jsx("div",{className:"font-medium text-sm",style:{color:"var(--text)"},children:N.title}),N.snippet&&o.jsx("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:N.snippet}),N.url&&o.jsx("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"View Source"})]},D))})]})]})})]})},kse=()=>{const{t:e}=rt(),[t,n]=v.useState(""),[r,i]=v.useState("gpt-4"),[a,s]=v.useState("https://api.openai.com/v1/chat/completions"),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState(""),[p,m]=v.useState(""),[g,y]=v.useState(!1);v.useEffect(()=>{const k=localStorage.getItem("axpro_system_prompt");k&&n(k);const E=localStorage.getItem("axpro_prompt_last_updated");E&&c(JSON.parse(E))},[]);const x=()=>{localStorage.setItem("axpro_system_prompt",t);const k={by:"admin@tecace.com",timestamp:new Date().toISOString()};localStorage.setItem("axpro_prompt_last_updated",JSON.stringify(k)),c(k),alert("Prompt saved successfully!")},b=()=>{if(confirm("Are you sure you want to revert to the last saved version?")){const k=localStorage.getItem("axpro_system_prompt");k&&n(k)}},w=async()=>{if(f.trim()){y(!0);try{await new Promise(k=>setTimeout(k,2e3)),m(`This is a test response for: "${f}"

Generated by ${r} at ${a}`)}catch{m("Error: Failed to get test response")}finally{y(!1)}}},S=t.length,_=4e3;return o.jsxs("div",{className:"space-y-6",children:[o.jsx(si,{header:e("mgmt.prompt"),subheader:"Configure the system prompt for the chatbot",actions:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:b,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.revert")}),o.jsx("button",{onClick:x,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.save")}),o.jsx("button",{onClick:()=>d(!0),className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.test")})]}),children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Model"}),o.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Endpoint"}),o.jsx("input",{type:"text",value:a,onChange:k=>s(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"System Prompt"}),o.jsx("textarea",{value:t,onChange:k=>n(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:12,placeholder:"Enter the system prompt for the chatbot..."}),o.jsxs("div",{className:"flex justify-between items-center mt-2",children:[o.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:[S," / ",_," characters"]}),S>_&&o.jsx("span",{className:"text-xs text-red-600",children:"Exceeds maximum length"})]})]}),l&&o.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated by ",l.by," on ",new Date(l.timestamp).toLocaleString()]})]})}),u&&o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>d(!1)}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsx("div",{className:"w-full max-w-2xl rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Test Prompt"}),o.jsx("button",{onClick:()=>d(!1),className:"p-2 rounded-md hover:bg-gray-100",style:{color:"var(--text-secondary)"},children:"✕"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Test Input"}),o.jsx("textarea",{value:f,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:3,placeholder:"Enter a test message..."})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Cancel"}),o.jsx("button",{onClick:w,disabled:g||!f.trim(),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50 disabled:opacity-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:g?"Testing...":"Test"})]}),p&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Response"}),o.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:o.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:p})})]})]})]})})})]})]})},Sse=[{id:"1",name:"PSDAP_Program_Guide.pdf",size:2048576,lastModified:"2024-01-15T10:00:00Z",contentType:"application/pdf"},{id:"2",name:"API_Documentation.md",size:512e3,lastModified:"2024-01-14T15:30:00Z",contentType:"text/markdown"},{id:"3",name:"User_Manual.docx",size:1024e3,lastModified:"2024-01-13T09:15:00Z",contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}],jse=[{id:"1",name:"PSDAP_Program_Guide.pdf",chunks:45,status:"synced",lastIndexedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"API_Documentation.md",chunks:12,status:"indexing",lastIndexedAt:"2024-01-14T16:00:00Z"},{id:"3",name:"User_Manual.docx",chunks:0,status:"queued"}],_se=[{id:"1",name:"PSDAP_Program_Guide.pdf",blobStatus:"present",chunks:45,syncStatus:"synced"},{id:"2",name:"API_Documentation.md",blobStatus:"present",chunks:12,syncStatus:"stale"},{id:"3",name:"User_Manual.docx",blobStatus:"missing",chunks:0,syncStatus:"error"}],Cse=async(e={})=>{await new Promise(s=>setTimeout(s,300));let t=[...Sse];e.search&&(t=t.filter(s=>s.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((s,l)=>{const c=s[e.sortBy],u=l[e.sortBy],d=e.sortDirection==="desc"?-1:1;return c<u?-1*d:c>u?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Ese=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Deleting file:",e)},Nse=async(e={})=>{await new Promise(s=>setTimeout(s,300));let t=[...jse];e.search&&(t=t.filter(s=>s.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((s,l)=>{const c=s[e.sortBy],u=l[e.sortBy],d=e.sortDirection==="desc"?-1:1;return c===void 0||u===void 0?0:c<u?-1*d:c>u?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Ose=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Reindexing:",e)},Ase=async(e={})=>{await new Promise(s=>setTimeout(s,300));let t=[..._se];e.search&&(t=t.filter(s=>s.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((s,l)=>{const c=s[e.sortBy],u=l[e.sortBy],d=e.sortDirection==="desc"?-1:1;return c<u?-1*d:c>u?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Pse=()=>{const{t:e}=rt(),[t,n]=v.useState("files"),[r,i]=v.useState([]),[a,s]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState(!1),[f,h]=v.useState(""),[p,m]=v.useState({page:1,pageSize:10,total:0});v.useEffect(()=>{g()},[t,f,p.page,p.pageSize]);const g=async()=>{d(!0);try{let O;switch(t){case"files":O=await Cse({page:p.page,pageSize:p.pageSize,search:f}),i(O.rows);break;case"index":O=await Nse({page:p.page,pageSize:p.pageSize,search:f}),s(O.rows);break;case"sync":O=await Ase({page:p.page,pageSize:p.pageSize,search:f}),c(O.rows);break}m(C=>({...C,total:O.total}))}catch(O){console.error("Failed to fetch data:",O)}finally{d(!1)}},y=async O=>{if(confirm("Are you sure you want to delete this file?"))try{await Ese(O),g()}catch(C){console.error("Failed to delete file:",C)}},x=async O=>{try{await Ose(O),g()}catch(C){console.error("Failed to reindex:",C)}},b=O=>{if(O===0)return"0 Bytes";const C=1024,P=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(O)/Math.log(C));return parseFloat((O/Math.pow(C,R)).toFixed(2))+" "+P[R]},w=O=>new Date(O).toLocaleString(),S=[{key:"name",label:"Filename",sortable:!0,render:O=>o.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"size",label:"Size",sortable:!0,render:O=>b(O)},{key:"lastModified",label:"Last Modified",sortable:!0,render:O=>w(O)},{key:"contentType",label:"Type",render:O=>o.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:O})},{key:"actions",label:"Actions",render:(O,C)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>window.open(`/files/${C.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"}),o.jsx("button",{onClick:()=>window.open(`/files/${C.id}/download`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Download"}),o.jsx("button",{onClick:()=>y(C.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Delete"})]})}],_=[{key:"name",label:"Filename",sortable:!0,render:O=>o.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"chunks",label:"Chunks",sortable:!0,render:O=>O.toString()},{key:"status",label:"Status",render:O=>o.jsx(dd,{status:O,children:O})},{key:"lastIndexedAt",label:"Last Indexed",sortable:!0,render:O=>O?w(O):"-"},{key:"actions",label:"Actions",render:(O,C)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>x(C.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Reindex"}),o.jsx("button",{onClick:()=>window.open(`/index/${C.id}/chunks`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View Chunks"})]})}],k=[{key:"name",label:"Filename",sortable:!0,render:O=>o.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"blobStatus",label:"Blob Status",render:O=>o.jsx(dd,{status:O,children:O})},{key:"chunks",label:"Chunks",sortable:!0,render:O=>O.toString()},{key:"syncStatus",label:"Sync Status",render:O=>o.jsx(dd,{status:O,children:O})},{key:"actions",label:"Actions",render:(O,C)=>o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>window.open(`/sync/${C.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Open"})})}],E=()=>{switch(t){case"files":return r;case"index":return a;case"sync":return l;default:return[]}},I=()=>{switch(t){case"files":return S;case"index":return _;case"sync":return k;default:return[]}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:o.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"files",label:"File Library"},{key:"index",label:"Knowledge Index"},{key:"sync",label:"Sync Overview"}].map(O=>o.jsx("button",{onClick:()=>n(O.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===O.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:t===O.key?"var(--primary)":"var(--text-secondary)"},children:O.label},O.key))})}),o.jsxs(si,{header:e("mgmt.knowledge"),actions:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:O=>h(O.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),o.jsx("button",{onClick:g,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[t==="files"&&o.jsxs("div",{children:[o.jsx("div",{className:"mb-4 p-4 border-2 border-dashed rounded",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-secondary)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"File upload is disabled in mock mode"}),o.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"In production, you can drag and drop files here to upload them"})]})}),o.jsx(Ml,{columns:I(),data:E(),loading:u,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(C=>({...C,page:O})),onPageSizeChange:O=>m(C=>({...C,pageSize:O,page:1}))}})]}),t==="index"&&o.jsx(Ml,{columns:I(),data:E(),loading:u,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(C=>({...C,page:O})),onPageSizeChange:O=>m(C=>({...C,pageSize:O,page:1}))}}),t==="sync"&&o.jsx(Ml,{columns:I(),data:E(),loading:u,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(C=>({...C,page:O})),onPageSizeChange:O=>m(C=>({...C,pageSize:O,page:1}))}})]})]})},eg=()=>{var p;const e=Un(),t=is(),{theme:n,toggleTheme:r}=as(),{language:i,setLanguage:a,t:s}=rt(),{logout:l}=XE(),[c,u]=v.useState(null);ui.useEffect(()=>{const m=Je();m&&u({email:m.email,role:m.role})},[Je]);const d=async()=>{await l(),e("/")},f=[{group:"Dashboard",items:[{key:"overview",label:s("dashboard.title"),path:"/admin"}]},{group:"Analytics",items:[{key:"usage",label:s("usage.sessions"),path:"/admin/usage"}]},{group:"Management",items:[{key:"prompt",label:s("mgmt.prompt"),path:"/admin/prompt"},{key:"knowledge",label:s("mgmt.knowledge"),path:"/admin/knowledge"}]}],h=m=>t.pathname===m;return o.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:o.jsxs("div",{className:"flex",children:[o.jsxs("div",{className:"w-64 h-screen border-r sticky top-0",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[o.jsx("div",{className:"p-6",children:o.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text)"},children:"AX Pro Admin"})}),o.jsx("nav",{className:"px-4 pb-4",children:f.map(m=>o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-muted)"},children:m.group}),o.jsx("div",{className:"space-y-1",children:m.items.map(g=>o.jsx("button",{onClick:()=>e(g.path),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${h(g.path)?"text-white":"hover:bg-gray-100"}`,style:{backgroundColor:h(g.path)?"var(--text)":"transparent",color:h(g.path)?"var(--bg)":"var(--text-secondary)"},children:g.label},g.key))})]},m.group))})]}),o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-6",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:((p=f.flatMap(m=>m.items).find(m=>h(m.path)))==null?void 0:p.label)||"Admin Dashboard"})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[o.jsx("option",{value:"en",children:"EN"}),o.jsx("option",{value:"ko",children:"KO"})]}),o.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n==="dark"?"☀️":"🌙"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:c==null?void 0:c.email}),o.jsx("button",{onClick:d,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:s("auth.signOut")})]})]})]}),o.jsx("main",{className:"flex-1 p-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.pathname==="/admin"&&o.jsx(fse,{}),t.pathname==="/admin/usage"&&o.jsx(wse,{}),t.pathname==="/admin/prompt"&&o.jsx(kse,{}),t.pathname==="/admin/knowledge"&&o.jsx(Pse,{})]})})]})]})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ise=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),e2=e=>{const t=Ise(e);return t.charAt(0).toUpperCase()+t.slice(1)},eR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Dse=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...l},c)=>v.createElement("svg",{ref:c,...Rse,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:eR("lucide",i),...!a&&!Dse(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,d])=>v.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(e,t)=>{const n=v.forwardRef(({className:r,...i},a)=>v.createElement(Mse,{ref:a,iconNode:t,className:eR(`lucide-${Tse(e2(e))}`,`lucide-${e}`,r),...i}));return n.displayName=e2(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$se=Yt("activity",Lse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zse=Yt("bell",Fse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bse=Yt("chart-column",Use);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Vse=Yt("chevron-up",Wse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Hse=Yt("database",Kse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yse=Yt("file-text",qse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Gse=Yt("log-out",Jse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Qse=Yt("megaphone",Xse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eoe=Yt("message-square",Zse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],noe=Yt("moon",toe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ioe=Yt("refresh-cw",roe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],soe=Yt("sun",aoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],loe=Yt("thumbs-down",ooe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],uoe=Yt("thumbs-up",coe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],foe=Yt("trash-2",doe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],poe=Yt("user",hoe),moe=Gse,goe=zse,voe=noe,yoe=soe,xoe=poe,tg=Bse,fd=eoe,boe=Yse,ng=Hse,woe=Qse,En=uoe,Nn=loe,rg=$se,zf=foe,Qc=ioe,koe=Vse;function Soe({performanceScore:e,performanceDate:t,currentTime:n,onSignOut:r,customTitle:i,customWelcome:a}){const s=Un(),{theme:l,toggleTheme:c}=as(),{language:u,setLanguage:d,t:f}=rt(),h=y=>y>=90?f("admin.excellent"):y>=80?f("admin.good"):y>=70?f("admin.fair"):f("admin.poor"),p=()=>{s("/admin/dashboard")},m=i||"TecAce Ax Pro",g=a||"TecAce Ax Pro";return o.jsxs("header",{className:"dashboard-header",children:[o.jsx("div",{className:"header-left",children:o.jsxs("div",{className:"logo",onClick:p,style:{cursor:"pointer"},children:[o.jsx("div",{className:"logo-hexagon",children:o.jsx("div",{className:"hexagon-outer",children:o.jsx("div",{className:"hexagon-inner"})})}),o.jsx("span",{className:"logo-text",children:m})]})}),o.jsxs("div",{className:"header-right",children:[o.jsxs("div",{className:"performance-indicator",children:[o.jsxs("span",{className:"performance-text",children:[g,": ",e,"% (",h(e),t?`, ${t}`:"",")"]}),o.jsx("span",{className:"current-time",children:n})]}),o.jsxs("div",{className:"header-actions",children:[o.jsx("button",{className:"icon-btn","aria-label":f("admin.goToChat"),onClick:()=>s("/chat"),title:f("admin.goToChat"),children:o.jsx(fd,{size:18})}),o.jsx("button",{className:"icon-btn","aria-label":f("admin.notifications"),children:o.jsx(goe,{size:18})}),o.jsx("button",{className:"icon-btn","aria-label":f("admin.toggleTheme"),onClick:c,title:f("admin.toggleTheme"),children:l==="light"?o.jsx(voe,{size:18}):o.jsx(yoe,{size:18})}),o.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"language-select",children:[o.jsx("option",{value:"en",children:"EN"}),o.jsx("option",{value:"ko",children:"KO"})]}),o.jsx("button",{className:"icon-btn","aria-label":f("admin.userProfile"),onClick:()=>s("/settings"),title:f("ui.settings"),children:o.jsx(xoe,{size:18})}),o.jsx("button",{className:"icon-btn signout-btn","aria-label":f("admin.signOut"),onClick:r,title:f("admin.signOut"),children:o.jsx(moe,{size:18})})]})]})]})}function joe({serviceMode:e="chatbot",conversations:t,satisfaction:n,documents:r,performanceScore:i,performanceDate:a,isCollapsed:s,onToggleCollapse:l,onScrollToSection:c,onServiceModeChange:u,onTranslationFilterChange:d,selectedLanguage:f,onSelectedLanguageChange:h}){var Y;const p=((Y=Je())==null?void 0:Y.email)==="professor@tecace.com",m=Un(),g=is(),{customization:y,updateCustomization:x}=Pc(),{t:b}=rt(),w=g.pathname==="/admin/dashboard",[S,_]=v.useState(!1),[k,E]=v.useState(""),[I,O]=v.useState("Main AI Assistant for HR Support"),[C,P]=v.useState("professor"),[R,F]=v.useState("2025"),[V,J]=v.useState("winter"),[L,G]=v.useState("machine-learning"),[N,D]=v.useState(f||"en");v.useEffect(()=>{f&&f!==N&&D(f)},[f]);const j=v.useMemo(()=>[{value:"en",label:"🇺🇸 English"},{value:"ko",label:"🇰🇷 한국어"}],[]),z={"machine-learning":[{value:"ja",label:"🇯🇵 日本語"},{value:"zh",label:"🇨🇳 中文"},{value:"fr",label:"🇫🇷 Français"}],"deep-learning":[{value:"zh",label:"🇨🇳 中文"},{value:"es",label:"🇪🇸 Español"},{value:"ru",label:"🇷🇺 Русский"}],nlp:[{value:"ja",label:"🇯🇵 日本語"},{value:"es",label:"🇪🇸 Español"},{value:"pt",label:"🇵🇹 Português"}],"computer-vision":[{value:"fr",label:"🇫🇷 Français"},{value:"de",label:"🇩🇪 Deutsch"},{value:"it",label:"🇮🇹 Italiano"}],"reinforcement-learning":[{value:"hi",label:"🇮🇳 Hindi"},{value:"ar",label:"🇸🇦 العربية"},{value:"tr",label:"🇹🇷 Türkçe"}]},W=v.useMemo(()=>{const Q=[...L?z[L]||[]:[]].sort(()=>Math.random()-.5),M=[...j,...Q],X=new Set;return M.filter(U=>X.has(U.value)?!1:(X.add(U.value),!0))},[j,L]),A=$=>{w?c($):m(`/admin/dashboard?section=${$}`)},re=()=>{E(y.title||"TecAce Ax Pro"),O(y.chatSubtitle||"Main AI Assistant for HR Support"),_(!0)},B=()=>{x({title:k,chatSubtitle:I}),_(!1)},ee=()=>{_(!1)};return o.jsx("aside",{className:`dashboard-sidebar ${s?"collapsed":""}`,children:o.jsxs("div",{className:"sidebar-content",children:[!s&&p&&o.jsx("div",{style:{padding:"12px",borderBottom:"1px solid var(--admin-border)",marginBottom:"12px"},children:o.jsxs("div",{style:{display:"flex",gap:"8px",background:"var(--admin-bg)",borderRadius:"8px",padding:"4px"},children:[o.jsx("button",{onClick:()=>u&&u("chatbot"),style:{flex:1,padding:"8px 12px",fontSize:"13px",fontWeight:600,background:e==="chatbot"?"var(--admin-primary)":"transparent",color:e==="chatbot"?"white":"var(--admin-text-muted)",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},children:"챗봇"}),o.jsx("button",{onClick:()=>u&&u("translation"),style:{flex:1,padding:"8px 12px",fontSize:"13px",fontWeight:600,background:e==="translation"?"var(--admin-primary)":"transparent",color:e==="translation"?"white":"var(--admin-text-muted)",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},children:"번역"})]})}),o.jsx("div",{className:"sidebar-section",style:{paddingBottom:"20px",borderBottom:"1px solid var(--admin-border)"},children:o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[o.jsxs("div",{style:{position:"relative"},children:[o.jsx("img",{src:y.avatarUrl,alt:"Chatbot Avatar",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid var(--admin-primary)",boxShadow:"0 0 20px rgba(59, 230, 255, 0.3)"},onError:$=>{$.currentTarget.src="/default-profile-avatar.png"}}),o.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",backgroundColor:"var(--admin-success, #10b981)",border:"3px solid var(--admin-bg)",borderRadius:"50%"}})]}),o.jsx("div",{style:{textAlign:"center",width:"100%",padding:"0 12px"},children:S?o.jsxs(o.Fragment,{children:[o.jsx("input",{type:"text",value:k,onChange:$=>E($.target.value),placeholder:"Bot Title",style:{width:"100%",fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-primary)",borderRadius:"6px",padding:"8px 12px",marginBottom:"8px",textAlign:"center"}}),o.jsx("input",{type:"text",value:I,onChange:$=>O($.target.value),placeholder:"Description",style:{width:"100%",fontSize:"12px",color:"var(--admin-text-muted)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"6px 12px",textAlign:"center"}})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",marginBottom:"4px"},children:y.title||"TecAce Ax Pro"}),o.jsx("p",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:y.chatSubtitle||"Main AI Assistant for HR Support"})]})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, var(--admin-primary), var(--admin-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:[i,"%"]}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Performance"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:a||"9/10"})]}),o.jsxs("div",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:[o.jsx("div",{style:{fontSize:"10px",fontWeight:"600",color:"var(--admin-success)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ACTIVE"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",textTransform:"uppercase"},children:"STATUS"})]})]}),o.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:S?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:B,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#041220",backgroundColor:"var(--admin-primary)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:$=>$.currentTarget.style.opacity="0.9",onMouseLeave:$=>$.currentTarget.style.opacity="1",children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),o.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),o.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]}),o.jsxs("button",{onClick:ee,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#ffffff",backgroundColor:"var(--admin-danger, #ef4444)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:$=>$.currentTarget.style.opacity="0.9",onMouseLeave:$=>$.currentTarget.style.opacity="1",children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:re,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:$=>$.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:$=>$.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),o.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),o.jsxs("button",{onClick:()=>m("/settings?tab=photo"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:$=>$.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:$=>$.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),o.jsx("polyline",{points:"21 15 16 10 5 21"})]}),"Photo"]})]})})]})}),e==="chatbot"&&o.jsxs("div",{className:"sidebar-section",children:[o.jsx("h3",{className:"sidebar-section-title",children:b("admin.overview")}),o.jsxs("div",{className:"metrics-grid",children:[o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(fd,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsx("div",{className:"metric-value",children:t}),o.jsx("div",{className:"metric-label",children:b("admin.conversations")})]})]}),o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(rg,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsxs("div",{className:"metric-value",children:[n,"%"]}),o.jsx("div",{className:"metric-label",children:b("admin.satisfaction")})]})]}),o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(ng,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsx("div",{className:"metric-value",children:r}),o.jsx("div",{className:"metric-label",children:b("admin.documents")})]})]}),o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(tg,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsxs("div",{className:"metric-value",children:[i,"%"]}),o.jsx("div",{className:"metric-label",children:b("admin.performance")})]})]})]})]}),e==="translation"&&!s&&o.jsxs("div",{className:"sidebar-section",children:[o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text-muted)",marginBottom:"6px"},children:"사용자 유형"}),o.jsxs("div",{style:{display:"flex",gap:"4px",background:"var(--admin-card-bg)",borderRadius:"6px",padding:"4px"},children:[o.jsx("button",{onClick:()=>P("professor"),style:{flex:1,padding:"8px 12px",fontSize:"12px",fontWeight:600,background:C==="professor"?"var(--admin-primary)":"transparent",color:C==="professor"?"white":"var(--admin-text-muted)",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},children:"교수"}),o.jsx("button",{onClick:()=>P("assistant"),style:{flex:1,padding:"8px 12px",fontSize:"12px",fontWeight:600,background:C==="assistant"?"var(--admin-primary)":"transparent",color:C==="assistant"?"white":"var(--admin-text-muted)",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},children:"조교"})]})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text-muted)",marginBottom:"6px"},children:"학기"}),o.jsx("div",{style:{marginBottom:"12px"},children:o.jsx("select",{value:`${R}-${V}`,onChange:$=>{const[Q,M]=$.target.value.split("-");F(Q);const X=M;J(X),d&&d({term:`${Q}-${X}`,subject:L})},style:{width:"100%",padding:"8px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"12px"},children:["2025","2024","2023"].flatMap($=>[{v:`${$}-winter`,l:`${$} 겨울`},{v:`${$}-fall`,l:`${$} 가을`},{v:`${$}-summer`,l:`${$} 여름`},{v:`${$}-spring`,l:`${$} 봄`}]).map($=>o.jsx("option",{value:$.v,children:$.l},$.v))})}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"var(--admin-text-muted)",marginBottom:"4px"},children:"과목"}),o.jsx("div",{style:{background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:["machine-learning","deep-learning","nlp","computer-vision","reinforcement-learning"].map($=>o.jsxs("button",{onClick:()=>{G($),D("en"),h&&h("en"),d&&d({term:`${R}-${V}`,subject:$})},style:{width:"100%",padding:"8px 12px",fontSize:"12px",background:L===$?"var(--admin-primary)":"transparent",color:L===$?"white":"var(--admin-text)",border:"none",textAlign:"left",cursor:"pointer",transition:"all 0.2s",borderBottom:"1px solid var(--admin-border)"},children:[$==="machine-learning"&&"머신러닝 기초",$==="deep-learning"&&"딥러닝",$==="nlp"&&"자연어 처리",$==="computer-vision"&&"컴퓨터 비전",$==="reinforcement-learning"&&"강화 학습"]},$))})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"var(--admin-text-muted)",marginBottom:"4px"},children:"언어"}),o.jsx("div",{style:{background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"6px",maxHeight:"300px",overflowY:"auto"},children:W.map($=>o.jsx("button",{onClick:()=>{D($.value),h&&h($.value)},style:{width:"100%",padding:"8px 12px",fontSize:"12px",background:N===$.value?"var(--admin-primary)":"transparent",color:N===$.value?"white":"var(--admin-text)",border:"none",textAlign:"left",cursor:"pointer",transition:"all 0.2s",borderBottom:"1px solid var(--admin-border)"},children:$.label},$.value))})]})]})]})]}),e==="translation"&&!s&&o.jsxs("div",{className:"sidebar-section",children:[o.jsx("h3",{className:"sidebar-section-title",children:b("admin.overview")}),o.jsxs("div",{className:"metrics-grid",children:[o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(fd,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsx("div",{className:"metric-value",children:t}),o.jsx("div",{className:"metric-label",children:b("admin.conversations")})]})]}),o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(rg,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsxs("div",{className:"metric-value",children:[n,"%"]}),o.jsx("div",{className:"metric-label",children:b("admin.satisfaction")})]})]}),o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(ng,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsx("div",{className:"metric-value",children:r}),o.jsx("div",{className:"metric-label",children:b("admin.documents")})]})]}),o.jsxs("div",{className:"metric-card",children:[o.jsx("div",{className:"metric-icon",children:o.jsx(tg,{size:20})}),o.jsxs("div",{className:"metric-content",children:[o.jsxs("div",{className:"metric-value",children:[i,"%"]}),o.jsx("div",{className:"metric-label",children:b("admin.performance")})]})]})]})]}),o.jsxs("div",{className:"sidebar-section",children:[o.jsx("h3",{className:"sidebar-section-title",children:b("admin.navigation")}),o.jsxs("nav",{className:"sidebar-nav",children:[o.jsxs("button",{className:"nav-item",onClick:()=>A("performance-radar"),children:[o.jsx(tg,{size:18}),o.jsx("span",{children:b("admin.performance")})]}),o.jsxs("button",{className:"nav-item",onClick:()=>A("daily-message-activity"),children:[o.jsx(rg,{size:18}),o.jsx("span",{children:b("admin.activity")})]}),o.jsxs("button",{className:"nav-item",onClick:()=>A("recent-conversations"),children:[o.jsx(fd,{size:18}),o.jsx("span",{children:b("admin.conversations")})]}),o.jsxs("button",{className:"nav-item",onClick:()=>A("user-feedback"),children:[o.jsx(woe,{size:18}),o.jsx("span",{children:b("admin.feedback")})]}),o.jsxs("button",{className:"nav-item",onClick:()=>A("prompt-control"),children:[o.jsx(boe,{size:18}),o.jsx("span",{children:"Prompt"})]}),o.jsxs("button",{className:"nav-item",onClick:()=>m("/admin/knowledge-management"),children:[o.jsx(ng,{size:18}),o.jsx("span",{children:b("admin.knowledgeBase")})]})]})]})]})})}const _oe=e=>[{value:"3d",label:e("admin.last3Days")},{value:"7d",label:e("admin.last7Days")},{value:"14d",label:e("admin.last2Weeks")},{value:"21d",label:e("admin.last3Weeks")},{value:"30d",label:e("admin.last30Days")},{value:"90d",label:e("admin.last3Months")},{value:"custom",label:e("admin.customRange")}];function tR({data:e,selectedDate:t,onDateChange:n,title:r="Performance Timeline",includeSimulatedData:i,onIncludeSimulatedDataChange:a,estimationMode:s,onEstimationModeChange:l}){var G,N;const{t:c}=rt(),[u,d]=v.useState(!1),[f,h]=v.useState(800),[p,m]=v.useState(!1),[g,y]=v.useState(null),[x,b]=v.useState("90d"),[w,S]=v.useState(""),[_,k]=v.useState(""),[E,I]=v.useState(!1),O=v.useRef(null);v.useEffect(()=>{if(u&&e.length>0){const D=e.findIndex(j=>j.Date===t);O.current=window.setInterval(()=>{const j=D>=0?(D+1)%e.length:0;n(e[j].Date)},f)}else O.current&&(clearInterval(O.current),O.current=null);return()=>{O.current&&clearInterval(O.current)}},[u,t,e,f,n]);const C=()=>{d(!u)},P=D=>{const j=[D.Toxicity,D["Prompt Injection"],D["Answer Correctness"],D["Answer Relevancy"],D.Length,D.Tone];return Math.round(j.reduce((z,W)=>z+W,0)/j.length*100)},R=()=>{const D=new Date,j=new Date;switch(x){case"3d":j.setDate(D.getDate()-3);break;case"7d":j.setDate(D.getDate()-7);break;case"14d":j.setDate(D.getDate()-14);break;case"21d":j.setDate(D.getDate()-21);break;case"30d":j.setDate(D.getDate()-30);break;case"90d":j.setDate(D.getDate()-90);break;case"custom":if(w&&_)return{startDate:w,endDate:_};j.setDate(D.getDate()-90);break}return{startDate:j.toISOString().split("T")[0],endDate:D.toISOString().split("T")[0]}},F=v.useMemo(()=>{const{startDate:D,endDate:j}=R();return e.filter(z=>z.Date>=D&&z.Date<=j)},[e,x,w,_]),V=Math.max(...F.map(P),100),J=F.find(D=>D.Date===t),L=new Date().toISOString().split("T")[0];return e.length===0?o.jsx("div",{className:"performance-timeline",children:o.jsx("div",{className:"timeline-loading",children:"Loading data..."})}):o.jsxs("div",{className:"performance-timeline",children:[o.jsxs("div",{className:"timeline-single-row",children:[o.jsx("div",{className:"timeline-title-compact",children:o.jsx("h3",{children:r})}),o.jsxs("div",{className:"timeline-controls-compact",children:[o.jsx("div",{className:"date-range-selector",style:{marginRight:"12px"},children:o.jsx("select",{value:x,onChange:D=>{const j=D.target.value;b(j),I(j==="custom"),j!=="custom"&&(S(""),k(""))},className:"date-select-compact",style:{fontSize:"13px"},children:_oe(c).map(D=>o.jsx("option",{value:D.value,children:D.label},D.value))})}),E&&o.jsxs("div",{className:"custom-date-inputs",style:{display:"flex",gap:"4px",marginRight:"12px"},children:[o.jsx("input",{type:"date",value:w,onChange:D=>{S(D.target.value),_||k(new Date().toISOString().split("T")[0])},className:"date-select-compact",style:{fontSize:"11px",padding:"4px 6px"},max:new Date().toISOString().split("T")[0]}),o.jsx("span",{style:{color:"var(--admin-text-muted)",fontSize:"11px",alignSelf:"center"},children:"~"}),o.jsx("input",{type:"date",value:_,onChange:D=>k(D.target.value),className:"date-select-compact",style:{fontSize:"11px",padding:"4px 6px"},min:w,max:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{className:"date-selector-compact",children:[o.jsxs("label",{children:[c("admin.date"),":"]}),o.jsx("select",{className:"date-select-compact",value:t,onChange:D=>n(D.target.value),children:F.map(D=>o.jsx("option",{value:D.Date,children:D.Date},D.Date))})]}),o.jsx("button",{className:"play-btn-compact",onClick:C,title:u?"Pause":"Play",children:u?"⏸":"▶"}),u&&o.jsxs("select",{className:"speed-control-compact",value:f,onChange:D=>h(Number(D.target.value)),children:[o.jsx("option",{value:1200,children:"Slow"}),o.jsx("option",{value:800,children:"Normal"}),o.jsx("option",{value:400,children:"Fast"})]}),o.jsx("div",{className:"data-indicator-compact",children:o.jsx("span",{className:`indicator ${J!=null&&J.isSimulated?"estimated":"actual"}`,children:J!=null&&J.isSimulated?`📊 ${c("admin.estimated")}`:`📈 ${c("admin.actual")}`})}),o.jsxs("div",{className:"settings-container-compact",children:[o.jsx("button",{className:`settings-btn-compact ${p?"active":""}`,onClick:()=>m(!p),title:"Settings",children:"⚙️"}),p&&o.jsxs("div",{className:"settings-panel-compact",children:[o.jsx("div",{className:"setting-item",children:o.jsxs("label",{className:"checkbox-label",children:[o.jsx("input",{type:"checkbox",checked:i,onChange:D=>a(D.target.checked)}),c("admin.estimated")," 데이터 포함"]})}),o.jsxs("div",{className:"setting-item",children:[o.jsx("label",{className:"select-label",children:"추정 모드:"}),o.jsxs("select",{className:"mode-select",value:s,onChange:D=>l(D.target.value),children:[o.jsx("option",{value:"simple",children:"간단 (±5%)"}),o.jsx("option",{value:"improved",children:"개선 (±4% + 패턴)"}),o.jsx("option",{value:"realistic",children:"현실적 (트렌드 + 주간)"})]})]})]})]})]})]}),o.jsxs("div",{className:"timeline-chart",children:[o.jsx("div",{className:"chart-container",children:F.map(D=>{const j=P(D),z=j/V*100,W=D.Date===t,A=D.Date===L,re=D.isSimulated,B=["bar"];return W?B.push("selected"):A?B.push("today"):re?B.push("simulated"):B.push("actual"),o.jsxs("div",{className:B.join(" "),style:{height:`${Math.max(z,5)}%`,position:"relative"},onClick:()=>n(D.Date),onMouseEnter:()=>y(D.Date),onMouseLeave:()=>y(null),title:`${D.Date}: ${j}% ${re?`(${c("admin.estimated")})`:`(${c("admin.actual")})`}`,children:[o.jsx("span",{className:"bar-value",children:j}),g===D.Date&&o.jsxs("div",{className:"bar-hover-info",children:[o.jsx("div",{className:"hover-date",children:D.Date}),o.jsxs("div",{className:"hover-score",children:[j,"%"]}),o.jsx("div",{className:"hover-type",children:c(re?"admin.estimated":"admin.actual")})]})]},D.Date)})}),o.jsxs("div",{className:"date-labels",children:[o.jsx("span",{className:"date-start",children:(G=F[0])==null?void 0:G.Date}),o.jsx("span",{className:"date-end",children:(N=F[F.length-1])==null?void 0:N.Date})]})]})]})}function Coe({relevance:e,tone:t,length:n,accuracy:r,toxicity:i,promptInjection:a,timelineData:s=[],selectedDate:l="",onDateChange:c=()=>{},includeSimulatedData:u=!1,onIncludeSimulatedDataChange:d=()=>{},estimationMode:f="simple",onEstimationModeChange:h=()=>{}}){const{t:p}=rt(),[m,g]=v.useState({relevance:!0,tone:!0,length:!0,accuracy:!0,toxicity:!0,promptInjection:!0});v.useState(!1);const y=[{key:"relevance",label:p("admin.relevance"),value:e,description:p("admin.contentMatching"),icon:"⚡",color:"#ff6b6b"},{key:"tone",label:p("admin.tone"),value:t,description:p("admin.responseStyle"),icon:"🎭",color:"#4ecdc4"},{key:"length",label:p("admin.length"),value:n,description:p("admin.responseSize"),icon:"📏",color:"#45b7d1"},{key:"accuracy",label:p("admin.accuracy"),value:r,description:p("admin.correctAnswers"),icon:"✓",color:"#96ceb4"},{key:"toxicity",label:p("admin.toxicity"),value:i,description:p("admin.safetyCheck"),icon:"🛡️",color:"#feca57"},{key:"promptInjection",label:p("admin.promptInjection"),value:a,description:p("admin.securityFilter"),icon:"🔒",color:"#ff9ff3"}],x=y.filter(F=>m[F.key]),b=F=>{g(V=>({...V,[F]:!V[F]}))},w=Object.values(m).filter(Boolean).length,S=x.length>0?Math.round(x.reduce((F,V)=>F+V.value,0)/x.length):0,_=400,k=_/2,E=k,I=130,O=(F,V,J)=>{const L=360/V,G=F*L-90,N=J/100*I,D=Math.cos(G*Math.PI/180)*N,j=Math.sin(G*Math.PI/180)*N;return{x:D,y:j,angle:G}},C=()=>x.length<3?"":`M ${x.map((V,J)=>{const L=O(J,x.length,V.value);return`${L.x+k},${L.y+k}`}).join(" L ")} Z`,P=(F,V)=>{const J=360/V,L=F*J-90,G=I+50,N=Math.cos(L*Math.PI/180)*G,D=Math.sin(L*Math.PI/180)*G;let j="center";return L>=-45&&L<=45?j="center":L>45&&L<=135?j="left":L>135||L<=-135?j="center":j="right",{x:N,y:D,angle:L,textAlign:j}},R=()=>{const F=[];for(let V=20;V<=100;V+=20)F.push(o.jsx("circle",{cx:k,cy:E,r:V/100*I,fill:"none",stroke:"rgba(59, 230, 255, 0.15)",strokeWidth:"1"},`circle-${V}`));for(let V=0;V<x.length;V++){const J=360/x.length,L=V*J-90,G=Math.cos(L*Math.PI/180)*I,N=Math.sin(L*Math.PI/180)*I;F.push(o.jsx("line",{x1:k,y1:E,x2:k+G,y2:E+N,stroke:"rgba(59, 230, 255, 0.2)",strokeWidth:"1"},`line-${V}`))}return F};return o.jsxs("div",{className:"performance-radar-section",children:[o.jsxs("div",{className:"radar-main-layout",children:[o.jsxs("div",{className:"radar-chart-section",children:[o.jsxs("div",{className:"radar-header",children:[o.jsx("h2",{className:"radar-title",children:p("admin.performanceRadar")}),o.jsx("p",{className:"radar-description",children:p("admin.performanceRadarDesc")})]}),o.jsxs("div",{className:"radar-chart-container",children:[o.jsxs("div",{className:"radar-chart-large",children:[o.jsxs("svg",{className:"radar-svg-large",width:_,height:_,children:[R(),o.jsx("path",{d:C(),fill:"rgba(59, 230, 255, 0.1)",stroke:"rgba(59, 230, 255, 0.8)",strokeWidth:"2"}),x.map((F,V)=>{const J=O(V,x.length,F.value);return o.jsxs("g",{className:"radar-point-large",children:[o.jsx("circle",{className:"point-dot-large",cx:J.x+k,cy:J.y+k,r:"6",fill:F.color,stroke:"white",strokeWidth:"2"}),o.jsx("text",{x:J.x+k,y:J.y+k-15,textAnchor:"middle",className:"point-score-box",fill:F.color,fontSize:"12",fontWeight:"bold",children:F.value})]},V)})]}),o.jsxs("div",{className:"radar-center-large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[o.jsx("div",{className:"center-score-large",children:S}),o.jsx("div",{className:"center-label-large",children:"OVERALL"})]})]}),y.map((F,V)=>{const J=P(V,y.length),L=m[F.key],G=F.key==="promptInjection",N=200,D=200,j=N+J.x,z=D+J.y;return o.jsx("div",{className:`radar-label-clean radar-label-${F.key.toLowerCase()} ${L?"":"label-inactive"}`,style:{position:"absolute",left:`${j}px`,top:`${z}px`,transform:"translate(-50%, -50%)",zIndex:10,borderColor:F.color,opacity:L?1:.5},children:o.jsxs("div",{className:"label-content",children:[o.jsx("span",{className:"label-name",style:{color:F.color},children:G?"PROMPT INJECTION":F.label.toUpperCase()}),o.jsx("span",{className:"label-score",style:{color:F.color},children:F.value})]})},V)})]})]}),o.jsxs("div",{className:"module-control-panel",children:[o.jsxs("div",{className:"module-control-header-side",children:[o.jsx("span",{className:"control-title",children:p("admin.moduleControl")}),o.jsxs("span",{className:"control-badge",children:[w," / ",y.length]})]}),o.jsx("div",{className:"control-list-side",children:y.map(F=>o.jsxs("div",{className:"control-item-side","data-key":F.key,children:[o.jsxs("div",{className:"control-info",children:[o.jsx("span",{className:"control-icon",style:{color:F.color},children:F.icon}),o.jsxs("div",{className:"control-text",children:[o.jsx("span",{className:"control-label",children:F.label}),o.jsx("span",{className:"control-description",children:F.description})]})]}),o.jsx("div",{className:"control-actions",children:o.jsx("button",{className:`control-toggle-btn ${m[F.key]?"enabled":"disabled"}`,onClick:()=>b(F.key),style:{borderColor:F.color,backgroundColor:m[F.key]?F.color:"transparent"},children:m[F.key]?"ON":"OFF"})})]},F.key))})]})]}),s&&s.length>0&&o.jsx("div",{className:"timeline-section-wrapper",style:{marginTop:"32px"},children:o.jsx(tR,{data:s,selectedDate:l,onDateChange:c,title:"Performance Timeline",includeSimulatedData:u,onIncludeSimulatedDataChange:d,estimationMode:f,onEstimationModeChange:h})})]})}function Eoe({relevance:e,tone:t,length:n,accuracy:r,toxicity:i,promptInjection:a,timelineData:s=[],selectedDate:l="",onDateChange:c=()=>{},includeSimulatedData:u=!1,onIncludeSimulatedDataChange:d=()=>{},estimationMode:f="simple",onEstimationModeChange:h=()=>{}}){const{t:p}=rt(),[m,g]=v.useState(!1),[y,x]=v.useState({relevance:!0,tone:!0,length:!0,accuracy:!0,toxicity:!0,promptInjection:!0});v.useState(!1);const b=v.useRef(null),[w,S]=v.useState(0);v.useEffect(()=>{const N=()=>{var z;const j=((z=b.current)==null?void 0:z.offsetHeight)??0;S(j)};N(),window.addEventListener("resize",N);const D=window.setInterval(N,300);return()=>{window.removeEventListener("resize",N),window.clearInterval(D)}},[]);const _=[{key:"relevance",label:p("admin.relevance"),value:e,description:p("admin.contentMatching"),icon:"⚡",color:"#ff6b6b"},{key:"tone",label:p("admin.tone"),value:t,description:p("admin.responseStyle"),icon:"🎭",color:"#4ecdc4"},{key:"length",label:p("admin.length"),value:n,description:p("admin.responseSize"),icon:"📏",color:"#45b7d1"},{key:"accuracy",label:p("admin.accuracy"),value:r,description:p("admin.correctAnswers"),icon:"✓",color:"#96ceb4"},{key:"toxicity",label:p("admin.toxicity"),value:i,description:p("admin.safetyCheck"),icon:"🛡️",color:"#feca57"},{key:"promptInjection",label:p("admin.promptInjection"),value:a,description:p("admin.securityFilter"),icon:"🔒",color:"#ff9ff3"}],k=_.filter(N=>y[N.key]),E=N=>{x(D=>({...D,[N]:!D[N]}))},I=Object.values(y).filter(Boolean).length;k.length>0&&Math.round(k.reduce((N,D)=>N+D.value,0)/k.length);const O=(w||420)-64,C=Math.max(240,Math.min(540,Math.floor(O))),P=C/2,R=P,F=Math.floor(C*.38),V=(N,D,j)=>{const z=360/D,W=N*z-90,A=j/100*F,re=Math.cos(W*Math.PI/180)*A,B=Math.sin(W*Math.PI/180)*A;return{x:re,y:B,angle:W}},J=()=>k.length<3?"":`M ${k.map((D,j)=>{const z=V(j,k.length,D.value);return`${z.x+P},${z.y+P}`}).join(" L ")} Z`,L=(N,D,j)=>{const z=360/D,W=N*z-90,A=j/100*F;let re=Math.max(26,Math.floor(C*.1));const B=(W+360)%360;(B<=22||B>=338)&&(re+=24);const ee=A+re,Y=Math.cos(W*Math.PI/180)*ee,$=Math.sin(W*Math.PI/180)*ee;let Q="center";return W>=-45&&W<=45?Q="center":W>45&&W<=135?Q="left":W>135||W<=-135?Q="center":Q="right",{x:Y,y:$,angle:W,textAlign:Q}},G=()=>{const N=[];for(let j=0;j<=100;j+=20){const z=j/100*F;if(j===0)continue;const W=[];for(let A=0;A<6;A++){const re=A*60-90,B=P+Math.cos(re*Math.PI/180)*z,ee=R+Math.sin(re*Math.PI/180)*z;W.push(`${B},${ee}`)}N.push(o.jsx("polygon",{points:W.join(" "),fill:"none",stroke:"rgba(59, 230, 255, 0.3)",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},`hex-${j}`))}for(let j=0;j<6;j++){const z=j*60-90,W=Math.cos(z*Math.PI/180)*F,A=Math.sin(z*Math.PI/180)*F;N.push(o.jsx("line",{x1:P,y1:R,x2:P+W,y2:R+A,stroke:"rgba(59, 230, 255, 0.35)",strokeWidth:2,strokeLinecap:"round"},`axis-${j}`))}N.push(o.jsx("text",{x:P,y:R,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(180, 220, 255, 0.85)",fontSize:"12",fontWeight:400,children:"0"},"scale-0"));for(let j=20;j<=100;j+=20){const z=j/100*F,A=(0*(360/6)-90)*Math.PI/180,re=P+Math.cos(A)*z,B=R+Math.sin(A)*z,ee=re,Y=B;N.push(o.jsx("text",{x:ee,y:Y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(180, 220, 255, 0.85)",fontSize:"12",fontWeight:400,children:j},`scale-${j}`))}return N};return o.jsxs("div",{className:"performance-radar-section",style:{padding:"16px 16px 12px 16px",height:"auto",overflow:"visible"},children:[o.jsxs("div",{className:"radar-main-layout",style:{gap:"20px",alignItems:"flex-start"},children:[o.jsx("div",{className:"radar-chart-section",style:{padding:"24px 32px",minHeight:w||400,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"radar-chart-container",style:{width:C,height:C},children:[o.jsx("div",{className:"radar-chart-large",children:o.jsxs("svg",{className:"radar-svg-large",width:C,height:C,style:{width:C,height:C,position:"relative",left:"auto",top:"auto",transform:"none"},children:[G(),o.jsx("path",{d:J(),fill:"rgba(59, 230, 255, 0.1)",stroke:"rgba(59, 230, 255, 0.8)",strokeWidth:"2"})]})}),_.map((N,D)=>{const j=L(D,_.length,N.value),z=y[N.key],W=N.key==="promptInjection",A=P,re=R,B=A+j.x,ee=re+j.y;return o.jsx("div",{style:{position:"absolute",left:`${B}px`,top:`${ee}px`,transform:"translate(-50%, -50%)",zIndex:10,opacity:z?1:.5,fontSize:"12px",fontWeight:"400",color:"var(--admin-text)",textAlign:"center",pointerEvents:"none"},children:W?"PROMPT INJECTION":N.label.toUpperCase()},D)})]})}),o.jsxs("div",{className:"module-control-panel",style:{background:"rgba(8, 20, 35, 0.55)",border:"1px solid rgba(94, 126, 164, 0.18)",borderRadius:12,padding:0,minWidth:300,maxHeight:"none",overflowY:"visible"},ref:b,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[o.jsx("span",{style:{fontSize:14,fontWeight:700,color:"var(--admin-text)"},children:p("admin.moduleControl")}),o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"3px 8px",borderRadius:16,fontSize:11,fontWeight:700,color:"#a8e9ff",background:"linear-gradient(180deg, rgba(23, 60, 90, 0.9) 0%, rgba(12, 35, 55, 0.9) 100%)",border:"1px solid rgba(88, 160, 200, 0.4)"},children:[I," / ",_.length]})]}),o.jsx("div",{children:_.map((N,D)=>{const j=y[N.key];return o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",borderBottom:D===_.length-1?"none":"1px solid rgba(255,255,255,0.06)"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[o.jsx("span",{style:{fontSize:13,fontWeight:700,color:"var(--admin-text)"},children:N.label}),o.jsx("span",{style:{fontSize:11,color:"var(--admin-text-muted)"},children:N.description})]}),o.jsx("button",{onClick:()=>E(N.key),style:{border:"1px solid rgba(0,0,0,0.15)",outline:"none",cursor:"pointer",padding:"5px 10px",minWidth:42,borderRadius:8,fontSize:11,fontWeight:800,letterSpacing:.2,color:"#0b1220",backgroundColor:j?N.color:"transparent",boxShadow:j?"0 2px 8px rgba(0,0,0,0.25), inset 0 0 0 1px rgba(255,255,255,0.2)":"inset 0 0 0 1px rgba(120,140,160,0.4)",transition:"all .15s ease"},children:j?"ON":"OFF"})]},N.key)})})]})]}),s&&s.length>0&&o.jsx("div",{className:"timeline-section-wrapper",style:{marginTop:8,minHeight:24,padding:0},children:m?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:4,padding:0},children:o.jsx("button",{onClick:()=>g(!1),style:{padding:"4px 8px",borderRadius:8,border:"1px solid var(--admin-border)",background:"var(--admin-card-bg)",color:"var(--admin-text)",cursor:"pointer"},children:"접기"})}),o.jsx("div",{style:{display:"flex",justifyContent:"center",padding:0,margin:0,overflow:"hidden"},children:o.jsx("div",{style:{transform:"scale(0.82)",transformOrigin:"top center"},children:o.jsx(tR,{data:s,selectedDate:l,onDateChange:c,title:"Performance Timeline",includeSimulatedData:u,onIncludeSimulatedDataChange:d,estimationMode:f,onEstimationModeChange:h})})})]}):o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",minHeight:24,padding:0,margin:0},children:o.jsxs("button",{onClick:()=>g(!0),style:{padding:"4px 8px",borderRadius:8,border:"1px solid var(--admin-border)",background:"var(--admin-card-bg)",color:"var(--admin-text)",cursor:"pointer"},children:[p("admin.performanceTimeline")||"Performance Timeline"," 열기"]})})})]})}async function Uf(e=100){try{const t=Me();console.log("Fetching chat data from Supabase...");const{data:n,error:r}=await t.from("chat").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw console.error("Supabase error:",r),new Error(`Failed to fetch chat data: ${r.message}`);return console.log(`✅ Fetched ${(n==null?void 0:n.length)||0} chat records`),n||[]}catch(t){throw console.error("Failed to fetch chat data:",t),t}}async function nR(e){try{const t=Me();console.log(`Looking for chat with chat_id: ${e}`);const{data:n,error:r}=await t.from("chat").select("*").eq("chat_id",e).maybeSingle();return r?(console.error("Supabase error:",r),null):(n?console.log(`✅ Found chat for chat_id: ${e}`):console.warn(`No chat found for chat_id: ${e}`),n)}catch(t){return console.error("Error fetching chat by ID:",t),null}}const Noe=e=>[{value:"3d",label:e("admin.last3Days")},{value:"7d",label:e("admin.last7Days")},{value:"14d",label:e("admin.last2Weeks")},{value:"21d",label:e("admin.last3Weeks")},{value:"30d",label:e("admin.last30Days")},{value:"90d",label:e("admin.last3Months")},{value:"custom",label:e("admin.customRange")}];function Ooe({startDate:e,endDate:t}){const{t:n}=rt(),[r,i]=v.useState([]),[a,s]=v.useState({totalMessages:0,avgPerDay:0,totalUserFeedback:0,totalAdminFeedback:0,totalCorrected:0,uniqueUsers:0,userSatisfaction:0,adminApproval:0}),[l,c]=v.useState(!0),[u,d]=v.useState("messages"),[f,h]=v.useState("21d"),[p,m]=v.useState(""),[g,y]=v.useState(""),[x,b]=v.useState(!1),w=()=>{if(e&&t)return{startDate:e,endDate:t};const P=new Date,R=new Date;switch(f){case"3d":R.setDate(P.getDate()-3);break;case"7d":R.setDate(P.getDate()-7);break;case"14d":R.setDate(P.getDate()-14);break;case"21d":R.setDate(P.getDate()-21);break;case"30d":R.setDate(P.getDate()-30);break;case"90d":R.setDate(P.getDate()-90);break;case"custom":if(p&&g)return{startDate:p,endDate:g};R.setDate(P.getDate()-21);break}return{startDate:R.toISOString().split("T")[0],endDate:P.toISOString().split("T")[0]}},{startDate:S,endDate:_}=w();v.useEffect(()=>{k()},[S,_,f,p,g]);const k=async()=>{c(!0);try{const[P,R,F]=await Promise.all([Uf(1e3),Ya(),Lx()]);console.log("📊 Loaded data:",{chats:P.length,userFeedbacks:R.length,adminFeedbacks:F.length}),P.length>0&&(console.log("Sample chat object:",P[0]),console.log("Sample chat ID:",P[0].id),console.log("Sample chat all keys:",Object.keys(P[0]))),R.length>0&&console.log("Sample user feedback chat_id:",R[0].chat_id),F.length>0&&console.log("Sample admin feedback chat_id:",F[0].chat_id);const V=new Map;R.forEach(M=>{V.has(M.chat_id)||V.set(M.chat_id,[]),V.get(M.chat_id).push(M)});const J=new Map;F.forEach(M=>{J.set(M.chat_id,M)}),console.log("📋 Feedback maps created:",{userFeedbackMapSize:V.size,adminFeedbackMapSize:J.size,sampleUserFeedbackKeys:Array.from(V.keys()).slice(0,3),sampleChatIds:P.slice(0,3).map(M=>M.id)});const L=new Map,G=new Date(S),N=new Date(_);for(let M=new Date(G);M<=N;M.setDate(M.getDate()+1)){const X=M.toISOString().split("T")[0];L.set(X,{date:X,messageCount:0,userFeedbackCount:0,userGoodCount:0,userBadCount:0,adminFeedbackCount:0,adminGoodCount:0,adminBadCount:0,correctedResponseCount:0,uniqueUsers:new Set})}const D=new Set;let j=0,z=0;console.warn("⚠️ Chat table missing chat_id field - feedback will be estimated by day proportion"),P.forEach(M=>{if(!M.created_at)return;const X=new Date(M.created_at).toISOString().split("T")[0],U=L.get(X);U&&(U.messageCount++,U.uniqueUsers.add(M.user_id),D.add(M.user_id))}),R.forEach(M=>{if(!M.created_at)return;const X=new Date(M.created_at).toISOString().split("T")[0],U=L.get(X);U&&(U.userFeedbackCount++,M.reaction==="good"&&U.userGoodCount++,M.reaction==="bad"&&U.userBadCount++,j++)}),F.forEach(M=>{const X=new Date(M.updated_at||M.created_at||"").toISOString().split("T")[0],U=L.get(X);U&&(U.adminFeedbackCount++,M.feedback_verdict==="good"&&U.adminGoodCount++,M.feedback_verdict==="bad"&&U.adminBadCount++,M.corrected_response&&U.correctedResponseCount++,z++)}),console.log("🔍 Feedback distribution by date:",{totalChats:P.length,userFeedbackDistributed:j,adminFeedbackDistributed:z,totalUserFeedbacks:R.length,totalAdminFeedbacks:F.length});const W=Array.from(L.values()).find(M=>M.userFeedbackCount>0||M.adminFeedbackCount>0);W?console.log("📊 Sample day with feedback:",{date:W.date,messages:W.messageCount,userFeedback:W.userFeedbackCount,adminFeedback:W.adminFeedbackCount,corrected:W.correctedResponseCount}):console.log("⚠️ No days with feedback data found"),console.log("💡 To fix: Add chat_id column to Supabase chat table to match feedback.chat_id");const A=Array.from(L.values());i(A);const re=A.reduce((M,X)=>M+X.messageCount,0),B=A.reduce((M,X)=>M+X.userFeedbackCount,0),ee=A.reduce((M,X)=>M+X.userGoodCount,0),Y=A.reduce((M,X)=>M+X.adminFeedbackCount,0),$=A.reduce((M,X)=>M+X.adminGoodCount,0),Q=A.reduce((M,X)=>M+X.correctedResponseCount,0);s({totalMessages:re,avgPerDay:A.length>0?Math.round(re/A.length*10)/10:0,totalUserFeedback:B,totalAdminFeedback:Y,totalCorrected:Q,uniqueUsers:D.size,userSatisfaction:B>0?Math.round(ee/B*100):0,adminApproval:Y>0?Math.round($/Y*100):0}),console.log("📈 Stats:",{totalMessages:re,totalUserFeedback:B,totalAdminFeedback:Y,daysWithData:A.filter(M=>M.messageCount>0).length})}catch(P){console.error("Failed to load daily message activity:",P)}finally{c(!1)}},E=P=>u==="messages"?P.messageCount:u==="feedback"?P.userFeedbackCount:P.adminFeedbackCount,I=P=>{if(u==="feedback"){const R=P.userFeedbackCount;return R>0?Math.round(P.userGoodCount/R*100):null}else if(u==="admin"){const R=P.adminFeedbackCount;return R>0?Math.round(P.adminGoodCount/R*100):null}return null},O=P=>{const R=new Date(P),F=R.getMonth()+1,V=R.getDate(),J=R.toLocaleDateString("en-US",{weekday:"short"});return`${F}/${V} ${J}`},C=Math.max(...r.map(P=>E(P)),1);return o.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:n("admin.dailyMessageActivity")}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("select",{value:f,onChange:P=>{const R=P.target.value;h(R),b(R==="custom"),R!=="custom"&&(m(""),y(""))},className:"px-3 py-1 text-sm rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},children:Noe(n).map(P=>o.jsx("option",{value:P.value,children:P.label},P.value))})}),x&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"date",value:p,onChange:P=>{m(P.target.value),g||y(new Date().toISOString().split("T")[0])},className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},max:new Date().toISOString().split("T")[0]}),o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"to"}),o.jsx("input",{type:"date",value:g,onChange:P=>y(P.target.value),className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},min:p,max:new Date().toISOString().split("T")[0]})]}),o.jsxs("div",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:[S," to ",_]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"20px"},children:[o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.totalMessages")}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-primary)"},children:a.totalMessages}),o.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[n("admin.average"),": ",a.avgPerDay," ",n("admin.avgPerDay")]})]}),o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.userFeedbackCount")}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-success)"},children:a.totalUserFeedback}),o.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.userSatisfaction,"% ",n("admin.satisfaction")]})]}),o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.adminReviews")}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-accent)"},children:a.totalAdminFeedback}),o.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.adminApproval,"% ",n("admin.approval")]})]}),o.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.corrected")}),o.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-warning, #ff9800)"},children:a.totalCorrected}),o.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.uniqueUsers," ",n("admin.uniqueUsers")]})]})]}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>d("messages"),className:`px-4 py-2 rounded-md text-sm transition-colors ${u==="messages"?"font-semibold":""}`,style:{backgroundColor:u==="messages"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:u==="messages"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.messages")}),o.jsx("button",{onClick:()=>d("feedback"),className:`px-4 py-2 rounded-md text-sm transition-colors ${u==="feedback"?"font-semibold":""}`,style:{backgroundColor:u==="feedback"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:u==="feedback"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.userFeedbackCount")}),o.jsx("button",{onClick:()=>d("admin"),className:`px-4 py-2 rounded-md text-sm transition-colors ${u==="admin"?"font-semibold":""}`,style:{backgroundColor:u==="admin"?"var(--admin-accent)":"rgba(9, 14, 34, 0.4)",color:u==="admin"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.adminReviews")})]}),l?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"Loading activity data..."})}):r.length===0?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"No data available for this period"})}):o.jsxs("div",{children:[o.jsx("div",{style:{height:"200px",display:"flex",alignItems:"flex-end",gap:"8px",padding:"20px 0",borderBottom:"1px solid var(--admin-border)"},children:r.map((P,R)=>{const F=E(P),V=I(P),J=C>0?F/C*100:0;return R<3&&console.log(`📊 Day ${R} (${P.date}):`,{viewMode:u,value:F,score:V,messageCount:P.messageCount,userFeedbackCount:P.userFeedbackCount,adminFeedbackCount:P.adminFeedbackCount,correctedCount:P.correctedResponseCount}),o.jsxs("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",position:"relative"},children:[F>0&&o.jsx("div",{style:{position:"absolute",top:`calc(${100-J}% - 25px)`,backgroundColor:u==="messages"?"var(--admin-primary)":u==="feedback"?"var(--admin-success)":"var(--admin-accent)",color:u==="messages"?"#041220":"#ffffff",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:F}),o.jsx("div",{style:{width:"100%",maxWidth:"40px",height:F>0?`${J}%`:"2px",background:F>0?u==="messages"?"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))":u==="feedback"?"linear-gradient(180deg, var(--admin-success), #0d9488)":"linear-gradient(180deg, var(--admin-accent), #8b5cf6)":"rgba(100, 116, 139, 0.2)",borderRadius:"4px 4px 0 0",cursor:"pointer",transition:"opacity 0.2s"},title:`${O(P.date)}
${F} ${u}${V!==null?`
${V}% positive`:""}`,onMouseEnter:L=>L.currentTarget.style.opacity="0.8",onMouseLeave:L=>L.currentTarget.style.opacity="1"})]},P.date)})}),o.jsx("div",{style:{display:"flex",gap:"8px",paddingTop:"12px"},children:r.map(P=>o.jsx("div",{style:{flex:1,textAlign:"center",fontSize:"10px",color:"var(--admin-text-muted)"},children:O(P.date)},`label-${P.date}`))}),o.jsxs("div",{className:"mt-4 p-3 rounded text-xs flex items-center gap-2",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",color:"var(--admin-text-muted)",border:"1px solid rgba(59, 230, 255, 0.1)"},children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),o.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),o.jsxs("span",{children:[u==="messages"&&"Total messages sent per day",u==="feedback"&&"User feedback received per day",u==="admin"&&"Admin reviews completed per day"]})]})]})]})}async function t2(){try{const e=Me();console.log("Fetching latest prompt from Supabase...");const{data:t,error:n}=await e.from("prompts").select("*").order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch prompt: ${n.message}`);if(!t||t.length===0)return console.log("No prompts found in database"),"";const r=t[0];return console.log("✅ Latest prompt fetched:",r.id),r.prompt_text||""}catch(e){throw console.error("Failed to fetch system prompt:",e),e}}async function Aoe(e){try{const t=Me();console.log("💾 Creating new prompt in Supabase...");const{data:n,error:r}=await t.from("prompts").insert([{prompt_text:e}]).select();if(r)throw console.error("Supabase error:",r),new Error(`Failed to create prompt: ${r.message}`);const i=n[0];console.log("✅ New prompt created:",i.id)}catch(t){throw console.error("Failed to update system prompt:",t),t}}async function Poe(e=10){try{const t=Me();console.log("🔄 Fetching prompt history from Supabase..."),console.log("📊 Query: SELECT id, prompt_text, created_at FROM prompts ORDER BY created_at DESC LIMIT",e);const{data:n,error:r}=await t.from("prompts").select("id, prompt_text, created_at").order("created_at",{ascending:!1}).limit(e);if(console.log("📋 Raw Supabase response:",{data:n,error:r}),r)throw console.error("❌ Supabase error:",r),new Error(`Failed to fetch prompt history: ${r.message}`);return!n||n.length===0?(console.log("⚠️ No prompt history found in database"),[]):(console.log("✅ Prompt history fetched successfully:",n.length,"entries"),console.log("📚 First entry:",n[0]),n)}catch(t){throw console.error("❌ Failed to fetch prompt history:",t),t}}async function Toe(e){try{const t=Me();console.log("🗑️ Deleting prompt with ID:",e);const{error:n}=await t.from("prompts").delete().eq("id",e);if(n)throw console.error("❌ Supabase error:",n),new Error(`Failed to delete prompt: ${n.message}`);console.log("✅ Prompt deleted successfully:",e)}catch(t){throw console.error("❌ Failed to delete prompt:",t),t}}async function Ioe(){try{const e=await fetch("/prompt-api/force-prompt-reload",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Force reload failed: ${e.status} ${e.statusText}`);return await e.json()}catch(e){return console.error("Force reload failed:",e),{status:"skipped",message:"Force reload endpoint not available"}}}function Doe(){const{t:e}=rt(),[t,n]=v.useState(""),[r,i]=v.useState(!0),[a,s]=v.useState(null),[l,c]=v.useState(!1),u=v.useRef(null),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[m,g]=v.useState(!1),[y,x]=v.useState([]),[b,w]=v.useState(!1),[S,_]=v.useState(!1),[k,E]=v.useState({isOpen:!1,promptId:null,promptText:""}),[I,O]=v.useState({isOpen:!1,message:"",isSuccess:!1});v.useEffect(()=>{C()},[]);const C=async()=>{try{console.log("Loading system prompt...");const j=await t2();console.log("System prompt loaded"),n(j),s(new Date)}catch(j){console.error("Failed to load system prompt:",j),O({isOpen:!0,message:j instanceof Error?j.message:"Failed to load system prompt",isSuccess:!1})}finally{i(!1)}},P=async()=>{_(!0);try{console.log("🔄 Loading prompt history...");const j=await Poe(10);console.log("📚 Raw history data:",j),x(j),console.log("✅ Prompt history loaded:",j.length,"entries")}catch(j){console.error("❌ Failed to load prompt history:",j),O({isOpen:!0,message:`Failed to load prompt history: ${j instanceof Error?j.message:"Unknown error"}`,isSuccess:!1})}finally{_(!1)}},R=async()=>{c(!0);try{const j=await t2();n(j),s(new Date)}catch(j){console.error("Failed to refresh system prompt:",j),O({isOpen:!0,message:j instanceof Error?j.message:"Failed to refresh system prompt",isSuccess:!1})}finally{c(!1)}},F=()=>{f(!0)},V=async()=>{p(!0),f(!1);try{console.log("Saving system prompt..."),await Aoe(t),console.log("System prompt saved successfully"),console.log("Attempting force reload...");const j=await Ioe();console.log("Force reload result:",j),O({isOpen:!0,message:"System prompt updated successfully!"+(j.status==="skipped"?"":` ${j.message}`),isSuccess:!0}),s(new Date)}catch(j){console.error("Save operation failed:",j),O({isOpen:!0,message:j instanceof Error?j.message:"Failed to update system prompt",isSuccess:!1})}finally{p(!1)}},J=()=>{f(!1)},L=()=>{O({isOpen:!1,message:"",isSuccess:!1})},G=(j,z)=>{E({isOpen:!0,promptId:j,promptText:z.substring(0,100)+(z.length>100?"...":"")})},N=async()=>{if(k.promptId)try{console.log("🗑️ Deleting prompt:",k.promptId),await Toe(k.promptId),x(j=>j.filter(z=>z.id!==k.promptId)),O({isOpen:!0,message:"Prompt deleted successfully!",isSuccess:!0})}catch(j){console.error("❌ Failed to delete prompt:",j),O({isOpen:!0,message:`Failed to delete prompt: ${j instanceof Error?j.message:"Unknown error"}`,isSuccess:!1})}finally{E({isOpen:!1,promptId:null,promptText:""})}},D=()=>{E({isOpen:!1,promptId:null,promptText:""})};return o.jsxs("div",{className:"admin-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:e("admin.systemPrompt")}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>{w(!b),!b&&y.length===0&&P()},className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:"📚 History"}),o.jsx("button",{onClick:()=>g(!m),className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:m?"📉 Collapse":"📈 Expand"}),a&&o.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:[e("admin.lastRefreshed"),": ",a.toLocaleString()]}),o.jsx("button",{className:"icon-btn",onClick:R,disabled:l,title:e("actions.refresh"),children:o.jsx(Qc,{size:18,className:l?"animate-spin":""})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("textarea",{ref:u,className:"w-full p-3 rounded-md font-mono text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid rgba(59, 230, 255, 0.15)",color:"var(--admin-text)",minHeight:m?"80vh":"300px",maxHeight:m?"none":"400px",resize:m?"none":"vertical"},placeholder:r?e("admin.loading"):"Enter your prompt instructions here...",value:t,onChange:j=>n(j.target.value),disabled:r}),b&&o.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:"📚 Prompt History"}),o.jsx("button",{onClick:P,disabled:S,className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20 disabled:opacity-50",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:S?"⏳ Loading...":"🔄 Refresh"})]}),S?o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"🔄 Loading history..."}):y.length===0?o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:'No history available. Click "Refresh" to load.'}):o.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:y.map((j,z)=>o.jsxs("div",{className:"p-3 rounded border hover:bg-blue-500/10 transition-colors",style:{borderColor:"var(--admin-border)",backgroundColor:z===0?"rgba(59, 230, 255, 0.1)":"transparent"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs font-medium",style:{color:"var(--admin-text)"},children:z===0?"🟢 Current":`#${z+1}`}),o.jsx("button",{onClick:W=>{W.stopPropagation(),n(j.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},title:"Load this prompt",children:"📥 Load"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date(j.created_at).toLocaleString()}),z>0&&o.jsx("button",{onClick:W=>{W.stopPropagation(),G(j.id,j.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-red-500/20",style:{color:"var(--admin-danger)",border:"1px solid rgba(239, 68, 68, 0.3)"},title:"Delete this prompt",children:"🗑️ Delete"})]})]}),o.jsx("p",{className:"text-xs font-mono whitespace-pre-wrap overflow-hidden",style:{color:"var(--admin-text-muted)",maxHeight:"60px",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:j.prompt_text})]},j.id))})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{className:"px-6 py-2 rounded-md font-medium transition-all",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:r||h?.5:1,cursor:r||h?"not-allowed":"pointer"},onClick:F,disabled:r||h,children:e(r?"admin.loading":h?"admin.saving":"admin.saveChanges")})})]}),d&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:o.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--admin-text)"},children:e("admin.confirmUpdate")}),o.jsx("p",{className:"mb-6",style:{color:"var(--admin-text-muted)"},children:e("admin.confirmUpdateMessage")}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"transparent",border:"1px solid rgba(59,230,255,0.16)",color:"var(--admin-text)"},onClick:J,children:e("admin.cancel")}),o.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:V,children:e("admin.confirm")})]})]})}),I.isOpen&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:o.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:I.isSuccess?"var(--admin-success)":"var(--admin-danger)"},children:I.isSuccess?e("admin.success"):e("admin.error")}),o.jsx("p",{className:"mb-6",style:{color:"var(--admin-text)"},children:I.message}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:L,children:e("admin.close")})})]})}),k.isOpen&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(239,68,68,0.15), transparent 60%), rgba(3,8,28,0.75)",backdropFilter:"blur(8px)"},children:o.jsxs("div",{className:"admin-card max-w-lg w-full mx-4 border-2",style:{borderColor:"var(--admin-danger)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:[o.jsx("div",{className:"text-2xl",children:"⚠️"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-danger)"},children:"DANGER: Permanent Deletion"}),o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"This action cannot be undone!"})]})]}),o.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.3)"},children:[o.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-danger)"},children:"⚠️ WARNING: You are about to permanently delete this prompt!"}),o.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--admin-text)"},children:[o.jsxs("li",{children:["• This action ",o.jsx("strong",{children:"CANNOT BE UNDONE"})]}),o.jsxs("li",{children:["• The prompt will be ",o.jsx("strong",{children:"permanently removed"})," from the database"]}),o.jsxs("li",{children:["• You will ",o.jsx("strong",{children:"lose access"})," to this prompt forever"]}),o.jsxs("li",{children:["• This may affect ",o.jsx("strong",{children:"chatbot behavior"})," if this was the active prompt"]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Prompt to be deleted:"}),o.jsx("div",{className:"p-3 rounded border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"rgba(239, 68, 68, 0.2)"},children:o.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",style:{color:"var(--admin-text-muted)"},children:k.promptText})})]}),o.jsx("div",{className:"mb-6 p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:o.jsx("p",{className:"text-sm font-bold text-center",style:{color:"var(--admin-danger)"},children:"Are you absolutely sure you want to proceed?"})}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{className:"px-6 py-3 rounded-md font-semibold transition-all hover:scale-105",style:{background:"transparent",border:"2px solid rgba(59,230,255,0.3)",color:"var(--admin-primary)"},onClick:D,children:"✅ Cancel (Safe)"}),o.jsx("button",{className:"px-6 py-3 rounded-md font-bold transition-all hover:scale-105",style:{background:"linear-gradient(180deg, #dc2626, #b91c1c)",color:"white",boxShadow:"0 4px 14px 0 rgba(239, 68, 68, 0.4)"},onClick:N,children:"🗑️ DELETE FOREVER"})]})]})})]})}function Roe({scrollToChatId:e,highlightedChatId:t,onScrollComplete:n}){const{t:r}=rt(),[i,a]=v.useState([]),[s,l]=v.useState([]),[c,u]=v.useState(!0),[d,f]=v.useState(null),[h,p]=v.useState(!1),[m,g]=v.useState(null),[y,x]=v.useState(""),[b,w]=v.useState(""),[S,_]=v.useState(!1),[k,E]=v.useState(""),[I,O]=v.useState("date-desc"),[C,P]=v.useState(10),[R,F]=v.useState("CSV"),[V,J]=v.useState(null),[L,G]=v.useState(null),[N,D]=v.useState(null),[j,z]=v.useState(new Set),[W,A]=v.useState(null),[re,B]=v.useState("table");v.useEffect(()=>{ee()},[]),v.useEffect(()=>{$()},[i,k,I,V,L,N]),v.useEffect(()=>{if(e){const H=document.getElementById(`chat-${e}`);H&&(H.scrollIntoView({behavior:"smooth",block:"center"}),n==null||n())}},[e,n]);const ee=async()=>{u(!0),f(null);try{const[H,ie]=await Promise.all([Uf(50),Ya()]),de=new Map;ie.forEach(Z=>{de.set(Z.chat_id,Z)});const T=await Promise.all(H.map(async Z=>{const ae=await Yd(Z.chat_id);return{...Z,user_feedback:de.get(Z.chat_id)||null,admin_feedback:ae}}));a(T)}catch(H){console.error("Failed to load conversations:",H);const ie=H instanceof Error?H.message:"Failed to load conversations";ie.includes("Could not find the table")||ie.includes("PGRST")?f(`Database table not accessible. Please check:
1. Table "chat" exists in Supabase
2. Row Level Security (RLS) policies allow SELECT
3. Supabase URL and key are correct`):f(ie)}finally{u(!1)}},Y=async()=>{p(!0);try{const[H,ie]=await Promise.all([Uf(50),Ya()]),de=new Map;ie.forEach(Z=>{de.set(Z.chat_id,Z)});const T=H.map(Z=>({...Z,user_feedback:de.get(Z.chat_id)||null}));a(T)}catch(H){console.error("Failed to refresh conversations:",H),f(H instanceof Error?H.message:"Failed to refresh conversations")}finally{p(!1)}},$=()=>{let H=[...i];if(V&&(H=H.filter(ie=>ie.session_id===V)),L&&(H=H.filter(ie=>ie.user_id===L)),N&&(H=H.filter(ie=>{if(!ie.created_at)return!1;const de=new Date(ie.created_at).toDateString(),T=new Date(N).toDateString();return de===T})),k){const ie=k.toLowerCase();H=H.filter(de=>{var T,Z,ae,ge,ve;return((T=de.user_id)==null?void 0:T.toLowerCase().includes(ie))||String(de.id||"").toLowerCase().includes(ie)||((Z=de.chat_id)==null?void 0:Z.toLowerCase().includes(ie))||((ae=de.session_id)==null?void 0:ae.toLowerCase().includes(ie))||((ge=de.chat_message)==null?void 0:ge.toLowerCase().includes(ie))||((ve=de.response)==null?void 0:ve.toLowerCase().includes(ie))})}H.sort((ie,de)=>{switch(I){case"date-desc":return new Date(de.created_at||"").getTime()-new Date(ie.created_at||"").getTime();case"date-asc":return new Date(ie.created_at||"").getTime()-new Date(de.created_at||"").getTime();case"user":return(ie.user_id||"").localeCompare(de.user_id||"");default:return 0}}),l(H)},Q=H=>{if(!H)return"N/A";try{return new Date(H).toLocaleString()}catch{return H}},M=(H,ie=100)=>H.length<=ie?H:H.substring(0,ie)+"...",X=async(H,ie)=>{const de=await Yd(H.chat_id);if(de&&de.feedback_verdict!==ie){const T=de.feedback_verdict==="good"?"positive":"negative",Z=ie==="good"?"positive":"negative";if(!window.confirm(`A ${T} feedback was already provided for this chat message/response. Are you sure you would like to change it to a ${Z} review? This will remove the previously saved ${T} feedback.`))return}g({chatId:H.chat_id,userMessage:H.chat_message||"",aiResponse:H.response||"",verdict:ie,existingFeedback:de}),de?(x(de.feedback_text||""),w(de.corrected_response||"")):(x(""),w(""))},U=async()=>{if(m){if(m.verdict==="bad"&&!y&&!b){alert("For negative feedback, please provide either supervisor feedback or corrected response.");return}_(!0);try{await EN(m.chatId,m.verdict,y,b),g(null),x(""),w(""),alert("Admin feedback submitted successfully!"),Y()}catch(H){console.error("Failed to submit admin feedback:",H),alert("Failed to submit feedback. Please try again.")}finally{_(!1)}}},he=()=>{g(null),x(""),w("")},ue=H=>{z(ie=>{const de=new Set(ie);return de.has(H)?de.delete(H):de.add(H),de})},Se=async H=>{try{const ie=i.find(de=>de.chat_id===H);ie&&ie.user_feedback?A({chatId:H,feedback:ie.user_feedback}):A({chatId:H,feedback:null})}catch(ie){console.error("Error fetching user feedback:",ie),A({chatId:H,feedback:null})}},Ae=async H=>{const ie=H.admin_feedback;ie&&(x(ie.feedback_text||""),w(ie.corrected_response||""),g({chatId:H.chat_id,userMessage:H.chat_message||"",aiResponse:H.response||"",verdict:ie.feedback_verdict,existingFeedback:ie}))},ye=H=>{V===H?J(null):(J(H),G(null))},Te=H=>{L===H?G(null):(G(H),J(null))},Ze=H=>{N===H?D(null):(D(H),J(null),G(null))},Wn=()=>{J(null),G(null),D(null),E("")},Or=()=>{if(s.length===0){alert("No conversations to export");return}const H=s.map(ie=>({chatId:ie.id,userId:ie.user_id||"",createdAt:ie.created_at||"",userMessage:ie.chat_message||"",aiResponse:ie.response||""}));if(R==="CSV"){const ie=["Chat ID","User ID","Created At","User Message","AI Response"],de=H.map(ve=>[ve.chatId,ve.userId,ve.createdAt,`"${ve.userMessage.replace(/"/g,'""')}"`,`"${ve.aiResponse.replace(/"/g,'""')}"`]),T=[ie,...de].map(ve=>ve.join(",")).join(`
`),Z=new Blob([T],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a"),ge=URL.createObjectURL(Z);ae.setAttribute("href",ge),ae.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}else{const ie=JSON.stringify(H,null,2),de=new Blob([ie],{type:"application/json;charset=utf-8;"}),T=document.createElement("a"),Z=URL.createObjectURL(de);T.setAttribute("href",Z),T.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.json`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)}};if(c)return o.jsx("div",{className:"admin-card",children:o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{style:{color:"var(--admin-text-muted)"},children:r("admin.loading")})})});if(d)return o.jsx("div",{className:"admin-card",children:o.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[o.jsx("p",{className:"font-semibold mb-2",children:r("admin.error")}),o.jsx("p",{className:"text-sm whitespace-pre-line mb-3",children:d}),d.includes("Row Level Security")&&o.jsxs("div",{className:"mt-3 p-3 rounded text-xs",style:{backgroundColor:"rgba(0,0,0,0.2)",color:"var(--admin-text-muted)"},children:[o.jsx("p",{className:"font-semibold mb-2",children:"To fix RLS in Supabase:"}),o.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[o.jsx("li",{children:"Go to Supabase Dashboard → Table Editor"}),o.jsx("li",{children:'Select "chat" table'}),o.jsx("li",{children:'Click "RLS" tab'}),o.jsx("li",{children:'Add policy: "Enable read access for all users"'}),o.jsxs("li",{children:["Policy command: ",o.jsx("code",{children:"SELECT"}),", Target roles: ",o.jsx("code",{children:"anon"})]})]})]}),o.jsx("button",{onClick:ee,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:r("actions.refresh")})]})});const wn=s.slice(0,C);return o.jsxs("div",{className:"admin-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[r("admin.recentConversations")," (",s.length,")"]}),o.jsx("button",{className:"icon-btn",onClick:Y,disabled:h,title:r("actions.refresh"),children:o.jsx(Qc,{size:18,className:h?"animate-spin":""})})]}),o.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 rounded-md overflow-hidden",style:{border:"1px solid var(--admin-border)"},children:[o.jsx("button",{onClick:()=>B("card"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:re==="card"?"var(--admin-primary)":"transparent",color:re==="card"?"#041220":"var(--admin-text)"},title:"Card View",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),o.jsx("button",{onClick:()=>B("table"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:re==="table"?"var(--admin-primary)":"transparent",color:re==="table"?"#041220":"var(--admin-text)"},title:"Table View",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.sortBy"),":"]}),o.jsxs("select",{value:I,onChange:H=>O(H.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx("option",{value:"date-desc",children:r("admin.dateTimeNewest")}),o.jsx("option",{value:"date-asc",children:r("admin.dateTimeOldest")}),o.jsxs("option",{value:"user",children:[r("admin.user")," ID"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[o.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.search"),":"]}),o.jsx("input",{type:"text",placeholder:r("admin.searchConversations"),value:k,onChange:H=>E(H.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(V||L||N)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),V&&o.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(34, 197, 94, 0.2)",color:"var(--admin-success)"},children:["Session: ",V]}),L&&o.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",L]}),N&&o.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(N).toLocaleDateString()]}),o.jsx("button",{onClick:Wn,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:"✕ Clear"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:R,onChange:H=>F(H.target.value),children:[o.jsx("option",{children:"CSV"}),o.jsx("option",{children:"JSON"})]}),o.jsx("button",{onClick:Or,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),wn.length===0?o.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:o.jsx("p",{children:k?"No conversations match your search":"No conversations found"})}):re==="table"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:0},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.6)",borderBottom:"2px solid var(--admin-border)"},children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"User ID"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"120px"},children:"Session ID"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"User Message"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"AI Response"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"User FB"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Admin"})]})}),o.jsx("tbody",{children:wn.map((H,ie)=>o.jsxs("tr",{id:`chat-${H.chat_id}`,className:"border-b transition-colors hover:bg-gray-100/5",style:{backgroundColor:t===H.chat_id?"rgba(59, 230, 255, 0.1)":ie%2===0?"rgba(9, 14, 34, 0.3)":"rgba(9, 14, 34, 0.2)",borderColor:"var(--admin-border)"},children:[o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:o.jsx("button",{onClick:()=>Ze(H.created_at||""),className:"hover:underline cursor-pointer",title:"Click to filter by date",children:Q(H.created_at)})}),o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text)"},children:o.jsx("button",{onClick:()=>Te(H.user_id),className:"hover:underline cursor-pointer text-blue-300",title:"Click to filter by user",children:H.user_id})}),o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:H.session_id&&o.jsxs("button",{onClick:()=>ye(H.session_id),className:"hover:underline cursor-pointer text-green-300",title:"Click to filter by session",children:[H.session_id.substring(0,12),"..."]})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[250px]",style:{color:"var(--admin-text)"},children:o.jsx("div",{className:"truncate cursor-pointer hover:text-blue-400",onClick:()=>X(H,"good"),title:H.chat_message,children:H.chat_message})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[250px]",style:{color:"var(--admin-text-muted)"},children:o.jsx("div",{className:"truncate",title:H.response,children:H.response})}),o.jsx("td",{className:"px-3 py-2 text-center",children:H.user_feedback?o.jsx("button",{onClick:()=>Se(H.chat_id),className:"inline-flex items-center justify-center",title:"View user feedback",children:H.user_feedback.reaction==="good"?o.jsx(En,{size:16,style:{color:"var(--admin-success)"}}):o.jsx(Nn,{size:16,style:{color:"var(--admin-danger)"}})}):o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"-"})}),o.jsx("td",{className:"px-3 py-2 text-center",children:H.admin_feedback?o.jsxs("div",{className:"inline-flex items-center gap-1",children:[H.admin_feedback.feedback_verdict==="good"?o.jsx(En,{size:16,style:{color:"var(--admin-success)"}}):o.jsx(Nn,{size:16,style:{color:"var(--admin-danger)"}}),o.jsx("button",{onClick:()=>Ae(H),className:"text-xs px-1 py-0.5 rounded hover:bg-blue-500/20",style:{color:"var(--admin-primary)"},children:"Edit"})]}):o.jsxs("div",{className:"inline-flex gap-1",children:[o.jsx("button",{onClick:()=>X(H,"good"),className:"p-1 rounded hover:bg-green-500/20",title:"Good",children:o.jsx(En,{size:14,style:{color:"var(--admin-success)"}})}),o.jsx("button",{onClick:()=>X(H,"bad"),className:"p-1 rounded hover:bg-red-500/20",title:"Bad",children:o.jsx(Nn,{size:14,style:{color:"var(--admin-danger)"}})})]})})]},H.id))})]})}):o.jsx("div",{className:"space-y-3",children:wn.map(H=>o.jsxs("div",{id:`chat-${H.chat_id}`,className:"p-4 rounded-lg border transition-all duration-500",style:{backgroundColor:t===H.chat_id?"rgba(59, 230, 255, 0.15)":"rgba(9, 14, 34, 0.4)",borderColor:t===H.chat_id?"var(--admin-primary)":"var(--admin-border)",boxShadow:t===H.chat_id?"0 0 20px rgba(59, 230, 255, 0.3)":"none"},children:[o.jsx("div",{className:"flex items-start justify-between mb-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["User:",o.jsx("button",{onClick:()=>Te(H.user_id),className:`ml-1 hover:underline cursor-pointer ${L===H.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:H.user_id})]}),o.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",H.chat_id]}),H.session_id&&o.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Session:",o.jsx("button",{onClick:()=>ye(H.session_id),className:`ml-1 hover:underline cursor-pointer ${V===H.session_id?"text-green-400 font-semibold":"text-green-300"}`,title:"Click to filter by this session",children:H.session_id})]}),o.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:o.jsx("button",{onClick:()=>Ze(H.created_at||""),className:`hover:underline cursor-pointer ${N===H.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:Q(H.created_at)})})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:[r("admin.userMessage"),":"]}),o.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>ue(H.chat_id),title:"Click to expand/collapse",children:[j.has(H.chat_id)?H.chat_message:M(H.chat_message),!j.has(H.chat_id)&&H.chat_message.length>100&&o.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:[r("admin.aiResponse"),":"]}),o.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>ue(H.chat_id),title:"Click to expand/collapse",children:[j.has(H.chat_id)?H.response:M(H.response),!j.has(H.chat_id)&&H.response.length>100&&o.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",style:{borderColor:"var(--admin-border)"},children:[o.jsx("div",{className:"flex items-center gap-2",children:H.user_feedback?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"User:"}),H.user_feedback.reaction==="good"?o.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[o.jsx(En,{size:14}),o.jsx("span",{className:"text-xs",children:"+"})]}):o.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[o.jsx(Nn,{size:14}),o.jsx("span",{className:"text-xs",children:"-"})]}),o.jsx("button",{onClick:()=>Se(H.chat_id),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View user feedback details",children:"Details"})]}):o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"No user feedback"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Admin:"}),H.admin_feedback?o.jsxs("div",{className:"flex items-center gap-2",children:[H.admin_feedback.feedback_verdict==="good"?o.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[o.jsx(En,{size:14}),o.jsx("span",{className:"text-xs",children:"Good"})]}):o.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[o.jsx(Nn,{size:14}),o.jsx("span",{className:"text-xs",children:"Bad"})]}),o.jsx("button",{onClick:()=>Ae(H),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View/Edit admin feedback",children:"Edit"})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>X(H,"good"),className:"p-1.5 rounded transition-colors hover:bg-green-500/20",title:"Mark as good",children:o.jsx(En,{size:14,style:{color:"var(--admin-success, #10b981)"}})}),o.jsx("button",{onClick:()=>X(H,"bad"),className:"p-1.5 rounded transition-colors hover:bg-red-500/20",title:"Mark as bad",children:o.jsx(Nn,{size:14,style:{color:"var(--admin-danger, #ef4444)"}})})]})]})]})]},H.id))}),s.length>C&&o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("button",{onClick:()=>P(H=>H+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",s.length-C," remaining)"]})}),m&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"rounded-lg max-w-2xl w-full mx-4",style:{backgroundColor:"var(--admin-bg-card)",border:"1px solid var(--admin-border)",maxHeight:"90vh",overflow:"auto"},children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[m.existingFeedback?"✏️ Edit Admin Feedback":"Admin Feedback"," ",m.verdict==="good"?"👍":"👎"]}),o.jsx("button",{onClick:he,className:"p-1 hover:bg-gray-100/10 rounded",style:{color:"var(--admin-text-secondary)"},children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.userMessage"),":"]}),o.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.userMessage})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.aiResponse"),":"]}),o.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.aiResponse})})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Supervisor Feedback:"}),o.jsx("textarea",{value:y,onChange:H=>x(H.target.value),placeholder:"Explain what was wrong with this response...",className:"w-full h-24 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Corrected Response:"}),o.jsx("textarea",{value:b,onChange:H=>w(H.target.value),placeholder:"Enter the corrected response...",className:"w-full h-32 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:he,disabled:S,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"transparent",border:"1px solid var(--admin-border)",color:"var(--admin-text)"},children:"Cancel"}),o.jsx("button",{onClick:U,disabled:S,className:"px-6 py-2 text-sm font-medium rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:S?.6:1},children:S?"Submitting...":"Submit"})]})]})})}),W&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(10px)",opacity:1,background:"var(--admin-card)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"var(--admin-text)"},children:"📝 User Feedback Details"}),o.jsx("button",{onClick:()=>A(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--admin-text)"},children:"Chat ID:"}),o.jsx("span",{className:"text-xs font-mono px-2 py-1 rounded",style:{backgroundColor:"var(--admin-primary)",color:"white"},children:W.chatId})]}),o.jsx("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date().toLocaleString()})]}),W.feedback?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center gap-4 p-4 rounded-lg border-2",style:{borderColor:W.feedback.reaction==="good"?"#10b981":"#ef4444",backgroundColor:W.feedback.reaction==="good"?"#f0fdf4":"#fef2f2"},children:o.jsxs("div",{className:"flex items-center gap-2",children:[W.feedback.reaction==="good"?o.jsx(En,{size:24,className:"text-green-600"}):o.jsx(Nn,{size:24,className:"text-red-600"}),o.jsx("span",{className:"font-semibold text-lg",style:{color:W.feedback.reaction==="good"?"#059669":"#dc2626"},children:W.feedback.reaction==="good"?"Positive Feedback":"Negative Feedback"})]})}),W.feedback.feedback_text&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2 flex items-center gap-2",style:{color:"var(--admin-text)"},children:"💬 User's Comment:"}),o.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:o.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--admin-text)"},children:['"',W.feedback.feedback_text,'"']})})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--admin-text-muted)"},children:[o.jsx("span",{children:"📅"}),o.jsxs("span",{children:["Feedback submitted: ",new Date(W.feedback.created_at).toLocaleString()]})]})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:"😶"}),o.jsx("p",{className:"text-lg",style:{color:"var(--admin-text-muted)"},children:"No user feedback found for this chat."})]})]}),o.jsx("div",{className:"flex justify-center mt-8",children:o.jsx("button",{onClick:()=>A(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})}function Moe({selectedTerm:e="2025-fall",selectedSubject:t="machine-learning",selectedLanguage:n="en",onSelectedLanguageChange:r}){rt();const[i,a]=v.useState([]),[s,l]=v.useState([]),[c,u]=v.useState(n||"en");n&&n!==c&&u(n);const[d,f]=v.useState(""),[h,p]=v.useState("date-desc"),[m,g]=v.useState(10),[y,x]=v.useState("table"),[b,w]=v.useState(!1),[S,_]=v.useState("all"),[k,E]=v.useState("5"),[I,O]=v.useState(null),[C,P]=v.useState(""),[R,F]=v.useState(""),[V,J]=v.useState(!1);v.useEffect(()=>{a([]),l([])},[]),v.useEffect(()=>{if(!t||!e)return;const z=[{en:"Hi everyone, good morning.",ko:"안녕하세요 여러분, 좋은 아침입니다.",ja:"皆さん、おはようございます。",zh:"大家好，早上好。",es:"Hola a todos, buenos días.",fr:"Bonjour à tous, bon matin.",pt:"Olá a todos, bom dia.",ru:"Всем привет, доброе утро.",hi:"सभी को नमस्ते, शुभ प्रभात।",ar:"مرحباً بالجميع، صباح الخير."},{en:"Today we will cover the basics of this topic.",ko:"오늘은 이 주제의 기초를 다루겠습니다.",ja:"今日はこのトピックの基礎を扱います。",zh:"今天我们将讲解这个主题的基础。",es:"Hoy veremos lo básico de este tema.",fr:"Aujourd'hui nous verrons les bases de ce sujet.",pt:"Hoje veremos o básico deste tema.",ru:"Сегодня мы разберём основы этой темы.",hi:"आज हम इस विषय की बुनियादी बातें सीखेंगे।",ar:"اليوم سنغطي أساسيات هذا الموضوع."},{en:"Please open your notebook and follow along.",ko:"노트를 열고 함께 따라와 주세요.",ja:"ノートを開いて一緒に進めてください。",zh:"请打开笔记本并跟着一起做。",es:"Abran su cuaderno y sigan conmigo.",fr:"Ouvrez votre cahier et suivez-moi.",pt:"Abram o caderno e sigam comigo.",ru:"Откройте тетрадь и следуйте вместе со мной.",hi:"कृपया अपनी नोटबुक खोलें और साथ चलें।",ar:"يرجى فتح الدفتر والمتابعة معي."},{en:"Practice is the best way to learn effectively.",ko:"효과적으로 배우는 가장 좋은 방법은 연습입니다.",ja:"効果的に学ぶ最良の方法は練習です。",zh:"提高学习效果的最佳方法是练习。",es:"La práctica es la mejor forma de aprender de manera efectiva.",fr:"La pratique est la meilleure façon d'apprendre efficacement.",pt:"A prática é a melhor forma de aprender com eficácia.",ru:"Практика — лучший способ эффективно учиться.",hi:"प्रभावी ढंग से सीखने का सबसे अच्छा तरीका अभ्यास है।",ar:"أفضل طريقة للتعلم بفعالية هي الممارسة."},{en:"Let’s move on to the next example.",ko:"다음 예제로 넘어가 보겠습니다.",ja:"次の例に進みましょう。",zh:"我们继续看下一个示例。",es:"Pasemos al siguiente ejemplo.",fr:"Passons au prochain exemple.",pt:"Vamos para o próximo exemplo.",ru:"Перейдём к следующему примеру.",hi:"आइए अगले उदाहरण पर आगे बढ़ते हैं।",ar:"دعونا ننتقل إلى المثال التالي."}],W=["en","ko","ja","zh","es","fr","pt","ru","hi","ar"],A=Y=>{const $=W.filter(U=>U!=="en"&&U!==Y),Q=Math.max(0,Math.min(3,Math.floor(Math.random()*4))),M=[...$].sort(()=>Math.random()-.5),X=["en"];return Y!=="en"&&X.push(Y),X.push(...M.slice(0,Q)),X},re=Y=>{const $=new Date("2025-10-27T14:00:00Z");$.setMinutes($.getMinutes()+Y*3);const Q=$.toISOString().replace("T"," ").slice(0,19),M=z[Y%z.length],X="ko",U=M.ko,ue=(Y+2)%5===0?`${U} ${M.en}`:U,Ae=A(c).map(Ze=>({language:Ze,text:M[Ze]})),ye=Math.random()<.85?"professor":"assistant",Te=Y%5+1;return{id:String(Y+1),date:Q,role:ye,sessionNo:Te,originalText:ue,originalLanguage:X,translations:Ae}},B=Array.from({length:30}).map((Y,$)=>re($));a(B);const ee=B.filter(Y=>String(Y.sessionNo)===k);l(ee)},[t,e,c]),v.useEffect(()=>{if(i.length===0)return;const z=i.filter(W=>String(W.sessionNo)===k);l(z)},[k,i]),v.useEffect(()=>{i.length!==0&&l(i)},[e,t,i]);const L={ko:"한국어",en:"English",ja:"日本語",zh:"中文 (Mandarin Chinese)",es:"Español",hi:"हिन्दी",fr:"Français",ar:"العربية",pt:"Português",ru:"Русский"},G=(z,W)=>{var ee;if(z.originalLanguage===W)return{language:W,text:z.originalText};const A=z.translations.find(Y=>Y.language===W);if(A)return A;const re=z.originalLanguage==="en"?z.originalText:((ee=z.translations.find(Y=>Y.language==="en"))==null?void 0:ee.text)||z.originalText,B=L[W]||W;return{language:W,text:`${re} (${B})`}},N=z=>{if(z==="CSV"){const W=`Original,Translation
`+i.map(ee=>{var Y;return`${ee.originalText},${((Y=G(ee,c))==null?void 0:Y.text)||""}`}).join(`
`),A=new Blob([W],{type:"text/csv"}),re=URL.createObjectURL(A),B=document.createElement("a");B.href=re,B.download="translations.csv",B.click()}},D=async()=>{if(I){if(I.verdict==="bad"&&!C&&!R){alert("For negative feedback, please provide either supervisor feedback or corrected response.");return}J(!0);try{a(z=>z.map(W=>W.id===I.entryId?{...W,adminFeedback:{verdict:I.verdict,feedbackText:C||void 0,correctedResponse:R||void 0}}:W)),O(null),P(""),F(""),alert("Admin feedback submitted successfully!")}catch(z){console.error("Failed to submit admin feedback:",z),alert("Failed to submit feedback. Please try again.")}finally{J(!1)}}},j=()=>{O(null),P(""),F("")};return b?o.jsx("div",{style:{textAlign:"center",padding:"40px"},children:"Loading..."}):o.jsxs("div",{style:{padding:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,fontSize:"24px",fontWeight:700},children:"번역 기록"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[o.jsxs("div",{style:{fontSize:"14px",color:"var(--admin-text-muted)"},children:["Recent Translations (",i.length,")"]}),o.jsx("span",{style:{fontSize:"12px",padding:"4px 8px",background:"rgba(59,230,255,0.15)",color:"#a8e9ff",border:"1px solid rgba(59,230,255,0.35)",borderRadius:"12px"},children:(()=>({"machine-learning":"Machine Learning","deep-learning":"Deep Learning",nlp:"Natural Language Processing","computer-vision":"Computer Vision","reinforcement-learning":"Reinforcement Learning"})[t]||t)()}),o.jsx("span",{style:{fontSize:"12px",padding:"4px 8px",background:"rgba(37,99,235,0.15)",color:"#93c5fd",border:"1px solid rgba(37,99,235,0.35)",borderRadius:"12px"},children:(()=>{const[z,W]=e.split("-");return`${z} ${{spring:"봄",summer:"여름",fall:"가을",winter:"겨울"}[W]||W}`})()})]})]}),o.jsx("button",{onClick:()=>{},style:{padding:"8px",background:"transparent",border:"none",cursor:"pointer",color:"var(--admin-text-muted)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Qc,{size:20})})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px",flexWrap:"wrap",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"수업 회차"}),o.jsx("select",{value:k,onChange:z=>E(z.target.value),style:{padding:"8px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px"},children:["5","4","3","2","1"].map(z=>o.jsx("option",{value:z,children:`Session ${z}`},z))})]}),o.jsx("div",{style:{display:"flex",gap:"4px",background:"var(--admin-card-bg)",borderRadius:"6px",padding:"4px"},children:o.jsx("button",{onClick:()=>x("table"),style:{padding:"6px 12px",background:y==="table"?"var(--admin-primary)":"transparent",color:y==="table"?"white":"var(--admin-text)",border:"none",borderRadius:"4px",cursor:"pointer"},children:"목록"})}),o.jsxs("select",{value:h,onChange:z=>p(z.target.value),style:{padding:"8px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px"},children:[o.jsx("option",{value:"date-desc",children:"최신순"}),o.jsx("option",{value:"date-asc",children:"과거순"}),o.jsx("option",{value:"user",children:"사용자 순"})]}),o.jsxs("select",{value:S,onChange:z=>_(z.target.value),style:{padding:"8px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px"},children:[o.jsx("option",{value:"all",children:"모든 언어"}),o.jsx("option",{value:"en",children:"원문: English"}),o.jsx("option",{value:"zh",children:"원문: Mandarin Chinese"}),o.jsx("option",{value:"es",children:"원문: Spanish"}),o.jsx("option",{value:"hi",children:"원문: Hindi"}),o.jsx("option",{value:"fr",children:"원문: French"}),o.jsx("option",{value:"ar",children:"원문: Arabic"}),o.jsx("option",{value:"pt",children:"원문: Portuguese"}),o.jsx("option",{value:"ru",children:"원문: Russian"}),o.jsx("option",{value:"ko",children:"원문: Korean"}),o.jsx("option",{value:"ja",children:"원문: Japanese"})]}),o.jsx("input",{type:"text",placeholder:"검색...",value:d,onChange:z=>f(z.target.value),style:{padding:"8px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px",flex:1,minWidth:"200px"}}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsxs("select",{onChange:z=>N(z.target.value),style:{padding:"8px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px"},children:[o.jsx("option",{children:"CSV"}),o.jsx("option",{children:"JSON"})]}),o.jsx("button",{onClick:()=>N("CSV"),style:{padding:"8px 16px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Export"})]})]}),o.jsx("div",{style:{background:"var(--admin-card-bg)",borderRadius:"8px",border:"1px solid var(--admin-border)",overflowX:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{borderBottom:"1px solid var(--admin-border)"},children:[o.jsx("th",{style:{padding:"12px",textAlign:"left",color:"var(--admin-text-muted)",fontWeight:600,width:200},children:"일시/역할"}),o.jsx("th",{style:{padding:"12px",textAlign:"left",color:"var(--admin-text-muted)",fontWeight:700,background:"rgba(59,230,255,0.12)"},children:"원문"}),o.jsx("th",{style:{padding:"12px",textAlign:"left",color:"var(--admin-text-muted)",fontWeight:700,background:"rgba(37,99,235,0.12)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"space-between"},children:[o.jsx("span",{children:"번역"}),o.jsxs("select",{value:c,onChange:z=>{u(z.target.value),r&&r(z.target.value)},onClick:z=>z.stopPropagation(),style:{padding:"4px 8px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:[o.jsx("option",{value:"en",children:"🇺🇸 English"}),o.jsx("option",{value:"zh",children:"🇨🇳 Mandarin Chinese"}),o.jsx("option",{value:"es",children:"🇪🇸 Spanish"}),o.jsx("option",{value:"hi",children:"🇮🇳 Hindi"}),o.jsx("option",{value:"fr",children:"🇫🇷 French"}),o.jsx("option",{value:"ar",children:"🇸🇦 Arabic"}),o.jsx("option",{value:"pt",children:"🇵🇹 Portuguese"}),o.jsx("option",{value:"ru",children:"🇷🇺 Russian"}),o.jsx("option",{value:"ko",children:"🇰🇷 Korean"}),o.jsx("option",{value:"ja",children:"🇯🇵 Japanese"})]})]})})]})}),o.jsx("tbody",{children:s.slice(0,m).map(z=>{const W=c,A=G(z,W);return o.jsxs("tr",{style:{borderBottom:"1px solid var(--admin-border)",transition:"background 0.2s"},onMouseEnter:re=>re.currentTarget.style.background="var(--admin-bg)",onMouseLeave:re=>re.currentTarget.style.background="transparent",children:[o.jsx("td",{style:{padding:"12px",color:"var(--admin-text)",whiteSpace:"nowrap",width:200},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[o.jsx("span",{style:{fontSize:"11px",color:"var(--admin-text-muted)"},children:z.date}),o.jsx("span",{style:{fontSize:"11px",padding:"2px 8px",borderRadius:"12px",background:z.role==="professor"?"rgba(59,230,255,0.15)":"rgba(255,196,0,0.2)",color:z.role==="professor"?"#a8e9ff":"#ffd166",border:"1px solid rgba(255,255,255,0.2)"},children:z.role==="professor"?"교수":"조교"}),o.jsx("span",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:`Session ${z.sessionNo}`})]})}),o.jsx("td",{style:{padding:"12px",color:"var(--admin-text)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx("span",{style:{fontSize:"11px",padding:"2px 6px",background:"var(--admin-border)",borderRadius:"4px",color:"var(--admin-text-muted)"},children:L[z.originalLanguage]||z.originalLanguage}),o.jsx("span",{children:z.originalText})]})}),o.jsx("td",{style:{padding:"12px",background:"rgba(37,99,235,0.10)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"var(--admin-primary)",flex:1},children:[o.jsx("span",{style:{fontSize:"11px",padding:"2px 6px",background:"var(--admin-primary)",color:"white",borderRadius:"4px"},children:L[W]||W}),o.jsx("span",{children:(A==null?void 0:A.text)||"-"})]})})]},z.id)})})]})}),i.length>m&&o.jsx("div",{style:{textAlign:"center",marginTop:"20px"},children:o.jsxs("button",{onClick:()=>g(m+10),style:{padding:"12px 24px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:["Load More (",i.length-m," remaining)"]})}),I&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:o.jsxs("div",{style:{background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px",maxWidth:"600px",width:"100%",padding:"24px",maxHeight:"90vh",overflow:"auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsxs("h3",{style:{fontSize:"18px",fontWeight:600,color:"var(--admin-text)"},children:["Admin Feedback ",I.verdict==="good"?"👍":"👎"]}),o.jsx("button",{onClick:j,style:{padding:"4px",background:"transparent",border:"none",cursor:"pointer",color:"var(--admin-text-secondary)"},children:o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text-muted)",marginBottom:"8px"},children:"원문:"}),o.jsx("div",{style:{padding:"12px",background:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)",borderRadius:"6px"},children:o.jsx("p",{style:{fontSize:"14px",color:"var(--admin-text)"},children:I.originalText})})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("p",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text-muted)",marginBottom:"8px"},children:"번역:"}),o.jsx("div",{style:{padding:"12px",background:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)",borderRadius:"6px"},children:o.jsx("p",{style:{fontSize:"14px",color:"var(--admin-text)"},children:I.translatedText})})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,marginBottom:"8px",color:"var(--admin-text)"},children:"Supervisor Feedback:"}),o.jsx("textarea",{value:C,onChange:z=>P(z.target.value),placeholder:"Explain what was wrong with this translation...",style:{width:"100%",height:"80px",padding:"12px",background:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px",resize:"none",fontFamily:"inherit"}})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,marginBottom:"8px",color:"var(--admin-text)"},children:"Corrected Translation:"}),o.jsx("textarea",{value:R,onChange:z=>F(z.target.value),placeholder:"Enter the corrected translation...",style:{width:"100%",height:"100px",padding:"12px",background:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",fontSize:"14px",resize:"none",fontFamily:"inherit"}})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[o.jsx("button",{onClick:j,disabled:V,style:{padding:"8px 16px",background:"transparent",border:"1px solid var(--admin-border)",color:"var(--admin-text)",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500},children:"Cancel"}),o.jsx("button",{onClick:D,disabled:V,style:{padding:"8px 16px",background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:500,opacity:V?.6:1},children:V?"Submitting...":"Submit"})]})]})})]})}function Loe({onScrollToChat:e}){const{t}=rt(),[n,r]=v.useState([]),[i,a]=v.useState([]),[s,l]=v.useState(!0),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,p]=v.useState(""),[m,g]=v.useState("date-desc"),[y,x]=v.useState("all"),[b,w]=v.useState(10),[S,_]=v.useState("CSV"),[k,E]=v.useState(null),[I,O]=v.useState(null),[C,P]=v.useState("table");v.useEffect(()=>{R()},[]),v.useEffect(()=>{V()},[n,h,m,y,k,I]);const R=async()=>{l(!0),u(null);try{const B=await Ya();r(B)}catch(B){console.error("Failed to load user feedback:",B),u(B instanceof Error?B.message:"Failed to load user feedback")}finally{l(!1)}},F=async()=>{f(!0);try{const B=await Ya();r(B)}catch(B){console.error("Failed to refresh user feedback:",B),u(B instanceof Error?B.message:"Failed to refresh user feedback")}finally{f(!1)}},V=()=>{let B=[...n];if(y!=="all"&&(B=B.filter(ee=>ee.reaction===y)),k&&(B=B.filter(ee=>ee.user_id===k)),I&&(B=B.filter(ee=>{if(!ee.created_at)return!1;const Y=new Date(ee.created_at).toDateString(),$=new Date(I).toDateString();return Y===$})),h){const ee=h.toLowerCase();B=B.filter(Y=>{var $,Q,M;return(($=Y.user_id)==null?void 0:$.toLowerCase().includes(ee))||((Q=Y.chat_id)==null?void 0:Q.toLowerCase().includes(ee))||((M=Y.feedback_text)==null?void 0:M.toLowerCase().includes(ee))})}B.sort((ee,Y)=>{switch(m){case"date-desc":return new Date(Y.created_at||"").getTime()-new Date(ee.created_at||"").getTime();case"date-asc":return new Date(ee.created_at||"").getTime()-new Date(Y.created_at||"").getTime();case"user":return(ee.user_id||"").localeCompare(Y.user_id||"");default:return 0}}),a(B)},J=async B=>{const ee=n.find(Y=>Y.id===B);if(ee)if(!ee.isExpanded&&!ee.chatData){console.log(`Fetching chat data for feedback ${B} with chat_id: ${ee.chat_id}`);const Y=await nR(ee.chat_id);Y?(console.log(`✅ Successfully loaded chat data for ${ee.chat_id}`),r($=>$.map(Q=>Q.id===B?{...Q,chatData:Y,isExpanded:!0}:Q))):(console.warn(`❌ Could not load chat data for ${ee.chat_id}. This might be due to a chat_id mismatch.`),r($=>$.map(Q=>Q.id===B?{...Q,chatData:null,isExpanded:!0}:Q)))}else r(Y=>Y.map($=>$.id===B?{...$,isExpanded:!$.isExpanded}:$))},L=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleString()}catch{return B}},G=B=>B==="good"?o.jsx(En,{size:16,style:{color:"var(--admin-success)"}}):B==="bad"?o.jsx(Nn,{size:16,style:{color:"var(--admin-danger)"}}):o.jsx("span",{className:"text-xs",children:B}),N=(B,ee=150)=>B?B.length<=ee?B:B.substring(0,ee)+"...":"",D=B=>{k===B?E(null):(E(B),O(null))},j=B=>{I===B?O(null):(O(B),E(null))},z=()=>{E(null),O(null),p(""),x("all")},W=async B=>{if(window.confirm("Are you sure you want to delete this user feedback? This action cannot be undone."))try{await ON(B),r(ee=>ee.filter(Y=>Y.id!==B)),console.log("✅ User feedback deleted successfully")}catch(ee){console.error("Failed to delete user feedback:",ee),alert("Failed to delete feedback. Please try again.")}},A=()=>{if(i.length===0){alert("No feedback to export");return}const B=i.map(ee=>{var Y,$;return{feedbackId:ee.id,chatId:ee.chat_id,userId:ee.user_id||"",reaction:ee.reaction||"",feedbackText:ee.feedback_text||"",createdAt:ee.created_at||"",userMessage:((Y=ee.chatData)==null?void 0:Y.chat_message)||"",aiResponse:(($=ee.chatData)==null?void 0:$.response)||""}});if(S==="CSV"){const ee=["Feedback ID","Chat ID","User ID","Reaction","Feedback Text","Created At","User Message","AI Response"],Y=B.map(U=>[U.feedbackId,U.chatId,U.userId,U.reaction,`"${U.feedbackText.replace(/"/g,'""')}"`,U.createdAt,`"${U.userMessage.replace(/"/g,'""')}"`,`"${U.aiResponse.replace(/"/g,'""')}"`]),$=[ee,...Y].map(U=>U.join(",")).join(`
`),Q=new Blob([$],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),X=URL.createObjectURL(Q);M.setAttribute("href",X),M.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.csv`),M.style.visibility="hidden",document.body.appendChild(M),M.click(),document.body.removeChild(M)}else{const ee=JSON.stringify(B,null,2),Y=new Blob([ee],{type:"application/json;charset=utf-8;"}),$=document.createElement("a"),Q=URL.createObjectURL(Y);$.setAttribute("href",Q),$.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.json`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)}};if(s)return o.jsx("div",{className:"admin-card",children:o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})});if(c)return o.jsx("div",{className:"admin-card",children:o.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[o.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),o.jsx("p",{className:"text-sm",children:c}),o.jsx("button",{onClick:R,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})});const re=i.slice(0,b);return o.jsxs("div",{className:"admin-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["User Feedback (",i.length,")"]}),o.jsx("button",{className:"icon-btn",onClick:F,disabled:d,title:t("actions.refresh"),children:o.jsx(Qc,{size:18,className:d?"animate-spin":""})})]}),o.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 rounded-md overflow-hidden",style:{border:"1px solid var(--admin-border)"},children:[o.jsx("button",{onClick:()=>P("card"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:C==="card"?"var(--admin-primary)":"transparent",color:C==="card"?"#041220":"var(--admin-text)"},title:"Card View",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),o.jsx("button",{onClick:()=>P("table"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:C==="table"?"var(--admin-primary)":"transparent",color:C==="table"?"#041220":"var(--admin-text)"},title:"Table View",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),o.jsxs("select",{value:m,onChange:B=>g(B.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),o.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),o.jsx("option",{value:"user",children:"User ID"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[o.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),o.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:B=>p(B.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(k||I)&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),k&&o.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",k]}),I&&o.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(I).toLocaleDateString()]}),o.jsx("button",{onClick:z,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:"✕ Clear"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:S,onChange:B=>_(B.target.value),children:[o.jsx("option",{children:"CSV"}),o.jsx("option",{children:"JSON"})]}),o.jsx("button",{onClick:A,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),o.jsxs("div",{className:"mb-4 flex gap-2",children:[o.jsxs("button",{onClick:()=>x("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${y==="all"?"font-semibold":""}`,style:{backgroundColor:y==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:y==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),o.jsxs("button",{onClick:()=>x("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="good"?"font-semibold":""}`,style:{backgroundColor:y==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:y==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx(En,{size:14})," Good (",n.filter(B=>B.reaction==="good").length,")"]}),o.jsxs("button",{onClick:()=>x("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="bad"?"font-semibold":""}`,style:{backgroundColor:y==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:y==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx(Nn,{size:14})," Bad (",n.filter(B=>B.reaction==="bad").length,")"]})]}),re.length===0?o.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:o.jsx("p",{children:h||y!=="all"?"No feedback matches your filters":"No user feedback found"})}):C==="table"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:0},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.6)",borderBottom:"2px solid var(--admin-border)"},children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"User ID"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Chat ID"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"70px"},children:"Reaction"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"Comment"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"User Message"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"AI Response"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"60px"},children:"Delete"})]})}),o.jsx("tbody",{children:re.map((B,ee)=>{var Y,$,Q,M;return o.jsxs("tr",{className:"border-b transition-colors hover:bg-gray-100/5",style:{backgroundColor:ee%2===0?"rgba(9, 14, 34, 0.3)":"rgba(9, 14, 34, 0.2)",borderColor:"var(--admin-border)"},children:[o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:o.jsx("button",{onClick:()=>j(B.created_at||""),className:"hover:underline cursor-pointer",title:"Click to filter by date",children:L(B.created_at)})}),o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text)"},children:o.jsx("button",{onClick:()=>D(B.user_id),className:"hover:underline cursor-pointer text-blue-300",title:"Click to filter by user",children:B.user_id})}),o.jsx("td",{className:"px-3 py-2 text-xs",children:o.jsx("button",{onClick:()=>e==null?void 0:e(B.chat_id),className:"text-blue-400 hover:text-blue-300 underline cursor-pointer truncate max-w-[120px] block",title:`Click to scroll to ${B.chat_id}`,children:B.chat_id.length>15?B.chat_id.substring(0,15)+"...":B.chat_id})}),o.jsx("td",{className:"px-3 py-2 text-center",children:B.reaction==="good"?o.jsx(En,{size:16,style:{color:"var(--admin-success)",display:"inline"}}):o.jsx(Nn,{size:16,style:{color:"var(--admin-danger)",display:"inline"}})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text)"},children:o.jsx("div",{className:"truncate",title:B.feedback_text||"",children:B.feedback_text||"-"})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text-muted)"},children:o.jsx("div",{className:"truncate",title:((Y=B.chatData)==null?void 0:Y.chat_message)||"",children:(($=B.chatData)==null?void 0:$.chat_message)||"N/A"})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text-muted)"},children:o.jsx("div",{className:"truncate",title:((Q=B.chatData)==null?void 0:Q.response)||"",children:((M=B.chatData)==null?void 0:M.response)||"N/A"})}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsx("button",{onClick:()=>W(B.id),className:"icon-btn hover:bg-red-500/20 transition-colors",title:"Delete feedback",children:o.jsx(zf,{size:16,style:{color:"var(--admin-danger)"}})})})]},B.id)})})]})}):o.jsx("div",{className:"space-y-3",children:re.map(B=>o.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)"},children:[o.jsxs("div",{className:"p-4 cursor-pointer hover:bg-opacity-60 transition-colors",onClick:()=>J(B.id),children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[G(B.reaction),o.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["User:",o.jsx("button",{onClick:ee=>{ee.stopPropagation(),D(B.user_id)},className:`ml-1 hover:underline cursor-pointer ${k===B.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:B.user_id})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:ee=>{ee.stopPropagation(),j(B.created_at||"")},className:`text-xs hover:underline cursor-pointer ${I===B.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:L(B.created_at)}),o.jsx("button",{onClick:ee=>{ee.stopPropagation(),W(B.id)},className:"icon-btn hover:bg-red-500/20 transition-colors",title:"Delete feedback",children:o.jsx(zf,{size:16,style:{color:"var(--admin-danger)"}})}),o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--admin-text-muted)",transform:B.isExpanded?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),o.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",o.jsx("button",{onClick:()=>e==null?void 0:e(B.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:B.chat_id})]}),B.feedback_text&&o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:N(B.feedback_text)})]}),B.isExpanded&&o.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--admin-border)"},children:B.chatData?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"User Message:"}),o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:B.chatData.chat_message})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:"AI Response:"}),o.jsx("button",{onClick:()=>e==null?void 0:e(B.chat_id),className:"text-sm text-left w-full p-2 rounded hover:bg-blue-500/10 transition-colors cursor-pointer",style:{color:"var(--admin-text)"},title:"Click to scroll to this chat in Recent Conversations",children:B.chatData.response})]})]}):B.chatData===null?o.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[o.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--admin-danger)"},children:"⚠️ Chat data not found"}),o.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"The chat associated with this feedback could not be loaded. This might be due to a mismatch between the feedback chat_id and the chat table ID format."}),o.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",B.chat_id]})]}):o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"Loading chat details..."})})]},B.id))}),i.length>b&&o.jsx("div",{className:"mt-4 text-center",children:o.jsxs("button",{onClick:()=>w(B=>B+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",i.length-b," remaining)"]})})]})}function n2({onScrollToChat:e,useMock:t=!1}){const{t:n}=rt(),[r,i]=v.useState([]),[a,s]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(null),[f,h]=v.useState(!1),[p,m]=v.useState(""),[g,y]=v.useState("date-desc"),[x,b]=v.useState("all"),[w,S]=v.useState(null),[_,k]=v.useState(null),[E,I]=v.useState("table");v.useEffect(()=>{O()},[]),v.useEffect(()=>{P()},[r,p,g,x,w,_]);const O=async()=>{c(!0),d(null);try{if(t){const L=Date.now(),G=["good","bad"],N=j=>{const z=new Date(L-j*36e5).toISOString(),W=`chat_${L-j*1e3}`,A=Math.random()<.75?"good":"bad";return{id:j,chat_id:W,updated_at:z,created_at:z,feedback_verdict:A,feedback_text:A==="good"?"-":"조금 더 간결하게 정리해 주세요.",corrected_response:A==="good"?"-":"요약: 핵심만 간단히 답변합니다.",apply:!1,chatData:{id:j,chat_id:W,session_id:`session_${1+j%5}`,user_id:`user_${100+j}`,chat_message:`질문 ${j+1}: 이 내용에 대해 설명해 주세요`,response:`답변 ${j+1}: 자세한 설명입니다.`,created_at:z,admin_feedback:null,user_feedback:null}}},D=Array.from({length:20}).map((j,z)=>N(z));i(D)}else{const L=await Lx(),G=await Promise.all(L.map(async N=>{const D=await nR(N.chat_id);return{...N,chatData:D,isEnabled:!0}}));i(G)}}catch(L){console.error("Failed to load admin feedback:",L),d(L instanceof Error?L.message:"Failed to load admin feedback")}finally{c(!1)}},C=async()=>{h(!0),await O(),h(!1)},P=()=>{let L=[...r];if(x!=="all"&&(L=L.filter(G=>G.feedback_verdict===x)),w&&(L=L.filter(G=>{var N;return((N=G.chatData)==null?void 0:N.user_id)===w})),_&&(L=L.filter(G=>{const N=G.updated_at||G.created_at;if(!N)return!1;const D=new Date(N).toDateString(),j=new Date(_).toDateString();return D===j})),p){const G=p.toLowerCase();L=L.filter(N=>{var D,j,z,W,A,re,B;return((D=N.chat_id)==null?void 0:D.toLowerCase().includes(G))||((j=N.feedback_text)==null?void 0:j.toLowerCase().includes(G))||((z=N.corrected_response)==null?void 0:z.toLowerCase().includes(G))||((A=(W=N.chatData)==null?void 0:W.chat_message)==null?void 0:A.toLowerCase().includes(G))||((B=(re=N.chatData)==null?void 0:re.response)==null?void 0:B.toLowerCase().includes(G))})}L.sort((G,N)=>{switch(g){case"date-desc":return new Date(N.updated_at||N.created_at||"").getTime()-new Date(G.updated_at||G.created_at||"").getTime();case"date-asc":return new Date(G.updated_at||G.created_at||"").getTime()-new Date(N.updated_at||N.created_at||"").getTime();case"verdict":return(G.feedback_verdict||"").localeCompare(N.feedback_verdict||"");default:return 0}}),s(L)},R=async L=>{const G=r.find(D=>D.id===L);if(!G)return;const N=!G.apply;i(D=>D.map(j=>j.id===L?{...j,apply:N}:j));try{const{updateAdminFeedbackField:D}=await Yr(()=>Promise.resolve().then(()=>vF),void 0);await D(L,{apply:N})}catch(D){console.error("Failed to update apply status:",D),i(j=>j.map(z=>z.id===L?{...z,apply:!N}:z))}},F=async L=>{if(window.confirm("Are you sure you want to delete this admin feedback? This action cannot be undone."))try{await NN(L),i(G=>G.filter(N=>N.id!==L)),console.log("✅ Admin feedback deleted successfully")}catch(G){console.error("Failed to delete admin feedback:",G),alert("Failed to delete feedback. Please try again.")}},V=L=>{if(!L)return"N/A";try{return new Date(L).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return L}},J=()=>{const L=a.filter(z=>(z==null?void 0:z.isEnabled)??!0);if(L.length===0){alert("No enabled feedback to export");return}const G=[["Chat ID","User ID","Date/Time","Verdict","User Message","AI Response","Feedback","Corrected Response"],...L.map(z=>{var W,A,re;return[z.chat_id,((W=z.chatData)==null?void 0:W.user_id)||"",V(z.updated_at||z.created_at),z.feedback_verdict,((A=z.chatData)==null?void 0:A.chat_message)||"",((re=z.chatData)==null?void 0:re.response)||"",z.feedback_text||"",z.corrected_response||""]})].map(z=>z.map(W=>`"${W}"`).join(",")).join(`
`),N=new Blob([G],{type:"text/csv"}),D=URL.createObjectURL(N),j=document.createElement("a");j.href=D,j.download=`admin-feedback-${new Date().toISOString().split("T")[0]}.csv`,j.click(),URL.revokeObjectURL(D)};return l?o.jsx("div",{className:"admin-card",children:o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx("p",{style:{color:"var(--admin-text-muted)"},children:n("admin.loading")})})}):u?o.jsx("div",{className:"admin-card",children:o.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[o.jsx("p",{className:"font-semibold mb-2",children:n("admin.error")}),o.jsx("p",{className:"text-sm",children:u}),o.jsx("button",{onClick:O,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:n("actions.refresh")})]})}):o.jsxs("div",{className:"admin-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["Admin Feedback (",a.length," feedback entries)"]}),o.jsx("button",{className:"icon-btn",onClick:C,disabled:f,title:n("actions.refresh"),children:o.jsx(Qc,{size:18,className:f?"animate-spin":""})})]}),o.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 rounded-md overflow-hidden",style:{border:"1px solid var(--admin-border)"},children:[o.jsx("button",{onClick:()=>I("card"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:E==="card"?"var(--admin-primary)":"transparent",color:E==="card"?"#041220":"var(--admin-text)"},title:"Card View",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),o.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),o.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),o.jsx("button",{onClick:()=>I("table"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:E==="table"?"var(--admin-primary)":"transparent",color:E==="table"?"#041220":"var(--admin-text)"},title:"Table View",children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),o.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),o.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),o.jsxs("select",{value:g,onChange:L=>y(L.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),o.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),o.jsx("option",{value:"verdict",children:"Verdict"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[o.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),o.jsx("input",{type:"text",placeholder:"Search feedback...",value:p,onChange:L=>m(L.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},defaultValue:"CSV",children:[o.jsx("option",{children:"CSV"}),o.jsx("option",{children:"JSON"})]}),o.jsx("button",{onClick:J,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsxs("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${x==="all"?"font-semibold":""}`,style:{backgroundColor:x==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:x==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",r.length,")"]}),o.jsxs("button",{onClick:()=>b("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${x==="good"?"font-semibold":""}`,style:{backgroundColor:x==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:x==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx(En,{size:14})," Good (",r.filter(L=>L.feedback_verdict==="good").length,")"]}),o.jsxs("button",{onClick:()=>b("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${x==="bad"?"font-semibold":""}`,style:{backgroundColor:x==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:x==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[o.jsx(Nn,{size:14})," Bad (",r.filter(L=>L.feedback_verdict==="bad").length,")"]})]}),a.length===0?o.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:o.jsx("p",{children:p||x!=="all"?"No feedback matches your filters":"No admin feedback found"})}):E==="table"?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:0},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.6)",borderBottom:"2px solid var(--admin-border)"},children:[o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Date"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"User ID"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Chat ID"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"70px"},children:"Verdict"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"180px"},children:"Feedback"}),o.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"180px"},children:"Corrected"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"Apply"}),o.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"60px"},children:"Delete"})]})}),o.jsx("tbody",{children:a.map((L,G)=>{var N;return o.jsxs("tr",{className:"border-b transition-colors hover:bg-gray-100/5",style:{backgroundColor:G%2===0?"rgba(9, 14, 34, 0.3)":"rgba(9, 14, 34, 0.2)",borderColor:"var(--admin-border)",opacity:(L==null?void 0:L.isEnabled)??!0?1:.5},children:[o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:V(L.updated_at||L.created_at)}),o.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text)"},children:((N=L.chatData)==null?void 0:N.user_id)||"N/A"}),o.jsx("td",{className:"px-3 py-2 text-xs",children:o.jsx("button",{onClick:()=>e==null?void 0:e(L.chat_id),className:"text-blue-400 hover:text-blue-300 underline cursor-pointer truncate max-w-[120px] block",title:`Click to scroll to ${L.chat_id}`,children:L.chat_id.length>15?L.chat_id.substring(0,15)+"...":L.chat_id})}),o.jsx("td",{className:"px-3 py-2 text-center",children:L.feedback_verdict==="good"?o.jsx(En,{size:16,style:{color:"var(--admin-success)",display:"inline"}}):o.jsx(Nn,{size:16,style:{color:"var(--admin-danger)",display:"inline"}})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text)"},children:o.jsx("div",{className:"truncate",title:L.feedback_text||"",children:L.feedback_text||"-"})}),o.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text-muted)"},children:o.jsx("div",{className:"truncate",title:L.corrected_response||"",children:L.corrected_response||"-"})}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsx("button",{onClick:()=>R(L.id),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors",style:{backgroundColor:L.apply?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},title:L.apply?"Applied to prompt":"Not applied",children:o.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform",style:{transform:L.apply?"translateX(1.25rem)":"translateX(0.25rem)"}})})}),o.jsx("td",{className:"px-3 py-2 text-center",children:o.jsx("button",{onClick:()=>F(L.id),className:"icon-btn hover:bg-red-500/20 transition-colors",title:"Delete feedback",children:o.jsx(zf,{size:16,style:{color:"var(--admin-danger)"}})})})]},L.id)})})]})}):o.jsx("div",{className:"space-y-3",children:a.map(L=>{var G,N,D;return o.jsx("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)",opacity:(L==null?void 0:L.isEnabled)??!0?1:.5},children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[L.feedback_verdict==="good"?o.jsx(En,{size:16,style:{color:"var(--admin-success)"}}):o.jsx(Nn,{size:16,style:{color:"var(--admin-danger)"}}),o.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:["User: ",((G=L.chatData)==null?void 0:G.user_id)||"Unknown"]})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:V(L.updated_at||L.created_at)}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("span",{className:"text-xs",style:{color:"var(--admin-text)"},children:"Apply to Prompt:"}),o.jsx("button",{onClick:()=>R(L.id),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors",style:{backgroundColor:L.apply?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},children:o.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:L.apply?"translateX(1.5rem)":"translateX(0.25rem)"}})})]}),o.jsx("button",{onClick:()=>F(L.id),className:"icon-btn hover:bg-red-500/20 transition-colors",title:"Delete feedback",children:o.jsx(zf,{size:16,style:{color:"var(--admin-danger)"}})})]})]}),o.jsxs("div",{className:"space-y-3",children:[((N=L.chatData)==null?void 0:N.chat_message)&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"User Message:"}),o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:L.chatData.chat_message})]}),o.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",o.jsx("button",{onClick:()=>e==null?void 0:e(L.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:L.chat_id})]}),((D=L.chatData)==null?void 0:D.response)&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"Original AI Response:"}),o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:L.chatData.response})]}),L.feedback_text&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-warning, #ff9800)"},children:"Supervisor Feedback:"}),o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:L.feedback_text})]}),L.corrected_response&&o.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",border:"1px solid rgba(59, 230, 255, 0.2)"},children:[o.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"Corrected Response:"}),o.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:L.corrected_response})]})]})]})},L.id)})})]})}const $oe=({message:e,type:t,onClose:n,duration:r=5e3})=>{v.useEffect(()=>{const s=setTimeout(()=>{n()},r);return()=>clearTimeout(s)},[r,n]);const i={success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"}[t],a={success:"✓",error:"✕",warning:"⚠",info:"ℹ"}[t];return o.jsxs("div",{style:{position:"fixed",top:"24px",right:"24px",zIndex:9999,backgroundColor:i,color:"white",padding:"16px 24px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",minWidth:"300px",maxWidth:"500px",animation:"slideIn 0.3s ease-out"},children:[o.jsx("span",{style:{fontSize:"20px",fontWeight:"bold"},children:a}),o.jsx("span",{style:{flex:1},children:e}),o.jsx("button",{onClick:n,style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"18px",padding:"0 4px",opacity:.8,transition:"opacity 0.2s"},onMouseEnter:s=>s.currentTarget.style.opacity="1",onMouseLeave:s=>s.currentTarget.style.opacity="0.8",children:"×"}),o.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `})]})},Foe=({toasts:e,removeToast:t})=>o.jsx(o.Fragment,{children:e.map((n,r)=>o.jsx("div",{style:{position:"fixed",top:`${24+r*80}px`,right:"24px",zIndex:9999},children:o.jsx($oe,{message:n.message,type:n.type,onClose:()=>t(n.id)})},n.id))});function rR(e,t){return function(){return e.apply(t,arguments)}}const{toString:zoe}=Object.prototype,{getPrototypeOf:aw}=Object,{iterator:bp,toStringTag:iR}=Symbol,wp=(e=>t=>{const n=zoe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nr=e=>(e=e.toLowerCase(),t=>wp(t)===e),kp=e=>t=>typeof t===e,{isArray:Uo}=Array,yo=kp("undefined");function Zc(e){return e!==null&&!yo(e)&&e.constructor!==null&&!yo(e.constructor)&&vn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aR=Nr("ArrayBuffer");function Uoe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aR(e.buffer),t}const Boe=kp("string"),vn=kp("function"),sR=kp("number"),eu=e=>e!==null&&typeof e=="object",Woe=e=>e===!0||e===!1,hd=e=>{if(wp(e)!=="object")return!1;const t=aw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(iR in e)&&!(bp in e)},Voe=e=>{if(!eu(e)||Zc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Koe=Nr("Date"),Hoe=Nr("File"),qoe=Nr("Blob"),Yoe=Nr("FileList"),Joe=e=>eu(e)&&vn(e.pipe),Goe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||vn(e.append)&&((t=wp(e))==="formdata"||t==="object"&&vn(e.toString)&&e.toString()==="[object FormData]"))},Xoe=Nr("URLSearchParams"),[Qoe,Zoe,ele,tle]=["ReadableStream","Request","Response","Headers"].map(Nr),nle=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Uo(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Zc(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],t.call(null,e[l],l,e)}}function oR(e,t){if(Zc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Da=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),lR=e=>!yo(e)&&e!==Da;function Cy(){const{caseless:e,skipUndefined:t}=lR(this)&&this||{},n={},r=(i,a)=>{const s=e&&oR(n,a)||a;hd(n[s])&&hd(i)?n[s]=Cy(n[s],i):hd(i)?n[s]=Cy({},i):Uo(i)?n[s]=i.slice():(!t||!yo(i))&&(n[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&tu(arguments[i],r);return n}const rle=(e,t,n,{allOwnKeys:r}={})=>(tu(t,(i,a)=>{n&&vn(i)?e[a]=rR(i,n):e[a]=i},{allOwnKeys:r}),e),ile=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ale=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sle=(e,t,n,r)=>{let i,a,s;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!l[s]&&(t[s]=e[s],l[s]=!0);e=n!==!1&&aw(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ole=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},lle=e=>{if(!e)return null;if(Uo(e))return e;let t=e.length;if(!sR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},cle=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&aw(Uint8Array)),ule=(e,t)=>{const r=(e&&e[bp]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},dle=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},fle=Nr("HTMLFormElement"),hle=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),r2=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ple=Nr("RegExp"),cR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tu(n,(i,a)=>{let s;(s=t(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},mle=e=>{cR(e,(t,n)=>{if(vn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(vn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gle=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Uo(e)?r(e):r(String(e).split(t)),n},vle=()=>{},yle=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function xle(e){return!!(e&&vn(e.append)&&e[iR]==="FormData"&&e[bp])}const ble=e=>{const t=new Array(10),n=(r,i)=>{if(eu(r)){if(t.indexOf(r)>=0)return;if(Zc(r))return r;if(!("toJSON"in r)){t[i]=r;const a=Uo(r)?[]:{};return tu(r,(s,l)=>{const c=n(s,i+1);!yo(c)&&(a[l]=c)}),t[i]=void 0,a}}return r};return n(e,0)},wle=Nr("AsyncFunction"),kle=e=>e&&(eu(e)||vn(e))&&vn(e.then)&&vn(e.catch),uR=((e,t)=>e?setImmediate:t?((n,r)=>(Da.addEventListener("message",({source:i,data:a})=>{i===Da&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Da.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",vn(Da.postMessage)),Sle=typeof queueMicrotask<"u"?queueMicrotask.bind(Da):typeof process<"u"&&process.nextTick||uR,jle=e=>e!=null&&vn(e[bp]),q={isArray:Uo,isArrayBuffer:aR,isBuffer:Zc,isFormData:Goe,isArrayBufferView:Uoe,isString:Boe,isNumber:sR,isBoolean:Woe,isObject:eu,isPlainObject:hd,isEmptyObject:Voe,isReadableStream:Qoe,isRequest:Zoe,isResponse:ele,isHeaders:tle,isUndefined:yo,isDate:Koe,isFile:Hoe,isBlob:qoe,isRegExp:ple,isFunction:vn,isStream:Joe,isURLSearchParams:Xoe,isTypedArray:cle,isFileList:Yoe,forEach:tu,merge:Cy,extend:rle,trim:nle,stripBOM:ile,inherits:ale,toFlatObject:sle,kindOf:wp,kindOfTest:Nr,endsWith:ole,toArray:lle,forEachEntry:ule,matchAll:dle,isHTMLForm:fle,hasOwnProperty:r2,hasOwnProp:r2,reduceDescriptors:cR,freezeMethods:mle,toObjectSet:gle,toCamelCase:hle,noop:vle,toFiniteNumber:yle,findKey:oR,global:Da,isContextDefined:lR,isSpecCompliantForm:xle,toJSONObject:ble,isAsyncFn:wle,isThenable:kle,setImmediate:uR,asap:Sle,isIterable:jle};function we(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const dR=we.prototype,fR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fR[e]={value:e}});Object.defineProperties(we,fR);Object.defineProperty(dR,"isAxiosError",{value:!0});we.from=(e,t,n,r,i,a)=>{const s=Object.create(dR);q.toFlatObject(e,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return we.call(s,l,c,n,r,i),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const _le=null;function Ey(e){return q.isPlainObject(e)||q.isArray(e)}function hR(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function i2(e,t,n){return e?e.concat(t).map(function(i,a){return i=hR(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Cle(e){return q.isArray(e)&&!e.some(Ey)}const Ele=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function Sp(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!q.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||d,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!c&&q.isBlob(m))throw new we("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,y){let x=m;if(m&&!y&&typeof m=="object"){if(q.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&Cle(m)||(q.isFileList(m)||q.endsWith(g,"[]"))&&(x=q.toArray(m)))return g=hR(g),x.forEach(function(w,S){!(q.isUndefined(w)||w===null)&&t.append(s===!0?i2([g],S,a):s===null?g:g+"[]",u(w))}),!1}return Ey(m)?!0:(t.append(i2(y,g,a),u(m)),!1)}const f=[],h=Object.assign(Ele,{defaultVisitor:d,convertValue:u,isVisitable:Ey});function p(m,g){if(!q.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),q.forEach(m,function(x,b){(!(q.isUndefined(x)||x===null)&&i.call(t,x,q.isString(b)?b.trim():b,g,h))===!0&&p(x,g?g.concat(b):[b])}),f.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return p(e),t}function a2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sw(e,t){this._pairs=[],e&&Sp(e,this,t)}const pR=sw.prototype;pR.append=function(t,n){this._pairs.push([t,n])};pR.toString=function(t){const n=t?function(r){return t.call(this,r,a2)}:a2;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Nle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function mR(e,t,n){if(!t)return e;const r=n&&n.encode||Nle;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=q.isURLSearchParams(t)?t.toString():new sw(t,n).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ole{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const s2=Ole,gR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ale=typeof URLSearchParams<"u"?URLSearchParams:sw,Ple=typeof FormData<"u"?FormData:null,Tle=typeof Blob<"u"?Blob:null,Ile={isBrowser:!0,classes:{URLSearchParams:Ale,FormData:Ple,Blob:Tle},protocols:["http","https","file","blob","url","data"]},ow=typeof window<"u"&&typeof document<"u",Ny=typeof navigator=="object"&&navigator||void 0,Dle=ow&&(!Ny||["ReactNative","NativeScript","NS"].indexOf(Ny.product)<0),Rle=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Mle=ow&&window.location.href||"http://localhost",Lle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ow,hasStandardBrowserEnv:Dle,hasStandardBrowserWebWorkerEnv:Rle,navigator:Ny,origin:Mle},Symbol.toStringTag,{value:"Module"})),Wt={...Lle,...Ile};function $le(e,t){return Sp(e,new Wt.classes.URLSearchParams,{visitor:function(n,r,i,a){return Wt.isNode&&q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Fle(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function zle(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function vR(e){function t(n,r,i,a){let s=n[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=n.length;return s=!s&&q.isArray(i)?i.length:s,c?(q.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!q.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],a)&&q.isArray(i[s])&&(i[s]=zle(i[s])),!l)}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(r,i)=>{t(Fle(r),i,n,0)}),n}return null}function Ule(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const lw={transitional:gR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=q.isObject(t);if(a&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return i?JSON.stringify(vR(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $le(t,this.formSerializer).toString();if((l=q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Sp(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Ule(t)):t}],transformResponse:[function(t){const n=this.transitional||lw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(s)throw l.name==="SyntaxError"?we.from(l,we.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{lw.headers[e]={}});const cw=lw,Ble=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wle=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&Ble[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},o2=Symbol("internals");function cl(e){return e&&String(e).trim().toLowerCase()}function pd(e){return e===!1||e==null?e:q.isArray(e)?e.map(pd):String(e)}function Vle(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Kle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ig(e,t,n,r,i){if(q.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!q.isString(t)){if(q.isString(r))return t.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(t)}}function Hle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qle(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,s){return this[r].call(this,t,i,a,s)},configurable:!0})})}class jp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(l,c,u){const d=cl(c);if(!d)throw new Error("header name must be a non-empty string");const f=q.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=pd(l))}const s=(l,c)=>q.forEach(l,(u,d)=>a(u,d,c));if(q.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(q.isString(t)&&(t=t.trim())&&!Kle(t))s(Wle(t),n);else if(q.isObject(t)&&q.isIterable(t)){let l={},c,u;for(const d of t){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?q.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(l,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=cl(t),t){const r=q.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Vle(i);if(q.isFunction(n))return n.call(this,i,r);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cl(t),t){const r=q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||ig(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(s){if(s=cl(s),s){const l=q.findKey(r,s);l&&(!n||ig(r,r[l],l,n))&&(delete r[l],i=!0)}}return q.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||ig(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return q.forEach(this,(i,a)=>{const s=q.findKey(r,a);if(s){n[s]=pd(i),delete n[a];return}const l=t?Hle(a):String(a).trim();l!==a&&delete n[a],n[l]=pd(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[o2]=this[o2]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=cl(s);r[l]||(qle(i,s),r[l]=!0)}return q.isArray(t)?t.forEach(a):a(t),this}}jp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(jp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});q.freezeMethods(jp);const jr=jp;function ag(e,t){const n=this||cw,r=t||n,i=jr.from(r.headers);let a=r.data;return q.forEach(e,function(l){a=l.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function yR(e){return!!(e&&e.__CANCEL__)}function Bo(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Bo,we,{__CANCEL__:!0});function xR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Yle(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jle(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[a];s||(s=u),n[i]=c,r[i]=u;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),u-s<t)return;const p=d&&u-d;return p?Math.round(h*1e3/p):void 0}}function Gle(e,t){let n=0,r=1e3/t,i,a;const s=(u,d=Date.now())=>{n=d,i=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?s(u,d):(i=u,a||(a=setTimeout(()=>{a=null,s(i)},r-f)))},()=>i&&s(i)]}const Bf=(e,t,n=3)=>{let r=0;const i=Jle(50,250);return Gle(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,u=i(c),d=s<=l;r=s;const f={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-s)/u:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},l2=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},c2=e=>(...t)=>q.asap(()=>e(...t)),Xle=Wt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Wt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Wt.origin),Wt.navigator&&/(msie|trident)/i.test(Wt.navigator.userAgent)):()=>!0,Qle=Wt.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),q.isString(r)&&s.push("path="+r),q.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Zle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ece(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bR(e,t,n){let r=!Zle(t);return e&&(r||n==!1)?ece(e,t):t}const u2=e=>e instanceof jr?{...e}:e;function ts(e,t){t=t||{};const n={};function r(u,d,f,h){return q.isPlainObject(u)&&q.isPlainObject(d)?q.merge.call({caseless:h},u,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(u,d,f,h){if(q.isUndefined(d)){if(!q.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function a(u,d){if(!q.isUndefined(d))return r(void 0,d)}function s(u,d){if(q.isUndefined(d)){if(!q.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(u,d,f)=>i(u2(u),u2(d),f,!0)};return q.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||i,h=f(e[d],t[d],d);q.isUndefined(h)&&f!==l||(n[d]=h)}),n}const wR=e=>{const t=ts({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=jr.from(s),t.url=mR(bR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),q.isFormData(n)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&s.set(d,f)})}}if(Wt.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(t)),r||r!==!1&&Xle(t.url))){const c=i&&a&&Qle.read(a);c&&s.set(i,c)}return t},tce=typeof XMLHttpRequest<"u",nce=tce&&function(e){return new Promise(function(n,r){const i=wR(e);let a=i.data;const s=jr.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,f,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const w=jr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),_={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};xR(function(E){n(E),g()},function(E){r(E),g()},_),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(r(new we("Request aborted",we.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const _=S&&S.message?S.message:"Network Error",k=new we(_,we.ERR_NETWORK,e,y);k.event=S||null,r(k),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||gR;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new we(S,_.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,y)),y=null},a===void 0&&s.setContentType(null),"setRequestHeader"in y&&q.forEach(s.toJSON(),function(S,_){y.setRequestHeader(_,S)}),q.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),l&&l!=="json"&&(y.responseType=i.responseType),u&&([h,m]=Bf(u,!0),y.addEventListener("progress",h)),c&&y.upload&&([f,p]=Bf(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{y&&(r(!w||w.type?new Bo(null,e,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=Yle(i.url);if(b&&Wt.protocols.indexOf(b)===-1){r(new we("Unsupported protocol "+b+":",we.ERR_BAD_REQUEST,e));return}y.send(a||null)})},rce=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof we?d:new Bo(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,a(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>q.asap(l),c}},ice=rce,ace=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},sce=async function*(e,t){for await(const n of oce(e))yield*ace(n,t)},oce=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},d2=(e,t,n,r)=>{const i=sce(e,t);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=a+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},f2=64*1024,{isFunction:Ku}=q,lce=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:h2,TextEncoder:p2}=q.global,m2=(e,...t)=>{try{return!!e(...t)}catch{return!1}},cce=e=>{e=q.merge.call({skipUndefined:!0},lce,e);const{fetch:t,Request:n,Response:r}=e,i=t?Ku(t):typeof fetch=="function",a=Ku(n),s=Ku(r);if(!i)return!1;const l=i&&Ku(h2),c=i&&(typeof p2=="function"?(m=>g=>m.encode(g))(new p2):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=a&&l&&m2(()=>{let m=!1;const g=new n(Wt.origin,{body:new h2,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),d=s&&l&&m2(()=>q.isReadableStream(new r("").body)),f={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,y)=>{let x=g&&g[m];if(x)return x.call(g);throw new we(`Response type '${m}' is not supported`,we.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new n(Wt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await c(m)).byteLength},p=async(m,g)=>{const y=q.toFiniteNumber(m.getContentLength());return y??h(g)};return async m=>{let{url:g,method:y,data:x,signal:b,cancelToken:w,timeout:S,onDownloadProgress:_,onUploadProgress:k,responseType:E,headers:I,withCredentials:O="same-origin",fetchOptions:C}=wR(m),P=t||fetch;E=E?(E+"").toLowerCase():"text";let R=ice([b,w&&w.toAbortSignal()],S),F=null;const V=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let J;try{if(k&&u&&y!=="get"&&y!=="head"&&(J=await p(I,x))!==0){let z=new n(g,{method:"POST",body:x,duplex:"half"}),W;if(q.isFormData(x)&&(W=z.headers.get("content-type"))&&I.setContentType(W),z.body){const[A,re]=l2(J,Bf(c2(k)));x=d2(z.body,f2,A,re)}}q.isString(O)||(O=O?"include":"omit");const L=a&&"credentials"in n.prototype,G={...C,signal:R,method:y.toUpperCase(),headers:I.normalize().toJSON(),body:x,duplex:"half",credentials:L?O:void 0};F=a&&new n(g,G);let N=await(a?P(F,C):P(g,G));const D=d&&(E==="stream"||E==="response");if(d&&(_||D&&V)){const z={};["status","statusText","headers"].forEach(B=>{z[B]=N[B]});const W=q.toFiniteNumber(N.headers.get("content-length")),[A,re]=_&&l2(W,Bf(c2(_),!0))||[];N=new r(d2(N.body,f2,A,()=>{re&&re(),V&&V()}),z)}E=E||"text";let j=await f[q.findKey(f,E)||"text"](N,m);return!D&&V&&V(),await new Promise((z,W)=>{xR(z,W,{data:j,headers:jr.from(N.headers),status:N.status,statusText:N.statusText,config:m,request:F})})}catch(L){throw V&&V(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,m,F),{cause:L.cause||L}):we.from(L,L&&L.code,m,F)}}},uce=new Map,kR=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let s=a.length,l=s,c,u,d=uce;for(;l--;)c=a[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:cce(t)),d=u;return u};kR();const Oy={http:_le,xhr:nce,fetch:{get:kR}};q.forEach(Oy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const g2=e=>`- ${e}`,dce=e=>q.isFunction(e)||e===null||e===!1,SR={getAdapter:(e,t)=>{e=q.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let s=0;s<n;s++){r=e[s];let l;if(i=r,!dce(r)&&(i=Oy[(l=String(r)).toLowerCase()],i===void 0))throw new we(`Unknown adapter '${l}'`);if(i&&(q.isFunction(i)||(i=i.get(t))))break;a[l||"#"+s]=i}if(!i){const s=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?s.length>1?`since :
`+s.map(g2).join(`
`):" "+g2(s[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Oy};function sg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bo(null,e)}function v2(e){return sg(e),e.headers=jr.from(e.headers),e.data=ag.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),SR.getAdapter(e.adapter||cw.adapter,e)(e).then(function(r){return sg(e),r.data=ag.call(e,e.transformResponse,r),r.headers=jr.from(r.headers),r},function(r){return yR(r)||(sg(e),r&&r.response&&(r.response.data=ag.call(e,e.transformResponse,r.response),r.response.headers=jr.from(r.response.headers))),Promise.reject(r)})}const jR="1.12.2",_p={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_p[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const y2={};_p.transitional=function(t,n,r){function i(a,s){return"[Axios v"+jR+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(t===!1)throw new we(i(s," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!y2[s]&&(y2[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,s,l):!0}};_p.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function fce(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new we("option "+a+" must be "+c,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+a,we.ERR_BAD_OPTION)}}const md={assertOptions:fce,validators:_p},Ir=md.validators;class Wf{constructor(t){this.defaults=t||{},this.interceptors={request:new s2,response:new s2}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ts(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&md.assertOptions(r,{silentJSONParsing:Ir.transitional(Ir.boolean),forcedJSONParsing:Ir.transitional(Ir.boolean),clarifyTimeoutError:Ir.transitional(Ir.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:md.assertOptions(i,{encode:Ir.function,serialize:Ir.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),md.assertOptions(n,{baseUrl:Ir.spelling("baseURL"),withXsrfToken:Ir.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&q.merge(a.common,a[n.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=jr.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!c){const m=[v2.bind(this),void 0];for(m.unshift(...l),m.push(...u),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=l.length;let p=n;for(;f<h;){const m=l[f++],g=l[f++];try{p=m(p)}catch(y){g.call(this,y);break}}try{d=v2.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ts(this.defaults,t);const n=bR(t.baseURL,t.url,t.allowAbsoluteUrls);return mR(n,t.params,t.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(t){Wf.prototype[t]=function(n,r){return this.request(ts(r||{},{method:t,url:n,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(t){function n(r){return function(a,s,l){return this.request(ts(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}Wf.prototype[t]=n(),Wf.prototype[t+"Form"]=n(!0)});const gd=Wf;class uw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},t(function(a,s,l){r.reason||(r.reason=new Bo(a,s,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new uw(function(i){t=i}),cancel:t}}}const hce=uw;function pce(e){return function(n){return e.apply(null,n)}}function mce(e){return q.isObject(e)&&e.isAxiosError===!0}const Ay={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ay).forEach(([e,t])=>{Ay[t]=e});const gce=Ay;function _R(e){const t=new gd(e),n=rR(gd.prototype.request,t);return q.extend(n,gd.prototype,t,{allOwnKeys:!0}),q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return _R(ts(e,i))},n}const mt=_R(cw);mt.Axios=gd;mt.CanceledError=Bo;mt.CancelToken=hce;mt.isCancel=yR;mt.VERSION=jR;mt.toFormData=Sp;mt.AxiosError=we;mt.Cancel=mt.CanceledError;mt.all=function(t){return Promise.all(t)};mt.spread=pce;mt.isAxiosError=mce;mt.mergeConfig=ts;mt.AxiosHeaders=jr;mt.formToJSON=e=>vR(q.isHTMLForm(e)?new FormData(e):e);mt.getAdapter=SR.getAdapter;mt.HttpStatusCode=gce;mt.default=mt;const nu=mt,ul="https://n8n.srv978041.hstgr.cloud",CR="1f18f1aa-44c4-467f-b299-c87c9b6f9459",Cp={UPLOAD:`${ul}/webhook/${CR}`,LIST_FILES:`${ul}/webhook/list-files`,DELETE_FILE:`${ul}/webhook/delete-file`,REINDEX_FILE:`${ul}/webhook/reindex-file`,GET_FILE_STATUS:`${ul}/webhook/file-status`};async function ER(e){const t=[];try{const n=new FormData;e.forEach(i=>{n.append("Files",i)});const r=await nu.post(Cp.UPLOAD,n,{headers:{Accept:"*/*","Content-Type":"multipart/form-data"},timeout:3e4});e.forEach(i=>{t.push({success:!0,message:"File uploaded successfully",fileName:i.name})}),console.log("RAG upload response:",r.data)}catch(n){console.error("Error uploading files to RAG:",n),e.forEach(r=>{var i,a;t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:((a=(i=n.response)==null?void 0:i.data)==null?void 0:a.message)||n.message||"Unknown error"})})}return t}async function vce(e){return(await ER([e]))[0]}async function yce(){var e,t;try{console.log("Fetching files from n8n RAG system...");const n=await nu.post(Cp.LIST_FILES,{},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4});console.log("Files fetched successfully:",n.data);let r=[];Array.isArray(n.data)?r=n.data:n.data.files&&Array.isArray(n.data.files)?r=n.data.files:n.data.data&&Array.isArray(n.data.data)?r=n.data.data:(console.warn("Unexpected response format from n8n:",n.data),r=[]);const i=r.map((a,s)=>({id:a.id||a.fileId||a.file_id||`file-${Date.now()}-${s}`,name:a.name||a.fileName||a.file_name||"Unknown",size:a.size||a.fileSize||a.file_size||0,type:a.type||a.contentType||a.content_type||"application/octet-stream",uploadedAt:a.uploadedAt||a.createdAt||a.uploadDate||a.created_at||new Date().toISOString(),status:a.status||"ready",url:a.url||a.downloadUrl||a.download_url,lastModified:a.lastModified||a.updatedAt||a.updated_at,syncStatus:"pending"}));console.log("🔍 Checking sync status for files (batched by filename)...");try{const a=Me(),{data:s,error:l}=await a.from("documents").select("metadata->>fileName as fileName");l&&console.warn("⚠️ Failed to fetch document filenames for sync check:",l);const c=new Set;if(s&&s.length>0)for(const u of s){const d=u.fileName;d&&typeof d=="string"&&c.add(d.trim().toLowerCase())}console.log("[SyncCheck] Indexed filenames count:",c.size),c.size>0&&console.log("[SyncCheck] Example indexed name:",Array.from(c)[0]);for(let u=0;u<i.length;u++){const d=i[u],f=(d.name||"").trim(),p=(f.includes("/")?f.substring(f.lastIndexOf("/")+1):f).toLowerCase();d.syncStatus=c.has(p)?"synced":"pending"}}catch(a){console.warn("⚠️ Error during batched sync status calculation:",a);for(let s=0;s<i.length;s++)i[s].syncStatus="error"}return{success:!0,files:i,total:i.length,message:"Files fetched successfully"}}catch(n){return console.error("Error fetching files from RAG:",n),{success:!1,files:[],total:0,message:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to fetch files"}}}function NR(e){let t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"_").replace(/\s+/g,"_").replace(/[<>:"/\\|?*]/g,"_").replace(/_+/g,"_").trim();return t.includes(".")||(t+=".txt"),t}function OR(e){return e.size>52428800?{valid:!1,error:"File size must be less than 50MB"}:(/[^\x00-\x7F]/.test(e.name),["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown","application/json","text/html"].includes(e.type)?{valid:!0}:{valid:!1,error:"Unsupported file type. Please upload PDF, Word, Excel, CSV, TXT, MD, JSON, or HTML files."})}function AR(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}function xce(e){return e.includes("pdf")?"📄":e.includes("word")||e.includes("document")?"📝":e.includes("excel")||e.includes("spreadsheet")?"📊":e.includes("csv")?"📈":e.includes("text")?"📃":e.includes("markdown")?"📋":e.includes("json")?"🔧":e.includes("html")?"🌐":"📁"}async function bce(e){var t,n;try{console.log(`Re-indexing file via n8n: ${e}`);const r=await nu.post(Cp.REINDEX_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:15e3});return console.log("Re-index response:",r.data),{success:!0,message:r.data.message||"File re-indexed successfully"}}catch(r){return console.error("Error re-indexing file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to re-index file"}}}async function wce(e){var t,n;try{console.log(`Deleting file from RAG via n8n: ${e}`);const r=await nu.post(Cp.DELETE_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4});return console.log("Delete response:",r.data),{success:!0,message:r.data.message||"File deleted successfully"}}catch(r){return console.error("Error deleting file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to delete file"}}}const Qi="knowledge-base";async function kce(e,t){try{const{data:n,error:r}=await e.storage.from(Qi).list("files",{limit:1e3,offset:0});if(r)return console.error("Error listing files:",r),t;if(!n||n.length===0||!n.some(d=>d.name===t))return t;const a=t.split("."),s=a.length>1?`.${a.pop()}`:"",l=a.join(".");let c=1,u=`${l} (${c})${s}`;for(;n.some(d=>d.name===u);)c++,u=`${l} (${c})${s}`;return console.log(`📝 Duplicate file detected: ${t} → ${u}`),u}catch(n){return console.error("Error in getUniqueFileName:",n),t}}async function dw(e){const t=[],n=Me();for(const r of e)try{const i=OR(r);if(!i.valid){t.push({success:!1,message:"File validation failed",fileName:r.name,error:i.error});continue}const a=NR(r.name);a!==r.name&&console.warn(`⚠️ Filename sanitized: "${r.name}" → "${a}"`);const s=await kce(n,a),l=`files/${s}`;console.log(`Uploading file to Supabase Storage: ${l}`);const{data:c,error:u}=await n.storage.from(Qi).upload(l,r,{cacheControl:"3600",upsert:!1});if(u){console.error("Supabase upload error:",u),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:u.message});continue}console.log("File uploaded successfully:",c),t.push({success:!0,message:"File uploaded successfully",fileName:s})}catch(i){console.error("Error uploading file to Supabase:",i),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:i.message||"Unknown error"})}return t}async function Sce(e){return(await dw([e]))[0]}async function PR(){var e;try{console.log("Fetching files from Supabase Storage...");const t=Me(),{data:n,error:r}=await t.storage.from(Qi).list("files",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)return console.error("Supabase list error:",r),{success:!1,files:[],total:0,message:r.message};console.log("Files fetched from Supabase:",n);const i=n.map(a=>{var s,l;return{id:a.id||a.name,name:a.name,size:((s=a.metadata)==null?void 0:s.size)||0,type:((l=a.metadata)==null?void 0:l.mimetype)||"application/octet-stream",uploadedAt:a.created_at||new Date().toISOString(),status:"ready",lastModified:a.updated_at||a.created_at,syncStatus:"pending"}});console.log("🔍 Checking sync status for files...");try{let a=[],s=!0,l=0;const c=1e3;for(;s;){const{data:p,error:m}=await t.from("documents").select("metadata").range(l*c,(l+1)*c-1);if(m){console.warn(`⚠️ Error fetching page ${l}:`,m);break}p&&p.length>0?(a=[...a,...p],s=p.length===c,l++):s=!1}console.log(`📊 Total documents fetched: ${a.length} (${l} pages)`);const u=new Set,d=new Map;if(a&&a.length>0){console.log("📋 First document metadata sample:",(e=a[0])==null?void 0:e.metadata);for(const p of a){const m=p.metadata||{};JSON.stringify(m).toLowerCase().includes("badillo")&&(console.log("🔍 RAW Badillo metadata found:",m),console.log(`   Type: ${typeof m}`),console.log("   Keys:",Object.keys(m)));const g=m.fileName;if(g){const y=g.toLowerCase().trim();u.add(y),d.set(y,g),g.toLowerCase().includes("badillo")&&console.log("🔍 Found Badillo file in DB:",{original:g,normalized:y,metadata:m}),[y.replace(/\s+/g,"_"),y.replace(/_+/g," "),y.replace(/[^\x00-\x7F]/g,"")].forEach(b=>{b!==y&&(u.add(b),d.set(b,g))})}}}console.log(`[SyncCheck] Indexed filenames count: ${u.size}`),console.log(`[SyncCheck] Unique documents: ${d.size}`);const f=Array.from(new Set(d.values()));console.log(`[SyncCheck] ALL indexed files (${f.length}):`,f);const h=Array.from(u).filter(p=>p.includes("badillo"));h.length>0?console.log("🔍 All Badillo variants in indexedNameSet:",h):(console.warn(`⚠️ No Badillo file found in ${(a==null?void 0:a.length)||0} indexed documents!`),console.log("📋 Checking first 5 metadata entries:",a==null?void 0:a.slice(0,5).map(p=>p.metadata)));for(let p=0;p<i.length;p++){const m=i[p],g=m.name.toLowerCase().trim(),y=[g,g.replace(/\s+/g," "),g.replace(/\s+/g,"_"),g.replace(/_+/g," "),g.replace(/[^\x00-\x7F]/g,""),g.replace(/\s+/g,"").replace(/_+/g,"")];try{y.push(decodeURIComponent(g)),y.push(encodeURIComponent(g).toLowerCase())}catch{}let x=!1,b="";for(const w of y)if(u.has(w)){x=!0,b=w;break}if(x)m.syncStatus="synced",console.log(`✅ File "${m.name}" is SYNCED (matched via: "${b}")`);else{m.syncStatus="pending",console.log(`⏳ File "${m.name}" is NOT INDEXED`),console.log(`   Storage filename: "${m.name}"`),console.log(`   Tried variants (${y.length}):`,y.slice(0,5)),console.log("   Sample indexed files:",Array.from(new Set(d.values())).slice(0,5));const w=Array.from(new Set(d.values())).filter(S=>S.toLowerCase().includes(g.substring(0,20).toLowerCase())||g.includes(S.substring(0,20).toLowerCase()));w.length>0&&console.log("   🔍 Possible matches:",w)}}}catch(a){console.warn("⚠️ Error during sync status calculation:",a);for(let s=0;s<i.length;s++)i[s].syncStatus="error"}return{success:!0,files:i,total:i.length,message:"Files fetched successfully"}}catch(t){return console.error("Error fetching files from Supabase:",t),{success:!1,files:[],total:0,message:t.message||"Failed to fetch files"}}}async function TR(e){try{console.log(`Deleting file from Supabase Storage: ${e}`);const t=Me(),n=`files/${e}`,{error:r}=await t.storage.from(Qi).remove([n]);return r?(console.error("Supabase delete error:",r),{success:!1,message:r.message}):(console.log("File deleted successfully from Supabase"),{success:!0,message:"File deleted successfully"})}catch(t){return console.error("Error deleting file from Supabase:",t),{success:!1,message:t.message||"Failed to delete file"}}}async function jce(e){try{const t=Me(),n=`files/${e}`,{data:r}=t.storage.from(Qi).getPublicUrl(n);return r.publicUrl}catch(t){return console.error("Error getting file URL:",t),null}}function IR(e){if(e.size>52428800)return{valid:!1,error:"File size must be less than 50MB"};const n=[".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".txt",".md",".csv",".json",".html",".rtf",".xml",".css",".js",".ts"],r=e.name.toLowerCase();return n.some(a=>r.endsWith(a))?{valid:!0}:{valid:!1,error:`Unsupported file type. Allowed: ${n.join(", ")}`}}async function fw(e=50,t=0){try{console.log(`Fetching vector documents from Supabase (limit: ${e}, offset: ${t})...`);const n=Me(),{data:r,error:i,count:a}=await n.from("documents").select("id, content, metadata, created_at",{count:"exact"}).order("id",{ascending:!1}).range(t,t+e-1);return i?(console.error("Supabase error:",i),{success:!1,documents:[],total:0,message:i.message}):(console.log(`✅ Fetched ${(r==null?void 0:r.length)||0} documents from Supabase (Total: ${a||0})`),{success:!0,documents:r||[],total:a||0,message:"Documents fetched successfully"})}catch(n){return console.error("Error fetching vector documents:",n),{success:!1,documents:[],total:0,message:n.message||"Failed to fetch documents"}}}async function hw(e){var t,n;try{const r=Me(),i=`files/${e}`;console.log(`🔍 Requesting signed URL for: ${i}`);const{data:a,error:s}=await r.storage.from(Qi).createSignedUrl(i,3600);if(console.log("🔍 Signed URL response:",{urlData:a,urlError:s}),s||!(a!=null&&a.signedUrl))return console.error("Error getting file URL:",s),{success:!1,message:"Failed to get file URL"};const{data:l}=r.storage.from(Qi).getPublicUrl(i);console.log("🔍 Public URL for comparison:",l),console.log(`📤 Sending file to n8n for indexing: ${e}`);let c=a.signedUrl;if(a.signedUrl.startsWith("http"))console.log("✅ URL already full, no conversion needed");else{const g="https://qpyteahuynkgkbmdasbv.supabase.co";a.signedUrl.startsWith("/object/")?(c=`${g}/storage/v1${a.signedUrl}`,console.log("🔧 Converted relative URL to full URL")):a.signedUrl.startsWith("/storage/")?(c=`${g}${a.signedUrl}`,console.log("🔧 Converted /storage/ URL to full URL")):(c=`${g}/storage/v1/object/sign/${Qi}/${i}?token=${a.signedUrl.split("token=")[1]||""}`,console.log("🔧 Used fallback URL construction"))}console.log(`🔗 FINAL URL SENT TO N8N: ${c}`),console.log(`⏰ Request time: ${new Date().toISOString()}`);const{getSession:u}=await Yr(()=>Promise.resolve().then(()=>d3),void 0),d=u();let f;(d==null?void 0:d.userId)==="seokhoon_kang_001"||(d==null?void 0:d.email)==="hana@tecace.com"?(f="bc7f7d96-1c7f-48c8-8def-6f4a367f7212",console.log("👤 Using SeokHoon Kang's FILE INDEXING webhook")):(f=CR,console.log("👤 Using default FILE INDEXING webhook"));const h={VITE_SUPABASE_URL:"https://qpyteahuynkgkbmdasbv.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY",VITE_N8N_BASE_URL:"https://n8n.srv978041.hstgr.cloud",VITE_N8N_UPLOAD_WEBHOOK_ID:"1f18f1aa-44c4-467f-b299-c87c9b6f9459",VITE_N8N_LIST_FILES_WEBHOOK_ID:"list-files",VITE_N8N_DELETE_FILE_WEBHOOK_ID:"delete-file",VITE_N8N_REINDEX_FILE_WEBHOOK_ID:"reindex-file",VITE_N8N_FILE_STATUS_WEBHOOK_ID:"file-status",VITE_DEV_MODE:"false",VITE_USE_MOCK_DATA:"false",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_DEV_MODE==="true"||localStorage.getItem("n8n-dev-mode")==="true",p=h?`https://n8n.srv978041.hstgr.cloud/webhook-test/${f}`:`https://n8n.srv978041.hstgr.cloud/webhook/${f}`;console.log(`🔧 Webhook mode: ${h?"DEV (test)":"PRODUCTION"}`),console.log(`🌐 Using webhook: ${p}`),console.log(`👤 User: ${(d==null?void 0:d.email)||"Unknown"} (${(d==null?void 0:d.userId)||"Unknown"})`),h&&console.warn("⚠️ Using TEST webhook - this may not be active!"),console.log(`🌐 n8n Webhook URL: ${p}`);const m=[{fileUrl:c,fileName:e,source:"supabase-storage"}];console.log("📦 Payload being sent:",m);try{const g=await nu.post(p,m,{headers:{"Content-Type":"application/json"},timeout:3e4});console.log("✅ File sent to n8n for indexing:",g.data),console.log("📊 Response status:",g.status),console.log("📋 Response headers:",g.headers);const y=g.data.workflowId||g.data.executionId,x=g.data.estimatedTime||"30-60 seconds";return{success:!0,message:`File sent for indexing successfully. Processing time: ${x}`,...y&&{workflowId:y},...x&&{estimatedTime:x}}}catch(g){console.warn("⚠️ Axios failed (likely CORS), trying fetch with no-cors:",g);try{const y=await fetch(p,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return console.log(`✅ Fetch request sent (no-cors mode) - status: ${y.status}`),console.log(`🔍 Response type: ${y.type}`),y.status===0?(console.log("✅ Request sent successfully (no-cors mode)"),{success:!0,message:"File sent for indexing (CORS bypassed). Processing time: 30-60 seconds"}):(console.warn(`⚠️ Unexpected status in no-cors mode: ${y.status}`),{success:!0,message:`File sent for indexing (CORS bypassed, status: ${y.status}). Processing time: 30-60 seconds`})}catch(y){if(console.error("❌ Both axios and fetch failed:",y),(t=y==null?void 0:y.message)!=null&&t.includes("404")||(n=y==null?void 0:y.message)!=null&&n.includes("ERR_ABORTED"))return{success:!1,message:`Webhook URL not found (404). Please check if the webhook is active: ${p}`};throw y}}}catch(r){const i=r instanceof Error?r.message:"Failed to index file";return console.error("Error indexing file:",r),{success:!1,message:i}}}async function DR(e){try{const t=Me(),{data:n,error:r}=await t.from("documents").select("id, created_at, metadata").ilike("metadata->>fileName",e).order("created_at",{ascending:!1});if(r)return console.error("Error checking indexing status:",r),{success:!1,message:"Failed to check indexing status",status:"failed"};if(n&&n.length>0){const i=n[0];return{success:!0,message:`File indexed successfully with ${n.length} chunks`,status:"completed",chunksCount:n.length,lastUpdated:i.created_at}}else return{success:!0,message:"File not yet indexed or indexing in progress",status:"pending"}}catch(t){return console.error("Error checking indexing status:",t),{success:!1,message:"Failed to check indexing status",status:"failed"}}}async function RR(e){try{const t=Me();console.log(`🗑️ Direct Supabase deletion for filename: "${e}"`),console.log(`🔍 Filename length: ${e.length}`),console.log(`🔍 Filename characters: ${e.split("").map(c=>c.charCodeAt(0)).join(",")}`);let n=[],r=0;console.log("🔍 Trying exact match...");let{data:i,error:a}=await t.from("documents").select("id, metadata").eq("metadata->>fileName",e);if(!a&&i&&i.length>0)n=i,r=i.length,console.log(`✅ Found ${r} records with exact match`);else{console.log("❌ Exact match failed, trying ilike...");let{data:c,error:u}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",e);if(!u&&c&&c.length>0)n=c,r=c.length,console.log(`✅ Found ${r} records with ilike match`);else{console.log("❌ ilike match failed, trying contains...");let{data:d,error:f}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",`%${e}%`);if(!f&&d&&d.length>0)n=d,r=d.length,console.log(`✅ Found ${r} records with contains match`);else{console.log("❌ All query approaches failed");let{data:h}=await t.from("documents").select("metadata").limit(10);console.log("🔍 Sample metadata from database:",h);let{data:p}=await t.from("documents").select("metadata->>fileName").not("metadata->>fileName","is",null);if(p){const m=[...new Set(p.map(g=>g.fileName))];console.log("🔍 All unique filenames in database:",m),console.log('🔍 Looking for filename containing "PM-Marketing":',m.filter(g=>g&&g.includes("PM-Marketing"))),console.log('🔍 Looking for filename containing "Team Notebook":',m.filter(g=>g&&g.includes("Team Notebook")))}return{success:!1,message:`No records found for filename: ${e}. Check console for debugging info.`,deletedCount:0}}}}if(console.log(`📊 Found ${r} records to delete for filename: ${e}`),r===0)return{success:!0,message:`No records found for filename: ${e}`,deletedCount:0};let s=t.from("documents").delete();if(n.length>0){const c=n.map(u=>u.id);s=s.in("id",c)}else s=s.ilike("metadata->>fileName",e);const{error:l}=await s;return l?(console.error("Error deleting records:",l),{success:!1,message:`Failed to delete documents: ${l.message}`,deletedCount:0}):(console.log(`✅ Successfully deleted ${r} records for filename: ${e}`),{success:!0,message:`File ${e} unindexed successfully (${r} chunks removed)`,deletedCount:r})}catch(t){return console.error("Error in direct Supabase deletion:",t),{success:!1,message:`Failed to delete documents: ${t.message}`,deletedCount:0}}}async function MR(e){try{return console.log("🗑️ Unindexing file using direct Supabase deletion:",e),await RR(e)}catch(t){return console.error("❌ Failed to unindex file:",t),{success:!1,message:`Failed to unindex file: ${t.message||"Unknown error"}`}}}async function _ce(e){return await RR(e)}async function Cce(e){try{const t=Me();console.log(`🔍 Checking sync status for: ${e}`);const{data:n,error:r}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",e);return r?(console.error("Error checking sync status:",r),{success:!1,syncStatus:"error",message:`Error checking sync status: ${r.message}`}):n&&n.length>0?{success:!0,syncStatus:"synced",message:`File is indexed (${n.length} chunks)`,chunksCount:n.length}:{success:!0,syncStatus:"pending",message:"File is not indexed (pending)"}}catch(t){return console.error("Error checking sync status:",t),{success:!1,syncStatus:"error",message:`Error checking sync status: ${t.message}`}}}const Ece=Object.freeze(Object.defineProperty({__proto__:null,checkFileSyncStatus:Cce,checkIndexingStatus:DR,deleteFileFromRAG:wce,deleteFileFromSupabase:TR,fetchFilesFromRAG:yce,fetchFilesFromSupabase:PR,fetchVectorDocuments:fw,formatFileSize:AR,getFileIcon:xce,getSupabaseFileUrl:jce,indexFileToVector:hw,reindexFile:bce,sanitizeFileName:NR,unindexFileByFilename:MR,unindexFileDirect:_ce,uploadFilesToRAG:ER,uploadFilesToSupabase:dw,uploadSingleFileToRAG:vce,uploadSingleFileToSupabase:Sce,validateFile:OR,validateFileExtended:IR},Symbol.toStringTag,{value:"Module"})),x2=()=>{const{t:e}=rt(),t=v.useRef(null),[n,r]=v.useState(!1),[i,a]=v.useState([]),[s,l]=v.useState(!1),[c,u]=v.useState([]),[d,f]=v.useState(""),[h,p]=v.useState("date"),[m,g]=v.useState("desc"),[y,x]=v.useState(!1),[b,w]=v.useState(null),[S,_]=v.useState(null),[k,E]=v.useState([]),[I,O]=v.useState({}),[C,P]=v.useState(new Set),[R,F]=v.useState(()=>localStorage.getItem("n8n-dev-mode")==="true"),V="supabase",J=(M,X)=>{const U=Date.now().toString();E(he=>[...he,{id:U,message:M,type:X}])},L=M=>{E(X=>X.filter(U=>U.id!==M))},G=()=>{const M=!R;F(M),localStorage.setItem("n8n-dev-mode",M.toString()),console.log(`🔧 Switched to ${M?"DEV":"PRODUCTION"} mode`)},N=()=>{F(!1),localStorage.setItem("n8n-dev-mode","false"),console.log("🔧 Reset to PRODUCTION mode")};v.useEffect(()=>{D()},[V]),v.useEffect(()=>{const M=localStorage.getItem("n8n-dev-mode");(M===null||M==="true")&&(F(!1),localStorage.setItem("n8n-dev-mode","false"),console.log("🔧 Defaulted to PRODUCTION mode"))},[]),v.useEffect(()=>{window.resetToProduction=N,window.toggleDevMode=G,console.log("🔧 Debug commands available:"),console.log("  - window.resetToProduction() - Reset to production mode"),console.log("  - window.toggleDevMode() - Toggle between dev/prod")},[]),v.useEffect(()=>{if(C.size===0)return;const M=setInterval(async()=>{for(const X of C)try{const U=await DR(X);O(he=>({...he,[X]:{status:U.status,message:U.message,chunksCount:U.chunksCount,lastUpdated:U.lastUpdated}})),(U.status==="completed"||U.status==="failed")&&P(he=>{const ue=new Set(he);return ue.delete(X),ue})}catch(U){console.error(`Error polling status for ${X}:`,U)}},3e3);return()=>clearInterval(M)},[C]);const D=async()=>{x(!0),w(null);try{const M=await PR();M.success?(u(M.files),console.log(`✅ Loaded ${M.files.length} files from Supabase Storage`)):(w(M.message||"Failed to load files from Supabase"),console.error("Failed to load files:",M.message))}catch(M){w("Failed to connect to Supabase Storage. Please check your configuration."),console.error("Error loading files:",M)}finally{x(!1)}},j=()=>{D()},z=async(M,X)=>{if(confirm(`Are you sure you want to delete "${X}"?`))try{const U=await TR(X);U.success?(u(he=>he.filter(ue=>ue.id!==M)),console.log(`✅ File ${X} deleted successfully`)):alert(`Failed to delete file: ${U.message}`)}catch(U){console.error("Error deleting file:",U),alert("Failed to delete file")}},W=async M=>{_(M);try{console.log("🔄 Starting index process for:",M),O(U=>({...U,[M]:{status:"processing",message:"Sending file to n8n for indexing..."}}));const X=await hw(M);console.log("📋 Index result:",X),X.success?(P(U=>new Set(U).add(M)),O(U=>({...U,[M]:{status:"processing",message:X.message||"File sent for indexing, checking status..."}})),J(`✅ ${X.message} - Status will update automatically. Check Knowledge Index tab when complete.`,"success"),D()):(O(U=>({...U,[M]:{status:"failed",message:X.message||"Failed to send file for indexing"}})),J(`❌ Failed to index file: ${X.message}`,"error"))}catch(X){console.error("❌ Error indexing file:",X),O(U=>({...U,[M]:{status:"failed",message:`Error: ${X}`}})),J(`❌ Error indexing file: ${X}`,"error")}finally{_(null)}},A=async M=>{try{const X=(await Yr(()=>import("./supabase-41cc8e0b.js"),[])).getSupabaseClient(),U=`files/${M}`,{data:he,error:ue}=await X.storage.from("knowledge-base").createSignedUrl(U,3600);if(ue){console.error("Error creating signed URL:",ue),alert(`Failed to get download URL: ${ue.message}`);return}he!=null&&he.signedUrl?window.open(he.signedUrl,"_blank"):alert("Failed to get download URL")}catch(X){console.error("Error downloading file:",X),alert("Failed to download file")}},re=v.useCallback(M=>{if(!M||M.length===0)return;const X=Array.from(M),U=[],he=[];X.forEach(ue=>{const Se=IR(ue);Se.valid?U.push(ue):he.push(`${ue.name}: ${Se.error}`)}),he.length>0&&alert(he.join(`
`)),U.length>0&&B(U)},[V]),B=async M=>{r(!0),a([]);try{const X=await dw(M);a(X);const U=X.filter(Se=>Se.success).length,he=X.filter(Se=>!Se.success).length,ue=X.filter(Se=>!Se.success);if(U>0&&J(`✅ ${U} file(s) uploaded successfully`,"success"),he>0){const Se=ue.map(Ae=>Ae.message).join(", ");J(`❌ ${he} file(s) failed: ${Se}`,"error")}await D()}catch(X){console.error("Upload error:",X)}finally{r(!1)}},ee=v.useCallback(M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?l(!0):M.type==="dragleave"&&l(!1)},[]),Y=v.useCallback(M=>{M.preventDefault(),M.stopPropagation(),l(!1),M.dataTransfer.files&&M.dataTransfer.files[0]&&re(M.dataTransfer.files)},[re]),$=M=>{re(M.target.files)},Q=c.filter(M=>M.name.toLowerCase().includes(d.toLowerCase())).sort((M,X)=>{let U=0;switch(h){case"name":U=M.name.localeCompare(X.name);break;case"date":U=new Date(M.uploadedAt).getTime()-new Date(X.uploadedAt).getTime();break;case"size":U=M.size-X.size;break}return m==="asc"?U:-U});return o.jsxs("div",{className:"file-library",children:[o.jsx("div",{className:"fl-header",children:o.jsxs("div",{className:"fl-header-content",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"fl-title",children:e("knowledge.fileLibrary")}),o.jsx("p",{className:"fl-description",children:e("knowledge.fileLibraryDescription")})]}),o.jsx("div",{className:"webhook-mode-toggle",children:o.jsx("button",{onClick:G,className:`mode-toggle-btn ${R?"dev-mode":"prod-mode"}`,children:R?"🔧 DEV Mode":"🚀 PROD Mode"})})]})}),o.jsx("div",{className:"fl-upload-section",children:o.jsxs("div",{className:`fl-upload-area ${s?"drag-active":""} ${n?"uploading":""}`,onDragEnter:ee,onDragLeave:ee,onDragOver:ee,onDrop:Y,onClick:()=>{var M;return(M=t.current)==null?void 0:M.click()},children:[o.jsx("input",{ref:t,type:"file",multiple:!0,accept:".txt,.md,.json,.csv,.xml,.html,.css,.js,.ts,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",onChange:$,style:{display:"none"},disabled:n}),o.jsx("div",{className:"upload-content",children:n?o.jsxs("div",{className:"upload-loading",children:[o.jsx("div",{className:"spinner"}),o.jsx("p",{children:e("knowledge.uploadingFiles")})]}):o.jsxs("div",{className:"upload-prompt",children:[o.jsx("div",{className:"upload-icon",children:"↑"}),o.jsx("p",{className:"upload-text",children:e("knowledge.dragFilesHere")}),o.jsx("p",{className:"upload-formats",children:e("knowledge.supportedFormats")})]})})]})}),o.jsxs("div",{className:"fl-controls",children:[o.jsx("div",{className:"fl-search",children:o.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:d,onChange:M=>f(M.target.value),className:"search-input"})}),o.jsxs("button",{className:"refresh-btn",onClick:j,disabled:y,children:[o.jsx("span",{className:"refresh-icon",children:"↻"}),y?e("knowledge.loading")||"Loading...":e("knowledge.refresh")]})]}),b&&o.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:b}),o.jsx("div",{className:"fl-table-container",children:y?o.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[o.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading files from n8n..."]}):o.jsxs("table",{className:"fl-table",style:{width:"100%",minWidth:"900px"},children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{style:{width:"30%",minWidth:"200px"},children:e("knowledge.fileName")}),o.jsx("th",{style:{width:"10%",minWidth:"80px"},children:e("knowledge.size")}),o.jsx("th",{style:{width:"15%",minWidth:"150px"},children:e("knowledge.lastModified")}),o.jsx("th",{style:{width:"15%",minWidth:"120px"},children:e("knowledge.contentType")}),o.jsx("th",{style:{width:"10%",minWidth:"100px",textAlign:"center"},children:e("knowledge.syncStatus")}),o.jsx("th",{style:{width:"20%",minWidth:"150px",textAlign:"right",paddingRight:"16px"},children:e("knowledge.actions")})]})}),o.jsx("tbody",{children:Q.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"40px",color:"#666"},children:b?"Failed to load files":"No files found. Upload some files to get started."})}):Q.map(M=>o.jsxs("tr",{children:[o.jsx("td",{className:"file-name",style:{wordBreak:"break-word"},children:M.name}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:AR(M.size)}),o.jsx("td",{style:{whiteSpace:"nowrap"},children:new Date(M.uploadedAt).toLocaleString()}),o.jsx("td",{style:{wordBreak:"break-word"},children:M.type}),o.jsx("td",{className:"sync-status-cell",style:{whiteSpace:"nowrap"},children:o.jsx("span",{style:{color:M.syncStatus==="synced"?"#10b981":"#f59e0b",fontWeight:M.syncStatus==="pending"?"bold":"normal",fontSize:"14px"},children:M.syncStatus==="synced"?"✓ Synced":"⚠ Not Indexed"})}),o.jsx("td",{style:{textAlign:"right",paddingRight:"16px"},children:o.jsxs("div",{className:"file-actions",style:{justifyContent:"flex-end"},children:[M.syncStatus==="pending"&&o.jsx("button",{className:"icon-action-btn index-btn",title:"Index this file",onClick:()=>W(M.name),disabled:S===M.name,style:{backgroundColor:"var(--admin-primary, #3b82f6)",color:"white",borderColor:"var(--admin-primary, #3b82f6)"},children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),o.jsx("button",{className:"icon-action-btn",title:e("knowledge.download"),onClick:()=>A(M.name),children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})}),o.jsx("button",{className:"icon-action-btn delete-icon-btn",title:e("knowledge.delete"),onClick:()=>z(M.id,M.name),children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},M.id))})]})}),o.jsx(Foe,{toasts:k,removeToast:L})]})},Nce=()=>{const{t:e}=rt(),[t,n]=v.useState(""),[r,i]=v.useState(1),[a,s]=v.useState(50),[l,c]=v.useState(0),[u,d]=v.useState([]),[f,h]=v.useState(!1),[p,m]=v.useState(null),[g,y]=v.useState(null),[x,b]=v.useState(null),[w,S]=v.useState(!1),[_,k]=v.useState(null),[E,I]=v.useState(""),[O,C]=v.useState(new Set);v.useEffect(()=>{P()},[r,a]);const P=async()=>{var Y;h(!0),m(null);try{const Q=(r-1)*500;console.log(`🔄 Loading documents from Supabase (Page ${r}, 500 items, offset: ${Q})...`),console.log("⏰ Current time:",new Date().toISOString());const M=await fw(500,Q);if(console.log("📋 Raw response:",M),console.log("📊 Total documents found:",M.total||0),console.log("📄 Documents array length:",((Y=M.documents)==null?void 0:Y.length)||0),M.documents&&M.documents.length>0&&(console.log("📅 Document creation times:"),M.documents.forEach((X,U)=>{console.log(`  ${U+1}. ID: ${X.id}, Created: ${X.created_at||"N/A"}, Metadata:`,X.metadata)})),M.success){const{fetchFilesFromSupabase:X}=await Yr(()=>Promise.resolve().then(()=>Ece),void 0),U=await X(),he=new Set((U.files||[]).map(ye=>ye.name.toLowerCase())),ue=M.documents.map(ye=>{var wn,H,ie,de;const Te=ye.metadata||{};let Ze="Unknown";Te.fileName?Ze=Te.fileName:Te.source&&Te.source!=="blob"?Ze=Te.source:(H=(wn=Te.pdf)==null?void 0:wn.info)!=null&&H.Title?Ze=Te.pdf.info.Title:Te.blobType&&(Ze=`document.${Te.blobType.split("/")[1]||"pdf"}`);let Wn="";(ie=Te.loc)!=null&&ie.lines?Wn=`Lines ${Te.loc.lines.from}-${Te.loc.lines.to}`:(de=Te.loc)!=null&&de.pageNumber&&(Wn=`Page ${Te.loc.pageNumber}`);const Or=he.has(Ze.toLowerCase())?"synced":"orphaned";return{id:ye.id.toString(),fileName:Ze,source:Te.source||"blob",chunkIndex:Te.chunkIndex||0,content:ye.content,pageInfo:Wn,syncStatus:Or,createdAt:ye.created_at||new Date().toISOString(),metadata:Te}}),Se={};ue.forEach(ye=>{Se[ye.fileName]=(Se[ye.fileName]||0)+1});const Ae={};ue.forEach(ye=>{Ae[ye.fileName]||(Ae[ye.fileName]=0),Ae[ye.fileName]++,ye.chunkInfo=`${Ae[ye.fileName]} of ${Se[ye.fileName]}`}),d(ue),c(M.total),console.log(`✅ Loaded ${ue.length} documents from Supabase`)}else m(M.message||"Failed to load documents"),console.error("Failed to load documents:",M.message)}catch($){m("Failed to connect to Supabase. Please check your configuration."),console.error("Error loading documents:",$)}finally{h(!1)}},R=()=>{console.log("🔄 Manual refresh triggered by user"),I(new Date().toLocaleTimeString()),i(1),P()},F=Y=>{y(Y)},V=async Y=>{b(Y);try{const $=await hw(Y);$.success?(alert(`✅ ${$.message}`),P()):alert(`❌ ${$.message}`)}catch($){alert(`❌ Error indexing file: ${$}`)}finally{b(null)}},J=async Y=>{if(confirm(`⚠️ Are you sure you want to unindex all chunks for "${Y}"? This will remove ALL chunks for this file.`)){b(Y);try{const $=await MR(Y);$.success?(alert(`✅ ${$.message} (${$.deletedCount||0} chunks removed)`),P()):alert(`❌ ${$.message}`)}catch($){alert(`❌ Error unindexing file: ${$}`)}finally{b(null)}}},L=Y=>{C($=>{const Q=new Set($);return Q.has(Y)?Q.delete(Y):Q.add(Y),Q})},G=u.filter(Y=>Y.fileName.toLowerCase().includes(t.toLowerCase())||Y.source.toLowerCase().includes(t.toLowerCase())||Y.content.toLowerCase().includes(t.toLowerCase())),N=G.reduce((Y,$)=>(Y[$.fileName]||(Y[$.fileName]=[]),Y[$.fileName].push($),Y),{}),D=Object.keys(N).length,j=20,z=Math.ceil(D/j),W=Object.entries(N),A=(r-1)*j,re=A+j,B=W.slice(A,re),ee=Object.fromEntries(B);return o.jsxs("div",{className:"knowledge-index",children:[o.jsxs("div",{className:"ki-header",children:[o.jsx("h2",{className:"ki-title",children:e("knowledge.knowledgeIndex")}),o.jsx("p",{className:"ki-description",children:e("knowledge.knowledgeIndexDescription")})]}),o.jsxs("div",{className:"ki-controls",children:[o.jsx("div",{className:"ki-search",children:o.jsx("input",{type:"text",placeholder:e("knowledge.searchByTitleFilepathContent"),value:t,onChange:Y=>n(Y.target.value),className:"search-input"})}),o.jsxs("div",{className:"ki-pagination-info",children:[o.jsxs("span",{children:["Total: ",l.toLocaleString()," chunks in ",D," files"]}),o.jsxs("span",{children:["Showing ",Object.keys(ee).length," files (Page ",r," of ",z||1,")"]})]}),o.jsxs("div",{className:"ki-navigation",children:[o.jsx("button",{className:"nav-btn prev-btn",disabled:r===1,onClick:()=>i(Y=>Math.max(1,Y-1)),children:e("knowledge.previous")}),o.jsx("button",{className:"nav-btn next-btn",disabled:r===z,onClick:()=>i(Y=>Math.min(z,Y+1)),children:e("knowledge.next")})]}),o.jsxs("button",{className:"refresh-btn",onClick:R,disabled:f,children:[o.jsx("span",{className:"refresh-icon",children:"↻"}),f?"Loading...":e("knowledge.refresh"),E&&o.jsxs("span",{style:{fontSize:"0.8em",opacity:.7,marginLeft:"8px"},children:["(Last: ",E,")"]})]})]}),o.jsxs("div",{style:{backgroundColor:"var(--admin-bg-secondary)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"0.9em"},children:[o.jsx("strong",{children:"🔍 Debug Info:"})," Total: ",l," chunks (",D," unique files) | Loaded: ",u.length," chunks | Showing: ",Object.keys(ee).length," files on this page | Last Refresh: ",E||"Never"," |",o.jsx("button",{onClick:()=>{console.log("📊 Current documents state:",u),console.log("📊 Filtered documents:",G)},style:{marginLeft:"8px",padding:"2px 6px",fontSize:"0.8em"},children:"Log State"})]}),p&&o.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:p}),o.jsx("div",{className:"ki-table-container",children:f?o.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[o.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading documents..."]}):o.jsxs("table",{className:"ki-table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"File Name"}),o.jsx("th",{children:"Chunk"}),o.jsx("th",{children:"Location"}),o.jsx("th",{children:"Content Preview"}),o.jsx("th",{children:"Sync Status"}),o.jsx("th",{children:"Created"}),o.jsx("th",{children:"Actions"})]})}),o.jsx("tbody",{children:G.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"40px",color:"#666"},children:p?"Failed to load documents":"No documents found. Upload and index files to see them here."})}):Object.entries(ee).map(([Y,$])=>{const Q=O.has(Y),M=$[0],X=$.length;return o.jsxs(ui.Fragment,{children:[o.jsxs("tr",{onClick:()=>L(Y),style:{cursor:"pointer",backgroundColor:Q?"rgba(59, 230, 255, 0.1)":void 0,fontWeight:Q?"500":"normal"},children:[o.jsx("td",{className:"doc-title",title:Y,style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-primary)"},children:Q?"▼":"▶"}),Y]})}),o.jsxs("td",{className:"doc-chunk-index",style:{color:"var(--admin-primary)",fontWeight:"600"},children:[X," ",X===1?"chunk":"chunks"]}),o.jsx("td",{className:"doc-page-info",children:M.pageInfo||"-"}),o.jsxs("td",{className:"doc-content",title:M.content,style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[M.content.substring(0,100),"..."]}),o.jsx("td",{children:o.jsx("span",{style:{color:M.syncStatus==="synced"?"#10b981":"#f59e0b",fontSize:"14px"},children:M.syncStatus==="synced"?"Synced":"Orphaned"})}),o.jsx("td",{style:{fontSize:"13px",color:"var(--admin-text-muted)"},children:M.createdAt?new Date(M.createdAt).toLocaleDateString():"-"}),o.jsx("td",{onClick:U=>U.stopPropagation(),children:o.jsxs("div",{className:"file-actions",children:[o.jsx("button",{className:"icon-action-btn",title:"View details",onClick:()=>F(M),children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),o.jsx("button",{className:"icon-action-btn delete-icon-btn",title:"Unindex all chunks",onClick:()=>J(Y),disabled:x===Y,children:o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("polyline",{points:"3 6 5 6 21 6"}),o.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]}),Q&&$.map((U,he)=>o.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.3)"},children:[o.jsxs("td",{style:{paddingLeft:"40px",fontSize:"13px",color:"var(--admin-text-muted)"},children:["└ Chunk ",he+1]}),o.jsx("td",{className:"doc-chunk-index",children:U.chunkInfo||`${he+1} of ${X}`}),o.jsx("td",{className:"doc-page-info",children:U.pageInfo||"-"}),o.jsxs("td",{className:"doc-content",title:U.content,style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"13px"},children:[U.content.substring(0,100),"..."]}),o.jsx("td",{children:o.jsx("span",{style:{color:U.syncStatus==="synced"?"#10b981":"#f59e0b",fontSize:"13px"},children:U.syncStatus==="synced"?"Synced":"Orphaned"})}),o.jsx("td",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:U.createdAt?new Date(U.createdAt).toLocaleDateString():"-"}),o.jsx("td",{children:o.jsx("button",{className:"icon-action-btn",title:"View this chunk",onClick:()=>F(U),style:{fontSize:"12px"},children:o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),o.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]},U.id))]},Y)})})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>y(null),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:Y=>Y.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"Content Preview"}),o.jsx("button",{onClick:()=>y(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:"✕"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"File Name:"}),o.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.fileName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Chunk:"}),o.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.chunkInfo||"1 of 1"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Source:"}),o.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.source})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Location:"}),o.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.pageInfo||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Document ID:"}),o.jsx("span",{className:"ml-2 font-mono text-xs",style:{color:"var(--admin-text-muted)"},children:g.id})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Sync Status:"}),o.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.syncStatus==="synced"?"Synced":"Pending"})]})]})}),g.metadata&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Metadata"}),o.jsx("div",{className:"p-4 rounded-lg border-2 font-mono text-sm",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)",color:"var(--admin-text)",maxHeight:"200px",overflowY:"auto"},children:o.jsx("pre",{children:JSON.stringify(g.metadata,null,2)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Content"}),o.jsx("div",{className:"p-4 rounded-lg border-2 font-mono text-sm whitespace-pre-wrap",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)",color:"var(--admin-text)",maxHeight:"400px",overflowY:"auto"},children:g.content})]})]}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})}),w&&_&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>S(!1),children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:Y=>Y.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"📊 File Metadata & Chunk Information"}),o.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:"✕"})]}),o.jsx("div",{className:"space-y-6",children:Object.values(_).map(Y=>o.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h4",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["📄 ",Y.fileName]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)"},children:[Y.chunkCount," chunks"]}),o.jsx("button",{onClick:()=>V(Y.fileName),disabled:x===Y.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:x===Y.fileName?"#6b7280":"#10b981",color:"white"},children:x===Y.fileName?"⏳ Indexing...":"📤 Index"}),o.jsx("button",{onClick:()=>J(Y.fileName),disabled:x===Y.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:x===Y.fileName?"#6b7280":"#ef4444",color:"white"},children:x===Y.fileName?"⏳ Unindexing...":"🗑️ Unindex"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.chunks.map(($,Q)=>o.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)"},children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["Chunk #",$.chunkIndex]}),o.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["ID: ",$.id]})]}),o.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Source: ",$.source]}),o.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Location: ",$.pageInfo||"N/A"]}),o.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Status: ",o.jsx("span",{className:"sync-status-text",children:$.syncStatus==="synced"?"Synced":"Pending"})]}),o.jsxs("div",{className:"text-xs font-mono",style:{color:"var(--admin-text-muted)",maxHeight:"60px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:[$.content.substring(0,100),"..."]})]})},$.id))})]},Y.fileName))}),o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})};const Oce=()=>{const{t:e}=rt(),{theme:t}=as(),[n,r]=v.useState("file-library"),i=[{id:"file-library",label:e("knowledge.fileLibrary")},{id:"knowledge-index",label:e("knowledge.knowledgeIndex")}],a=()=>{switch(n){case"file-library":return o.jsx(x2,{});case"knowledge-index":return o.jsx(Nce,{});default:return o.jsx(x2,{})}};return o.jsxs("div",{className:"knowledge-management","data-theme":t,children:[o.jsx("div",{className:"km-header",children:o.jsxs("div",{className:"km-title-section",children:[o.jsx("h1",{className:"km-title",children:e("knowledge.title")}),o.jsx("p",{className:"km-subtitle",children:e("knowledge.subtitle")})]})}),o.jsx("div",{className:"km-tabs",children:i.map(s=>o.jsx("button",{className:`km-tab ${n===s.id?"active":""}`,onClick:()=>r(s.id),children:s.label},s.id))}),o.jsx("div",{className:"km-content",children:a()})]})},Ace="1X5lAcD0uJVtmbEdPjnP6XlesS3pzsmd_",Pce="608001025",b2=`https://docs.google.com/spreadsheets/d/${Ace}/export?format=csv&gid=${Pce}`;async function Tce(e="simple"){try{console.log("🔄 Fetching from Google Sheets:",b2);const t=await fetch(b2,{cache:"no-store",mode:"cors"});if(console.log("📊 Response status:",t.status),!t.ok)throw new Error(`Sheets CSV fetch failed: ${t.status}`);const n=await t.text();console.log("📄 CSV data received, length:",n.length);const r=n.split(`
`).filter(l=>l.trim());if(r.length===0)return console.log("⚠️ No data in CSV, using dummy data"),og();const i=r[0].split(",").map(l=>l.trim().replace(/"/g,""));console.log("📋 Headers found:",i);const a=[];for(let l=1;l<r.length;l++){const c=r[l].split(",").map(u=>u.trim().replace(/"/g,""));if(c.length>=i.length&&c[0]){const u={};i.forEach((f,h)=>{u[f]=c[h]||""});const d={Date:String(u.Date||u.date||"").slice(0,10),Toxicity:Number(u.Toxicity||0),"Prompt Injection":Number(u["Prompt Injection"]||u.PromptInjection||0),"Answer Correctness":Number(u["Answer Correctness"]||u.Correctness||0),"Answer Relevancy":Number(u["Answer Relevancy"]||u.Relevancy||0),Length:Number(u.Length||0),Tone:Number(u.Tone||0),isSimulated:!1};d.Date&&d.Date!=="0000-00-00"&&a.push(d)}}const s=a.sort((l,c)=>l.Date.localeCompare(c.Date));return s.length===0?(console.log("⚠️ No valid rows found, using dummy data"),og()):(console.log("✅ Successfully loaded",s.length,"real rows from Google Sheets"),s.length<30?(console.log(`📅 Adding estimated data with ${e} mode`),Ice(s,e)):s)}catch(t){return console.error("❌ Failed to fetch Google Sheets data:",t),console.log("🔄 Using dummy data instead"),og()}}function Ice(e,t){const n=[],r=new Date;r.setHours(0,0,0,0);let i=r;if(e.length>0){const l=new Date(e[e.length-1].Date);i=l<r?l:r}for(let l=29;l>=0;l--){const u=new Date(i.getTime()-l*24*60*60*1e3).toISOString().split("T")[0],d=e.find(f=>f.Date===u);if(d)n.push(d);else{const f=e[e.length-1]||Mce();let h;switch(t){case"simple":h=w2(f,u);break;case"improved":h=Dce(f,u,l);break;case"realistic":h=Rce(f,u,l);break;default:h=w2(f,u)}n.push(h)}}const a=n.filter(l=>l.isSimulated).length,s=n.filter(l=>!l.isSimulated).length;return console.log(`📈 Generated data (${t}): ${s} real + ${a} simulated = ${n.length} total`),n.sort((l,c)=>l.Date.localeCompare(c.Date))}function w2(e,t){const n=(Math.random()-.5)*.1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+n)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+n)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+n)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+n)),Length:Math.max(0,Math.min(1,e.Length+n)),Tone:Math.max(0,Math.min(1,e.Tone+n)),isSimulated:!0}}function Dce(e,t,n){const r=(Math.random()-.5)*.08,i=Math.sin(n/7*Math.PI)*.02,a=r+i;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+a*.5)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+a*.5)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+a)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+a)),Length:Math.max(0,Math.min(1,e.Length+a*1.2)),Tone:Math.max(0,Math.min(1,e.Tone+a*1.2)),isSimulated:!0}}function Rce(e,t,n){const i=1-Math.abs(n-29)*.005,a=(Math.random()-.5)*.03,s=(Math.random()-.5)*.06,l=(Math.random()-.5)*.1,u=new Date(t).getDay(),d=u===0||u===6?.95:1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity*i*d+a)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]*i*d+a)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]*i*d+s)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]*i*d+s)),Length:Math.max(0,Math.min(1,e.Length*i+l)),Tone:Math.max(0,Math.min(1,e.Tone*i+l)),isSimulated:!0}}function Mce(){return{Date:"",Toxicity:.8,"Prompt Injection":.85,"Answer Correctness":.8,"Answer Relevancy":.85,Length:.7,Tone:.75,isSimulated:!1}}function og(){console.log("🎲 Generating dummy radar data...");const e=[],t=new Date;t.setHours(0,0,0,0);for(let n=30;n>=0;n--){const i=new Date(t.getTime()-n*24*60*60*1e3).toISOString().split("T")[0];e.push({Date:i,Toxicity:Math.random()*.3+.7,"Prompt Injection":Math.random()*.2+.8,"Answer Correctness":Math.random()*.2+.8,"Answer Relevancy":Math.random()*.15+.85,Length:Math.random()*.3+.7,Tone:Math.random()*.25+.75,isSimulated:!0})}return console.log("✅ Generated",e.length,"dummy rows"),e}function Lce(e,t){return t?e:e.filter(n=>!n.isSimulated)}const $ce={"professor@tecace.com":{userId:"professor_001",email:"professor@tecace.com",theme:{primaryColor:"#6366f1",accentColor:"#8b5cf6",backgroundColor:"#0f172a"},branding:{dashboardTitle:"Professor Dashboard",welcomeMessage:"Welcome, Professor"},layout:{hideSections:[],sectionOrder:["performance-radar","daily-message-activity","recent-conversations","admin-feedback","user-feedback","prompt-control"]},features:{enabledFeatures:["advanced-analytics","custom-reports"],disabledFeatures:[]}}},Fce=e=>{const t=e.toLowerCase().trim();return $ce[t]||null},zce=e=>{if(!e||!e.theme)return;const t=document.documentElement,{theme:n}=e;n.primaryColor&&t.style.setProperty("--admin-primary",n.primaryColor),n.accentColor&&t.style.setProperty("--admin-accent",n.accentColor),n.backgroundColor&&t.style.setProperty("--admin-bg",n.backgroundColor)},Uce=()=>{const e=document.documentElement;e.style.removeProperty("--admin-primary"),e.style.removeProperty("--admin-accent"),e.style.removeProperty("--admin-bg")};function Hu(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function k2(){const e=Un(),[t]=s3(),n=is(),{theme:r}=as(),{t:i}=rt(),[a,s]=v.useState(!1),[,l]=v.useState(""),[,c]=v.useState(""),[u,d]=v.useState(null),[f,h]=v.useState([]),[p,m]=v.useState(""),[g,y]=v.useState(!0),[x,b]=v.useState("simple"),[w,S]=v.useState(null),[_,k]=v.useState(null),[E,I]=v.useState(0),[O,C]=v.useState(0),[P,R]=v.useState(0),[F,V]=v.useState(0),[J,L]=v.useState(0),[G,N]=v.useState(0),[D]=v.useState(()=>{const ce=Je();return(ce==null?void 0:ce.email)==="professor@tecace.com"}),[j,z]=v.useState(D),[W,A]=v.useState(!0),[re,B]=v.useState(!0),[ee,Y]=v.useState("chatbot"),[$,Q]=v.useState("overview"),[M,X]=v.useState("2025-winter"),[U,he]=v.useState("machine-learning"),[ue,Se]=v.useState("en"),[Ae,ye]=v.useState(null),[Te,Ze]=v.useState({x:0,y:0}),Wn=new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});v.useEffect(()=>{const ce=Je();if(ce){const xe=Fce(ce.email);d(xe),xe&&(zce(xe),console.log("✨ Applied custom theme for:",ce.email))}return()=>{Uce()}},[]),v.useEffect(()=>{const ce=new Date,xe=new Date;xe.setDate(ce.getDate()-6),l(Hu(xe)),c(Hu(ce)),wn(),Or()},[]);const Or=async()=>{try{const ce=await Uf(1e3),xe=new Set(ce.map(ur=>ur.session_id)).size;I(xe),V(ce.length);const Jt=xe>0?Math.round(ce.length/xe*10)/10:0;L(Jt);const Ar=new Set(ce.map(ur=>ur.user_id)).size;N(Ar);const cr=await Ya();if(cr.length>0){const dr=cr.filter(LR=>LR.reaction==="good").length/cr.length*100;C(Math.round(dr*10)/10)}else C(0);const Pt=await fw();Pt.success&&R(Pt.total),console.log("✅ Metrics loaded:",{sessions:xe,questions:ce.length,avgPerSession:Jt,students:Ar,satisfaction:O,documents:Pt.total})}catch(ce){console.error("❌ Failed to load metrics:",ce)}};v.useEffect(()=>{wn()},[x]);const wn=async()=>{try{console.log("📊 Loading Google Sheets data for Performance Timeline...");const ce=await Tce(x);h(ce),ce.length>0&&m(ce[ce.length-1].Date),console.log("✅ Loaded",ce.length,"days of performance data")}catch(ce){console.error("❌ Failed to load radar data:",ce)}},H=Lce(f,g),ie=H.find(ce=>ce.Date===p)||H[H.length-1],de=ie?{relevance:Math.round(ie["Answer Relevancy"]*100),tone:Math.round(ie.Tone*100),length:Math.round(ie.Length*100),accuracy:Math.round(ie["Answer Correctness"]*100),toxicity:Math.round(ie.Toxicity*100),promptInjection:Math.round(ie["Prompt Injection"]*100)}:{relevance:85,tone:78,length:82,accuracy:92,toxicity:95,promptInjection:88},T=Math.round((de.relevance+de.tone+de.length+de.accuracy+de.toxicity+de.promptInjection)/6);v.useEffect(()=>{const ce=t.get("section");ce&&setTimeout(()=>{ge(ce)},500)},[t]);const Z=()=>{try{qa()}catch{}localStorage.removeItem("authToken"),sessionStorage.removeItem("axAccess"),e("/",{replace:!0})},ae=()=>{s(!a)},ge=ce=>{const xe=document.getElementById(ce);xe&&xe.scrollIntoView({behavior:"smooth",block:"start"})},ve=ce=>{k(ce),S(ce);const xe=document.getElementById("recent-conversations");xe&&xe.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{S(null)},3e3)};return o.jsx("div",{className:"admin-layout","data-theme":r,children:o.jsxs("div",{className:"dashboard-layout",children:[o.jsx(Soe,{performanceScore:T,performanceDate:Hu(new Date),currentTime:Wn,onSignOut:Z}),o.jsxs("div",{className:"dashboard-content",children:[o.jsx(joe,{serviceMode:ee,conversations:E,satisfaction:O,documents:P,performanceScore:T,performanceDate:Hu(new Date),isCollapsed:a,onToggleCollapse:ae,onScrollToSection:ge,onServiceModeChange:Y,onTranslationFilterChange:({term:ce,subject:xe})=>{X(ce),he(xe)},selectedLanguage:ue,onSelectedLanguageChange:Se}),o.jsx("main",{className:"dashboard-main",children:n.pathname==="/admin/knowledge-management"?o.jsx(Oce,{}):ee==="translation"&&D?o.jsxs("div",{style:{padding:"20px"},children:[o.jsx("h1",{style:{fontSize:"24px",fontWeight:700,marginBottom:"20px"},children:"번역 서비스"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px",marginBottom:"20px"},children:[o.jsxs("div",{style:{padding:"16px",background:"var(--admin-card-bg)",borderRadius:"8px",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"14px",color:"var(--admin-text-muted)",marginBottom:"8px"},children:"총 번역 건수"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"var(--admin-primary)"},children:"1,247"}),o.jsx("div",{style:{fontSize:"12px",color:"var(--admin-text-muted)",marginTop:"4px"},children:"+23% 이번 주"})]}),o.jsxs("div",{style:{padding:"16px",background:"var(--admin-card-bg)",borderRadius:"8px",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"14px",color:"var(--admin-text-muted)",marginBottom:"8px"},children:"평균 번역 속도"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"var(--admin-success)"},children:"1.2초"}),o.jsx("div",{style:{fontSize:"12px",color:"var(--admin-text-muted)",marginTop:"4px"},children:"실시간 STT"})]}),o.jsxs("div",{style:{padding:"16px",background:"var(--admin-card-bg)",borderRadius:"8px",border:"1px solid var(--admin-border)"},children:[o.jsx("div",{style:{fontSize:"14px",color:"var(--admin-text-muted)",marginBottom:"8px"},children:"번역 정확도"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:700,color:"#f59e0b"},children:"94.2%"}),o.jsx("div",{style:{fontSize:"12px",color:"var(--admin-text-muted)",marginTop:"4px"},children:"본문 인식률"})]})]}),o.jsx("div",{style:{marginTop:"32px"},children:o.jsx(Moe,{selectedTerm:M,selectedSubject:U,selectedLanguage:ue,onSelectedLanguageChange:Se})}),o.jsxs("div",{id:"admin-feedback",className:"content-section",style:{marginTop:"32px"},children:[o.jsx("h2",{className:"section-title",children:"Admin Feedback"}),o.jsx(n2,{onScrollToChat:()=>{},useMock:D})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"dashboard-grid",style:{display:"block"},children:o.jsx("div",{className:"grid-left",children:o.jsxs("div",{id:"performance-radar",style:{position:"relative"},children:[D&&o.jsx("button",{onClick:()=>A(!W),style:{position:"absolute",top:6,left:"50%",transform:"translateX(-50%)",zIndex:5,display:"flex",alignItems:"center",justifyContent:"center",width:28,height:28,padding:0,background:"transparent",color:"rgba(255,255,255,0.45)",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"12px",fontWeight:600},"aria-label":W?"Hide Performance Radar":"Show Performance Radar",children:o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:W?o.jsx("polyline",{points:"18,15 12,9 6,15"}):o.jsx("polyline",{points:"6,9 12,15 18,9"})})}),W&&(D?o.jsx(Eoe,{...de,timelineData:H,selectedDate:p,onDateChange:m,includeSimulatedData:g,onIncludeSimulatedDataChange:y,estimationMode:x,onEstimationModeChange:b}):o.jsx(Coe,{...de,timelineData:H,selectedDate:p,onDateChange:m,includeSimulatedData:g,onIncludeSimulatedDataChange:y,estimationMode:x,onEstimationModeChange:b}))]})})}),!j&&o.jsx("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"flex-end"},children:o.jsxs("button",{onClick:()=>z(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",fontWeight:500},children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polyline",{points:"6,9 12,15 18,9"})}),"Show Research Analysis"]})}),o.jsxs("div",{className:"ai-research-stats-section",style:{display:j?"block":"none"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",gap:"12px"},children:[o.jsx("h2",{className:"section-title",style:{margin:0,fontSize:"24px",fontWeight:700},children:i("Research Field Analysis")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)",fontWeight:500},children:"View:"}),o.jsx("button",{onClick:()=>Q("overview"),style:{padding:"8px 16px",fontSize:"12px",fontWeight:600,background:$==="overview"?"var(--admin-primary)":"var(--admin-card-bg)",color:$==="overview"?"white":"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},children:"Overview"}),o.jsx("button",{onClick:()=>Q("detailed"),style:{padding:"8px 16px",fontSize:"12px",fontWeight:600,background:$==="detailed"?"var(--admin-primary)":"var(--admin-card-bg)",color:$==="detailed"?"white":"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},children:"Details"})]}),o.jsxs("button",{onClick:()=>z(!j),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"12px",fontWeight:600},children:[o.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:j?o.jsx("polyline",{points:"18,15 12,9 6,15"}):o.jsx("polyline",{points:"6,9 12,15 18,9"})}),j?"Hide":"Show"]})]})]}),o.jsx("div",{className:"overview-stats-bar",style:{gridTemplateColumns:$==="overview"?"repeat(6, 1fr)":"repeat(3, 1fr)",marginBottom:"12px",gap:$==="overview"?"6px":"12px"}}),o.jsxs("div",{className:"overview-stats-bar",style:{gridTemplateColumns:$==="overview"?"repeat(6, 1fr)":"repeat(3, 1fr)",marginBottom:"12px",gap:$==="overview"?"6px":"12px"},children:[o.jsxs("div",{className:"prof-overview-card",style:{padding:$==="overview"?"8px":"12px"},children:[o.jsx("div",{className:"prof-overview-icon",style:{fontSize:$==="overview"?"20px":"24px"},children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),o.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),o.jsxs("div",{className:"prof-overview-content",children:[o.jsx("div",{className:"prof-overview-label",style:{fontSize:$==="overview"?"10px":"12px"},children:i("Total Sessions")}),o.jsx("div",{className:"prof-overview-value",style:{fontSize:$==="overview"?"18px":"20px"},children:E}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"4px",opacity:.8},children:"+12.5% vs last week"})]})]}),o.jsxs("div",{className:"prof-overview-card",style:{padding:$==="overview"?"8px":"12px"},children:[o.jsx("div",{className:"prof-overview-icon",style:{fontSize:$==="overview"?"20px":"24px"},children:o.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),o.jsxs("div",{className:"prof-overview-content",children:[o.jsx("div",{className:"prof-overview-label",style:{fontSize:$==="overview"?"10px":"12px"},children:i("Total Questions")}),o.jsx("div",{className:"prof-overview-value",style:{fontSize:$==="overview"?"18px":"20px"},children:F}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"4px",opacity:.8},children:"Avg 4.2 per session"})]})]}),o.jsxs("div",{className:"prof-overview-card",style:{padding:$==="overview"?"8px":"12px"},children:[o.jsx("div",{className:"prof-overview-icon",style:{fontSize:$==="overview"?"20px":"24px"},children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),o.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),o.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}),o.jsxs("div",{className:"prof-overview-content",children:[o.jsx("div",{className:"prof-overview-label",style:{fontSize:$==="overview"?"10px":"12px"},children:i("Avg Q/Session")}),o.jsx("div",{className:"prof-overview-value",style:{fontSize:$==="overview"?"18px":"20px"},children:J}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"4px",opacity:.8},children:"Peak: 8 on 10/15"})]})]}),o.jsxs("div",{className:"prof-overview-card",style:{padding:$==="overview"?"8px":"12px"},children:[o.jsx("div",{className:"prof-overview-icon",style:{fontSize:$==="overview"?"20px":"24px"},children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),o.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),o.jsxs("div",{className:"prof-overview-content",children:[o.jsx("div",{className:"prof-overview-label",style:{fontSize:$==="overview"?"10px":"12px"},children:i("Satisfaction")}),o.jsxs("div",{className:"prof-overview-value",style:{fontSize:$==="overview"?"18px":"20px"},children:[O,"%"]}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"4px",opacity:.8},children:"8 positive, 2 neutral"})]})]}),o.jsxs("div",{className:"prof-overview-card",style:{padding:$==="overview"?"8px":"12px"},children:[o.jsx("div",{className:"prof-overview-icon",style:{fontSize:$==="overview"?"20px":"24px"},children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"9",cy:"7",r:"4"}),o.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),o.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),o.jsxs("div",{className:"prof-overview-content",children:[o.jsx("div",{className:"prof-overview-label",style:{fontSize:$==="overview"?"10px":"12px"},children:i("Active Users")}),o.jsx("div",{className:"prof-overview-value",style:{fontSize:$==="overview"?"18px":"20px"},children:G}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"4px",opacity:.8},children:"15 unique this week"})]})]}),o.jsxs("div",{className:"prof-overview-card",style:{padding:$==="overview"?"8px":"12px"},children:[o.jsx("div",{className:"prof-overview-icon",style:{fontSize:$==="overview"?"20px":"24px"},children:o.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.jsx("polyline",{points:"14 2 14 8 20 8"})]})}),o.jsxs("div",{className:"prof-overview-content",children:[o.jsx("div",{className:"prof-overview-label",style:{fontSize:$==="overview"?"10px":"12px"},children:i("Documents")}),o.jsx("div",{className:"prof-overview-value",style:{fontSize:$==="overview"?"18px":"20px"},children:P}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"4px",opacity:.8},children:"3 indexed, 1 pending"})]})]})]}),o.jsxs("div",{className:"research-stats-grid",style:{gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",marginBottom:"0"},children:[o.jsxs("div",{className:"research-stat-card",children:[o.jsx("h3",{className:"stat-card-title",children:i("Research Fields")}),o.jsxs("div",{className:"field-stats",children:[o.jsxs("div",{className:"field-item",onMouseEnter:ce=>{ye("Machine Learning");const xe=ce.currentTarget.getBoundingClientRect();Ze({x:xe.right+10,y:xe.top})},onMouseLeave:()=>ye(null),style:{cursor:"pointer",position:"relative"},children:[o.jsx("div",{className:"field-name",children:"Machine Learning"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"85%",backgroundColor:"var(--admin-primary)",transition:"none"}})}),o.jsxs("div",{className:"field-count",children:["42 questions",$==="detailed"&&o.jsx("span",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginLeft:"6px"},children:"↑ 12%"})]})]}),o.jsxs("div",{className:"field-item",onMouseEnter:ce=>{ye("Deep Learning");const xe=ce.currentTarget.getBoundingClientRect();Ze({x:xe.right+10,y:xe.top})},onMouseLeave:()=>ye(null),style:{cursor:"pointer"},children:[o.jsx("div",{className:"field-name",children:"Deep Learning"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"72%",backgroundColor:"var(--admin-primary)",transition:"none"}})}),o.jsxs("div",{className:"field-count",children:["36 questions",$==="detailed"&&o.jsx("span",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginLeft:"6px"},children:"↑ 8%"})]})]}),o.jsxs("div",{className:"field-item",onMouseEnter:ce=>{ye("NLP");const xe=ce.currentTarget.getBoundingClientRect();Ze({x:xe.right+10,y:xe.top})},onMouseLeave:()=>ye(null),style:{cursor:"pointer"},children:[o.jsx("div",{className:"field-name",children:"NLP"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"68%",backgroundColor:"var(--admin-primary)",transition:"none"}})}),o.jsxs("div",{className:"field-count",children:["34 questions",$==="detailed"&&o.jsx("span",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginLeft:"6px"},children:"↑ 15%"})]})]}),o.jsxs("div",{className:"field-item",onMouseEnter:ce=>{ye("Computer Vision");const xe=ce.currentTarget.getBoundingClientRect();Ze({x:xe.right+10,y:xe.top})},onMouseLeave:()=>ye(null),style:{cursor:"pointer"},children:[o.jsx("div",{className:"field-name",children:"Computer Vision"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"55%",backgroundColor:"var(--admin-primary)",transition:"none"}})}),o.jsxs("div",{className:"field-count",children:["28 questions",$==="detailed"&&o.jsx("span",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginLeft:"6px"},children:"↑ 5%"})]})]}),o.jsxs("div",{className:"field-item",onMouseEnter:ce=>{ye("Reinforcement Learning");const xe=ce.currentTarget.getBoundingClientRect();Ze({x:xe.right+10,y:xe.top})},onMouseLeave:()=>ye(null),style:{cursor:"pointer"},children:[o.jsx("div",{className:"field-name",children:"Reinforcement Learning"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"45%",backgroundColor:"var(--admin-primary)",transition:"none"}})}),o.jsxs("div",{className:"field-count",children:["23 questions",$==="detailed"&&o.jsx("span",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginLeft:"6px"},children:"↑ 3%"})]})]}),$==="detailed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"field-item",children:[o.jsx("div",{className:"field-name",children:"Transfer Learning"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"38%",backgroundColor:"var(--admin-primary)"}})}),o.jsx("div",{className:"field-count",children:"19 questions"})]}),o.jsxs("div",{className:"field-item",children:[o.jsx("div",{className:"field-name",children:"AutoML"}),o.jsx("div",{className:"field-bar",children:o.jsx("div",{className:"field-progress",style:{width:"32%",backgroundColor:"var(--admin-primary)"}})}),o.jsx("div",{className:"field-count",children:"16 questions"})]})]})]})]}),o.jsxs("div",{className:"research-stat-card",children:[o.jsx("h3",{className:"stat-card-title",children:i("Topic Engagement")}),o.jsxs("div",{className:"topic-stats",children:[o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"Neural Networks"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"8 sessions"}),o.jsx("span",{className:"topic-avg",children:"3.2 Q/session"}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"2px",opacity:.7},children:"Total: 26 questions"})]})]}),o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"Transformer Architecture"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"6 sessions"}),o.jsx("span",{className:"topic-avg",children:"4.1 Q/session"}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"2px",opacity:.7},children:"Total: 24 questions"})]})]}),o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"GANs"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"5 sessions"}),o.jsx("span",{className:"topic-avg",children:"2.8 Q/session"}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"2px",opacity:.7},children:"Total: 14 questions"})]})]}),o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"CNN Architectures"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"7 sessions"}),o.jsx("span",{className:"topic-avg",children:"3.5 Q/session"}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"2px",opacity:.7},children:"Total: 25 questions"})]})]}),o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"Optimization"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"4 sessions"}),o.jsx("span",{className:"topic-avg",children:"2.2 Q/session"}),$==="detailed"&&o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",marginTop:"2px",opacity:.7},children:"Total: 9 questions"})]})]}),$==="detailed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"Attention Mechanisms"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"5 sessions"}),o.jsx("span",{className:"topic-avg",children:"3.6 Q/session"})]})]}),o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"Object Detection"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"3 sessions"}),o.jsx("span",{className:"topic-avg",children:"2.7 Q/session"})]})]}),o.jsxs("div",{className:"topic-item",children:[o.jsx("div",{className:"topic-name",children:"Model Compression"}),o.jsxs("div",{className:"topic-metrics",children:[o.jsx("span",{className:"topic-sessions",children:"3 sessions"}),o.jsx("span",{className:"topic-avg",children:"2.3 Q/session"})]})]})]})]})]}),o.jsxs("div",{className:"research-stat-card",children:[o.jsx("h3",{className:"stat-card-title",children:i("Student Engagement")}),o.jsxs("div",{className:"engagement-stats",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[$==="overview"?o.jsxs("div",{style:{gridColumn:"span 2",display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsx("div",{style:{width:"60px",height:"60px",position:"relative"},children:o.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%"},children:[o.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--admin-border)",strokeWidth:"8"}),o.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:"280 282",strokeDashoffset:"70",transform:"rotate(-90 50 50)"}),o.jsx("text",{x:"50",y:"55",textAnchor:"middle",fontSize:"18",fontWeight:"700",fill:"var(--admin-text)",children:"32"})]})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"12px",color:"var(--admin-text-muted)",marginBottom:"2px"},children:"Active Students"}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:"85% of enrolled"})]})]}):o.jsxs("div",{style:{gridColumn:"span 2",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Active Students Distribution"}),o.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"var(--admin-text)"},children:"32 Total"})]}),o.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"80px"},children:[o.jsx("circle",{cx:"50",cy:"50",r:"35",fill:"none",stroke:"var(--admin-border)",strokeWidth:"8"}),o.jsx("path",{d:"M 50 15 A 35 35 0 0 1 76.8 29.2",fill:"#3b82f6",stroke:"#3b82f6",strokeWidth:"8"}),o.jsx("path",{d:"M 76.8 29.2 A 35 35 0 0 1 76.8 70.8",fill:"#10b981",stroke:"#10b981",strokeWidth:"8"}),o.jsx("path",{d:"M 76.8 70.8 A 35 35 0 0 1 50 85",fill:"#f59e0b",stroke:"#f59e0b",strokeWidth:"8"}),o.jsx("path",{d:"M 50 85 A 35 35 0 0 1 23.2 70.8",fill:"#8b5cf6",stroke:"#8b5cf6",strokeWidth:"8"}),o.jsx("text",{x:"50",y:"48",textAnchor:"middle",fontSize:"12",fontWeight:"700",fill:"var(--admin-text)",children:"32"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"4px",marginTop:"4px",fontSize:"8px"},children:[o.jsx("div",{style:{color:"#3b82f6"},children:"ML: 8"}),o.jsx("div",{style:{color:"#10b981"},children:"DL: 7"}),o.jsx("div",{style:{color:"#f59e0b"},children:"CV: 6"}),o.jsx("div",{style:{color:"#8b5cf6"},children:"NLP: 5"}),o.jsx("div",{style:{color:"var(--admin-text-muted)"},children:"Other: 6"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Questions Asked"}),o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#10b981"},children:"247"})]}),o.jsx("div",{style:{height:"8px",background:"var(--admin-border)",borderRadius:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:"85%",height:"100%",background:"#10b981",borderRadius:"4px"}})})]}),$==="overview"?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Topics Covered"}),o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#f59e0b"},children:"8"})]}),o.jsx("div",{style:{position:"relative",width:"100%",height:"60px"},children:o.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%"},children:[o.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"var(--admin-border)",strokeWidth:"8"}),o.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#f59e0b",strokeWidth:"8",strokeDasharray:"200",strokeDashoffset:"40",transform:"rotate(-90 50 50)",strokeLinecap:"round"})]})})]}):o.jsxs("div",{style:{padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"12px",color:"var(--admin-text-muted)",marginBottom:"6px"},children:"Weekly Activity Trend"}),o.jsxs("svg",{viewBox:"0 0 100 60",style:{width:"100%",height:"50px"},children:[o.jsx("polyline",{points:"5,40 15,35 25,30 35,38 45,32 55,28 65,25 75,22 85,20 95,18",fill:"none",stroke:"#f59e0b",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("circle",{cx:"5",cy:"40",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"15",cy:"35",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"25",cy:"30",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"35",cy:"38",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"45",cy:"32",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"55",cy:"28",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"65",cy:"25",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"75",cy:"22",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"85",cy:"20",r:"1.5",fill:"#f59e0b"}),o.jsx("circle",{cx:"95",cy:"18",r:"1.5",fill:"#f59e0b"})]}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"4px"},children:"↑ 42% this week"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Engagement Rate"}),o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#8b5cf6"},children:"68%"})]}),o.jsx("div",{style:{height:"6px",background:"var(--admin-border)",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:"68%",height:"100%",background:"linear-gradient(90deg, #8b5cf6, #7c3aed)"}})})]}),$==="overview"?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Avg/Session"}),o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#ec4899"},children:"3.2"})]}),o.jsx("div",{style:{width:"60px",height:"60px",position:"relative",margin:"0 auto"},children:o.jsxs("svg",{viewBox:"0 0 100 100",style:{width:"100%",height:"100%"},children:[o.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--admin-border)",strokeWidth:"10"}),o.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#ec4899",strokeWidth:"10",strokeDasharray:"240",strokeDashoffset:"70",transform:"rotate(-90 50 50)",strokeLinecap:"round"}),o.jsx("text",{x:"50",y:"58",textAnchor:"middle",fontSize:"16",fontWeight:"700",fill:"#ec4899",children:"Q"})]})})]}):o.jsxs("div",{style:{padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsx("div",{style:{fontSize:"12px",color:"var(--admin-text-muted)",marginBottom:"6px"},children:"Engagement Radar"}),o.jsxs("svg",{viewBox:"0 0 100 60",style:{width:"100%",height:"50px"},children:[o.jsx("polygon",{points:"50,5 70,15 75,30 60,40 50,35 40,40 25,30 30,15",fill:"#ec4899",fillOpacity:"0.2",stroke:"#ec4899",strokeWidth:"1"}),o.jsx("line",{x1:"50",y1:"5",x2:"70",y2:"15",stroke:"#ec4899",strokeWidth:"1"}),o.jsx("line",{x1:"50",y1:"5",x2:"30",y2:"15",stroke:"#ec4899",strokeWidth:"1"}),o.jsx("line",{x1:"50",y1:"5",x2:"50",y2:"35",stroke:"#ec4899",strokeWidth:"1"}),o.jsx("circle",{cx:"50",cy:"35",r:"2",fill:"#ec4899"})]}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"4px"},children:"High engagement"})]}),$==="detailed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Avg Response Time"}),o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#06b6d4"},children:"1.2s"})]}),o.jsx("div",{style:{height:"6px",background:"var(--admin-border)",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:"75%",height:"100%",background:"linear-gradient(90deg, #06b6d4, #0891b2)"}})})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:"Total Downloads"}),o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#84cc16"},children:"94"})]}),o.jsx("div",{style:{height:"6px",background:"var(--admin-border)",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:"62%",height:"100%",background:"linear-gradient(90deg, #84cc16, #65a30d)"}})})]})]})]})]}),o.jsxs("div",{className:"research-stat-card",children:[o.jsx("h3",{className:"stat-card-title",children:i("Satisfaction by Field")}),o.jsxs("div",{className:"satisfaction-stats",children:[o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"Machine Learning"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"88%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"88%"})]})]}),o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"Deep Learning"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"82%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"82%"})]})]}),o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"NLP"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"79%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"79%"})]})]}),o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"Computer Vision"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"75%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"75%"})]})]}),o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"Reinforcement Learning"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"71%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"71%"})]})]}),$==="detailed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"Transfer Learning"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"68%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"68%"})]})]}),o.jsxs("div",{className:"satisfaction-item",children:[o.jsx("div",{className:"satisfaction-field",children:"AutoML"}),o.jsxs("div",{className:"satisfaction-gauge",children:[o.jsx("div",{className:"gauge-fill",style:{width:"65%",backgroundColor:"var(--admin-primary)"}}),o.jsx("span",{className:"gauge-text",children:"65%"})]})]})]})]})]})]}),$==="detailed"&&o.jsxs("div",{className:"research-stat-card",style:{marginTop:"16px"},children:[o.jsx("h3",{className:"stat-card-title",children:"24-Hour Activity Pattern"}),o.jsxs("div",{style:{padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("svg",{viewBox:"0 0 100 50",style:{width:"100%",height:"80px"},children:[o.jsx("line",{x1:"5",y1:"45",x2:"95",y2:"45",stroke:"var(--admin-border)",strokeWidth:"1",strokeDasharray:"2,2"}),o.jsx("line",{x1:"5",y1:"30",x2:"95",y2:"30",stroke:"var(--admin-border)",strokeWidth:"1",strokeDasharray:"2,2"}),o.jsx("line",{x1:"5",y1:"15",x2:"95",y2:"15",stroke:"var(--admin-border)",strokeWidth:"1",strokeDasharray:"2,2"}),o.jsx("polyline",{points:"5,45 10,40 15,38 20,35 25,32 30,28 35,25 40,22 45,28 50,38 55,42 60,48 65,45 70,40 75,35 80,32 85,30 90,28 95,25",fill:"none",stroke:"var(--admin-primary)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("circle",{cx:"5",cy:"45",r:"1.5",fill:"var(--admin-primary)"}),o.jsx("circle",{cx:"50",cy:"38",r:"2",fill:"var(--admin-primary)"}),o.jsx("circle",{cx:"60",cy:"48",r:"2",fill:"var(--admin-primary)"}),o.jsx("circle",{cx:"95",cy:"25",r:"1.5",fill:"var(--admin-primary)"}),o.jsx("text",{x:"5",y:"52",textAnchor:"middle",fontSize:"7",fill:"var(--admin-text-muted)",children:"0"}),o.jsx("text",{x:"25",y:"52",textAnchor:"middle",fontSize:"7",fill:"var(--admin-text-muted)",children:"6"}),o.jsx("text",{x:"50",y:"52",textAnchor:"middle",fontSize:"7",fill:"var(--admin-text-muted)",children:"12"}),o.jsx("text",{x:"75",y:"52",textAnchor:"middle",fontSize:"7",fill:"var(--admin-text-muted)",children:"18"}),o.jsx("text",{x:"95",y:"52",textAnchor:"middle",fontSize:"7",fill:"var(--admin-text-muted)",children:"24"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginTop:"8px",fontSize:"9px",color:"var(--admin-text-muted)"},children:[o.jsx("div",{children:"Peak: 10AM - 42 sessions"}),o.jsx("div",{children:"Peak: 2PM - 48 sessions"}),o.jsx("div",{children:"Peak: 6PM - 45 sessions"})]})]})]}),$==="detailed"&&o.jsxs("div",{className:"research-stat-card",style:{marginTop:"16px"},children:[o.jsx("h3",{className:"stat-card-title",children:"Session and Satisfaction by Subject"}),o.jsx("div",{style:{padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:o.jsxs("div",{style:{display:"grid",gap:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text)"},children:"Anesthesia (Year 4)"}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"2px"},children:"24 sessions • 3.2 avg questions"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#10b981"},children:"4.6★"}),o.jsx("button",{style:{padding:"4px 8px",fontSize:"10px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"View"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text)"},children:"Small Animal Internal Medicine (Year 3)"}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"2px"},children:"31 sessions • 2.8 avg questions"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#10b981"},children:"4.3★"}),o.jsx("button",{style:{padding:"4px 8px",fontSize:"10px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"View"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text)"},children:"Pathology (Year 2)"}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"2px"},children:"19 sessions • 3.5 avg questions"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#10b981"},children:"4.1★"}),o.jsx("button",{style:{padding:"4px 8px",fontSize:"10px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"View"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text)"},children:"Anatomy (Year 1)"}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"2px"},children:"28 sessions • 2.9 avg questions"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#10b981"},children:"4.4★"}),o.jsx("button",{style:{padding:"4px 8px",fontSize:"10px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"View"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"var(--admin-text)"},children:"Physiology (Pre-vet Year 2)"}),o.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",marginTop:"2px"},children:"22 sessions • 3.1 avg questions"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:700,color:"#10b981"},children:"4.5★"}),o.jsx("button",{style:{padding:"4px 8px",fontSize:"10px",background:"var(--admin-primary)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"View"})]})]})]})})]}),$==="detailed"&&o.jsxs("div",{className:"research-stat-card",style:{marginTop:"16px"},children:[o.jsx("h3",{className:"stat-card-title",children:"Real-time Activity Log"}),o.jsxs("div",{style:{padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"grid",gap:"6px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",fontSize:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)",minWidth:"60px"},children:"2 min ago"}),o.jsx("span",{style:{color:"var(--admin-text)"},children:"Student A"})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Anesthesia (Year 4)"}),o.jsx("span",{style:{color:"#10b981",fontSize:"9px"},children:"Question Completed"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",fontSize:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)",minWidth:"60px"},children:"5 min ago"}),o.jsx("span",{style:{color:"var(--admin-text)"},children:"Student B"})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Small Animal Internal Medicine"}),o.jsx("span",{style:{color:"#f59e0b",fontSize:"9px"},children:"Answer Feedback"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",fontSize:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)",minWidth:"60px"},children:"8 min ago"}),o.jsx("span",{style:{color:"var(--admin-text)"},children:"Student C"})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Pathology (Year 2)"}),o.jsx("span",{style:{color:"#3b82f6",fontSize:"9px"},children:"Question Started"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",fontSize:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)",minWidth:"60px"},children:"12 min ago"}),o.jsx("span",{style:{color:"var(--admin-text)"},children:"Student D"})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Anatomy (Year 1)"}),o.jsx("span",{style:{color:"#10b981",fontSize:"9px"},children:"Answer Completed"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",fontSize:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)",minWidth:"60px"},children:"15 min ago"}),o.jsx("span",{style:{color:"var(--admin-text)"},children:"Student E"})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Physiology (Pre-vet Year 2)"}),o.jsx("span",{style:{color:"#10b981",fontSize:"9px"},children:"Question Completed"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px",fontSize:"10px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)",minWidth:"60px"},children:"18 min ago"}),o.jsx("span",{style:{color:"var(--admin-text)"},children:"Student F"})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[o.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"Anesthesia (Year 4)"}),o.jsx("span",{style:{color:"#ec4899",fontSize:"9px"},children:"Re-question"})]})]})]}),o.jsx("div",{style:{marginTop:"12px",textAlign:"center"},children:o.jsx("button",{style:{fontSize:"10px",padding:"6px 12px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"6px",cursor:"pointer"},children:"View All Activity"})})]})]}),$==="detailed"&&o.jsxs("div",{className:"research-stat-card",style:{marginTop:"16px"},children:[o.jsx("h3",{className:"stat-card-title",children:"System Status"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",padding:"12px",background:"var(--admin-card-bg)",border:"1px solid var(--admin-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",padding:"10px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)"},children:"API Response Time"}),o.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"#10b981"},children:"245ms"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:"Average latency"}),o.jsx("div",{style:{fontSize:"9px",color:"#10b981"},children:"✓ Excellent"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",padding:"10px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)"},children:"Model Uptime"}),o.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"#10b981"},children:"99.8%"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:"24-hour availability"}),o.jsx("div",{style:{fontSize:"9px",color:"#10b981"},children:"✓ Normal"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",padding:"10px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)"},children:"Response Rate (30d)"}),o.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"#10b981"},children:"94.2%"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:"Answered queries"}),o.jsx("div",{style:{fontSize:"9px",color:"#10b981"},children:"↑ +2.1%"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px",padding:"10px",background:"var(--admin-bg)",borderRadius:"6px"},children:[o.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)"},children:"Avg Session Length"}),o.jsx("div",{style:{fontSize:"18px",fontWeight:700,color:"var(--admin-text)"},children:"8.5 min"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:"Per student average"}),o.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:"→ Stable"})]})]})]})]}),o.jsxs("div",{className:"content-module",children:[!re&&o.jsx("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"flex-end"},children:o.jsxs("button",{onClick:()=>B(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",fontWeight:500},children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polyline",{points:"6,9 12,15 18,9"})}),"Show Daily Message Activity"]})}),re&&o.jsxs("div",{id:"daily-message-activity",className:"content-section",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsx("h2",{className:"section-title",style:{margin:0},children:"일일 메시지 활동"}),o.jsxs("button",{onClick:()=>B(!1),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",background:"var(--admin-card-bg)",color:"var(--admin-text)",border:"1px solid var(--admin-border)",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",fontSize:"14px",fontWeight:500},children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("polyline",{points:"18,15 12,9 6,15"})}),"Hide"]})]}),o.jsx(Ooe,{})]}),o.jsxs("div",{id:"recent-conversations",className:"content-section",children:[o.jsx("h2",{className:"section-title",children:i("admin.recentConversations")}),o.jsx(Roe,{scrollToChatId:_,highlightedChatId:w,onScrollComplete:()=>k(null)})]}),o.jsxs("div",{id:"admin-feedback",className:"content-section",children:[o.jsx("h2",{className:"section-title",children:"Admin Feedback"}),o.jsx(n2,{onScrollToChat:ve,useMock:D})]}),o.jsxs("div",{id:"user-feedback",className:"content-section",children:[o.jsx("h2",{className:"section-title",children:i("admin.userFeedback")}),o.jsx(Loe,{onScrollToChat:ve})]}),o.jsxs("div",{id:"prompt-control",className:"content-section",children:[o.jsx("h2",{className:"section-title",children:i("admin.promptControl")}),o.jsx(Doe,{})]})]})]})})]})]})})}function Bce(){const[e,t]=v.useState(!1);v.useEffect(()=>{const r=()=>{const a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s=[".admin-dashboard-content",".dashboard-content",".knowledge-management-container","main",".main-content"];let l=a;s.forEach(c=>{const u=document.querySelector(c);u&&u.scrollTop>l&&(l=u.scrollTop)}),t(l>200)};r();const i=setInterval(r,500);return window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("scroll",r,!0),clearInterval(i)}},[]);const n=()=>{const r=[".admin-dashboard-content",".dashboard-content",".knowledge-management-container","main",".main-content",'[class*="content"]'];let i=!1;for(const a of r){const s=document.querySelector(a);if(s&&s.scrollTop>0){s.scrollTo({top:0,behavior:"smooth"}),i=!0;break}}i||window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{document.documentElement.scrollTop=0,document.body.scrollTop=0,r.forEach(a=>{const s=document.querySelector(a);s&&(s.scrollTop=0)})},100)};return e?o.jsx("button",{onClick:n,style:{position:"fixed",bottom:"100px",right:"32px",width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"var(--admin-primary, #3b82f6)",color:"#ffffff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",zIndex:99999,opacity:.9},onMouseEnter:r=>{r.currentTarget.style.opacity="1",r.currentTarget.style.transform="translateY(-4px)",r.currentTarget.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:r=>{r.currentTarget.style.opacity="0.9",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.3)"},"aria-label":"Scroll to top",title:"Scroll to top",children:o.jsx(koe,{size:24})}):null}const lg=()=>{const e=Je();if(e)try{const t=localStorage.getItem("axpro_user_settings");if(t&&JSON.parse(t)[e.userId]){console.log("User already has settings, skipping migration");return}console.log("Migrating global settings to user-specific settings for:",e.email);const n=JSON.parse(localStorage.getItem("axpro_n8n_configs")||"[]"),r=localStorage.getItem("axpro_active_n8n_config")||"",i=localStorage.getItem("axpro_supabase_url")||"",a=localStorage.getItem("axpro_supabase_anon_key")||"",s=JSON.parse(localStorage.getItem("axpro_api_configs")||"[]"),l=JSON.parse(localStorage.getItem("axpro_ui_customization")||"{}");let c;e.userId==="seokhoon_kang_001"||e.email==="hana@tecace.com"?c={userId:e.userId,email:e.email,n8nConfigs:[{id:"seokhoon_default",name:"Hana Custom Chatbot",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/63647efd-8c39-42d5-8e1f-b465d62091c6",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"seokhoon_default",supabaseConfig:{url:"https://oomjruguisqdahcrvfws.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vbWpydWd1aXNxZGFoY3J2ZndzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNjAxNTUsImV4cCI6MjA3NjYzNjE1NX0.gPLhFgvyCXozmUwbdNDTRp2_-pDH4rHQCJuyPotR8Vo"},apiConfigs:s,uiCustomization:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:e.userId==="409esj1923"||e.email==="chatbot-admin@tecace.com"?c={userId:e.userId,email:e.email,n8nConfigs:[{id:"admin_default",name:"Admin Default Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"admin_default",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"},apiConfigs:s,uiCustomization:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:e.userId==="user123456"||e.email==="chatbot-user@tecace.com"?c={userId:e.userId,email:e.email,n8nConfigs:[{id:"regular_user_default",name:"Regular User Webhook (Admin)",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"regular_user_default",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"},apiConfigs:s,uiCustomization:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:c={userId:e.userId,email:e.email,n8nConfigs:n,activeN8nConfigId:r,supabaseConfig:{url:i,anonKey:a},apiConfigs:s,uiCustomization:l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},oh(c),console.log("Successfully migrated settings for user:",e.email)}catch(t){console.error("Failed to migrate settings:",t)}},Wce=()=>{const e=Je();if(!e)return;const t=localStorage.getItem("axpro_user_settings");if(!t){lg();return}try{JSON.parse(t)[e.userId]||lg()}catch(n){console.error("Failed to check migration status:",n),lg()}},Gr=({children:e,requiredRole:t})=>Ox(t)?o.jsx(o.Fragment,{children:e}):o.jsx(JE,{to:"/",replace:!0}),Vce=()=>(v.useEffect(()=>{Wce()},[]),o.jsx(o3,{children:o.jsx(c3,{children:o.jsx(a3,{children:o.jsxs("div",{className:"App",children:[o.jsx(Bce,{}),o.jsxs(t3,{children:[o.jsx(qn,{path:"/",element:o.jsx(p3,{})}),o.jsx(qn,{path:"/chat",element:o.jsx(Gr,{requiredRole:"user",children:o.jsx(Qk,{})})}),o.jsx(qn,{path:"/chat/:sessionId",element:o.jsx(Gr,{requiredRole:"user",children:o.jsx(Qk,{})})}),o.jsx(qn,{path:"/dashboard",element:o.jsx(Gr,{requiredRole:"admin",children:o.jsx(vW,{})})}),o.jsx(qn,{path:"/settings",element:o.jsx(Gr,{requiredRole:"user",children:o.jsx(yW,{})})}),o.jsx(qn,{path:"/admin/dashboard",element:o.jsx(Gr,{requiredRole:"admin",children:o.jsx(k2,{})})}),o.jsx(qn,{path:"/admin",element:o.jsx(Gr,{requiredRole:"admin",children:o.jsx(eg,{})})}),o.jsx(qn,{path:"/admin/usage",element:o.jsx(Gr,{requiredRole:"admin",children:o.jsx(eg,{})})}),o.jsx(qn,{path:"/admin/prompt",element:o.jsx(Gr,{requiredRole:"admin",children:o.jsx(eg,{})})}),o.jsx(qn,{path:"/admin/knowledge-management",element:o.jsx(Gr,{requiredRole:"admin",children:o.jsx(k2,{})})}),o.jsx(qn,{path:"*",element:o.jsx(JE,{to:"/",replace:!0})})]})]})})})}));cg.createRoot(document.getElementById("root")).render(o.jsx(ui.StrictMode,{children:o.jsx(Vce,{})}));export{lF as c};
