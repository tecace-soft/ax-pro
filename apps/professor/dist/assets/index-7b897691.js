var TR=Object.defineProperty;var IR=(e,t,n)=>t in e?TR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nu=(e,t,n)=>(IR(e,typeof t!="symbol"?t+"":t,n),n);function DR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var w_={exports:{}},zf={},k_={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),MR=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),$R=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),zR=Symbol.for("react.provider"),UR=Symbol.for("react.context"),BR=Symbol.for("react.forward_ref"),WR=Symbol.for("react.suspense"),HR=Symbol.for("react.memo"),KR=Symbol.for("react.lazy"),cw=Symbol.iterator;function qR(e){return e===null||typeof e!="object"?null:(e=cw&&e[cw]||e["@@iterator"],typeof e=="function"?e:null)}var S_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j_=Object.assign,C_={};function bs(e,t,n){this.props=e,this.context=t,this.refs=C_,this.updater=n||S_}bs.prototype.isReactComponent={};bs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function __(){}__.prototype=bs.prototype;function _v(e,t,n){this.props=e,this.context=t,this.refs=C_,this.updater=n||S_}var Ev=_v.prototype=new __;Ev.constructor=_v;j_(Ev,bs.prototype);Ev.isPureReactComponent=!0;var uw=Array.isArray,E_=Object.prototype.hasOwnProperty,Nv={current:null},N_={key:!0,ref:!0,__self:!0,__source:!0};function P_(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)E_.call(t,r)&&!N_.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:vc,type:e,key:a,ref:o,props:i,_owner:Nv.current}}function VR(e,t){return{$$typeof:vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pv(e){return typeof e=="object"&&e!==null&&e.$$typeof===vc}function GR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var dw=/\/+/g;function jp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?GR(""+e.key):t.toString(36)}function qu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vc:case MR:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+jp(o,0):r,uw(i)?(n="",e!=null&&(n=e.replace(dw,"$&/")+"/"),qu(i,t,n,"",function(c){return c})):i!=null&&(Pv(i)&&(i=VR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dw,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",uw(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+jp(a,s);o+=qu(a,t,n,l,i)}else if(l=qR(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+jp(a,s++),o+=qu(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ru(e,t,n){if(e==null)return e;var r=[],i=0;return qu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function YR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Vu={transition:null},JR={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:Nv};function O_(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:ru,forEach:function(e,t,n){ru(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ru(e,function(){t++}),t},toArray:function(e){return ru(e,function(t){return t})||[]},only:function(e){if(!Pv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=bs;we.Fragment=LR;we.Profiler=FR;we.PureComponent=_v;we.StrictMode=$R;we.Suspense=WR;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JR;we.act=O_;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=j_({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Nv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)E_.call(t,l)&&!N_.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:vc,type:e.type,key:i,ref:a,props:r,_owner:o}};we.createContext=function(e){return e={$$typeof:UR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zR,_context:e},e.Consumer=e};we.createElement=P_;we.createFactory=function(e){var t=P_.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:BR,render:e}};we.isValidElement=Pv;we.lazy=function(e){return{$$typeof:KR,_payload:{_status:-1,_result:e},_init:YR}};we.memo=function(e,t){return{$$typeof:HR,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Vu.transition;Vu.transition={};try{e()}finally{Vu.transition=t}};we.unstable_act=O_;we.useCallback=function(e,t){return Yt.current.useCallback(e,t)};we.useContext=function(e){return Yt.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};we.useEffect=function(e,t){return Yt.current.useEffect(e,t)};we.useId=function(){return Yt.current.useId()};we.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Yt.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};we.useRef=function(e){return Yt.current.useRef(e)};we.useState=function(e){return Yt.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Yt.current.useTransition()};we.version="18.3.1";k_.exports=we;var x=k_.exports;const oi=Rn(x),A_=DR({__proto__:null,default:oi},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR=x,QR=Symbol.for("react.element"),ZR=Symbol.for("react.fragment"),eM=Object.prototype.hasOwnProperty,tM=XR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nM={key:!0,ref:!0,__self:!0,__source:!0};function T_(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)eM.call(t,r)&&!nM.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:QR,type:e,key:a,ref:o,props:i,_owner:tM.current}}zf.Fragment=ZR;zf.jsx=T_;zf.jsxs=T_;w_.exports=zf;var u=w_.exports,ng={},I_={exports:{}},Mn={},D_={exports:{}},R_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,R){var C=D.length;D.push(R);e:for(;0<C;){var Z=C-1>>>1,H=D[Z];if(0<i(H,R))D[Z]=R,D[C]=H,C=Z;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var R=D[0],C=D.pop();if(C!==R){D[0]=C;e:for(var Z=0,H=D.length,A=H>>>1;Z<A;){var U=2*(Z+1)-1,Q=D[U],ne=U+1,J=D[ne];if(0>i(Q,C))ne<H&&0>i(J,Q)?(D[Z]=J,D[ne]=C,Z=ne):(D[Z]=Q,D[U]=C,Z=U);else if(ne<H&&0>i(J,C))D[Z]=J,D[ne]=C,Z=ne;else break e}}return R}function i(D,R){var C=D.sortIndex-R.sortIndex;return C!==0?C:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=D)r(c),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(c)}}function S(D){if(g=!1,w(D),!m)if(n(l)!==null)m=!0,B(j);else{var R=n(c);R!==null&&Y(S,R.startTime-D)}}function j(D,R){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var C=h;try{for(w(R),f=n(l);f!==null&&(!(f.expirationTime>R)||D&&!T());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var H=Z(f.expirationTime<=R);R=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),w(R)}else r(l);f=n(l)}if(f!==null)var A=!0;else{var U=n(c);U!==null&&Y(S,U.startTime-R),A=!1}return A}finally{f=null,h=C,p=!1}}var k=!1,_=null,N=-1,O=5,E=-1;function T(){return!(e.unstable_now()-E<O)}function M(){if(_!==null){var D=e.unstable_now();E=D;var R=!0;try{R=_(!0,D)}finally{R?$():(k=!1,_=null)}}else k=!1}var $;if(typeof b=="function")$=function(){b(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=M,$=function(){z.postMessage(null)}}else $=function(){y(M,0)};function B(D){_=D,k||(k=!0,$())}function Y(D,R){N=y(function(){D(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,B(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var C=h;h=R;try{return D()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var C=h;h=D;try{return R()}finally{h=C}},e.unstable_scheduleCallback=function(D,R,C){var Z=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?Z+C:Z):C=Z,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=C+H,D={id:d++,callback:R,priorityLevel:D,startTime:C,expirationTime:H,sortIndex:-1},C>Z?(D.sortIndex=C,t(c,D),n(l)===null&&D===n(c)&&(g?(v(N),N=-1):g=!0,Y(S,C-Z))):(D.sortIndex=H,t(l,D),m||p||(m=!0,B(j))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var R=h;return function(){var C=h;h=R;try{return D.apply(this,arguments)}finally{h=C}}}})(R_);D_.exports=R_;var rM=D_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iM=x,An=rM;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M_=new Set,Ll={};function to(e,t){Jo(e,t),Jo(e+"Capture",t)}function Jo(e,t){for(Ll[e]=t,e=0;e<t.length;e++)M_.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rg=Object.prototype.hasOwnProperty,aM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fw={},hw={};function oM(e){return rg.call(hw,e)?!0:rg.call(fw,e)?!1:aM.test(e)?hw[e]=!0:(fw[e]=!0,!1)}function sM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lM(e,t,n,r){if(t===null||typeof t>"u"||sM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tt[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tt[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tt[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tt[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tt[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tt[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tt[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tt[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tt[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ov=/[\-:]([a-z])/g;function Av(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ov,Av);Tt[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ov,Av);Tt[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ov,Av);Tt[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tt[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tv(e,t,n,r){var i=Tt.hasOwnProperty(t)?Tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lM(t,n,i,r)&&(n=null),r||i===null?oM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gi=iM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),_o=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),Iv=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),Dv=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),F_=Symbol.for("react.offscreen"),pw=Symbol.iterator;function Hs(e){return e===null||typeof e!="object"?null:(e=pw&&e[pw]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Object.assign,Cp;function dl(e){if(Cp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cp=t&&t[1]||""}return`
`+Cp+e}var _p=!1;function Ep(e,t){if(!e||_p)return"";_p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{_p=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?dl(e):""}function cM(e){switch(e.tag){case 5:return dl(e.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return e=Ep(e.type,!1),e;case 11:return e=Ep(e.type.render,!1),e;case 1:return e=Ep(e.type,!0),e;default:return""}}function sg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Eo:return"Fragment";case _o:return"Portal";case ig:return"Profiler";case Iv:return"StrictMode";case ag:return"Suspense";case og:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $_:return(e.displayName||"Context")+".Consumer";case L_:return(e._context.displayName||"Context")+".Provider";case Dv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rv:return t=e.displayName||null,t!==null?t:sg(e.type)||"Memo";case Pi:t=e._payload,e=e._init;try{return sg(e(t))}catch{}}return null}function uM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sg(t);case 8:return t===Iv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dM(e){var t=z_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function au(e){e._valueTracker||(e._valueTracker=dM(e))}function U_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function md(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lg(e,t){var n=t.checked;return Qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function mw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function B_(e,t){t=t.checked,t!=null&&Tv(e,"checked",t,!1)}function cg(e,t){B_(e,t);var n=Ji(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ug(e,t.type,n):t.hasOwnProperty("defaultValue")&&ug(e,t.type,Ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ug(e,t,n){(t!=="number"||md(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fl=Array.isArray;function zo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ji(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(fl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ji(n)}}function W_(e,t){var n=Ji(t.value),r=Ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function vw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,K_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $l(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fM=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){fM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function q_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function V_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=q_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var hM=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hg(e,t){if(t){if(hM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function pg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=null;function Mv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gg=null,Uo=null,Bo=null;function xw(e){if(e=wc(e)){if(typeof gg!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Kf(t),gg(e.stateNode,e.type,t))}}function G_(e){Uo?Bo?Bo.push(e):Bo=[e]:Uo=e}function Y_(){if(Uo){var e=Uo,t=Bo;if(Bo=Uo=null,xw(e),t)for(e=0;e<t.length;e++)xw(t[e])}}function J_(e,t){return e(t)}function X_(){}var Np=!1;function Q_(e,t,n){if(Np)return e(t,n);Np=!0;try{return J_(e,t,n)}finally{Np=!1,(Uo!==null||Bo!==null)&&(X_(),Y_())}}function Fl(e,t){var n=e.stateNode;if(n===null)return null;var r=Kf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var yg=!1;if(si)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){yg=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{yg=!1}function pM(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var xl=!1,gd=null,yd=!1,vg=null,mM={onError:function(e){xl=!0,gd=e}};function gM(e,t,n,r,i,a,o,s,l){xl=!1,gd=null,pM.apply(mM,arguments)}function yM(e,t,n,r,i,a,o,s,l){if(gM.apply(this,arguments),xl){if(xl){var c=gd;xl=!1,gd=null}else throw Error(ee(198));yd||(yd=!0,vg=c)}}function no(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Z_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bw(e){if(no(e)!==e)throw Error(ee(188))}function vM(e){var t=e.alternate;if(!t){if(t=no(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return bw(i),e;if(a===r)return bw(i),t;a=a.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function eE(e){return e=vM(e),e!==null?tE(e):null}function tE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tE(e);if(t!==null)return t;e=e.sibling}return null}var nE=An.unstable_scheduleCallback,ww=An.unstable_cancelCallback,xM=An.unstable_shouldYield,bM=An.unstable_requestPaint,tt=An.unstable_now,wM=An.unstable_getCurrentPriorityLevel,Lv=An.unstable_ImmediatePriority,rE=An.unstable_UserBlockingPriority,vd=An.unstable_NormalPriority,kM=An.unstable_LowPriority,iE=An.unstable_IdlePriority,Uf=null,$r=null;function SM(e){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Uf,e,void 0,(e.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:_M,jM=Math.log,CM=Math.LN2;function _M(e){return e>>>=0,e===0?32:31-(jM(e)/CM|0)|0}var su=64,lu=4194304;function hl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=hl(s):(a&=o,a!==0&&(r=hl(a)))}else o=n&~i,o!==0?r=hl(o):a!==0&&(r=hl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mr(t),i=1<<n,r|=e[n],t&=~i;return r}function EM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-mr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=EM(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function xg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aE(){var e=su;return su<<=1,!(su&4194240)&&(su=64),e}function Pp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mr(t),e[t]=n}function PM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-mr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function $v(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Te=0;function oE(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sE,Fv,lE,cE,uE,bg=!1,cu=[],zi=null,Ui=null,Bi=null,zl=new Map,Ul=new Map,Ii=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kw(e,t){switch(e){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Bi=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function qs(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=wc(t),t!==null&&Fv(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function AM(e,t,n,r,i){switch(t){case"focusin":return zi=qs(zi,e,t,n,r,i),!0;case"dragenter":return Ui=qs(Ui,e,t,n,r,i),!0;case"mouseover":return Bi=qs(Bi,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return zl.set(a,qs(zl.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ul.set(a,qs(Ul.get(a)||null,e,t,n,r,i)),!0}return!1}function dE(e){var t=Ca(e.target);if(t!==null){var n=no(t);if(n!==null){if(t=n.tag,t===13){if(t=Z_(n),t!==null){e.blockedOn=t,uE(e.priority,function(){lE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mg=r,n.target.dispatchEvent(r),mg=null}else return t=wc(n),t!==null&&Fv(t),e.blockedOn=n,!1;t.shift()}return!0}function Sw(e,t,n){Gu(e)&&n.delete(t)}function TM(){bg=!1,zi!==null&&Gu(zi)&&(zi=null),Ui!==null&&Gu(Ui)&&(Ui=null),Bi!==null&&Gu(Bi)&&(Bi=null),zl.forEach(Sw),Ul.forEach(Sw)}function Vs(e,t){e.blockedOn===t&&(e.blockedOn=null,bg||(bg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,TM)))}function Bl(e){function t(i){return Vs(i,e)}if(0<cu.length){Vs(cu[0],e);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zi!==null&&Vs(zi,e),Ui!==null&&Vs(Ui,e),Bi!==null&&Vs(Bi,e),zl.forEach(t),Ul.forEach(t),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)dE(n),n.blockedOn===null&&Ii.shift()}var Wo=gi.ReactCurrentBatchConfig,bd=!0;function IM(e,t,n,r){var i=Te,a=Wo.transition;Wo.transition=null;try{Te=1,zv(e,t,n,r)}finally{Te=i,Wo.transition=a}}function DM(e,t,n,r){var i=Te,a=Wo.transition;Wo.transition=null;try{Te=4,zv(e,t,n,r)}finally{Te=i,Wo.transition=a}}function zv(e,t,n,r){if(bd){var i=wg(e,t,n,r);if(i===null)Fp(e,t,r,wd,n),kw(e,r);else if(AM(i,e,t,n,r))r.stopPropagation();else if(kw(e,r),t&4&&-1<OM.indexOf(e)){for(;i!==null;){var a=wc(i);if(a!==null&&sE(a),a=wg(e,t,n,r),a===null&&Fp(e,t,r,wd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Fp(e,t,r,null,n)}}var wd=null;function wg(e,t,n,r){if(wd=null,e=Mv(r),e=Ca(e),e!==null)if(t=no(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Z_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wd=e,null}function fE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wM()){case Lv:return 1;case rE:return 4;case vd:case kM:return 16;case iE:return 536870912;default:return 16}default:return 16}}var Li=null,Uv=null,Yu=null;function hE(){if(Yu)return Yu;var e,t=Uv,n=t.length,r,i="value"in Li?Li.value:Li.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Yu=i.slice(e,1<r?1-r:void 0)}function Ju(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function jw(){return!1}function Ln(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uu:jw,this.isPropagationStopped=jw,this}return Qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=Ln(ws),bc=Qe({},ws,{view:0,detail:0}),RM=Ln(bc),Op,Ap,Gs,Bf=Qe({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gs&&(Gs&&e.type==="mousemove"?(Op=e.screenX-Gs.screenX,Ap=e.screenY-Gs.screenY):Ap=Op=0,Gs=e),Op)},movementY:function(e){return"movementY"in e?e.movementY:Ap}}),Cw=Ln(Bf),MM=Qe({},Bf,{dataTransfer:0}),LM=Ln(MM),$M=Qe({},bc,{relatedTarget:0}),Tp=Ln($M),FM=Qe({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),zM=Ln(FM),UM=Qe({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BM=Ln(UM),WM=Qe({},ws,{data:0}),_w=Ln(WM),HM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qM[e])?!!t[e]:!1}function Wv(){return VM}var GM=Qe({},bc,{key:function(e){if(e.key){var t=HM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ju(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wv,charCode:function(e){return e.type==="keypress"?Ju(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ju(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YM=Ln(GM),JM=Qe({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ew=Ln(JM),XM=Qe({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wv}),QM=Ln(XM),ZM=Qe({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),eL=Ln(ZM),tL=Qe({},Bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nL=Ln(tL),rL=[9,13,27,32],Hv=si&&"CompositionEvent"in window,bl=null;si&&"documentMode"in document&&(bl=document.documentMode);var iL=si&&"TextEvent"in window&&!bl,pE=si&&(!Hv||bl&&8<bl&&11>=bl),Nw=String.fromCharCode(32),Pw=!1;function mE(e,t){switch(e){case"keyup":return rL.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var No=!1;function aL(e,t){switch(e){case"compositionend":return gE(t);case"keypress":return t.which!==32?null:(Pw=!0,Nw);case"textInput":return e=t.data,e===Nw&&Pw?null:e;default:return null}}function oL(e,t){if(No)return e==="compositionend"||!Hv&&mE(e,t)?(e=hE(),Yu=Uv=Li=null,No=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pE&&t.locale!=="ko"?null:t.data;default:return null}}var sL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ow(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sL[e.type]:t==="textarea"}function yE(e,t,n,r){G_(r),t=kd(t,"onChange"),0<t.length&&(n=new Bv("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wl=null,Wl=null;function lL(e){NE(e,0)}function Wf(e){var t=Ao(e);if(U_(t))return e}function cL(e,t){if(e==="change")return t}var vE=!1;if(si){var Ip;if(si){var Dp="oninput"in document;if(!Dp){var Aw=document.createElement("div");Aw.setAttribute("oninput","return;"),Dp=typeof Aw.oninput=="function"}Ip=Dp}else Ip=!1;vE=Ip&&(!document.documentMode||9<document.documentMode)}function Tw(){wl&&(wl.detachEvent("onpropertychange",xE),Wl=wl=null)}function xE(e){if(e.propertyName==="value"&&Wf(Wl)){var t=[];yE(t,Wl,e,Mv(e)),Q_(lL,t)}}function uL(e,t,n){e==="focusin"?(Tw(),wl=t,Wl=n,wl.attachEvent("onpropertychange",xE)):e==="focusout"&&Tw()}function dL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wf(Wl)}function fL(e,t){if(e==="click")return Wf(t)}function hL(e,t){if(e==="input"||e==="change")return Wf(t)}function pL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xr=typeof Object.is=="function"?Object.is:pL;function Hl(e,t){if(xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rg.call(t,i)||!xr(e[i],t[i]))return!1}return!0}function Iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dw(e,t){var n=Iw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iw(n)}}function bE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wE(){for(var e=window,t=md();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=md(e.document)}return t}function Kv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mL(e){var t=wE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bE(n.ownerDocument.documentElement,n)){if(r!==null&&Kv(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Dw(n,a);var o=Dw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gL=si&&"documentMode"in document&&11>=document.documentMode,Po=null,kg=null,kl=null,Sg=!1;function Rw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sg||Po==null||Po!==md(r)||(r=Po,"selectionStart"in r&&Kv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&Hl(kl,r)||(kl=r,r=kd(kg,"onSelect"),0<r.length&&(t=new Bv("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Po)))}function du(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Oo={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Rp={},kE={};si&&(kE=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Hf(e){if(Rp[e])return Rp[e];if(!Oo[e])return e;var t=Oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in kE)return Rp[e]=t[n];return e}var SE=Hf("animationend"),jE=Hf("animationiteration"),CE=Hf("animationstart"),_E=Hf("transitionend"),EE=new Map,Mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(e,t){EE.set(e,t),to(t,[e])}for(var Mp=0;Mp<Mw.length;Mp++){var Lp=Mw[Mp],yL=Lp.toLowerCase(),vL=Lp[0].toUpperCase()+Lp.slice(1);Zi(yL,"on"+vL)}Zi(SE,"onAnimationEnd");Zi(jE,"onAnimationIteration");Zi(CE,"onAnimationStart");Zi("dblclick","onDoubleClick");Zi("focusin","onFocus");Zi("focusout","onBlur");Zi(_E,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xL=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Lw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,yM(r,t,void 0,e),e.currentTarget=null}function NE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lw(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lw(i,s,c),a=l}}}if(yd)throw e=vg,yd=!1,vg=null,e}function He(e,t){var n=t[Ng];n===void 0&&(n=t[Ng]=new Set);var r=e+"__bubble";n.has(r)||(PE(t,e,2,!1),n.add(r))}function $p(e,t,n){var r=0;t&&(r|=4),PE(n,e,r,t)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[fu]){e[fu]=!0,M_.forEach(function(n){n!=="selectionchange"&&(xL.has(n)||$p(n,!1,e),$p(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fu]||(t[fu]=!0,$p("selectionchange",!1,t))}}function PE(e,t,n,r){switch(fE(t)){case 1:var i=IM;break;case 4:i=DM;break;default:i=zv}n=i.bind(null,t,n,e),i=void 0,!yg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Ca(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}Q_(function(){var c=a,d=Mv(n),f=[];e:{var h=EE.get(e);if(h!==void 0){var p=Bv,m=e;switch(e){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":p=YM;break;case"focusin":m="focus",p=Tp;break;case"focusout":m="blur",p=Tp;break;case"beforeblur":case"afterblur":p=Tp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Cw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=QM;break;case SE:case jE:case CE:p=zM;break;case _E:p=eL;break;case"scroll":p=RM;break;case"wheel":p=nL;break;case"copy":case"cut":case"paste":p=BM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ew}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=Fl(b,v),S!=null&&g.push(ql(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==mg&&(m=n.relatedTarget||n.fromElement)&&(Ca(m)||m[li]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ca(m):null,m!==null&&(y=no(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Cw,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ew,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:Ao(p),w=m==null?h:Ao(m),h=new g(S,b+"leave",p,n,d),h.target=y,h.relatedTarget=w,S=null,Ca(d)===c&&(g=new g(v,b+"enter",m,n,d),g.target=w,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,v=m,b=0,w=g;w;w=ho(w))b++;for(w=0,S=v;S;S=ho(S))w++;for(;0<b-w;)g=ho(g),b--;for(;0<w-b;)v=ho(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=ho(g),v=ho(v)}g=null}else g=null;p!==null&&$w(f,h,p,g,!1),m!==null&&y!==null&&$w(f,y,m,g,!0)}}e:{if(h=c?Ao(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=cL;else if(Ow(h))if(vE)j=hL;else{j=dL;var k=uL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=fL);if(j&&(j=j(e,c))){yE(f,j,n,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ug(h,"number",h.value)}switch(k=c?Ao(c):window,e){case"focusin":(Ow(k)||k.contentEditable==="true")&&(Po=k,kg=c,kl=null);break;case"focusout":kl=kg=Po=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,Rw(f,n,d);break;case"selectionchange":if(gL)break;case"keydown":case"keyup":Rw(f,n,d)}var _;if(Hv)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else No?mE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(pE&&n.locale!=="ko"&&(No||N!=="onCompositionStart"?N==="onCompositionEnd"&&No&&(_=hE()):(Li=d,Uv="value"in Li?Li.value:Li.textContent,No=!0)),k=kd(c,N),0<k.length&&(N=new _w(N,e,null,n,d),f.push({event:N,listeners:k}),_?N.data=_:(_=gE(n),_!==null&&(N.data=_)))),(_=iL?aL(e,n):oL(e,n))&&(c=kd(c,"onBeforeInput"),0<c.length&&(d=new _w("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=_))}NE(f,t)})}function ql(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Fl(e,n),a!=null&&r.unshift(ql(e,a,i)),a=Fl(e,t),a!=null&&r.push(ql(e,a,i))),e=e.return}return r}function ho(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $w(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=Fl(n,a),l!=null&&o.unshift(ql(n,l,s))):i||(l=Fl(n,a),l!=null&&o.push(ql(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var bL=/\r\n?/g,wL=/\u0000|\uFFFD/g;function Fw(e){return(typeof e=="string"?e:""+e).replace(bL,`
`).replace(wL,"")}function hu(e,t,n){if(t=Fw(t),Fw(e)!==t&&n)throw Error(ee(425))}function Sd(){}var jg=null,Cg=null;function _g(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,kL=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,SL=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(e){return zw.resolve(null).then(e).catch(jL)}:Eg;function jL(e){setTimeout(function(){throw e})}function zp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Bl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bl(t)}function Wi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ks=Math.random().toString(36).slice(2),Tr="__reactFiber$"+ks,Vl="__reactProps$"+ks,li="__reactContainer$"+ks,Ng="__reactEvents$"+ks,CL="__reactListeners$"+ks,_L="__reactHandles$"+ks;function Ca(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[li]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uw(e);e!==null;){if(n=e[Tr])return n;e=Uw(e)}return t}e=n,n=e.parentNode}return null}function wc(e){return e=e[Tr]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Kf(e){return e[Vl]||null}var Pg=[],To=-1;function ea(e){return{current:e}}function qe(e){0>To||(e.current=Pg[To],Pg[To]=null,To--)}function We(e,t){To++,Pg[To]=e.current,e.current=t}var Xi={},Ut=ea(Xi),dn=ea(!1),Ua=Xi;function Xo(e,t){var n=e.type.contextTypes;if(!n)return Xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function fn(e){return e=e.childContextTypes,e!=null}function jd(){qe(dn),qe(Ut)}function Bw(e,t,n){if(Ut.current!==Xi)throw Error(ee(168));We(Ut,t),We(dn,n)}function OE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ee(108,uM(e)||"Unknown",i));return Qe({},n,r)}function Cd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xi,Ua=Ut.current,We(Ut,e),We(dn,dn.current),!0}function Ww(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=OE(e,t,Ua),r.__reactInternalMemoizedMergedChildContext=e,qe(dn),qe(Ut),We(Ut,e)):qe(dn),We(dn,n)}var Yr=null,qf=!1,Up=!1;function AE(e){Yr===null?Yr=[e]:Yr.push(e)}function EL(e){qf=!0,AE(e)}function ta(){if(!Up&&Yr!==null){Up=!0;var e=0,t=Te;try{var n=Yr;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yr=null,qf=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(e+1)),nE(Lv,ta),i}finally{Te=t,Up=!1}}return null}var Io=[],Do=0,_d=null,Ed=0,Vn=[],Gn=0,Ba=null,Xr=1,Qr="";function ga(e,t){Io[Do++]=Ed,Io[Do++]=_d,_d=e,Ed=t}function TE(e,t,n){Vn[Gn++]=Xr,Vn[Gn++]=Qr,Vn[Gn++]=Ba,Ba=e;var r=Xr;e=Qr;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var a=32-mr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xr=1<<32-mr(t)+i|n<<i|r,Qr=a+e}else Xr=1<<a|n<<i|r,Qr=e}function qv(e){e.return!==null&&(ga(e,1),TE(e,1,0))}function Vv(e){for(;e===_d;)_d=Io[--Do],Io[Do]=null,Ed=Io[--Do],Io[Do]=null;for(;e===Ba;)Ba=Vn[--Gn],Vn[Gn]=null,Qr=Vn[--Gn],Vn[Gn]=null,Xr=Vn[--Gn],Vn[Gn]=null}var Nn=null,En=null,Ge=!1,dr=null;function IE(e,t){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nn=e,En=Wi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nn=e,En=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ba!==null?{id:Xr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nn=e,En=null,!0):!1;default:return!1}}function Og(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ag(e){if(Ge){var t=En;if(t){var n=t;if(!Hw(e,t)){if(Og(e))throw Error(ee(418));t=Wi(n.nextSibling);var r=Nn;t&&Hw(e,t)?IE(r,n):(e.flags=e.flags&-4097|2,Ge=!1,Nn=e)}}else{if(Og(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ge=!1,Nn=e}}}function Kw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nn=e}function pu(e){if(e!==Nn)return!1;if(!Ge)return Kw(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_g(e.type,e.memoizedProps)),t&&(t=En)){if(Og(e))throw DE(),Error(ee(418));for(;t;)IE(e,t),t=Wi(t.nextSibling)}if(Kw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){En=Wi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}En=null}}else En=Nn?Wi(e.stateNode.nextSibling):null;return!0}function DE(){for(var e=En;e;)e=Wi(e.nextSibling)}function Qo(){En=Nn=null,Ge=!1}function Gv(e){dr===null?dr=[e]:dr.push(e)}var NL=gi.ReactCurrentBatchConfig;function Ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qw(e){var t=e._init;return t(e._payload)}function RE(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Vi(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,b,w,S){return b===null||b.tag!==6?(b=Gp(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var j=w.type;return j===Eo?d(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pi&&qw(j)===b.type)?(S=i(b,w.props),S.ref=Ys(v,b,w),S.return=v,S):(S=rd(w.type,w.key,w.props,null,v.mode,S),S.ref=Ys(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Yp(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function d(v,b,w,S,j){return b===null||b.tag!==7?(b=Ra(w,v.mode,S,j),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Gp(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case iu:return w=rd(b.type,b.key,b.props,null,v.mode,w),w.ref=Ys(v,null,b),w.return=v,w;case _o:return b=Yp(b,v.mode,w),b.return=v,b;case Pi:var S=b._init;return f(v,S(b._payload),w)}if(fl(b)||Hs(b))return b=Ra(b,v.mode,w,null),b.return=v,b;mu(v,b)}return null}function h(v,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:return w.key===j?l(v,b,w,S):null;case _o:return w.key===j?c(v,b,w,S):null;case Pi:return j=w._init,h(v,b,j(w._payload),S)}if(fl(w)||Hs(w))return j!==null?null:d(v,b,w,S,null);mu(v,w)}return null}function p(v,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,s(b,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case iu:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,j);case _o:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,j);case Pi:var k=S._init;return p(v,b,w,k(S._payload),j)}if(fl(S)||Hs(S))return v=v.get(w)||null,d(b,v,S,j,null);mu(b,S)}return null}function m(v,b,w,S){for(var j=null,k=null,_=b,N=b=0,O=null;_!==null&&N<w.length;N++){_.index>N?(O=_,_=null):O=_.sibling;var E=h(v,_,w[N],S);if(E===null){_===null&&(_=O);break}e&&_&&E.alternate===null&&t(v,_),b=a(E,b,N),k===null?j=E:k.sibling=E,k=E,_=O}if(N===w.length)return n(v,_),Ge&&ga(v,N),j;if(_===null){for(;N<w.length;N++)_=f(v,w[N],S),_!==null&&(b=a(_,b,N),k===null?j=_:k.sibling=_,k=_);return Ge&&ga(v,N),j}for(_=r(v,_);N<w.length;N++)O=p(_,v,N,w[N],S),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?N:O.key),b=a(O,b,N),k===null?j=O:k.sibling=O,k=O);return e&&_.forEach(function(T){return t(v,T)}),Ge&&ga(v,N),j}function g(v,b,w,S){var j=Hs(w);if(typeof j!="function")throw Error(ee(150));if(w=j.call(w),w==null)throw Error(ee(151));for(var k=j=null,_=b,N=b=0,O=null,E=w.next();_!==null&&!E.done;N++,E=w.next()){_.index>N?(O=_,_=null):O=_.sibling;var T=h(v,_,E.value,S);if(T===null){_===null&&(_=O);break}e&&_&&T.alternate===null&&t(v,_),b=a(T,b,N),k===null?j=T:k.sibling=T,k=T,_=O}if(E.done)return n(v,_),Ge&&ga(v,N),j;if(_===null){for(;!E.done;N++,E=w.next())E=f(v,E.value,S),E!==null&&(b=a(E,b,N),k===null?j=E:k.sibling=E,k=E);return Ge&&ga(v,N),j}for(_=r(v,_);!E.done;N++,E=w.next())E=p(_,v,N,E.value,S),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?N:E.key),b=a(E,b,N),k===null?j=E:k.sibling=E,k=E);return e&&_.forEach(function(M){return t(v,M)}),Ge&&ga(v,N),j}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===Eo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:e:{for(var j=w.key,k=b;k!==null;){if(k.key===j){if(j=w.type,j===Eo){if(k.tag===7){n(v,k.sibling),b=i(k,w.props.children),b.return=v,v=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pi&&qw(j)===k.type){n(v,k.sibling),b=i(k,w.props),b.ref=Ys(v,k,w),b.return=v,v=b;break e}n(v,k);break}else t(v,k);k=k.sibling}w.type===Eo?(b=Ra(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=rd(w.type,w.key,w.props,null,v.mode,S),S.ref=Ys(v,b,w),S.return=v,v=S)}return o(v);case _o:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=Yp(w,v.mode,S),b.return=v,v=b}return o(v);case Pi:return k=w._init,y(v,b,k(w._payload),S)}if(fl(w))return m(v,b,w,S);if(Hs(w))return g(v,b,w,S);mu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=Gp(w,v.mode,S),b.return=v,v=b),o(v)):n(v,b)}return y}var Zo=RE(!0),ME=RE(!1),Nd=ea(null),Pd=null,Ro=null,Yv=null;function Jv(){Yv=Ro=Pd=null}function Xv(e){var t=Nd.current;qe(Nd),e._currentValue=t}function Tg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ho(e,t){Pd=e,Yv=Ro=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function er(e){var t=e._currentValue;if(Yv!==e)if(e={context:e,memoizedValue:t,next:null},Ro===null){if(Pd===null)throw Error(ee(308));Ro=e,Pd.dependencies={lanes:0,firstContext:e}}else Ro=Ro.next=e;return t}var _a=null;function Qv(e){_a===null?_a=[e]:_a.push(e)}function LE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Qv(t)):(n.next=i.next,i.next=n),t.interleaved=n,ci(e,r)}function ci(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Oi=!1;function Zv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $E(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ri(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ci(e,n)}return i=r.interleaved,i===null?(t.next=t,Qv(r)):(t.next=i.next,i.next=t),r.interleaved=t,ci(e,n)}function Xu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$v(e,n)}}function Vw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Od(e,t,n,r){var i=e.updateQueue;Oi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,d=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Qe({},f,h);break e;case 2:Oi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ha|=o,e.lanes=o,e.memoizedState=f}}function Gw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var kc={},Fr=ea(kc),Gl=ea(kc),Yl=ea(kc);function Ea(e){if(e===kc)throw Error(ee(174));return e}function ex(e,t){switch(We(Yl,t),We(Gl,e),We(Fr,kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fg(t,e)}qe(Fr),We(Fr,t)}function es(){qe(Fr),qe(Gl),qe(Yl)}function FE(e){Ea(Yl.current);var t=Ea(Fr.current),n=fg(t,e.type);t!==n&&(We(Gl,e),We(Fr,n))}function tx(e){Gl.current===e&&(qe(Fr),qe(Gl))}var Je=ea(0);function Ad(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bp=[];function nx(){for(var e=0;e<Bp.length;e++)Bp[e]._workInProgressVersionPrimary=null;Bp.length=0}var Qu=gi.ReactCurrentDispatcher,Wp=gi.ReactCurrentBatchConfig,Wa=0,Xe=null,ht=null,wt=null,Td=!1,Sl=!1,Jl=0,PL=0;function It(){throw Error(ee(321))}function rx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xr(e[n],t[n]))return!1;return!0}function ix(e,t,n,r,i,a){if(Wa=a,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qu.current=e===null||e.memoizedState===null?IL:DL,e=n(r,i),Sl){a=0;do{if(Sl=!1,Jl=0,25<=a)throw Error(ee(301));a+=1,wt=ht=null,t.updateQueue=null,Qu.current=RL,e=n(r,i)}while(Sl)}if(Qu.current=Id,t=ht!==null&&ht.next!==null,Wa=0,wt=ht=Xe=null,Td=!1,t)throw Error(ee(300));return e}function ax(){var e=Jl!==0;return Jl=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Xe.memoizedState=wt=e:wt=wt.next=e,wt}function tr(){if(ht===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=wt===null?Xe.memoizedState:wt.next;if(t!==null)wt=t,ht=e;else{if(e===null)throw Error(ee(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},wt===null?Xe.memoizedState=wt=e:wt=wt.next=e}return wt}function Xl(e,t){return typeof t=="function"?t(e):t}function Hp(e){var t=tr(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=ht,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var d=c.lane;if((Wa&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Xe.lanes|=d,Ha|=d}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,xr(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Xe.lanes|=a,Ha|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kp(e){var t=tr(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);xr(a,t.memoizedState)||(ln=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zE(){}function UE(e,t){var n=Xe,r=tr(),i=t(),a=!xr(r.memoizedState,i);if(a&&(r.memoizedState=i,ln=!0),r=r.queue,ox(HE.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Ql(9,WE.bind(null,n,r,i,t),void 0,null),kt===null)throw Error(ee(349));Wa&30||BE(n,t,i)}return i}function BE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function WE(e,t,n,r){t.value=n,t.getSnapshot=r,KE(t)&&qE(e)}function HE(e,t,n){return n(function(){KE(t)&&qE(e)})}function KE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xr(e,n)}catch{return!0}}function qE(e){var t=ci(e,1);t!==null&&gr(t,e,1,-1)}function Yw(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:e},t.queue=e,e=e.dispatch=TL.bind(null,Xe,e),[t.memoizedState,e]}function Ql(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function VE(){return tr().memoizedState}function Zu(e,t,n,r){var i=Pr();Xe.flags|=e,i.memoizedState=Ql(1|t,n,void 0,r===void 0?null:r)}function Vf(e,t,n,r){var i=tr();r=r===void 0?null:r;var a=void 0;if(ht!==null){var o=ht.memoizedState;if(a=o.destroy,r!==null&&rx(r,o.deps)){i.memoizedState=Ql(t,n,a,r);return}}Xe.flags|=e,i.memoizedState=Ql(1|t,n,a,r)}function Jw(e,t){return Zu(8390656,8,e,t)}function ox(e,t){return Vf(2048,8,e,t)}function GE(e,t){return Vf(4,2,e,t)}function YE(e,t){return Vf(4,4,e,t)}function JE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function XE(e,t,n){return n=n!=null?n.concat([e]):null,Vf(4,4,JE.bind(null,t,e),n)}function sx(){}function QE(e,t){var n=tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ZE(e,t){var n=tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function e2(e,t,n){return Wa&21?(xr(n,t)||(n=aE(),Xe.lanes|=n,Ha|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=n)}function OL(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Wp.transition;Wp.transition={};try{e(!1),t()}finally{Te=n,Wp.transition=r}}function t2(){return tr().memoizedState}function AL(e,t,n){var r=qi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n2(e))r2(t,n);else if(n=LE(e,t,n,r),n!==null){var i=Vt();gr(n,e,r,i),i2(n,t,r)}}function TL(e,t,n){var r=qi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n2(e))r2(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,xr(s,o)){var l=t.interleaved;l===null?(i.next=i,Qv(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=LE(e,t,i,r),n!==null&&(i=Vt(),gr(n,e,r,i),i2(n,t,r))}}function n2(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function r2(e,t){Sl=Td=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function i2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$v(e,n)}}var Id={readContext:er,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},IL={readContext:er,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:er,useEffect:Jw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zu(4194308,4,JE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zu(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AL.bind(null,Xe,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:Yw,useDebugValue:sx,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=Yw(!1),t=e[0];return e=OL.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xe,i=Pr();if(Ge){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),kt===null)throw Error(ee(349));Wa&30||BE(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Jw(HE.bind(null,r,a,e),[e]),r.flags|=2048,Ql(9,WE.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pr(),t=kt.identifierPrefix;if(Ge){var n=Qr,r=Xr;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DL={readContext:er,useCallback:QE,useContext:er,useEffect:ox,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:YE,useMemo:ZE,useReducer:Hp,useRef:VE,useState:function(){return Hp(Xl)},useDebugValue:sx,useDeferredValue:function(e){var t=tr();return e2(t,ht.memoizedState,e)},useTransition:function(){var e=Hp(Xl)[0],t=tr().memoizedState;return[e,t]},useMutableSource:zE,useSyncExternalStore:UE,useId:t2,unstable_isNewReconciler:!1},RL={readContext:er,useCallback:QE,useContext:er,useEffect:ox,useImperativeHandle:XE,useInsertionEffect:GE,useLayoutEffect:YE,useMemo:ZE,useReducer:Kp,useRef:VE,useState:function(){return Kp(Xl)},useDebugValue:sx,useDeferredValue:function(e){var t=tr();return ht===null?t.memoizedState=e:e2(t,ht.memoizedState,e)},useTransition:function(){var e=Kp(Xl)[0],t=tr().memoizedState;return[e,t]},useMutableSource:zE,useSyncExternalStore:UE,useId:t2,unstable_isNewReconciler:!1};function lr(e,t){if(e&&e.defaultProps){t=Qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ig(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gf={isMounted:function(e){return(e=e._reactInternals)?no(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vt(),i=qi(e),a=ri(r,i);a.payload=t,n!=null&&(a.callback=n),t=Hi(e,a,i),t!==null&&(gr(t,e,i,r),Xu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vt(),i=qi(e),a=ri(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Hi(e,a,i),t!==null&&(gr(t,e,i,r),Xu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vt(),r=qi(e),i=ri(n,r);i.tag=2,t!=null&&(i.callback=t),t=Hi(e,i,r),t!==null&&(gr(t,e,r,n),Xu(t,e,r))}};function Xw(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Hl(n,r)||!Hl(i,a):!0}function a2(e,t,n){var r=!1,i=Xi,a=t.contextType;return typeof a=="object"&&a!==null?a=er(a):(i=fn(t)?Ua:Ut.current,r=t.contextTypes,a=(r=r!=null)?Xo(e,i):Xi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gf.enqueueReplaceState(t,t.state,null)}function Dg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Zv(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=er(a):(a=fn(t)?Ua:Ut.current,i.context=Xo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ig(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gf.enqueueReplaceState(i,i.state,null),Od(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=cM(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ML=typeof WeakMap=="function"?WeakMap:Map;function o2(e,t,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rd||(Rd=!0,Kg=r),Rg(e,t)},n}function s2(e,t,n){n=ri(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Rg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Rg(e,t),typeof r!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Zw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ML;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=JL.bind(null,e,t,n),t.then(e,e))}function e1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function t1(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ri(-1,1),t.tag=2,Hi(n,t,1))),n.lanes|=1),e)}var LL=gi.ReactCurrentOwner,ln=!1;function Wt(e,t,n,r){t.child=e===null?ME(t,null,n,r):Zo(t,e.child,n,r)}function n1(e,t,n,r,i){n=n.render;var a=t.ref;return Ho(t,i),r=ix(e,t,n,r,a,i),n=ax(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ui(e,t,i)):(Ge&&n&&qv(t),t.flags|=1,Wt(e,t,r,i),t.child)}function r1(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!mx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,l2(e,t,a,r,i)):(e=rd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(o,r)&&e.ref===t.ref)return ui(e,t,i)}return t.flags|=1,e=Vi(a,r),e.ref=t.ref,e.return=t,t.child=e}function l2(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Hl(a,r)&&e.ref===t.ref)if(ln=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,ui(e,t,i)}return Mg(e,t,n,r,i)}function c2(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Lo,Sn),Sn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(Lo,Sn),Sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,We(Lo,Sn),Sn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,We(Lo,Sn),Sn|=r;return Wt(e,t,i,n),t.child}function u2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mg(e,t,n,r,i){var a=fn(n)?Ua:Ut.current;return a=Xo(t,a),Ho(t,i),n=ix(e,t,n,r,a,i),r=ax(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ui(e,t,i)):(Ge&&r&&qv(t),t.flags|=1,Wt(e,t,n,i),t.child)}function i1(e,t,n,r,i){if(fn(n)){var a=!0;Cd(t)}else a=!1;if(Ho(t,i),t.stateNode===null)ed(e,t),a2(t,n,r),Dg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=er(c):(c=fn(n)?Ua:Ut.current,c=Xo(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Qw(t,o,r,c),Oi=!1;var h=t.memoizedState;o.state=h,Od(t,r,o,i),l=t.memoizedState,s!==r||h!==l||dn.current||Oi?(typeof d=="function"&&(Ig(t,n,d,r),l=t.memoizedState),(s=Oi||Xw(t,n,s,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$E(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:lr(t.type,s),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=fn(n)?Ua:Ut.current,l=Xo(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Qw(t,o,r,l),Oi=!1,h=t.memoizedState,o.state=h,Od(t,r,o,i);var m=t.memoizedState;s!==f||h!==m||dn.current||Oi?(typeof p=="function"&&(Ig(t,n,p,r),m=t.memoizedState),(c=Oi||Xw(t,n,c,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Lg(e,t,n,r,a,i)}function Lg(e,t,n,r,i,a){u2(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ww(t,n,!1),ui(e,t,a);r=t.stateNode,LL.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Zo(t,e.child,null,a),t.child=Zo(t,null,s,a)):Wt(e,t,s,a),t.memoizedState=r.state,i&&Ww(t,n,!0),t.child}function d2(e){var t=e.stateNode;t.pendingContext?Bw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bw(e,t.context,!1),ex(e,t.containerInfo)}function a1(e,t,n,r,i){return Qo(),Gv(i),t.flags|=256,Wt(e,t,n,r),t.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function Fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function f2(e,t,n){var r=t.pendingProps,i=Je.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(Je,i&1),e===null)return Ag(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xf(o,r,0,null),e=Ra(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fg(n),t.memoizedState=$g,e):lx(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return $L(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Vi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Vi(s,a):(a=Ra(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=$g,r}return a=e.child,e=a.sibling,r=Vi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lx(e,t){return t=Xf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gu(e,t,n,r){return r!==null&&Gv(r),Zo(t,e.child,null,n),e=lx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $L(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=qp(Error(ee(422))),gu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Xf({mode:"visible",children:r.children},i,0,null),a=Ra(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Zo(t,e.child,null,o),t.child.memoizedState=Fg(o),t.memoizedState=$g,a);if(!(t.mode&1))return gu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(ee(419)),r=qp(a,r,void 0),gu(e,t,o,r)}if(s=(o&e.childLanes)!==0,ln||s){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ci(e,i),gr(r,e,i,-1))}return px(),r=qp(Error(ee(421))),gu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=XL.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,En=Wi(i.nextSibling),Nn=t,Ge=!0,dr=null,e!==null&&(Vn[Gn++]=Xr,Vn[Gn++]=Qr,Vn[Gn++]=Ba,Xr=e.id,Qr=e.overflow,Ba=t),t=lx(t,r.children),t.flags|=4096,t)}function o1(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tg(e.return,t,n)}function Vp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function h2(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Wt(e,t,r.children,n),r=Je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o1(e,n,t);else if(e.tag===19)o1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(We(Je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ad(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ad(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vp(t,!0,n,null,a);break;case"together":Vp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ed(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ui(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ha|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Vi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function FL(e,t,n){switch(t.tag){case 3:d2(t),Qo();break;case 5:FE(t);break;case 1:fn(t.type)&&Cd(t);break;case 4:ex(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;We(Nd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(We(Je,Je.current&1),t.flags|=128,null):n&t.child.childLanes?f2(e,t,n):(We(Je,Je.current&1),e=ui(e,t,n),e!==null?e.sibling:null);We(Je,Je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return h2(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(Je,Je.current),r)break;return null;case 22:case 23:return t.lanes=0,c2(e,t,n)}return ui(e,t,n)}var p2,zg,m2,g2;p2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zg=function(){};m2=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ea(Fr.current);var a=null;switch(n){case"input":i=lg(e,i),r=lg(e,r),a=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),a=[];break;case"textarea":i=dg(e,i),r=dg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sd)}hg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ll.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};g2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Js(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zL(e,t,n){var r=t.pendingProps;switch(Vv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(t),null;case 1:return fn(t.type)&&jd(),Dt(t),null;case 3:return r=t.stateNode,es(),qe(dn),qe(Ut),nx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dr!==null&&(Gg(dr),dr=null))),zg(e,t),Dt(t),null;case 5:tx(t);var i=Ea(Yl.current);if(n=t.type,e!==null&&t.stateNode!=null)m2(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return Dt(t),null}if(e=Ea(Fr.current),pu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Tr]=t,r[Vl]=a,e=(t.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<pl.length;i++)He(pl[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":mw(r,a),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},He("invalid",r);break;case"textarea":yw(r,a),He("invalid",r)}hg(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&hu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&hu(r.textContent,s,e),i=["children",""+s]):Ll.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":au(r),gw(r,a,!0);break;case"textarea":au(r),vw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Sd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Tr]=t,e[Vl]=r,p2(e,t,!1,!1),t.stateNode=e;e:{switch(o=pg(n,r),n){case"dialog":He("cancel",e),He("close",e),i=r;break;case"iframe":case"object":case"embed":He("load",e),i=r;break;case"video":case"audio":for(i=0;i<pl.length;i++)He(pl[i],e);i=r;break;case"source":He("error",e),i=r;break;case"img":case"image":case"link":He("error",e),He("load",e),i=r;break;case"details":He("toggle",e),i=r;break;case"input":mw(e,r),i=lg(e,r),He("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),He("invalid",e);break;case"textarea":yw(e,r),i=dg(e,r),He("invalid",e);break;default:i=r}hg(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?V_(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K_(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$l(e,l):typeof l=="number"&&$l(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ll.hasOwnProperty(a)?l!=null&&a==="onScroll"&&He("scroll",e):l!=null&&Tv(e,a,l,o))}switch(n){case"input":au(e),gw(e,r,!1);break;case"textarea":au(e),vw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ji(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?zo(e,!!r.multiple,a,!1):r.defaultValue!=null&&zo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Dt(t),null;case 6:if(e&&t.stateNode!=null)g2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=Ea(Yl.current),Ea(Fr.current),pu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(a=r.nodeValue!==n)&&(e=Nn,e!==null))switch(e.tag){case 3:hu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return Dt(t),null;case 13:if(qe(Je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&En!==null&&t.mode&1&&!(t.flags&128))DE(),Qo(),t.flags|=98560,a=!1;else if(a=pu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ee(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ee(317));a[Tr]=t}else Qo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Dt(t),a=!1}else dr!==null&&(Gg(dr),dr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?gt===0&&(gt=3):px())),t.updateQueue!==null&&(t.flags|=4),Dt(t),null);case 4:return es(),zg(e,t),e===null&&Kl(t.stateNode.containerInfo),Dt(t),null;case 10:return Xv(t.type._context),Dt(t),null;case 17:return fn(t.type)&&jd(),Dt(t),null;case 19:if(qe(Je),a=t.memoizedState,a===null)return Dt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Js(a,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ad(e),o!==null){for(t.flags|=128,Js(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return We(Je,Je.current&1|2),t.child}e=e.sibling}a.tail!==null&&tt()>ns&&(t.flags|=128,r=!0,Js(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ad(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Js(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ge)return Dt(t),null}else 2*tt()-a.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,Js(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=tt(),t.sibling=null,n=Je.current,We(Je,r?n&1|2:n&1),t):(Dt(t),null);case 22:case 23:return hx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Sn&1073741824&&(Dt(t),t.subtreeFlags&6&&(t.flags|=8192)):Dt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function UL(e,t){switch(Vv(t),t.tag){case 1:return fn(t.type)&&jd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),qe(dn),qe(Ut),nx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tx(t),null;case 13:if(qe(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Qo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Je),null;case 4:return es(),null;case 10:return Xv(t.type._context),null;case 22:case 23:return hx(),null;case 24:return null;default:return null}}var yu=!1,Mt=!1,BL=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Mo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function Ug(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var s1=!1;function WL(e,t){if(jg=bd,e=wE(),Kv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=o),h===a&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cg={focusedElem:e,selectionRange:n},bd=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:lr(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(S){Ze(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return m=s1,s1=!1,m}function jl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ug(t,n,a)}i=i.next}while(i!==r)}}function Yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y2(e){var t=e.alternate;t!==null&&(e.alternate=null,y2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Vl],delete t[Ng],delete t[CL],delete t[_L])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function v2(e){return e.tag===5||e.tag===3||e.tag===4}function l1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||v2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sd));else if(r!==4&&(e=e.child,e!==null))for(Wg(e,t,n),e=e.sibling;e!==null;)Wg(e,t,n),e=e.sibling}function Hg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hg(e,t,n),e=e.sibling;e!==null;)Hg(e,t,n),e=e.sibling}var Nt=null,cr=!1;function Ci(e,t,n){for(n=n.child;n!==null;)x2(e,t,n),n=n.sibling}function x2(e,t,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Uf,n)}catch{}switch(n.tag){case 5:Mt||Mo(n,t);case 6:var r=Nt,i=cr;Nt=null,Ci(e,t,n),Nt=r,cr=i,Nt!==null&&(cr?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(cr?(e=Nt,n=n.stateNode,e.nodeType===8?zp(e.parentNode,n):e.nodeType===1&&zp(e,n),Bl(e)):zp(Nt,n.stateNode));break;case 4:r=Nt,i=cr,Nt=n.stateNode.containerInfo,cr=!0,Ci(e,t,n),Nt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ug(n,t,o),i=i.next}while(i!==r)}Ci(e,t,n);break;case 1:if(!Mt&&(Mo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ze(n,t,s)}Ci(e,t,n);break;case 21:Ci(e,t,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Ci(e,t,n),Mt=r):Ci(e,t,n);break;default:Ci(e,t,n)}}function c1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BL),t.forEach(function(r){var i=QL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Nt=s.stateNode,cr=!1;break e;case 3:Nt=s.stateNode.containerInfo,cr=!0;break e;case 4:Nt=s.stateNode.containerInfo,cr=!0;break e}s=s.return}if(Nt===null)throw Error(ee(160));x2(a,o,i),Nt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)b2(t,e),t=t.sibling}function b2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(or(t,e),_r(e),r&4){try{jl(3,e,e.return),Yf(3,e)}catch(g){Ze(e,e.return,g)}try{jl(5,e,e.return)}catch(g){Ze(e,e.return,g)}}break;case 1:or(t,e),_r(e),r&512&&n!==null&&Mo(n,n.return);break;case 5:if(or(t,e),_r(e),r&512&&n!==null&&Mo(n,n.return),e.flags&32){var i=e.stateNode;try{$l(i,"")}catch(g){Ze(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&B_(i,a),pg(s,o);var c=pg(s,a);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?V_(i,f):d==="dangerouslySetInnerHTML"?K_(i,f):d==="children"?$l(i,f):Tv(i,d,f,c)}switch(s){case"input":cg(i,a);break;case"textarea":W_(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?zo(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?zo(i,!!a.multiple,a.defaultValue,!0):zo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Vl]=a}catch(g){Ze(e,e.return,g)}}break;case 6:if(or(t,e),_r(e),r&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ze(e,e.return,g)}}break;case 3:if(or(t,e),_r(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(t.containerInfo)}catch(g){Ze(e,e.return,g)}break;case 4:or(t,e),_r(e);break;case 13:or(t,e),_r(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(dx=tt())),r&4&&c1(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Mt=(c=Mt)||d,or(t,e),Mt=c):or(t,e),_r(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(oe=e,d=e.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,p=h.child,h.tag){case 0:case 11:case 14:case 15:jl(4,h,h.return);break;case 1:Mo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ze(r,n,g)}}break;case 5:Mo(h,h.return);break;case 22:if(h.memoizedState!==null){d1(f);continue}}p!==null?(p.return=h,oe=p):d1(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=q_("display",o))}catch(g){Ze(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ze(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(t,e),_r(e),r&4&&c1(e);break;case 21:break;default:or(t,e),_r(e)}}function _r(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(v2(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($l(i,""),r.flags&=-33);var a=l1(e);Hg(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=l1(e);Wg(e,s,o);break;default:throw Error(ee(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HL(e,t,n){oe=e,w2(e)}function w2(e,t,n){for(var r=(e.mode&1)!==0;oe!==null;){var i=oe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Mt;s=yu;var c=Mt;if(yu=o,(Mt=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?f1(i):l!==null?(l.return=o,oe=l):f1(i);for(;a!==null;)oe=a,w2(a),a=a.sibling;oe=i,yu=s,Mt=c}u1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oe=a):u1(e)}}function u1(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||Yf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:lr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Gw(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gw(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Mt||t.flags&512&&Bg(t)}catch(h){Ze(t,t.return,h)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function d1(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function f1(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yf(4,t)}catch(l){Ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ze(t,i,l)}}var a=t.return;try{Bg(t)}catch(l){Ze(t,a,l)}break;case 5:var o=t.return;try{Bg(t)}catch(l){Ze(t,o,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){oe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,oe=s;break}oe=t.return}}var KL=Math.ceil,Dd=gi.ReactCurrentDispatcher,cx=gi.ReactCurrentOwner,Zn=gi.ReactCurrentBatchConfig,_e=0,kt=null,lt=null,At=0,Sn=0,Lo=ea(0),gt=0,Zl=null,Ha=0,Jf=0,ux=0,Cl=null,on=null,dx=0,ns=1/0,Vr=null,Rd=!1,Kg=null,Ki=null,vu=!1,$i=null,Md=0,_l=0,qg=null,td=-1,nd=0;function Vt(){return _e&6?tt():td!==-1?td:td=tt()}function qi(e){return e.mode&1?_e&2&&At!==0?At&-At:NL.transition!==null?(nd===0&&(nd=aE()),nd):(e=Te,e!==0||(e=window.event,e=e===void 0?16:fE(e.type)),e):1}function gr(e,t,n,r){if(50<_l)throw _l=0,qg=null,Error(ee(185));xc(e,n,r),(!(_e&2)||e!==kt)&&(e===kt&&(!(_e&2)&&(Jf|=n),gt===4&&Di(e,At)),hn(e,r),n===1&&_e===0&&!(t.mode&1)&&(ns=tt()+500,qf&&ta()))}function hn(e,t){var n=e.callbackNode;NM(e,t);var r=xd(e,e===kt?At:0);if(r===0)n!==null&&ww(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ww(n),t===1)e.tag===0?EL(h1.bind(null,e)):AE(h1.bind(null,e)),SL(function(){!(_e&6)&&ta()}),n=null;else{switch(oE(r)){case 1:n=Lv;break;case 4:n=rE;break;case 16:n=vd;break;case 536870912:n=iE;break;default:n=vd}n=P2(n,k2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function k2(e,t){if(td=-1,nd=0,_e&6)throw Error(ee(327));var n=e.callbackNode;if(Ko()&&e.callbackNode!==n)return null;var r=xd(e,e===kt?At:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ld(e,r);else{t=r;var i=_e;_e|=2;var a=j2();(kt!==e||At!==t)&&(Vr=null,ns=tt()+500,Da(e,t));do try{GL();break}catch(s){S2(e,s)}while(1);Jv(),Dd.current=a,_e=i,lt!==null?t=0:(kt=null,At=0,t=gt)}if(t!==0){if(t===2&&(i=xg(e),i!==0&&(r=i,t=Vg(e,i))),t===1)throw n=Zl,Da(e,0),Di(e,r),hn(e,tt()),n;if(t===6)Di(e,r);else{if(i=e.current.alternate,!(r&30)&&!qL(i)&&(t=Ld(e,r),t===2&&(a=xg(e),a!==0&&(r=a,t=Vg(e,a))),t===1))throw n=Zl,Da(e,0),Di(e,r),hn(e,tt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:ya(e,on,Vr);break;case 3:if(Di(e,r),(r&130023424)===r&&(t=dx+500-tt(),10<t)){if(xd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Eg(ya.bind(null,e,on,Vr),t);break}ya(e,on,Vr);break;case 4:if(Di(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-mr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KL(r/1960))-r,10<r){e.timeoutHandle=Eg(ya.bind(null,e,on,Vr),r);break}ya(e,on,Vr);break;case 5:ya(e,on,Vr);break;default:throw Error(ee(329))}}}return hn(e,tt()),e.callbackNode===n?k2.bind(null,e):null}function Vg(e,t){var n=Cl;return e.current.memoizedState.isDehydrated&&(Da(e,t).flags|=256),e=Ld(e,t),e!==2&&(t=on,on=n,t!==null&&Gg(t)),e}function Gg(e){on===null?on=e:on.push.apply(on,e)}function qL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!xr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Di(e,t){for(t&=~ux,t&=~Jf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mr(t),r=1<<n;e[n]=-1,t&=~r}}function h1(e){if(_e&6)throw Error(ee(327));Ko();var t=xd(e,0);if(!(t&1))return hn(e,tt()),null;var n=Ld(e,t);if(e.tag!==0&&n===2){var r=xg(e);r!==0&&(t=r,n=Vg(e,r))}if(n===1)throw n=Zl,Da(e,0),Di(e,t),hn(e,tt()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ya(e,on,Vr),hn(e,tt()),null}function fx(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(ns=tt()+500,qf&&ta())}}function Ka(e){$i!==null&&$i.tag===0&&!(_e&6)&&Ko();var t=_e;_e|=1;var n=Zn.transition,r=Te;try{if(Zn.transition=null,Te=1,e)return e()}finally{Te=r,Zn.transition=n,_e=t,!(_e&6)&&ta()}}function hx(){Sn=Lo.current,qe(Lo)}function Da(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kL(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(Vv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:es(),qe(dn),qe(Ut),nx();break;case 5:tx(r);break;case 4:es();break;case 13:qe(Je);break;case 19:qe(Je);break;case 10:Xv(r.type._context);break;case 22:case 23:hx()}n=n.return}if(kt=e,lt=e=Vi(e.current,null),At=Sn=t,gt=0,Zl=null,ux=Jf=Ha=0,on=Cl=null,_a!==null){for(t=0;t<_a.length;t++)if(n=_a[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function S2(e,t){do{var n=lt;try{if(Jv(),Qu.current=Id,Td){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Td=!1}if(Wa=0,wt=ht=Xe=null,Sl=!1,Jl=0,cx.current=null,n===null||n.return===null){gt=1,Zl=t,lt=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=At,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=e1(o);if(p!==null){p.flags&=-257,t1(p,o,s,a,t),p.mode&1&&Zw(a,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){Zw(a,c,t),px();break e}l=Error(ee(426))}}else if(Ge&&s.mode&1){var y=e1(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),t1(y,o,s,a,t),Gv(ts(l,s));break e}}a=l=ts(l,s),gt!==4&&(gt=2),Cl===null?Cl=[a]:Cl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=o2(a,l,t);Vw(a,v);break e;case 1:s=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ki===null||!Ki.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=s2(a,s,t);Vw(a,S);break e}}a=a.return}while(a!==null)}_2(n)}catch(j){t=j,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(1)}function j2(){var e=Dd.current;return Dd.current=Id,e===null?Id:e}function px(){(gt===0||gt===3||gt===2)&&(gt=4),kt===null||!(Ha&268435455)&&!(Jf&268435455)||Di(kt,At)}function Ld(e,t){var n=_e;_e|=2;var r=j2();(kt!==e||At!==t)&&(Vr=null,Da(e,t));do try{VL();break}catch(i){S2(e,i)}while(1);if(Jv(),_e=n,Dd.current=r,lt!==null)throw Error(ee(261));return kt=null,At=0,gt}function VL(){for(;lt!==null;)C2(lt)}function GL(){for(;lt!==null&&!xM();)C2(lt)}function C2(e){var t=N2(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?_2(e):lt=t,cx.current=null}function _2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=UL(n,t),n!==null){n.flags&=32767,lt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,lt=null;return}}else if(n=zL(n,t,Sn),n!==null){lt=n;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);gt===0&&(gt=5)}function ya(e,t,n){var r=Te,i=Zn.transition;try{Zn.transition=null,Te=1,YL(e,t,n,r)}finally{Zn.transition=i,Te=r}return null}function YL(e,t,n,r){do Ko();while($i!==null);if(_e&6)throw Error(ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(PM(e,a),e===kt&&(lt=kt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vu||(vu=!0,P2(vd,function(){return Ko(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Zn.transition,Zn.transition=null;var o=Te;Te=1;var s=_e;_e|=4,cx.current=null,WL(e,n),b2(n,e),mL(Cg),bd=!!jg,Cg=jg=null,e.current=n,HL(n),bM(),_e=s,Te=o,Zn.transition=a}else e.current=n;if(vu&&(vu=!1,$i=e,Md=i),a=e.pendingLanes,a===0&&(Ki=null),SM(n.stateNode),hn(e,tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,e=Kg,Kg=null,e;return Md&1&&e.tag!==0&&Ko(),a=e.pendingLanes,a&1?e===qg?_l++:(_l=0,qg=e):_l=0,ta(),null}function Ko(){if($i!==null){var e=oE(Md),t=Zn.transition,n=Te;try{if(Zn.transition=null,Te=16>e?16:e,$i===null)var r=!1;else{if(e=$i,$i=null,Md=0,_e&6)throw Error(ee(331));var i=_e;for(_e|=4,oe=e.current;oe!==null;){var a=oe,o=a.child;if(oe.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:jl(8,d,a)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,p=d.return;if(y2(d),d===c){oe=null;break}if(h!==null){h.return=p,oe=h;break}oe=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}oe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,oe=o;else e:for(;oe!==null;){if(a=oe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:jl(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,oe=v;break e}oe=a.return}}var b=e.current;for(oe=b;oe!==null;){o=oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,oe=w;else e:for(o=b;oe!==null;){if(s=oe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Yf(9,s)}}catch(j){Ze(s,s.return,j)}if(s===o){oe=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,oe=S;break e}oe=s.return}}if(_e=i,ta(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Uf,e)}catch{}r=!0}return r}finally{Te=n,Zn.transition=t}}return!1}function p1(e,t,n){t=ts(n,t),t=o2(e,t,1),e=Hi(e,t,1),t=Vt(),e!==null&&(xc(e,1,t),hn(e,t))}function Ze(e,t,n){if(e.tag===3)p1(e,e,n);else for(;t!==null;){if(t.tag===3){p1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ki===null||!Ki.has(r))){e=ts(n,e),e=s2(t,e,1),t=Hi(t,e,1),e=Vt(),t!==null&&(xc(t,1,e),hn(t,e));break}}t=t.return}}function JL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vt(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(At&n)===n&&(gt===4||gt===3&&(At&130023424)===At&&500>tt()-dx?Da(e,0):ux|=n),hn(e,t)}function E2(e,t){t===0&&(e.mode&1?(t=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):t=1);var n=Vt();e=ci(e,t),e!==null&&(xc(e,t,n),hn(e,n))}function XL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),E2(e,n)}function QL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),E2(e,n)}var N2;N2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dn.current)ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ln=!1,FL(e,t,n);ln=!!(e.flags&131072)}else ln=!1,Ge&&t.flags&1048576&&TE(t,Ed,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ed(e,t),e=t.pendingProps;var i=Xo(t,Ut.current);Ho(t,n),i=ix(null,t,r,e,i,n);var a=ax();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fn(r)?(a=!0,Cd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zv(t),i.updater=Gf,t.stateNode=i,i._reactInternals=t,Dg(t,r,e,n),t=Lg(null,t,r,!0,a,n)):(t.tag=0,Ge&&a&&qv(t),Wt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ed(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=e$(r),e=lr(r,e),i){case 0:t=Mg(null,t,r,e,n);break e;case 1:t=i1(null,t,r,e,n);break e;case 11:t=n1(null,t,r,e,n);break e;case 14:t=r1(null,t,r,lr(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lr(r,i),Mg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lr(r,i),i1(e,t,r,i,n);case 3:e:{if(d2(t),e===null)throw Error(ee(387));r=t.pendingProps,a=t.memoizedState,i=a.element,$E(e,t),Od(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ts(Error(ee(423)),t),t=a1(e,t,r,n,i);break e}else if(r!==i){i=ts(Error(ee(424)),t),t=a1(e,t,r,n,i);break e}else for(En=Wi(t.stateNode.containerInfo.firstChild),Nn=t,Ge=!0,dr=null,n=ME(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===i){t=ui(e,t,n);break e}Wt(e,t,r,n)}t=t.child}return t;case 5:return FE(t),e===null&&Ag(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,_g(r,i)?o=null:a!==null&&_g(r,a)&&(t.flags|=32),u2(e,t),Wt(e,t,o,n),t.child;case 6:return e===null&&Ag(t),null;case 13:return f2(e,t,n);case 4:return ex(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zo(t,null,r,n):Wt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lr(r,i),n1(e,t,r,i,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,We(Nd,r._currentValue),r._currentValue=o,a!==null)if(xr(a.value,o)){if(a.children===i.children&&!dn.current){t=ui(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=ri(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Tg(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ee(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Tg(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Wt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ho(t,n),i=er(i),r=r(i),t.flags|=1,Wt(e,t,r,n),t.child;case 14:return r=t.type,i=lr(r,t.pendingProps),i=lr(r.type,i),r1(e,t,r,i,n);case 15:return l2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:lr(r,i),ed(e,t),t.tag=1,fn(r)?(e=!0,Cd(t)):e=!1,Ho(t,n),a2(t,r,i),Dg(t,r,i,n),Lg(null,t,r,!0,e,n);case 19:return h2(e,t,n);case 22:return c2(e,t,n)}throw Error(ee(156,t.tag))};function P2(e,t){return nE(e,t)}function ZL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,r){return new ZL(e,t,n,r)}function mx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e$(e){if(typeof e=="function")return mx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Dv)return 11;if(e===Rv)return 14}return 2}function Vi(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rd(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")mx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Eo:return Ra(n.children,i,a,t);case Iv:o=8,i|=8;break;case ig:return e=Xn(12,n,t,i|2),e.elementType=ig,e.lanes=a,e;case ag:return e=Xn(13,n,t,i),e.elementType=ag,e.lanes=a,e;case og:return e=Xn(19,n,t,i),e.elementType=og,e.lanes=a,e;case F_:return Xf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L_:o=10;break e;case $_:o=9;break e;case Dv:o=11;break e;case Rv:o=14;break e;case Pi:o=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Xn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Ra(e,t,n,r){return e=Xn(7,e,r,t),e.lanes=n,e}function Xf(e,t,n,r){return e=Xn(22,e,r,t),e.elementType=F_,e.lanes=n,e.stateNode={isHidden:!1},e}function Gp(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function Yp(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gx(e,t,n,r,i,a,o,s,l){return e=new t$(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Xn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zv(a),e}function n$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function O2(e){if(!e)return Xi;e=e._reactInternals;e:{if(no(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(fn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(fn(n))return OE(e,n,t)}return t}function A2(e,t,n,r,i,a,o,s,l){return e=gx(n,r,!0,e,i,a,o,s,l),e.context=O2(null),n=e.current,r=Vt(),i=qi(n),a=ri(r,i),a.callback=t??null,Hi(n,a,i),e.current.lanes=i,xc(e,i,r),hn(e,r),e}function Qf(e,t,n,r){var i=t.current,a=Vt(),o=qi(i);return n=O2(n),t.context===null?t.context=n:t.pendingContext=n,t=ri(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hi(i,t,o),e!==null&&(gr(e,i,o,a),Xu(e,i,o)),o}function $d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function m1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yx(e,t){m1(e,t),(e=e.alternate)&&m1(e,t)}function r$(){return null}var T2=typeof reportError=="function"?reportError:function(e){console.error(e)};function vx(e){this._internalRoot=e}Zf.prototype.render=vx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Qf(e,t,null,null)};Zf.prototype.unmount=vx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ka(function(){Qf(null,e,null,null)}),t[li]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=cE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ii.length&&t!==0&&t<Ii[n].priority;n++);Ii.splice(n,0,e),n===0&&dE(e)}};function xx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function g1(){}function i$(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=$d(o);a.call(c)}}var o=A2(t,r,e,0,null,!1,!1,"",g1);return e._reactRootContainer=o,e[li]=o.current,Kl(e.nodeType===8?e.parentNode:e),Ka(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=$d(l);s.call(c)}}var l=gx(e,0,!1,null,null,!1,!1,"",g1);return e._reactRootContainer=l,e[li]=l.current,Kl(e.nodeType===8?e.parentNode:e),Ka(function(){Qf(t,l,n,r)}),l}function th(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=$d(o);s.call(l)}}Qf(t,o,e,i)}else o=i$(n,t,e,i,r);return $d(o)}sE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hl(t.pendingLanes);n!==0&&($v(t,n|1),hn(t,tt()),!(_e&6)&&(ns=tt()+500,ta()))}break;case 13:Ka(function(){var r=ci(e,1);if(r!==null){var i=Vt();gr(r,e,1,i)}}),yx(e,1)}};Fv=function(e){if(e.tag===13){var t=ci(e,134217728);if(t!==null){var n=Vt();gr(t,e,134217728,n)}yx(e,134217728)}};lE=function(e){if(e.tag===13){var t=qi(e),n=ci(e,t);if(n!==null){var r=Vt();gr(n,e,t,r)}yx(e,t)}};cE=function(){return Te};uE=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};gg=function(e,t,n){switch(t){case"input":if(cg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kf(r);if(!i)throw Error(ee(90));U_(r),cg(r,i)}}}break;case"textarea":W_(e,n);break;case"select":t=n.value,t!=null&&zo(e,!!n.multiple,t,!1)}};J_=fx;X_=Ka;var a$={usingClientEntryPoint:!1,Events:[wc,Ao,Kf,G_,Y_,fx]},Xs={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o$={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eE(e),e===null?null:e.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||r$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Uf=xu.inject(o$),$r=xu}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a$;Mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xx(t))throw Error(ee(200));return n$(e,t,null,n)};Mn.createRoot=function(e,t){if(!xx(e))throw Error(ee(299));var n=!1,r="",i=T2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=gx(e,1,!1,null,null,n,!1,r,i),e[li]=t.current,Kl(e.nodeType===8?e.parentNode:e),new vx(t)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=eE(t),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return Ka(e)};Mn.hydrate=function(e,t,n){if(!eh(t))throw Error(ee(200));return th(null,e,t,!0,n)};Mn.hydrateRoot=function(e,t,n){if(!xx(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=T2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=A2(t,null,e,1,n??null,i,!1,a,o),e[li]=t.current,Kl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zf(t)};Mn.render=function(e,t,n){if(!eh(t))throw Error(ee(200));return th(null,e,t,!1,n)};Mn.unmountComponentAtNode=function(e){if(!eh(e))throw Error(ee(40));return e._reactRootContainer?(Ka(function(){th(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1};Mn.unstable_batchedUpdates=fx;Mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eh(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return th(e,t,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function I2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(I2)}catch(e){console.error(e)}}I2(),I_.exports=Mn;var bx=I_.exports,y1=bx;ng.createRoot=y1.createRoot,ng.hydrateRoot=y1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}var Fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fi||(Fi={}));const v1="popstate";function s$(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Yg("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:R2(i)}return c$(t,n,null,e)}function ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l$(){return Math.random().toString(36).substr(2,8)}function x1(e,t){return{usr:e.state,key:e.key,idx:t}}function Yg(e,t,n,r){return n===void 0&&(n=null),ec({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ss(t):t,{state:n,key:t&&t.key||r||l$()})}function R2(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ss(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function c$(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Fi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ec({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Fi.Pop;let y=d(),v=y==null?null:y-c;c=y,l&&l({action:s,location:g.location,delta:v})}function h(y,v){s=Fi.Push;let b=Yg(g.location,y,v);n&&n(b,y),c=d()+1;let w=x1(b,c),S=g.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(y,v){s=Fi.Replace;let b=Yg(g.location,y,v);n&&n(b,y),c=d();let w=x1(b,c),S=g.createHref(b);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:R2(y);return b=b.replace(/ $/,"%20"),ct(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return s},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v1,f),l=y,()=>{i.removeEventListener(v1,f),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var b1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(b1||(b1={}));function u$(e,t,n){return n===void 0&&(n="/"),d$(e,t,n,!1)}function d$(e,t,n,r){let i=typeof t=="string"?Ss(t):t,a=$2(i.pathname||"/",n);if(a==null)return null;let o=M2(e);f$(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=S$(a);s=w$(o[l],c,r)}return s}function M2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ma([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(ct(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),M2(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:x$(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of L2(a.path))i(a,o,l)}),t}function L2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=L2(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function f$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:b$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h$=/^:[\w-]+$/,p$=3,m$=2,g$=1,y$=10,v$=-2,w1=e=>e==="*";function x$(e,t){let n=e.split("/"),r=n.length;return n.some(w1)&&(r+=v$),t&&(r+=m$),n.filter(i=>!w1(i)).reduce((i,a)=>i+(h$.test(a)?p$:a===""?g$:y$),r)}function b$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function w$(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=k1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=k1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ma([a,f.pathname]),pathnameBase:E$(Ma([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Ma([a,f.pathnameBase]))}return o}function k1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function k$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),D2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function S$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return D2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function j$(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Ss(e):e;return{pathname:n?n.startsWith("/")?n:C$(n,t):t,search:N$(r),hash:P$(i)}}function C$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function F2(e,t){let n=_$(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function z2(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Ss(e):(i=ec({},e),ct(!i.pathname||!i.pathname.includes("?"),Jp("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Jp("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Jp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=j$(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ma=e=>e.join("/").replace(/\/\/+/g,"/"),E$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const U2=["post","put","patch","delete"];new Set(U2);const A$=["get",...U2];new Set(A$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}const wx=x.createContext(null),T$=x.createContext(null),Sc=x.createContext(null),nh=x.createContext(null),na=x.createContext({outlet:null,matches:[],isDataRoute:!1}),B2=x.createContext(null);function jc(){return x.useContext(nh)!=null}function ro(){return jc()||ct(!1),x.useContext(nh).location}function W2(e){x.useContext(Sc).static||x.useLayoutEffect(e)}function $n(){let{isDataRoute:e}=x.useContext(na);return e?K$():I$()}function I$(){jc()||ct(!1);let e=x.useContext(wx),{basename:t,future:n,navigator:r}=x.useContext(Sc),{matches:i}=x.useContext(na),{pathname:a}=ro(),o=JSON.stringify(F2(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return W2(()=>{s.current=!0}),x.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=z2(c,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ma([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,a,e])}function H2(){let{matches:e}=x.useContext(na),t=e[e.length-1];return t?t.params:{}}function D$(e,t){return R$(e,t)}function R$(e,t,n,r){jc()||ct(!1);let{navigator:i}=x.useContext(Sc),{matches:a}=x.useContext(na),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ro(),d;if(t){var f;let y=typeof t=="string"?Ss(t):t;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ct(!1),d=y}else d=c;let h=d.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=u$(e,{pathname:p}),g=z$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ma([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ma([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?x.createElement(nh.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Fi.Pop}},g):g}function M$(){let e=H$(),t=O$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,a)}const L$=x.createElement(M$,null);class $$ extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(na.Provider,{value:this.props.routeContext},x.createElement(B2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F$(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(wx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(na.Provider,{value:t},r)}function z$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||ct(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,m=!1,g=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||L$,l&&(c<0&&h===0?(q$("route-fallback",!1),m=!0,y=null):c===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(F$,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement($$,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var K2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(K2||{}),Fd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fd||{});function U$(e){let t=x.useContext(wx);return t||ct(!1),t}function B$(e){let t=x.useContext(T$);return t||ct(!1),t}function W$(e){let t=x.useContext(na);return t||ct(!1),t}function q2(e){let t=W$(),n=t.matches[t.matches.length-1];return n.route.id||ct(!1),n.route.id}function H$(){var e;let t=x.useContext(B2),n=B$(Fd.UseRouteError),r=q2(Fd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function K$(){let{router:e}=U$(K2.UseNavigateStable),t=q2(Fd.UseNavigateStable),n=x.useRef(!1);return W2(()=>{n.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,tc({fromRouteId:t},a)))},[e,t])}const S1={};function q$(e,t,n){!t&&!S1[e]&&(S1[e]=!0)}function V$(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function V2(e){let{to:t,replace:n,state:r,relative:i}=e;jc()||ct(!1);let{future:a,static:o}=x.useContext(Sc),{matches:s}=x.useContext(na),{pathname:l}=ro(),c=$n(),d=z2(t,F2(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return x.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Hn(e){ct(!1)}function G$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fi.Pop,navigator:a,static:o=!1,future:s}=e;jc()&&ct(!1);let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:a,static:o,future:tc({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Ss(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let y=$2(d,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:i}},[l,d,f,h,p,m,i]);return g==null?null:x.createElement(Sc.Provider,{value:c},x.createElement(nh.Provider,{children:n,value:g}))}function Y$(e){let{children:t,location:n}=e;return D$(Jg(t),n)}new Promise(()=>{});function Jg(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Jg(r.props.children,a));return}r.type!==Hn&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Jg(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function J$(e,t){let n=Xg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const X$="6";try{window.__reactRouterVersion=X$}catch{}const Q$="startTransition",j1=A_[Q$];function Z$(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current==null&&(a.current=s$({window:i,v5Compat:!0}));let o=a.current,[s,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=x.useCallback(f=>{c&&j1?j1(()=>l(f)):l(f)},[l,c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>V$(r),[r]),x.createElement(G$,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var C1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(C1||(C1={}));var _1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_1||(_1={}));function e4(e){let t=x.useRef(Xg(e)),n=x.useRef(!1),r=ro(),i=x.useMemo(()=>J$(r.search,n.current?null:t.current),[r.search]),a=$n(),o=x.useCallback((s,l)=>{const c=Xg(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}const G2=x.createContext(void 0),E1="axpro_theme",t4=({children:e})=>{const[t,n]=x.useState(()=>{const s=localStorage.getItem(E1);return s==="light"||s==="dark"?s:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=s=>{n(s),localStorage.setItem(E1,s),a(s)},i=()=>{r(t==="light"?"dark":"light")},a=s=>{document.documentElement.setAttribute("data-theme",s)};x.useEffect(()=>{a(t)},[t]);const o={theme:t,setTheme:r,toggleTheme:i};return u.jsx(G2.Provider,{value:o,children:e})},io=()=>{const e=x.useContext(G2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},kx=x.createContext(void 0),N1="axpro_lang",n4={en:{"app.brand":"AX PRO PLATFORM","auth.title.chat":"Sign in","auth.title.admin":"Sign in","auth.subtitle.chat":"Continue to the Chat Interface","auth.subtitle.admin":"Continue to the Administrative Console","auth.email":"Email","auth.password":"Password","auth.continue":"Continue","auth.error":"Invalid credentials. Try the demo accounts.","auth.demoHint":"Demo: demo@tecace.com / demo1234 · admin@tecace.com / admin1234","link.toAdmin":"Sign in to the Admin Console","link.toChat":"Use Chat Interface sign-in","ui.theme.light":"Light","ui.theme.dark":"Dark","ui.lang.en":"English","ui.lang.ko":"한국어","chat.title":"Chat Interface","chat.welcome":"Welcome to the chat interface","dashboard.title":"Admin Console","dashboard.welcome":"Welcome to the admin console","auth.signOut":"Sign out","dashboard.timeline":"Performance Timeline","dashboard.activity":"Daily Message Activity","usage.sessions":"Recent Conversations","usage.messages":"Messages","usage.feedback.admin":"Admin Feedback","usage.feedback.user":"User Feedback","mgmt.prompt":"Prompt Control","mgmt.knowledge":"Knowledge Management","actions.new":"New","actions.refresh":"Refresh","actions.save":"Save","actions.revert":"Revert","actions.test":"Test","actions.open":"Open","actions.rename":"Rename","actions.close":"Close","actions.delete":"Delete","filters.status":"Status","filters.search":"Search","labels.title":"Title","labels.lastActivity":"Last activity","labels.count":"Count","labels.status":"Status","context.rename":"Rename","context.reopen":"Reopen","context.close":"Close","context.deletePermanently":"Delete permanently","context.confirmDelete":"Are you sure you want to permanently delete this conversation? This action cannot be undone.","context.confirmDeleteClosed":"Are you sure you want to permanently delete this closed conversation? This action cannot be undone.","context.deleteFailed":"Failed to delete session. Please try again.","ui.user":"User","ui.settings":"Settings","ui.signOut":"Sign Out","ui.demoMode":"Demo Mode","ui.demoModeDescription":"Backend not running. Chat features limited.","ui.newChat":"New Chat","ui.searchConversations":"Search conversations...","ui.all":"All","ui.open":"Open","ui.closed":"Closed","ui.noConversations":"No conversations yet","ui.startConversation":"Start a new conversation to begin chatting","ui.startNewChat":"Start New Chat","ui.backendNote":"Note: Full chat features require backend server","ui.selectConversation":"Select a conversation from the sidebar or start a new chat","ui.newChatTitle":"New Chat","ui.closeChat":"Close Chat","ui.justNow":"Just now","ui.typeMessage":"Type a message... (Enter to send, Shift+Enter for new line)","ui.send":"Send","ui.sending":"Sending...","ui.suggestedQuestions":"Suggested questions","ui.question1":"What is artificial intelligence?","ui.question2":"How does machine learning work?","ui.question3":"Explain quantum computing","ui.question4":"What are the benefits of cloud computing?","admin.performance":"Performance","admin.excellent":"Excellent","admin.good":"Good","admin.fair":"Fair","admin.poor":"Poor","admin.conversations":"Conversations","admin.overview":"Overview","admin.documents":"Documents","admin.navigation":"Navigation","admin.activity":"Activity","admin.feedback":"Feedback","admin.knowledgeBase":"Knowledge Management","admin.satisfaction":"Satisfaction","admin.metrics":"Metrics","admin.recentConversations":"Recent Conversations","admin.userFeedback":"User Feedback","admin.promptControl":"Prompt Control","admin.systemPrompt":"System Prompt Control","admin.lastRefreshed":"Last refreshed","admin.loading":"Loading...","admin.saving":"Saving...","admin.saveChanges":"Save Changes","admin.confirmUpdate":"Confirm Update","admin.confirmUpdateMessage":"This will update the system prompt for the chatbot. Are you sure you would like to proceed?","admin.cancel":"Cancel","admin.confirm":"Confirm","admin.success":"Success","admin.error":"Error","admin.close":"Close","admin.goToChat":"Go to Chat Interface","admin.notifications":"Notifications","admin.toggleTheme":"Toggle theme","admin.userProfile":"User profile","admin.signOut":"Sign out","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"Monitor AI response quality and security performance across 6 key metrics in real-time for optimal user experience","admin.dailyMessageActivity":"Daily Message Activity","admin.moduleControl":"Module Control","admin.relevance":"Relevance","admin.tone":"Tone","admin.length":"Length","admin.accuracy":"Accuracy","admin.toxicity":"Toxicity","admin.promptInjection":"Prompt Injection","admin.contentMatching":"Content Matching","admin.responseStyle":"Response Style","admin.responseSize":"Response Size","admin.correctAnswers":"Correct Answers","admin.safetyCheck":"Safety Check","admin.securityFilter":"Security Filter","admin.performanceTimeline":"Performance Timeline","admin.date":"Date","admin.actual":"Actual","admin.estimated":"Estimated","admin.totalMessages":"Total Messages","admin.userFeedbackCount":"User Feedback","admin.adminReviews":"Admin Reviews","admin.corrected":"Corrected","admin.messages":"Messages","admin.sortBy":"Sort by","admin.search":"Search","admin.exportCSV":"Export CSV","admin.dateTimeNewest":"Date/Time (Newest)","admin.dateTimeOldest":"Date/Time (Oldest)","admin.user":"User","admin.userMessage":"User Message","admin.aiResponse":"AI Response","admin.searchConversations":"Search conversations...","admin.searchAll":"Search all data...","admin.avgPerDay":"avg/day","admin.average":"Average","admin.approval":"Approval","admin.uniqueUsers":"Unique Users","admin.last3Days":"Last 3 days","admin.last7Days":"Last 7 days","admin.last2Weeks":"Last 2 weeks","admin.last3Weeks":"Last 3 weeks","admin.last30Days":"Last 30 days","admin.last3Months":"Last 3 months","admin.customRange":"Custom range","admin.ragManagement":"RAG Management","admin.ragDescription":"Upload and manage documents for the RAG (Retrieval-Augmented Generation) system","admin.uploadingFiles":"Uploading files...","admin.dropFilesHere":"Drop files here to upload","admin.clickToUpload":"Click to upload or drag and drop files","admin.supportedFormats":"Supports PDF, Word, Excel, CSV, TXT, MD, JSON, HTML","admin.uploadResults":"Upload Results","admin.clear":"Clear","admin.uploadedFiles":"Uploaded Files","admin.status.uploading":"Uploading","admin.status.processing":"Processing","admin.status.ready":"Ready","admin.status.error":"Error","admin.removeFile":"Remove file","admin.instructions":"Instructions","admin.instruction1":"Upload documents to enhance the AI's knowledge base","admin.instruction2":"Supported formats: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"Files are automatically processed and vectorized for search","admin.instruction4":"Maximum file size: 10MB per file","admin.searchFiles":"Search files...","admin.name":"Name","admin.size":"Size","admin.reindexFile":"Re-index file","admin.deleteFile":"Delete file","admin.confirmDeleteFile":"Are you sure you want to delete this file?","admin.deleteError":"Failed to delete file","knowledge.title":"Knowledge Management","knowledge.subtitle":"Manage files and knowledge base for AI chatbot","knowledge.note":"Files are stored in the **File Library**, while the **Knowledge Index** holds their searchable content. These can differ. Check the **Sync Overview** tab to see if they're in sync.","knowledge.fileLibrary":"File Library","knowledge.knowledgeIndex":"Knowledge Index","knowledge.syncOverview":"Sync Overview","knowledge.fileLibraryDescription":"Manage files in your library (upload/delete). Knowledge indexing is handled in the next section.","knowledge.knowledgeIndexDescription":"Documents indexed for AI chatbot knowledge queries","knowledge.syncOverviewDescription":"Monitor synchronization status between files and knowledge index","knowledge.dragFilesHere":"Drag text files here to upload or click to select","knowledge.supportedFormats":"Supported formats: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"Uploading files...","knowledge.searchByFilename":"Search by filename...","knowledge.searchByTitleFilepathContent":"Search by title, filepath, or content...","knowledge.refresh":"Refresh","knowledge.loading":"Loading...","knowledge.fileName":"File Name","knowledge.size":"Size","knowledge.lastModified":"Last Modified","knowledge.contentType":"Content Type","knowledge.syncStatus":"Sync Status","knowledge.actions":"Actions","knowledge.documentTitle":"Title","knowledge.parentId":"Parent ID","knowledge.chunkId":"Chunk ID","knowledge.url":"URL","knowledge.sync":"Sync","knowledge.view":"View","knowledge.download":"Download","knowledge.delete":"Delete","knowledge.stop":"Stop","knowledge.previous":"Previous","knowledge.next":"Next","knowledge.synced":"Synced","knowledge.pending":"Pending","knowledge.error":"Error","knowledge.unknown":"Unknown","knowledge.blobStatusLastModified":"Blob Status / Last Modified","knowledge.indexStatusChunks":"Index Status / Chunks"},ko:{"app.brand":"AX PRO 플랫폼","auth.title.chat":"로그인","auth.title.admin":"로그인","auth.subtitle.chat":"채팅 인터페이스로 이동","auth.subtitle.admin":"관리자 콘솔로 이동","auth.email":"이메일","auth.password":"비밀번호","auth.continue":"계속","auth.error":"계정 정보가 올바르지 않습니다. 데모 계정을 사용해 보세요.","auth.demoHint":"데모: demo@tecace.com / demo1234 · admin@tecace.com / admin1234","link.toAdmin":"관리자 콘솔로 이동","link.toChat":"채팅 인터페이스로 이동","ui.theme.light":"라이트","ui.theme.dark":"다크","ui.lang.en":"영어","ui.lang.ko":"한국어","chat.title":"채팅 인터페이스","chat.welcome":"채팅 인터페이스에 오신 것을 환영합니다","dashboard.title":"관리자 콘솔","dashboard.welcome":"관리자 콘솔에 오신 것을 환영합니다","auth.signOut":"로그아웃","dashboard.timeline":"성능 타임라인","dashboard.activity":"일일 메시지 활동","usage.sessions":"최근 대화","usage.messages":"메시지","usage.feedback.admin":"관리자 피드백","usage.feedback.user":"사용자 피드백","mgmt.prompt":"프롬프트 제어","mgmt.knowledge":"지식 관리","actions.new":"새로 만들기","actions.refresh":"새로고침","actions.save":"저장","actions.revert":"되돌리기","actions.test":"테스트","actions.open":"열기","actions.rename":"이름 변경","actions.close":"닫기","actions.delete":"삭제","filters.status":"상태","filters.search":"검색","labels.title":"제목","labels.lastActivity":"마지막 활동","labels.count":"개수","labels.status":"상태","context.rename":"이름 변경","context.reopen":"다시 열기","context.close":"닫기","context.deletePermanently":"영구 삭제","context.confirmDelete":"이 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.","context.confirmDeleteClosed":"이 닫힌 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.","context.deleteFailed":"세션 삭제에 실패했습니다. 다시 시도해 주세요.","ui.user":"사용자","ui.settings":"설정","ui.signOut":"로그아웃","ui.demoMode":"데모 모드","ui.demoModeDescription":"백엔드가 실행되지 않습니다. 채팅 기능이 제한됩니다.","ui.newChat":"새 채팅","ui.searchConversations":"대화 검색...","ui.all":"전체","ui.open":"열림","ui.closed":"닫힘","ui.noConversations":"아직 대화가 없습니다","ui.startConversation":"새 대화를 시작하여 채팅을 시작하세요","ui.startNewChat":"새 채팅 시작","ui.backendNote":"참고: 전체 채팅 기능은 백엔드 서버가 필요합니다","ui.selectConversation":"사이드바에서 대화를 선택하거나 새 채팅을 시작하세요","ui.newChatTitle":"새 채팅","ui.closeChat":"채팅 닫기","ui.justNow":"방금 전","ui.typeMessage":"메시지를 입력하세요... (Enter로 전송, Shift+Enter로 새 줄)","ui.send":"전송","ui.sending":"전송 중...","ui.suggestedQuestions":"추천 질문","ui.question1":"인공지능이란 무엇인가요?","ui.question2":"머신러닝은 어떻게 작동하나요?","ui.question3":"양자 컴퓨팅을 설명해주세요","ui.question4":"클라우드 컴퓨팅의 장점은 무엇인가요?","admin.performance":"성능","admin.excellent":"우수","admin.good":"좋음","admin.fair":"보통","admin.poor":"미흡","admin.conversations":"대화","admin.overview":"개요","admin.documents":"문서","admin.navigation":"네비게이션","admin.activity":"활동","admin.feedback":"피드백","admin.knowledgeBase":"지식 관리","admin.satisfaction":"만족도","admin.metrics":"지표","admin.recentConversations":"최근 대화","admin.userFeedback":"사용자 피드백","admin.promptControl":"프롬프트 제어","admin.systemPrompt":"시스템 프롬프트 제어","admin.lastRefreshed":"마지막 새로고침","admin.loading":"로딩 중...","admin.saving":"저장 중...","admin.saveChanges":"변경사항 저장","admin.confirmUpdate":"업데이트 확인","admin.confirmUpdateMessage":"챗봇의 시스템 프롬프트를 업데이트합니다. 계속하시겠습니까?","admin.cancel":"취소","admin.confirm":"확인","admin.success":"성공","admin.error":"오류","admin.close":"닫기","admin.goToChat":"채팅 인터페이스로 이동","admin.notifications":"알림","admin.toggleTheme":"테마 전환","admin.userProfile":"사용자 프로필","admin.signOut":"로그아웃","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"AI 응답 품질과 보안 성능을 6가지 핵심 지표로 실시간 모니터링하여 최적의 사용자 경험을 제공합니다","admin.dailyMessageActivity":"일일 메시지 활동","admin.moduleControl":"모듈 제어","admin.relevance":"관련성","admin.tone":"톤","admin.length":"길이","admin.accuracy":"정확도","admin.toxicity":"유해성","admin.promptInjection":"프롬프트 주입","admin.contentMatching":"콘텐츠 매칭","admin.responseStyle":"응답 스타일","admin.responseSize":"응답 크기","admin.correctAnswers":"정답률","admin.safetyCheck":"안전성 검사","admin.securityFilter":"보안 필터","admin.performanceTimeline":"성능 타임라인","admin.date":"날짜","admin.actual":"실제","admin.estimated":"추정","admin.totalMessages":"전체 메시지","admin.userFeedbackCount":"사용자 피드백","admin.adminReviews":"관리자 리뷰","admin.corrected":"수정됨","admin.messages":"메시지","admin.sortBy":"정렬","admin.search":"검색","admin.exportCSV":"CSV 내보내기","admin.dateTimeNewest":"날짜/시간 (최신순)","admin.dateTimeOldest":"날짜/시간 (오래된순)","admin.user":"사용자","admin.userMessage":"사용자 메시지","admin.aiResponse":"AI 응답","admin.searchConversations":"대화 검색...","admin.searchAll":"모든 데이터 검색...","admin.avgPerDay":"일평균","admin.average":"평균","admin.approval":"승인률","admin.uniqueUsers":"고유 사용자","admin.last3Days":"최근 3일","admin.last7Days":"최근 7일","admin.last2Weeks":"최근 2주","admin.last3Weeks":"최근 3주","admin.last30Days":"최근 30일","admin.last3Months":"최근 3개월","admin.customRange":"사용자 지정 범위","admin.ragManagement":"RAG 관리","admin.ragDescription":"RAG (검색 증강 생성) 시스템을 위한 문서 업로드 및 관리","admin.uploadingFiles":"파일 업로드 중...","admin.dropFilesHere":"파일을 여기에 드롭하여 업로드","admin.clickToUpload":"클릭하여 업로드하거나 파일을 드래그 앤 드롭","admin.supportedFormats":"PDF, Word, Excel, CSV, TXT, MD, JSON, HTML 지원","admin.uploadResults":"업로드 결과","admin.clear":"지우기","admin.uploadedFiles":"업로드된 파일","admin.status.uploading":"업로드 중","admin.status.processing":"처리 중","admin.status.ready":"준비됨","admin.status.error":"오류","admin.removeFile":"파일 제거","admin.instructions":"사용 방법","admin.instruction1":"AI의 지식 베이스를 향상시키기 위해 문서를 업로드하세요","admin.instruction2":"지원 형식: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"파일은 자동으로 처리되어 검색을 위해 벡터화됩니다","admin.instruction4":"최대 파일 크기: 파일당 10MB","admin.searchFiles":"파일 검색...","admin.name":"이름","admin.size":"크기","admin.reindexFile":"파일 재인덱싱","admin.deleteFile":"파일 삭제","admin.confirmDeleteFile":"이 파일을 삭제하시겠습니까?","admin.deleteError":"파일 삭제에 실패했습니다","knowledge.title":"지식 관리","knowledge.subtitle":"AI 챗봇을 위한 파일 및 지식 베이스 관리","knowledge.note":"파일은 **파일 라이브러리**에 저장되며, **지식 인덱스**에는 검색 가능한 콘텐츠가 저장됩니다. 이 둘은 다를 수 있습니다. **동기화 개요** 탭에서 동기화 상태를 확인하세요.","knowledge.fileLibrary":"파일 라이브러리","knowledge.knowledgeIndex":"지식 인덱스","knowledge.syncOverview":"동기화 개요","knowledge.fileLibraryDescription":"라이브러리의 파일을 관리합니다 (업로드/삭제). 지식 인덱싱은 다음 섹션에서 처리됩니다.","knowledge.knowledgeIndexDescription":"AI 챗봇 지식 쿼리를 위해 인덱싱된 문서","knowledge.syncOverviewDescription":"파일과 지식 인덱스 간의 동기화 상태 모니터링","knowledge.dragFilesHere":"텍스트 파일을 여기에 드래그하여 업로드하거나 클릭하여 선택","knowledge.supportedFormats":"지원 형식: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"파일 업로드 중...","knowledge.searchByFilename":"파일명으로 검색...","knowledge.searchByTitleFilepathContent":"제목, 파일 경로 또는 내용으로 검색...","knowledge.refresh":"새로고침","knowledge.loading":"로딩 중...","knowledge.fileName":"파일명","knowledge.size":"크기","knowledge.lastModified":"마지막 수정","knowledge.contentType":"콘텐츠 유형","knowledge.syncStatus":"동기화 상태","knowledge.actions":"작업","knowledge.documentTitle":"제목","knowledge.parentId":"상위 ID","knowledge.chunkId":"청크 ID","knowledge.url":"URL","knowledge.sync":"동기화","knowledge.view":"보기","knowledge.download":"다운로드","knowledge.delete":"삭제","knowledge.stop":"중지","knowledge.previous":"이전","knowledge.next":"다음","knowledge.synced":"동기화됨","knowledge.pending":"대기 중","knowledge.error":"오류","knowledge.unknown":"알 수 없음","knowledge.blobStatusLastModified":"Blob 상태 / 마지막 수정","knowledge.indexStatusChunks":"인덱스 상태 / 청크"}},r4=({children:e})=>{const[t,n]=x.useState(()=>{const o=localStorage.getItem(N1);return o==="en"||o==="ko"?o:"en"}),a={language:t,setLanguage:o=>{n(o),localStorage.setItem(N1,o)},t:o=>n4[t][o]||o};return u.jsx(kx.Provider,{value:a,children:e})},Cc=()=>{const e=x.useContext(kx);if(e===void 0)throw new Error("useT must be used within an I18nProvider");return e.t},rt=()=>{const e=x.useContext(kx);if(e===void 0)throw new Error("useTranslation must be used within an I18nProvider");return e},i4={"chatbot-admin@tecace.com":{password:"admin1234",role:"admin",userId:"409esj1923"},"chatbot-user@tecace.com":{password:"user1234",role:"user",userId:"user123456"},"hana@tecace.com":{password:"tsl1234",role:"admin",userId:"seokhoon_kang_001"}},Sx="axpro_session",zd=(e,t)=>{const n=e.toLowerCase().trim(),r=i4[n];if(!r||r.password!==t)return null;const i={email:n,userId:r.userId,role:r.role,createdAt:Date.now()};try{return sessionStorage.setItem(Sx,JSON.stringify(i)),i}catch(a){return console.error("Failed to store session:",a),null}},qa=()=>{try{sessionStorage.removeItem(Sx)}catch(e){console.error("Failed to clear session:",e)}},Gt=()=>{try{const e=sessionStorage.getItem(Sx);if(!e)return null;const t=JSON.parse(e);return!t.email||!t.userId||!t.role||!t.createdAt?(qa(),null):t}catch(e){return console.error("Failed to retrieve session:",e),qa(),null}},jx=e=>{const t=Gt();return t?e==="admin"?t.role==="admin":!0:!1},Y2=()=>{const[e,t]=oi.useState(null);return oi.useEffect(()=>{t(Gt())},[]),{session:e,login:(a,o)=>{const s=zd(a,o);return t(s),s},logout:()=>{qa(),t(null)},isAuthedFor:a=>jx(a)}},a4=Object.freeze(Object.defineProperty({__proto__:null,getSession:Gt,isAuthedFor:jx,login:zd,logout:qa,useAuth:Y2},Symbol.toStringTag,{value:"Module"})),J2="http://localhost:3000/api";class id extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}async function Ir(e,t={}){const n=`${J2}${e}`;try{const r=await fetch(n,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){const i=await r.json().catch(()=>({}));throw new id(r.status,i.error||"Request failed")}return r.json()}catch(r){throw r instanceof id?r:new id(0,`Network error: ${r instanceof Error?r.message:"Unknown error"}`)}}const Qg={async demoLogin(e,t){return Ir("/auth/demo-login",{method:"POST",body:JSON.stringify({email:e,password:t})})},async getMe(){return Ir("/auth/me")},async logout(){return Ir("/auth/logout",{method:"POST"})}},bu={async list(e=20,t){const n=new URLSearchParams({limit:e.toString()});return t&&n.append("cursor",t),Ir(`/sessions?${n}`)},async create(e){return Ir("/sessions",{method:"POST",body:JSON.stringify({title:e})})},async get(e){return Ir(`/sessions/${e}`)},async update(e,t){return Ir(`/sessions/${e}`,{method:"PATCH",body:JSON.stringify(t)})},async delete(e){return Ir(`/sessions/${e}`,{method:"DELETE"})}},Xp={async list(e,t=50,n,r="older"){const i=new URLSearchParams({limit:t.toString(),direction:r});return n&&i.append("cursor",n),Ir(`/sessions/${e}/messages?${i}`)},async send(e,t,n=!1){if(n){const r=await fetch(`${J2}/sessions/${e}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,stream:!0})});if(!r.ok)throw new id(r.status,"Stream request failed");return r}else return Ir(`/sessions/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,stream:!1})})}},Zr=async()=>(console.log("Backend check: No backend API server, using local storage for sessions"),!1),o4=()=>{const e={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL;if(e&&e.trim())return console.log("n8n webhook check: Configured (environment variable)"),!0;const t=localStorage.getItem("axpro_n8n_webhook_url"),n=localStorage.getItem("axpro_n8n_configs");if(n)try{const r=JSON.parse(n);if(Array.isArray(r)&&r.length>0&&r[0].webhookUrl)return console.log("n8n webhook check: Configured (multi-config)"),!0}catch(r){console.error("Failed to parse n8n configs:",r)}return t&&t.trim()?(console.log("n8n webhook check: Configured (legacy)"),!0):(console.log("n8n webhook check: Not configured"),!1)},Zg=()=>{const e={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_ENABLE_SIMULATION;if(e!==void 0)return e==="true"||e==="1";const t=localStorage.getItem("axpro_enable_simulation");return t!==null?t==="true":!1},s4=e=>{localStorage.setItem("axpro_enable_simulation",e.toString())},l4=()=>{const e=$n(),{theme:t,toggleTheme:n}=io(),{language:r,setLanguage:i,t:a}=rt(),[o,s]=x.useState({email:"",password:""}),[l,c]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState("checking");oi.useEffect(()=>{const y=Gt();y&&(y.role==="admin"?e("/admin/dashboard"):e("/chat"))},[e]),oi.useEffect(()=>{(async()=>{const v=await Zr();p(v?"available":"unavailable")})()},[]);const m=y=>{const{name:v,value:b}=y.target;s(w=>({...w,[v]:b})),l&&c(null)},g=async y=>{y.preventDefault(),f(!0),c(null);try{await Qg.demoLogin(o.email,o.password);const v=zd(o.email,o.password);v?v.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}catch(v){console.log("Backend API failed, trying local auth:",v);const b=zd(o.email,o.password);b?b.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}finally{f(!1)}};return u.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"var(--bg)"},children:[u.jsxs("div",{className:"flex justify-between items-center p-4",children:[u.jsx("div",{className:"text-xs uppercase tracking-wider",style:{color:"var(--text-muted)"},children:a("app.brand")}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:a(t==="light"?"ui.theme.dark":"ui.theme.light")}),u.jsxs("select",{value:r,onChange:y=>i(y.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"en",children:a("ui.lang.en")}),u.jsx("option",{value:"ko",children:a("ui.lang.ko")})]})]})]}),u.jsx("div",{className:"flex-grow flex items-center justify-center px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"max-w-md w-full space-y-6",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-light",style:{color:"var(--text)"},children:a("auth.title.chat")}),u.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:a("auth.subtitle.chat")})]}),u.jsx("form",{className:"space-y-6",onSubmit:g,children:u.jsxs("div",{className:"card py-8 px-6 rounded-lg",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.email")}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.email")})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.password")}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o.password,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.password")})]})]}),l&&u.jsxs("div",{className:"mt-4 p-3 rounded-md error",children:[u.jsx("p",{className:"text-sm",children:l}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:a("auth.demoHint")})]}),u.jsx("button",{type:"submit",disabled:d,className:"btn-primary w-full mt-6 flex justify-center py-2 px-4 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:d?"...":a("auth.continue")})]})}),u.jsxs("div",{className:"card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:[u.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Demo Credentials (Click to auto-fill)"}),u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsx("button",{onClick:()=>{s({email:"chatbot-user@tecace.com",password:"user1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"👤 Regular User"}),u.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-user@tecace.com"})]}),u.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"→ Chat Interface"})]})}),u.jsx("button",{onClick:()=>{s({email:"chatbot-admin@tecace.com",password:"admin1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"👑 Admin User"}),u.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-admin@tecace.com"})]}),u.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"→ Admin Dashboard"})]})}),u.jsx("button",{onClick:()=>{s({email:"hana@tecace.com",password:"tsl1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:"👨‍💼 SeokHoon Kang"}),u.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"hana@tecace.com"})]}),u.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"→ Admin Dashboard (Custom Settings)"})]})})]})]})]})}),u.jsx("footer",{className:"mt-auto py-6 px-4 border-t",style:{borderColor:"var(--border)"},children:u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--text)"},children:"TecAce"}),u.jsx("p",{className:"text-xs leading-relaxed",style:{color:"var(--text-muted)"},children:"Enterprise AI Solutions for Modern Businesses"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--text)"},children:"Product"}),u.jsxs("ul",{className:"space-y-2 text-xs",style:{color:"var(--text-muted)"},children:[u.jsx("li",{children:"AI Assistant Platform"}),u.jsx("li",{children:"Knowledge Management"}),u.jsx("li",{children:"Analytics Dashboard"})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold mb-3",style:{color:"var(--text)"},children:"Company"}),u.jsxs("ul",{className:"space-y-2 text-xs",style:{color:"var(--text-muted)"},children:[u.jsx("li",{children:u.jsx("a",{href:"https://tecace.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",children:"About Us"})}),u.jsx("li",{children:u.jsx("a",{href:"https://tecace.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",children:"Contact"})})]})]})]}),u.jsx("div",{className:"pt-4 border-t text-center",style:{borderColor:"var(--border)"},children:u.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:["© ",new Date().getFullYear()," TecAce Software, Ltd. All rights reserved. |"," ",u.jsx("a",{href:"https://tecace.com",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity",style:{color:"var(--primary)"},children:"tecace.com"})]})})]})})]})},c4=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=$n(),s=async()=>{try{if(r(!0),a(null),await Zr()){const m=await bu.list();t(m)}else{const m=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");t(m)}}catch(p){a(p instanceof Error?p.message:"Failed to fetch sessions")}finally{r(!1)}},l=async p=>{try{console.log("Creating new session...");const m=await Zr();if(console.log("Backend available:",m),m){console.log("Using backend API for session creation");const{id:g}=await bu.create(p);return await s(),o(`/chat/${g}`),g}else{console.log("Using local storage for session creation");const g=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:g,title:p||"New Chat",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");return v.push(y),localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),console.log("Session created successfully:",y),await s(),o(`/chat/${g}`),g}}catch(m){throw console.error("Failed to create session:",m),a(m instanceof Error?m.message:"Failed to create session"),m}},c=async(p,m)=>{try{if(await Zr())await bu.update(p,m);else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),v=y.findIndex(b=>b.id===p);v!==-1&&(y[v]={...y[v],...m,updatedAt:new Date().toISOString()},localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)))}await s()}catch(g){throw a(g instanceof Error?g.message:"Failed to update session"),g}},d=async p=>{try{console.log("deleteSession called with id:",p);const m=await Zr();if(console.log("Backend available:",m),m)console.log("Deleting via backend API"),await bu.delete(p);else{console.log("Deleting from localStorage");const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");console.log("Current sessions before delete:",y.length);const v=y.filter(b=>b.id!==p);console.log("Sessions after delete:",v.length),localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),localStorage.removeItem(`axpro_sim_messages_${p}`),console.log("Deleted associated messages for session:",p)}console.log("Refreshing sessions list"),await s();const g=e.filter(y=>y.id!==p);console.log("Remaining sessions:",g.length),g.length>0?o(`/chat/${g[0].id}`):o("/chat"),console.log("Delete session completed successfully")}catch(m){throw console.error("Error in deleteSession:",m),a(m instanceof Error?m.message:"Failed to delete session"),m}},f=async p=>{await c(p,{status:"closed"})},h=async p=>{await c(p,{status:"open"})};return x.useEffect(()=>{s()},[]),{sessions:e,loading:n,error:i,createSession:l,updateSession:c,deleteSession:d,closeSession:f,reopenSession:h,refresh:s}},u4=({session:e,isActive:t,onClick:n,updateSession:r,deleteSession:i,closeSession:a,reopenSession:o})=>{var S;const s=Cc(),[l,c]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(e.title||""),m=x.useRef(null),g=j=>{j.preventDefault(),j.stopPropagation(),c(!l)},y=async()=>{if(h.trim()&&h!==e.title)try{await r(e.id,{title:h.trim()})}catch(j){console.error("Failed to rename session:",j)}f(!1),c(!1)},v=async()=>{try{e.status==="closed"?await o(e.id):await a(e.id)}catch(j){console.error("Failed to toggle session status:",j)}c(!1)},b=async()=>{const j=e.status==="closed"?s("context.confirmDeleteClosed"):s("context.confirmDelete");if(window.confirm(j))try{console.log("Deleting session:",e.id),await i(e.id),console.log("Session deleted successfully")}catch(k){console.error("Failed to permanently delete session:",k),alert(s("context.deleteFailed"))}c(!1)};x.useEffect(()=>{const j=k=>{m.current&&!m.current.contains(k.target)&&c(!1)};return l&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[l]);const w=j=>{const k=new Date(j),N=(new Date().getTime()-k.getTime())/(1e3*60*60);return N<1?s("ui.justNow"):N<24?`${Math.floor(N)}h ago`:N<168?`${Math.floor(N/24)}d ago`:k.toLocaleDateString()};return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:`p-3 cursor-pointer transition-colors group ${t?"bg-gray-100 border-r-2 border-gray-400":"hover:bg-gray-50"}`,style:{backgroundColor:t?"var(--primary-light)":void 0,borderRightColor:t?"var(--text)":void 0},onClick:n,onContextMenu:g,children:d?u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),onKeyDown:j=>{j.key==="Enter"&&y(),j.key==="Escape"&&(f(!1),p(e.title||""))},className:"input w-full px-2 py-1 text-sm",autoFocus:!0}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:y,className:"text-xs px-2 py-1 rounded bg-blue-500 text-white",children:"Save"}),u.jsx("button",{onClick:()=>{f(!1),p(e.title||"")},className:"text-xs px-2 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Cancel"})]})]}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h3",{className:`text-sm font-medium truncate ${e.status==="closed"?"opacity-60":""}`,style:{color:"var(--text)"},children:e.title||s("ui.newChatTitle")}),e.status==="closed"&&u.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:"🔒"})]}),e.lastMessage&&u.jsxs("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-secondary)"},children:[e.lastMessage.role==="user"?"You: ":"Assistant: ",e.lastMessage.content]})]}),u.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:w(((S=e.lastMessage)==null?void 0:S.createdAt)||e.updatedAt)}),u.jsx("button",{onClick:g,className:"opacity-0 group-hover:opacity-100 text-xs px-1 py-1 rounded hover:bg-gray-200",style:{color:"var(--text-muted)"},children:"⋯"})]})]})})}),l&&!d&&u.jsx("div",{ref:m,className:"absolute right-0 top-0 z-20 w-48 card rounded-md shadow-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},onClick:j=>j.stopPropagation(),children:u.jsxs("div",{className:"py-1",children:[u.jsxs("button",{onClick:j=>{j.stopPropagation(),f(!0),c(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:["✏️ ",s("context.rename")]}),u.jsx("button",{onClick:j=>{j.stopPropagation(),v()},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:e.status==="closed"?`🔄 ${s("context.reopen")}`:`🔒 ${s("context.close")}`}),u.jsx("hr",{className:"my-1",style:{borderColor:"var(--border)"}}),u.jsxs("button",{onClick:j=>{j.stopPropagation(),b()},className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50",style:{color:"var(--error)"},children:["🗑️ ",s("context.deletePermanently")]})]})})]})},d4=()=>{const e=$n(),{sessionId:t}=H2(),{sessions:n,loading:r,createSession:i,refresh:a,updateSession:o,deleteSession:s,closeSession:l,reopenSession:c}=c4(),d=Cc(),[f,h]=x.useState(""),[p,m]=x.useState("all"),g=n.filter(v=>{var S,j;const b=!f||((S=v.title)==null?void 0:S.toLowerCase().includes(f.toLowerCase()))||((j=v.lastMessage)==null?void 0:j.content.toLowerCase().includes(f.toLowerCase())),w=p==="all"||v.status===p;return b&&w}),y=async()=>{try{await i()}catch(v){console.error("Failed to create new chat:",v)}};return x.useEffect(()=>{const v=b=>{(b.metaKey||b.ctrlKey)&&b.key==="n"&&(b.preventDefault(),y())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),x.useEffect(()=>{const v=()=>{a()};return window.addEventListener("sessionUpdated",v),()=>window.removeEventListener("sessionUpdated",v)},[a]),r?u.jsx("div",{className:"p-4",children:u.jsxs("div",{className:"animate-pulse space-y-3",children:[u.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),u.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})}):u.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[u.jsxs("div",{className:"p-4 space-y-3 flex-shrink-0",children:[u.jsxs("button",{onClick:y,className:"w-full btn-primary py-2 px-4 rounded-md text-sm font-medium",title:"Create new chat (⌘N or Ctrl+N)",children:["+ ",d("ui.newChat")]}),u.jsx("input",{type:"text",placeholder:d("ui.searchConversations"),value:f,onChange:v=>h(v.target.value),className:"input w-full px-3 py-2 rounded-md text-sm"})]}),u.jsx("div",{className:"px-4 pb-2 flex-shrink-0",children:u.jsx("div",{className:"flex space-x-1",children:["all","open","closed"].map(v=>u.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 text-xs rounded-md transition-colors ${p===v?"text-white":"text-gray-600 hover:text-gray-900"}`,style:{backgroundColor:p===v?"var(--text)":"transparent",color:p===v?"var(--bg)":"var(--text-secondary)"},children:d(v==="all"?"ui.all":v==="open"?"ui.open":"ui.closed")},v))})}),u.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:g.length===0?u.jsx("div",{className:"p-4 text-center",children:f?u.jsxs("div",{children:[u.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:d("ui.noConversations")}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Try a different search term"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"text-4xl mb-2",children:"💬"}),u.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text)"},children:d("ui.noConversations")}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:d("ui.startConversation")}),u.jsx("button",{onClick:y,className:"btn-primary px-4 py-2 text-sm rounded-md",children:d("ui.startNewChat")}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:d("ui.backendNote")})]})}):u.jsx("div",{className:"space-y-1 p-2",children:g.map(v=>u.jsx(u4,{session:v,isActive:t===v.id,onClick:()=>e(`/chat/${v.id}`),updateSession:o,deleteSession:s,closeSession:l,reopenSession:c},v.id))})})]})},f4="modulepreload",h4=function(e){return"/"+e},P1={},Wr=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=h4(a),a in P1)return;P1[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let d=i.length-1;d>=0;d--){const f=i[d];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":f4,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((d,f)=>{c.addEventListener("load",d),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},p4={n8nConfigs:[],activeN8nConfigId:"",supabaseConfig:{url:"",anonKey:""},apiConfigs:[],uiCustomization:{}},m4={n8nConfigs:[{id:"seokhoon_default",name:"SeokHoon Kang Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/63647efd-8c39-42d5-8e1f-b465d62091c6",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"seokhoon_default",supabaseConfig:{url:"https://oomjruguisqdahcrvfws.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vbWpydWd1aXNxZGFoY3J2ZndzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNjAxNTUsImV4cCI6MjA3NjYzNjE1NX0.gPLhFgvyCXozmUwbdNDTRp2_-pDH4rHQCJuyPotR8Vo"}},O1={n8nConfigs:[{id:"admin_default",name:"Admin Default Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"admin_default",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"}},ey="axpro_user_settings",Cx=()=>{const e=Gt();if(!e)return null;try{const n=JSON.parse(localStorage.getItem(ey)||"{}")[e.userId];return n||X2(e.userId,e.email)}catch(t){return console.error("Failed to get user settings:",t),null}},rh=e=>{const t=Gt();if(!t)return!1;try{const n=JSON.parse(localStorage.getItem(ey)||"{}"),i={...n[t.userId]||X2(t.userId,t.email),...e,userId:t.userId,email:t.email,updatedAt:new Date().toISOString()};return n[t.userId]=i,localStorage.setItem(ey,JSON.stringify(n)),!0}catch(n){return console.error("Failed to save user settings:",n),!1}},X2=(e,t)=>{const n=new Date().toISOString();return e==="seokhoon_kang_001"||t==="hana@tecace.com"?{userId:e,email:t,...m4,createdAt:n,updatedAt:n}:e==="409esj1923"||t==="chatbot-admin@tecace.com"?{userId:e,email:t,...O1,createdAt:n,updatedAt:n}:e==="user123456"||t==="chatbot-user@tecace.com"?{userId:e,email:t,...O1,createdAt:n,updatedAt:n}:{userId:e,email:t,...p4,createdAt:n,updatedAt:n}},g4=()=>{const e=Cx();return(e==null?void 0:e.n8nConfigs)||[]},y4=e=>rh({n8nConfigs:e}),v4=()=>{const e=Cx();return e&&(e.n8nConfigs.find(n=>n.id===e.activeN8nConfigId)||e.n8nConfigs[0])||null},x4=e=>rh({activeN8nConfigId:e}),Q2=()=>{const e=Cx();return(e==null?void 0:e.supabaseConfig)||{url:"",anonKey:""}},b4=e=>rh({supabaseConfig:e}),ih=()=>{try{const e=g4();return console.log("Loaded user-specific n8n configs:",e),e}catch(e){return console.error("Failed to get user n8n configs:",e),[]}},_x=e=>{try{y4(e),console.log("Saved user-specific n8n configs:",e)}catch(t){console.error("Failed to save user n8n configs:",t)}},Ex=()=>{try{const e=v4();return console.log("Active user n8n config:",e),e}catch(e){return console.error("Failed to get active user n8n config:",e),null}},Z2=e=>{try{x4(e),console.log("Set active user n8n config:",e)}catch(t){console.error("Failed to set active user n8n config:",t)}},w4=e=>{const t={...e,id:`n8n_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=ih();return n.push(t),_x(n),t},k4=(e,t)=>{const n=ih(),r=n.findIndex(i=>i.id===e);return r===-1?null:(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},_x(n),n[r])},S4=e=>{const t=ih(),n=t.filter(i=>i.id!==e);if(n.length===t.length)return!1;_x(n);const r=Ex();return(r==null?void 0:r.id)===e&&n.length>0&&Z2(n[0].id),!0},j4=async e=>{const t=Ex();if(console.log("Sending to n8n with user config:",t),console.log("Request payload:",e),!t)throw new Error("No active n8n configuration found for current user");try{console.log("Making request to:",t.webhookUrl),console.log("Request payload:",JSON.stringify(e));const n=new AbortController,r=setTimeout(()=>{console.log("n8n webhook request timed out after 30 seconds"),n.abort()},3e4),i=await fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e),signal:n.signal});clearTimeout(r),console.log("Response status:",i.status),console.log("Response headers:",i.headers);const a=await i.text();if(console.log("=== N8N WEBHOOK DEBUG ==="),console.log("Response status:",i.status),console.log("Response ok:",i.ok),console.log("Raw response text length:",a.length),console.log("Raw response text:",a),console.log("Response text trimmed:",a.trim()),console.log("Is empty?",!a||a.trim()===""),console.log("Response URL:",i.url),console.log("Response headers:",Object.fromEntries(i.headers.entries())),console.log("========================"),!i.ok)throw console.error("Response error:",a),new Error(`HTTP error! status: ${i.status}, message: ${a}`);if(!a||a.trim()==="")throw console.warn("Empty response from webhook"),new Error("Empty response from webhook. Please check your workflow configuration.");let o;try{o=JSON.parse(a)}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Response text was:",a),new Error(`Invalid JSON response from n8n: ${a.substring(0,100)}...`)}console.log("n8n response:",o);let s;if(Array.isArray(o))s=o[0];else if(o&&typeof o=="object")s=o;else throw new Error("Unexpected response format from n8n webhook");if(s&&s.answer&&s.answer.includes("No response from webhook"))throw console.error("Webhook returned error message:",s.answer),new Error("Webhook returned error: "+s.answer);return s}catch(n){throw console.error("Failed to send to n8n:",n),n.name==="AbortError"?new Error("Webhook request timed out after 30 seconds"):n.name==="TypeError"&&n.message.includes("fetch")?new Error("Network error: Unable to reach webhook"):n}},C4=async e=>{try{const t={sessionId:"test-session",chatId:"test-chat-"+Date.now(),userId:"test-user",action:"sendMessage",chatInput:"Test connection"};return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch(t){return console.error("Failed to test n8n connection:",t),!1}};class _4{constructor(t){nu(this,"reader");this.reader=t.body.getReader()}async*read(){const t=new TextDecoder;let n="";try{for(;;){const{done:r,value:i}=await this.reader.read();if(r)break;n+=t.decode(i,{stream:!0});const a=n.split(`
`);n=a.pop()||"";for(const o of a)if(o.startsWith("data: ")){const s=o.slice(6);if(s==="[DONE]")return;try{yield JSON.parse(s)}catch{console.warn("Failed to parse SSE data:",s)}}}}finally{this.reader.releaseLock()}}}const A1={async sendMessage(e,t,n){const r=await Zr();if(console.log("Backend available:",r),r)if(n){const i=await Xp.send(e,t,!0),a=new _4(i);let o="",s=[];for await(const l of a.read())n(l),l.type==="final"&&(o=l.messageId||"",s=l.citations||[]);return{messageId:o,citations:s}}else{const i=await Xp.send(e,t,!1);return{messageId:i.messageId||`backend_${Date.now()}`,citations:i.citations||[]}}else{console.log("Backend unavailable, trying n8n for chat...");const i=o4(),a=Ex();if(console.log("n8n webhook available:",i),console.log("Active n8n config:",a),i&&a&&a.webhookUrl){console.log("Using n8n webhook:",a.webhookUrl);try{const c=Gt(),d=`chat_${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f={sessionId:e,chatId:d,userId:(c==null?void 0:c.userId)||"unknown",action:"sendMessage",chatInput:t};console.log("=== CHAT SERVICE DEBUG ==="),console.log("Sending request to n8n:",f);let h,p=null;for(let m=1;m<=3;m++)try{console.log(`n8n request attempt ${m}/3`),h=await j4(f),console.log("n8n response received successfully:",h),console.log("Response type:",typeof h),console.log("Response has answer?",!!(h!=null&&h.answer)),console.log("Response answer:",h==null?void 0:h.answer);break}catch(g){if(p=g,console.warn(`n8n request attempt ${m} failed:`,g),m<3){const y=Math.pow(2,m)*1e3;console.log(`Retrying in ${y}ms...`),await new Promise(v=>setTimeout(v,y))}}if(!h||!h.answer)throw console.error("All n8n attempts failed, last error:",p),new Error(`n8n webhook failed after 3 attempts: ${(p==null?void 0:p.message)||"No response"}`);if(console.log("=========================="),n){const m=h.answer;console.log("Streaming answer text:",m);const g=m.split(" ");for(let y=0;y<g.length;y++)n({type:"delta",text:g[y]+(y<g.length-1?" ":"")}),await new Promise(v=>setTimeout(v,50));n({type:"final",messageId:d,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:d,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]})}return{messageId:d,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:d,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]}}catch(c){if(console.error("Failed to send to n8n:",c),console.log("n8n failed, checking simulation mode setting"),Zg())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error(`Chat service unavailable: ${c instanceof Error?c.message:"n8n webhook failed"}`)}}else if(console.log("No n8n config found or webhook URL missing"),console.log("n8n config was:",a),Zg())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error("Chat service unavailable: No n8n webhook configured");console.log("Falling back to simulation");const s=(await Wr(()=>import("./simulation-ee6eb0cb.js"),[])).generateSimulatedResponse(t),l=s.reply;if(n){const c=l.split(" ");for(let d=0;d<c.length;d++)n({type:"delta",text:c[d]+(d<c.length-1?" ":"")}),await new Promise(f=>setTimeout(f,50));n({type:"final",messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((d,f)=>({id:`sim_citation_${Date.now()}_${f}`,messageId:`sim_${Date.now()}`,sourceType:d.sourceType,title:d.title,snippet:d.snippet,sourceId:d.sourceId||`sim_${Date.now()}`,metadata:{}}))})}return{messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((c,d)=>({id:`sim_citation_${Date.now()}_${d}`,messageId:`sim_${Date.now()}`,sourceType:c.sourceType,title:c.title,snippet:c.snippet,sourceId:c.sourceId||`sim_${Date.now()}`,metadata:{}}))}}},async getMessages(e,t=50,n,r="older"){return await Zr()?await Xp.list(e,t,n,r):JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]")}},E4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wr(()=>Promise.resolve().then(()=>js),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Nx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class T1 extends Nx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class I1 extends Nx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class D1 extends Nx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ty;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ty||(ty={}));var N4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class P4{constructor(t,{headers:n={},customFetch:r,region:i=ty.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=E4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return N4(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:s,signal:l}=r;let c={},{region:d}=r;d||(d=this.region);const f=new URL(`${this.url}/${n}`);d&&d!=="any"&&(c["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new T1(v)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new I1(p);if(!p.ok)throw new D1(p);let g=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield p.json():g==="application/octet-stream"?y=yield p.blob():g==="text/event-stream"?y=p:g==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new T1(a)}:{data:null,error:a,response:a instanceof D1||a instanceof I1?a.context:void 0}}})}}var sn={},Px={},ah={},_c={},oh={},sh={},O4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rs=O4();const A4=rs.fetch,eN=rs.fetch.bind(rs),tN=rs.Headers,T4=rs.Request,I4=rs.Response,js=Object.freeze(Object.defineProperty({__proto__:null,Headers:tN,Request:T4,Response:I4,default:eN,fetch:A4},Symbol.toStringTag,{value:"Module"})),D4=RR(js);var lh={};Object.defineProperty(lh,"__esModule",{value:!0});let R4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lh.default=R4;var nN=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sh,"__esModule",{value:!0});const M4=nN(D4),L4=nN(lh);let $4=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=M4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,c;let d=null,f=null,h=null,p=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{d=JSON.parse(y),Array.isArray(d)&&a.status===404&&(f=[],d=null,p=200,m="OK")}catch{a.status===404&&y===""?(p=204,m="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,m="OK"),d&&this.shouldThrowOnError)throw new L4.default(d)}return{error:d,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};sh.default=$4;var F4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oh,"__esModule",{value:!0});const z4=F4(sh);let U4=class extends z4.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};oh.default=U4;var B4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const W4=B4(oh);let H4=class extends W4.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};_c.default=H4;var K4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ah,"__esModule",{value:!0});const Qs=K4(_c);let q4=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},a=r?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",s),i&&this.headers.append("Prefer",`count=${i}`),new Qs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Qs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ah.default=q4;var rN=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Px,"__esModule",{value:!0});const V4=rN(ah),G4=rN(_c);let Y4=class iN{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new V4.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new G4.default({method:s,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Px.default=Y4;var Cs=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const aN=Cs(Px);sn.PostgrestClient=aN.default;const oN=Cs(ah);sn.PostgrestQueryBuilder=oN.default;const sN=Cs(_c);sn.PostgrestFilterBuilder=sN.default;const lN=Cs(oh);sn.PostgrestTransformBuilder=lN.default;const cN=Cs(sh);sn.PostgrestBuilder=cN.default;const uN=Cs(lh);sn.PostgrestError=uN.default;var J4=sn.default={PostgrestClient:aN.default,PostgrestQueryBuilder:oN.default,PostgrestFilterBuilder:sN.default,PostgrestTransformBuilder:lN.default,PostgrestBuilder:cN.default,PostgrestError:uN.default};const{PostgrestClient:X4,PostgrestQueryBuilder:Fce,PostgrestFilterBuilder:zce,PostgrestTransformBuilder:Uce,PostgrestBuilder:Bce,PostgrestError:Wce}=J4;class Q4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Z4="2.75.0",e3=`realtime-js/${Z4}`,t3="1.0.0",ny=1e4,n3=1e3,r3=100;var El;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(El||(El={}));var ft;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ft||(ft={}));var ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ur||(ur={}));var ry;(function(e){e.websocket="websocket"})(ry||(ry={}));var ka;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ka||(ka={}));class i3{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class dN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ze||(ze={}));const R1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=a3(o,e,t,i),a),{}):{}},a3=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?fN(a,o):iy(o)},fN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return c3(t,n)}switch(e){case ze.bool:return o3(t);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return s3(t);case ze.json:case ze.jsonb:return l3(t);case ze.timestamp:return u3(t);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return iy(t);default:return iy(t)}},iy=e=>e,o3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},s3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},l3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},c3=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>fN(t,s))}return e},u3=e=>typeof e=="string"?e.replace(" ","T"):e,hN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Qp{constructor(t,n,r={},i=ny){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var M1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(M1||(M1={}));class Nl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nl.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=Nl.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Nl.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const f=a[c];if(f){const h=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),m=d.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[c]=m),g.length>0&&(l[c]=g)}else s[c]=d}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const d=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),d.length>0){const f=t[s].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,d,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var L1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(L1||(L1={}));var Pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pl||(Pl={}));var Gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gr||(Gr={}));class Ox{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Qp(this,ur.join,this.params,this.timeout),this.rejoinTimer=new dN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ft.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Nl(this),this.broadcastEndpointURL=hN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ft.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Pl.PRESENCE]&&this.bindings[Pl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Gr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Gr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Gr.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:S,schema:j,table:k,filter:_}}=w,N=p&&p[b];if(N&&N.event===S&&N.schema===j&&N.table===k&&N.filter===_)v.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=ft.errored,t==null||t(Gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Gr.SUBSCRIBED);return}}).receive("error",p=>{this.state=ft.errored,t==null||t(Gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ft.joined&&t===Pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ft.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Qp(this,ur.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ft.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Qp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>r3){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:d}=ur;if(r&&[s,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,g,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===ft.closed}_isJoined(){return this.state===ft.joined}_isJoining(){return this.state===ft.joining}_isLeaving(){return this.state===ft.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ox.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ur.close,{},t)}_onError(t){this._on(ur.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ft.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=R1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=R1(t.columns,t.old_record)),n}}const Zp=()=>{},wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},d3=[1e3,2e3,5e3,1e4],f3=1e4,h3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p3{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ny,this.transport=null,this.heartbeatIntervalMs=wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zp,this.ref=0,this.reconnectTimer=null,this.logger=Zp,this.conn=null,this.sendBuffer=[],this.serializer=new i3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Wr(()=>Promise.resolve().then(()=>js),void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ry.websocket}`,this.httpEndpoint=hN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:t3}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case El.connecting:return ka.Connecting;case El.open:return ka.Open;case El.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Ox(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(n3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ur.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([h3],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:e3};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new dN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,c,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ny,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Zp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>d3[f-1]||f3,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ax extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function st(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class m3 extends Ax{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ay extends Ax{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var g3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const pN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wr(()=>Promise.resolve().then(()=>js),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},y3=()=>g3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wr(()=>Promise.resolve().then(()=>js),void 0)).Response:Response}),oy=e=>{if(Array.isArray(e))return e.map(n=>oy(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=oy(r)}),t},v3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ao=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const em=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x3=(e,t,n)=>ao(void 0,void 0,void 0,function*(){const r=yield y3();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new m3(em(i),a,o))}).catch(i=>{t(new ay(em(i),i))}):t(new ay(em(e),e))}),b3=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(v3(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ec(e,t,n,r,i,a){return ao(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,b3(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>x3(l,s,r))})})}function Ud(e,t,n,r){return ao(this,void 0,void 0,function*(){return Ec(e,"GET",t,n,r)})}function Or(e,t,n,r,i){return ao(this,void 0,void 0,function*(){return Ec(e,"POST",t,r,i,n)})}function sy(e,t,n,r,i){return ao(this,void 0,void 0,function*(){return Ec(e,"PUT",t,r,i,n)})}function w3(e,t,n,r){return ao(this,void 0,void 0,function*(){return Ec(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function mN(e,t,n,r,i){return ao(this,void 0,void 0,function*(){return Ec(e,"DELETE",t,r,i,n)})}var k3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class S3{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return k3(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var j3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class C3{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new S3(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return j3(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}}var tn=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const _3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E3{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=pN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return tn(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},$1),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(t=="PUT"?sy:Or)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(st(a))return{data:null,error:a};throw a}})}upload(t,n,r){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return tn(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:$1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield sy(this.fetch,s.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return tn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Or(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Ax("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(t,n,r){return tn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return tn(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}copy(t,n,r){return tn(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return tn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Or(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return tn(this,void 0,void 0,function*(){try{const i=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Ud(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new C3(l,this.shouldThrowOnError)}info(t){return tn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ud(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:oy(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(t){return tn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield w3(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof ay){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}remove(t){return tn(this,void 0,void 0,function*(){try{return{data:yield mN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(t,n,r){return tn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_3),n),{prefix:t||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}listV2(t,n){return tn(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const N3="2.75.0",P3={"X-Client-Info":`storage-js/${N3}`};var po=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class O3{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P3),n),this.fetch=pN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return po(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(st(t))return{data:null,error:t};throw t}})}getBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield Ud(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(t){return po(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return po(this,void 0,void 0,function*(){try{return{data:yield sy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(t){return po(this,void 0,void 0,function*(){try{return{data:yield mN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}class A3 extends O3{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new E3(this.url,this.headers,t,this.fetch)}}const T3="2.75.0";let ml="";typeof Deno<"u"?ml="deno":typeof document<"u"?ml="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ml="react-native":ml="node";const I3={"X-Client-Info":`supabase-js-${ml}/${T3}`},D3={headers:I3},R3={schema:"public"},M3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L3={};var $3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const F3=e=>{let t;return e?t=e:typeof fetch>"u"?t=eN:t=fetch,(...n)=>t(...n)},z3=()=>typeof Headers>"u"?tN:Headers,U3=(e,t,n)=>{const r=F3(n),i=z3();return(a,o)=>$3(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:c}))})};var B3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function W3(e){return e.endsWith("/")?e:e+"/"}function H3(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>B3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function K3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const gN="2.75.0",ko=30*1e3,ly=3,tm=ly*ko,q3="http://localhost:9999",V3="supabase.auth.token",G3={"X-Client-Info":`gotrue-js/${gN}`},cy="X-Supabase-Api-Version",yN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J3=10*60*1e3;class nc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class X3 extends nc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Q3(e){return de(e)&&e.name==="AuthApiError"}class Sa extends nc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ra extends nc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Ni extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Z3(e){return de(e)&&e.name==="AuthSessionMissingError"}class mo extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ku extends ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Su extends ra{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eF(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class F1 extends ra{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class uy extends ra{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function nm(e){return de(e)&&e.name==="AuthRetryableFetchError"}class z1 extends ra{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class dy extends ra{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),U1=` 	
\r=`.split(""),tF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<U1.length;t+=1)e[U1[t].charCodeAt(0)]=-2;for(let t=0;t<Bd.length;t+=1)e[Bd[t].charCodeAt(0)]=t;return e})();function B1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bd[r]),t.queuedBits-=6}}function vN(e,t,n){const r=tF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function W1(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{iF(o,r,n)};for(let o=0;o<e.length;o+=1)vN(e.charCodeAt(o),i,a);return t.join("")}function nF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function rF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}nF(r,t)}}function iF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function qo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)vN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function aF(e){const t=[];return rF(e,n=>t.push(n)),new Uint8Array(t)}function Na(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>B1(i,n,r)),B1(null,n,r),t.join("")}function oF(e){return Math.round(Date.now()/1e3)+e}function sF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const bn=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},xN=()=>{if(!bn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function lF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const bN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Wr(()=>Promise.resolve().then(()=>js),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",So=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ha=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_i=async(e,t)=>{await e.removeItem(t)};class ch{constructor(){this.promise=new ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ch.promiseConstructor=Promise;function rm(e){const t=e.split(".");if(t.length!==3)throw new dy("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Y3.test(t[r]))throw new dy("JWT not in base64url format");return{header:JSON.parse(W1(t[0])),payload:JSON.parse(W1(t[1])),signature:qo(t[2]),raw:{header:t[0],payload:t[1]}}}async function uF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dF(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function fF(e){return("0"+e.toString(16)).substr(-2)}function hF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,fF).join("")}async function pF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function mF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function go(e,t,n=!1){const r=hF();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await So(e,`${t}-code-verifier`,i);const a=await mF(r);return[a,r===a?"plain":"s256"]}const gF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yF(e){const t=e.headers.get(cy);if(!t||!t.match(gF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yo(e){if(!bF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function im(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function H1(e){return JSON.parse(JSON.stringify(e))}var wF=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),kF=[502,503,504];async function K1(e){var t;if(!cF(e))throw new uy(va(e),0);if(kF.includes(e.status))throw new uy(va(e),e.status);let n;try{n=await e.json()}catch(a){throw new Sa(va(a),a)}let r;const i=yF(e);if(i&&i.getTime()>=yN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new z1(va(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ni}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new z1(va(n),e.status,n.weak_password.reasons);throw new X3(va(n),e.status||500,r)}const SF=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ye(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[cy]||(a[cy]=yN["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await jF(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function jF(e,t,n,r,i,a){const o=SF(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new uy(va(l),0)}if(s.ok||await K1(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await K1(l)}}function sr(e){var t;let n=null;EF(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=oF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function q1(e){const t=sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ri(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CF(e){return{data:e,error:null}}function _F(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=wF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function V1(e){return e}function EF(e){return e.access_token&&e.refresh_token&&e.expires_in}const am=["global","local","others"];var NF=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class PF{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=bN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=am[0]){if(am.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${am.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ri})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=NF(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_F,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ri})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(de(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){yo(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ri})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yo(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ri})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yo(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ri})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yo(t.userId);try{const{data:n,error:r}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yo(t.userId),yo(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:V1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(de(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}}function G1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vo={debug:!!(globalThis&&xN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class OF extends wN{}async function AF(e,t,n){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw vo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new OF(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vo.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function TF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function IF(e){return parseInt(e,16)}function DF(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function RF(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=kN(e.address),m=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}class ot extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Wd extends ot{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function MF({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(jN(o)){if(a.rp.id!==o)return new ot({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function LF({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ot({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(jN(r)){if(n.rpId!==r)return new ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var SN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class $F{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const FF=new $F;function zF(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=SN(e,["challenge","user","excludeCredentials"]),a=qo(t).buffer,o=Object.assign(Object.assign({},n),{id:qo(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:qo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function UF(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=SN(e,["challenge","allowCredentials"]),i=qo(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:qo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function BF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Na(new Uint8Array(e.response.attestationObject)),clientDataJSON:Na(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WF(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Na(new Uint8Array(i.authenticatorData)),clientDataJSON:Na(new Uint8Array(i.clientDataJSON)),signature:Na(new Uint8Array(i.signature)),userHandle:i.userHandle?Na(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function jN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Y1(){var e,t;return!!(bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HF(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:MF({error:t,options:e})}}}async function KF(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:LF({error:t,options:e})}}}const qF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VF={userVerification:"preferred",hints:["security-key"]};function Hd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=Hd(s,o):r[a]=Hd(o)}else r[a]=o}return r}function GF(e,t){return Hd(qF,e,t||{})}function YF(e,t){return Hd(VF,e,t||{})}class JF{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??FF.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=GF(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await HF({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=YF(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await KF(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Sa("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn authentication")};try{if(!Y1())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Sa("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn registration")};try{if(!Y1())return{data:null,error:new Sa("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return de(o)?{data:null,error:o}:{data:null,error:new Sa("Unexpected error in register",o)}}}}TF();const XF={url:q3,storageKey:V3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function J1(e,t,n){return await n()}const xo={};class rc{get jwks(){var t,n;return(n=(t=xo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xo[this.storageKey]=Object.assign(Object.assign({},xo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xo[this.storageKey]=Object.assign(Object.assign({},xo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rc.nextInstanceID,rc.nextInstanceID+=1,this.instanceID>0&&bn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},XF),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PF({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bN(i.fetch),this.lock=i.lock||J1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:bn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=AF:this.lock=J1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new JF(this)},this.persistSession?(i.storage?this.storage=i.storage:xN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=G1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=G1(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),bn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),eF(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?{error:n}:{error:new Sa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:sr}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await go(this.storage,this.storageKey)),a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:sr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sr})}else throw new ku("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:q1})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:q1})}else throw new ku("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,c,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:v,options:b}=t;let w;if(bn())if(typeof y=="object")w=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=kN(j[0]);let _=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!_){const O=await w.request({method:"eth_chainId"});_=IF(O)}const N={domain:S.host,address:k,statement:v,uri:S.href,version:"1",chainId:_,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=RF(N),m=await w.request({method:"personal_sign",params:[DF(p),k]})}try{const{data:g,error:y}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sr});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new mo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(de(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var n,r,i,a,o,s,l,c,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let S;if(bn())if(typeof v=="object")S=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)m=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),g=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:v}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Na(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new mo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(de(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await ha(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:sr});if(await _i(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(de(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:sr}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await go(this.storage,this.storageKey));const{error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ku("You must provide either an email or phone number.")}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:sr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await go(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:CF})}catch(a){if(de(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ni;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new ku("You must provide either an email or phone number and a type")}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<tm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await ha(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=im()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ri}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ni}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ri})})}catch(n){if(de(n))return Z3(n)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new Ni;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await go(this.storage,this.storageKey));const{data:c,error:d}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Ri});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ni;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=rm(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(de(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ni;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!bn())throw new Su("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Su(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new F1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Su("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new F1("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Su("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=ko&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(de(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(Q3(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=sF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await go(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(de(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,c,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return bn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(de(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:d}=t,f=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sr}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new mo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dF(async i=>(i>0&&await uF(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&nm(a)&&Date.now()+o-r<ko})}catch(r){if(this._debug(n,"error",r),de(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),bn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ha(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await So(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:im()}else if(i&&!i.user&&!i.user){const o=await ha(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await _i(this.storage,this.storageKey+"-user"),await So(this.storage,this.storageKey,i)):i.user=im()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tm;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${tm}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),nm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ni;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ch;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ni;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),de(a)){const o={data:null,error:a};return nm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await So(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=H1(i);await So(this.storage,this.storageKey,a)}else{const i=H1(n);await So(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&bn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ko);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ko);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ko}ms, refresh threshold is ${ly} ticks`),i<=ly&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof wN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await go(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BF(t.webauthn.credential_response):WF(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:zF(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:UF(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rm(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+J3>i)return r;const{data:a,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=rm(r);n!=null&&n.allowExpired||vF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=xF(i.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,aF(`${s}.${l}`)))throw new dy("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}rc.nextInstanceID=0;const QF=rc;class ZF extends QF{constructor(t){super(t)}}var ez=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(f){o(f)}}function l(d){try{c(r.throw(d))}catch(f){o(f)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class tz{constructor(t,n,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const s=K3(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:R3,realtime:L3,auth:Object.assign(Object.assign({},M3),{storageKey:l}),global:D3},d=H3(r??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=U3(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new X4(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new A3(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new P4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return ez(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ZF({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new p3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nz=(e,t,n)=>new tz(e,t,n);function rz(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}rz()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let om=null,X1=null;const Le=()=>{const e=Q2(),t=`${e.url}:${e.anonKey}`;if(!om||X1!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set for current user. Please configure in Settings > Database.");om=nz(e.url,e.anonKey),X1=t,console.log("✅ Supabase client initialized for current user")}return om},iz=()=>Q2(),az=e=>{b4(e)},oz=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}};async function Tx(){try{const e=Le();console.log("Fetching admin feedback from Supabase...");const{data:t,error:n}=await e.from("admin_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch admin feedback: ${n.message}`);return console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} admin feedback records`),t||[]}catch(e){throw console.error("Failed to fetch admin feedback:",e),e}}async function Va(){try{const e=Le();console.log("Fetching user feedback from Supabase...");const{data:t,error:n}=await e.from("user_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch user feedback: ${n.message}`);return console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} user feedback records`),t||[]}catch(e){throw console.error("Failed to fetch user feedback:",e),e}}async function sz(e,t){try{const n=Le(),{data:r,error:i}=await n.from("user_feedback").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!1});if(i)throw console.error("Supabase error:",i),new Error(`Failed to fetch user feedback: ${i.message}`);return r||[]}catch(n){throw console.error("Failed to fetch user feedback by date range:",n),n}}async function lz(e){try{const t=Le(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(t){throw console.error("Error fetching admin feedback:",t),t}}async function Ix(e,t,n,r){try{const i=Le();console.log("Submitting user feedback:",{chatId:e,userId:t,reaction:n,feedbackText:r});const a={chat_id:e,user_id:t,reaction:n,feedback_text:r||null},{data:o,error:s}=await i.from("user_feedback").insert([a]).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit user feedback: ${s.message}`);return console.log("✅ User feedback submitted:",o),o}catch(i){throw console.error("Failed to submit user feedback:",i),i}}async function Kd(e){try{const t=Le(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).maybeSingle();if(r)throw console.error("Error fetching admin feedback:",r),r;return n}catch(t){return console.error("Error fetching admin feedback by chat:",t),null}}async function CN(e,t,n,r){try{const i=Le();console.log("Submitting admin feedback:",{chatId:e,verdict:t,feedbackText:n,correctedResponse:r});const a=await Kd(e);let o,s;if(a){const l={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},c=await i.from("admin_feedback").update(l).eq("chat_id",e).select().maybeSingle();o=c.data,s=c.error}else{const l={chat_id:e,feedback_verdict:t,feedback_text:n||null,corrected_response:r||null},c=await i.from("admin_feedback").insert([l]).select().maybeSingle();o=c.data,s=c.error}if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit admin feedback: ${s.message}`);return console.log("✅ Admin feedback submitted:",o),o}catch(i){throw console.error("Failed to submit admin feedback:",i),i}}async function cz(e,t,n,r){try{const i=Le();console.log("Updating admin feedback:",{id:e,verdict:t,feedbackText:n,correctedResponse:r});const a={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},{data:o,error:s}=await i.from("admin_feedback").update(a).eq("id",e).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to update admin feedback: ${s.message}`);return console.log("✅ Admin feedback updated:",o),o}catch(i){throw console.error("Failed to update admin feedback:",i),i}}async function uz(e,t){try{const n=Le();console.log("Updating admin feedback field:",{id:e,updates:t});const{data:r,error:i}=await n.from("admin_feedback").update(t).eq("id",e).select().single();if(i)throw console.error("Supabase error:",i),new Error(`Failed to update admin feedback: ${i.message}`);return console.log("✅ Admin feedback field updated:",r),r}catch(n){throw console.error("Failed to update admin feedback field:",n),n}}const dz=Object.freeze(Object.defineProperty({__proto__:null,fetchAllAdminFeedback:Tx,fetchAllUserFeedback:Va,fetchUserFeedbackByDateRange:sz,getAdminFeedback:lz,getAdminFeedbackByChat:Kd,submitAdminFeedback:CN,submitUserFeedback:Ix,updateAdminFeedback:cz,updateAdminFeedbackField:uz},Symbol.toStringTag,{value:"Module"})),fz=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(!1),[s,l]=x.useState(null),c=x.useCallback(async()=>{try{if(i(!0),l(null),await Zr()){const m=await A1.getMessages(e);n(m)}else{const m=JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]");console.log("Loading local messages for session:",e,m),n(m)}}catch(p){l(p instanceof Error?p.message:"Failed to fetch messages")}finally{i(!1)}},[e]);x.useEffect(()=>{c()},[c]);const d=p=>{const m=p.split(`
`)[0];return(m.length>50?m.substring(0,50)+"...":m)||"New Chat"},f=x.useCallback(async p=>{if(!p.trim())return;console.log("=== SEND MESSAGE START ==="),console.log("Session ID:",e),console.log("Content:",p),o(!0),l(null);const m={id:`user-${Date.now()}`,sessionId:e,role:"user",content:p,meta:{},createdAt:new Date().toISOString()};n(w=>(console.log("Adding user message:",m),[...w,m]));const g=`assistant-${Date.now()}`;n(w=>{const S={id:g,sessionId:e,role:"assistant",content:"",createdAt:new Date().toISOString(),meta:{isStreaming:!0}};return console.log("Created new assistant message:",S),[...w,S]});let y="",v,b=[];try{console.log("Calling chatService.sendMessage...");const w=await A1.sendMessage(e,p,j=>{console.log("=== STREAM EVENT ==="),console.log("Event type:",j.type),console.log("Event text:",j.text),console.log("Event messageId:",j.messageId),console.log("==================="),j.type==="delta"&&j.text?(y+=j.text,n(k=>k.map(_=>{if(_.id===g){const N=(_.content||"")+j.text;return console.log("Updated assistant message content:",N),{..._,content:N}}return _}))):j.type==="final"&&(v=j.messageId,b=j.citations,console.log("Final event received - messageId:",j.messageId,"citations:",j.citations))});if(console.log("Chat service result:",w),n(j=>j.map(k=>{if(k.id===g){const N={...k,id:v||g,content:y||"No response received",citations:b,meta:{isStreaming:!1}};return console.log("Final assistant message:",N),N}return k})),!await Zr()){const j=[...t.filter(N=>!N.id.startsWith("temp-")),m,{id:v||g,sessionId:e,role:"assistant",content:y||"No response received",meta:{isStreaming:!1},createdAt:new Date().toISOString(),citations:b}];console.log("Saving to localStorage:",j),localStorage.setItem(`axpro_sim_messages_${e}`,JSON.stringify(j));const k=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),_=k.find(N=>N.id===e);if(_&&_.title==="New Chat"&&t.length===0){const N=d(p);_.title=N,_.updatedAt=new Date().toISOString(),localStorage.setItem("axpro_sim_sessions",JSON.stringify(k)),console.log("Auto-generated title:",N),window.dispatchEvent(new Event("sessionUpdated"))}}}catch(w){console.error("Error in sendMessage:",w),l(w instanceof Error?w.message:"Failed to send message"),n(j=>j.filter(k=>k.id!==g));const S={id:`error-${Date.now()}`,sessionId:e,role:"assistant",content:w instanceof Error?w.message:"Failed to send message",meta:{},createdAt:new Date().toISOString()};n(j=>[...j,S])}finally{o(!1),console.log("=== SEND MESSAGE END ===")}},[e,t]),h=x.useCallback(async(p,m,g)=>{try{const y=Gt();if(!y||!y.userId)throw console.error("No user session found"),new Error("Please log in to submit feedback");if(!t.find(S=>S.id===p))throw console.error("Message not found:",p),new Error("Message not found");const b=p,w=m===1?"good":"bad";console.log("Submitting feedback:",{chatId:b,userId:y.userId,reaction:w,feedbackText:g}),await Ix(b,y.userId,w,g),console.log("✅ Feedback submitted successfully")}catch(y){throw console.error("Failed to submit feedback:",y),y}},[t]);return{messages:t,loading:r,sending:a,error:s,sendMessage:f,submitFeedback:h}};function hz(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const pz=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mz=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gz={};function Q1(e,t){return((t||gz).jsx?mz:pz).test(e)}const yz=/[ \t\n\f\r]/g;function vz(e){return typeof e=="object"?e.type==="text"?Z1(e.value):!1:Z1(e)}function Z1(e){return e.replace(yz,"")===""}class Nc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Nc.prototype.normal={};Nc.prototype.property={};Nc.prototype.space=void 0;function _N(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Nc(n,r,t)}function fy(e){return e.toLowerCase()}class mn{constructor(t,n){this.attribute=n,this.property=t}}mn.prototype.attribute="";mn.prototype.booleanish=!1;mn.prototype.boolean=!1;mn.prototype.commaOrSpaceSeparated=!1;mn.prototype.commaSeparated=!1;mn.prototype.defined=!1;mn.prototype.mustUseProperty=!1;mn.prototype.number=!1;mn.prototype.overloadedBoolean=!1;mn.prototype.property="";mn.prototype.spaceSeparated=!1;mn.prototype.space=void 0;let xz=0;const xe=oo(),at=oo(),hy=oo(),te=oo(),Ue=oo(),Vo=oo(),xn=oo();function oo(){return 2**++xz}const py=Object.freeze(Object.defineProperty({__proto__:null,boolean:xe,booleanish:at,commaOrSpaceSeparated:xn,commaSeparated:Vo,number:te,overloadedBoolean:hy,spaceSeparated:Ue},Symbol.toStringTag,{value:"Module"})),sm=Object.keys(py);class Dx extends mn{constructor(t,n,r,i){let a=-1;if(super(t,n),ek(this,"space",i),typeof r=="number")for(;++a<sm.length;){const o=sm[a];ek(this,sm[a],(r&py[o])===py[o])}}}Dx.prototype.defined=!0;function ek(e,t,n){n&&(e[t]=n)}function _s(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new Dx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[fy(r)]=r,n[fy(a.attribute)]=r}return new Nc(t,n,e.space)}const EN=_s({properties:{ariaActiveDescendant:null,ariaAtomic:at,ariaAutoComplete:null,ariaBusy:at,ariaChecked:at,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:Ue,ariaCurrent:null,ariaDescribedBy:Ue,ariaDetails:null,ariaDisabled:at,ariaDropEffect:Ue,ariaErrorMessage:null,ariaExpanded:at,ariaFlowTo:Ue,ariaGrabbed:at,ariaHasPopup:null,ariaHidden:at,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ue,ariaLevel:te,ariaLive:null,ariaModal:at,ariaMultiLine:at,ariaMultiSelectable:at,ariaOrientation:null,ariaOwns:Ue,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:at,ariaReadOnly:at,ariaRelevant:null,ariaRequired:at,ariaRoleDescription:Ue,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:at,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function NN(e,t){return t in e?e[t]:t}function PN(e,t){return NN(e,t.toLowerCase())}const bz=_s({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vo,acceptCharset:Ue,accessKey:Ue,action:null,allow:null,allowFullScreen:xe,allowPaymentRequest:xe,allowUserMedia:xe,alt:null,as:null,async:xe,autoCapitalize:null,autoComplete:Ue,autoFocus:xe,autoPlay:xe,blocking:Ue,capture:null,charSet:null,checked:xe,cite:null,className:Ue,cols:te,colSpan:null,content:null,contentEditable:at,controls:xe,controlsList:Ue,coords:te|Vo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xe,defer:xe,dir:null,dirName:null,disabled:xe,download:hy,draggable:at,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xe,formTarget:null,headers:Ue,height:te,hidden:hy,high:te,href:null,hrefLang:null,htmlFor:Ue,httpEquiv:Ue,id:null,imageSizes:null,imageSrcSet:null,inert:xe,inputMode:null,integrity:null,is:null,isMap:xe,itemId:null,itemProp:Ue,itemRef:Ue,itemScope:xe,itemType:Ue,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xe,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:xe,muted:xe,name:null,nonce:null,noModule:xe,noValidate:xe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xe,optimum:te,pattern:null,ping:Ue,placeholder:null,playsInline:xe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xe,referrerPolicy:null,rel:Ue,required:xe,reversed:xe,rows:te,rowSpan:te,sandbox:Ue,scope:null,scoped:xe,seamless:xe,selected:xe,shadowRootClonable:xe,shadowRootDelegatesFocus:xe,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:at,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:xe,useMap:null,value:at,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ue,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xe,declare:xe,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:xe,noHref:xe,noShade:xe,noWrap:xe,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:at,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xe,disableRemotePlayback:xe,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:PN}),wz=_s({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xn,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:Ue,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:xe,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vo,g2:Vo,glyphName:Vo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:xn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ue,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xn,rev:xn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xn,requiredFeatures:xn,requiredFonts:xn,requiredFormats:xn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:xn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xn,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:NN}),ON=_s({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),AN=_s({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:PN}),TN=_s({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),kz={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Sz=/[A-Z]/g,tk=/-[a-z]/g,jz=/^data[-\w.:]+$/i;function Cz(e,t){const n=fy(t);let r=t,i=mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&jz.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(tk,Ez);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!tk.test(a)){let o=a.replace(Sz,_z);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Dx}return new i(r,t)}function _z(e){return"-"+e.toLowerCase()}function Ez(e){return e.charAt(1).toUpperCase()}const Nz=_N([EN,bz,ON,AN,TN],"html"),Rx=_N([EN,wz,ON,AN,TN],"svg");function Pz(e){return e.join(" ").trim()}var Mx={},nk=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Oz=/\n/g,Az=/^\s*/,Tz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Iz=/^:\s*/,Dz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Rz=/^[;\s]*/,Mz=/^\s+|\s+$/g,Lz=`
`,rk="/",ik="*",ja="",$z="comment",Fz="declaration",zz=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(Oz);g&&(n+=g.length);var y=m.lastIndexOf(Lz);r=~y?m.length-y:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),c(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(Az)}function d(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(rk!=e.charAt(0)||ik!=e.charAt(1))){for(var g=2;ja!=e.charAt(g)&&(ik!=e.charAt(g)||rk!=e.charAt(g+1));)++g;if(g+=2,ja===e.charAt(g-1))return s("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,m({type:$z,comment:y})}}function h(){var m=a(),g=l(Tz);if(g){if(f(),!l(Iz))return s("property missing ':'");var y=l(Dz),v=m({type:Fz,property:ak(g[0].replace(nk,ja)),value:y?ak(y[0].replace(nk,ja)):ja});return l(Rz),v}}function p(){var m=[];d(m);for(var g;g=h();)g!==!1&&(m.push(g),d(m));return m}return c(),p()};function ak(e){return e?e.replace(Mz,ja):ja}var Uz=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.default=Wz;var Bz=Uz(zz);function Wz(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Bz.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,s=a.value;i?t(o,s,a):s&&(n=n||{},n[o]=s)}}),n}var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.camelCase=void 0;var Hz=/^--[a-zA-Z0-9_-]+$/,Kz=/-([a-z])/g,qz=/^[^-]+$/,Vz=/^-(webkit|moz|ms|o|khtml)-/,Gz=/^-(ms)-/,Yz=function(e){return!e||qz.test(e)||Hz.test(e)},Jz=function(e,t){return t.toUpperCase()},ok=function(e,t){return"".concat(t,"-")},Xz=function(e,t){return t===void 0&&(t={}),Yz(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Gz,ok):e=e.replace(Vz,ok),e.replace(Kz,Jz))};uh.camelCase=Xz;var Qz=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Zz=Qz(Mx),eU=uh;function my(e,t){var n={};return!e||typeof e!="string"||(0,Zz.default)(e,function(r,i){r&&i&&(n[(0,eU.camelCase)(r,t)]=i)}),n}my.default=my;var tU=my;const nU=Rn(tU),IN=DN("end"),Lx=DN("start");function DN(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function rU(e){const t=Lx(e),n=IN(e);if(t&&n)return{start:t,end:n}}function Ol(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?sk(e.position):"start"in e||"end"in e?sk(e):"line"in e||"column"in e?gy(e):""}function gy(e){return lk(e&&e.line)+":"+lk(e&&e.column)}function sk(e){return gy(e&&e.start)+"-"+gy(e&&e.end)}function lk(e){return e&&typeof e=="number"?e:1}class Bt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ol(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Bt.prototype.file="";Bt.prototype.name="";Bt.prototype.reason="";Bt.prototype.message="";Bt.prototype.stack="";Bt.prototype.column=void 0;Bt.prototype.line=void 0;Bt.prototype.ancestors=void 0;Bt.prototype.cause=void 0;Bt.prototype.fatal=void 0;Bt.prototype.place=void 0;Bt.prototype.ruleId=void 0;Bt.prototype.source=void 0;const $x={}.hasOwnProperty,iU=new Map,aU=/[A-Z]/g,oU=new Set(["table","tbody","thead","tfoot","tr"]),sU=new Set(["td","th"]),RN="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function lU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=gU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=mU(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Rx:Nz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=MN(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function MN(e,t,n){if(t.type==="element")return cU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return uU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return fU(e,t,n);if(t.type==="mdxjsEsm")return dU(e,t);if(t.type==="root")return hU(e,t,n);if(t.type==="text")return pU(e,t)}function cU(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Rx,e.schema=i),e.ancestors.push(t);const a=$N(e,t.tagName,!1),o=yU(e,t);let s=zx(e,t);return oU.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!vz(l):!0})),LN(e,o,a,t),Fx(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function uU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ic(e,t.position)}function dU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ic(e,t.position)}function fU(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Rx,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:$N(e,t.name,!0),o=vU(e,t),s=zx(e,t);return LN(e,o,a,t),Fx(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function hU(e,t,n){const r={};return Fx(r,zx(e,t)),e.create(t,e.Fragment,r,n)}function pU(e,t){return t.value}function LN(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Fx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function mU(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function gU(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=Lx(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function yU(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&$x.call(t.properties,i)){const a=xU(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&sU.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function vU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else ic(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else ic(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function zx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:iU;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=MN(e,a,o);s!==void 0&&n.push(s)}return n}function xU(e,t,n){const r=Cz(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?hz(n):Pz(n)),r.property==="style"){let i=typeof n=="object"?n:bU(e,String(n));return e.stylePropertyNameCase==="css"&&(i=wU(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?kz[r.property]||r.property:r.attribute,n]}}function bU(e,t){try{return nU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Bt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=RN+"#cannot-parse-style-attribute",i}}function $N(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=Q1(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=Q1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return $x.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ic(e)}function ic(e,t){const n=new Bt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=RN+"#cannot-handle-mdx-estrees-without-createevaluater",n}function wU(e){const t={};let n;for(n in e)$x.call(e,n)&&(t[kU(n)]=e[n]);return t}function kU(e){let t=e.replace(aU,SU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function SU(e){return"-"+e.toLowerCase()}const lm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jU={};function Ux(e,t){const n=t||jU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return FN(e,r,i)}function FN(e,t,n){if(CU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ck(e.children,t,n)}return Array.isArray(e)?ck(e,t,n):""}function ck(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=FN(e[i],t,n);return r.join("")}function CU(e){return!!(e&&typeof e=="object")}const uk=document.createElement("i");function Bx(e){const t="&"+e+";";uk.innerHTML=t;const n=uk.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Pn(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Yn(e,t){return e.length>0?(Pn(e,e.length,0,t),e):t}const dk={}.hasOwnProperty;function zN(e){const t={};let n=-1;for(;++n<e.length;)_U(t,e[n]);return t}function _U(e,t){let n;for(n in t){const i=(dk.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){dk.call(i,o)||(i[o]=[]);const s=a[o];EU(i[o],Array.isArray(s)?s:s?[s]:[])}}}function EU(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Pn(e,0,0,r)}function UN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function yr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Kt=ia(/[A-Za-z]/),Ft=ia(/[\dA-Za-z]/),NU=ia(/[#-'*+\--9=?A-Z^-~]/);function qd(e){return e!==null&&(e<32||e===127)}const yy=ia(/\d/),PU=ia(/[\dA-Fa-f]/),OU=ia(/[!-/:-@[-`{-~]/);function fe(e){return e!==null&&e<-2}function Me(e){return e!==null&&(e<0||e===32)}function be(e){return e===-2||e===-1||e===32}const dh=ia(/\p{P}|\p{S}/u),Ga=ia(/\s/);function ia(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Es(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Ft(e.charCodeAt(n+1))&&Ft(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Ce(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return be(l)?(e.enter(n),s(l)):t(l)}function s(l){return be(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const AU={tokenize:TU};function TU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Ce(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return fe(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const IU={tokenize:DU},fk={tokenize:RU};function DU(e){const t=this,n=[];let r=0,i,a,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let j=S,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}v(r);let _=S;for(;_<t.events.length;)t.events[_][1].end={...k},_++;return Pn(t.events,j+1,0,t.events.slice(S)),t.events.length=_,c(w)}return s(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(fk,d,f)(w)}function d(w){return i&&b(),v(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(fk,p,m)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return fe(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),g)}function y(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const _=t.events.length;let N=_,O,E;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(O){E=t.events[N][1].end;break}O=!0}for(v(r),k=_;k<t.events.length;)t.events[k][1].end={...E},k++;Pn(t.events,N+1,0,t.events.slice(_)),t.events.length=k}}function v(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function RU(e,t,n){return Ce(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function is(e){if(e===null||Me(e)||Ga(e))return 1;if(dh(e))return 2}function fh(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const vy={name:"attention",resolveAll:MU,tokenize:LU};function MU(e,t){let n=-1,r,i,a,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};hk(f,-l),hk(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Yn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Yn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Yn(c,fh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Yn(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Yn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Pn(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function LU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=is(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=is(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(d||!f)),t(l)}}function hk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const $U={name:"autolink",tokenize:FU};function FU(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Kt(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Ft(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||Ft(p))&&r++<32?(e.consume(p),s):(r=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||qd(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),d):NU(p)?(e.consume(p),c):n(p)}function d(p){return Ft(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,d):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Ft(p))&&r++<63){const m=p===45?h:f;return e.consume(p),m}return n(p)}}const Pc={partial:!0,tokenize:zU};function zU(e,t,n){return r;function r(a){return be(a)?Ce(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||fe(a)?t(a):n(a)}}const BN={continuation:{tokenize:BU},exit:WU,name:"blockQuote",tokenize:UU};function UU(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return be(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function BU(e,t,n){const r=this;return i;function i(o){return be(o)?Ce(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(BN,t,n)(o)}}function WU(e){e.exit("blockQuote")}const WN={name:"characterEscape",tokenize:HU};function HU(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return OU(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const HN={name:"characterReference",tokenize:KU};function KU(e,t,n){const r=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Ft,d(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=PU,d):(e.enter("characterReferenceValue"),a=7,o=yy,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return o===Ft&&!Bx(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):n(f)}}const pk={partial:!0,tokenize:VU},mk={concrete:!0,name:"codeFenced",tokenize:qU};function qU(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,o=0,s;return l;function l(k){return c(k)}function c(k){const _=r.events[r.events.length-1];return a=_&&_[1].type==="linePrefix"?_[2].sliceSerialize(_[1],!0).length:0,s=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===s?(o++,e.consume(k),d):o<3?n(k):(e.exit("codeFencedFenceSequence"),be(k)?Ce(e,f,"whitespace")(k):f(k))}function f(k){return k===null||fe(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(pk,g,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||fe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):be(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ce(e,p,"whitespace")(k)):k===96&&k===s?n(k):(e.consume(k),h)}function p(k){return k===null||fe(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||fe(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===s?n(k):(e.consume(k),m)}function g(k){return e.attempt(i,S,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),v}function v(k){return a>0&&be(k)?Ce(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||fe(k)?e.check(pk,g,S)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||fe(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),w)}function S(k){return e.exit("codeFenced"),t(k)}function j(k,_,N){let O=0;return E;function E(z){return k.enter("lineEnding"),k.consume(z),k.exit("lineEnding"),T}function T(z){return k.enter("codeFencedFence"),be(z)?Ce(k,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):M(z)}function M(z){return z===s?(k.enter("codeFencedFenceSequence"),$(z)):N(z)}function $(z){return z===s?(O++,k.consume(z),$):O>=o?(k.exit("codeFencedFenceSequence"),be(z)?Ce(k,I,"whitespace")(z):I(z)):N(z)}function I(z){return z===null||fe(z)?(k.exit("codeFencedFence"),_(z)):N(z)}}}function VU(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const cm={name:"codeIndented",tokenize:YU},GU={partial:!0,tokenize:JU};function YU(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Ce(e,a,"linePrefix",4+1)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fe(c)?e.attempt(GU,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||fe(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function JU(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Ce(e,a,"linePrefix",4+1)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):fe(o)?i(o):n(o)}}const XU={name:"codeText",previous:ZU,resolve:QU,tokenize:e5};function QU(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function ZU(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function e5(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):fe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||fe(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class t5{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Zs(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Zs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Zs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Zs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Zs(this.left,n.reverse())}}}function Zs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function KN(e){const t={};let n=-1,r,i,a,o,s,l,c;const d=new t5(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,n5(d,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return Pn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function n5(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let d,f,h=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(g=h+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const v=s.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const r5={resolve:a5,tokenize:o5},i5={partial:!0,tokenize:s5};function a5(e){return KN(e),e}function o5(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):fe(s)?e.check(i5,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function s5(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ce(e,a,"linePrefix")}function a(o){if(o===null||fe(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function qN(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||qd(v)?n(v):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(s),h(v)):v===null||v===60||fe(v)?n(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function g(v){return!d&&(v===null||v===41||Me(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(v)):d<c&&v===40?(e.consume(v),d++,g):v===41?(e.consume(v),d--,g):v===null||v===32||v===40||qd(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function VN(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),d}function d(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):fe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||fe(p)||s++>999?(e.exit("chunkString"),d(p)):(e.consume(p),l||(l=!be(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function GN(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?n(h):fe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Ce(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===o||h===null||fe(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:d)}function f(h){return h===o||h===92?(e.consume(h),d):d(h)}}function Al(e,t){let n;return r;function r(i){return fe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):be(i)?Ce(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const l5={name:"definition",tokenize:u5},c5={partial:!0,tokenize:d5};function u5(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return VN.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=yr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Me(p)?Al(e,c)(p):c(p)}function c(p){return qN(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return e.attempt(c5,f,f)(p)}function f(p){return be(p)?Ce(e,h,"whitespace")(p):h(p)}function h(p){return p===null||fe(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function d5(e,t,n){return r;function r(s){return Me(s)?Al(e,i)(s):n(s)}function i(s){return GN(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return be(s)?Ce(e,o,"whitespace")(s):o(s)}function o(s){return s===null||fe(s)?t(s):n(s)}}const f5={name:"hardBreakEscape",tokenize:h5};function h5(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return fe(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const p5={name:"headingAtx",resolve:m5,tokenize:g5};function m5(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Pn(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function g5(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Me(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||fe(d)?(e.exit("atxHeading"),t(d)):be(d)?Ce(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Me(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const y5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gk=["pre","script","style","textarea"],v5={concrete:!0,name:"htmlFlow",resolveTo:w5,tokenize:k5},x5={partial:!0,tokenize:j5},b5={partial:!0,tokenize:S5};function w5(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function k5(e,t,n){const r=this;let i,a,o,s,l;return c;function c(A){return d(A)}function d(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),f}function f(A){return A===33?(e.consume(A),h):A===47?(e.consume(A),a=!0,g):A===63?(e.consume(A),i=3,r.interrupt?t:C):Kt(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function h(A){return A===45?(e.consume(A),i=2,p):A===91?(e.consume(A),i=5,s=0,m):Kt(A)?(e.consume(A),i=4,r.interrupt?t:C):n(A)}function p(A){return A===45?(e.consume(A),r.interrupt?t:C):n(A)}function m(A){const U="CDATA[";return A===U.charCodeAt(s++)?(e.consume(A),s===U.length?r.interrupt?t:M:m):n(A)}function g(A){return Kt(A)?(e.consume(A),o=String.fromCharCode(A),y):n(A)}function y(A){if(A===null||A===47||A===62||Me(A)){const U=A===47,Q=o.toLowerCase();return!U&&!a&&gk.includes(Q)?(i=1,r.interrupt?t(A):M(A)):y5.includes(o.toLowerCase())?(i=6,U?(e.consume(A),v):r.interrupt?t(A):M(A)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(A):a?b(A):w(A))}return A===45||Ft(A)?(e.consume(A),o+=String.fromCharCode(A),y):n(A)}function v(A){return A===62?(e.consume(A),r.interrupt?t:M):n(A)}function b(A){return be(A)?(e.consume(A),b):E(A)}function w(A){return A===47?(e.consume(A),E):A===58||A===95||Kt(A)?(e.consume(A),S):be(A)?(e.consume(A),w):E(A)}function S(A){return A===45||A===46||A===58||A===95||Ft(A)?(e.consume(A),S):j(A)}function j(A){return A===61?(e.consume(A),k):be(A)?(e.consume(A),j):w(A)}function k(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(e.consume(A),l=A,_):be(A)?(e.consume(A),k):N(A)}function _(A){return A===l?(e.consume(A),l=null,O):A===null||fe(A)?n(A):(e.consume(A),_)}function N(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||Me(A)?j(A):(e.consume(A),N)}function O(A){return A===47||A===62||be(A)?w(A):n(A)}function E(A){return A===62?(e.consume(A),T):n(A)}function T(A){return A===null||fe(A)?M(A):be(A)?(e.consume(A),T):n(A)}function M(A){return A===45&&i===2?(e.consume(A),B):A===60&&i===1?(e.consume(A),Y):A===62&&i===4?(e.consume(A),Z):A===63&&i===3?(e.consume(A),C):A===93&&i===5?(e.consume(A),R):fe(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(x5,H,$)(A)):A===null||fe(A)?(e.exit("htmlFlowData"),$(A)):(e.consume(A),M)}function $(A){return e.check(b5,I,H)(A)}function I(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),z}function z(A){return A===null||fe(A)?$(A):(e.enter("htmlFlowData"),M(A))}function B(A){return A===45?(e.consume(A),C):M(A)}function Y(A){return A===47?(e.consume(A),o="",D):M(A)}function D(A){if(A===62){const U=o.toLowerCase();return gk.includes(U)?(e.consume(A),Z):M(A)}return Kt(A)&&o.length<8?(e.consume(A),o+=String.fromCharCode(A),D):M(A)}function R(A){return A===93?(e.consume(A),C):M(A)}function C(A){return A===62?(e.consume(A),Z):A===45&&i===2?(e.consume(A),C):M(A)}function Z(A){return A===null||fe(A)?(e.exit("htmlFlowData"),H(A)):(e.consume(A),Z)}function H(A){return e.exit("htmlFlow"),t(A)}}function S5(e,t,n){const r=this;return i;function i(o){return fe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function j5(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Pc,t,n)}}const C5={name:"htmlText",tokenize:_5};function _5(e,t,n){const r=this;let i,a,o;return s;function s(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),l}function l(C){return C===33?(e.consume(C),c):C===47?(e.consume(C),j):C===63?(e.consume(C),w):Kt(C)?(e.consume(C),N):n(C)}function c(C){return C===45?(e.consume(C),d):C===91?(e.consume(C),a=0,m):Kt(C)?(e.consume(C),b):n(C)}function d(C){return C===45?(e.consume(C),p):n(C)}function f(C){return C===null?n(C):C===45?(e.consume(C),h):fe(C)?(o=f,Y(C)):(e.consume(C),f)}function h(C){return C===45?(e.consume(C),p):f(C)}function p(C){return C===62?B(C):C===45?h(C):f(C)}function m(C){const Z="CDATA[";return C===Z.charCodeAt(a++)?(e.consume(C),a===Z.length?g:m):n(C)}function g(C){return C===null?n(C):C===93?(e.consume(C),y):fe(C)?(o=g,Y(C)):(e.consume(C),g)}function y(C){return C===93?(e.consume(C),v):g(C)}function v(C){return C===62?B(C):C===93?(e.consume(C),v):g(C)}function b(C){return C===null||C===62?B(C):fe(C)?(o=b,Y(C)):(e.consume(C),b)}function w(C){return C===null?n(C):C===63?(e.consume(C),S):fe(C)?(o=w,Y(C)):(e.consume(C),w)}function S(C){return C===62?B(C):w(C)}function j(C){return Kt(C)?(e.consume(C),k):n(C)}function k(C){return C===45||Ft(C)?(e.consume(C),k):_(C)}function _(C){return fe(C)?(o=_,Y(C)):be(C)?(e.consume(C),_):B(C)}function N(C){return C===45||Ft(C)?(e.consume(C),N):C===47||C===62||Me(C)?O(C):n(C)}function O(C){return C===47?(e.consume(C),B):C===58||C===95||Kt(C)?(e.consume(C),E):fe(C)?(o=O,Y(C)):be(C)?(e.consume(C),O):B(C)}function E(C){return C===45||C===46||C===58||C===95||Ft(C)?(e.consume(C),E):T(C)}function T(C){return C===61?(e.consume(C),M):fe(C)?(o=T,Y(C)):be(C)?(e.consume(C),T):O(C)}function M(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,$):fe(C)?(o=M,Y(C)):be(C)?(e.consume(C),M):(e.consume(C),I)}function $(C){return C===i?(e.consume(C),i=void 0,z):C===null?n(C):fe(C)?(o=$,Y(C)):(e.consume(C),$)}function I(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Me(C)?O(C):(e.consume(C),I)}function z(C){return C===47||C===62||Me(C)?O(C):n(C)}function B(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function Y(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),D}function D(C){return be(C)?Ce(e,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):R(C)}function R(C){return e.enter("htmlTextData"),o(C)}}const Wx={name:"labelEnd",resolveAll:O5,resolveTo:A5,tokenize:T5},E5={tokenize:I5},N5={tokenize:D5},P5={tokenize:R5};function O5(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Pn(e,0,e.length,n),e}function A5(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Yn(s,e.slice(a+1,a+r+3)),s=Yn(s,[["enter",d,t]]),s=Yn(s,fh(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Yn(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Yn(s,e.slice(o+1)),s=Yn(s,[["exit",l,t]]),Pn(e,a,e.length,s),e}function T5(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?f(h):(o=r.parser.defined.includes(yr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(E5,d,o?d:f)(h):h===91?e.attempt(N5,d,o?c:f)(h):o?d(h):f(h)}function c(h){return e.attempt(P5,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function I5(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Me(f)?Al(e,a)(f):a(f)}function a(f){return f===41?d(f):qN(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Me(f)?Al(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?GN(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function c(f){return Me(f)?Al(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function D5(e,t,n){const r=this;return i;function i(s){return VN.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(yr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function R5(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const M5={name:"labelStartImage",resolveAll:Wx.resolveAll,tokenize:L5};function L5(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const $5={name:"labelStartLink",resolveAll:Wx.resolveAll,tokenize:F5};function F5(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const um={name:"lineEnding",tokenize:z5};function z5(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ce(e,t,"linePrefix")}}const ad={name:"thematicBreak",tokenize:U5};function U5(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fe(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),be(c)?Ce(e,s,"whitespace")(c):s(c))}}const nn={continuation:{tokenize:K5},exit:V5,name:"list",tokenize:H5},B5={partial:!0,tokenize:G5},W5={partial:!0,tokenize:q5};function H5(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:yy(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(ad,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return yy(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Pc,r.interrupt?n:d,e.attempt(B5,h,f))}function d(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return be(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function K5(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Pc,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ce(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!be(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(W5,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ce(e,e.attempt(nn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function q5(e,t,n){const r=this;return Ce(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function V5(e){e.exit(this.containerState.type)}function G5(e,t,n){const r=this;return Ce(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const o=r.events[r.events.length-1];return!be(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const yk={name:"setextUnderline",resolveTo:Y5,tokenize:J5};function Y5(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function J5(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),be(c)?Ce(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fe(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const X5={tokenize:Q5};function Q5(e){const t=this,n=e.attempt(Pc,r,e.attempt(this.parser.constructs.flowInitial,i,Ce(e,e.attempt(this.parser.constructs.flow,i,e.attempt(r5,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Z5={resolveAll:JN()},eB=YN("string"),tB=YN("text");function YN(e){return{resolveAll:JN(e==="text"?nB:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function JN(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function nB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const rB={42:nn,43:nn,45:nn,48:nn,49:nn,50:nn,51:nn,52:nn,53:nn,54:nn,55:nn,56:nn,57:nn,62:BN},iB={91:l5},aB={[-2]:cm,[-1]:cm,32:cm},oB={35:p5,42:ad,45:[yk,ad],60:v5,61:yk,95:ad,96:mk,126:mk},sB={38:HN,92:WN},lB={[-5]:um,[-4]:um,[-3]:um,33:M5,38:HN,42:vy,60:[$U,C5],91:$5,92:[f5,WN],93:Wx,95:vy,96:XU},cB={null:[vy,Z5]},uB={null:[42,95]},dB={null:[]},fB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uB,contentInitial:iB,disable:dB,document:rB,flow:oB,flowInitial:aB,insideSpan:cB,string:sB,text:lB},Symbol.toStringTag,{value:"Module"}));function hB(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:_(j),check:_(k),consume:b,enter:w,exit:S,interrupt:_(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(T){return o=Yn(o,T),y(),o[o.length-1]!==null?[]:(N(t,0),c.events=fh(a,c.events,c),c.events)}function h(T,M){return mB(p(T),M)}function p(T){return pB(o,T)}function m(){const{_bufferIndex:T,_index:M,line:$,column:I,offset:z}=r;return{_bufferIndex:T,_index:M,line:$,column:I,offset:z}}function g(T){i[T.line]=T.column,E()}function y(){let T;for(;r._index<o.length;){const M=o[r._index];if(typeof M=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<M.length;)v(M.charCodeAt(r._bufferIndex));else v(M)}}function v(T){d=d(T)}function b(T){fe(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,E()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=T}function w(T,M){const $=M||{};return $.type=T,$.start=m(),c.events.push(["enter",$,c]),s.push($),$}function S(T){const M=s.pop();return M.end=m(),c.events.push(["exit",M,c]),M}function j(T,M){N(T,M.from)}function k(T,M){M.restore()}function _(T,M){return $;function $(I,z,B){let Y,D,R,C;return Array.isArray(I)?H(I):"tokenize"in I?H([I]):Z(I);function Z(ne){return J;function J(re){const X=re!==null&&ne[re],L=re!==null&&ne.null,V=[...Array.isArray(X)?X:X?[X]:[],...Array.isArray(L)?L:L?[L]:[]];return H(V)(re)}}function H(ne){return Y=ne,D=0,ne.length===0?B:A(ne[D])}function A(ne){return J;function J(re){return C=O(),R=ne,ne.partial||(c.currentConstruct=ne),ne.name&&c.parser.constructs.disable.null.includes(ne.name)?Q():ne.tokenize.call(M?Object.assign(Object.create(c),M):c,l,U,Q)(re)}}function U(ne){return T(R,C),z}function Q(ne){return C.restore(),++D<Y.length?A(Y[D]):B}}}function N(T,M){T.resolveAll&&!a.includes(T)&&a.push(T),T.resolve&&Pn(c.events,M,c.events.length-M,T.resolve(c.events.slice(M),c)),T.resolveTo&&(c.events=T.resolveTo(c.events,c))}function O(){const T=m(),M=c.previous,$=c.currentConstruct,I=c.events.length,z=Array.from(s);return{from:I,restore:B};function B(){r=T,c.previous=M,c.currentConstruct=$,c.events.length=I,s=z,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function pB(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function mB(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function gB(e){const r={constructs:zN([fB,...(e||{}).extensions||[]]),content:i(AU),defined:[],document:i(IU),flow:i(X5),lazy:{},string:i(eB),text:i(tB)};return r;function i(a){return o;function o(s){return hB(r,a,s)}}}function yB(e){for(;!KN(e););return e}const vk=/[\0\t\n\r]/g;function vB(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,d,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(vk.lastIndex=f,c=vk.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const xB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bB(e){return e.replace(xB,wB)}function wB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return UN(n.slice(a?2:1),a?16:10)}return Bx(n)||e}const XN={}.hasOwnProperty;function kB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),SB(n)(yB(gB(n).document().write(vB()(e,t,!0))))}function SB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(Zt),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(ke),blockQuote:a(L),characterEscape:O,characterReference:O,codeFenced:a(V),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(V,o),codeText:a(F,o),codeTextData:O,data:O,codeFlowValue:O,definition:a(he),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(ce),hardBreakEscape:a(Pe),hardBreakTrailing:a(Pe),htmlFlow:a(Ee,o),htmlFlowData:O,htmlText:a(Ee,o),htmlTextData:O,image:a(De),label:o,link:a(Zt),listItem:a(ji),listItemValue:h,listOrdered:a(Sr,f),listUnordered:a(Sr),paragraph:a(jr),reference:A,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ke),strong:a(K),thematicBreak:a(pe)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:X,autolinkProtocol:re,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:ne,characterReference:J,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:E,codeIndented:l(v),codeText:l(z),codeTextData:E,data:E,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(M),hardBreakTrailing:l(M),htmlFlow:l($),htmlFlowData:E,htmlText:l(I),htmlTextData:E,image:l(Y),label:R,labelText:D,lineEnding:T,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:C,resourceTitleString:Z,resource:H,setextHeading:l(N),setextHeadingLineSequence:_,setextHeadingText:k,strong:l(),thematicBreak:l()}};QN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(P){let G={type:"root",children:[]};const ae={stack:[G],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},me=[];let ge=-1;for(;++ge<P.length;)if(P[ge][1].type==="listOrdered"||P[ge][1].type==="listUnordered")if(P[ge][0]==="enter")me.push(ge);else{const en=me.pop();ge=i(P,en,ge)}for(ge=-1;++ge<P.length;){const en=t[P[ge][0]];XN.call(en,P[ge][1].type)&&en[P[ge][1].type].call(Object.assign({sliceSerialize:P[ge][2].sliceSerialize},ae),P[ge][1])}if(ae.tokenStack.length>0){const en=ae.tokenStack[ae.tokenStack.length-1];(en[1]||xk).call(ae,void 0,en[0])}for(G.position={start:Ei(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Ei(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},ge=-1;++ge<t.transforms.length;)G=t.transforms[ge](G)||G;return G}function i(P,G,ae){let me=G-1,ge=-1,en=!1,Cr,zn,ua,da;for(;++me<=ae;){const vn=P[me];switch(vn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vn[0]==="enter"?ge++:ge--,da=void 0;break}case"lineEndingBlank":{vn[0]==="enter"&&(Cr&&!da&&!ge&&!ua&&(ua=me),da=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:da=void 0}if(!ge&&vn[0]==="enter"&&vn[1].type==="listItemPrefix"||ge===-1&&vn[0]==="exit"&&(vn[1].type==="listUnordered"||vn[1].type==="listOrdered")){if(Cr){let fo=me;for(zn=void 0;fo--;){const Kr=P[fo];if(Kr[1].type==="lineEnding"||Kr[1].type==="lineEndingBlank"){if(Kr[0]==="exit")continue;zn&&(P[zn][1].type="lineEndingBlank",en=!0),Kr[1].type="lineEnding",zn=fo}else if(!(Kr[1].type==="linePrefix"||Kr[1].type==="blockQuotePrefix"||Kr[1].type==="blockQuotePrefixWhitespace"||Kr[1].type==="blockQuoteMarker"||Kr[1].type==="listItemIndent"))break}ua&&(!zn||ua<zn)&&(Cr._spread=!0),Cr.end=Object.assign({},zn?P[zn][1].start:vn[1].end),P.splice(zn||me,0,["exit",Cr,vn[2]]),me++,ae++}if(vn[1].type==="listItemPrefix"){const fo={type:"listItem",_spread:!1,start:Object.assign({},vn[1].start),end:void 0};Cr=fo,P.splice(me,0,["enter",fo,vn[2]]),me++,ae++,ua=void 0,da=!0}}}return P[G][1]._spread=en,ae}function a(P,G){return ae;function ae(me){s.call(this,P(me),me),G&&G.call(this,me)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(P,G,ae){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([G,ae||void 0]),P.position={start:Ei(G.start),end:void 0}}function l(P){return G;function G(ae){P&&P.call(this,ae),c.call(this,ae)}}function c(P,G){const ae=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==P.type&&(G?G.call(this,P,me[0]):(me[1]||xk).call(this,P,me[0]));else throw new Error("Cannot close `"+P.type+"` ("+Ol({start:P.start,end:P.end})+"): it’s not open");ae.position.end=Ei(P.end)}function d(){return Ux(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(P){if(this.data.expectingFirstListItemValue){const G=this.stack[this.stack.length-2];G.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function p(){const P=this.resume(),G=this.stack[this.stack.length-1];G.lang=P}function m(){const P=this.resume(),G=this.stack[this.stack.length-1];G.meta=P}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const P=this.resume(),G=this.stack[this.stack.length-1];G.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const P=this.resume(),G=this.stack[this.stack.length-1];G.value=P.replace(/(\r?\n|\r)$/g,"")}function b(P){const G=this.resume(),ae=this.stack[this.stack.length-1];ae.label=G,ae.identifier=yr(this.sliceSerialize(P)).toLowerCase()}function w(){const P=this.resume(),G=this.stack[this.stack.length-1];G.title=P}function S(){const P=this.resume(),G=this.stack[this.stack.length-1];G.url=P}function j(P){const G=this.stack[this.stack.length-1];if(!G.depth){const ae=this.sliceSerialize(P).length;G.depth=ae}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function _(P){const G=this.stack[this.stack.length-1];G.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function O(P){const ae=this.stack[this.stack.length-1].children;let me=ae[ae.length-1];(!me||me.type!=="text")&&(me=le(),me.position={start:Ei(P.start),end:void 0},ae.push(me)),this.stack.push(me)}function E(P){const G=this.stack.pop();G.value+=this.sliceSerialize(P),G.position.end=Ei(P.end)}function T(P){const G=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=G.children[G.children.length-1];ae.position.end=Ei(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(G.type)&&(O.call(this,P),E.call(this,P))}function M(){this.data.atHardBreak=!0}function $(){const P=this.resume(),G=this.stack[this.stack.length-1];G.value=P}function I(){const P=this.resume(),G=this.stack[this.stack.length-1];G.value=P}function z(){const P=this.resume(),G=this.stack[this.stack.length-1];G.value=P}function B(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=G,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function Y(){const P=this.stack[this.stack.length-1];if(this.data.inReference){const G=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=G,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function D(P){const G=this.sliceSerialize(P),ae=this.stack[this.stack.length-2];ae.label=bB(G),ae.identifier=yr(G).toLowerCase()}function R(){const P=this.stack[this.stack.length-1],G=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const me=P.children;ae.children=me}else ae.alt=G}function C(){const P=this.resume(),G=this.stack[this.stack.length-1];G.url=P}function Z(){const P=this.resume(),G=this.stack[this.stack.length-1];G.title=P}function H(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function U(P){const G=this.resume(),ae=this.stack[this.stack.length-1];ae.label=G,ae.identifier=yr(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function Q(P){this.data.characterReferenceType=P.type}function ne(P){const G=this.sliceSerialize(P),ae=this.data.characterReferenceType;let me;ae?(me=UN(G,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=Bx(G);const ge=this.stack[this.stack.length-1];ge.value+=me}function J(P){const G=this.stack.pop();G.position.end=Ei(P.end)}function re(P){E.call(this,P);const G=this.stack[this.stack.length-1];G.url=this.sliceSerialize(P)}function X(P){E.call(this,P);const G=this.stack[this.stack.length-1];G.url="mailto:"+this.sliceSerialize(P)}function L(){return{type:"blockquote",children:[]}}function V(){return{type:"code",lang:null,meta:null,value:""}}function F(){return{type:"inlineCode",value:""}}function he(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ce(){return{type:"emphasis",children:[]}}function ke(){return{type:"heading",depth:0,children:[]}}function Pe(){return{type:"break"}}function Ee(){return{type:"html",value:""}}function De(){return{type:"image",title:null,url:"",alt:null}}function Zt(){return{type:"link",title:null,url:"",children:[]}}function Sr(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function ji(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function jr(){return{type:"paragraph",children:[]}}function K(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function pe(){return{type:"thematicBreak"}}}function Ei(e){return{line:e.line,column:e.column,offset:e.offset}}function QN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?QN(e,r):jB(e,r)}}function jB(e,t){let n;for(n in t)if(XN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function xk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ol({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is still open")}function CB(e){const t=this;t.parser=n;function n(r){return kB(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function _B(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function EB(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function NB(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function PB(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function OB(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AB(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Es(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function TB(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function IB(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function ZN(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function DB(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ZN(e,t);const i={src:Es(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function RB(e,t){const n={src:Es(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function MB(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function LB(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return ZN(e,t);const i={href:Es(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function $B(e,t){const n={href:Es(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function FB(e,t,n){const r=e.all(t),i=n?zB(n):eP(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function zB(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=eP(n[r])}return t}function eP(e){const t=e.spread;return t??e.children.length>1}function UB(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function BB(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WB(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function HB(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function KB(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Lx(t.children[1]),l=IN(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function qB(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const f=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),c.push(m)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function VB(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const bk=9,wk=32;function GB(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(kk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(kk(t.slice(i),i>0,!1)),a.join("")}function kk(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===bk||a===wk;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===bk||a===wk;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function YB(e,t){const n={type:"text",value:GB(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function JB(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const XB={blockquote:_B,break:EB,code:NB,delete:PB,emphasis:OB,footnoteReference:AB,heading:TB,html:IB,imageReference:DB,image:RB,inlineCode:MB,linkReference:LB,link:$B,listItem:FB,list:UB,paragraph:BB,root:WB,strong:HB,table:KB,tableCell:VB,tableRow:qB,text:YB,thematicBreak:JB,toml:ju,yaml:ju,definition:ju,footnoteDefinition:ju};function ju(){}const tP=-1,hh=0,Tl=1,Vd=2,Hx=3,Kx=4,qx=5,Vx=6,nP=7,rP=8,Sk=typeof self=="object"?self:globalThis,QB=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case hh:case tP:return n(o,i);case Tl:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Vd:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case Hx:return n(new Date(o),i);case Kx:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case qx:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case Vx:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case nP:{const{name:s,message:l}=o;return n(new Sk[s](l),i)}case rP:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new Sk[a](o),i)};return r},jk=e=>QB(new Map,e)(0),bo="",{toString:ZB}={},{keys:e8}=Object,el=e=>{const t=typeof e;if(t!=="object"||!e)return[hh,t];const n=ZB.call(e).slice(8,-1);switch(n){case"Array":return[Tl,bo];case"Object":return[Vd,bo];case"Date":return[Hx,bo];case"RegExp":return[Kx,bo];case"Map":return[qx,bo];case"Set":return[Vx,bo];case"DataView":return[Tl,n]}return n.includes("Array")?[Tl,n]:n.includes("Error")?[nP,n]:[Vd,n]},Cu=([e,t])=>e===hh&&(t==="function"||t==="symbol"),t8=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=el(o);switch(s){case hh:{let d=o;switch(l){case"bigint":s=rP,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([tP],o)}return i([s,d],o)}case Tl:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const d=[],f=i([s,d],o);for(const h of o)d.push(a(h));return f}case Vd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],f=i([s,d],o);for(const h of e8(o))(e||!Cu(el(o[h])))&&d.push([a(h),a(o[h])]);return f}case Hx:return i([s,o.toISOString()],o);case Kx:{const{source:d,flags:f}=o;return i([s,{source:d,flags:f}],o)}case qx:{const d=[],f=i([s,d],o);for(const[h,p]of o)(e||!(Cu(el(h))||Cu(el(p))))&&d.push([a(h),a(p)]);return f}case Vx:{const d=[],f=i([s,d],o);for(const h of o)(e||!Cu(el(h)))&&d.push(a(h));return f}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},Ck=(e,{json:t,lossy:n}={})=>{const r=[];return t8(!(t||n),!!t,new Map,r)(e),r},Gd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?jk(Ck(e,t)):structuredClone(e):(e,t)=>jk(Ck(e,t));function n8(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function r8(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function i8(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||n8,r=e.options.footnoteBackLabel||r8,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),f=String(c.identifier).toUpperCase(),h=Es(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else d.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Gd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const ph=function(e){if(e==null)return l8;if(typeof e=="function")return mh(e);if(typeof e=="object")return Array.isArray(e)?a8(e):o8(e);if(typeof e=="string")return s8(e);throw new Error("Expected function, string, or object as test")};function a8(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ph(e[n]);return mh(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function o8(e){const t=e;return mh(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function s8(e){return mh(t);function t(n){return n&&n.type===e}}function mh(e){return t;function t(n,r,i){return!!(c8(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function l8(){return!0}function c8(e){return e!==null&&typeof e=="object"&&"type"in e}const iP=[],u8=!0,xy=!1,d8="skip";function aP(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=ph(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=iP,m,g,y;if((!t||a(l,c,d[d.length-1]||void 0))&&(p=f8(n(l,d)),p[0]===xy))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==d8)for(g=(r?v.children.length:-1)+o,y=d.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(m=s(b,g,y)(),m[0]===xy)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function f8(e){return Array.isArray(e)?e:typeof e=="number"?[u8,e]:e==null?iP:[e]}function Gx(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),aP(e,a,s,i);function s(l,c){const d=c[c.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const by={}.hasOwnProperty,h8={};function p8(e,t){const n=t||h8,r=new Map,i=new Map,a=new Map,o={...XB,...n.handlers},s={all:c,applyData:g8,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:m8,wrap:v8};return Gx(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),s;function l(d,f){const h=d.type,p=s.handlers[h];if(by.call(s.handlers,h)&&p)return p(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in d){const{children:g,...y}=d,v=Gd(y);return v.children=s.all(d),v}return Gd(d)}return(s.options.unknownHandler||y8)(s,d,f)}function c(d){const f=[];if("children"in d){const h=d.children;let p=-1;for(;++p<h.length;){const m=s.one(h[p],d);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=_k(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=_k(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function m8(e,t){e.position&&(t.position=rU(e))}function g8(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Gd(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function y8(e,t){const n=t.data||{},r="value"in t&&!(by.call(n,"hProperties")||by.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v8(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _k(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ek(e,t){const n=p8(e,t),r=n.one(e,void 0),i=i8(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function x8(e,t){return e&&"run"in e?async function(n,r){const i=Ek(n,{file:r,...t});await e.run(i,r)}:function(n,r){return Ek(n,{file:r,...e||t})}}function Nk(e){if(e)throw e}var od=Object.prototype.hasOwnProperty,oP=Object.prototype.toString,Pk=Object.defineProperty,Ok=Object.getOwnPropertyDescriptor,Ak=function(t){return typeof Array.isArray=="function"?Array.isArray(t):oP.call(t)==="[object Array]"},Tk=function(t){if(!t||oP.call(t)!=="[object Object]")return!1;var n=od.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&od.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||od.call(t,i)},Ik=function(t,n){Pk&&n.name==="__proto__"?Pk(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Dk=function(t,n){if(n==="__proto__")if(od.call(t,n)){if(Ok)return Ok(t,n).value}else return;return t[n]},b8=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,c=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=Dk(s,n),i=Dk(t,n),s!==i&&(d&&i&&(Tk(i)||(a=Ak(i)))?(a?(a=!1,o=r&&Ak(r)?r:[]):o=r&&Tk(r)?r:{},Ik(s,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&Ik(s,{name:n,newValue:i}));return s};const dm=Rn(b8);function wy(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function w8(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,d?k8(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function k8(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const Ar={basename:S8,dirname:j8,extname:C8,join:_8,sep:"/"};function S8(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Oc(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function j8(e){if(Oc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function C8(e){Oc(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function _8(...e){let t=-1,n;for(;++t<e.length;)Oc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":E8(n)}function E8(e){Oc(e);const t=e.codePointAt(0)===47;let n=N8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function N8(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Oc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const P8={cwd:O8};function O8(){return"/"}function ky(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function A8(e){if(typeof e=="string")e=new URL(e);else if(!ky(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return T8(e)}function T8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const fm=["history","path","basename","stem","extname","dirname"];class sP{constructor(t){let n;t?ky(t)?n={path:t}:typeof t=="string"||I8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":P8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<fm.length;){const a=fm[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)fm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ar.basename(this.path):void 0}set basename(t){pm(t,"basename"),hm(t,"basename"),this.path=Ar.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ar.dirname(this.path):void 0}set dirname(t){Rk(this.basename,"dirname"),this.path=Ar.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ar.extname(this.path):void 0}set extname(t){if(hm(t,"extname"),Rk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ar.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ky(t)&&(t=A8(t)),pm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ar.basename(this.path,this.extname):void 0}set stem(t){pm(t,"stem"),hm(t,"stem"),this.path=Ar.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Bt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function hm(e,t){if(e&&e.includes(Ar.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ar.sep+"`")}function pm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Rk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function I8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const D8=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},R8={}.hasOwnProperty;class Yx extends D8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=w8()}copy(){const t=new Yx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(dm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ym("data",this.frozen),this.namespace[t]=n,this):R8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ym("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=_u(t),r=this.parser||this.Parser;return mm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),mm("process",this.parser||this.Parser),gm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=_u(t),l=r.parse(s);r.run(l,s,function(d,f,h){if(d||!f||!h)return c(d);const p=f,m=r.stringify(p,h);$8(m)?h.value=m:h.result=m,c(d,h)});function c(d,f){d||!f?o(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),mm("processSync",this.parser||this.Parser),gm("processSync",this.compiler||this.Compiler),this.process(t,i),Lk("processSync","process",n),r;function i(a,o){n=!0,Nk(a),r=o}}run(t,n,r){Mk(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=_u(n);i.run(t,l,c);function c(d,f,h){const p=f||t;d?s(d):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),Lk("runSync","run",r),i;function a(o,s){Nk(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=_u(n),i=this.compiler||this.Compiler;return gm("stringify",i),Mk(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ym("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...f]=c;l(d,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=dm(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const f=c[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...d]);else if(d.length>0){let[p,...m]=d;const g=r[h][1];wy(g)&&wy(p)&&(p=dm(!0,g,p)),r[h]=[c,p,...m]}}}}const M8=new Yx().freeze();function mm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function gm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ym(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Mk(e){if(!wy(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Lk(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function _u(e){return L8(e)?e:new sP(e)}function L8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function $8(e){return typeof e=="string"||F8(e)}function F8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const z8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$k=[],Fk={allowDangerousHtml:!0},U8=/^(https?|ircs?|mailto|xmpp)$/i,B8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function W8(e){const t=H8(e),n=K8(e);return q8(t.runSync(t.parse(n),n),e)}function H8(e){const t=e.rehypePlugins||$k,n=e.remarkPlugins||$k,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Fk}:Fk;return M8().use(CB).use(n).use(x8,r).use(t)}function K8(e){const t=e.children||"",n=new sP;return typeof t=="string"&&(n.value=t),n}function q8(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||V8;for(const d of B8)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+z8+d.id,void 0);return Gx(e,c),lU(e,{Fragment:u.Fragment,components:i,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let p;for(p in lm)if(Object.hasOwn(lm,p)&&Object.hasOwn(d.properties,p)){const m=d.properties[p],g=lm[p];(g===null||g.includes(d.tagName))&&(d.properties[p]=l(String(m||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(d,f,h)),p&&h&&typeof f=="number")return s&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function V8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||U8.test(e.slice(0,t))?e:""}function zk(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function G8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Y8(e,t,n){const i=ph((n||{}).ignore||[]),a=J8(t);let o=-1;for(;++o<a.length;)aP(e,"text",s);function s(c,d){let f=-1,h;for(;++f<d.length;){const p=d[f],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return l(c,d)}function l(c,d){const f=d[d.length-1],h=a[o][0],p=a[o][1];let m=0;const y=f.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,j={index:w.index,input:w.input,stack:[...d,c]};let k=p(...w,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=S+1:(m!==S&&b.push({type:"text",value:c.value.slice(m,S)}),Array.isArray(k)?b.push(...k):k&&b.push(k),m=S+w[0].length,v=!0),!h.global)break;w=h.exec(c.value)}return v?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function J8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([X8(i[0]),Q8(i[1])])}return t}function X8(e){return typeof e=="string"?new RegExp(G8(e),"g"):e}function Q8(e){return typeof e=="function"?e:function(){return e}}const vm="phrasing",xm=["autolink","link","image","label"];function Z8(){return{transforms:[o6],enter:{literalAutolink:t6,literalAutolinkEmail:bm,literalAutolinkHttp:bm,literalAutolinkWww:bm},exit:{literalAutolink:a6,literalAutolinkEmail:i6,literalAutolinkHttp:n6,literalAutolinkWww:r6}}}function e6(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vm,notInConstruct:xm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vm,notInConstruct:xm},{character:":",before:"[ps]",after:"\\/",inConstruct:vm,notInConstruct:xm}]}}function t6(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function bm(e){this.config.enter.autolinkProtocol.call(this,e)}function n6(e){this.config.exit.autolinkProtocol.call(this,e)}function r6(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function i6(e){this.config.exit.autolinkEmail.call(this,e)}function a6(e){this.exit(e)}function o6(e){Y8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,s6],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),l6]],{ignore:["link","linkReference"]})}function s6(e,t,n,r,i){let a="";if(!lP(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!c6(n)))return!1;const o=u6(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function l6(e,t,n,r){return!lP(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function c6(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function u6(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=zk(e,"(");let a=zk(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function lP(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Ga(n)||dh(n))&&(!t||n!==47)}cP.peek=x6;function d6(){this.buffer()}function f6(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function h6(){this.buffer()}function p6(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function m6(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function g6(e){this.exit(e)}function y6(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=yr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function v6(e){this.exit(e)}function x6(){return"["}function cP(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function b6(){return{enter:{gfmFootnoteCallString:d6,gfmFootnoteCall:f6,gfmFootnoteDefinitionLabelString:h6,gfmFootnoteDefinition:p6},exit:{gfmFootnoteCallString:m6,gfmFootnoteCall:g6,gfmFootnoteDefinitionLabelString:y6,gfmFootnoteDefinition:v6}}}function w6(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:cP},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),d=a.enter("label");return l+=s.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?uP:k6))),c(),l}}function k6(e,t,n){return t===0?e:uP(e,t,n)}function uP(e,t,n){return(n?"":"    ")+e}const S6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];dP.peek=N6;function j6(){return{canContainEols:["delete"],enter:{strikethrough:_6},exit:{strikethrough:E6}}}function C6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:S6}],handlers:{delete:dP}}}function _6(e){this.enter({type:"delete",children:[]},e)}function E6(e){this.exit(e)}function dP(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function N6(){return"~"}function P6(e){return e.length}function O6(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||P6,a=[],o=[],s=[],l=[];let c=0,d=-1;for(;++d<e.length;){const g=[],y=[];let v=-1;for(e[d].length>c&&(c=e[d].length);++v<e[d].length;){const b=A6(e[d][v]);if(n.alignDelimiters!==!1){const w=i(b);y[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(b)}o[d]=g,s[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=Uk(r[f]);else{const g=Uk(r);for(;++f<c;)a[f]=g}f=-1;const h=[],p=[];for(;++f<c;){const g=a[f];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-v.length);const w=y+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[f]&&(l[f]=b),p[f]=b),h[f]=w}o.splice(1,0,h),s.splice(1,0,p),d=-1;const m=[];for(;++d<o.length;){const g=o[d],y=s[d];f=-1;const v=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(y[f]||0),k=a[f];k===114?w=" ".repeat(j):k===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(b),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function A6(e){return e==null?"":String(e)}function Uk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function T6(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),I6);return i(),o}function I6(e,t,n){return">"+(n?"":" ")+e}function D6(e,t){return Bk(e,t.inConstruct,!0)&&!Bk(e,t.notInConstruct,!1)}function Bk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Wk(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&D6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function R6(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function M6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function L6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function $6(e,t,n,r){const i=L6(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(M6(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,F6);return f(),h}const s=n.createTracker(r),l=i.repeat(Math.max(R6(a,i)+1,3)),c=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),a&&(d+=s.move(a+`
`)),d+=s.move(l),c(),d}function F6(e,t,n){return(n?"":"    ")+e}function Jx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function z6(e,t,n,r){const i=Jx(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function U6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ac(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Yd(e,t,n){const r=is(e),i=is(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}fP.peek=B6;function fP(e,t,n,r){const i=U6(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),d=Yd(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=ac(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Yd(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+ac(f));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+l+p}function B6(e,t,n){return n.options.emphasis||"*"}function W6(e,t){let n=!1;return Gx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,xy}),!!((!e.depth||e.depth<3)&&Ux(e)&&(t.options.setext||n))}function H6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(W6(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=ac(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}hP.peek=K6;function hP(e){return e.value||""}function K6(){return"<"}pP.peek=q6;function pP(e,t,n,r){const i=Jx(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function q6(){return"!"}mP.peek=V6;function mP(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function V6(){return"!"}gP.peek=G6;function gP(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function G6(){return"`"}function yP(e,t){const n=Ux(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}vP.peek=Y6;function vP(e,t,n,r){const i=Jx(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(yP(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function Y6(e,t,n){return yP(e,n)?"<":"["}xP.peek=J6;function xP(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function J6(){return"["}function Xx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function X6(e){const t=Xx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Q6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function bP(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Z6(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?Q6(n):Xx(n);const s=e.ordered?o==="."?")":".":X6(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),bP(n)===o&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),c}function e9(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function t9(e,t,n,r){const i=e9(n);let a=n.bulletCurrent||Xx(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),d);return l(),c;function d(f,h,p){return h?(p?"":" ".repeat(o))+f:(p?a:a+" ".repeat(o-a.length))+f}}function n9(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const r9=ph(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function i9(e,t,n,r){return(e.children.some(function(o){return r9(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function a9(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}wP.peek=o9;function wP(e,t,n,r){const i=a9(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),d=Yd(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=ac(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Yd(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+ac(f));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},s+l+p}function o9(e,t,n){return n.options.strong||"*"}function s9(e,t,n,r){return n.safe(e.value,r)}function l9(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function c9(e,t,n){const r=(bP(n)+(n.options.ruleSpaces?" ":"")).repeat(l9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const kP={blockquote:T6,break:Wk,code:$6,definition:z6,emphasis:fP,hardBreak:Wk,heading:H6,html:hP,image:pP,imageReference:mP,inlineCode:gP,link:vP,linkReference:xP,list:Z6,listItem:t9,paragraph:n9,root:i9,strong:wP,text:s9,thematicBreak:c9};function u9(){return{enter:{table:d9,tableData:Hk,tableHeader:Hk,tableRow:h9},exit:{codeText:p9,table:f9,tableData:wm,tableHeader:wm,tableRow:wm}}}function d9(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function f9(e){this.exit(e),this.data.inTable=void 0}function h9(e){this.enter({type:"tableRow",children:[]},e)}function wm(e){this.exit(e)}function Hk(e){this.enter({type:"tableCell",children:[]},e)}function p9(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,m9));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function m9(e,t){return t==="|"?t:e}function g9(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,m,g,y){return c(d(p,g,y),p.align)}function s(p,m,g,y){const v=f(p,g,y),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(p,m,g,y){const v=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(p,{...y,before:a,after:a});return b(),v(),w}function c(p,m){return O6(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function d(p,m,g){const y=p.children;let v=-1;const b=[],w=m.enter("table");for(;++v<y.length;)b[v]=f(y[v],m,g);return w(),b}function f(p,m,g){const y=p.children;let v=-1;const b=[],w=m.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],p,m,g);return w(),b}function h(p,m,g){let y=kP.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function y9(){return{exit:{taskListCheckValueChecked:Kk,taskListCheckValueUnchecked:Kk,paragraph:x9}}}function v9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:b9}}}function Kk(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function x9(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function b9(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=kP.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function w9(){return[Z8(),b6(),j6(),u9(),y9()]}function k9(e){return{extensions:[e6(),w6(e),C6(),g9(e),v9()]}}const S9={tokenize:P9,partial:!0},SP={tokenize:O9,partial:!0},jP={tokenize:A9,partial:!0},CP={tokenize:T9,partial:!0},j9={tokenize:I9,partial:!0},_P={name:"wwwAutolink",tokenize:E9,previous:NP},EP={name:"protocolAutolink",tokenize:N9,previous:PP},yi={name:"emailAutolink",tokenize:_9,previous:OP},Hr={};function C9(){return{text:Hr}}let pa=48;for(;pa<123;)Hr[pa]=yi,pa++,pa===58?pa=65:pa===91&&(pa=97);Hr[43]=yi;Hr[45]=yi;Hr[46]=yi;Hr[95]=yi;Hr[72]=[yi,EP];Hr[104]=[yi,EP];Hr[87]=[yi,_P];Hr[119]=[yi,_P];function _9(e,t,n){const r=this;let i,a;return o;function o(f){return!Sy(f)||!OP.call(r,r.previous)||Qx(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return Sy(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(j9,d,c)(f):f===45||f===95||Ft(f)?(a=!0,e.consume(f),l):d(f)}function c(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Kt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function E9(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!NP.call(r,r.previous)||Qx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(S9,e.attempt(SP,e.attempt(jP,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function N9(e,t,n){const r=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&PP.call(r,r.previous)&&!Qx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Kt(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||qd(f)||Me(f)||Ga(f)||dh(f)?n(f):e.attempt(SP,e.attempt(jP,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function P9(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function O9(e,t,n){let r,i,a;return o;function o(c){return c===46||c===95?e.check(CP,l,s)(c):c===null||Me(c)||Ga(c)||c!==45&&dh(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!a?n(c):t(c)}}function A9(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(CP,t,a)(o):o===null||Me(o)||Ga(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function T9(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||Me(s)||Ga(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Me(s)||Ga(s)?t(s):r(s)}function a(s){return Kt(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Kt(s)?(e.consume(s),o):n(s)}}function I9(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ft(a)?n(a):t(a)}}function NP(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Me(e)}function PP(e){return!Kt(e)}function OP(e){return!(e===47||Sy(e))}function Sy(e){return e===43||e===45||e===46||e===95||Ft(e)}function Qx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const D9={tokenize:B9,partial:!0};function R9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:F9,continuation:{tokenize:z9},exit:U9}},text:{91:{name:"gfmFootnoteCall",tokenize:$9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:M9,resolveTo:L9}}}}function M9(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=yr(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function L9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function $9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!o||f===null||f===91||Me(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(yr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Me(f)||(o=!0),a++,e.consume(f),f===92?d:c}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function F9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(m)}function d(m){if(o>999||m===93&&!s||m===null||m===91||Me(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=yr(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Me(m)||(s=!0),o++,e.consume(m),m===92?f:d}function f(m){return m===91||m===92||m===93?(e.consume(m),o++,d):d(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),Ce(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function z9(e,t,n){return e.check(Pc,t,e.attempt(D9,t,n))}function U9(e){e.exit("gfmFootnoteDefinition")}function B9(e,t,n){const r=this;return Ce(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function W9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",d,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",f,s]],p=s.parser.constructs.insideSpan.null;p&&Pn(h,h.length,0,fh(p,o.slice(c+1,l),s)),Pn(h,h.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",d,s]]),Pn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,d=this.events;let f=0;return h;function h(m){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=is(c);if(m===126)return f>1?l(m):(o.consume(m),f++,p);if(f<2&&!n)return l(m);const y=o.exit("strikethroughSequenceTemporary"),v=is(m);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,s(m)}}}class H9{constructor(){this.map=[]}add(t,n,r){K9(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function K9(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function q9(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function V9(){return{flow:{null:{name:"table",tokenize:G9,resolveAll:Y9}}}}function G9(e,t,n){const r=this;let i=0,a=0,o;return s;function s(E){let T=r.events.length-1;for(;T>-1;){const I=r.events[T][1].type;if(I==="lineEnding"||I==="linePrefix")T--;else break}const M=T>-1?r.events[T][1].type:null,$=M==="tableHead"||M==="tableRow"?k:l;return $===k&&r.parser.lazy[r.now().line]?n(E):$(E)}function l(E){return e.enter("tableHead"),e.enter("tableRow"),c(E)}function c(E){return E===124||(o=!0,a+=1),d(E)}function d(E){return E===null?n(E):fe(E)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),p):n(E):be(E)?Ce(e,d,"whitespace")(E):(a+=1,o&&(o=!1,i+=1),E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(E)))}function f(E){return E===null||E===124||Me(E)?(e.exit("data"),d(E)):(e.consume(E),E===92?h:f)}function h(E){return E===92||E===124?(e.consume(E),f):f(E)}function p(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(e.enter("tableDelimiterRow"),o=!1,be(E)?Ce(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):m(E))}function m(E){return E===45||E===58?y(E):E===124?(o=!0,e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),g):j(E)}function g(E){return be(E)?Ce(e,y,"whitespace")(E):y(E)}function y(E){return E===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),v):E===45?(a+=1,v(E)):E===null||fe(E)?S(E):j(E)}function v(E){return E===45?(e.enter("tableDelimiterFiller"),b(E)):j(E)}function b(E){return E===45?(e.consume(E),b):E===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(E),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(E))}function w(E){return be(E)?Ce(e,S,"whitespace")(E):S(E)}function S(E){return E===124?m(E):E===null||fe(E)?!o||i!==a?j(E):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(E)):j(E)}function j(E){return n(E)}function k(E){return e.enter("tableRow"),_(E)}function _(E){return E===124?(e.enter("tableCellDivider"),e.consume(E),e.exit("tableCellDivider"),_):E===null||fe(E)?(e.exit("tableRow"),t(E)):be(E)?Ce(e,_,"whitespace")(E):(e.enter("data"),N(E))}function N(E){return E===null||E===124||Me(E)?(e.exit("data"),_(E)):(e.consume(E),E===92?O:N)}function O(E){return E===92||E===124?(e.consume(E),N):N(E)}}function Y9(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,d,f;const h=new H9;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(qk(h,t,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",d,t]])),i=m.type==="tableDelimiterRow"?2:d?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=Eu(h,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=Eu(h,t,a,i,void 0,f)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,a[1]!==0?(o[0]=o[1],f=Eu(h,t,a,i,n,f)):o[1]!==0&&(f=Eu(h,t,o,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&qk(h,t,l,c,d),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=q9(t.events,n))}return e}function Eu(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},jo(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=jo(t.events,n[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=jo(t.events,n[2]),d=jo(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},jo(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function qk(e,t,n,r,i){const a=[],o=jo(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function jo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const J9={name:"tasklistCheck",tokenize:Q9};function X9(){return{text:{91:J9}}}function Q9(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Me(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return fe(l)?t(l):be(l)?e.check({tokenize:Z9},t,n)(l):n(l)}}function Z9(e,t,n){return Ce(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function eW(e){return zN([C9(),R9(),W9(e),V9(),X9()])}const tW={};function nW(e){const t=this,n=e||tW,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(eW(n)),a.push(w9()),o.push(k9(n))}const rW=({citations:e})=>{const t=r=>{switch(r){case"web":return"🌐";case"document":return"📄";case"kb":return"📚";case"blob":return"💾";default:return"📎"}},n=r=>{r.sourceId&&r.sourceId.startsWith("http")&&window.open(r.sourceId,"_blank","noopener,noreferrer")};return u.jsxs("div",{className:"card p-3 rounded-md border",style:{backgroundColor:"var(--bg-secondary)"},children:[u.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"References"}),u.jsx("div",{className:"space-y-2",children:e.map(r=>u.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${r.sourceId&&r.sourceId.startsWith("http")?"hover:bg-gray-50":"cursor-default"}`,style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},onClick:()=>n(r),children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("span",{className:"text-sm",children:t(r.sourceType)}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h5",{className:"text-sm font-medium truncate",style:{color:"var(--text)"},children:r.title||"Untitled Source"}),r.snippet&&u.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--text-secondary)"},children:r.snippet}),r.sourceId&&u.jsx("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-muted)"},children:r.sourceId})]})]})},r.id))})]})},iW=({messageId:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!1),[a,o]=x.useState(null),[s,l]=x.useState(""),[c,d]=x.useState(null),f=p=>{o(p),i(!0),l("")},h=async()=>{if(a!==null)try{const p=Gt();if(!p||!p.userId){console.error("No user session found"),alert("Please log in to submit feedback");return}const m=e,g=a===1?"good":"bad";console.log("Submitting feedback:",{chatId:m,userId:p.userId,reaction:g,feedbackText:s}),await Ix(m,p.userId,g,s||void 0),console.log("✅ Feedback submitted successfully"),n(a),i(!1),l(""),d("success"),setTimeout(()=>d(null),3e3)}catch(p){console.error("Failed to submit feedback:",p),i(!1),d("error"),setTimeout(()=>d(null),3e3)}};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>f(1),className:`p-1 rounded transition-colors ${t===1?"bg-green-100 text-green-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===1?"var(--success-light)":"transparent",color:t===1?"var(--success)":"var(--text-muted)"},title:"Thumbs up",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})})}),u.jsx("button",{onClick:()=>f(-1),className:`p-1 rounded transition-colors ${t===-1?"bg-red-100 text-red-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===-1?"var(--error-light)":"transparent",color:t===-1?"var(--error)":"var(--text-muted)"},title:"Thumbs down",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"})})})]}),r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"card p-6 rounded-lg max-w-md w-full mx-4",style:{backgroundColor:"var(--card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Submit feedback to HR Ax Pro"}),u.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),u.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text)"},children:"What did you like?"}),u.jsx("textarea",{value:s,onChange:p=>l(p.target.value),placeholder:"Give as much detail as you can, but don't include any private or sensitive information.",className:"input w-full h-24 resize-none text-sm",style:{backgroundColor:"var(--bg)",color:"var(--text)",borderColor:"var(--border)",padding:"12px"},autoFocus:!0}),u.jsx("p",{className:"text-xs mt-2 mb-4",style:{color:"var(--text-secondary)"},children:"We'll also share the content you're providing feedback on to help improve future responses."}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:h,className:"px-6 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--primary)",color:"white"},children:"Submit"})})]})}),c&&u.jsx("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",style:{backgroundColor:c==="success"?"var(--success, #10b981)":"var(--error, #ef4444)",color:"white"},children:c==="success"?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),u.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),u.jsx("span",{children:"Feedback submitted successfully!"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),u.jsx("span",{children:"Failed to submit feedback. Please try again."})]})})]})},Vk=e=>btoa(e),aW=e=>{try{return atob(e)}catch{return""}},tl="axpro_api_configs",km="axpro_ui_customization",qn={getConfigs(){try{const e=localStorage.getItem(tl);return e?JSON.parse(e).map(n=>({...n,apiKey:aW(n.apiKey)})):[]}catch{return[]}},saveConfig(e){const t=this.getConfigs(),n=new Date().toISOString(),r={...e,id:`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,apiKey:e.apiKey,createdAt:n,updatedAt:n},i={...r,apiKey:Vk(r.apiKey)},a=[...t.filter(o=>o.id!==e.id),i];return localStorage.setItem(tl,JSON.stringify(a)),r},updateConfig(e,t){const n=this.getConfigs(),r=n.findIndex(o=>o.id===e);if(r===-1)return null;const i={...n[r],...t,updatedAt:new Date().toISOString()},a={...i,apiKey:Vk(i.apiKey)};return n[r]=a,localStorage.setItem(tl,JSON.stringify(n)),i},deleteConfig(e){const t=this.getConfigs(),n=t.filter(r=>r.id!==e);return n.length===t.length?!1:(localStorage.setItem(tl,JSON.stringify(n)),!0)},getActiveConfig(){return this.getConfigs().find(t=>t.isActive)||null},setActiveConfig(e){const t=this.getConfigs();if(!t.find(i=>i.id===e))return!1;const r=t.map(i=>({...i,isActive:i.id===e}));return localStorage.setItem(tl,JSON.stringify(r)),!0},getUICustomization(){const e={chatTitle:"Chat Interface",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};try{const t=localStorage.getItem(km);if(!t)return e;const n=JSON.parse(t);return{...e,...n}}catch{return e}},saveUICustomization(e){localStorage.setItem(km,JSON.stringify(e))},resetUICustomization(){localStorage.removeItem(km)}},Er={chatTitle:"TecAce Ax Pro",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};async function oW(){try{const e=Le(),{data:t,error:n}=await e.from("ui_settings").select("*").eq("id","global").maybeSingle();return n?(console.error("Error fetching UI customization:",n),Er):t?{chatTitle:t.chat_title||Er.chatTitle,chatSubtitle:t.chat_subtitle||Er.chatSubtitle,avatarUrl:t.avatar_url||Er.avatarUrl,suggestedQuestions:{question1:t.question_1||Er.suggestedQuestions.question1,question2:t.question_2||Er.suggestedQuestions.question2,question3:t.question_3||Er.suggestedQuestions.question3,question4:t.question_4||Er.suggestedQuestions.question4}}:(console.log("No UI customization found in database, using defaults"),Er)}catch(e){return console.error("Failed to fetch UI customization:",e),Er}}async function sW(e){try{const t=Le(),{error:n}=await t.from("ui_settings").upsert({id:"global",chat_title:e.chatTitle,chat_subtitle:e.chatSubtitle,avatar_url:e.avatarUrl,question_1:e.suggestedQuestions.question1,question_2:e.suggestedQuestions.question2,question_3:e.suggestedQuestions.question3,question_4:e.suggestedQuestions.question4,updated_at:new Date().toISOString()},{onConflict:"id"});return n?(console.error("Error saving UI customization:",n),!1):(console.log("✅ UI customization saved to Supabase"),!0)}catch(t){return console.error("Failed to save UI customization:",t),!1}}const Ac=()=>{const[e,t]=x.useState(()=>qn.getUICustomization()),[n,r]=x.useState(!0);x.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const l=await oW();t(l),qn.saveUICustomization(l)}catch(l){console.error("Failed to load UI customization:",l);const c=qn.getUICustomization();t(c)}finally{r(!1)}},a=async l=>{r(!0);try{const c={...e,...l};await sW(c)?(t(c),qn.saveUICustomization(c),console.log("✅ UI customization updated successfully")):(console.error("Failed to save to Supabase, falling back to localStorage"),qn.saveUICustomization(c),t(c))}catch(c){console.error("Failed to update UI customization:",c)}finally{r(!1)}};return{customization:e,loading:n,updateCustomization:a,updateQuestion:(l,c)=>{a({suggestedQuestions:{...e.suggestedQuestions,[l]:c}})},resetCustomization:()=>{r(!0);try{qn.resetUICustomization();const l=qn.getUICustomization();t(l)}catch(l){console.error("Failed to reset UI customization:",l)}finally{r(!1)}}}},lW=({message:e})=>{const[t,n]=x.useState(!1),{customization:r}=Ac(),i=e.role==="user",a=e.role==="assistant",o=e.id.startsWith("sim_"),s=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:`flex ${i?"justify-end":"justify-start"} gap-3`,children:[a&&u.jsx("div",{className:"flex-shrink-0",children:u.jsx("img",{src:r.avatarUrl,alt:"Assistant",className:"w-8 h-8 rounded-full",style:{objectFit:"cover"}})}),u.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg ${i?"order-2":"order-1"}`,children:[u.jsx("div",{className:`p-3 rounded-lg ${i?"message-user":"message-assistant"}`,children:u.jsx("div",{className:"prose prose-sm max-w-none",style:{fontSize:"14px",lineHeight:"1.5",color:i?"#ffffff":"var(--text)"},children:e.content&&e.content.trim()?u.jsx(W8,{remarkPlugins:[nW],components:{p:({children:l})=>u.jsx("p",{style:{margin:"0 0 8px 0"},children:l}),code:({children:l,className:c})=>!c?u.jsx("code",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"2px 4px",borderRadius:"3px",fontSize:"0.9em"},children:l}):u.jsx("pre",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"8px",borderRadius:"4px",overflow:"auto",margin:"8px 0"},children:u.jsx("code",{children:l})}),ul:({children:l})=>u.jsx("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),ol:({children:l})=>u.jsx("ol",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),li:({children:l})=>u.jsx("li",{style:{margin:"4px 0"},children:l}),blockquote:({children:l})=>u.jsx("blockquote",{style:{borderLeft:`3px solid ${i?"rgba(255,255,255,0.3)":"var(--border)"}`,paddingLeft:"12px",margin:"8px 0",fontStyle:"italic",color:i?"#ffffff":"var(--text)"},children:l}),h1:({children:l})=>u.jsx("h1",{style:{fontSize:"1.2em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h2:({children:l})=>u.jsx("h2",{style:{fontSize:"1.1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h3:({children:l})=>u.jsx("h3",{style:{fontSize:"1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l})},children:e.content}):u.jsx("span",{style:{color:i?"rgba(255,255,255,0.7)":"var(--text-muted)",fontStyle:"italic"},children:e.role==="assistant"?"Thinking...":"No content available"})})}),u.jsxs("div",{className:`flex items-center gap-2 mt-1 ${i?"justify-end":"justify-start"}`,children:[u.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:s(e.createdAt)}),o&&a&&u.jsx("div",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--warning-bg, rgba(255, 193, 7, 0.1))",color:"var(--warning-text, #ff9800)",border:"1px solid var(--warning-border, rgba(255, 152, 0, 0.3))",fontSize:"10px",fontWeight:"500"},children:"SIMULATION MODE"})]}),a&&u.jsxs("div",{className:"mt-2 space-y-2",children:[e.citations&&e.citations.length>0&&u.jsxs("button",{onClick:()=>n(!t),className:"text-xs link flex items-center space-x-2",children:[u.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),u.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),u.jsxs("span",{children:[t?"Hide":"Show"," References (",e.citations.length,")"]})]}),t&&e.citations&&u.jsx(rW,{citations:e.citations}),!o&&u.jsx(iW,{messageId:e.id})]})]})]})},cW=({onSend:e,disabled:t=!1})=>{const[n,r]=x.useState(""),i=x.useRef(null),a=Cc(),o=c=>{c.preventDefault(),n.trim()&&!t&&(e(n.trim()),r(""))},s=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),o(c))},l=()=>{const c=i.current;c&&(c.style.height="auto",c.style.height=`${Math.min(c.scrollHeight,120)}px`)};return x.useEffect(()=>{l()},[n]),u.jsx("form",{onSubmit:o,className:"relative",children:u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{ref:i,value:n,onChange:c=>r(c.target.value),onKeyDown:s,placeholder:a("ui.typeMessage"),className:"w-full resize-none rounded-2xl px-4 py-3 pr-12 min-h-[52px] max-h-[200px] border focus:outline-none focus:ring-0 focus:border-transparent transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)",color:"var(--text)",fontSize:"16px",boxShadow:"0 0 0 1px var(--border)"},disabled:t,rows:1}),u.jsx("button",{type:"submit",disabled:!n.trim()||t,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:n.trim()&&!t?"var(--primary)":"transparent",color:n.trim()&&!t?"white":"var(--text-muted)"},children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),u.jsx("path",{d:"M22 2 11 13"})]})})]})})},uW=({sessionId:e,isClosed:t=!1})=>{const{messages:n,loading:r,sending:i,error:a,sendMessage:o}=fz(e),s=x.useRef(null);Cc();const{customization:l}=Ac();oi.useEffect(()=>{console.log("ThreadView messages for sessionId:",e,n)},[n,e]);const c=()=>{var d;(d=s.current)==null||d.scrollIntoView({behavior:"smooth"})};return x.useEffect(()=>{c()},[n]),r?u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading conversation..."})]})}):u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:n.length===0?u.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:l.chatTitle}),u.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:l.chatSubtitle})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[u.jsx("button",{onClick:()=>o(l.suggestedQuestions.question1),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"5",r:"2"}),u.jsx("path",{d:"M12 7v4"})]})}),u.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question1})]})}),u.jsx("button",{onClick:()=>o(l.suggestedQuestions.question2),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),u.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),u.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question2})]})}),u.jsx("button",{onClick:()=>o(l.suggestedQuestions.question3),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M8 12h8"}),u.jsx("path",{d:"M12 8v8"})]})}),u.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question3})]})}),u.jsx("button",{onClick:()=>o(l.suggestedQuestions.question4),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),u.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question4})]})})]})]})}):u.jsxs("div",{className:"p-4 space-y-4",children:[n.map(d=>(console.log("Rendering message:",d),u.jsx(lW,{message:d},d.id))),u.jsx("div",{ref:s})]})}),a&&u.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:u.jsx("div",{className:"error p-3 rounded-md",children:u.jsx("p",{className:"text-sm",children:a})})}),u.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--border)"},children:t?u.jsx("div",{className:"flex items-center justify-center p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-2xl mb-2",children:"🔒"}),u.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"This chat is closed"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Reopen the chat to continue the conversation"})]})}):u.jsx(cW,{onSend:d=>o(d),disabled:i})})]})},Gk=()=>{const{sessionId:e}=H2(),t=$n(),{theme:n,toggleTheme:r}=io(),{language:i,setLanguage:a,t:o}=rt(),{customization:s}=Ac(),[l,c]=x.useState(null),[d,f]=x.useState(!0),[h,p]=x.useState(null);x.useEffect(()=>{(async()=>{try{const y=await Qg.getMe();c({...y,userId:y.email}),f(!0)}catch(y){console.log("Backend auth failed, trying local auth:",y),f(!1);const v=Gt();v?c({email:v.email,userId:v.email,role:v.role}):(console.log("No local session found, redirecting to login"),t("/"))}})()},[t]),x.useEffect(()=>{if(e){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").find(v=>v.id===e);p(y)}},[e]);const m=async()=>{try{await Qg.logout()}catch(g){console.log("Backend logout failed, using local logout:",g)}qa(),t("/")};return l?u.jsxs("div",{className:"h-screen flex overflow-hidden",style:{backgroundColor:"var(--bg)"},children:[u.jsxs("div",{className:"w-80 border-r flex flex-col h-full",style:{borderColor:"var(--border)"},children:[u.jsxs("div",{className:"p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:s.chatTitle}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:r,className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},title:o(n==="light"?"ui.theme.dark":"ui.theme.light"),children:n==="light"?u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"5"}),u.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),u.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),u.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),u.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),u.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),u.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),u.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),u.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),u.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"text-sm px-2 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"en",children:"EN"}),u.jsx("option",{value:"ko",children:"KO"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:l.email}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:l.role==="admin"?"Administrator":o("ui.user")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[l.role==="admin"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"p-2 rounded-md border transition-colors",style:{borderColor:"var(--border)",color:"var(--text)"},title:o("ui.dashboard"),children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),u.jsx("button",{onClick:()=>t("/settings"),className:"p-2 rounded-md border transition-colors",style:{borderColor:"var(--border)",color:"var(--text)"},title:o("ui.settings"),children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"3"}),u.jsx("path",{d:"M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24"})]})})]}),u.jsx("button",{onClick:m,className:"text-sm link",children:o("ui.signOut")})]})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:u.jsx(d4,{})})]}),u.jsx("div",{className:"flex-1 flex flex-col h-full",children:e?u.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("img",{src:s.avatarUrl,alt:"Chatbot Avatar",className:"w-10 h-10 rounded-full flex-shrink-0",style:{objectFit:"cover"},onError:g=>{g.currentTarget.src="/default-profile-avatar.png"}}),u.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:(h==null?void 0:h.title)||o("ui.newChatTitle")}),(h==null?void 0:h.status)==="closed"&&u.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:"🔒 Closed"}),u.jsx("button",{onClick:()=>{if((h==null?void 0:h.status)==="closed"){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(v=>v.id===e?{...v,status:"open"}:v);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"open"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(v=>v.id===e?{...v,status:"closed"}:v);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"closed"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}},className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:(h==null?void 0:h.status)==="closed"?u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),u.jsx("path",{d:"M21 3v5h-5"}),u.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),u.jsx("path",{d:"M3 21v-5h5"})]}),u.jsxs("span",{children:[o("context.reopen")," ",o("ui.newChatTitle")]})]}):u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("path",{d:"M9 9h6v6H9z"})]}),u.jsx("span",{children:o("ui.closeChat")})]})})]})}),u.jsx(uW,{sessionId:e,isClosed:(h==null?void 0:h.status)==="closed"})]}):u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-xl font-light mb-4",style:{color:"var(--text)"},children:o("chat.welcome")}),u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:o("ui.selectConversation")})]})})})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),u.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})]})})},dW=()=>{const e=$n(),t=Gt(),n=Cc(),r=()=>{qa(),e("/")};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[u.jsx("header",{className:"card border-b",style:{borderColor:"var(--border)"},children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:n("dashboard.title")})}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Admin: ",t==null?void 0:t.email]}),u.jsx("button",{onClick:r,className:"link text-sm",children:"Sign Out"})]})]})})}),u.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"card p-6 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Total Users"}),u.jsx("p",{className:"text-3xl font-light",style:{color:"var(--primary)"},children:"1,234"}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"+12% from last month"})]}),u.jsxs("div",{className:"card p-6 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Active Sessions"}),u.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"89"}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"Currently online"})]}),u.jsxs("div",{className:"card p-6 rounded-lg",children:[u.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Status"}),u.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"Healthy"}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"All systems operational"})]})]}),u.jsxs("div",{className:"mt-8 card p-8 rounded-lg",children:[u.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--text)"},children:"Admin Panel"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[u.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"User Management"}),u.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Manage user accounts and permissions"}),u.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Manage Users"})]}),u.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[u.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Settings"}),u.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Configure platform settings"}),u.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Settings"})]})]}),u.jsx("div",{className:"mt-6 card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:u.jsxs("p",{className:"text-sm",style:{color:"var(--primary)"},children:[u.jsx("strong",{children:"Demo Mode:"})," You are logged in as an administrator. Admin features will be implemented here."]})})]})]})]})},fW=()=>{const e=$n(),{theme:t,toggleTheme:n}=io(),{language:r,setLanguage:i}=rt(),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,d]=x.useState("ui"),[f,h]=x.useState("supabase"),[p,m]=x.useState(!1),[g,y]=x.useState(null),[v,b]=x.useState(null),[w,S]=x.useState(!1),{customization:j,updateCustomization:k,updateQuestion:_,resetCustomization:N}=Ac();x.useEffect(()=>{const G=new URLSearchParams(window.location.search).get("tab");(G==="ui"||G==="photo")&&d("ui")},[]);const[O,E]=x.useState({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),[T,M]=x.useState({name:"",webhookUrl:""}),[$,I]=x.useState({url:"",anonKey:""}),[z,B]=x.useState(!1),[Y,D]=x.useState(null),[R,C]=x.useState(!1),[Z,H]=x.useState(!1),[A,U]=x.useState(""),[Q,ne]=x.useState({x:50,y:50}),[J,re]=x.useState(100),[X,L]=x.useState("");x.useEffect(()=>{he(),ce(),V(),F()},[]);const V=()=>{const P=iz();I(P)},F=()=>{const P=Zg();C(P)},he=()=>{const P=qn.getConfigs();o(P)},ce=()=>{const P=ih();l(P)},ke=P=>{P.preventDefault(),g?qn.updateConfig(g.id,O):qn.saveConfig({...O,isActive:a.length===0}),he(),Pe()},Pe=()=>{E({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),m(!1),y(null)},Ee=P=>{E({name:P.name,baseUrl:P.baseUrl,apiKey:P.apiKey,model:P.model||"gpt-3.5-turbo",temperature:P.temperature||.7,maxTokens:P.maxTokens||1e3}),y(P),m(!0)},De=P=>{window.confirm("Are you sure you want to delete this configuration?")&&(qn.deleteConfig(P),he())},Zt=P=>{qn.setActiveConfig(P),he()},Sr=P=>{P.preventDefault(),v?k4(v.id,T):w4({...T,isActive:s.length===0}),ce(),ji()},ji=()=>{M({name:"",webhookUrl:""}),m(!1),b(null)},jr=P=>{M({name:P.name,webhookUrl:P.webhookUrl}),b(P),m(!0)},K=P=>{window.confirm("Are you sure you want to delete this n8n configuration?")&&(S4(P),ce())},le=P=>{Z2(P),ce()},pe=async P=>{S(!0);try{const G=await C4(P);alert(G?"✅ Connection successful!":"❌ Connection failed. Please check your webhook URL.")}catch{alert("❌ Connection failed. Please check your webhook URL.")}finally{S(!1)}};return u.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border)"},children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:()=>e("/chat"),className:"text-sm link",children:"← Back to Chat"}),u.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:"Settings"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:t==="light"?"🌙":"☀️"}),u.jsxs("select",{value:r,onChange:P=>i(P.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"en",children:"EN"}),u.jsx("option",{value:"ko",children:"KO"})]})]})]}),u.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[u.jsx("div",{className:"border-b mb-6",style:{borderColor:"var(--border)"},children:u.jsxs("nav",{className:"-mb-px flex space-x-8",children:[u.jsx("button",{onClick:()=>d("ui"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="ui"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="ui"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="ui"?"var(--primary)":"transparent"},children:"UI Customization"}),u.jsx("button",{onClick:()=>d("api"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="api"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="api"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="api"?"var(--primary)":"transparent"},children:"API Configurations"}),u.jsx("button",{onClick:()=>d("webhook"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="webhook"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="webhook"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="webhook"?"var(--primary)":"transparent"},children:"Webhooks"}),u.jsx("button",{onClick:()=>d("database"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="database"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="database"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="database"?"var(--primary)":"transparent"},children:"Database"})]})}),c==="api"&&u.jsxs(u.Fragment,{children:[p&&u.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:g?"Edit Configuration":"Add New Configuration"}),u.jsxs("form",{onSubmit:ke,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),u.jsx("input",{type:"text",value:O.name,onChange:P=>E(G=>({...G,name:P.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., OpenAI GPT-4",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Base URL"}),u.jsx("input",{type:"url",value:O.baseUrl,onChange:P=>E(G=>({...G,baseUrl:P.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://api.openai.com/v1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"API Key"}),u.jsx("input",{type:"password",value:O.apiKey,onChange:P=>E(G=>({...G,apiKey:P.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"sk-...",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Model"}),u.jsx("input",{type:"text",value:O.model,onChange:P=>E(G=>({...G,model:P.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"gpt-3.5-turbo"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:["Temperature: ",O.temperature]}),u.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:O.temperature,onChange:P=>E(G=>({...G,temperature:parseFloat(P.target.value)})),className:"w-full"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Max Tokens"}),u.jsx("input",{type:"number",value:O.maxTokens,onChange:P=>E(G=>({...G,maxTokens:parseInt(P.target.value)})),className:"input w-full px-3 py-2 rounded-md",min:"1",max:"4000"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:Pe,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[g?"Update":"Add"," Configuration"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"API Configurations"}),u.jsx("button",{onClick:()=>m(!0),className:"btn-primary px-4 py-2 text-sm",children:"+ Add Configuration"})]}),a.length===0?u.jsx("div",{className:"card p-8 rounded-lg text-center",children:u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No API configurations found. Add your first configuration to get started."})}):u.jsx("div",{className:"space-y-3",children:a.map(P=>u.jsx("div",{className:`card p-4 rounded-lg ${P.isActive?"border-2":"border"}`,style:{borderColor:P.isActive?"var(--primary)":"var(--border)",backgroundColor:P.isActive?"var(--primary-light)":"var(--card)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:P.name}),P.isActive&&u.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:P.baseUrl}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Model: ",P.model," • Temperature: ",P.temperature," • Max Tokens: ",P.maxTokens]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[!P.isActive&&u.jsx("button",{onClick:()=>Zt(P.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),u.jsx("button",{onClick:()=>Ee(P),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),u.jsx("button",{onClick:()=>De(P.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},P.id))})]}),u.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--warning-light)"},children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("span",{children:"ℹ️"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Development Mode"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"When backend is unavailable, the system uses intelligent simulation based on your chat input. Configure your API settings above for full functionality when backend is running."})]})]})})]}),c==="webhook"&&u.jsxs(u.Fragment,{children:[p&&u.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:v?"Edit Webhook Configuration":"Add New Webhook Configuration"}),u.jsxs("form",{onSubmit:Sr,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),u.jsx("input",{type:"text",value:T.name,onChange:P=>M(G=>({...G,name:P.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Production n8n Webhook",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Webhook URL"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"url",value:T.webhookUrl,onChange:P=>M(G=>({...G,webhookUrl:P.target.value})),className:"input flex-1 px-3 py-2 rounded-md",placeholder:"https://n8n.srv978041.hstgr.cloud/webhook/...",required:!0}),u.jsx("button",{type:"button",onClick:()=>pe(T.webhookUrl),disabled:w||!T.webhookUrl,className:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{type:"button",onClick:ji,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[v?"Update":"Add"," Configuration"]})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Webhook Configurations"}),u.jsx("button",{onClick:()=>{d("webhook"),m(!0)},className:"btn-primary px-4 py-2 text-sm",children:"+ Add Webhook Configuration"})]}),s.length===0?u.jsx("div",{className:"card p-8 rounded-lg text-center",children:u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No webhook configurations found. Add your first webhook to get started."})}):u.jsx("div",{className:"space-y-3",children:s.map(P=>u.jsx("div",{className:`card p-4 rounded-lg ${P.isActive?"border-2":"border"}`,style:{borderColor:P.isActive?"var(--primary)":"var(--border)",backgroundColor:P.isActive?"var(--primary-light)":"var(--card)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:P.name}),P.isActive&&u.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:P.webhookUrl}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Created: ",new Date(P.createdAt).toLocaleString()]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>pe(P.webhookUrl),disabled:w,className:"text-xs px-3 py-1 rounded border disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"}),!P.isActive&&u.jsx("button",{onClick:()=>le(P.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),u.jsx("button",{onClick:()=>jr(P),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),u.jsx("button",{onClick:()=>K(P.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},P.id))})]}),u.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--primary-light)"},children:u.jsxs("div",{className:"flex items-start space-x-2",children:[u.jsx("span",{children:"🔗"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--primary)"},children:"Webhook Integration"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Configure webhooks to connect your chat interface with external workflows (e.g., n8n). The system will send chat messages to your webhook and receive AI responses."})]})]})})]}),c==="ui"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"card p-6 rounded-lg",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Chat Interface Customization"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Title"}),u.jsx("input",{type:"text",value:j.chatTitle,onChange:P=>k({chatTitle:P.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Chat Interface, AI Assistant, etc."}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This title appears at the top of the empty chat screen"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Subtitle"}),u.jsx("input",{type:"text",value:j.chatSubtitle,onChange:P=>k({chatSubtitle:P.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Select a conversation from the sidebar or start a new chat"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This subtitle appears below the title on the empty chat screen"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:r==="ko"?"챗봇 아바타":"Chatbot Avatar"}),u.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[u.jsx("div",{className:"flex-shrink-0",style:{width:"80px",height:"80px"},children:u.jsx("img",{src:j.avatarUrl,alt:"Avatar Preview",style:{width:"80px",height:"80px",borderRadius:"50%",border:"2px solid var(--border)",objectFit:"cover",objectPosition:"center"},onError:P=>{P.currentTarget.src="/default-profile-avatar.png"}})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:"var(--text)"},children:r==="ko"?"기본 아바타 선택":"Select Default Avatar"}),u.jsxs("select",{value:j.avatarUrl.startsWith("/")?j.avatarUrl:"custom",onChange:P=>{P.target.value!=="custom"&&k({avatarUrl:P.target.value})},className:"w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"custom",children:r==="ko"?"커스텀 (업로드된 이미지)":"Custom (Uploaded)"}),u.jsx("option",{value:"/default-profile-avatar.png",children:r==="ko"?"기본 아바타 1":"Default Avatar 1"}),u.jsx("option",{value:"/chatbot-avatar-2.png",children:r==="ko"?"챗봇 아바타 2":"Chatbot Avatar 2"}),u.jsx("option",{value:"/professor-avatar.png",children:r==="ko"?"교수 아바타":"Professor Avatar"})]})]})]}),u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsxs("label",{className:"px-4 py-2 rounded-md cursor-pointer transition-colors",style:{backgroundColor:"var(--primary)",color:"white",display:"inline-flex",alignItems:"center",gap:"8px"},children:[u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),r==="ko"?"사진 업로드":"Upload Photo",u.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:P=>{var ae;const G=(ae=P.target.files)==null?void 0:ae[0];if(G){const me=new FileReader;me.onloadend=()=>{const ge=me.result;L(ge),U(ge),ne({x:50,y:50}),re(100),H(!0)},me.readAsDataURL(G)}}})]}),j.avatarUrl!=="/default-profile-avatar.png"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>{const P=document.createElement("a");P.href=j.avatarUrl,P.download="chatbot-avatar.png",P.click()},className:"px-4 py-2 rounded-md transition-colors",style:{backgroundColor:"var(--primary)",color:"white"},children:r==="ko"?"다운로드":"Download"}),u.jsx("button",{onClick:()=>k({avatarUrl:"/default-profile-avatar.png"}),className:"px-4 py-2 rounded-md transition-colors",style:{backgroundColor:"var(--danger)",color:"white"},children:r==="ko"?"리셋":"Reset"})]})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:r==="ko"?"기본 아바타를 선택하거나 새 이미지를 업로드하세요. 다운로드한 이미지를 apps/professor/public/ 폴더에 저장하면 드롭다운에 추가할 수 있습니다.":"Select a default avatar or upload a new image. Save downloaded images to apps/professor/public/ to add them to the dropdown."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Suggested Questions"}),u.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Customize the suggested questions that appear on the empty chat screen"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 1"}),u.jsx("input",{type:"text",value:j.suggestedQuestions.question1,onChange:P=>_("question1",P.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What is artificial intelligence?"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 2"}),u.jsx("input",{type:"text",value:j.suggestedQuestions.question2,onChange:P=>_("question2",P.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"How does machine learning work?"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 3"}),u.jsx("input",{type:"text",value:j.suggestedQuestions.question3,onChange:P=>_("question3",P.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"Explain quantum computing"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 4"}),u.jsx("input",{type:"text",value:j.suggestedQuestions.question4,onChange:P=>_("question4",P.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What are the benefits of cloud computing?"})]})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset all UI customizations to default values?")&&N()},className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Reset to Defaults"})})]})]}),u.jsxs("div",{className:"card p-6 rounded-lg",children:[u.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Preview"}),u.jsx("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:j.chatTitle}),u.jsx("p",{className:"text-lg mb-8",style:{color:"var(--text-secondary)"},children:j.chatSubtitle}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[u.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),u.jsx("circle",{cx:"12",cy:"5",r:"2"}),u.jsx("path",{d:"M12 7v4"})]})}),u.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question1})]})}),u.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),u.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),u.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question2})]})}),u.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M8 12h8"}),u.jsx("path",{d:"M12 8v8"})]})}),u.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question3})]})}),u.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),u.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question4})]})})]})]})})]})]}),c==="database"&&u.jsxs("div",{className:"card p-6 rounded-lg",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Database Configuration"}),u.jsx("p",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Configure your database connection for prompt management and data storage."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Database Type"}),u.jsxs("select",{value:f,onChange:P=>h(P.target.value),className:"input w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--card)",color:"var(--text)",borderColor:"var(--border)"},children:[u.jsx("option",{value:"supabase",children:"Supabase"}),u.jsx("option",{value:"other",children:"Other (Coming Soon)"})]})]}),f==="supabase"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase URL"}),u.jsx("input",{type:"text",value:$.url,onChange:P=>I({...$,url:P.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://your-project.supabase.co"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase Anon Key"}),u.jsx("input",{type:"password",value:$.anonKey,onChange:P=>I({...$,anonKey:P.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."})]})]}),f==="supabase"&&Y&&u.jsx("div",{className:"p-3 rounded-md",style:{backgroundColor:Y.success?"var(--success-light)":"var(--danger-light)",color:Y.success?"var(--success)":"var(--danger)"},children:Y.message}),f==="supabase"&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{type:"button",onClick:async()=>{B(!0),D(null);try{const P=await oz($);D({success:P,message:P?"Connection successful!":"Connection failed. Please check your credentials."})}catch(P){D({success:!1,message:"Connection test failed: "+(P instanceof Error?P.message:"Unknown error")})}finally{B(!1)}},disabled:z||!$.url||!$.anonKey,className:"btn-ghost px-4 py-2 rounded-md",children:z?"Testing...":"Test Connection"}),u.jsx("button",{type:"button",onClick:()=>{az($),D({success:!0,message:"Configuration saved successfully!"})},disabled:!$.url||!$.anonKey,className:"btn-primary px-4 py-2 rounded-md",children:"Save Configuration"})]}),u.jsxs("div",{className:"border-t pt-4 mt-6",style:{borderColor:"var(--border)"},children:[u.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Chat Behavior"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Enable Simulation Mode"}),u.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"When enabled, chat will fall back to simulated responses if the chatbot server is unavailable. When disabled, chat will show an error instead of simulation."})]}),u.jsx("label",{className:"flex items-center",children:u.jsx("input",{type:"checkbox",checked:R,onChange:P=>{C(P.target.checked),s4(P.target.checked)},className:"w-4 h-4 rounded",style:{accentColor:"var(--primary)"}})})]})]}),f==="other"&&u.jsx("div",{className:"p-4 rounded-md",style:{backgroundColor:"var(--warning-light)"},children:u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Additional database types will be available in future updates."})})]})]})]}),Z&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>H(!1),children:u.jsxs("div",{onClick:P=>P.stopPropagation(),style:{backgroundColor:"var(--card, #1e1e1e)",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto",border:"1px solid var(--border)"},children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"#ffffff"},children:r==="ko"?"이미지 조정":"Adjust Image"}),u.jsx("div",{style:{width:"200px",height:"200px",margin:"0 auto 24px",borderRadius:"50%",overflow:"hidden",position:"relative",border:"2px solid var(--border)",backgroundColor:"var(--bg-secondary)"},children:u.jsx("div",{style:{width:"100%",height:"100%",backgroundImage:`url(${A})`,backgroundSize:`${J}%`,backgroundPosition:`${Q.x}% ${Q.y}%`,backgroundRepeat:"no-repeat"}})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:"#e5e5e5"},children:[r==="ko"?"확대/축소":"Zoom",": ",J,"%"]}),u.jsx("input",{type:"range",min:"50",max:"200",value:J,onChange:P=>re(Number(P.target.value)),className:"w-full",style:{accentColor:"var(--primary)"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#e5e5e5"},children:r==="ko"?"가로 위치":"Horizontal Position"}),u.jsx("input",{type:"range",min:"0",max:"100",value:Q.x,onChange:P=>ne({...Q,x:Number(P.target.value)}),className:"w-full",style:{accentColor:"var(--primary)"}})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"#e5e5e5"},children:r==="ko"?"세로 위치":"Vertical Position"}),u.jsx("input",{type:"range",min:"0",max:"100",value:Q.y,onChange:P=>ne({...Q,y:Number(P.target.value)}),className:"w-full",style:{accentColor:"var(--primary)"}})]})]}),u.jsxs("div",{className:"space-y-3 mt-6",children:[u.jsx("button",{onClick:()=>{k({avatarUrl:X}),H(!1)},className:"w-full px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:"var(--primary)",color:"#ffffff"},children:r==="ko"?"원본 사용":"Use Original"}),u.jsx("button",{onClick:()=>{const P=document.createElement("canvas"),G=P.getContext("2d"),ae=new Image;ae.onload=()=>{if(P.width=300,P.height=300,G){const ge=J/100;let en=Math.min(ae.width,ae.height);const Cr=en/ge,zn=en/ge,ua=Q.x/100*(ae.width-Cr),da=Q.y/100*(ae.height-zn);G.drawImage(ae,ua,da,Cr,zn,0,0,300,300),k({avatarUrl:P.toDataURL("image/png",.95)})}H(!1)},ae.src=X},className:"w-full px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:"rgba(59, 130, 246, 0.8)",color:"#ffffff"},children:r==="ko"?"조정된 이미지 사용":"Use Adjusted"}),u.jsx("button",{onClick:()=>H(!1),className:"w-full px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:"rgba(255, 255, 255, 0.1)",color:"#ffffff",border:"1px solid rgba(255, 255, 255, 0.2)"},children:r==="ko"?"취소":"Cancel"})]})]})})]})};function AP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=AP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Se(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=AP(e))&&(r&&(r+=" "),r+=t);return r}var gh={},TP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(TP);var Zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Zx);var yh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(yh);var vh={},IP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(IP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IP,n=yh;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",c="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const f=i[s];c?f==="\\"&&s+1<o?(s++,l+=i[s]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,s++}return l&&a.push(l),a}e.toPath=r})(vh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TP,n=Zx,r=yh,i=vh;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?n.isDeepKey(l)?a(s,i.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?c:d}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=s[l];return d===void 0?c:d}}}function o(s,l,c){if(l.length===0)return c;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=a})(gh);var hW=gh.get;const as=Rn(hW);var DP={exports:{}},$e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Symbol.for("react.transitional.element"),t0=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),kh=Symbol.for("react.consumer"),Sh=Symbol.for("react.context"),jh=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),pW=Symbol.for("react.view_transition"),mW=Symbol.for("react.client.reference");function ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case e0:switch(e=e.type,e){case xh:case wh:case bh:case Ch:case _h:case pW:return e;default:switch(e=e&&e.$$typeof,e){case Sh:case jh:case Nh:case Eh:return e;case kh:return e;default:return t}}case t0:return t}}}$e.ContextConsumer=kh;$e.ContextProvider=Sh;$e.Element=e0;$e.ForwardRef=jh;$e.Fragment=xh;$e.Lazy=Nh;$e.Memo=Eh;$e.Portal=t0;$e.Profiler=wh;$e.StrictMode=bh;$e.Suspense=Ch;$e.SuspenseList=_h;$e.isContextConsumer=function(e){return ir(e)===kh};$e.isContextProvider=function(e){return ir(e)===Sh};$e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===e0};$e.isForwardRef=function(e){return ir(e)===jh};$e.isFragment=function(e){return ir(e)===xh};$e.isLazy=function(e){return ir(e)===Nh};$e.isMemo=function(e){return ir(e)===Eh};$e.isPortal=function(e){return ir(e)===t0};$e.isProfiler=function(e){return ir(e)===wh};$e.isStrictMode=function(e){return ir(e)===bh};$e.isSuspense=function(e){return ir(e)===Ch};$e.isSuspenseList=function(e){return ir(e)===_h};$e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xh||e===wh||e===bh||e===Ch||e===_h||typeof e=="object"&&e!==null&&(e.$$typeof===Nh||e.$$typeof===Eh||e.$$typeof===Sh||e.$$typeof===kh||e.$$typeof===jh||e.$$typeof===mW||e.getModuleId!==void 0)};$e.typeOf=ir;DP.exports=$e;var gW=DP.exports,cn=e=>e===0?0:e>0?1:-1,Tn=e=>typeof e=="number"&&e!=+e,Pa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!Tn(e),Ur=e=>ue(e)||typeof e=="string",yW=0,oc=e=>{var t=++yW;return"".concat(e||"").concat(t)},br=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return r;var a;if(Pa(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Tn(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},RP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function mt(e,t,n){return ue(e)&&ue(t)?e+n*(t-e):t}function vW(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):as(r,t))===n)}var nt=e=>e===null||typeof e>"u",Tc=e=>nt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),xW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function n0(e){if(typeof e!="string")return!1;var t=xW;return t.includes(e)}var bW=["viewBox","children"],Yk=["points","pathLength"],Sm={svg:bW,polygon:Yk,polyline:Yk},r0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{n0(i)&&(r[i]=t||(a=>n[i](n,a)))}),r},wW=(e,t,n)=>r=>(e(t,n,r),null),Ns=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];n0(i)&&typeof a=="function"&&(r||(r={}),r[i]=wW(a,t,n))}),r},kW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function MP(e){if(typeof e!="string")return!1;var t=kW;return t.includes(e)}function Xt(e){var t=Object.entries(e).filter(n=>{var[r]=n;return MP(r)});return Object.fromEntries(t)}var Jk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Xk=null,jm=null,LP=e=>{if(e===Xk&&Array.isArray(jm))return jm;var t=[];return x.Children.forEach(e,n=>{nt(n)||(gW.isFragment(n)?t=t.concat(LP(n.props.children)):t.push(n))}),jm=t,Xk=e,t};function SW(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Jk(i)):r=[Jk(t)],LP(e).forEach(i=>{var a=as(i,"type.displayName")||as(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var jW=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(Sm==null?void 0:Sm[r]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!r&&a.includes(t)||MP(t)),l=!!n&&n0(t);return o||s||l},Ae=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;jW((o=r)===null||o===void 0?void 0:o[a],a,t,n)&&(i[a]=r[a])}),i},CW=["children","width","height","viewBox","className","style","title","desc"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function _W(e,t){if(e==null)return{};var n,r,i=EW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i0=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,d=_W(e,CW),f=a||{width:r,height:i,x:0,y:0},h=Se("recharts-surface",o);return x.createElement("svg",jy({},Ae(d,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),NW=["children","className"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(null,arguments)}function PW(e,t){if(e==null)return{};var n,r,i=OW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var St=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=PW(e,NW),a=Se("recharts-layer",r);return x.createElement("g",Cy({className:a},Ae(i,!0),{ref:t}),n)}),$P=x.createContext(null),AW=()=>x.useContext($P);function Be(e){return function(){return e}}const FP=Math.cos,Jd=Math.sin,wr=Math.sqrt,Xd=Math.PI,Ph=2*Xd,_y=Math.PI,Ey=2*_y,xa=1e-6,TW=Ey-xa;function zP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function IW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zP;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class DW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zP:IW(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,d=o-t,f=s-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>xa)if(!(Math.abs(f*l-c*d)>xa)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+c*c,y=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((_y-Math.acos((g+h-y)/(2*v*b)))/2),S=w/b,j=w/v;Math.abs(S-1)>xa&&this._append`L${t+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=t+j*l},${this._y1=n+j*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,d=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>xa||Math.abs(this._y1-d)>xa)&&this._append`L${c},${d}`,r&&(h<0&&(h=h%Ey+Ey),h>TW?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=d}`:h>xa&&this._append`A${r},${r},0,${+(h>=_y)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function a0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new DW(t)}function o0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UP(e){this._context=e}UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Oh(e){return new UP(e)}function BP(e){return e[0]}function WP(e){return e[1]}function HP(e,t){var n=Be(!0),r=null,i=Oh,a=null,o=a0(s);e=typeof e=="function"?e:e===void 0?BP:Be(e),t=typeof t=="function"?t:t===void 0?WP:Be(t);function s(l){var c,d=(l=o0(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=d;++c)!(c<d&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Be(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Be(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Be(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Nu(e,t,n){var r=null,i=Be(!0),a=null,o=Oh,s=null,l=a0(c);e=typeof e=="function"?e:e===void 0?BP:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?WP:Be(+n);function c(f){var h,p,m,g=(f=o0(f)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),s.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return s=null,b+""||null}function d(){return HP().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Be(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Be(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Be(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Be(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Be(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Be(+f),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Be(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class KP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function RW(e){return new KP(e,!0)}function MW(e){return new KP(e,!1)}const s0={draw(e,t){const n=wr(t/Xd);e.moveTo(n,0),e.arc(0,0,n,0,Ph)}},LW={draw(e,t){const n=wr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},qP=wr(1/3),$W=qP*2,FW={draw(e,t){const n=wr(t/$W),r=n*qP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},zW={draw(e,t){const n=wr(t),r=-n/2;e.rect(r,r,n,n)}},UW=.8908130915292852,VP=Jd(Xd/10)/Jd(7*Xd/10),BW=Jd(Ph/10)*VP,WW=-FP(Ph/10)*VP,HW={draw(e,t){const n=wr(t*UW),r=BW*n,i=WW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Ph*a/5,s=FP(o),l=Jd(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Cm=wr(3),KW={draw(e,t){const n=-wr(t/(Cm*3));e.moveTo(0,n*2),e.lineTo(-Cm*n,-n),e.lineTo(Cm*n,-n),e.closePath()}},Un=-.5,Bn=wr(3)/2,Ny=1/wr(12),qW=(Ny/2+1)*3,VW={draw(e,t){const n=wr(t/qW),r=n/2,i=n*Ny,a=r,o=n*Ny+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Un*r-Bn*i,Bn*r+Un*i),e.lineTo(Un*a-Bn*o,Bn*a+Un*o),e.lineTo(Un*s-Bn*l,Bn*s+Un*l),e.lineTo(Un*r+Bn*i,Un*i-Bn*r),e.lineTo(Un*a+Bn*o,Un*o-Bn*a),e.lineTo(Un*s+Bn*l,Un*l-Bn*s),e.closePath()}};function GW(e,t){let n=null,r=a0(i);e=typeof e=="function"?e:Be(e||s0),t=typeof t=="function"?t:Be(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Be(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Qd(){}function Zd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function GP(e){this._context=e}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YW(e){return new GP(e)}function YP(e){this._context=e}YP.prototype={areaStart:Qd,areaEnd:Qd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JW(e){return new YP(e)}function JP(e){this._context=e}JP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XW(e){return new JP(e)}function XP(e){this._context=e}XP.prototype={areaStart:Qd,areaEnd:Qd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QW(e){return new XP(e)}function Qk(e){return e<0?-1:1}function Zk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Qk(a)+Qk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function eS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function _m(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function ef(e){this._context=e}ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_m(this,this._t0,eS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_m(this,eS(this,n=Zk(this,e,t)),n);break;default:_m(this,this._t0,n=Zk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function QP(e){this._context=new ZP(e)}(QP.prototype=Object.create(ef.prototype)).point=function(e,t){ef.prototype.point.call(this,t,e)};function ZP(e){this._context=e}ZP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function ZW(e){return new ef(e)}function eH(e){return new QP(e)}function eO(e){this._context=e}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=tS(e),i=tS(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tS(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function tH(e){return new eO(e)}function Ah(e,t){this._context=e,this._t=t}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function nH(e){return new Ah(e,.5)}function rH(e){return new Ah(e,0)}function iH(e){return new Ah(e,1)}function os(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Py(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function aH(e,t){return e[t]}function oH(e){const t=[];return t.key=e,t}function sH(){var e=Be([]),t=Py,n=os,r=aH;function i(a){var o=Array.from(e.apply(this,arguments),oH),s,l=o.length,c=-1,d;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,d=o0(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Be(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Be(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Py:typeof a=="function"?a:Be(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??os,i):n},i}function lH(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}os(e,t)}}function cH(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}os(e,t)}}function uH(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,os(e,t)}}var dH=["type","size","sizeType"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(n),!0).forEach(function(r){fH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fH(e,t,n){return(t=hH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mH(e,t){if(e==null)return{};var n,r,i=gH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tO={symbolCircle:s0,symbolCross:LW,symbolDiamond:FW,symbolSquare:zW,symbolStar:HW,symbolTriangle:KW,symbolWye:VW},yH=Math.PI/180,vH=e=>{var t="symbol".concat(Tc(e));return tO[t]||s0},xH=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*yH;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bH=(e,t)=>{tO["symbol".concat(Tc(e))]=t},l0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=mH(e,dH),a=rS(rS({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=vH(o),p=GW().type(h).size(xH(n,r,o));return p()},{className:l,cx:c,cy:d}=a,f=Ae(a,!0);return c===+c&&d===+d&&n===+n?x.createElement("path",Oy({},f,{className:Se("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:s()})):null};l0.registerSymbol=bH;function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(null,arguments)}function iS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(n),!0).forEach(function(r){c0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e,t,n){return(t=kH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wn=32;class u0 extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Wn/2,a=Wn/6,o=Wn/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Wn,y2:i,className:"recharts-legend-icon"});if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Wn,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=wH({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(l0,{fill:s,cx:i,cy:i,size:Wn,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:Wn,height:Wn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,p=Se({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var m=d.inactive?a:d.color,g=h?h(d.value,d,f):d.value;return x.createElement("li",Ay({className:p,style:l,key:"legend-item-".concat(f)},Ns(this.props,d,f)),x.createElement(i0,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(d,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}c0(u0,"displayName","Legend");c0(u0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var nO={},rO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(rO);var Ic={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ic);var iO={},Th={},aO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(aO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Th);var oO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(oO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Th,n=oO;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(iO);var Ih={},sO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gh;function n(r){return function(i){return t.get(i,r)}}e.property=n})(sO);var lO={},Em={},Nm={},d0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(d0);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(f0);var h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(h0);var aS;function jH(){return aS||(aS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0(),n=d0,r=f0,i=h0;function a(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function m(g,y,v,b,w,S){const j=p(g,y,v,b,w,S);return j!==void 0?!!j:o(g,y,m,S)},new Map)}function o(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,p,m);case"function":return Object.keys(h).length>0?o(f,{...h},p,m):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function s(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(f,h,p,m);if(h instanceof Map)return l(f,h,p,m);if(h instanceof Set)return d(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,y]of h.entries()){const v=f.get(g);if(p(v,y,g,f,h,m)===!1)return!1}return!0}function c(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const S=f[w];let j=!1;if(p(S,v,y,f,h,m)&&(j=!0),j){g.add(w),b=!0;break}}if(!b)return!1}return!0}function d(f,h,p,m){return h.size===0?!0:f instanceof Set?c([...f],[...h],p,m):!1}e.isMatchWith=a,e.isSetMatch=d}(Nm)),Nm}var oS;function p0(){return oS||(oS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jH();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(Em)),Em}var cO={},m0={},uO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(uO);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(g0);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",N="[object BigInt64Array]",O="[object Float32Array]",E="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=O,e.float64ArrayTag=E,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(y0);var dO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(dO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uO,n=g0,r=y0,i=f0,a=dO;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(d,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=s(d[v],v,h,p,m);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[v,b]of d)y.set(v,s(b,v,h,p,m));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const v of d)y.add(s(v,void 0,h,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let v=0;v<d.length;v++)y[v]=s(d[v],v,h,p,m);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),l(y,d,h,p,m),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),l(y,d,h,p,m),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),l(y,d,h,p,m),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,p,m),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return p.set(d,y),l(y,d,h,p,m),y}if(d instanceof Number){const y=new Number(d.valueOf());return p.set(d,y),l(y,d,h,p,m),y}if(d instanceof String){const y=new String(d.valueOf());return p.set(d,y),l(y,d,h,p,m),y}if(typeof d=="object"&&c(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),l(y,d,h,p,m),y}return d}function l(d,f,h=d,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(d,v);(b==null||b.writable)&&(d[v]=s(f[v],v,h,p,m))}}function c(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(m0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0(),n=cO;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(lO);var fO={},hO={},pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0,n=y0;function r(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const d=a==null?void 0:a(o,s,l,c);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(pO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(hO);var mO={},v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(v0);var gO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zx,n=v0,r=gO,i=vh;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0(),n=yh,r=hO,i=gh,a=mO;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const d=i.get(c,s);return d===void 0?a.has(c,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ic,n=sO,r=lO,i=fO;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Ih);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rO,n=Ic,r=iO,i=Ih;function a(o,s=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(nO);var CH=nO.uniqBy;const sS=Rn(CH);function yO(e,t,n){return t===!0?sS(e,n):typeof t=="function"?sS(e,t):e}var vO={exports:{}},xO={},bO={exports:{}},wO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=x;function _H(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EH=typeof Object.is=="function"?Object.is:_H,NH=ss.useState,PH=ss.useEffect,OH=ss.useLayoutEffect,AH=ss.useDebugValue;function TH(e,t){var n=t(),r=NH({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return OH(function(){i.value=n,i.getSnapshot=t,Pm(i)&&a({inst:i})},[e,n,t]),PH(function(){return Pm(i)&&a({inst:i}),e(function(){Pm(i)&&a({inst:i})})},[e]),AH(n),n}function Pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!EH(e,n)}catch{return!0}}function IH(e,t){return t()}var DH=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IH:TH;wO.useSyncExternalStore=ss.useSyncExternalStore!==void 0?ss.useSyncExternalStore:DH;bO.exports=wO;var RH=bO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=x,MH=RH;function LH(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $H=typeof Object.is=="function"?Object.is:LH,FH=MH.useSyncExternalStore,zH=Dh.useRef,UH=Dh.useEffect,BH=Dh.useMemo,WH=Dh.useDebugValue;xO.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=zH(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=BH(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,$H(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=FH(e,a[0],a[1]);return UH(function(){o.hasValue=!0,o.value=s},[s]),WH(s),s};vO.exports=xO;var HH=vO.exports,x0=x.createContext(null),KH=e=>e,Ve=()=>{var e=x.useContext(x0);return e?e.store.dispatch:KH},sd=()=>{},qH=()=>sd,VH=(e,t)=>e===t;function ie(e){var t=x.useContext(x0);return HH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:qH,t?t.store.getState:sd,t?t.store.getState:sd,t?e:sd,VH)}function GH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function YH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function JH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var lS=e=>Array.isArray(e)?e:[e];function XH(e){const t=Array.isArray(e[0])?e[0]:e;return JH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function QH(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var ZH=class{constructor(e){this.value=e}deref(){return this.value}},eK=typeof WeakRef<"u"?WeakRef:ZH,tK=0,cS=1;function Pu(){return{s:tK,v:void 0,o:null,p:null}}function kO(e,t={}){let n=Pu();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var f;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(m);y===void 0?(s=Pu(),g.set(m,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(m);y===void 0?(s=Pu(),g.set(m,s)):s=y}}const c=s;let d;if(s.s===cS)d=s.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new eK(d):d}return c.s=cS,c.v=d,d}return o.clearCache=()=>{n=Pu(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function nK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),GH(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=kO,argsMemoizeOptions:m=[],devModeChecks:g={}}=d,y=lS(h),v=lS(m),b=XH(i),w=f(function(){return a++,c.apply(null,arguments)},...y),S=p(function(){o++;const k=QH(b,arguments);return s=w.apply(null,k),s},...v);return Object.assign(S,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var W=nK(kO),rK=Object.assign((e,t=W)=>{YH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>rK}),SO={},jO={},CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),s=t(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=n})(CO);var _O={},b0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(b0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(_O);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO,n=_O,r=vh;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(jO);var EO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const d=s[c];Array.isArray(d)&&l<a?o(d,l+1):i.push(d)}};return o(n,0),i}e.flatten=t})(EO);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0,n=Th,r=d0,i=h0;function a(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(w0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jO,n=EO,r=w0;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(SO);var iK=SO.sortBy;const Rh=Rn(iK);var NO=e=>e.legend.settings,aK=e=>e.legend.size,oK=e=>e.legend.payload,sK=W([oK,NO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Rh(r,n):r});function lK(){return ie(sK)}var Ou=1;function PO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ou||Math.abs(o.left-t.left)>Ou||Math.abs(o.top-t.top)>Ou||Math.abs(o.width-t.width)>Ou)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Et(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cK=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),uS=cK,Om=()=>Math.random().toString(36).substring(7).split("").join("."),uK={INIT:`@@redux/INIT${Om()}`,REPLACE:`@@redux/REPLACE${Om()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Om()}`},tf=uK;function k0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function OO(e,t,n){if(typeof e!="function")throw new Error(Et(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Et(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Et(1));return n(OO)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((y,v)=>{o.set(v,y)}))}function d(){if(l)throw new Error(Et(3));return i}function f(y){if(typeof y!="function")throw new Error(Et(4));if(l)throw new Error(Et(5));let v=!0;c();const b=s++;return o.set(b,y),function(){if(v){if(l)throw new Error(Et(6));v=!1,c(),o.delete(b),a=null}}}function h(y){if(!k0(y))throw new Error(Et(7));if(typeof y.type>"u")throw new Error(Et(8));if(typeof y.type!="string")throw new Error(Et(17));if(l)throw new Error(Et(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=o).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(Et(10));r=y,h({type:tf.REPLACE})}function m(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Et(11));function b(){const S=v;S.next&&S.next(d())}return b(),{unsubscribe:y(b)}},[uS](){return this}}}return h({type:tf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[uS]:m}}function dK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:tf.INIT})>"u")throw new Error(Et(12));if(typeof n(void 0,{type:tf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Et(13))})}function AO(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{dK(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],p=o[f],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(Et(14));c[f]=m,l=l||m!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function nf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function fK(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Et(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=nf(...s)(i.dispatch),{...i,dispatch:a}}}function TO(e){return k0(e)&&"type"in e&&typeof e.type=="string"}var IO=Symbol.for("immer-nothing"),dS=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function fr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ls=Object.getPrototypeOf;function Ya(e){return!!e&&!!e[In]}function di(e){var t;return e?DO(e)||Array.isArray(e)||!!e[dS]||!!((t=e.constructor)!=null&&t[dS])||Dc(e)||Lh(e):!1}var hK=Object.prototype.constructor.toString();function DO(e){if(!e||typeof e!="object")return!1;const t=ls(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===hK}function rf(e,t){Mh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Mh(e){const t=e[In];return t?t.type_:Array.isArray(e)?1:Dc(e)?2:Lh(e)?3:0}function Ty(e,t){return Mh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RO(e,t,n){const r=Mh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function pK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dc(e){return e instanceof Map}function Lh(e){return e instanceof Set}function ba(e){return e.copy_||e.base_}function Iy(e,t){if(Dc(e))return new Map(e);if(Lh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=DO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[In];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(ls(e),r)}else{const r=ls(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function S0(e,t=!1){return $h(e)||Ya(e)||!di(e)||(Mh(e)>1&&Object.defineProperties(e,{set:{value:Au},add:{value:Au},clear:{value:Au},delete:{value:Au}}),Object.freeze(e),t&&Object.values(e).forEach(n=>S0(n,!0))),e}function Au(){fr(2)}function $h(e){return Object.isFrozen(e)}var mK={};function Ja(e){const t=mK[e];return t||fr(0,e),t}var sc;function MO(){return sc}function gK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fS(e,t){t&&(Ja("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Dy(e){Ry(e),e.drafts_.forEach(yK),e.drafts_=null}function Ry(e){e===sc&&(sc=e.parent_)}function hS(e){return sc=gK(sc,e)}function yK(e){const t=e[In];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function pS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[In].modified_&&(Dy(t),fr(4)),di(e)&&(e=af(t,e),t.parent_||of(t,e)),t.patches_&&Ja("Patches").generateReplacementPatches_(n[In].base_,e,t.patches_,t.inversePatches_)):e=af(t,n,[]),Dy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IO?e:void 0}function af(e,t,n){if($h(t))return t;const r=t[In];if(!r)return rf(t,(i,a)=>mS(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return of(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),rf(a,(s,l)=>mS(e,r,i,s,l,n,o)),of(e,i,!1),n&&e.patches_&&Ja("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function mS(e,t,n,r,i,a,o){if(Ya(i)){const s=a&&t&&t.type_!==3&&!Ty(t.assigned_,r)?a.concat(r):void 0,l=af(e,i,s);if(RO(n,r,l),Ya(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(di(i)&&!$h(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;af(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Dc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&of(e,i)}}function of(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S0(t,n)}function vK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:MO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=j0;n&&(i=[r],a=lc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var j0={get(e,t){if(t===In)return e;const n=ba(e);if(!Ty(n,t))return xK(e,n,t);const r=n[t];return e.finalized_||!di(r)?r:r===Am(e.base_,t)?(Tm(e),e.copy_[t]=Ly(r,e)):r},has(e,t){return t in ba(e)},ownKeys(e){return Reflect.ownKeys(ba(e))},set(e,t,n){const r=LO(ba(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Am(ba(e),t),a=i==null?void 0:i[In];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(pK(n,i)&&(n!==void 0||Ty(e.base_,t)))return!0;Tm(e),My(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Am(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tm(e),My(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ba(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){fr(11)},getPrototypeOf(e){return ls(e.base_)},setPrototypeOf(){fr(12)}},lc={};rf(j0,(e,t)=>{lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lc.deleteProperty=function(e,t){return lc.set.call(this,e,t,void 0)};lc.set=function(e,t,n){return j0.set.call(this,e[0],t,n,e[0])};function Am(e,t){const n=e[In];return(n?ba(n):e)[t]}function xK(e,t,n){var i;const r=LO(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function LO(e,t){if(!(t in e))return;let n=ls(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ls(n)}}function My(e){e.modified_||(e.modified_=!0,e.parent_&&My(e.parent_))}function Tm(e){e.copy_||(e.copy_=Iy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&fr(6),r!==void 0&&typeof r!="function"&&fr(7);let i;if(di(t)){const a=hS(this),o=Ly(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?Dy(a):Ry(a)}return fS(a,r),pS(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===IO&&(i=void 0),this.autoFreeze_&&S0(i,!0),r){const a=[],o=[];Ja("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else fr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){di(e)||fr(8),Ya(e)&&(e=ii(e));const t=hS(this),n=Ly(e,void 0);return n[In].isManual_=!0,Ry(t),n}finishDraft(e,t){const n=e&&e[In];(!n||!n.isManual_)&&fr(9);const{scope_:r}=n;return fS(r,t),pS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ja("Patches").applyPatches_;return Ya(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ly(e,t){const n=Dc(e)?Ja("MapSet").proxyMap_(e,t):Lh(e)?Ja("MapSet").proxySet_(e,t):vK(e,t);return(t?t.scope_:MO()).drafts_.push(n),n}function ii(e){return Ya(e)||fr(10,e),$O(e)}function $O(e){if(!di(e)||$h(e))return e;const t=e[In];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Iy(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Iy(e,!0);return rf(n,(r,i)=>{RO(n,r,$O(i))}),t&&(t.finalized_=!1),n}var wK=new bK,FO=wK.produce;function zO(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var kK=zO(),SK=zO,jK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nf:nf.apply(null,arguments)};function nr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(On(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>TO(r)&&r.type===e,n}var UO=class gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gl.prototype)}static get[Symbol.species](){return gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gl(...t[0].concat(this)):new gl(...t.concat(this))}};function gS(e){return di(e)?FO(e,()=>{}):e}function Tu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function CK(e){return typeof e=="boolean"}var _K=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new UO;return n&&(CK(n)?o.push(kK):o.push(SK(n.extraArgument))),o},EK="RTK_autoBatch",yS=e=>t=>{setTimeout(t,e)},NK=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:yS(10):e.type==="callback"?e.queueNotification:yS(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[EK]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},PK=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new UO(e);return r&&i.push(NK(typeof r=="object"?r:void 0)),i};function OK(e){const t=_K(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(k0(n))l=AO(n);else throw new Error(On(1));let c;typeof r=="function"?c=r(t):c=t();let d=nf;i&&(d=jK({trace:!1,...typeof i=="object"&&i}));const f=fK(...c),h=PK(f);let p=typeof s=="function"?s(h):h();const m=d(...p);return OO(l,o,m)}function BO(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(On(28));if(s in t)throw new Error(On(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function AK(e){return typeof e=="function"}function TK(e,t){let[n,r,i]=BO(t),a;if(AK(e))a=()=>gS(e());else{const s=gS(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Ya(d)){const p=f(d,l);return p===void 0?d:p}else{if(di(d))return FO(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=a,o}var IK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",DK=(e=21)=>{let t="",n=e;for(;n--;)t+=IK[Math.random()*64|0];return t},RK=Symbol.for("rtk-slice-createasyncthunk");function MK(e,t){return`${e}/${t}`}function LK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[RK];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(On(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(FK()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(S,j){const k=typeof S=="string"?S:S.type;if(!k)throw new Error(On(12));if(k in c.sliceCaseReducersByType)throw new Error(On(13));return c.sliceCaseReducersByType[k]=j,d},addMatcher(S,j){return c.sliceMatchers.push({matcher:S,reducer:j}),d},exposeAction(S,j){return c.actionCreators[S]=j,d},exposeCaseReducer(S,j){return c.sliceCaseReducersByName[S]=j,d}};l.forEach(S=>{const j=s[S],k={reducerName:S,type:MK(a,S),createNotation:typeof i.reducers=="function"};UK(j)?WK(k,j,d,t):zK(k,j,d)});function f(){const[S={},j=[],k=void 0]=typeof i.extraReducers=="function"?BO(i.extraReducers):[i.extraReducers],_={...S,...c.sliceCaseReducersByType};return TK(i.initialState,N=>{for(let O in _)N.addCase(O,_[O]);for(let O of c.sliceMatchers)N.addMatcher(O.matcher,O.reducer);for(let O of j)N.addMatcher(O.matcher,O.reducer);k&&N.addDefaultCase(k)})}const h=S=>S,p=new Map,m=new WeakMap;let g;function y(S,j){return g||(g=f()),g(S,j)}function v(){return g||(g=f()),g.getInitialState()}function b(S,j=!1){function k(N){let O=N[S];return typeof O>"u"&&j&&(O=Tu(m,k,v)),O}function _(N=h){const O=Tu(p,j,()=>new WeakMap);return Tu(O,N,()=>{const E={};for(const[T,M]of Object.entries(i.selectors??{}))E[T]=$K(M,N,()=>Tu(m,N,v),j);return E})}return{reducerPath:S,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(S,{reducerPath:j,...k}={}){const _=j??o;return S.inject({reducerPath:_,reducer:y},k),{...w,...b(_,!0)}}};return w}}function $K(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Fn=LK();function FK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function zK({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!BK(r))throw new Error(On(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?nr(e,o):nr(e))}function UK(e){return e._reducerDefinitionType==="asyncThunk"}function BK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function WK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(On(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||Iu,pending:s||Iu,rejected:l||Iu,settled:c||Iu})}function Iu(){}var HK="task",WO="listener",HO="completed",C0="cancelled",KK=`task-${C0}`,qK=`task-${HO}`,$y=`${WO}-${C0}`,VK=`${WO}-${HO}`,Fh=class{constructor(e){nu(this,"name","TaskAbortError");nu(this,"message");this.code=e,this.message=`${HK} ${C0} (reason: ${e})`}},_0=(e,t)=>{if(typeof e!="function")throw new TypeError(On(32))},sf=()=>{},KO=(e,t=sf)=>(e.catch(t),e),qO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),La=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},$a=e=>{if(e.aborted){const{reason:t}=e;throw new Fh(t)}};function VO(e,t){let n=sf;return new Promise((r,i)=>{const a=()=>i(new Fh(e.reason));if(e.aborted){a();return}n=qO(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=sf})}var GK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Fh?"cancelled":"rejected",error:n}}finally{t==null||t()}},lf=e=>t=>KO(VO(e,t).then(n=>($a(e),n))),GO=e=>{const t=lf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Go}=Object,vS={},zh="listenerMiddleware",YK=(e,t)=>{const n=r=>qO(e,()=>La(r,e.reason));return(r,i)=>{_0(r);const a=new AbortController;n(a);const o=GK(async()=>{$a(e),$a(a.signal);const s=await r({pause:lf(a.signal),delay:GO(a.signal),signal:a.signal});return $a(a.signal),s},()=>La(a,qK));return i!=null&&i.autoJoin&&t.push(o.catch(sf)),{result:lf(e)(o),cancel(){La(a,KK)}}}},JK=(e,t)=>{const n=async(r,i)=>{$a(t);let a=()=>{};const s=[new Promise((l,c)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await VO(t,Promise.race(s));return $a(t),l}finally{a()}};return(r,i)=>KO(n(r,i))},YO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=nr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(On(21));return _0(a),{predicate:i,type:t,effect:a}},JO=Go(e=>{const{type:t,predicate:n,effect:r}=YO(e);return{id:DK(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(On(22))}}},{withTypes:()=>JO}),xS=(e,t)=>{const{type:n,effect:r,predicate:i}=YO(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Fy=e=>{e.pending.forEach(t=>{La(t,$y)})},XK=e=>()=>{e.forEach(Fy),e.clear()},bS=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},XO=Go(nr(`${zh}/add`),{withTypes:()=>XO}),QK=nr(`${zh}/removeAll`),QO=Go(nr(`${zh}/remove`),{withTypes:()=>QO}),ZK=(...e)=>{console.error(`${zh}/error`,...e)},Rc=(e={})=>{const t=new Map,{extra:n,onError:r=ZK}=e;_0(r);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Fy(d)}),a=d=>{const f=xS(t,d)??JO(d);return i(f)};Go(a,{withTypes:()=>a});const o=d=>{const f=xS(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Fy(f)),!!f};Go(o,{withTypes:()=>o});const s=async(d,f,h,p)=>{const m=new AbortController,g=JK(a,m.signal),y=[];try{d.pending.add(m),await Promise.resolve(d.effect(f,Go({},h,{getOriginalState:p,condition:(v,b)=>g(v,b).then(Boolean),take:g,delay:GO(m.signal),pause:lf(m.signal),extra:n,signal:m.signal,fork:YK(m.signal,y),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,b,w)=>{v!==m&&(La(v,$y),w.delete(v))})},cancel:()=>{La(m,$y),d.pending.delete(m)},throwIfCancelled:()=>{$a(m.signal)}})))}catch(v){v instanceof Fh||bS(r,v,{raisedBy:"effect"})}finally{await Promise.all(y),La(m,VK),d.pending.delete(m)}},l=XK(t);return{middleware:d=>f=>h=>{if(!TO(h))return f(h);if(XO.match(h))return a(h.payload);if(QK.match(h)){l();return}if(QO.match(h))return o(h.payload);let p=d.getState();const m=()=>{if(p===vS)throw new Error(On(23));return p};let g;try{if(g=f(h),t.size>0){const y=d.getState(),v=Array.from(t.values());for(const b of v){let w=!1;try{w=b.predicate(h,y,p)}catch(S){w=!1,bS(r,S,{raisedBy:"predicate"})}w&&s(b,h,d,m)}}}finally{p=vS}return g},startListening:a,stopListening:o,clearListeners:l}};function On(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ZO=Fn({name:"chartLayout",initialState:eq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tq,setLayout:nq,setChartSize:rq,setScale:iq}=ZO.actions,aq=ZO.reducer;function wS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(n),!0).forEach(function(r){oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oq(e,t,n){return(t=sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sq(e){var t=lq(e,"string");return typeof t=="symbol"?t:t+""}function lq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf=Math.PI/180,uf=e=>e*Math.PI/180,cq=e=>e*180/Math.PI,Ie=(e,t,n,r)=>({x:e+Math.cos(-cf*r)*n,y:t+Math.sin(-cf*r)*n}),uq=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},dq=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},fq=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=dq({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:cq(l),angleInRadian:l}},hq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},pq=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},mq=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=fq({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=hq(t),d=a,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?kS(kS({},t),{},{radius:i,angle:pq(d,t)}):null},eA=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function tA(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(n),!0).forEach(function(r){gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gq(e,t,n){return(t=yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e,t,n){return nt(e)||nt(t)?n:Ur(t)?as(e,t,n):typeof t=="function"?t(e):n}var xq=(e,t,n,r,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,d=n[l].coordinate,f=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(cn(d-c)!==cn(f-d)){var p=[];if(cn(f-d)===cn(i[1]-i[0])){h=f;var m=d+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=f+i[1]-i[0];p[0]=Math.min(d,(g+d)/2),p[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,f),b=Math.max(c,f);if(e>(v+d)/2&&e<=(b+d)/2){({index:o}=n[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},bq=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&ue(e[a]))return Jn(Jn({},e),{},{[a]:e[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&ue(e[o]))return Jn(Jn({},e),{},{[o]:e[o]+(i||0)})}return e},aa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nA=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(n),o},rA=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(t||n)&&i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?cn(a[0]-a[1])*2*g:g,t&&(f||h)){var y=(f||h||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:o(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!Tn(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:o(v)+g,value:v,index:b,offset:g})):o.ticks&&!n&&d!=null?o.ticks(d).map((v,b)=>({coordinate:o(v)+g,value:v,offset:g,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+g,value:r?r[v]:v,index:b,offset:g}))},jS=1e-4,wq=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-jS,a=Math.max(r[0],r[1])+jS,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},kq=(e,t)=>{if(!t||t.length!==2||!ue(t[0])||!ue(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(i[0]=n),(!ue(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Sq=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=Tn(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},jq=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=Tn(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Cq={sign:Sq,expand:lH,none:os,silhouette:cH,wiggle:uH,positive:jq},_q=(e,t,n)=>{var r=Cq[n],i=sH().keys(t).value((a,o)=>+yt(a,o,0)).order(Py).offset(r);return i(e)};function Eq(e){return e==null?void 0:String(e)}var CS=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var s=yt(a,t.dataKey,t.scale.domain()[o]);return nt(s)?null:t.scale(s)-i/2+r},Nq=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Pq=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},Oq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Aq=(e,t,n)=>{if(e!=null)return Oq(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var d=tA(c,t,n),f=Pq(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},_S=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ES=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Rh(t,d=>d.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function NS(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Jn(Jn({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Uh(e,t){if(e)return String(e);if(typeof t=="string")return t}function Tq(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?mq({x:e,y:t},r):null}var Iq=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Jn(Jn(Jn({},r),Ie(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Jn(Jn(Jn({},r),Ie(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},Dq=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,vi=e=>e.layout.width,xi=e=>e.layout.height,Rq=e=>e.layout.scale,iA=e=>e.layout.margin,Bh=W(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wh=W(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Mq="data-recharts-item-index",Lq="data-recharts-item-data-key",Mc=60;function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(r){$q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $q(e,t,n){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fq(e){var t=zq(e,"string");return typeof t=="symbol"?t:t+""}function zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uq=e=>e.brush.height;function Bq(e){var t=Wh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function Wq(e){var t=Wh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function Hq(e){var t=Bh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Kq(e){var t=Bh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var jt=W([vi,xi,iA,Uq,Bq,Wq,Hq,Kq,NO,aK],(e,t,n,r,i,a,o,s,l,c)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},h=Du(Du({},f),d),p=h.bottom;h.bottom+=r,h=bq(h,l,c);var m=e-h.left-h.right,g=t-h.top-h.bottom;return Du(Du({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),qq=W(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),E0=W(vi,xi,(e,t)=>({x:0,y:0,width:e,height:t})),Vq=x.createContext(null),gn=()=>x.useContext(Vq)!=null,Hh=e=>e.brush,Kh=W([Hh,jt,iA],(e,t,n)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ue(e.width)?e.width:t.width})),N0=()=>{var e,t=gn(),n=ie(qq),r=ie(Kh),i=(e=ie(Hh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Gq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aA=()=>{var e;return(e=ie(jt))!==null&&e!==void 0?e:Gq},P0=()=>ie(vi),O0=()=>ie(xi),Yq=()=>ie(e=>e.layout.margin),je=e=>e.layout.layoutType,A0=()=>ie(je),Jq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oA=Fn({name:"legend",initialState:Jq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=ii(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:OS,setLegendSettings:Xq,addLegendPayload:sA,removeLegendPayload:lA}=oA.actions,Qq=oA.reducer,Zq=["contextPayload"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(n),!0).forEach(function(r){T0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0(e,t,n){return(t=eV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nV(e,t){if(e==null)return{};var n,r,i=rV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iV(e){return e.value}function aV(e){var{contextPayload:t}=e,n=nV(e,Zq),r=yO(t,e.payloadUniqBy,iV),i=cs(cs({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(u0,i)}function oV(e,t,n,r,i,a){var{layout:o,align:s,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-a.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cs(cs({},c),d)}function sV(e){var t=Ve();return x.useEffect(()=>{t(Xq(e))},[t,e]),null}function lV(e){var t=Ve();return x.useEffect(()=>(t(OS(e)),()=>{t(OS({width:0,height:0}))}),[t,e]),null}function cV(e){var t=lK(),n=AW(),r=Yq(),{width:i,height:a,wrapperStyle:o,portal:s}=e,[l,c]=PO([t]),d=P0(),f=O0();if(d==null||f==null)return null;var h=d-(r.left||0)-(r.right||0),p=qh.getWidthOrHeight(e.layout,a,i,h),m=s?o:cs(cs({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},oV(o,e,r,d,f,l)),o),g=s??n;if(g==null)return null;var y=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},x.createElement(sV,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(lV,{width:l.width,height:l.height}),x.createElement(aV,zy({},e,p,{margin:r,chartWidth:d,chartHeight:f,contextPayload:t})));return bx.createPortal(y,g)}class qh extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&ue(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(cV,this.props)}}T0(qh,"displayName","Legend");T0(qh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uy.apply(null,arguments)}function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(n),!0).forEach(function(r){uV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uV(e,t,n){return(t=dV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dV(e){var t=fV(e,"string");return typeof t=="symbol"?t:t+""}function fV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hV(e){return Array.isArray(e)&&Ur(e[0])&&Ur(e[1])?e.join(" ~ "):e}var pV=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(s?Rh(a,s):a).map((_,N)=>{if(_.type==="none")return null;var O=_.formatter||o||hV,{value:E,name:T}=_,M=E,$=T;if(O){var I=O(E,T,_,N,a);if(Array.isArray(I))[M,$]=I;else if(I!=null)M=I;else return null}var z=Im({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:z},Ur($)?x.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Ur($)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},M),x.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},m=Im({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Im({margin:0},i),y=!nt(d),v=y?d:"",b=Se("recharts-default-tooltip",l),w=Se("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(v=f(d,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Uy({className:b,style:m},S),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),p())},nl="recharts-tooltip-wrapper",mV={visibility:"hidden"};function gV(e){var{coordinate:t,translateX:n,translateY:r}=e;return Se(nl,{["".concat(nl,"-right")]:ue(n)&&t&&ue(t.x)&&n>=t.x,["".concat(nl,"-left")]:ue(n)&&t&&ue(t.x)&&n<t.x,["".concat(nl,"-bottom")]:ue(r)&&t&&ue(t.y)&&r>=t.y,["".concat(nl,"-top")]:ue(r)&&t&&ue(t.y)&&r<t.y})}function IS(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&ue(a[r]))return a[r];var d=n[r]-s-(i>0?i:0),f=n[r]+i;if(t[r])return o[r]?d:f;var h=l[r];if(h==null)return 0;if(o[r]){var p=d,m=h;return p<m?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var g=f+s,y=h+c;return g>y?Math.max(d,h):Math.max(f,h)}function yV(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function vV(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,d,f;return o.height>0&&o.width>0&&n?(d=IS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=IS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=yV({translateX:d,translateY:f,useTranslate3d:s})):c=mV,{cssProperties:c,cssClasses:gV({translateX:d,translateY:f,coordinate:n})}}function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(n),!0).forEach(function(r){By(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function By(e,t,n){return(t=xV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wV extends x.PureComponent{constructor(){super(...arguments),By(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),By(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=vV({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=v?{}:Ru(Ru({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=Ru(Ru({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:y},a)}}var kV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),so={devToolsEnabled:!1,isSsr:kV()},cA=()=>ie(e=>e.rootProps.accessibilityLayer);function Dn(e){return Number.isFinite(e)}function us(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(r){SV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SV(e,t,n){return(t=jV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jV(e){var t=CV(e,"string");return typeof t=="symbol"?t:t+""}function CV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LS={curveBasisClosed:JW,curveBasisOpen:XW,curveBasis:YW,curveBumpX:RW,curveBumpY:MW,curveLinearClosed:QW,curveLinear:Oh,curveMonotoneX:ZW,curveMonotoneY:eH,curveNatural:tH,curveStep:nH,curveStepAfter:iH,curveStepBefore:rH},Mu=e=>Dn(e.x)&&Dn(e.y),rl=e=>e.x,il=e=>e.y,_V=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Tc(e));return(n==="curveMonotone"||n==="curveBump")&&t?LS["".concat(n).concat(t==="vertical"?"Y":"X")]:LS[n]||Oh},EV=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=_V(t,i),s=a?n.filter(Mu):n,l;if(Array.isArray(r)){var c=a?r.filter(f=>Mu(f)):r,d=s.map((f,h)=>MS(MS({},f),{},{base:c[h]}));return i==="vertical"?l=Nu().y(il).x1(rl).x0(f=>f.base.x):l=Nu().x(rl).y1(il).y0(f=>f.base.y),l.defined(Mu).curve(o),l(d)}return i==="vertical"&&ue(r)?l=Nu().y(il).x1(rl).x0(r):ue(r)?l=Nu().x(rl).y1(il).y0(r):l=HP().x(rl).y(il),l.defined(Mu).curve(o),l(s)},NV=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?EV(e):r;return x.createElement("path",Wy({},Xt(e),r0(e),{className:Se("recharts-curve",t),d:a===null?void 0:a,ref:i}))},PV=["x","y","top","left","width","height","className"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(r){AV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AV(e,t,n){return(t=TV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TV(e){var t=IV(e,"string");return typeof t=="symbol"?t:t+""}function IV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DV(e,t){if(e==null)return{};var n,r,i=RV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var MV=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),LV=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=DV(e,PV),c=OV({x:t,y:n,top:r,left:i,width:a,height:o},l);return!ue(t)||!ue(n)||!ue(a)||!ue(o)||!ue(r)||!ue(i)?null:x.createElement("path",Hy({},Ae(c,!0),{className:Se("recharts-cross",s),d:MV(t,n,a,o,r,i)}))};function $V(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(n),!0).forEach(function(r){zV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zV(e,t,n){return(t=UV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(e,t){var n=FV({},e),r=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function WV(){}function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function US(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(r){HV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HV(e,t,n){return(t=KV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KV(e){var t=qV(e,"string");return typeof t=="symbol"?t:t+""}function qV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),uA=(e,t,n)=>e.map(r=>"".concat(VV(r)," ").concat(t,"ms ").concat(n)).join(","),GV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),uc=(e,t)=>Object.keys(t).reduce((n,r)=>US(US({},n),{},{[r]:e(r,t[r])}),{});function BS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(n),!0).forEach(function(r){YV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YV(e,t,n){return(t=JV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=XV(e,"string");return typeof t=="symbol"?t:t+""}function XV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var df=(e,t,n)=>e+(t-e)*n,Ky=e=>{var{from:t,to:n}=e;return t!==n},dA=(e,t,n)=>{var r=uc((i,a)=>{if(Ky(a)){var[o,s]=e(a.from,a.to,a.velocity);return Pt(Pt({},a),{},{from:o,velocity:s})}return a},t);return n<1?uc((i,a)=>Ky(a)?Pt(Pt({},a),{},{velocity:df(a.velocity,r[i].velocity,n),from:df(a.from,r[i].from,n)}):a,t):dA(e,r,n-1)};function QV(e,t,n,r,i,a){var o,s=r.reduce((h,p)=>Pt(Pt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>uc((h,p)=>p.from,s),c=()=>!Object.values(s).filter(Ky).length,d=null,f=h=>{o||(o=h);var p=h-o,m=p/n.dt;s=dA(n,s,m),i(Pt(Pt(Pt({},e),t),l())),o=h,c()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function ZV(e,t,n,r,i,a,o){var s=null,l=i.reduce((f,h)=>Pt(Pt({},f),{},{[h]:[e[h],t[h]]}),{}),c,d=f=>{c||(c=f);var h=(f-c)/r,p=uc((g,y)=>df(...y,n(h)),l);if(a(Pt(Pt(Pt({},e),t),p)),h<1)s=o.setTimeout(d);else{var m=uc((g,y)=>df(...y,n(1)),l);a(Pt(Pt(Pt({},e),t),m))}};return()=>(s=o.setTimeout(d),()=>{s()})}const e7=(e,t,n,r,i,a)=>{var o=GV(e,t);return n.isStepper===!0?QV(e,t,n,o,i,a):ZV(e,t,n,r,o,i,a)};var ff=1e-4,fA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hA=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),WS=(e,t)=>n=>{var r=fA(e,t);return hA(r,n)},t7=(e,t)=>n=>{var r=fA(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return hA(i,n)},HS=function(){for(var t,n,r,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,r,n,i]=o);var c=WS(t,n),d=WS(r,i),f=t7(t,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,y=g,v=0;v<8;++v){var b=c(y)-g,w=f(y);if(Math.abs(b-g)<ff||w<ff)return d(y);y=h(y-b/w)}return d(y)};return p.isStepper=!1,p},n7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*n,d=l*r,f=l+(c-d)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<ff&&Math.abs(f)<ff?[s,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},r7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HS(e);case"spring":return n7();default:if(e.split("(")[0]==="cubic-bezier")return HS(e)}return typeof e=="function"?e:null};function i7(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class a7{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function o7(){return i7(new a7)}var s7=x.createContext(o7);function l7(e,t){var n=x.useContext(s7);return x.useMemo(()=>t??n(e),[e,t,n])}var c7={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KS={t:0},Dm={t:1};function Vh(e){var t=yn(e,c7),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,d=l7(t.animationId,t.animationManager),[f,h]=x.useState(n?KS:Dm),p=x.useRef(null);return x.useEffect(()=>{n||h(Dm)},[n]),x.useEffect(()=>{if(!n||!r)return WV;var m=e7(KS,Dm,r7(a),i,h,d.getTimeoutController()),g=()=>{p.current=m()};return d.start([l,o,g,i,s]),()=>{d.stop(),p.current&&p.current(),s()}},[n,r,i,a,o,l,s,d]),c(f.t)}function Gh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(oc(t)),r=x.useRef(e);return r.current!==e&&(n.current=oc(t),r.current=e),n.current}function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(n),!0).forEach(function(r){u7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u7(e,t,n){return(t=d7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=f7(e,"string");return typeof t=="symbol"?t:t+""}function f7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(null,arguments)}var GS=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];c="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+s*d[0],",").concat(t)),c+="L ".concat(e+n-s*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+o*d[1])),c+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+n-s*d[2],",").concat(t+r)),c+="L ".concat(e+s*d[3],",").concat(t+r),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-o*d[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+n-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+o*p,`
            L `).concat(e+n,",").concat(t+r-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-s*p,",").concat(t+r,`
            L `).concat(e+s*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},h7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pA=e=>{var t=yn(e,h7),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&i(I)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=x.useRef(s),v=x.useRef(l),b=x.useRef(a),w=x.useRef(o),S=x.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),j=Gh(S,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var k=Se("recharts-rectangle",d);if(!g)return x.createElement("path",hf({},Ae(t,!0),{className:k,d:GS(a,o,s,l,c)}));var _=y.current,N=v.current,O=b.current,E=w.current,T="0px ".concat(r===-1?1:r,"px"),M="".concat(r,"px 0px"),$=uA(["strokeDasharray"],h,typeof f=="string"?f:void 0);return x.createElement(Vh,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:g,begin:p},I=>{var z=mt(_,s,I),B=mt(N,l,I),Y=mt(O,a,I),D=mt(E,o,I);n.current&&(y.current=z,v.current=B,b.current=Y,w.current=D);var R;return m?I>0?R={transition:$,strokeDasharray:M}:R={strokeDasharray:T}:R={strokeDasharray:M},x.createElement("path",hf({},Ae(t,!0),{className:k,d:GS(Y,D,z,B,c),ref:n,style:VS(VS({},R),t.style)}))})};function mA(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Ie(t,n,r,i),s=Ie(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}var p7=(e,t)=>{var n=cn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Lu=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,d=Math.asin(s/c)/cf,f=l?i:i+a*d,h=Ie(t,n,c,f),p=Ie(t,n,r,f),m=l?i-a*d:i,g=Ie(t,n,c*Math.cos(d*cf),m);return{center:h,circleTangency:p,lineTangency:g,theta:d}},gA=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=p7(a,o),l=a+s,c=Ie(t,n,i,a),d=Ie(t,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var h=Ie(t,n,r,a),p=Ie(t,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},m7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,d=cn(c-l),{circleTangency:f,lineTangency:h,theta:p}=Lu({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:y}=Lu({cx:t,cy:n,radius:i,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):gA({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=Lu({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:_,theta:N}=Lu({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),O=s?Math.abs(l-c):Math.abs(l-c)-j-N;if(O<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},g7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yA=e=>{var t=yn(e,g7),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(a<i||c===d)return null;var h=Se("recharts-sector",f),p=a-i,m=br(o,p,0,!0),g;return m>0&&Math.abs(c-d)<360?g=m7({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:d}):g=gA({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:d}),x.createElement("path",qy({},Ae(t,!0),{className:h,d:g}))};function y7(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:d,angle:f}=t,h=Ie(s,l,c,f),p=Ie(s,l,d,f);r=h.x,i=h.y,a=p.x,o=p.y}else return mA(t);return[{x:r,y:i},{x:a,y:o}]}var vA={},xA={},bA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(bA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bA;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(xA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0,n=xA;function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=r})(vA);var v7=vA.range;const wA=Rn(v7);function Gi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function x7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I0(e){let t,n,r;e.length!==2?(t=Gi,n=(s,l)=>Gi(e(s),l),r=(s,l)=>e(s)-l):(t=e===Gi||e===x7?e:b7,n=e,r=e);function i(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<0?c=f+1:d=f}while(c<d)}return c}function a(s,l,c=0,d=s.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;n(s[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function o(s,l,c=0,d=s.length){const f=i(s,l,c,d-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function b7(){return 0}function kA(e){return e===null?NaN:+e}function*w7(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const k7=I0(Gi),S7=k7.right;I0(kA).center;const Lc=S7;class YS extends Map{constructor(t,n=_7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(JS(this,t))}has(t){return super.has(JS(this,t))}set(t,n){return super.set(j7(this,t),n)}delete(t){return super.delete(C7(this,t))}}function JS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function j7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function C7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function E7(e=Gi){if(e===Gi)return SA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function SA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const N7=Math.sqrt(50),P7=Math.sqrt(10),O7=Math.sqrt(2);function pf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=N7?10:a>=P7?5:a>=O7?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?pf(e,t,n*2):[s,l,c]}function Vy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?pf(t,e,n):pf(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Gy(e,t,n){return t=+t,e=+e,n=+n,pf(e,t,n)[2]}function Yy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Gy(t,e,n):Gy(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function XS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function QS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function jA(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?SA:E7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*f/l+h)),m=Math.min(r,Math.floor(t+(l-c)*f/l+h));jA(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(al(e,n,t),i(e[r],a)>0&&al(e,n,r);o<s;){for(al(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?al(e,n,s):(++s,al(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function al(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function A7(e,t,n){if(e=Float64Array.from(w7(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return QS(e);if(t>=1)return XS(e);var r,i=(r-1)*t,a=Math.floor(i),o=XS(jA(e,a).subarray(0,a+1)),s=QS(e.subarray(a+1));return o+(s-o)*(i-a)}}function T7(e,t,n=kA){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function I7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jy=Symbol("implicit");function D0(){var e=new YS,t=[],n=[],r=Jy;function i(a){let o=e.get(a);if(o===void 0){if(r!==Jy)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new YS;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return D0(t,n).unknown(r)},ar.apply(i,arguments),i}function R0(){var e=D0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*d,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var y=I7(h).map(function(v){return m+a*v});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return R0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(d)},ar.apply(f(),arguments)}function CA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CA(t())},e}function D7(){return CA(R0.apply(null,arguments).paddingInner(1))}function M0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _A(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $c(){}var dc=.7,mf=1/dc,Yo="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R7=/^#([0-9a-f]{3,8})$/,M7=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),L7=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),$7=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${fc}\\)$`),F7=new RegExp(`^rgba\\(${zr},${zr},${zr},${fc}\\)$`),z7=new RegExp(`^hsl\\(${fc},${zr},${zr}\\)$`),U7=new RegExp(`^hsla\\(${fc},${zr},${zr},${fc}\\)$`),ZS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M0($c,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ej,formatHex:ej,formatHex8:B7,formatHsl:W7,formatRgb:tj,toString:tj});function ej(){return this.rgb().formatHex()}function B7(){return this.rgb().formatHex8()}function W7(){return EA(this).formatHsl()}function tj(){return this.rgb().formatRgb()}function hc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=R7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?nj(t):n===3?new un(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=M7.exec(e))?new un(t[1],t[2],t[3],1):(t=L7.exec(e))?new un(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$7.exec(e))?$u(t[1],t[2],t[3],t[4]):(t=F7.exec(e))?$u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=z7.exec(e))?aj(t[1],t[2]/100,t[3]/100,1):(t=U7.exec(e))?aj(t[1],t[2]/100,t[3]/100,t[4]):ZS.hasOwnProperty(e)?nj(ZS[e]):e==="transparent"?new un(NaN,NaN,NaN,0):null}function nj(e){return new un(e>>16&255,e>>8&255,e&255,1)}function $u(e,t,n,r){return r<=0&&(e=t=n=NaN),new un(e,t,n,r)}function H7(e){return e instanceof $c||(e=hc(e)),e?(e=e.rgb(),new un(e.r,e.g,e.b,e.opacity)):new un}function Xy(e,t,n,r){return arguments.length===1?H7(e):new un(e,t,n,r??1)}function un(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}M0(un,Xy,_A($c,{brighter(e){return e=e==null?mf:Math.pow(mf,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new un(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new un(Fa(this.r),Fa(this.g),Fa(this.b),gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rj,formatHex:rj,formatHex8:K7,formatRgb:ij,toString:ij}));function rj(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}`}function K7(){return`#${Oa(this.r)}${Oa(this.g)}${Oa(this.b)}${Oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function ij(){const e=gf(this.opacity);return`${e===1?"rgb(":"rgba("}${Fa(this.r)}, ${Fa(this.g)}, ${Fa(this.b)}${e===1?")":`, ${e})`}`}function gf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oa(e){return e=Fa(e),(e<16?"0":"")+e.toString(16)}function aj(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hr(e,t,n,r)}function EA(e){if(e instanceof hr)return new hr(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=hc(e)),!e)return new hr;if(e instanceof hr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new hr(o,s,l,e.opacity)}function q7(e,t,n,r){return arguments.length===1?EA(e):new hr(e,t,n,r??1)}function hr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}M0(hr,q7,_A($c,{brighter(e){return e=e==null?mf:Math.pow(mf,e),new hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new un(Rm(e>=240?e-240:e+120,i,r),Rm(e,i,r),Rm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new hr(oj(this.h),Fu(this.s),Fu(this.l),gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gf(this.opacity);return`${e===1?"hsl(":"hsla("}${oj(this.h)}, ${Fu(this.s)*100}%, ${Fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oj(e){return e=(e||0)%360,e<0?e+360:e}function Fu(e){return Math.max(0,Math.min(1,e||0))}function Rm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const L0=e=>()=>e;function V7(e,t){return function(n){return e+n*t}}function G7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Y7(e){return(e=+e)==1?NA:function(t,n){return n-t?G7(t,n,e):L0(isNaN(t)?n:t)}}function NA(e,t){var n=t-e;return n?V7(e,n):L0(isNaN(e)?t:e)}const sj=function e(t){var n=Y7(t);function r(i,a){var o=n((i=Xy(i)).r,(a=Xy(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=NA(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=e,r}(1);function J7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function X7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Q7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ps(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Z7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ps(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Qy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mm=new RegExp(Qy.source,"g");function tG(e){return function(){return e}}function nG(e){return function(t){return e(t)+""}}function rG(e,t){var n=Qy.lastIndex=Mm.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Qy.exec(e))&&(i=Mm.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:yf(r,i)})),n=Mm.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?nG(l[0].x):tG(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(c);return s.join("")})}function Ps(e,t){var n=typeof t,r;return t==null||n==="boolean"?L0(t):(n==="number"?yf:n==="string"?(r=hc(t))?(t=r,sj):rG:t instanceof hc?sj:t instanceof Date?Z7:X7(t)?J7:Array.isArray(t)?Q7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eG:yf)(e,t)}function $0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function iG(e,t){t===void 0&&(t=e,e=Ps);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function aG(e){return function(){return e}}function vf(e){return+e}var lj=[0,1];function qt(e){return e}function Zy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:aG(isNaN(t)?NaN:.5)}function oG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function sG(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Zy(i,r),a=n(o,a)):(r=Zy(r,i),a=n(a,o)),function(s){return a(r(s))}}function lG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Zy(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=Lc(e,s,1,r)-1;return a[l](i[l](s))}}function Fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yh(){var e=lj,t=lj,n=Ps,r,i,a,o=qt,s,l,c;function d(){var h=Math.min(e.length,t.length);return o!==qt&&(o=oG(e[0],e[h-1])),s=h>2?lG:sG,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(t,e.map(r),yf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,vf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=$0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:qt,d()):o!==qt},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function F0(){return Yh()(qt,qt)}function cG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ds(e){return e=xf(Math.abs(e)),e?e[1]:NaN}function uG(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function dG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=fG.exec(e)))throw new Error("invalid format: "+e);var t;return new z0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=z0.prototype;function z0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}z0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var PA;function pG(e,t){var n=xf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(PA=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xf(e,Math.max(0,t+a-1))[0]}function cj(e,t){var n=xf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const uj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cj(e*100,t),r:cj,s:pG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dj(e){return e}var fj=Array.prototype.map,hj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mG(e){var t=e.grouping===void 0||e.thousands===void 0?dj:uG(fj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?dj:dG(fj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=pc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,S=f.trim,j=f.type;j==="n"?(b=!0,j="g"):uj[j]||(w===void 0&&(w=12),S=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",_=g==="$"?r:/[%p]/.test(j)?o:"",N=uj[j],O=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function E(T){var M=k,$=_,I,z,B;if(j==="c")$=N(T)+$,T="";else{T=+T;var Y=T<0||1/T<0;if(T=isNaN(T)?l:N(Math.abs(T),w),S&&(T=hG(T)),Y&&+T==0&&m!=="+"&&(Y=!1),M=(Y?m==="("?m:s:m==="-"||m==="("?"":m)+M,$=(j==="s"?hj[8+PA/3]:"")+$+(Y&&m==="("?")":""),O){for(I=-1,z=T.length;++I<z;)if(B=T.charCodeAt(I),48>B||B>57){$=(B===46?i+T.slice(I+1):T.slice(I))+$,T=T.slice(0,I);break}}}b&&!y&&(T=t(T,1/0));var D=M.length+T.length+$.length,R=D<v?new Array(v-D+1).join(h):"";switch(b&&y&&(T=t(R+T,R.length?v-$.length:1/0),R=""),p){case"<":T=M+T+$+R;break;case"=":T=M+R+T+$;break;case"^":T=R.slice(0,D=R.length>>1)+M+T+$+R.slice(D);break;default:T=R+M+T+$;break}return a(T)}return E.toString=function(){return f+""},E}function d(f,h){var p=c((f=pc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ds(h)/3)))*3,g=Math.pow(10,-m),y=hj[8+m/3];return function(v){return p(g*v)+y}}return{format:c,formatPrefix:d}}var zu,U0,OA;gG({thousands:",",grouping:[3],currency:["$",""]});function gG(e){return zu=mG(e),U0=zu.format,OA=zu.formatPrefix,zu}function yG(e){return Math.max(0,-ds(Math.abs(e)))}function vG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ds(t)/3)))*3-ds(Math.abs(e)))}function xG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ds(t)-ds(e))+1}function AA(e,t,n,r){var i=Yy(e,t,n),a;switch(r=pc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=vG(i,o))&&(r.precision=a),OA(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=xG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=yG(i))&&(r.precision=a-(r.type==="%")*2);break}}return U0(r)}function oa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Vy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return AA(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,d=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);d-- >0;){if(c=Gy(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function TA(){var e=F0();return e.copy=function(){return Fc(e,TA())},ar.apply(e,arguments),oa(e)}function IA(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,vf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return IA(e).unknown(t)},e=arguments.length?Array.from(e,vf):[0,1],oa(n)}function DA(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function pj(e){return Math.log(e)}function mj(e){return Math.exp(e)}function bG(e){return-Math.log(-e)}function wG(e){return-Math.exp(-e)}function kG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SG(e){return e===10?kG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gj(e){return(t,n)=>-e(-t,n)}function B0(e){const t=e(pj,mj),n=t.domain;let r=10,i,a;function o(){return i=jG(r),a=SG(r),n()[0]<0?(i=gj(i),a=gj(a),e(bG,wG)):e(pj,mj),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=i(c),p=i(d),m,g;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>d)break;v.push(g)}v.length*2<y&&(v=Vy(c,d,y))}else v=Vy(h,p,Math.min(p-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=pc(l)).precision==null&&(l.trim=!0),l=U0(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=c?l(d):""}},t.nice=()=>n(DA(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function RA(){const e=B0(Yh()).domain([1,10]);return e.copy=()=>Fc(e,RA()).base(e.base()),ar.apply(e,arguments),e}function yj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function vj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function W0(e){var t=1,n=e(yj(t),vj(t));return n.constant=function(r){return arguments.length?e(yj(t=+r),vj(t)):t},oa(n)}function MA(){var e=W0(Yh());return e.copy=function(){return Fc(e,MA()).constant(e.constant())},ar.apply(e,arguments)}function xj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function CG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _G(e){return e<0?-e*e:e*e}function H0(e){var t=e(qt,qt),n=1;function r(){return n===1?e(qt,qt):n===.5?e(CG,_G):e(xj(n),xj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},oa(t)}function K0(){var e=H0(Yh());return e.copy=function(){return Fc(e,K0()).exponent(e.exponent())},ar.apply(e,arguments),e}function EG(){return K0.apply(null,arguments).exponent(.5)}function bj(e){return Math.sign(e)*e*e}function NG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LA(){var e=F0(),t=[0,1],n=!1,r;function i(a){var o=NG(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(bj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,vf)).map(bj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return LA(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ar.apply(i,arguments),oa(i)}function $A(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=T7(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Lc(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gi),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $A().domain(e).range(t).unknown(r)},ar.apply(a,arguments)}function FA(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Lc(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return FA().domain([e,t]).range(i).unknown(a)},ar.apply(oa(o),arguments)}function zA(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Lc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return zA().domain(e).range(t).unknown(n)},ar.apply(i,arguments)}const Lm=new Date,$m=new Date;function vt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>vt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Lm.setTime(+a),$m.setTime(+o),e(Lm),e($m),Math.floor(n(Lm,$m))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const bf=vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bf);bf.range;const ei=1e3,Qn=ei*60,ti=Qn*60,fi=ti*24,q0=fi*7,wj=fi*30,Fm=fi*365,Aa=vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getUTCSeconds());Aa.range;const V0=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ei)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getMinutes());V0.range;const G0=vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qn)},(e,t)=>(t-e)/Qn,e=>e.getUTCMinutes());G0.range;const Y0=vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ei-e.getMinutes()*Qn)},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getHours());Y0.range;const J0=vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ti)},(e,t)=>(t-e)/ti,e=>e.getUTCHours());J0.range;const zc=vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qn)/fi,e=>e.getDate()-1);zc.range;const Jh=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);Jh.range;const UA=vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));UA.range;function lo(e){return vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qn)/q0)}const Xh=lo(0),wf=lo(1),PG=lo(2),OG=lo(3),fs=lo(4),AG=lo(5),TG=lo(6);Xh.range;wf.range;PG.range;OG.range;fs.range;AG.range;TG.range;function co(e){return vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/q0)}const Qh=co(0),kf=co(1),IG=co(2),DG=co(3),hs=co(4),RG=co(5),MG=co(6);Qh.range;kf.range;IG.range;DG.range;hs.range;RG.range;MG.range;const X0=vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());X0.range;const Q0=vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Q0.range;const hi=vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});hi.range;const pi=vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});pi.range;function BA(e,t,n,r,i,a){const o=[[Aa,1,ei],[Aa,5,5*ei],[Aa,15,15*ei],[Aa,30,30*ei],[a,1,Qn],[a,5,5*Qn],[a,15,15*Qn],[a,30,30*Qn],[i,1,ti],[i,3,3*ti],[i,6,6*ti],[i,12,12*ti],[r,1,fi],[r,2,2*fi],[n,1,q0],[t,1,wj],[t,3,3*wj],[e,1,Fm]];function s(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=I0(([,,y])=>y).right(o,h);if(p===o.length)return e.every(Yy(c/Fm,d/Fm,f));if(p===0)return bf.every(Math.max(Yy(c,d,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[LG,$G]=BA(pi,Q0,Qh,UA,J0,G0),[FG,zG]=BA(hi,X0,Xh,zc,Y0,V0);function zm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Um(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ol(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function UG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=sl(i),d=ll(i),f=sl(a),h=ll(a),p=sl(o),m=ll(o),g=sl(s),y=ll(s),v=sl(l),b=ll(l),w={a:Y,A:D,b:R,B:C,c:null,d:Ej,e:Ej,f:uY,g:bY,G:kY,H:sY,I:lY,j:cY,L:WA,m:dY,M:fY,p:Z,q:H,Q:Oj,s:Aj,S:hY,u:pY,U:mY,V:gY,w:yY,W:vY,x:null,X:null,y:xY,Y:wY,Z:SY,"%":Pj},S={a:A,A:U,b:Q,B:ne,c:null,d:Nj,e:Nj,f:EY,g:LY,G:FY,H:jY,I:CY,j:_Y,L:KA,m:NY,M:PY,p:J,q:re,Q:Oj,s:Aj,S:OY,u:AY,U:TY,V:IY,w:DY,W:RY,x:null,X:null,y:MY,Y:$Y,Z:zY,"%":Pj},j={a:E,A:T,b:M,B:$,c:I,d:Cj,e:Cj,f:rY,g:jj,G:Sj,H:_j,I:_j,j:ZG,L:nY,m:QG,M:eY,p:O,q:XG,Q:aY,s:oY,S:tY,u:qG,U:VG,V:GG,w:KG,W:YG,x:z,X:B,y:jj,Y:Sj,Z:JG,"%":iY};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(X,L){return function(V){var F=[],he=-1,ce=0,ke=X.length,Pe,Ee,De;for(V instanceof Date||(V=new Date(+V));++he<ke;)X.charCodeAt(he)===37&&(F.push(X.slice(ce,he)),(Ee=kj[Pe=X.charAt(++he)])!=null?Pe=X.charAt(++he):Ee=Pe==="e"?" ":"0",(De=L[Pe])&&(Pe=De(V,Ee)),F.push(Pe),ce=he+1);return F.push(X.slice(ce,he)),F.join("")}}function _(X,L){return function(V){var F=ol(1900,void 0,1),he=N(F,X,V+="",0),ce,ke;if(he!=V.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(L&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ce=Um(ol(F.y,0,1)),ke=ce.getUTCDay(),ce=ke>4||ke===0?kf.ceil(ce):kf(ce),ce=Jh.offset(ce,(F.V-1)*7),F.y=ce.getUTCFullYear(),F.m=ce.getUTCMonth(),F.d=ce.getUTCDate()+(F.w+6)%7):(ce=zm(ol(F.y,0,1)),ke=ce.getDay(),ce=ke>4||ke===0?wf.ceil(ce):wf(ce),ce=zc.offset(ce,(F.V-1)*7),F.y=ce.getFullYear(),F.m=ce.getMonth(),F.d=ce.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),ke="Z"in F?Um(ol(F.y,0,1)).getUTCDay():zm(ol(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(ke+5)%7:F.w+F.U*7-(ke+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Um(F)):zm(F)}}function N(X,L,V,F){for(var he=0,ce=L.length,ke=V.length,Pe,Ee;he<ce;){if(F>=ke)return-1;if(Pe=L.charCodeAt(he++),Pe===37){if(Pe=L.charAt(he++),Ee=j[Pe in kj?L.charAt(he++):Pe],!Ee||(F=Ee(X,V,F))<0)return-1}else if(Pe!=V.charCodeAt(F++))return-1}return F}function O(X,L,V){var F=c.exec(L.slice(V));return F?(X.p=d.get(F[0].toLowerCase()),V+F[0].length):-1}function E(X,L,V){var F=p.exec(L.slice(V));return F?(X.w=m.get(F[0].toLowerCase()),V+F[0].length):-1}function T(X,L,V){var F=f.exec(L.slice(V));return F?(X.w=h.get(F[0].toLowerCase()),V+F[0].length):-1}function M(X,L,V){var F=v.exec(L.slice(V));return F?(X.m=b.get(F[0].toLowerCase()),V+F[0].length):-1}function $(X,L,V){var F=g.exec(L.slice(V));return F?(X.m=y.get(F[0].toLowerCase()),V+F[0].length):-1}function I(X,L,V){return N(X,t,L,V)}function z(X,L,V){return N(X,n,L,V)}function B(X,L,V){return N(X,r,L,V)}function Y(X){return o[X.getDay()]}function D(X){return a[X.getDay()]}function R(X){return l[X.getMonth()]}function C(X){return s[X.getMonth()]}function Z(X){return i[+(X.getHours()>=12)]}function H(X){return 1+~~(X.getMonth()/3)}function A(X){return o[X.getUTCDay()]}function U(X){return a[X.getUTCDay()]}function Q(X){return l[X.getUTCMonth()]}function ne(X){return s[X.getUTCMonth()]}function J(X){return i[+(X.getUTCHours()>=12)]}function re(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var L=k(X+="",w);return L.toString=function(){return X},L},parse:function(X){var L=_(X+="",!1);return L.toString=function(){return X},L},utcFormat:function(X){var L=k(X+="",S);return L.toString=function(){return X},L},utcParse:function(X){var L=_(X+="",!0);return L.toString=function(){return X},L}}}var kj={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,BG=/^%/,WG=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function HG(e){return e.replace(WG,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(HG).join("|")+")","i")}function ll(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function KG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function VG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function GG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function YG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Sj(e,t,n){var r=Ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function jj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function JG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function QG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Cj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ZG(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _j(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eY(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tY(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nY(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=Ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iY(e,t,n){var r=BG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function aY(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ej(e,t){return Ne(e.getDate(),t,2)}function sY(e,t){return Ne(e.getHours(),t,2)}function lY(e,t){return Ne(e.getHours()%12||12,t,2)}function cY(e,t){return Ne(1+zc.count(hi(e),e),t,3)}function WA(e,t){return Ne(e.getMilliseconds(),t,3)}function uY(e,t){return WA(e,t)+"000"}function dY(e,t){return Ne(e.getMonth()+1,t,2)}function fY(e,t){return Ne(e.getMinutes(),t,2)}function hY(e,t){return Ne(e.getSeconds(),t,2)}function pY(e){var t=e.getDay();return t===0?7:t}function mY(e,t){return Ne(Xh.count(hi(e)-1,e),t,2)}function HA(e){var t=e.getDay();return t>=4||t===0?fs(e):fs.ceil(e)}function gY(e,t){return e=HA(e),Ne(fs.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function yY(e){return e.getDay()}function vY(e,t){return Ne(wf.count(hi(e)-1,e),t,2)}function xY(e,t){return Ne(e.getFullYear()%100,t,2)}function bY(e,t){return e=HA(e),Ne(e.getFullYear()%100,t,2)}function wY(e,t){return Ne(e.getFullYear()%1e4,t,4)}function kY(e,t){var n=e.getDay();return e=n>=4||n===0?fs(e):fs.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function SY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function Nj(e,t){return Ne(e.getUTCDate(),t,2)}function jY(e,t){return Ne(e.getUTCHours(),t,2)}function CY(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function _Y(e,t){return Ne(1+Jh.count(pi(e),e),t,3)}function KA(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function EY(e,t){return KA(e,t)+"000"}function NY(e,t){return Ne(e.getUTCMonth()+1,t,2)}function PY(e,t){return Ne(e.getUTCMinutes(),t,2)}function OY(e,t){return Ne(e.getUTCSeconds(),t,2)}function AY(e){var t=e.getUTCDay();return t===0?7:t}function TY(e,t){return Ne(Qh.count(pi(e)-1,e),t,2)}function qA(e){var t=e.getUTCDay();return t>=4||t===0?hs(e):hs.ceil(e)}function IY(e,t){return e=qA(e),Ne(hs.count(pi(e),e)+(pi(e).getUTCDay()===4),t,2)}function DY(e){return e.getUTCDay()}function RY(e,t){return Ne(kf.count(pi(e)-1,e),t,2)}function MY(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function LY(e,t){return e=qA(e),Ne(e.getUTCFullYear()%100,t,2)}function $Y(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function FY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?hs(e):hs.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function zY(){return"+0000"}function Pj(){return"%"}function Oj(e){return+e}function Aj(e){return Math.floor(+e/1e3)}var wo,VA,GA;UY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function UY(e){return wo=UG(e),VA=wo.format,wo.parse,GA=wo.utcFormat,wo.utcParse,wo}function BY(e){return new Date(e)}function WY(e){return e instanceof Date?+e:+new Date(+e)}function Z0(e,t,n,r,i,a,o,s,l,c){var d=F0(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function j(k){return(l(k)<k?p:s(k)<k?m:o(k)<k?g:a(k)<k?y:r(k)<k?i(k)<k?v:b:n(k)<k?w:S)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,WY)):h().map(BY)},d.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},d.tickFormat=function(k,_){return _==null?j:c(_)},d.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h(DA(_,k)):d},d.copy=function(){return Fc(d,Z0(e,t,n,r,i,a,o,s,l,c))},d}function HY(){return ar.apply(Z0(FG,zG,hi,X0,Xh,zc,Y0,V0,Aa,VA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function KY(){return ar.apply(Z0(LG,$G,pi,Q0,Qh,Jh,J0,G0,Aa,GA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zh(){var e=0,t=1,n,r,i,a,o=qt,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=d(Ps),c.rangeRound=d($0),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YA(){var e=oa(Zh()(qt));return e.copy=function(){return sa(e,YA())},bi.apply(e,arguments)}function JA(){var e=B0(Zh()).domain([1,10]);return e.copy=function(){return sa(e,JA()).base(e.base())},bi.apply(e,arguments)}function XA(){var e=W0(Zh());return e.copy=function(){return sa(e,XA()).constant(e.constant())},bi.apply(e,arguments)}function eb(){var e=H0(Zh());return e.copy=function(){return sa(e,eb()).exponent(e.exponent())},bi.apply(e,arguments)}function qY(){return eb.apply(null,arguments).exponent(.5)}function QA(){var e=[],t=qt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Lc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Gi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>A7(e,a/r))},n.copy=function(){return QA(t).domain(e)},bi.apply(n,arguments)}function ep(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=qt,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=d(e=+e),a=d(t=+t),o=d(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=iG(g,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ps),p.rangeRound=m($0),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function ZA(){var e=oa(ep()(qt));return e.copy=function(){return sa(e,ZA())},bi.apply(e,arguments)}function eT(){var e=B0(ep()).domain([.1,1,10]);return e.copy=function(){return sa(e,eT()).base(e.base())},bi.apply(e,arguments)}function tT(){var e=W0(ep());return e.copy=function(){return sa(e,tT()).constant(e.constant())},bi.apply(e,arguments)}function tb(){var e=H0(ep());return e.copy=function(){return sa(e,tb()).exponent(e.exponent())},bi.apply(e,arguments)}function VY(){return tb.apply(null,arguments).exponent(.5)}const yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:R0,scaleDiverging:ZA,scaleDivergingLog:eT,scaleDivergingPow:tb,scaleDivergingSqrt:VY,scaleDivergingSymlog:tT,scaleIdentity:IA,scaleImplicit:Jy,scaleLinear:TA,scaleLog:RA,scaleOrdinal:D0,scalePoint:D7,scalePow:K0,scaleQuantile:$A,scaleQuantize:FA,scaleRadial:LA,scaleSequential:YA,scaleSequentialLog:JA,scaleSequentialPow:eb,scaleSequentialQuantile:QA,scaleSequentialSqrt:qY,scaleSequentialSymlog:XA,scaleSqrt:EG,scaleSymlog:MA,scaleThreshold:zA,scaleTime:HY,scaleUtc:KY,tickFormat:AA},Symbol.toStringTag,{value:"Module"}));var la=e=>e.chartData,nb=W([la],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rb=(e,t,n,r)=>r?nb(e):la(e);function ps(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Dn(t)&&Dn(n))return!0}return!1}function Tj(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GY(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Dn(n))i=n;else if(typeof n=="function")return;if(Dn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(ps(o))return o}}function YY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ps(r))return Tj(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(ue(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&_S.test(i)){var l=_S.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(ue(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&ES.test(a)){var d=ES.exec(a);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(ps(h))return t==null?h:Tj(h,t,n)}}}var Os=1e9,JY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ab,Ye=!0,rr="[DecimalError] ",za=rr+"Invalid argument: ",ib=rr+"Exponent out of range: ",As=Math.floor,wa=Math.pow,XY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_n,bt=1e7,Ke=7,nT=9007199254740991,Sf=As(nT/Ke),se={};se.absoluteValue=se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};se.comparedTo=se.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};se.decimalPlaces=se.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ke;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};se.dividedBy=se.div=function(e){return ai(this,new this.constructor(e))};se.dividedToIntegerBy=se.idiv=function(e){var t=this,n=t.constructor;return Re(ai(t,new n(e),0,1),n.precision)};se.equals=se.eq=function(e){return!this.cmp(e)};se.exponent=function(){return ut(this)};se.greaterThan=se.gt=function(e){return this.cmp(e)>0};se.greaterThanOrEqualTo=se.gte=function(e){return this.cmp(e)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(e){return this.cmp(e)<0};se.lessThanOrEqualTo=se.lte=function(e){return this.cmp(e)<1};se.logarithm=se.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(_n))throw Error(rr+"NaN");if(n.s<1)throw Error(rr+(n.s?"NaN":"-Infinity"));return n.eq(_n)?new r(0):(Ye=!1,t=ai(mc(n,a),mc(e,a),a),Ye=!0,Re(t,i))};se.minus=se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aT(t,e):rT(t,(e.s=-e.s,e))};se.modulo=se.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(rr+"NaN");return n.s?(Ye=!1,t=ai(n,e,0,1).times(e),Ye=!0,n.minus(t)):Re(new r(n),i)};se.naturalExponential=se.exp=function(){return iT(this)};se.naturalLogarithm=se.ln=function(){return mc(this)};se.negated=se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};se.plus=se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rT(t,e):aT(t,(e.s=-e.s,e))};se.precision=se.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(za+e);if(t=ut(i)+1,r=i.d.length-1,n=r*Ke+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};se.squareRoot=se.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(rr+"NaN")}for(e=ut(s),Ye=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Mr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=As((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(ai(s,a,o+2)).times(.5),Mr(a.d).slice(0,o)===(t=Mr(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Re(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return Ye=!0,Re(r,n)};se.times=se.mul=function(e){var t,n,r,i,a,o,s,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%bt|0,t=s/bt|0;a[i]=(a[i]+t)%bt|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ye?Re(e,f.precision):e};se.toDecimalPlaces=se.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Br(e,0,Os),t===void 0?t=r.rounding:Br(t,0,8),Re(n,e+ut(n)+1,t))};se.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Xa(r,!0):(Br(e,0,Os),t===void 0?t=i.rounding:Br(t,0,8),r=Re(new i(r),e+1,t),n=Xa(r,!0,e+1)),n};se.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Xa(i):(Br(e,0,Os),t===void 0?t=a.rounding:Br(t,0,8),r=Re(new a(i),e+ut(i)+1,t),n=Xa(r.abs(),!1,e+ut(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};se.toInteger=se.toint=function(){var e=this,t=e.constructor;return Re(new t(e),ut(e)+1,t.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(_n);if(s=new l(s),!s.s){if(e.s<1)throw Error(rr+"Infinity");return s}if(s.eq(_n))return s;if(r=l.precision,e.eq(_n))return Re(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=d<0?-d:d)<=nT){for(i=new l(_n),t=Math.ceil(r/Ke+4),Ye=!1;n%2&&(i=i.times(s),Dj(i.d,t)),n=As(n/2),n!==0;)s=s.times(s),Dj(s.d,t);return Ye=!0,e.s<0?new l(_n).div(i):Re(i,r)}}else if(a<0)throw Error(rr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Ye=!1,i=e.times(mc(s,r+c)),Ye=!0,i=iT(i),i.s=a,i};se.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=ut(i),r=Xa(i,n<=a.toExpNeg||n>=a.toExpPos)):(Br(e,1,Os),t===void 0?t=a.rounding:Br(t,0,8),i=Re(new a(i),e,t),n=ut(i),r=Xa(i,e<=n||n<=a.toExpNeg,e)),r};se.toSignificantDigits=se.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Br(e,1,Os),t===void 0?t=r.rounding:Br(t,0,8)),Re(new r(n),e,t)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),n=e.constructor;return Xa(e,t<=n.toExpNeg||t>=n.toExpPos)};function rT(e,t){var n,r,i,a,o,s,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ye?Re(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/Ke),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/bt|0,l[a]%=bt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ye?Re(t,f):t}function Br(e,t,n){if(e!==~~e||e<t||e>n)throw Error(za+e)}function Mr(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Ke-r.length,n&&(a+=Ai(n)),a+=r;o=e[t],r=o+"",n=Ke-r.length,n&&(a+=Ai(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ai=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%bt|0,o=a/bt|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*bt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,d,f,h,p,m,g,y,v,b,w,S,j,k,_,N,O=r.constructor,E=r.s==i.s?1:-1,T=r.d,M=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(rr+"Division by zero");for(l=r.e-i.e,_=M.length,j=T.length,p=new O(E),m=p.d=[],c=0;M[c]==(T[c]||0);)++c;if(M[c]>(T[c]||0)&&--l,a==null?b=a=O.precision:o?b=a+(ut(r)-ut(i))+1:b=a,b<0)return new O(0);if(b=b/Ke+2|0,c=0,_==1)for(d=0,M=M[0],b++;(c<j||d)&&b--;c++)w=d*bt+(T[c]||0),m[c]=w/M|0,d=w%M|0;else{for(d=bt/(M[0]+1)|0,d>1&&(M=e(M,d),T=e(T,d),_=M.length,j=T.length),S=_,g=T.slice(0,_),y=g.length;y<_;)g[y++]=0;N=M.slice(),N.unshift(0),k=M[0],M[1]>=bt/2&&++k;do d=0,s=t(M,g,_,y),s<0?(v=g[0],_!=y&&(v=v*bt+(g[1]||0)),d=v/k|0,d>1?(d>=bt&&(d=bt-1),f=e(M,d),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(d--,n(f,_<h?N:M,h))):(d==0&&(s=d=1),f=M.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=t(M,g,_,y),s<1&&(d++,n(g,_<y?N:M,y))),y=g.length):s===0&&(d++,g=[0]),m[c++]=d,s&&g[0]?g[y++]=T[S]||0:(g=[T[S]],y=1);while((S++<j||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Re(p,o?a+ut(p)+1:a)}}();function iT(e,t){var n,r,i,a,o,s,l=0,c=0,d=e.constructor,f=d.precision;if(ut(e)>16)throw Error(ib+ut(e));if(!e.s)return new d(_n);for(t==null?(Ye=!1,s=f):s=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(wa(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new d(_n),d.precision=s;;){if(i=Re(i.times(e),s),n=n.times(++l),o=a.plus(ai(i,n,s)),Mr(o.d).slice(0,s)===Mr(a.d).slice(0,s)){for(;c--;)a=Re(a.times(a),s);return d.precision=f,t==null?(Ye=!0,Re(a,f)):a}a=o}}function ut(e){for(var t=e.e*Ke,n=e.d[0];n>=10;n/=10)t++;return t}function Bm(e,t,n){if(t>e.LN10.sd())throw Ye=!0,n&&(e.precision=n),Error(rr+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function Ai(e){for(var t="";e--;)t+="0";return t}function mc(e,t){var n,r,i,a,o,s,l,c,d,f=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(rr+(p.s?"NaN":"-Infinity"));if(p.eq(_n))return new g(0);if(t==null?(Ye=!1,c=y):c=t,p.eq(10))return t==null&&(Ye=!0),Bm(g,c);if(c+=h,g.precision=c,n=Mr(m),r=n.charAt(0),a=ut(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Mr(p.d),r=n.charAt(0),f++;a=ut(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Bm(g,c+2,y).times(a+""),p=mc(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(Ye=!0,Re(p,y)):p;for(s=o=p=ai(p.minus(_n),p.plus(_n),c),d=Re(p.times(p),c),i=3;;){if(o=Re(o.times(d),c),l=s.plus(ai(o,new g(i),c)),Mr(l.d).slice(0,c)===Mr(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Bm(g,c+2,y).times(a+""))),s=ai(s,new g(f),c),g.precision=y,t==null?(Ye=!0,Re(s,y)):s;s=l,i+=2}}function Ij(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=As(n/Ke),e.d=[],r=(n+1)%Ke,n<0&&(r+=Ke),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ke;r<i;)e.d.push(+t.slice(r,r+=Ke));t=t.slice(r),r=Ke-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ye&&(e.e>Sf||e.e<-Sf))throw Error(ib+n)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,n){var r,i,a,o,s,l,c,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Ke,i=t,c=f[d=0];else{if(d=Math.ceil((r+1)/Ke),a=f.length,d>=a)return e;for(c=a=f[d],o=1;a>=10;a/=10)o++;r%=Ke,i=r-Ke+o}if(n!==void 0&&(a=wa(10,o-i-1),s=c/a%10|0,l=t<0||f[d+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/wa(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=ut(e),f.length=1,t=t-a-1,f[0]=wa(10,(Ke-t%Ke)%Ke),e.e=As(-t/Ke)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=wa(10,Ke-r),f[d]=i>0?(c/wa(10,o-i)%wa(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==bt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=bt)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ye&&(e.e>Sf||e.e<-Sf))throw Error(ib+ut(e));return e}function aT(e,t){var n,r,i,a,o,s,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ye?Re(t,p):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(p/Ke),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=bt-1;--l[a],l[i]+=bt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ye?Re(t,p):t):new h(0)}function Xa(e,t,n){var r,i=ut(e),a=Mr(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ai(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ai(-i-1)+a,n&&(r=n-o)>0&&(a+=Ai(r))):i>=o?(a+=Ai(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ai(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ai(r))),e.s<0?"-"+a:a}function Dj(e,t){if(e.length>t)return e.length=t,!0}function oT(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(za+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Ij(o,a.toString())}else if(typeof a!="string")throw Error(za+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,XY.test(a))Ij(o,a);else throw Error(za+a)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oT,i.config=i.set=QY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function QY(e){if(!e||typeof e!="object")throw Error(rr+"Object expected");var t,n,r,i=["precision",1,Os,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(As(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(za+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(za+n+": "+r);return this}var ab=oT(JY);_n=new ab(1);const Oe=ab;var ZY=e=>e,sT={"@@functional/placeholder":!0},lT=e=>e===sT,Rj=e=>function t(){return arguments.length===0||arguments.length===1&&lT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},cT=(e,t)=>e===1?t:Rj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==sT).length;return a>=e?t(...r):cT(e-a,Rj(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(d=>lT(d)?s.shift():d);return t(...c,...s)}))}),tp=e=>cT(e.length,e),ev=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},eJ=tp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),tJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return ZY;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},tv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),uT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,n=e(...i)),n}};function dT(e){var t;return e===0?t=1:t=Math.floor(new Oe(e).abs().log(10).toNumber())+1,t}function fT(e,t,n){for(var r=new Oe(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}tp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});tp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});tp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var hT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},pT=(e,t,n)=>{if(e.lte(0))return new Oe(0);var r=dT(e.toNumber()),i=new Oe(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Oe(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?new Oe(l.toNumber()):new Oe(Math.ceil(l.toNumber()))},nJ=(e,t,n)=>{var r=new Oe(1),i=new Oe(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Oe(10).pow(dT(e)-1),i=new Oe(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Oe(Math.floor(e)))}else e===0?i=new Oe(Math.floor((t-1)/2)):n||(i=new Oe(Math.floor(e)));var o=Math.floor((t-1)/2),s=tJ(eJ(l=>i.add(new Oe(l-o).mul(r)).toNumber()),ev);return s(0,t)},mT=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Oe(0),tickMin:new Oe(0),tickMax:new Oe(0)};var o=pT(new Oe(n).sub(t).div(r-1),i,a),s;t<=0&&n>=0?s=new Oe(0):(s=new Oe(t).add(n).div(2),s=s.sub(new Oe(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new Oe(n).sub(s).div(o).toNumber()),d=l+c+1;return d>r?mT(t,n,r,i,a+1):(d<r&&(c=n>0?c+(r-d):c,l=n>0?l:l+(r-d)),{step:o,tickMin:s.sub(new Oe(l).mul(o)),tickMax:s.add(new Oe(c).mul(o))})};function rJ(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,s]=hT([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...ev(0,r-1).map(()=>1/0)]:[...ev(0,r-1).map(()=>-1/0),s];return t>n?tv(l):l}if(o===s)return nJ(o,r,i);var{step:c,tickMin:d,tickMax:f}=mT(o,s,a,i,0),h=fT(d,f.add(new Oe(.1).mul(c)),c);return t>n?tv(h):h}function iJ(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=hT([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=pT(new Oe(o).sub(a).div(s-1),i,0),c=[...fT(new Oe(a),new Oe(o),l),o];return i===!1&&(c=c.map(d=>Math.round(d))),n>r?tv(c):c}var aJ=uT(rJ),oJ=uT(iJ),gT=e=>e.rootProps.maxBarSize,sJ=e=>e.rootProps.barGap,yT=e=>e.rootProps.barCategoryGap,lJ=e=>e.rootProps.barSize,Uc=e=>e.rootProps.stackOffset,ob=e=>e.options.chartName,sb=e=>e.rootProps.syncId,vT=e=>e.rootProps.syncMethod,lb=e=>e.options.eventEmitter,Dr={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},an={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},np=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},cJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Dr.angleAxisId,includeHidden:!1,name:void 0,reversed:Dr.reversed,scale:Dr.scale,tick:Dr.tick,tickCount:void 0,ticks:void 0,type:Dr.type,unit:void 0},uJ={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:an.type,unit:void 0},dJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Dr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dr.scale,tick:Dr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fJ={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:"category",unit:void 0},Ts=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?dJ:cJ,Bc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?fJ:uJ,rp=e=>e.polarOptions,cb=W([vi,xi,jt],uq),xT=W([rp,cb],(e,t)=>{if(e!=null)return br(e.innerRadius,t,0)}),bT=W([rp,cb],(e,t)=>{if(e!=null)return br(e.outerRadius,t,t*.8)}),hJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},wT=W([rp],hJ),pJ=W([Ts,wT],np),kT=W([cb,xT,bT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),mJ=W([Bc,kT],np),Is=W([je,rp,xT,bT,vi,xi],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:br(o,i,i/2),cy:br(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Fe=(e,t)=>t,Wc=(e,t,n)=>n;function ub(e){return e==null?void 0:e.id}var xt=e=>{var t=je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ds=e=>e.tooltip.settings.axisId,_t=e=>{var t=xt(e),n=Ds(e);return Rs(e,t,n)},ST=W([_t],e=>e==null?void 0:e.dataKey);function jT(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var d=ub(s);c.forEach((f,h)=>{var p=a==null||i?h:String(yt(f,a,null)),m=yt(f,s.dataKey,0),g;o.has(p)?g=o.get(p):g={},Object.assign(g,{[d]:m}),o.set(p,g)})}}),Array.from(o.values())}function ip(e){return e.stackId!=null&&e.dataKey!=null}function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){gJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=vJ(e,"string");return typeof t=="symbol"?t:t+""}function vJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nv=[0,"auto"],wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},CT=(e,t)=>e.cartesianAxis.xAxis[t],wi=(e,t)=>{var n=CT(e,t);return n??wn},kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mc},_T=(e,t)=>e.cartesianAxis.yAxis[t],ki=(e,t)=>{var n=_T(e,t);return n??kn},xJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},db=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??xJ},it=(e,t,n)=>{switch(t){case"xAxis":return wi(e,n);case"yAxis":return ki(e,n);case"zAxis":return db(e,n);case"angleAxis":return Ts(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},bJ=(e,t,n)=>{switch(t){case"xAxis":return wi(e,n);case"yAxis":return ki(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rs=(e,t,n)=>{switch(t){case"xAxis":return wi(e,n);case"yAxis":return ki(e,n);case"angleAxis":return Ts(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ET=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var hb=e=>e.graphicalItems.cartesianItems,wJ=W([Fe,Wc],fb),pb=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Hc=W([hb,it,wJ],pb),NT=W([Hc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ip)),PT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OT=W([Hc],PT),mb=e=>e.map(t=>t.data).filter(Boolean).flat(1),kJ=W([Hc],mb),gb=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},yb=W([kJ,rb],gb),vb=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:yt(i,r)}))):e.map(r=>({value:r})),ap=W([yb,it,Hc],vb);function AT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function uo(e){return e.filter(t=>Ur(t)||t instanceof Date).map(Number).filter(t=>Tn(t)===!1)}function SJ(e,t,n){return!n||typeof t!="number"||Tn(t)?[]:n.length?uo(n.flatMap(r=>{var i=yt(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Dn(a)||!Dn(o)))return[t-a,t+o]})):[]}var jJ=W([NT,rb,_t],jT),TT=(e,t,n)=>{var r={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(ub);return[o,{stackedData:_q(e,l,n),graphicalItems:s}]}))},rv=W([jJ,NT,Uc],TT),IT=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=Aq(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},CJ=W([rv,la,Fe],IT),DT=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var s,l,c=(s=r[o.id])===null||s===void 0?void 0:s.filter(f=>AT(i,f)),d=yt(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:d,errorDomain:SJ(a,d,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:yt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),op=e=>e.errorBars,RT=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>AT(n,r));W([OT,op,Fe],RT);var _J=W([yb,it,OT,op,Fe],DT);function EJ(e){var{value:t}=e;if(Ur(t)||t instanceof Date)return t}var Lj=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=uo(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},NJ=(e,t,n)=>{var r=e.map(EJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&RP(r))?wA(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},xb=e=>{var t;if(e==null||!("domain"in e))return nv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=uo(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:nv},Cf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},MT=e=>e.referenceElements.dots,Ms=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),PJ=W([MT,Fe,Wc],Ms),LT=e=>e.referenceElements.areas,OJ=W([LT,Fe,Wc],Ms),$T=e=>e.referenceElements.lines,AJ=W([$T,Fe,Wc],Ms),FT=(e,t)=>{var n=uo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},TJ=W(PJ,Fe,FT),zT=(e,t)=>{var n=uo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},IJ=W([OJ,Fe],zT),UT=(e,t)=>{var n=uo(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},DJ=W(AJ,Fe,UT),RJ=W(TJ,DJ,IJ,(e,t,n)=>Cf(e,n,t)),BT=W([it],xb),bb=(e,t,n,r,i,a,o)=>{var s=GY(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?Cf(n,i,Lj(r)):Cf(i,Lj(r));return YY(t,c,e.allowDataOverflow)},MJ=W([it,BT,CJ,_J,RJ,je,Fe],bb),LJ=[0,1],wb=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=aa(t,a);return c&&s==null?wA(0,n.length):l==="category"?NJ(r,e,c):i==="expand"?LJ:o}},kb=W([it,je,yb,ap,Uc,Fe,MJ],wb),WT=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Tc(a));return s in yl?s:"point"}}},ca=W([it,je,ET,ob,Fe],WT);function $J(e){if(e!=null){if(e in yl)return yl[e]();var t="scale".concat(Tc(e));if(t in yl)return yl[t]()}}function sp(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=$J(t);if(i!=null){var a=i.domain(n).range(r);return wq(a),a}}}var Sb=(e,t,n)=>{var r=xb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ps(e))return aJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ps(e))return oJ(e,t.tickCount,t.allowDecimals)}},jb=W([kb,Rs,ca],Sb),Cb=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ps(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},FJ=W([it,kb,jb,Fe],Cb),zJ=W(ap,it,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(uo(e.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),HT=W(zJ,je,yT,jt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Dn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=br(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),UJ=(e,t)=>{var n=wi(e,t);return n==null||typeof n.padding!="string"?0:HT(e,"xAxis",t,n.padding)},BJ=(e,t)=>{var n=ki(e,t);return n==null||typeof n.padding!="string"?0:HT(e,"yAxis",t,n.padding)},WJ=W(wi,UJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),HJ=W(ki,BJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),KJ=W([jt,WJ,Kh,Hh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),qJ=W([jt,je,HJ,Kh,Hh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Kc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return KJ(e,n,r);case"yAxis":return qJ(e,n,r);case"zAxis":return(i=db(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return wT(e);case"radiusAxis":return kT(e,n);default:return}},KT=W([it,Kc],np),Ls=W([it,ca,FJ,KT],sp);W([Hc,op,Fe],RT);function qT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lp=(e,t)=>t,cp=(e,t,n)=>n,VJ=W(Bh,lp,cp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(qT)),GJ=W(Wh,lp,cp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(qT)),VT=(e,t)=>({width:e.width,height:t.height}),YJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}},GT=W(jt,wi,VT),JJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},XJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},QJ=W(xi,jt,VJ,lp,cp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=VT(t,s);o==null&&(o=JJ(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),ZJ=W(vi,jt,GJ,lp,cp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=YJ(t,s);o==null&&(o=XJ(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),eX=(e,t)=>{var n=wi(e,t);if(n!=null)return QJ(e,n.orientation,n.mirror)},tX=W([jt,wi,eX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),nX=(e,t)=>{var n=ki(e,t);if(n!=null)return ZJ(e,n.orientation,n.mirror)},rX=W([jt,ki,nX,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),YT=W(jt,ki,(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}}),$j=(e,t,n)=>{switch(t){case"xAxis":return GT(e,n).width;case"yAxis":return YT(e,n).height;default:return}},JT=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=aa(e,r),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&RP(l))return l}},qc=W([je,ap,it,Fe],JT),_b=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=aa(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},Eb=W([je,ap,Rs,Fe],_b),Fj=W([je,bJ,ca,Ls,qc,Eb,Kc,jb,Fe],(e,t,n,r,i,a,o,s,l)=>{if(t==null)return null;var c=aa(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),XT=(e,t,n,r,i,a,o,s,l)=>{if(!(t==null||r==null)){var c=aa(e,l),{type:d,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?cn(a[0]-a[1])*2*m:m;var g=f||i;if(g){var y=g.map((v,b)=>{var w=o?o.indexOf(v):v;return{index:b,coordinate:r(w)+m,value:v,offset:m}});return y.filter(v=>!Tn(v.coordinate))}return c&&s?s.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:o?o[v]:v,index:b,offset:m}))}},QT=W([je,Rs,ca,Ls,jb,Kc,qc,Eb,Fe],XT),ZT=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=aa(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?cn(r[0]-r[1])*2*c:c,s&&a?a.map((d,f)=>({coordinate:n(d)+c,value:d,index:f,offset:c})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+c,value:d,offset:c})):n.domain().map((d,f)=>({coordinate:n(d)+c,value:i?i[d]:d,index:f,offset:c}))}},ms=W([je,Rs,Ls,Kc,qc,Eb,Fe],ZT),gs=W(it,Ls,(e,t)=>{if(!(e==null||t==null))return jf(jf({},e),{},{scale:t})}),iX=W([it,ca,kb,KT],sp);W((e,t,n)=>db(e,n),iX,(e,t)=>{if(!(e==null||t==null))return jf(jf({},e),{},{scale:t})});var aX=W([je,Bh,Wh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),eI=e=>e.options.defaultTooltipEventType,tI=e=>e.options.validateTooltipEventTypes;function nI(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Nb(e,t){var n=eI(e),r=tI(e);return nI(t,n,r)}function oX(e){return ie(t=>Nb(t,e))}var rI=(e,t)=>{var n,r=Number(t);if(!(Tn(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},sX=e=>e.tooltip.settings,Mi={active:!1,index:null,dataKey:void 0,coordinate:void 0},lX={itemInteraction:{click:Mi,hover:Mi},axisInteraction:{click:Mi,hover:Mi},keyboardInteraction:Mi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},iI=Fn({name:"tooltip",initialState:lX,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=ii(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cX,removeTooltipEntrySettings:uX,setTooltipSettingsState:dX,setActiveMouseOverItemIndex:aI,mouseLeaveItem:fX,mouseLeaveChart:oI,setActiveClickItemIndex:hX,setMouseOverAxisIndex:sI,setMouseClickAxisIndex:pX,setSyncInteraction:iv,setKeyboardInteraction:av}=iI.actions,mX=iI.reducer;function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){gX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gX(e,t,n){return(t=yX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xX(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bX(e){return e.index!=null}var lI=(e,t,n,r)=>{if(t==null)return Mi;var i=xX(e,t,n);if(i==null)return Mi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(bX(i)){if(a)return Uu(Uu({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Uu(Uu({},Mi),{},{coordinate:i.coordinate})},Pb=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Dn(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},cI=(e,t,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},uI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Vc=e=>e.options.tooltipPayloadSearcher,$s=e=>e.tooltip;function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(r){wX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wX(e,t,n){return(t=kX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jX(e,t){return e??t}var dI=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:d}=n,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:y}=p,v=jX(g,s),b=Array.isArray(v)?tA(v,c,d):v,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:r,S=y==null?void 0:y.nameKey,j;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=vW(b,r,i):j=a(b,t,l,S),Array.isArray(j))j.forEach(_=>{var N=Bj(Bj({},y),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(NS({tooltipEntrySettings:N,dataKey:_.dataKey,payload:_.payload,value:yt(_.payload,_.dataKey),name:_.name}))});else{var k;h.push(NS({tooltipEntrySettings:y,dataKey:w,payload:j,value:yt(j,w),name:(k=yt(j,S))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},f)}},Ob=W([_t,je,ET,ob,xt],WT),CX=W([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),_X=W([xt,Ds],fb),Gc=W([CX,_t,_X],pb),EX=W([Gc],e=>e.filter(ip)),NX=W([Gc],mb),Fs=W([NX,la],gb),PX=W([EX,la,_t],jT),Ab=W([Fs,_t,Gc],vb),OX=W([_t],xb),AX=W([Gc],e=>e.filter(ip)),TX=W([PX,AX,Uc],TT),IX=W([TX,la,xt],IT),DX=W([Gc],PT),RX=W([Fs,_t,DX,op,xt],DT),MX=W([MT,xt,Ds],Ms),LX=W([MX,xt],FT),$X=W([LT,xt,Ds],Ms),FX=W([$X,xt],zT),zX=W([$T,xt,Ds],Ms),UX=W([zX,xt],UT),BX=W([LX,UX,FX],Cf),WX=W([_t,OX,IX,RX,BX,je,xt],bb),fI=W([_t,je,Fs,Ab,Uc,xt,WX],wb),HX=W([fI,_t,Ob],Sb),KX=W([_t,fI,HX,xt],Cb),hI=e=>{var t=xt(e),n=Ds(e),r=!1;return Kc(e,t,n,r)},pI=W([_t,hI],np),mI=W([_t,Ob,KX,pI],sp),qX=W([je,Ab,_t,xt],JT),VX=W([je,Ab,_t,xt],_b),GX=(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=aa(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?cn(i[0]-i[1])*2*f:f,c&&o?o.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:a?a[h]:h,index:p,offset:f}))}}},Si=W([je,_t,Ob,mI,hI,qX,VX,xt],GX),Tb=W([eI,tI,sX],(e,t,n)=>nI(n.shared,e,t)),gI=e=>e.tooltip.settings.trigger,Ib=e=>e.tooltip.settings.defaultIndex,up=W([$s,Tb,gI,Ib],lI),Qa=W([up,Fs],Pb),yI=W([Si,Qa],rI),vI=W([up],e=>{if(e)return e.dataKey}),xI=W([$s,Tb,gI,Ib],uI),YX=W([vi,xi,je,jt,Si,Ib,xI,Vc],cI),JX=W([up,YX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),XX=W([up],e=>e.active),QX=W([xI,Qa,la,ST,yI,Vc,Tb],dI),ZX=W([QX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){eQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eQ(e,t,n){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tQ(e){var t=nQ(e,"string");return typeof t=="symbol"?t:t+""}function nQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rQ=()=>ie(_t),iQ=()=>{var e=rQ(),t=ie(Si),n=ie(mI);return cc(Hj(Hj({},e),{},{scale:n}),t)},aQ=()=>ie(ob),Db=(e,t)=>t,bI=(e,t,n)=>n,Rb=(e,t,n,r)=>r,oQ=W(Si,e=>Rh(e,t=>t.coordinate)),Mb=W([$s,Db,bI,Rb],lI),wI=W([Mb,Fs],Pb),sQ=(e,t,n)=>{if(t!=null){var r=$s(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},kI=W([$s,Db,bI,Rb],uI),_f=W([vi,xi,je,jt,Si,Rb,kI,Vc],cI),lQ=W([Mb,_f],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),SI=W(Si,wI,rI),cQ=W([kI,wI,la,ST,SI,Vc,Db],dI),uQ=W([Mb],e=>({isActive:e.active,activeIndex:e.index})),dQ=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a)){var l=Tq(e.chartX,e.chartY,t,n,s);if(l){var c=Dq(l,t),d=xq(c,o,a,r,i),f=Iq(t,a,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ov.apply(null,arguments)}function Kj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(n),!0).forEach(function(r){fQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fQ(e,t,n){return(t=hQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mQ(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=e,d=t,f=n,h=r;if(!s||!d||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=d,m=LV;else if(c==="BarChart")p=$V(o,d,i,a),m=pA;else if(o==="radial"){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:w}=mA(d);p={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},m=yA}else p={points:y7(o,d,i)},m=NV;var S=typeof s=="object"&&"className"in s?s.className:void 0,j=Bu(Bu(Bu(Bu({stroke:"#ccc",pointerEvents:"none"},i),p),Ae(s,!1)),{},{payload:f,payloadIndex:h,className:Se("recharts-tooltip-cursor",S)});return x.isValidElement(s)?x.cloneElement(s,j):x.createElement(m,j)}function gQ(e){var t=iQ(),n=aA(),r=A0(),i=aQ();return x.createElement(mQ,ov({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var jI=x.createContext(null),yQ=()=>x.useContext(jI),CI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function a(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},s.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,d,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,p),!0;case 6:return y.fn.call(y.context,d,f,h,p,m),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(c,d,f){return a(this,c,d,f,!1)},s.prototype.once=function(c,d,f){return a(this,c,d,f,!0)},s.prototype.removeListener=function(c,d,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!d)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(CI);var vQ=CI.exports;const xQ=Rn(vQ);var gc=new xQ,sv="recharts.syncEvent.tooltip",qj="recharts.syncEvent.brush";function _I(e,t){if(t){var n=Number.parseInt(t,10);if(!Tn(n))return e==null?void 0:e[n]}}var bQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},EI=Fn({name:"options",initialState:bQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),wQ=EI.reducer,{createEventEmitter:kQ}=EI.actions;function SQ(e){return e.tooltip.syncInteraction}var jQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},NI=Fn({name:"chartData",initialState:jQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Vj,setDataStartEndIndexes:CQ,setComputedData:Hce}=NI.actions,_Q=NI.reducer,EQ=["x","y"];function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){NQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NQ(e,t,n){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQ(e){var t=OQ(e,"string");return typeof t=="symbol"?t:t+""}function OQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AQ(e,t){if(e==null)return{};var n,r,i=TQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PI=()=>{};function IQ(){var e=ie(sb),t=ie(lb),n=Ve(),r=ie(vT),i=ie(Si),a=A0(),o=N0(),s=ie(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return PI;var l=(c,d,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var p=d.payload.coordinate,{x:m,y:g}=p,y=AQ(p,EQ),v=ma(ma(ma({},y),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),b=ma(ma({},d),{},{payload:ma(ma({},d.payload),{},{coordinate:v})});n(b)}else n(d);return}if(i!=null){var w;if(typeof r=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},j=r(i,S);w=i[j]}else r==="value"&&(w=i.find($=>String($.value)===d.payload.label));var{coordinate:k}=d.payload;if(w==null||d.payload.active===!1||k==null||o==null){n(iv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:N}=k,O=Math.min(_,o.x+o.width),E=Math.min(N,o.y+o.height),T={x:a==="horizontal"?w.coordinate:O,y:a==="horizontal"?E:w.coordinate},M=iv({active:d.payload.active,coordinate:T,dataKey:d.payload.dataKey,index:String(w.index),label:d.payload.label});n(M)}}};return gc.on(sv,l),()=>{gc.off(sv,l)}},[s,n,t,e,r,i,a,o])}function DQ(){var e=ie(sb),t=ie(lb),n=Ve();x.useEffect(()=>{if(e==null)return PI;var r=(i,a,o)=>{t!==o&&e===i&&n(CQ(a))};return gc.on(qj,r),()=>{gc.off(qj,r)}},[n,t,e])}function RQ(){var e=Ve();x.useEffect(()=>{e(kQ())},[e]),IQ(),DQ()}function MQ(e,t,n,r,i,a){var o=ie(h=>sQ(h,e,t)),s=ie(lb),l=ie(sb),c=ie(vT),d=ie(SQ),f=d==null?void 0:d.active;x.useEffect(()=>{if(!f&&l!=null&&s!=null){var h=iv({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});gc.emit(sv,l,h,s)}},[f,n,o,i,r,s,l,c,a])}function Yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(n),!0).forEach(function(r){LQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LQ(e,t,n){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Q(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zQ(e){return e.dataKey}function UQ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(pV,t)}var Xj=[],BQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!so.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Qj(e){var t=yn(e,BQ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:S}=t,j=Ve(),k=typeof b=="number"?String(b):b;x.useEffect(()=>{j(dX({shared:y,trigger:v,axisId:S,active:n,defaultIndex:k}))},[j,y,v,S,n,k]);var _=N0(),N=cA(),O=oX(y),{activeIndex:E,isActive:T}=ie(Q=>uQ(Q,O,v,k)),M=ie(Q=>cQ(Q,O,v,k)),$=ie(Q=>SI(Q,O,v,k)),I=ie(Q=>lQ(Q,O,v,k)),z=M,B=yQ(),Y=n??T,[D,R]=PO([z,Y]),C=O==="axis"?$:void 0;MQ(O,v,I,C,E,Y);var Z=w??B;if(Z==null)return null;var H=z??Xj;Y||(H=Xj),s&&H.length&&(H=yO(z.filter(Q=>Q.value!=null&&(Q.hide!==!0||t.includeHidden)),d,zQ));var A=H.length>0,U=x.createElement(wV,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:Y,coordinate:I,hasPayload:A,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:_,wrapperStyle:m,lastBoundingBox:D,innerRef:R,hasPortalFromProps:!!w},UQ(o,Jj(Jj({},t),{},{payload:H,label:C,active:Y,coordinate:I,accessibilityLayer:N})));return x.createElement(x.Fragment,null,bx.createPortal(U,Z),Y&&x.createElement(gQ,{cursor:g,tooltipEventType:O,coordinate:I,payload:z,index:E}))}var OI={},AI={},TI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&d(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},y=()=>{d()},v=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const w=h==null;p(),l&&w&&d()};return v.schedule=p,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(TI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...g){d=r.apply(this,g),f=null},i,{edges:c}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,g),d)},m=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(AI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AI;function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:s})}e.throttle=n})(OI);var WQ=OI.throttle;const HQ=Rn(WQ);var Il=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){KQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hm=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:p,style:m={}}=e,g=x.useRef(null),y=x.useRef();y.current=p,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((j,k)=>{b(_=>{var N=Math.round(j),O=Math.round(k);return _.containerWidth===N&&_.containerHeight===O?_:{containerWidth:N,containerHeight:O}})},[]);x.useEffect(()=>{var j=O=>{var E,{width:T,height:M}=O[0].contentRect;w(T,M),(E=y.current)===null||E===void 0||E.call(y,T,M)};d>0&&(j=HQ(j,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:_,height:N}=g.current.getBoundingClientRect();return w(_,N),k.observe(g.current),()=>{k.disconnect()}},[w,d]);var S=x.useMemo(()=>{var{containerWidth:j,containerHeight:k}=v;if(j<0||k<0)return null;Il(Pa(i)||Pa(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Il(!n||n>0,"The aspect(%s) must be greater than zero.",n);var _=Pa(i)?j:i,N=Pa(a)?k:a;return n&&n>0&&(_?N=_/n:N&&(_=N*n),l&&N>l&&(N=l)),Il(_>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,i,a,o,s,n),x.Children.map(c,O=>x.cloneElement(O,{width:_,height:N,style:Wm({width:_,height:N},O.props.style)}))},[n,c,a,l,s,o,v,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:Se("recharts-responsive-container",h),style:Wm(Wm({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),II=e=>null;II.displayName="Cell";function GQ(e,t,n){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XQ{constructor(t){GQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(r){ZQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZQ(e,t,n){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eZ(e){var t=tZ(e,"string");return typeof t=="symbol"?t:t+""}function tZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nZ={cacheSize:2e3,enableCache:!0},DI=QQ({},nZ),tC=new XQ(DI.cacheSize),rZ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nC="recharts_measurement_span";function iZ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var rC=(e,t)=>{try{var n=document.getElementById(nC);n||(n=document.createElement("span"),n.setAttribute("id",nC),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,rZ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Dl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||so.isSsr)return{width:0,height:0};if(!DI.enableCache)return rC(t,n);var r=iZ(t,n),i=tC.get(r);if(i)return i;var a=rC(t,n);return tC.set(r,a),a},iC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aZ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,oZ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sZ=Object.keys(RI),$o="NaN";function lZ(e,t){return e*RI[t]}class rn{static parse(t){var n,[,r,i]=(n=oZ.exec(t))!==null&&n!==void 0?n:[];return new rn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Tn(t)&&(this.unit=""),n!==""&&!aZ.test(n)&&(this.num=NaN,this.unit=""),sZ.includes(n)&&(this.num=lZ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new rn(NaN,""):new rn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new rn(NaN,""):new rn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new rn(NaN,""):new rn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new rn(NaN,""):new rn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Tn(this.num)}}function MI(e){if(e.includes($o))return $o;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=iC.exec(t))!==null&&n!==void 0?n:[],o=rn.parse(r??""),s=rn.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return $o;t=t.replace(iC,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=aC.exec(t))!==null&&c!==void 0?c:[],p=rn.parse(d??""),m=rn.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return $o;t=t.replace(aC,g.toString())}return t}var oC=/\(([^()]*)\)/;function cZ(e){for(var t=e,n;(n=oC.exec(t))!=null;){var[,r]=n;t=t.replace(oC,MI(r))}return t}function uZ(e){var t=e.replace(/\s+/g,"");return t=cZ(t),t=MI(t),t}function dZ(e){try{return uZ(e)}catch{return $o}}function Km(e){var t=dZ(e.slice(5,-1));return t===$o?"":t}var fZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hZ=["dx","dy","angle","className","breakAll"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lv.apply(null,arguments)}function sC(e,t){if(e==null)return{};var n,r,i=pZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LI=/[ \f\n\r\t\v\u2028\u2029]+/,$I=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];nt(t)||(n?i=t.toString().split(""):i=t.toString().split(LI));var a=i.map(s=>({word:s,width:Dl(s,r).width})),o=n?0:Dl(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},mZ=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=ue(a),d=o,f=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce((M,$)=>{var{word:I,width:z}=$,B=M[M.length-1];if(B&&(r==null||i||B.width+z+n<Number(r)))B.words.push(I),B.width+=z+n;else{var Y={words:[I],width:z};M.push(Y)}return M},[])},h=f(t),p=E=>E.reduce((T,M)=>T.width>M.width?T:M);if(!c||i)return h;var m=h.length>a||p(h).width>Number(r);if(!m)return h;for(var g="…",y=E=>{var T=d.slice(0,E),M=$I({breakAll:l,style:s,children:T+g}).wordsWithComputedWidth,$=f(M),I=$.length>a||p($).width>Number(r);return[I,$]},v=0,b=d.length-1,w=0,S;v<=b&&w<=d.length-1;){var j=Math.floor((v+b)/2),k=j-1,[_,N]=y(k),[O]=y(j);if(!_&&!O&&(v=j+1),_&&O&&(b=j-1),!_&&O){S=N;break}w++}return S||h},lC=e=>{var t=nt(e)?[]:e.toString().split(LI);return[{words:t}]},gZ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!so.isSsr){var s,l,c=$I({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;s=d,l=f}else return lC(r);return mZ({breakAll:a,children:r,maxLines:o,style:i},s,l,t,n)}return lC(r)},cC="#808080",Yc=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=cC}=e,d=sC(e,fZ),f=x.useMemo(()=>gZ({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:o,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,o,d.style,d.width]),{dx:h,dy:p,angle:m,className:g,breakAll:y}=d,v=sC(d,hZ);if(!Ur(n)||!Ur(r)||f.length===0)return null;var b=n+(ue(h)?h:0),w=r+(ue(p)?p:0),S;switch(l){case"start":S=Km("calc(".concat(a,")"));break;case"middle":S=Km("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:S=Km("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(o){var k=f[0].width,{width:_}=d;j.push("scale(".concat(ue(_)?_/k:1,")"))}return m&&j.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),j.length&&(v.transform=j.join(" ")),x.createElement("text",lv({},Ae(v,!0),{ref:t,x:b,y:w,className:Se("recharts-text",g),textAnchor:s,fill:c.includes("url")?cC:c}),f.map((N,O)=>{var E=N.words.join(y?"":" ");return x.createElement("tspan",{x:b,dy:O===0?S:i,key:"".concat(E,"-").concat(O)},E)}))});Yc.displayName="Text";var yZ=["labelRef"];function vZ(e,t){if(e==null)return{};var n,r,i=xZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(n),!0).forEach(function(r){bZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bZ(e,t,n){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jr(){return Jr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jr.apply(null,arguments)}var FI=x.createContext(null),SZ=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,o=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(FI.Provider,{value:o},a)},zI=()=>{var e=x.useContext(FI),t=N0();return e||t},UI=x.createContext(null),jZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=e,c=x.useMemo(()=>({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[t,n,r,i,a,o,s]);return x.createElement(UI.Provider,{value:c},l)},BI=()=>{var e=x.useContext(UI),t=ie(Is);return e||t},CZ=e=>{var{value:t,formatter:n}=e,r=nt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Lb=e=>e!=null&&typeof e=="function",_Z=(e,t)=>{var n=cn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},EZ=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=i,m=(c+d)/2,g=_Z(f,h),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=p;break;case"insideEnd":v=h-y*a,b=!p;break;case"end":v=h+y*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Ie(s,l,m,v),S=Ie(s,l,m,v+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),k=nt(e.id)?oc("recharts-radial-line-"):e.id;return x.createElement("text",Jr({},r,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:k,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(k)},n))},NZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Ie(r,i,o+t,c);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=Ie(r,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},WI=e=>"cx"in e&&ue(e.cx),PZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!WI(n)&&(a=n);var{x:o,y:s,width:l,height:c}=t,d=c>=0?1:-1,f=d*r,h=d>0?"end":"start",p=d>0?"start":"end",m=l>=0?1:-1,g=m*r,y=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var b={x:o+l/2,y:s-d*r,textAnchor:"middle",verticalAnchor:h};return et(et({},b),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+c+f,textAnchor:"middle",verticalAnchor:p};return et(et({},w),a?{height:Math.max(a.y+a.height-(s+c),0),width:l}:{})}if(i==="left"){var S={x:o-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return et(et({},S),a?{width:Math.max(S.x-a.x,0),height:c}:{})}if(i==="right"){var j={x:o+l+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return et(et({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:c}:{})}var k=a?{width:l,height:c}:{};return i==="insideLeft"?et({x:o+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideRight"?et({x:o+l-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?et({x:o+l/2,y:s+f,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?et({x:o+l/2,y:s+c-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?et({x:o+g,y:s+f,textAnchor:v,verticalAnchor:p},k):i==="insideTopRight"?et({x:o+l-g,y:s+f,textAnchor:y,verticalAnchor:p},k):i==="insideBottomLeft"?et({x:o+g,y:s+c-f,textAnchor:v,verticalAnchor:h},k):i==="insideBottomRight"?et({x:o+l-g,y:s+c-f,textAnchor:y,verticalAnchor:h},k):i&&typeof i=="object"&&(ue(i.x)||Pa(i.x))&&(ue(i.y)||Pa(i.y))?et({x:o+br(i.x,l),y:s+br(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):et({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},OZ={offset:5};function Ti(e){var t=yn(e,OZ),{viewBox:n,position:r,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,d=BI(),f=zI(),h=r==="center"?f:d??f,p=n||h;if(!p||nt(i)&&nt(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var m=et(et({},t),{},{viewBox:p});if(x.isValidElement(o)){var g=vZ(m,yZ);return x.cloneElement(o,g)}var y;if(typeof o=="function"){if(y=x.createElement(o,m),x.isValidElement(y))return y}else y=CZ(t);var v=WI(p),b=Ae(t,!0);if(v&&(r==="insideStart"||r==="insideEnd"||r==="end"))return EZ(t,r,y,b,p);var w=v?NZ(p,t.offset,t.position):PZ(t,p);return x.createElement(Yc,Jr({ref:c,className:Se("recharts-label",s)},b,w,{breakAll:l}),y)}Ti.displayName="Label";var HI=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(Ti,Jr({key:"label-implicit"},r)):Ur(e)?x.createElement(Ti,Jr({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===Ti?x.cloneElement(e,et({key:"label-implicit"},r)):x.createElement(Ti,Jr({key:"label-implicit",content:e},r)):Lb(e)?x.createElement(Ti,Jr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(Ti,Jr({},e,{key:"label-implicit"},r)):null};function AZ(e){var{label:t}=e,n=zI();return HI(t,n)||null}function TZ(e){var{label:t}=e,n=BI();return HI(t,n)||null}var KI={},qI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(qI);var VI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(VI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qI,n=VI,r=Th;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(KI);var IZ=KI.last;const GI=Rn(IZ);var DZ=["valueAccessor"],RZ=["dataKey","clockWise","id","textBreakAll"];function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef.apply(null,arguments)}function dC(e,t){if(e==null)return{};var n,r,i=MZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LZ=e=>Array.isArray(e.value)?GI(e.value):e.value,YI=x.createContext(void 0),JI=YI.Provider,XI=x.createContext(void 0);XI.Provider;function $Z(){return x.useContext(YI)}function FZ(){return x.useContext(XI)}function ld(e){var{valueAccessor:t=LZ}=e,n=dC(e,DZ),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,s=dC(n,RZ),l=$Z(),c=FZ(),d=l||c;return!d||!d.length?null:x.createElement(St,{className:"recharts-label-list"},d.map((f,h)=>{var p,m=nt(r)?t(f,h):yt(f&&f.payload,r),g=nt(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(Ti,Ef({},Ae(f,!0),s,g,{fill:(p=n.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}ld.displayName="LabelList";function QI(e){var{label:t}=e;return t?t===!0?x.createElement(ld,{key:"labelList-implicit"}):x.isValidElement(t)||Lb(t)?x.createElement(ld,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ld,Ef({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var zZ=["points","className","baseLinePoints","connectNulls"];function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(null,arguments)}function UZ(e,t){if(e==null)return{};var n,r,i=BZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fC=e=>e&&e.x===+e.x&&e.y===+e.y,WZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{fC(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),fC(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Rl=(e,t)=>{var n=WZ(e);t&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,s)=>"".concat(a).concat(s===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},HZ=(e,t,n)=>{var r=Rl(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Rl(Array.from(t).reverse(),n).slice(1))},ZI=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,a=UZ(e,zZ);if(!t||!t.length)return null;var o=Se("recharts-polygon",n);if(r&&r.length){var s=a.stroke&&a.stroke!=="none",l=HZ(t,r,i);return x.createElement("g",{className:o},x.createElement("path",Fo({},Ae(a,!0),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),s?x.createElement("path",Fo({},Ae(a,!0),{fill:"none",d:Rl(t,i)})):null,s?x.createElement("path",Fo({},Ae(a,!0),{fill:"none",d:Rl(r,i)})):null)}var c=Rl(t,i);return x.createElement("path",Fo({},Ae(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:o,d:c}))};function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cv.apply(null,arguments)}var $b=e=>{var{cx:t,cy:n,r,className:i}=e,a=Se("recharts-dot",i);return t===+t&&n===+n&&r===+r?x.createElement("circle",cv({},Xt(e),r0(e),{className:a,cx:t,cy:n,r})):null},eD=e=>e.graphicalItems.polarItems,KZ=W([Fe,Wc],fb),Fb=W([eD,it,KZ],pb),qZ=W([Fb],mb),zb=W([qZ,nb],gb),tD=W([zb,it,Fb],vb),VZ=W([zb,it,Fb],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=yt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),hC=()=>{},GZ=W([it,BT,hC,VZ,hC,je,Fe],bb),nD=W([it,je,zb,tD,Uc,Fe,GZ],wb),rD=W([nD,it,ca],Sb),YZ=W([it,nD,rD,Fe],Cb),Ub=(e,t,n)=>{switch(t){case"angleAxis":return Ts(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Bb=(e,t,n)=>{switch(t){case"angleAxis":return pJ(e,n);case"radiusAxis":return mJ(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zs=W([Ub,ca,YZ,Bb],sp),iD=W([je,tD,Rs,Fe],_b),Us=W([je,Ub,ca,zs,rD,Bb,qc,iD,Fe],XT);W([je,Ub,zs,Bb,qc,iD,Fe],ZT);var JZ=(e,t)=>Us(e,"angleAxis",t,!1),XZ=W([JZ],e=>{if(e)return e.map(t=>t.coordinate)}),QZ=(e,t)=>Us(e,"radiusAxis",t,!1),ZZ=W([QZ],e=>{if(e)return e.map(t=>t.coordinate)}),eee=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function tee(e,t){if(e==null)return{};var n,r,i=nee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(null,arguments)}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ree(e,t,n){return(t=iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iee(e){var t=aee(e,"string");return typeof t=="symbol"?t:t+""}function aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oee=(e,t,n,r)=>{var i="";return r.forEach((a,o)=>{var s=Ie(t,n,e,a);o?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},see=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=e;if(!a||!a.length||!o)return null;var s=dp({stroke:"#ccc"},Xt(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var c=Ie(t,n,r,l),d=Ie(t,n,i,l);return x.createElement("line",pr({},s,{key:"line-".concat(l),x1:c.x,y1:c.y,x2:d.x,y2:d.y}))}))},mC=e=>{var{cx:t,cy:n,radius:r}=e,i=dp({stroke:"#ccc",fill:"none"},Xt(e));return x.createElement("circle",pr({},i,{className:Se("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},gC=e=>{var{radius:t}=e,n=dp({stroke:"#ccc",fill:"none"},Xt(e));return x.createElement("path",pr({},n,{className:Se("recharts-polar-grid-concentric-polygon",e.className),d:oee(t,e.cx,e.cy,e.polarAngles)}))},lee=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(mC,pr({},e,{radius:r})),i&&n!=="circle"&&x.createElement(gC,pr({},e,{radius:r})),t.map((a,o)=>{var s=o;return n==="circle"?x.createElement(mC,pr({key:s},e,{fill:"none",radius:a})):x.createElement(gC,pr({key:s},e,{fill:"none",radius:a}))}))},aD=e=>{var t,n,r,i,a,o,s,l,{gridType:c="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:p,cy:m,innerRadius:g,outerRadius:y}=e,v=tee(e,eee),b=ie(Is),w=dp({cx:(t=(n=b==null?void 0:b.cx)!==null&&n!==void 0?n:p)!==null&&t!==void 0?t:0,cy:(r=(i=b==null?void 0:b.cy)!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0,innerRadius:(a=(o=b==null?void 0:b.innerRadius)!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0,outerRadius:(s=(l=b==null?void 0:b.outerRadius)!==null&&l!==void 0?l:y)!==null&&s!==void 0?s:0},v),{polarAngles:S,polarRadius:j,outerRadius:k}=w,_=ie(T=>XZ(T,f)),N=ie(T=>ZZ(T,h)),O=Array.isArray(S)?S:_,E=Array.isArray(j)?j:N;return k<=0||O==null||E==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(lee,pr({gridType:c,radialLines:d},w,{polarAngles:O,polarRadius:E})),x.createElement(see,pr({gridType:c,radialLines:d},w,{polarAngles:O,polarRadius:E})))};aD.displayName="PolarGrid";var oD={},sD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l>a&&(a=l,i=s)}return i}e.maxBy=t})(sD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sD,n=Ic,r=Ih;function i(a,o){if(a!=null)return t.maxBy(Array.from(a),r.iteratee(o??n.identity))}e.maxBy=i})(oD);var cee=oD.maxBy;const uee=Rn(cee);var lD={},cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l<a&&(a=l,i=s)}return i}e.minBy=t})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cD,n=Ic,r=Ih;function i(a,o){if(a!=null)return t.minBy(Array.from(a),r.iteratee(o??n.identity))}e.minBy=i})(lD);var dee=lD.minBy;const fee=Rn(dee);var hee={radiusAxis:{},angleAxis:{}},uD=Fn({name:"polarAxis",initialState:hee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pee,removeRadiusAxis:mee,addAngleAxis:gee,removeAngleAxis:yee}=uD.actions,vee=uD.reducer,xee=["cx","cy","angle","axisLine"],bee=["angle","tickFormatter","stroke","tick"];function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yc.apply(null,arguments)}function yC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(n),!0).forEach(function(r){fp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fp(e,t,n){return(t=wee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wee(e){var t=kee(e,"string");return typeof t=="symbol"?t:t+""}function kee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dD(e,t){if(e==null)return{};var n,r,i=See(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function See(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fD="radiusAxis";function jee(e){var t=Ve();return x.useEffect(()=>(t(pee(e)),()=>{t(mee(e))})),null}var Cee=(e,t,n,r)=>{var{coordinate:i}=e;return Ie(n,r,i,t)},_ee=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},Eee=(e,t,n,r)=>{var i=uee(r,o=>o.coordinate||0),a=fee(r,o=>o.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},Nee=(e,t)=>{var{cx:n,cy:r,angle:i,axisLine:a}=e,o=dD(e,xee),s=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),l=Ie(n,r,s[0],i),c=Ie(n,r,s[1],i),d=Lr(Lr(Lr({},Xt(o)),{},{fill:"none"},Ae(a,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return x.createElement("line",yc({className:"recharts-polar-radius-axis-line"},d))},Pee=(e,t,n)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(Yc,yc({},t,{className:"recharts-polar-radius-axis-tick-value"}),n),r},Oee=(e,t)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=e,o=dD(e,bee),s=_ee(e.orientation),l=Xt(o),c=Ae(a,!1),d=t.map((f,h)=>{var p=Cee(f,e.angle,e.cx,e.cy),m=Lr(Lr(Lr(Lr({textAnchor:s,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:i},c),{},{index:h},p),{},{payload:f});return x.createElement(St,yc({className:Se("recharts-polar-radius-axis-tick",eA(a)),key:"tick-".concat(f.coordinate)},Ns(e,f,h)),Pee(a,m,r?r(f.value,h):f.value))});return x.createElement(St,{className:"recharts-polar-radius-axis-ticks"},d)},Aee=e=>{var{radiusAxisId:t}=e,n=ie(Is),r=ie(l=>zs(l,"radiusAxis",t)),i=ie(l=>Us(l,"radiusAxis",t,!1));if(n==null||!i||!i.length)return null;var a=Lr(Lr(Lr({},e),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:s}=a;return x.createElement(St,{className:Se("recharts-polar-radius-axis",fD,a.className)},s&&Nee(a,i),o&&Oee(a,i),x.createElement(jZ,Eee(a.angle,a.cx,a.cy,i),x.createElement(TZ,{label:a.label}),a.children))};class hp extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(jee,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(Aee,this.props))}}fp(hp,"displayName","PolarRadiusAxis");fp(hp,"axisType",fD);fp(hp,"defaultProps",an);var Tee=["children"];function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(null,arguments)}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pp(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ree(e,t){if(e==null)return{};var n,r,i=Mee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xC=1e-5,Lee=Math.cos(uf(45)),hD="angleAxis";function $ee(e){var t=Ve(),n=x.useMemo(()=>{var a=Ree(e,Tee);return a},[e]),r=ie(a=>Ts(a,n.id)),i=n===r;return x.useEffect(()=>(t(gee(n)),()=>{t(yee(n))}),[t,n]),i?e.children:null}var Fee=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=Ie(n,r,i,e.coordinate),c=Ie(n,r,i+(a==="inner"?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}},zee=(e,t)=>{var n=Math.cos(uf(-e.coordinate));return n>xC?t==="outer"?"start":"end":n<-xC?t==="outer"?"end":"start":"middle"},Uee=e=>{var t=Math.cos(uf(-e.coordinate)),n=Math.sin(uf(-e.coordinate));return Math.abs(t)<=Lee?n>0?"start":"end":"middle"},Bee=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=e;if(!a)return null;var s=Rr(Rr({},Xt(e)),{},{fill:"none"},Ae(a,!1));if(i==="circle")return x.createElement($b,mi({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r}));var l=o.map(c=>Ie(t,n,r,c.coordinate));return x.createElement(ZI,mi({className:"recharts-polar-angle-axis-line"},s,{points:l}))},Wee=e=>{var{tick:t,tickProps:n,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,n):typeof t=="function"?t(n):x.createElement(Yc,mi({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},Hee=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=e,o=Xt(e),s=Ae(t,!1),l=Rr(Rr({},o),{},{fill:"none"},Ae(n,!1)),c=a.map((d,f)=>{var h=Fee(d,e),p=zee(d,e.orientation),m=Uee(d),g=Rr(Rr(Rr({},o),{},{textAnchor:p,verticalAnchor:m,stroke:"none",fill:i},s),{},{index:f,payload:d,x:h.x2,y:h.y2});return x.createElement(St,mi({className:Se("recharts-polar-angle-axis-tick",eA(t)),key:"tick-".concat(d.coordinate)},Ns(e,d,f)),n&&x.createElement("line",mi({className:"recharts-polar-angle-axis-tick-line"},l,h)),x.createElement(Wee,{tick:t,tickProps:g,value:r?r(d.value,f):d.value}))});return x.createElement(St,{className:"recharts-polar-angle-axis-ticks"},c)},Kee=e=>{var{angleAxisId:t}=e,n=ie(Is),r=ie(s=>zs(s,"angleAxis",t)),i=gn(),a=ie(s=>Us(s,"angleAxis",t,i));if(n==null||!a||!a.length)return null;var o=Rr(Rr(Rr({},e),{},{scale:r},n),{},{radius:n.outerRadius});return x.createElement(St,{className:Se("recharts-polar-angle-axis",hD,o.className)},x.createElement(Bee,mi({},o,{ticks:a})),x.createElement(Hee,mi({},o,{ticks:a})))};class mp extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement($ee,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(Kee,this.props))}}pp(mp,"displayName","PolarAngleAxis");pp(mp,"axisType",hD);pp(mp,"defaultProps",Dr);var pD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(pD);var qee=pD.isPlainObject;const Vee=Rn(qee);function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){Gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gee(e,t,n){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(null,arguments)}var kC=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},Xee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qee=e=>{var t=yn(e,Xee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(),[p,m]=x.useState(-1),g=x.useRef(i),y=x.useRef(a),v=x.useRef(o),b=x.useRef(n),w=x.useRef(r),S=Gh(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var I=h.current.getTotalLength();I&&m(I)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=Se("recharts-trapezoid",s);if(!f)return x.createElement("g",null,x.createElement("path",Nf({},Ae(t,!0),{className:j,d:kC(n,r,i,a,o)})));var k=g.current,_=y.current,N=v.current,O=b.current,E=w.current,T="0px ".concat(p===-1?1:p,"px"),M="".concat(p,"px 0px"),$=uA(["strokeDasharray"],c,l);return x.createElement(Vh,{animationId:S,key:S,canBegin:p>0,duration:c,easing:l,isActive:f,begin:d},I=>{var z=mt(k,i,I),B=mt(_,a,I),Y=mt(N,o,I),D=mt(O,n,I),R=mt(E,r,I);h.current&&(g.current=z,y.current=B,v.current=Y,b.current=D,w.current=R);var C=I>0?{transition:$,strokeDasharray:M}:{strokeDasharray:T};return x.createElement("path",Nf({},Ae(t,!0),{className:j,d:kC(D,R,z,B,Y),ref:h,style:wC(wC({},C),t.style)}))})},Zee=["option","shapeType","propTransformer","activeClassName","isActive"];function ete(e,t){if(e==null)return{};var n,r,i=tte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(n),!0).forEach(function(r){nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nte(e,t,n){return(t=rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e,t){return Pf(Pf({},t),e)}function ote(e,t){return e==="symbols"}function jC(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(pA,n);case"trapezoid":return x.createElement(Qee,n);case"sector":return x.createElement(yA,n);case"symbols":if(ote(t))return x.createElement(l0,n);break;default:return null}}function ste(e){return x.isValidElement(e)?e.props:e}function lte(e){var{option:t,shapeType:n,propTransformer:r=ate,activeClassName:i="recharts-active-shape",isActive:a}=e,o=ete(e,Zee),s;if(x.isValidElement(t))s=x.cloneElement(t,Pf(Pf({},o),ste(t)));else if(typeof t=="function")s=t(o);else if(Vee(t)&&typeof t!="boolean"){var l=r(t,o);s=x.createElement(jC,{shapeType:n,elementProps:l})}else{var c=o;s=x.createElement(jC,{shapeType:n,elementProps:c})}return a?x.createElement(St,{className:i},s):s}var mD=(e,t)=>{var n=Ve();return(r,i)=>a=>{e==null||e(r,i,a),n(aI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},gD=e=>{var t=Ve();return(n,r)=>i=>{e==null||e(n,r,i),t(fX())}},yD=(e,t)=>{var n=Ve();return(r,i)=>a=>{e==null||e(r,i,a),n(hX({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function vD(e){var{fn:t,args:n}=e,r=Ve(),i=gn();return x.useEffect(()=>{if(!i){var a=t(n);return r(cX(a)),()=>{r(uX(a))}}},[t,n,r,i]),null}var xD=()=>{};function cte(e){var{legendPayload:t}=e,n=Ve(),r=gn();return x.useEffect(()=>r?xD:(n(sA(t)),()=>{n(lA(t))}),[n,r,t]),null}function ute(e){var{legendPayload:t}=e,n=Ve(),r=ie(je);return x.useEffect(()=>r!=="centric"&&r!=="radial"?xD:(n(sA(t)),()=>{n(lA(t))}),[n,r,t]),null}var qm,dte=()=>{var[e]=x.useState(()=>oc("uid-"));return e},fte=(qm=A_["useId".toString()])!==null&&qm!==void 0?qm:dte;function hte(e,t){var n=fte();return t||(e?"".concat(e,"-").concat(n):n)}var pte=x.createContext(void 0),bD=e=>{var{id:t,type:n,children:r}=e,i=hte("recharts-".concat(n),t);return x.createElement(pte.Provider,{value:i},r(i))},mte={cartesianItems:[],polarItems:[]},wD=Fn({name:"graphicalItems",initialState:mte,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=ii(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=ii(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=ii(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:gte,replaceCartesianGraphicalItem:yte,removeCartesianGraphicalItem:vte,addPolarGraphicalItem:xte,removePolarGraphicalItem:bte}=wD.actions,wte=wD.reducer;function kte(e){var t=Ve(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(gte(e)):n.current!==e&&t(yte({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(vte(n.current)),n.current=null)},[t]),null}function Ste(e){var t=Ve();return x.useEffect(()=>(t(xte(e)),()=>{t(bte(e))}),[t,e]),null}function CC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(n),!0).forEach(function(r){jte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jte(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ete={xAxis:{},yAxis:{},zAxis:{}},kD=Fn({name:"cartesianAxis",initialState:Ete,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=_C(_C({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Nte,removeXAxis:Pte,addYAxis:Ote,removeYAxis:Ate,addZAxis:Kce,removeZAxis:qce,updateYAxisWidth:Tte}=kD.actions,Ite=kD.reducer,Dte=W([jt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Rte=W([Dte,vi,xi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),SD=()=>ie(Rte),Mte=()=>ie(ZX);function EC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(n),!0).forEach(function(r){Lte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lte(e,t,n){return(t=$te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $te(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zte=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=NC(NC({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ae(i,!1)),r0(i)),s;return x.isValidElement(i)?s=x.cloneElement(i,o):typeof i=="function"?s=i(o):s=x.createElement($b,o),x.createElement(St,{className:"recharts-active-dot"},s)};function Ute(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=ie(Qa),o=Mte();if(t==null||o==null)return null;var s=t.find(l=>o.includes(l.payload));return nt(s)?null:zte({point:s,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function PC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wte(e){var t=Hte(e,"string");return typeof t=="symbol"?t:t+""}function Hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jD=(e,t)=>zs(e,"radiusAxis",t),Kte=W([jD],e=>{if(e!=null)return{scale:e}}),qte=W([Bc,jD],(e,t)=>{if(!(e==null||t==null))return Of(Of({},e),{},{scale:t})}),Vte=(e,t,n,r)=>Us(e,"radiusAxis",t,r),CD=(e,t,n)=>Ts(e,n),_D=(e,t,n)=>zs(e,"angleAxis",n),Gte=W([CD,_D],(e,t)=>{if(!(e==null||t==null))return Of(Of({},e),{},{scale:t})}),Yte=(e,t,n,r)=>Us(e,"angleAxis",n,r),Jte=W([CD,_D,Is],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),Xte=(e,t,n,r,i)=>i,Qte=W([je,qte,Vte,Gte,Yte],(e,t,n,r,i)=>aa(e,"radiusAxis")?cc(t,n,!1):cc(r,i,!1)),Zte=W([eD,Xte],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n==null?void 0:n.dataKey}}),ene=W([Kte,Jte,nb,Zte,Qte],(e,t,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(!(e==null||t==null||a==null||i==null||r==null)){var l=a.slice(o,s+1);return cne({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:r,bandSize:i})}}),tne=["id"];function nne(e,t){if(e==null)return{};var n,r,i=rne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function OC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(n),!0).forEach(function(r){Wb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wb(e,t,n){return(t=ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ine(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ys.apply(null,arguments)}function Hb(e,t){return e&&e!=="none"?e:t}var one=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Hb(r,i),value:Uh(n,t),payload:e}]};function sne(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:Uh(a,t),hide:o,type:s,color:Hb(n,i),unit:""}}}function lne(e,t){var n;return x.isValidElement(e)?n=x.cloneElement(e,t):typeof e=="function"?n=e(t):n=x.createElement($b,ys({},t,{className:Se("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),n}function cne(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=n,l=!1,c=[],d=n.type!=="number"?a??0:0;r.forEach((h,p)=>{var m=yt(h,n.dataKey,p),g=yt(h,i),y=n.scale(m)+d,v=Array.isArray(g)?GI(g):g,b=nt(v)?void 0:t.scale(v);Array.isArray(g)&&g.length>=2&&(l=!0),c.push(Ot(Ot({},Ie(o,s,b,y)),{},{name:m,value:g,cx:o,cy:s,radius:b,angle:y,payload:h}))});var f=[];return l&&c.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],m=nt(p)?void 0:t.scale(p);f.push(Ot(Ot({},h),{},{radius:m},Ie(o,s,m,h.angle)))}else f.push(h)}),{points:c,isRange:l,baseLinePoints:f}}function une(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n;if(!r)return null;var a=nne(n,tne),o=Xt(a),s=Ae(r,!0),l=t.map((c,d)=>{var f=Ot(Ot(Ot({key:"dot-".concat(d),r:3},o),s),{},{dataKey:i,cx:c.x,cy:c.y,index:d,payload:c});return lne(r,f)});return x.createElement(St,{className:"recharts-radar-dots"},l)}function dne(e){var{showLabels:t,points:n,children:r}=e,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Ot(Ot({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(JI,{value:t?i:null},r)}function fne(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,s=d=>{var{onMouseEnter:f}=r;f&&f(r,d)},l=d=>{var{onMouseLeave:f}=r;f&&f(r,d)},c;return x.isValidElement(i)?c=x.cloneElement(i,Ot(Ot({},r),{},{points:t})):typeof i=="function"?c=i(Ot(Ot({},r),{},{points:t})):c=x.createElement(ZI,ys({},Ae(r,!0),{onMouseEnter:s,onMouseLeave:l,points:t,baseLinePoints:a?n:null,connectNulls:o})),x.createElement(St,{className:"recharts-radar-polygon"},c,x.createElement(une,{props:r,points:t}))}var AC=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return a?Ot(Ot({},r),{},{x:mt(a.x,r.x,n),y:mt(a.y,r.y,n)}):Ot(Ot({},r),{},{x:mt(r.cx,r.x,n),y:mt(r.cy,r.y,n)})};function hne(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:d,onAnimationStart:f}=t,h=n.current,p=r.current,m=h&&h.length/i.length,g=p&&p.length/a.length,y=Gh(t,"recharts-radar-"),[v,b]=x.useState(!1),w=!v,S=x.useCallback(()=>{typeof d=="function"&&d(),b(!1)},[d]),j=x.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return x.createElement(dne,{showLabels:w,points:i},x.createElement(Vh,{animationId:y,begin:s,duration:l,isActive:o,easing:c,key:"radar-".concat(y),onAnimationEnd:S,onAnimationStart:j},k=>{var _=k===1?i:i.map(AC(h,m,k)),N=k===1?a:a==null?void 0:a.map(AC(p,g,k));return k>0&&(n.current=_,r.current=N),x.createElement(fne,{points:_,baseLinePoints:N,props:t})}),x.createElement(QI,{label:t.label}),t.children)}function pne(e){var t=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(hne,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var mne={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!so.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class gne extends x.PureComponent{render(){var{hide:t,className:n,points:r}=this.props;if(t||r==null)return null;var i=Se("recharts-radar",n);return x.createElement(x.Fragment,null,x.createElement(St,{className:i},x.createElement(pne,this.props)),x.createElement(Ute,{points:r,mainColor:Hb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function yne(e){var t=gn(),n=ie(r=>ene(r,e.radiusAxisId,e.angleAxisId,t,e.id));return x.createElement(gne,ys({},e,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class Kb extends x.PureComponent{render(){return x.createElement(bD,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(Ste,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(ute,{legendPayload:one(this.props)}),x.createElement(vD,{fn:sne,args:this.props}),x.createElement(yne,ys({},this.props,{id:t}))))}}Wb(Kb,"displayName","Radar");Wb(Kb,"defaultProps",mne);var vne=!0,Vm="Invariant failed";function xne(e,t){if(!e){if(vne)throw new Error(Vm);var n=typeof t=="function"?t():t,r=n?"".concat(Vm,": ").concat(n):Vm;throw new Error(r)}}var bne=["x","y"];function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uv.apply(null,arguments)}function TC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(n),!0).forEach(function(r){wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wne(e,t,n){return(t=kne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e,t){if(e==null)return{};var n,r,i=Cne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _ne(e,t){var{x:n,y:r}=e,i=jne(e,bne),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),d=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return cl(cl(cl(cl(cl({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function qb(e){return x.createElement(lte,uv({shapeType:"rectangle",propTransformer:_ne,activeClassName:"recharts-active-bar"},e))}var Ene=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ue(t))return t;var a=ue(r)||nt(r);return a?t(r,i):(a||xne(!1),n)}},Nne={},ED=Fn({name:"errorBars",initialState:Nne,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});ED.actions;var Pne=ED.reducer,One=["children"];function Ane(e,t){if(e==null)return{};var n,r,i=Tne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ine={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Dne=x.createContext(Ine);function Rne(e){var{children:t}=e,n=Ane(e,One);return x.createElement(Dne.Provider,{value:n},t)}function ND(e,t){var n,r,i=ie(c=>wi(c,e)),a=ie(c=>ki(c,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:wn.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:kn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function Mne(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=SD(),{needClipX:a,needClipY:o,needClip:s}=ND(t,n);if(!s)return null;var{x:l,y:c,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-d/2,y:o?c:c-f/2,width:a?d:d*2,height:o?f:f*2}))}var Lne=["onMouseEnter","onMouseLeave","onClick"],$ne=["value","background","tooltipPosition"],Fne=["id"],zne=["onMouseEnter","onClick","onMouseLeave"];function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qi.apply(null,arguments)}function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t,n){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(e,t){if(e==null)return{};var n,r,i=Hne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Uh(n,t),payload:e}]};function qne(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Uh(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function Vne(e){var t=ie(Qa),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=Af(a,Lne),d=mD(o,r),f=gD(s),h=yD(l,r);if(!i||n==null)return null;var p=Ae(i,!1);return x.createElement(x.Fragment,null,n.map((m,g)=>{var{value:y,background:v,tooltipPosition:b}=m,w=Af(m,$ne);if(!v)return null;var S=d(m,g),j=f(m,g),k=h(m,g),_=Ht(Ht(Ht(Ht(Ht({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},v),p),Ns(c,m,g)),{},{onMouseEnter:S,onMouseLeave:j,onClick:k,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return x.createElement(qb,Qi({key:"background-bar-".concat(_.index)},_))}))}function Gne(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Ht(Ht({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(JI,{value:t?i:void 0},n)}function Yne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=ie(Qa),l=ie(vI),c=n&&String(a)===s&&(l==null||o===l),d=c?n:t;return x.createElement(qb,Qi({},r,i,{isActive:c,option:d,index:a,dataKey:o}))}function Jne(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(qb,Qi({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function Xne(e){var{data:t,props:n}=e,r=Xt(n),i=Af(r,Fne),{shape:a,dataKey:o,activeBar:s}=n,{onMouseEnter:l,onClick:c,onMouseLeave:d}=n,f=Af(n,zne),h=mD(l,o),p=gD(d),m=yD(c,o);return t?x.createElement(x.Fragment,null,t.map((g,y)=>x.createElement(St,Qi({className:"recharts-bar-rectangle"},Ns(f,g,y),{onMouseEnter:h(g,y),onMouseLeave:p(g,y),onClick:m(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),s?x.createElement(Yne,{shape:a,activeBar:s,baseProps:i,entry:g,index:y,dataKey:o}):x.createElement(Jne,{shape:a,baseProps:i,entry:g,index:y,dataKey:o})))):null}function Qne(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,f=n.current,h=Gh(t,"recharts-bar-"),[p,m]=x.useState(!1),g=!p,y=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),v=x.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return x.createElement(Gne,{showLabels:g,rects:r},x.createElement(Vh,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:v,key:h},b=>{var w=b===1?r:r==null?void 0:r.map((S,j)=>{var k=f&&f[j];if(k)return Ht(Ht({},S),{},{x:mt(k.x,S.x,b),y:mt(k.y,S.y,b),width:mt(k.width,S.width,b),height:mt(k.height,S.height,b)});if(i==="horizontal"){var _=mt(0,S.height,b);return Ht(Ht({},S),{},{y:S.y+S.height-_,height:_})}var N=mt(0,S.width,b);return Ht(Ht({},S),{},{width:N})});return b>0&&(n.current=w??null),w==null?null:x.createElement(St,null,x.createElement(Xne,{props:t,data:w}))}),x.createElement(QI,{label:t.label}),t.children)}function Zne(e){var t=x.useRef(null);return x.createElement(Qne,{previousRectanglesRef:t,props:e})}var PD=0,ere=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:yt(e,t)}};class tre extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||n==null)return null;var d=Se("recharts-bar",i),f=c;return x.createElement(St,{className:d,id:c},s&&x.createElement("defs",null,x.createElement(Mne,{clipPathId:f,xAxisId:a,yAxisId:o})),x.createElement(St,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},x.createElement(Vne,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(Zne,this.props)))}}var nre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!so.isSsr,legendType:"rect",minPointSize:PD,xAxisId:0,yAxisId:0};function rre(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=ND(t,n),h=A0(),p=gn(),m=SW(e.children,II),g=ie(b=>Are(b,t,n,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var y,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?y=0:y=h==="vertical"?v.height/2:v.width/2,x.createElement(Rne,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:ere,errorBarOffset:y},x.createElement(tre,Qi({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function ire(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?s:o,y=d?g.scale.domain():null,v=Nq({numericAxis:g});return f.map((b,w)=>{var S,j,k,_,N,O;d?S=kq(d[w],y):(S=yt(b,n),Array.isArray(S)||(S=[v,S]));var E=Ene(r,PD)(S[1],w);if(t==="horizontal"){var T,[M,$]=[s.scale(S[0]),s.scale(S[1])];j=CS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:b,index:w}),k=(T=$??M)!==null&&T!==void 0?T:void 0,_=i.size;var I=M-$;if(N=Tn(I)?0:I,O={x:j,y:h.top,width:_,height:h.height},Math.abs(E)>0&&Math.abs(N)<Math.abs(E)){var z=cn(N||E)*(Math.abs(E)-Math.abs(N));k-=z,N+=z}}else{var[B,Y]=[o.scale(S[0]),o.scale(S[1])];if(j=B,k=CS({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:b,index:w}),_=Y-B,N=i.size,O={x:h.left,y:k,width:h.width,height:N},Math.abs(E)>0&&Math.abs(_)<Math.abs(E)){var D=cn(_||E)*(Math.abs(E)-Math.abs(_));_+=D}}if(j==null||k==null||_==null||N==null)return null;var R=Ht(Ht({},b),{},{x:j,y:k,width:_,height:N,value:d?S:S[1],payload:b,background:O,tooltipPosition:{x:j+_/2,y:k+N/2},parentViewBox:m},p&&p[w]&&p[w].props);return R}).filter(Boolean)}function are(e){var t=yn(e,nre),n=gn();return x.createElement(bD,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(cte,{legendPayload:Kne(t)}),x.createElement(vD,{fn:qne,args:t}),x.createElement(kte,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:Eq(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(rre,Qi({},t,{id:r}))))}var cd=x.memo(are);cd.displayName="Bar";function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return(t=sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sre(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cre=(e,t)=>t,ure=(e,t,n)=>n,dre=(e,t,n,r)=>r,fre=(e,t,n,r,i)=>i,Jc=W([hb,fre],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),hre=W([Jc],e=>e==null?void 0:e.maxBarSize),pre=(e,t,n,r,i,a)=>a,RC=(e,t,n)=>{var r=n??e;if(!nt(r))return br(r,t,0)},mre=W([je,hb,cre,ure,dre],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),gre=(e,t,n,r)=>{var i=je(e);return i==="horizontal"?rv(e,"yAxis",n,r):rv(e,"xAxis",t,r)},yre=(e,t,n)=>{var r=je(e);return r==="horizontal"?$j(e,"xAxis",t):$j(e,"yAxis",n)},vre=(e,t,n)=>{var r={},i=e.filter(ip),a=e.filter(c=>c.stackId==null),o=i.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),r),s=Object.entries(o).map(c=>{var[d,f]=c,h=f.map(m=>m.dataKey),p=RC(t,n,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),l=a.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=RC(t,n,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...l]},xre=W([mre,lJ,yre],vre),bre=(e,t,n,r,i)=>{var a,o,s=Jc(e,t,n,r,i);if(s!=null){var l=je(e),c=gT(e),{maxBarSize:d}=s,f=nt(d)?c:d,h,p;return l==="horizontal"?(h=gs(e,"xAxis",t,r),p=ms(e,"xAxis",t,r)):(h=gs(e,"yAxis",n,r),p=ms(e,"yAxis",n,r)),(a=(o=cc(h,p,!0))!==null&&o!==void 0?o:f)!==null&&a!==void 0?a:0}},OD=(e,t,n,r)=>{var i=je(e),a,o;return i==="horizontal"?(a=gs(e,"xAxis",t,r),o=ms(e,"xAxis",t,r)):(a=gs(e,"yAxis",n,r),o=ms(e,"yAxis",n,r)),cc(a,o)};function wre(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=br(e,n,0,!0),s,l=[];if(Dn(r[0].barSize)){var c=!1,d=n/a,f=r.reduce((v,b)=>v+(b.barSize||0),0);f+=(a-1)*o,f>=n&&(f-=(a-1)*o,o=0),f>=n&&d>0&&(c=!0,d*=.9,f=a*d);var h=(n-f)/2>>0,p={offset:h-o,size:0};s=r.reduce((v,b)=>{var w,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+o,size:c?d:(w=b.barSize)!==null&&w!==void 0?w:0}},j=[...v,S];return p=j[j.length-1].position,j},l)}else{var m=br(t,n,0,!0);n-2*m-(a-1)*o<=0&&(o=0);var g=(n-2*m-(a-1)*o)/a;g>1&&(g>>=0);var y=Dn(i)?Math.min(g,i):g;s=r.reduce((v,b,w)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+o)*w+(g-y)/2,size:y}}],l)}return s}}var kre=(e,t,n,r,i,a,o)=>{var s=nt(o)?t:o,l=wre(n,r,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>Wu(Wu({},c),{},{position:Wu(Wu({},c.position),{},{offset:c.position.offset-i/2})}))),l},Sre=W([xre,gT,sJ,yT,bre,OD,hre],kre),jre=(e,t,n,r)=>gs(e,"xAxis",t,r),Cre=(e,t,n,r)=>gs(e,"yAxis",n,r),_re=(e,t,n,r)=>ms(e,"xAxis",t,r),Ere=(e,t,n,r)=>ms(e,"yAxis",n,r),Nre=W([Sre,Jc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Pre=(e,t)=>{var n=ub(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},Ore=W([gre,Jc],Pre),Are=W([jt,E0,jre,Cre,_re,Ere,Nre,je,rb,OD,Ore,Jc,pre],(e,t,n,r,i,a,o,s,l,c,d,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:y}=f,v;if(y!=null&&y.length>0?v=y:v=p==null?void 0:p.slice(m,g+1),v!=null)return ire({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:v,offset:e,cells:h})}}),AD=e=>{var{chartData:t}=e,n=Ve(),r=gn();return x.useEffect(()=>r?()=>{}:(n(Vj(t)),()=>{n(Vj(void 0))}),[t,n,r]),null},MC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TD=Fn({name:"brush",initialState:MC,reducers:{setBrushSettings(e,t){return t.payload==null?MC:t.payload}}});TD.actions;var Tre=TD.reducer;function Ire(e,t,n){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dre(e){var t=Rre(e,"string");return typeof t=="symbol"?t:t+""}function Rre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vb{static create(t){return new Vb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Ire(Vb,"EPS",1e-4);function Mre(e){return(e%180+180)%180}var Lre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Mre(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},$re={dots:[],areas:[],lines:[]},ID=Fn({name:"referenceElements",initialState:$re,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ii(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ii(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ii(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});ID.actions;var Fre=ID.reducer,zre=x.createContext(void 0),Ure=e=>{var{children:t}=e,[n]=x.useState("".concat(oc("recharts"),"-clip")),r=SD();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return x.createElement(zre.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function vs(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function DD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function Bre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Lre(r,n)}function Wre(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Tf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Hre(e,t){return DD(e,t+1)}function Kre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:DD(r,c)};var g=l,y,v=()=>(y===void 0&&(y=n(m,g)),y),b=m.coordinate,w=l===0||Tf(e,b,v,d,s);w||(l=0,d=o,c+=1),w&&(d=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function LC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(n),!0).forEach(function(r){qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qre(e,t,n){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vre(e){var t=Gre(e,"string");return typeof t=="symbol"?t:t+""}function Gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yre(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===o-1){var y=e*(p.coordinate+e*g()/2-l);a[h]=p=Rt(Rt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Rt(Rt({},p),{},{tickCoord:p.coordinate});var v=Tf(e,p.tickCoord,g,s,l);v&&(l=p.tickCoord-e*(g()/2+i),a[h]=Rt(Rt({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return a}function Jre(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var d=r[s-1],f=n(d,s-1),h=e*(d.coordinate+e*f/2-c);o[s-1]=d=Rt(Rt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=Tf(e,d.tickCoord,()=>f,l,c);p&&(c=d.tickCoord-e*(f/2+i),o[s-1]=Rt(Rt({},d),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var w=o[b],S,j=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var k=e*(w.coordinate-e*j()/2-l);o[b]=w=Rt(Rt({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[b]=w=Rt(Rt({},w),{},{tickCoord:w.coordinate});var _=Tf(e,w.tickCoord,j,l,c);_&&(l=w.tickCoord+e*(j()/2+i),o[b]=Rt(Rt({},w),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function Gb(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(ue(l)||so.isSsr){var h;return(h=Hre(i,ue(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=d&&m==="width"?Dl(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var j=typeof c=="function"?c(w.value,S):w.value;return m==="width"?Bre(Dl(j,{fontSize:t,letterSpacing:n}),g,f):Dl(j,{fontSize:t,letterSpacing:n})[m]},v=i.length>=2?cn(i[1].coordinate-i[0].coordinate):1,b=Wre(a,v,m);return l==="equidistantPreserveStart"?Kre(v,b,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Jre(v,b,y,i,o,l==="preserveStartEnd"):p=Yre(v,b,y,i,o),p.filter(w=>w.isShow))}var Xre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(n?r:0);return Math.round(c)}return 0},Qre=["axisLine","width","height","className","hide","ticks"],Zre=["viewBox"],eie=["viewBox"];function dv(e,t){if(e==null)return{};var n,r,i=tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Za.apply(null,arguments)}function $C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return(t=rie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=iie(e,"string");return typeof t=="symbol"?t:t+""}function iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function aie(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=pt(pt(pt({},l),Ae(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);c=pt(pt({},c),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);c=pt(pt({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",Za({},c,{className:Se("recharts-cartesian-axis-line",as(s,"className"))}))}function oie(e,t,n,r,i,a,o,s,l){var c,d,f,h,p,m,g=s?-1:1,y=e.tickSize||o,v=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=d=e.coordinate,h=n+ +!s*i,f=h-g*y,m=f-g*l,p=v;break;case"left":f=h=e.coordinate,d=t+ +!s*r,c=d-g*y,p=c-g*l,m=v;break;case"right":f=h=e.coordinate,d=t+ +s*r,c=d+g*y,p=c+g*l,m=v;break;default:c=d=e.coordinate,h=n+ +s*i,f=h+g*y,m=f+g*l,p=v;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:p,y:m}}}function sie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function lie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function cie(e){var{option:t,tickProps:n,value:r}=e,i,a=Se(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,pt(pt({},n),{},{className:a}));else if(typeof t=="function")i=t(pt(pt({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Se(o,t==null?void 0:t.className)),i=x.createElement(Yc,Za({},n,{className:o}),r)}return i}function uie(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:d,x:f,y:h,width:p,height:m,tickSize:g,tickMargin:y,fontSize:v,letterSpacing:b,getTicksConfig:w,events:S}=e,j=Gb(pt(pt({},w),{},{ticks:t}),v,b),k=sie(c,d),_=lie(c,d),N=Xt(w),O=Ae(n,!1),E=pt(pt({},N),{},{fill:"none"},Ae(r,!1)),T=j.map((M,$)=>{var{line:I,tick:z}=oie(M,f,h,p,m,c,g,d,y),B=pt(pt(pt(pt({textAnchor:k,verticalAnchor:_},N),{},{stroke:"none",fill:i},O),z),{},{index:$,payload:M,visibleTicksCount:j.length,tickFormatter:a,padding:s},l);return x.createElement(St,Za({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Ns(S,M,$)),r&&x.createElement("line",Za({},E,I,{className:Se("recharts-cartesian-axis-tick-line",as(r,"className"))})),n&&x.createElement(cie,{option:n,tickProps:B,value:"".concat(typeof a=="function"?a(M.value,$):M.value).concat(o||"")}))});return T.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}var die=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s}=e,l=dv(e,Qre),[c,d]=x.useState(""),[f,h]=x.useState(""),p=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Xre({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=x.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(y);var v=y[0];if(v){var b=window.getComputedStyle(v),w=b.fontSize,S=b.letterSpacing;(w!==c||S!==f)&&(d(w),h(S))}}},[c,f]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(St,{className:Se("recharts-cartesian-axis",a),ref:m},x.createElement(aie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Xt(e)}),x.createElement(uie,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),x.createElement(SZ,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(AZ,{label:e.label}),e.children))}),fie=x.memo(die,(e,t)=>{var{viewBox:n}=e,r=dv(e,Zre),{viewBox:i}=t,a=dv(t,eie);return vs(n,i)&&vs(r,a)}),Jb=x.forwardRef((e,t)=>{var n=yn(e,Yb);return x.createElement(fie,Za({},n,{ref:t}))});Jb.displayName="CartesianAxis";var hie=["x1","y1","x2","y2","key"],pie=["offset"],mie=["xAxisId","yAxisId"],gie=["xAxisId","yAxisId"];function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){yie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yie(e,t,n){return(t=vie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vie(e){var t=xie(e,"string");return typeof t=="symbol"?t:t+""}function xie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ta.apply(null,arguments)}function If(e,t){if(e==null)return{};var n,r,i=bie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RD(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:o,key:s}=t,l=If(t,hie),c=Xt(l),d=If(c,pie);n=x.createElement("line",Ta({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function kie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=If(e,mie),o=i.map((s,l)=>{var c=Lt(Lt({},a),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return RD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Sie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=If(e,gie),o=i.map((s,l)=>{var c=Lt(Lt({},a),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return RD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function jie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],m=p?i+o-f:c[h+1]-f;if(m<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Cie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],m=p?i+o-f:c[h+1]-f;if(m<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:m,height:s,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _ie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return nA(Gb(Lt(Lt(Lt({},Yb),n),{},{ticks:rA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},Eie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return nA(Gb(Lt(Lt(Lt({},Yb),n),{},{ticks:rA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},Nie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function fv(e){var t=P0(),n=O0(),r=aA(),i=Lt(Lt({},yn(e,Nie)),{},{x:ue(e.x)?e.x:r.left,y:ue(e.y)?e.y:r.top,width:ue(e.width)?e.width:r.width,height:ue(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=gn(),g=ie(O=>Fj(O,"xAxis",a,m)),y=ie(O=>Fj(O,"yAxis",o,m));if(!ue(c)||c<=0||!ue(d)||d<=0||!ue(s)||s!==+s||!ue(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||_ie,b=i.horizontalCoordinatesGenerator||Eie,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var j=h&&h.length,k=b({yAxis:y?Lt(Lt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t,height:n,offset:r},j?!0:f);Il(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof v=="function"){var _=p&&p.length,N=v({xAxis:g?Lt(Lt({},g),{},{ticks:_?p:g.ticks}):void 0,width:t,height:n,offset:r},_?!0:f);Il(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(wie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(jie,Ta({},i,{horizontalPoints:w})),x.createElement(Cie,Ta({},i,{verticalPoints:S})),x.createElement(kie,Ta({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(Sie,Ta({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y})))}fv.displayName="CartesianGrid";var Pie=["dangerouslySetInnerHTML","ticks"],Oie=["id"],Aie=["domain"],Tie=["domain"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hv.apply(null,arguments)}function Df(e,t){if(e==null)return{};var n,r,i=Iie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Die(e){var t=Ve();return x.useEffect(()=>(t(Nte(e)),()=>{t(Pte(e))}),[e,t]),null}var Rie=e=>{var{xAxisId:t,className:n}=e,r=ie(E0),i=gn(),a="xAxis",o=ie(p=>Ls(p,a,t,i)),s=ie(p=>QT(p,a,t,i)),l=ie(p=>GT(p,t)),c=ie(p=>tX(p,t)),d=ie(p=>CT(p,t));if(l==null||c==null||d==null)return null;var f=Df(e,Pie),h=Df(d,Oie);return x.createElement(Jb,hv({},f,h,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:Se("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s}))},Mie={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,height:wn.height,hide:!1,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tickCount:wn.tickCount,type:wn.type,xAxisId:0},Lie=e=>{var t,n,r,i,a,o=yn(e,Mie);return x.createElement(x.Fragment,null,x.createElement(Die,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(Rie,o))},$ie=(e,t)=>{var{domain:n}=e,r=Df(e,Aie),{domain:i}=t,a=Df(t,Tie);return vs(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vs({domain:n},{domain:i}):!1},pv=x.memo(Lie,$ie);pv.displayName="XAxis";var Fie=["dangerouslySetInnerHTML","ticks"],zie=["id"],Uie=["domain"],Bie=["domain"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(null,arguments)}function Rf(e,t){if(e==null)return{};var n,r,i=Wie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hie(e){var t=Ve();return x.useEffect(()=>(t(Ote(e)),()=>{t(Ate(e))}),[e,t]),null}var Kie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),o=x.useRef(null),s=ie(E0),l=gn(),c=Ve(),d="yAxis",f=ie(b=>Ls(b,d,t,l)),h=ie(b=>YT(b,t)),p=ie(b=>rX(b,t)),m=ie(b=>QT(b,d,t,l)),g=ie(b=>_T(b,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!h||Lb(i)||x.isValidElement(i)||g==null)){var b=a.current;if(b){var w=b.getCalculatedWidth();Math.round(h.width)!==Math.round(w)&&c(Tte({id:t,width:w}))}}},[m,h,c,i,t,r,g]),h==null||p==null||g==null)return null;var y=Rf(e,Fie),v=Rf(g,zie);return x.createElement(Jb,mv({},y,v,{ref:a,labelRef:o,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:Se("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m}))},qie={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,hide:!1,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tickCount:kn.tickCount,type:kn.type,width:kn.width,yAxisId:0},Vie=e=>{var t,n,r,i,a,o=yn(e,qie);return x.createElement(x.Fragment,null,x.createElement(Hie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(Kie,o))},Gie=(e,t)=>{var{domain:n}=e,r=Rf(e,Uie),{domain:i}=t,a=Rf(t,Bie);return vs(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:vs({domain:n},{domain:i}):!1},gv=x.memo(Vie,Gie);gv.displayName="YAxis";var Yie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=x;function Jie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xie=typeof Object.is=="function"?Object.is:Jie,Qie=Xc.useSyncExternalStore,Zie=Xc.useRef,eae=Xc.useEffect,tae=Xc.useMemo,nae=Xc.useDebugValue;Yie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Zie(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=tae(function(){function l(p){if(!c){if(c=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,Xie(d,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(d=p,m):(d=p,f=g)}var c=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=Qie(e,a[0],a[1]);return eae(function(){o.hasValue=!0,o.value=s},[s]),nae(s),s};function rae(e){e()}function iae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var zC={notify(){},get:()=>[]};function aae(e,t){let n,r=zC,i=0,a=!1;function o(g){d();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function d(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=iae())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=zC)}function h(){a||(a=!0,d())}function p(){a&&(a=!1,f())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var oae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sae=oae(),lae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",cae=lae(),uae=()=>sae||cae?x.useLayoutEffect:x.useEffect,dae=uae(),Gm=Symbol.for("react-redux-context"),Ym=typeof globalThis<"u"?globalThis:{};function fae(){if(!x.createContext)return{};const e=Ym[Gm]??(Ym[Gm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var hae=fae();function pae(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=aae(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);dae(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||hae;return x.createElement(s.Provider,{value:a},t)}var mae=pae,gae=(e,t)=>t,Xb=W([gae,je,Is,xt,pI,Si,oQ,jt],dQ),Qb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},MD=nr("mouseClick"),LD=Rc();LD.startListening({actionCreator:MD,effect:(e,t)=>{var n=e.payload,r=Xb(t.getState(),Qb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(pX({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yv=nr("mouseMove"),$D=Rc();$D.startListening({actionCreator:yv,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Nb(r,r.tooltip.settings.shared),a=Xb(r,Qb(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(sI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(oI()))}});var UC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},FD=Fn({name:"rootProps",initialState:UC,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:UC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),yae=FD.reducer,{updateOptions:vae}=FD.actions,zD=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xae}=zD.actions,bae=zD.reducer,UD=nr("keyDown"),BD=nr("focus"),Zb=Rc();Zb.startListening({actionCreator:UD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(Pb(i,Fs(n))),s=Si(n);if(a==="Enter"){var l=_f(n,"axis","hover",String(i.index));t.dispatch(av({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=aX(n),d=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=o+f*d;if(!(s==null||h>=s.length||h<0)){var p=_f(n,"axis","hover",String(h));t.dispatch(av({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Zb.startListening({actionCreator:BD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=_f(n,"axis","hover",String(a));t.dispatch(av({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Kn=nr("externalEvent"),WD=Rc();WD.startListening({actionCreator:Kn,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:JX(n),activeDataKey:vI(n),activeIndex:Qa(n),activeLabel:yI(n),activeTooltipIndex:Qa(n),isTooltipActive:XX(n)};e.payload.handler(r,e.payload.reactEvent)}}});var wae=W([$s],e=>e.tooltipItemPayloads),kae=W([wae,Vc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),HD=nr("touchMove"),KD=Rc();KD.startListening({actionCreator:HD,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Nb(r,r.tooltip.settings.shared);if(i==="axis"){var a=Xb(r,Qb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(sI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(Mq),d=(o=l.getAttribute(Lq))!==null&&o!==void 0?o:void 0,f=kae(t.getState(),c,d);t.dispatch(aI({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}});var Sae=AO({brush:Tre,cartesianAxis:Ite,chartData:_Q,errorBars:Pne,graphicalItems:wte,layout:aq,legend:Qq,options:wQ,polarAxis:vee,polarOptions:bae,referenceElements:Fre,rootProps:yae,tooltip:mX}),jae=function(t){return OK({reducer:Sae,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([LD.middleware,$D.middleware,Zb.middleware,WD.middleware,KD.middleware]),devTools:so.devToolsEnabled})};function qD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=gn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=jae(t));var o=x0;return x.createElement(mae,{context:o,store:a.current},n)}function VD(e){var{layout:t,width:n,height:r,margin:i}=e,a=Ve(),o=gn();return x.useEffect(()=>{o||(a(nq(t)),a(rq({width:n,height:r})),a(tq(i)))},[a,o,t,n,r,i]),null}function GD(e){var t=Ve();return x.useEffect(()=>{t(vae(e))},[t,e]),null}var Cae=["children"];function _ae(e,t){if(e==null)return{};var n,r,i=Eae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Eae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(null,arguments)}var Nae={width:"100%",height:"100%"},Pae=x.forwardRef((e,t)=>{var n=P0(),r=O0(),i=cA();if(!us(n)||!us(r))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,d;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0,x.createElement(i0,Mf({},o,{title:s,desc:l,role:d,tabIndex:c,width:n,height:r,style:Nae,ref:t}),a)}),Oae=e=>{var{children:t}=e,n=ie(Kh);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return x.createElement(i0,{width:r,height:i,x:o,y:a},t)},BC=x.forwardRef((e,t)=>{var{children:n}=e,r=_ae(e,Cae),i=gn();return i?x.createElement(Oae,null,n):x.createElement(Pae,Mf({ref:t},r),n)});function Aae(){var e=Ve(),[t,n]=x.useState(null),r=ie(Rq);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Dn(a)&&a!==r&&e(iq(a))}},[t,e,r]),n}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){Iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iae(e,t,n){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dae(e){var t=Rae(e,"string");return typeof t=="symbol"?t:t+""}function Rae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mae=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=Ve(),[w,S]=x.useState(null),[j,k]=x.useState(null);RQ();var _=Aae(),N=x.useCallback(H=>{_(H),typeof t=="function"&&t(H),S(H),k(H)},[_,t,S,k]),O=x.useCallback(H=>{b(MD(H)),b(Kn({handler:a,reactEvent:H}))},[b,a]),E=x.useCallback(H=>{b(yv(H)),b(Kn({handler:c,reactEvent:H}))},[b,c]),T=x.useCallback(H=>{b(oI()),b(Kn({handler:d,reactEvent:H}))},[b,d]),M=x.useCallback(H=>{b(yv(H)),b(Kn({handler:f,reactEvent:H}))},[b,f]),$=x.useCallback(()=>{b(BD())},[b]),I=x.useCallback(H=>{b(UD(H.key))},[b]),z=x.useCallback(H=>{b(Kn({handler:o,reactEvent:H}))},[b,o]),B=x.useCallback(H=>{b(Kn({handler:s,reactEvent:H}))},[b,s]),Y=x.useCallback(H=>{b(Kn({handler:l,reactEvent:H}))},[b,l]),D=x.useCallback(H=>{b(Kn({handler:h,reactEvent:H}))},[b,h]),R=x.useCallback(H=>{b(Kn({handler:g,reactEvent:H}))},[b,g]),C=x.useCallback(H=>{b(HD(H)),b(Kn({handler:m,reactEvent:H}))},[b,m]),Z=x.useCallback(H=>{b(Kn({handler:p,reactEvent:H}))},[b,p]);return x.createElement(jI.Provider,{value:w},x.createElement($P.Provider,{value:j},x.createElement("div",{className:Se("recharts-wrapper",r),style:Tae({position:"relative",cursor:"default",width:v,height:i},y),onClick:O,onContextMenu:z,onDoubleClick:B,onFocus:$,onKeyDown:I,onMouseDown:Y,onMouseEnter:E,onMouseLeave:T,onMouseMove:M,onMouseUp:D,onTouchEnd:Z,onTouchMove:C,onTouchStart:R,ref:N},n)))}),Lae=["children","className","width","height","style","compact","title","desc"];function $ae(e,t){if(e==null)return{};var n,r,i=Fae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YD=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,d=$ae(e,Lae),f=Xt(d);return s?x.createElement(BC,{otherAttributes:f,title:l,desc:c},n):x.createElement(Mae,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(BC,{otherAttributes:f,title:l,desc:c,ref:t},x.createElement(Ure,null,n)))}),zae=["width","height"];function vv(){return vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vv.apply(null,arguments)}function Uae(e,t){if(e==null)return{};var n,r,i=Bae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Wae={top:5,right:5,bottom:5,left:5},Hae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wae,reverseStackOrder:!1,syncMethod:"index"},Kae=x.forwardRef(function(t,n){var r,i=yn(t.categoricalChartProps,Hae),{width:a,height:o}=i,s=Uae(i,zae);if(!us(a)||!us(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(qD,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},x.createElement(AD,{chartData:h.data}),x.createElement(VD,{width:a,height:o,layout:i.layout,margin:i.margin}),x.createElement(GD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(YD,vv({},s,{width:a,height:o,ref:n})))}),qae=["axis","item"],HC=x.forwardRef((e,t)=>x.createElement(Kae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qae,tooltipPayloadSearcher:_I,categoricalChartProps:e,ref:t}));function Vae(e){var t=Ve();return x.useEffect(()=>{t(xae(e))},[t,e]),null}var Gae=["width","height","layout"];function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(null,arguments)}function Yae(e,t){if(e==null)return{};var n,r,i=Jae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xae={top:5,right:5,bottom:5,left:5},Qae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xae,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Zae=x.forwardRef(function(t,n){var r,i=yn(t.categoricalChartProps,Qae),{width:a,height:o,layout:s}=i,l=Yae(i,Gae);if(!us(a)||!us(o))return null;var{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(qD,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},x.createElement(AD,{chartData:i.data}),x.createElement(VD,{width:a,height:o,layout:s,margin:i.margin}),x.createElement(GD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Vae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(YD,xv({width:a,height:o},l,{ref:n})))}),eoe=["axis"],toe={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},noe=x.forwardRef((e,t)=>{var n=yn(e,toe);return x.createElement(Zae,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eoe,tooltipPayloadSearcher:_I,categoricalChartProps:n,ref:t})});const ni=({children:e,className:t="",header:n,subheader:r,actions:i})=>u.jsxs("div",{className:`card rounded-lg border ${t}`,style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[(n||r||i)&&u.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border)"},children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[n&&u.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),r&&u.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:r})]}),i&&u.jsx("div",{className:"flex items-center space-x-2",children:i})]})}),u.jsx("div",{className:"p-6",children:e})]}),roe={relevance:85,tone:92,length:78,accuracy:88,toxicity:95,promptable:82},ioe=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],score:Math.floor(Math.random()*20)+70})}return n},aoe=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],userCount:Math.floor(Math.random()*50)+10,assistantCount:Math.floor(Math.random()*50)+10})}return n},KC=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),roe;throw new Error("Analytics API not implemented")},qC=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),ioe(e);throw new Error("Analytics API not implemented")},VC=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),aoe(e);throw new Error("Analytics API not implemented")},ooe=()=>{const{t:e}=rt(),[t,n]=x.useState(null),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState(!0),[c,d]=x.useState("7d");x.useEffect(()=>{(async()=>{l(!0);try{const[m,g,y]=await Promise.all([KC(c),qC(c),VC(c)]);n(m),i(g),o(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},[c]);const f=()=>{(async()=>{l(!0);try{const[m,g,y]=await Promise.all([KC(c),qC(c),VC(c)]);n(m),i(g),o(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},h=()=>{if(!t)return 0;const p=Object.values(t);return Math.round(p.reduce((m,g)=>m+g,0)/p.length)};return s?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading analytics..."})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ni,{header:e("dashboard.title"),subheader:`Overall Score: ${h()}%`,actions:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{value:c,onChange:p=>d(p.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"7d",children:"Last 7 days"}),u.jsx("option",{value:"30d",children:"Last 30 days"}),u.jsx("option",{value:"90d",children:"Last 90 days"})]}),u.jsx("button",{onClick:f,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[u.jsx("div",{className:"h-80",children:u.jsx(Hm,{width:"100%",height:"100%",children:u.jsxs(noe,{data:t?[t]:[],children:[u.jsx(aD,{}),u.jsx(mp,{dataKey:"subject"}),u.jsx(hp,{angle:90,domain:[0,100]}),u.jsx(Kb,{name:"Performance",dataKey:"relevance",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Relevance:"}),u.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.relevance,"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tone:"}),u.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.tone,"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Length:"}),u.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.length,"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Accuracy:"}),u.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.accuracy,"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Toxicity:"}),u.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.toxicity,"%"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{style:{color:"var(--text-secondary)"},children:"Promptable:"}),u.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.promptable,"%"]})]})]})]}),u.jsx(ni,{header:e("dashboard.timeline"),subheader:"Daily performance scores over time",children:u.jsx("div",{className:"h-80",children:u.jsx(Hm,{width:"100%",height:"100%",children:u.jsxs(HC,{data:r,children:[u.jsx(fv,{strokeDasharray:"3 3"}),u.jsx(pv,{dataKey:"ts"}),u.jsx(gv,{domain:[0,100]}),u.jsx(Qj,{}),u.jsx(cd,{dataKey:"score",fill:"#8884d8"})]})})})}),u.jsx(ni,{header:e("dashboard.activity"),subheader:"Message volume by role",children:u.jsx("div",{className:"h-80",children:u.jsx(Hm,{width:"100%",height:"100%",children:u.jsxs(HC,{data:a,children:[u.jsx(fv,{strokeDasharray:"3 3"}),u.jsx(pv,{dataKey:"ts"}),u.jsx(gv,{}),u.jsx(Qj,{}),u.jsx(qh,{}),u.jsx(cd,{dataKey:"userCount",name:"User Messages",fill:"#8884d8"}),u.jsx(cd,{dataKey:"assistantCount",name:"Assistant Messages",fill:"#82ca9d"})]})})})})]})};function Ml({columns:e,data:t,loading:n=!1,sortable:r=!0,pagination:i,onSort:a,className:o=""}){const[s,l]=x.useState(""),[c,d]=x.useState("asc"),f=p=>{if(!r||!a)return;const m=s===p&&c==="asc"?"desc":"asc";l(p),d(m),a(p,m)},h=p=>s!==p?"↕️":c==="asc"?"↑":"↓";return n?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading..."})}):u.jsxs("div",{className:`overflow-hidden ${o}`,children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"sticky top-0",style:{backgroundColor:"var(--bg-secondary)"},children:u.jsx("tr",{children:e.map(p=>u.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${p.sortable&&r?"cursor-pointer hover:bg-gray-50":""}`,style:{color:"var(--text-muted)",width:p.width},onClick:()=>p.sortable&&f(String(p.key)),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{children:p.label}),p.sortable&&r&&u.jsx("span",{className:"text-xs",children:h(String(p.key))})]})},String(p.key)))})}),u.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border)"},children:t.map((p,m)=>u.jsx("tr",{className:"hover:bg-gray-50",children:e.map(g=>u.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--text)"},children:g.render?g.render(p[g.key],p):String(p[g.key]||"")},String(g.key)))},m))})]})}),i&&u.jsxs("div",{className:"px-4 py-3 border-t flex items-center justify-between",style:{borderColor:"var(--border)"},children:[u.jsx("div",{className:"flex items-center space-x-2",children:u.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",(i.page-1)*i.pageSize+1," to"," ",Math.min(i.page*i.pageSize,i.total)," of"," ",i.total," results"]})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("select",{value:i.pageSize,onChange:p=>i.onPageSizeChange(Number(p.target.value)),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:10,children:"10 per page"}),u.jsx("option",{value:25,children:"25 per page"}),u.jsx("option",{value:50,children:"50 per page"}),u.jsx("option",{value:100,children:"100 per page"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:()=>i.onPageChange(i.page-1),disabled:i.page<=1,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Previous"}),u.jsx("span",{className:"px-3 py-1 text-sm",style:{color:"var(--text)"},children:i.page}),u.jsx("button",{onClick:()=>i.onPageChange(i.page+1),disabled:i.page*i.pageSize>=i.total,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Next"})]})]})]})]})}const ud=({status:e,children:t})=>{const n=r=>{switch(r){case"open":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"closed":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"synced":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"error":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"queued":return{backgroundColor:"var(--warning-light)",color:"var(--warning)",border:"1px solid var(--warning)"};case"indexing":return{backgroundColor:"var(--primary-light)",color:"var(--primary)",border:"1px solid var(--primary)"};default:return{backgroundColor:"var(--border-light)",color:"var(--text-muted)",border:"1px solid var(--border)"}}};return u.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:n(e),children:t})},soe=({children:e,left:t,right:n,className:r=""})=>u.jsxs("div",{className:`flex items-center justify-between py-4 ${r}`,children:[u.jsx("div",{className:"flex items-center space-x-4",children:t}),u.jsx("div",{className:"flex items-center space-x-4",children:n})]}),loe=({isOpen:e,onClose:t,title:n,children:r,className:i=""})=>{const a=x.useRef(null);return x.useEffect(()=>{const o=s=>{s.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),x.useEffect(()=>{e&&a.current&&a.current.focus()},[e]),e?u.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),u.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md",children:u.jsxs("div",{ref:a,className:`h-full flex flex-col ${i}`,style:{backgroundColor:"var(--card)"},tabIndex:-1,children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[u.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),u.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:"✕"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r})]})})]}):null},coe=[{id:"1",title:"PSDAP Program Discussion",status:"open",lastAt:"2024-01-15T10:30:00Z",messageCount:12},{id:"2",title:"API Integration Help",status:"closed",lastAt:"2024-01-14T15:45:00Z",messageCount:8},{id:"3",title:"General Questions",status:"open",lastAt:"2024-01-13T09:20:00Z",messageCount:15}],uoe=[{id:"1",sessionId:"1",role:"user",content:"What is the PSDAP program?",createdAt:"2024-01-15T10:30:00Z"},{id:"2",sessionId:"1",role:"assistant",content:"The PSDAP program is a comprehensive development initiative...",createdAt:"2024-01-15T10:31:00Z",feedback:"up",citations:[{sourceType:"document",title:"PSDAP Program Guide",snippet:"The PSDAP program provides..."}]}],GC=[{id:"1",requestId:"req-123",corrected:"The PSDAP program is a comprehensive development initiative that focuses on...",createdAt:"2024-01-15T11:00:00Z"}],YC=[{id:"1",messageId:"2",rating:1,note:"Very helpful response",createdAt:"2024-01-15T10:35:00Z"}],doe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...coe];e.search&&(t=t.filter(o=>o.title.toLowerCase().includes(e.search.toLowerCase()))),e.status&&e.status!=="all"&&(t=t.filter(o=>o.status===e.status)),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],d=e.sortDirection==="desc"?-1:1;return l<c?-1*d:l>c?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},foe=async(e,t={})=>{await new Promise(s=>setTimeout(s,300));const n=uoe.filter(s=>s.sessionId===e),r=t.page||1,i=t.pageSize||10,a=(r-1)*i,o=a+i;return{rows:n.slice(a,o),total:n.length}},hoe=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:GC,total:GC.length}),poe=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:YC,total:YC.length}),moe=()=>{const{t:e}=rt(),t=$n(),[n,r]=x.useState("sessions"),[i,a]=x.useState(null),[o,s]=x.useState([]),[l,c]=x.useState([]),[d,f]=x.useState([]),[h,p]=x.useState([]),[m,g]=x.useState(!1),[y,v]=x.useState(null),[b,w]=x.useState(!1),[S,j]=x.useState(""),[k,_]=x.useState("all"),[N,O]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{E(),M()},[S,k,N.page,N.pageSize]),x.useEffect(()=>{i&&T(i)},[i]);const E=async()=>{g(!0);try{const D=await doe({page:N.page,pageSize:N.pageSize,search:S,status:k});s(D.rows),O(R=>({...R,total:D.total}))}catch(D){console.error("Failed to fetch sessions:",D)}finally{g(!1)}},T=async D=>{try{const R=await foe(D,{page:1,pageSize:50});c(R.rows)}catch(R){console.error("Failed to fetch messages:",R)}},M=async()=>{try{const[D,R]=await Promise.all([hoe(),poe()]);f(D.rows),p(R.rows)}catch(D){console.error("Failed to fetch feedback:",D)}},$=async(D,R,C)=>{try{switch(D){case"open":t(`/chat/${R}`);break;case"rename":C&&console.log("Renaming session:",R,C);break;case"close":console.log("Closing session:",R);break;case"delete":console.log("Deleting session:",R);break}}catch(Z){console.error("Failed to perform session action:",Z)}},I=D=>{v(D),w(!0)},z=()=>{const D=[["Title","Status","Last Activity","Message Count"],...o.map(H=>[H.title,H.status,new Date(H.lastAt).toLocaleString(),H.messageCount.toString()])].map(H=>H.join(",")).join(`
`),R=new Blob([D],{type:"text/csv"}),C=window.URL.createObjectURL(R),Z=document.createElement("a");Z.href=C,Z.download="sessions.csv",Z.click(),window.URL.revokeObjectURL(C)},B=[{key:"title",label:e("labels.title"),sortable:!0,render:(D,R)=>u.jsx("button",{onClick:()=>a(R.id),className:"text-left hover:underline",style:{color:"var(--text)"},children:D})},{key:"status",label:e("labels.status"),render:D=>u.jsx(ud,{status:D,children:D})},{key:"lastAt",label:e("labels.lastActivity"),render:D=>new Date(D).toLocaleString()},{key:"messageCount",label:e("labels.count"),render:D=>D.toString()},{key:"actions",label:"Actions",render:(D,R)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>$("open",R.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.open")}),u.jsx("button",{onClick:()=>$("close",R.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.close")}),u.jsx("button",{onClick:()=>$("delete",R.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.delete")})]})}],Y=[{key:"createdAt",label:"Time",render:D=>new Date(D).toLocaleString()},{key:"role",label:"Role",render:D=>u.jsx("span",{className:`px-2 py-1 rounded text-xs ${D==="user"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:D})},{key:"content",label:"Content",render:D=>u.jsx("div",{className:"max-w-xs truncate",title:D,children:D})},{key:"feedback",label:"Feedback",render:D=>D?u.jsx("span",{className:`px-2 py-1 rounded text-xs ${D==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D==="up"?"👍":"👎"}):"-"},{key:"actions",label:"Actions",render:(D,R)=>u.jsx("button",{onClick:()=>I(R),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"})}];return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:u.jsxs("nav",{className:"-mb-px flex space-x-8",children:[u.jsx("button",{onClick:()=>r("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="sessions"?"var(--primary)":"var(--text-secondary)"},children:e("usage.sessions")}),u.jsx("button",{onClick:()=>r("feedback"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="feedback"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="feedback"?"var(--primary)":"var(--text-secondary)"},children:e("usage.feedback.admin")})]})}),n==="sessions"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs(ni,{header:e("usage.sessions"),actions:u.jsx("button",{onClick:z,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Export CSV"}),children:[u.jsx(soe,{left:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("input",{type:"text",placeholder:e("filters.search"),value:S,onChange:D=>j(D.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),u.jsxs("select",{value:k,onChange:D=>_(D.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"open",children:"Open"}),u.jsx("option",{value:"closed",children:"Closed"})]})]})}),u.jsx(Ml,{columns:B,data:o,loading:m,pagination:{page:N.page,pageSize:N.pageSize,total:N.total,onPageChange:D=>O(R=>({...R,page:D})),onPageSizeChange:D=>O(R=>({...R,pageSize:D,page:1}))}})]}),i&&u.jsx(ni,{header:e("usage.messages"),children:u.jsx(Ml,{columns:Y,data:l,loading:m})})]}),n==="feedback"&&u.jsxs("div",{className:"space-y-6",children:[u.jsx(ni,{header:e("usage.feedback.admin"),children:u.jsx("div",{className:"space-y-4",children:d.map(D=>u.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Request ID: ",D.requestId]}),u.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(D.createdAt).toLocaleString()})]}),u.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:D.corrected})]},D.id))})}),u.jsx(ni,{header:e("usage.feedback.user"),children:u.jsx("div",{className:"space-y-4",children:h.map(D=>u.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Message ID: ",D.messageId]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`px-2 py-1 rounded text-xs ${D.rating===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.rating===1?"👍":"👎"}),u.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(D.createdAt).toLocaleString()})]})]}),D.note&&u.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:D.note})]},D.id))})})]}),u.jsx(loe,{isOpen:b,onClose:()=>w(!1),title:"Message Details",children:y&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"Content"}),u.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:y.content})})]}),y.citations&&y.citations.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"References"}),u.jsx("div",{className:"space-y-2",children:y.citations.map((D,R)=>u.jsxs("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:[u.jsx("div",{className:"font-medium text-sm",style:{color:"var(--text)"},children:D.title}),D.snippet&&u.jsx("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:D.snippet}),D.url&&u.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"View Source"})]},R))})]})]})})]})},goe=()=>{const{t:e}=rt(),[t,n]=x.useState(""),[r,i]=x.useState("gpt-4"),[a,o]=x.useState("https://api.openai.com/v1/chat/completions"),[s,l]=x.useState(null),[c,d]=x.useState(!1),[f,h]=x.useState(""),[p,m]=x.useState(""),[g,y]=x.useState(!1);x.useEffect(()=>{const k=localStorage.getItem("axpro_system_prompt");k&&n(k);const _=localStorage.getItem("axpro_prompt_last_updated");_&&l(JSON.parse(_))},[]);const v=()=>{localStorage.setItem("axpro_system_prompt",t);const k={by:"admin@tecace.com",timestamp:new Date().toISOString()};localStorage.setItem("axpro_prompt_last_updated",JSON.stringify(k)),l(k),alert("Prompt saved successfully!")},b=()=>{if(confirm("Are you sure you want to revert to the last saved version?")){const k=localStorage.getItem("axpro_system_prompt");k&&n(k)}},w=async()=>{if(f.trim()){y(!0);try{await new Promise(k=>setTimeout(k,2e3)),m(`This is a test response for: "${f}"

Generated by ${r} at ${a}`)}catch{m("Error: Failed to get test response")}finally{y(!1)}}},S=t.length,j=4e3;return u.jsxs("div",{className:"space-y-6",children:[u.jsx(ni,{header:e("mgmt.prompt"),subheader:"Configure the system prompt for the chatbot",actions:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:b,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.revert")}),u.jsx("button",{onClick:v,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.save")}),u.jsx("button",{onClick:()=>d(!0),className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.test")})]}),children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Model"}),u.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Endpoint"}),u.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"System Prompt"}),u.jsx("textarea",{value:t,onChange:k=>n(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:12,placeholder:"Enter the system prompt for the chatbot..."}),u.jsxs("div",{className:"flex justify-between items-center mt-2",children:[u.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:[S," / ",j," characters"]}),S>j&&u.jsx("span",{className:"text-xs text-red-600",children:"Exceeds maximum length"})]})]}),s&&u.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated by ",s.by," on ",new Date(s.timestamp).toLocaleString()]})]})}),c&&u.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>d(!1)}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:u.jsx("div",{className:"w-full max-w-2xl rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Test Prompt"}),u.jsx("button",{onClick:()=>d(!1),className:"p-2 rounded-md hover:bg-gray-100",style:{color:"var(--text-secondary)"},children:"✕"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Test Input"}),u.jsx("textarea",{value:f,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:3,placeholder:"Enter a test message..."})]}),u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Cancel"}),u.jsx("button",{onClick:w,disabled:g||!f.trim(),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50 disabled:opacity-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:g?"Testing...":"Test"})]}),p&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Response"}),u.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:p})})]})]})]})})})]})]})},yoe=[{id:"1",name:"PSDAP_Program_Guide.pdf",size:2048576,lastModified:"2024-01-15T10:00:00Z",contentType:"application/pdf"},{id:"2",name:"API_Documentation.md",size:512e3,lastModified:"2024-01-14T15:30:00Z",contentType:"text/markdown"},{id:"3",name:"User_Manual.docx",size:1024e3,lastModified:"2024-01-13T09:15:00Z",contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}],voe=[{id:"1",name:"PSDAP_Program_Guide.pdf",chunks:45,status:"synced",lastIndexedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"API_Documentation.md",chunks:12,status:"indexing",lastIndexedAt:"2024-01-14T16:00:00Z"},{id:"3",name:"User_Manual.docx",chunks:0,status:"queued"}],xoe=[{id:"1",name:"PSDAP_Program_Guide.pdf",blobStatus:"present",chunks:45,syncStatus:"synced"},{id:"2",name:"API_Documentation.md",blobStatus:"present",chunks:12,syncStatus:"stale"},{id:"3",name:"User_Manual.docx",blobStatus:"missing",chunks:0,syncStatus:"error"}],boe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...yoe];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],d=e.sortDirection==="desc"?-1:1;return l<c?-1*d:l>c?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},woe=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Deleting file:",e)},koe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...voe];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],d=e.sortDirection==="desc"?-1:1;return l===void 0||c===void 0?0:l<c?-1*d:l>c?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Soe=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Reindexing:",e)},joe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...xoe];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],d=e.sortDirection==="desc"?-1:1;return l<c?-1*d:l>c?1*d:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Coe=()=>{const{t:e}=rt(),[t,n]=x.useState("files"),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,d]=x.useState(!1),[f,h]=x.useState(""),[p,m]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{g()},[t,f,p.page,p.pageSize]);const g=async()=>{d(!0);try{let O;switch(t){case"files":O=await boe({page:p.page,pageSize:p.pageSize,search:f}),i(O.rows);break;case"index":O=await koe({page:p.page,pageSize:p.pageSize,search:f}),o(O.rows);break;case"sync":O=await joe({page:p.page,pageSize:p.pageSize,search:f}),l(O.rows);break}m(E=>({...E,total:O.total}))}catch(O){console.error("Failed to fetch data:",O)}finally{d(!1)}},y=async O=>{if(confirm("Are you sure you want to delete this file?"))try{await woe(O),g()}catch(E){console.error("Failed to delete file:",E)}},v=async O=>{try{await Soe(O),g()}catch(E){console.error("Failed to reindex:",E)}},b=O=>{if(O===0)return"0 Bytes";const E=1024,T=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(O)/Math.log(E));return parseFloat((O/Math.pow(E,M)).toFixed(2))+" "+T[M]},w=O=>new Date(O).toLocaleString(),S=[{key:"name",label:"Filename",sortable:!0,render:O=>u.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"size",label:"Size",sortable:!0,render:O=>b(O)},{key:"lastModified",label:"Last Modified",sortable:!0,render:O=>w(O)},{key:"contentType",label:"Type",render:O=>u.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:O})},{key:"actions",label:"Actions",render:(O,E)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>window.open(`/files/${E.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"}),u.jsx("button",{onClick:()=>window.open(`/files/${E.id}/download`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Download"}),u.jsx("button",{onClick:()=>y(E.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Delete"})]})}],j=[{key:"name",label:"Filename",sortable:!0,render:O=>u.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"chunks",label:"Chunks",sortable:!0,render:O=>O.toString()},{key:"status",label:"Status",render:O=>u.jsx(ud,{status:O,children:O})},{key:"lastIndexedAt",label:"Last Indexed",sortable:!0,render:O=>O?w(O):"-"},{key:"actions",label:"Actions",render:(O,E)=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>v(E.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Reindex"}),u.jsx("button",{onClick:()=>window.open(`/index/${E.id}/chunks`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View Chunks"})]})}],k=[{key:"name",label:"Filename",sortable:!0,render:O=>u.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"blobStatus",label:"Blob Status",render:O=>u.jsx(ud,{status:O,children:O})},{key:"chunks",label:"Chunks",sortable:!0,render:O=>O.toString()},{key:"syncStatus",label:"Sync Status",render:O=>u.jsx(ud,{status:O,children:O})},{key:"actions",label:"Actions",render:(O,E)=>u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{onClick:()=>window.open(`/sync/${E.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Open"})})}],_=()=>{switch(t){case"files":return r;case"index":return a;case"sync":return s;default:return[]}},N=()=>{switch(t){case"files":return S;case"index":return j;case"sync":return k;default:return[]}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:u.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"files",label:"File Library"},{key:"index",label:"Knowledge Index"},{key:"sync",label:"Sync Overview"}].map(O=>u.jsx("button",{onClick:()=>n(O.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===O.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:t===O.key?"var(--primary)":"var(--text-secondary)"},children:O.label},O.key))})}),u.jsxs(ni,{header:e("mgmt.knowledge"),actions:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:O=>h(O.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),u.jsx("button",{onClick:g,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[t==="files"&&u.jsxs("div",{children:[u.jsx("div",{className:"mb-4 p-4 border-2 border-dashed rounded",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-secondary)"},children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"File upload is disabled in mock mode"}),u.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"In production, you can drag and drop files here to upload them"})]})}),u.jsx(Ml,{columns:N(),data:_(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(E=>({...E,page:O})),onPageSizeChange:O=>m(E=>({...E,pageSize:O,page:1}))}})]}),t==="index"&&u.jsx(Ml,{columns:N(),data:_(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(E=>({...E,page:O})),onPageSizeChange:O=>m(E=>({...E,pageSize:O,page:1}))}}),t==="sync"&&u.jsx(Ml,{columns:N(),data:_(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(E=>({...E,page:O})),onPageSizeChange:O=>m(E=>({...E,pageSize:O,page:1}))}})]})]})},Jm=()=>{var p;const e=$n(),t=ro(),{theme:n,toggleTheme:r}=io(),{language:i,setLanguage:a,t:o}=rt(),{logout:s}=Y2(),[l,c]=x.useState(null);oi.useEffect(()=>{const m=Gt();m&&c({email:m.email,role:m.role})},[Gt]);const d=async()=>{await s(),e("/")},f=[{group:"Dashboard",items:[{key:"overview",label:o("dashboard.title"),path:"/admin"}]},{group:"Analytics",items:[{key:"usage",label:o("usage.sessions"),path:"/admin/usage"}]},{group:"Management",items:[{key:"prompt",label:o("mgmt.prompt"),path:"/admin/prompt"},{key:"knowledge",label:o("mgmt.knowledge"),path:"/admin/knowledge"}]}],h=m=>t.pathname===m;return u.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:u.jsxs("div",{className:"flex",children:[u.jsxs("div",{className:"w-64 h-screen border-r sticky top-0",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[u.jsx("div",{className:"p-6",children:u.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text)"},children:"AX Pro Admin"})}),u.jsx("nav",{className:"px-4 pb-4",children:f.map(m=>u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-muted)"},children:m.group}),u.jsx("div",{className:"space-y-1",children:m.items.map(g=>u.jsx("button",{onClick:()=>e(g.path),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${h(g.path)?"text-white":"hover:bg-gray-100"}`,style:{backgroundColor:h(g.path)?"var(--text)":"transparent",color:h(g.path)?"var(--bg)":"var(--text-secondary)"},children:g.label},g.key))})]},m.group))})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-6",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:((p=f.flatMap(m=>m.items).find(m=>h(m.path)))==null?void 0:p.label)||"Admin Dashboard"})}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[u.jsx("option",{value:"en",children:"EN"}),u.jsx("option",{value:"ko",children:"KO"})]}),u.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n==="dark"?"☀️":"🌙"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:l==null?void 0:l.email}),u.jsx("button",{onClick:d,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:o("auth.signOut")})]})]})]}),u.jsx("main",{className:"flex-1 p-6",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.pathname==="/admin"&&u.jsx(ooe,{}),t.pathname==="/admin/usage"&&u.jsx(moe,{}),t.pathname==="/admin/prompt"&&u.jsx(goe,{}),t.pathname==="/admin/knowledge"&&u.jsx(Coe,{})]})})]})]})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Eoe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),JC=e=>{const t=Eoe(e);return t.charAt(0).toUpperCase()+t.slice(1)},JD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Noe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Poe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>x.createElement("svg",{ref:l,...Poe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:JD("lucide",i),...!a&&!Noe(s)&&{"aria-hidden":"true"},...s},[...o.map(([c,d])=>x.createElement(c,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(Ooe,{ref:a,iconNode:t,className:JD(`lucide-${_oe(JC(e))}`,`lucide-${e}`,r),...i}));return n.displayName=JC(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Toe=Qt("activity",Aoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Doe=Qt("bell",Ioe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Moe=Qt("chart-column",Roe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$oe=Qt("chevron-up",Loe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],zoe=Qt("database",Foe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Boe=Qt("file-text",Uoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Hoe=Qt("log-out",Woe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],qoe=Qt("megaphone",Koe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Goe=Qt("message-square",Voe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Joe=Qt("moon",Yoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Qoe=Qt("refresh-cw",Xoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ese=Qt("sun",Zoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],nse=Qt("thumbs-down",tse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],ise=Qt("thumbs-up",rse);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ose=Qt("user",ase),sse=Hoe,lse=Doe,cse=Joe,use=ese,dse=ose,XC=Moe,bv=Goe,fse=Boe,QC=zoe,hse=qoe,jn=ise,Cn=nse,ZC=Toe,gp=Qoe,pse=$oe;function mse({performanceScore:e,performanceDate:t,currentTime:n,onSignOut:r}){const i=$n(),{theme:a,toggleTheme:o}=io(),{language:s,setLanguage:l,t:c}=rt(),d=h=>h>=90?c("admin.excellent"):h>=80?c("admin.good"):h>=70?c("admin.fair"):c("admin.poor"),f=()=>{i("/admin/dashboard")};return u.jsxs("header",{className:"dashboard-header",children:[u.jsx("div",{className:"header-left",children:u.jsxs("div",{className:"logo",onClick:f,style:{cursor:"pointer"},children:[u.jsx("div",{className:"logo-hexagon",children:u.jsx("div",{className:"hexagon-outer",children:u.jsx("div",{className:"hexagon-inner"})})}),u.jsx("span",{className:"logo-text",children:"TecAce Ax Pro"})]})}),u.jsxs("div",{className:"header-right",children:[u.jsxs("div",{className:"performance-indicator",children:[u.jsxs("span",{className:"performance-text",children:["TecAce Ax Pro: ",e,"% (",d(e),t?`, ${t}`:"",")"]}),u.jsx("span",{className:"current-time",children:n})]}),u.jsxs("div",{className:"header-actions",children:[u.jsx("button",{className:"icon-btn","aria-label":c("admin.goToChat"),onClick:()=>i("/chat"),title:c("admin.goToChat"),children:u.jsx(bv,{size:18})}),u.jsx("button",{className:"icon-btn","aria-label":c("admin.notifications"),children:u.jsx(lse,{size:18})}),u.jsx("button",{className:"icon-btn","aria-label":c("admin.toggleTheme"),onClick:o,title:c("admin.toggleTheme"),children:a==="light"?u.jsx(cse,{size:18}):u.jsx(use,{size:18})}),u.jsxs("select",{value:s,onChange:h=>l(h.target.value),className:"language-select",children:[u.jsx("option",{value:"en",children:"EN"}),u.jsx("option",{value:"ko",children:"KO"})]}),u.jsx("button",{className:"icon-btn","aria-label":c("admin.userProfile"),onClick:()=>i("/settings"),title:c("ui.settings"),children:u.jsx(dse,{size:18})}),u.jsx("button",{className:"icon-btn signout-btn","aria-label":c("admin.signOut"),onClick:r,title:c("admin.signOut"),children:u.jsx(sse,{size:18})})]})]})]})}function gse({conversations:e,satisfaction:t,documents:n,performanceScore:r,performanceDate:i,isCollapsed:a,onToggleCollapse:o,onScrollToSection:s}){const l=$n(),c=ro(),{customization:d,updateCustomization:f}=Ac(),{t:h}=rt(),p=c.pathname==="/admin/dashboard",[m,g]=x.useState(!1),[y,v]=x.useState(""),[b,w]=x.useState("Main AI Assistant for HR Support"),S=N=>{p?s(N):l(`/admin/dashboard?section=${N}`)},j=()=>{v(d.title||"TecAce Ax Pro"),w(d.chatSubtitle||"Main AI Assistant for HR Support"),g(!0)},k=()=>{f({title:y,chatSubtitle:b}),g(!1)},_=()=>{g(!1)};return u.jsx("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:u.jsxs("div",{className:"sidebar-content",children:[u.jsx("div",{className:"sidebar-section",style:{paddingBottom:"20px",borderBottom:"1px solid var(--admin-border)"},children:u.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[u.jsxs("div",{style:{position:"relative"},children:[u.jsx("img",{src:d.avatarUrl,alt:"Chatbot Avatar",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid var(--admin-primary)",boxShadow:"0 0 20px rgba(59, 230, 255, 0.3)"},onError:N=>{N.currentTarget.src="/default-profile-avatar.png"}}),u.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",backgroundColor:"var(--admin-success, #10b981)",border:"3px solid var(--admin-bg)",borderRadius:"50%"}})]}),u.jsx("div",{style:{textAlign:"center",width:"100%",padding:"0 12px"},children:m?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:y,onChange:N=>v(N.target.value),placeholder:"Bot Title",style:{width:"100%",fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-primary)",borderRadius:"6px",padding:"8px 12px",marginBottom:"8px",textAlign:"center"}}),u.jsx("input",{type:"text",value:b,onChange:N=>w(N.target.value),placeholder:"Description",style:{width:"100%",fontSize:"12px",color:"var(--admin-text-muted)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"6px 12px",textAlign:"center"}})]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",marginBottom:"4px"},children:d.title||"TecAce Ax Pro"}),u.jsx("p",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:d.chatSubtitle||"Main AI Assistant for HR Support"})]})}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[u.jsxs("div",{style:{textAlign:"center"},children:[u.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, var(--admin-primary), var(--admin-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:[r,"%"]}),u.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Performance"}),u.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:i||"9/10"})]}),u.jsxs("div",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:[u.jsx("div",{style:{fontSize:"10px",fontWeight:"600",color:"var(--admin-success)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ACTIVE"}),u.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",textTransform:"uppercase"},children:"STATUS"})]})]}),u.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#041220",backgroundColor:"var(--admin-primary)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.opacity="0.9",onMouseLeave:N=>N.currentTarget.style.opacity="1",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),u.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),u.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]}),u.jsxs("button",{onClick:_,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#ffffff",backgroundColor:"var(--admin-danger, #ef4444)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.opacity="0.9",onMouseLeave:N=>N.currentTarget.style.opacity="1",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:j,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),u.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),u.jsxs("button",{onClick:()=>l("/settings?tab=photo"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),u.jsx("polyline",{points:"21 15 16 10 5 21"})]}),"Photo"]})]})})]})}),u.jsxs("div",{className:"sidebar-section",children:[u.jsx("h3",{className:"sidebar-section-title",children:h("admin.overview")}),u.jsxs("div",{className:"metrics-grid",children:[u.jsxs("div",{className:"metric-card",children:[u.jsx("div",{className:"metric-icon",children:u.jsx(bv,{size:20})}),u.jsxs("div",{className:"metric-content",children:[u.jsx("div",{className:"metric-value",children:e}),u.jsx("div",{className:"metric-label",children:h("admin.conversations")})]})]}),u.jsxs("div",{className:"metric-card",children:[u.jsx("div",{className:"metric-icon",children:u.jsx(ZC,{size:20})}),u.jsxs("div",{className:"metric-content",children:[u.jsxs("div",{className:"metric-value",children:[t,"%"]}),u.jsx("div",{className:"metric-label",children:h("admin.satisfaction")})]})]}),u.jsxs("div",{className:"metric-card",children:[u.jsx("div",{className:"metric-icon",children:u.jsx(QC,{size:20})}),u.jsxs("div",{className:"metric-content",children:[u.jsx("div",{className:"metric-value",children:n}),u.jsx("div",{className:"metric-label",children:h("admin.documents")})]})]}),u.jsxs("div",{className:"metric-card",children:[u.jsx("div",{className:"metric-icon",children:u.jsx(XC,{size:20})}),u.jsxs("div",{className:"metric-content",children:[u.jsxs("div",{className:"metric-value",children:[r,"%"]}),u.jsx("div",{className:"metric-label",children:h("admin.performance")})]})]})]})]}),u.jsxs("div",{className:"sidebar-section",children:[u.jsx("h3",{className:"sidebar-section-title",children:h("admin.navigation")}),u.jsxs("nav",{className:"sidebar-nav",children:[u.jsxs("button",{className:"nav-item",onClick:()=>S("performance-radar"),children:[u.jsx(XC,{size:18}),u.jsx("span",{children:h("admin.performance")})]}),u.jsxs("button",{className:"nav-item",onClick:()=>S("daily-message-activity"),children:[u.jsx(ZC,{size:18}),u.jsx("span",{children:h("admin.activity")})]}),u.jsxs("button",{className:"nav-item",onClick:()=>S("recent-conversations"),children:[u.jsx(bv,{size:18}),u.jsx("span",{children:h("admin.conversations")})]}),u.jsxs("button",{className:"nav-item",onClick:()=>S("user-feedback"),children:[u.jsx(hse,{size:18}),u.jsx("span",{children:h("admin.feedback")})]}),u.jsxs("button",{className:"nav-item",onClick:()=>S("prompt-control"),children:[u.jsx(fse,{size:18}),u.jsx("span",{children:"Prompt"})]}),u.jsxs("button",{className:"nav-item",onClick:()=>l("/admin/knowledge-management"),children:[u.jsx(QC,{size:18}),u.jsx("span",{children:h("admin.knowledgeBase")})]})]})]})]})})}const yse=e=>[{value:"3d",label:e("admin.last3Days")},{value:"7d",label:e("admin.last7Days")},{value:"14d",label:e("admin.last2Weeks")},{value:"21d",label:e("admin.last3Weeks")},{value:"30d",label:e("admin.last30Days")},{value:"90d",label:e("admin.last3Months")},{value:"custom",label:e("admin.customRange")}];function vse({data:e,selectedDate:t,onDateChange:n,title:r="Performance Timeline",includeSimulatedData:i,onIncludeSimulatedDataChange:a,estimationMode:o,onEstimationModeChange:s}){var Y,D;const{t:l}=rt(),[c,d]=x.useState(!1),[f,h]=x.useState(800),[p,m]=x.useState(!1),[g,y]=x.useState(null),[v,b]=x.useState("21d"),[w,S]=x.useState(""),[j,k]=x.useState(""),[_,N]=x.useState(!1),O=x.useRef(null);x.useEffect(()=>{if(c&&e.length>0){const R=e.findIndex(C=>C.Date===t);O.current=window.setInterval(()=>{const C=R>=0?(R+1)%e.length:0;n(e[C].Date)},f)}else O.current&&(clearInterval(O.current),O.current=null);return()=>{O.current&&clearInterval(O.current)}},[c,t,e,f,n]);const E=()=>{d(!c)},T=R=>{const C=[R.Toxicity,R["Prompt Injection"],R["Answer Correctness"],R["Answer Relevancy"],R.Length,R.Tone];return Math.round(C.reduce((Z,H)=>Z+H,0)/C.length*100)},M=()=>{const R=new Date,C=new Date;switch(v){case"3d":C.setDate(R.getDate()-3);break;case"7d":C.setDate(R.getDate()-7);break;case"14d":C.setDate(R.getDate()-14);break;case"21d":C.setDate(R.getDate()-21);break;case"30d":C.setDate(R.getDate()-30);break;case"90d":C.setDate(R.getDate()-90);break;case"custom":if(w&&j)return{startDate:w,endDate:j};C.setDate(R.getDate()-21);break}return{startDate:C.toISOString().split("T")[0],endDate:R.toISOString().split("T")[0]}},$=x.useMemo(()=>{const{startDate:R,endDate:C}=M();return e.filter(Z=>Z.Date>=R&&Z.Date<=C)},[e,v,w,j]),I=Math.max(...$.map(T),100),z=$.find(R=>R.Date===t),B=new Date().toISOString().split("T")[0];return e.length===0?u.jsx("div",{className:"performance-timeline",children:u.jsx("div",{className:"timeline-loading",children:"Loading data..."})}):u.jsxs("div",{className:"performance-timeline",children:[u.jsxs("div",{className:"timeline-single-row",children:[u.jsx("div",{className:"timeline-title-compact",children:u.jsx("h3",{children:r})}),u.jsxs("div",{className:"timeline-controls-compact",children:[u.jsx("div",{className:"date-range-selector",style:{marginRight:"12px"},children:u.jsx("select",{value:v,onChange:R=>{const C=R.target.value;b(C),N(C==="custom"),C!=="custom"&&(S(""),k(""))},className:"date-select-compact",style:{fontSize:"13px"},children:yse(l).map(R=>u.jsx("option",{value:R.value,children:R.label},R.value))})}),_&&u.jsxs("div",{className:"custom-date-inputs",style:{display:"flex",gap:"4px",marginRight:"12px"},children:[u.jsx("input",{type:"date",value:w,onChange:R=>{S(R.target.value),j||k(new Date().toISOString().split("T")[0])},className:"date-select-compact",style:{fontSize:"11px",padding:"4px 6px"},max:new Date().toISOString().split("T")[0]}),u.jsx("span",{style:{color:"var(--admin-text-muted)",fontSize:"11px",alignSelf:"center"},children:"~"}),u.jsx("input",{type:"date",value:j,onChange:R=>k(R.target.value),className:"date-select-compact",style:{fontSize:"11px",padding:"4px 6px"},min:w,max:new Date().toISOString().split("T")[0]})]}),u.jsxs("div",{className:"date-selector-compact",children:[u.jsxs("label",{children:[l("admin.date"),":"]}),u.jsx("select",{className:"date-select-compact",value:t,onChange:R=>n(R.target.value),children:$.map(R=>u.jsx("option",{value:R.Date,children:R.Date},R.Date))})]}),u.jsx("button",{className:"play-btn-compact",onClick:E,title:c?"Pause":"Play",children:c?"⏸":"▶"}),c&&u.jsxs("select",{className:"speed-control-compact",value:f,onChange:R=>h(Number(R.target.value)),children:[u.jsx("option",{value:1200,children:"Slow"}),u.jsx("option",{value:800,children:"Normal"}),u.jsx("option",{value:400,children:"Fast"})]}),u.jsx("div",{className:"data-indicator-compact",children:u.jsx("span",{className:`indicator ${z!=null&&z.isSimulated?"estimated":"actual"}`,children:z!=null&&z.isSimulated?`📊 ${l("admin.estimated")}`:`📈 ${l("admin.actual")}`})}),u.jsxs("div",{className:"settings-container-compact",children:[u.jsx("button",{className:`settings-btn-compact ${p?"active":""}`,onClick:()=>m(!p),title:"Settings",children:"⚙️"}),p&&u.jsxs("div",{className:"settings-panel-compact",children:[u.jsx("div",{className:"setting-item",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:i,onChange:R=>a(R.target.checked)}),l("admin.estimated")," 데이터 포함"]})}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{className:"select-label",children:"추정 모드:"}),u.jsxs("select",{className:"mode-select",value:o,onChange:R=>s(R.target.value),children:[u.jsx("option",{value:"simple",children:"간단 (±5%)"}),u.jsx("option",{value:"improved",children:"개선 (±4% + 패턴)"}),u.jsx("option",{value:"realistic",children:"현실적 (트렌드 + 주간)"})]})]})]})]})]})]}),u.jsxs("div",{className:"timeline-chart",children:[u.jsx("div",{className:"chart-container",children:$.map(R=>{const C=T(R),Z=C/I*100,H=R.Date===t,A=R.Date===B,U=R.isSimulated,Q=["bar"];return H?Q.push("selected"):A?Q.push("today"):U?Q.push("simulated"):Q.push("actual"),u.jsxs("div",{className:Q.join(" "),style:{height:`${Math.max(Z,5)}%`,position:"relative"},onClick:()=>n(R.Date),onMouseEnter:()=>y(R.Date),onMouseLeave:()=>y(null),title:`${R.Date}: ${C}% ${U?`(${l("admin.estimated")})`:`(${l("admin.actual")})`}`,children:[u.jsx("span",{className:"bar-value",children:C}),g===R.Date&&u.jsxs("div",{className:"bar-hover-info",children:[u.jsx("div",{className:"hover-date",children:R.Date}),u.jsxs("div",{className:"hover-score",children:[C,"%"]}),u.jsx("div",{className:"hover-type",children:l(U?"admin.estimated":"admin.actual")})]})]},R.Date)})}),u.jsxs("div",{className:"date-labels",children:[u.jsx("span",{className:"date-start",children:(Y=$[0])==null?void 0:Y.Date}),u.jsx("span",{className:"date-end",children:(D=$[$.length-1])==null?void 0:D.Date})]})]})]})}function xse({relevance:e,tone:t,length:n,accuracy:r,toxicity:i,promptInjection:a,timelineData:o=[],selectedDate:s="",onDateChange:l=()=>{},includeSimulatedData:c=!1,onIncludeSimulatedDataChange:d=()=>{},estimationMode:f="simple",onEstimationModeChange:h=()=>{}}){const{t:p}=rt(),[m,g]=x.useState({relevance:!0,tone:!0,length:!0,accuracy:!0,toxicity:!0,promptInjection:!0});x.useState(!1);const y=[{key:"relevance",label:p("admin.relevance"),value:e,description:p("admin.contentMatching"),icon:"⚡",color:"#ff6b6b"},{key:"tone",label:p("admin.tone"),value:t,description:p("admin.responseStyle"),icon:"🎭",color:"#4ecdc4"},{key:"length",label:p("admin.length"),value:n,description:p("admin.responseSize"),icon:"📏",color:"#45b7d1"},{key:"accuracy",label:p("admin.accuracy"),value:r,description:p("admin.correctAnswers"),icon:"✓",color:"#96ceb4"},{key:"toxicity",label:p("admin.toxicity"),value:i,description:p("admin.safetyCheck"),icon:"🛡️",color:"#feca57"},{key:"promptInjection",label:p("admin.promptInjection"),value:a,description:p("admin.securityFilter"),icon:"🔒",color:"#ff9ff3"}],v=y.filter($=>m[$.key]),b=$=>{g(I=>({...I,[$]:!I[$]}))},w=Object.values(m).filter(Boolean).length,S=v.length>0?Math.round(v.reduce(($,I)=>$+I.value,0)/v.length):0,j=400,k=j/2,_=k,N=130,O=($,I,z)=>{const B=360/I,Y=$*B-90,D=z/100*N,R=Math.cos(Y*Math.PI/180)*D,C=Math.sin(Y*Math.PI/180)*D;return{x:R,y:C,angle:Y}},E=()=>v.length<3?"":`M ${v.map((I,z)=>{const B=O(z,v.length,I.value);return`${B.x+k},${B.y+k}`}).join(" L ")} Z`,T=($,I)=>{const z=360/I,B=$*z-90,Y=N+50,D=Math.cos(B*Math.PI/180)*Y,R=Math.sin(B*Math.PI/180)*Y;let C="center";return B>=-45&&B<=45?C="center":B>45&&B<=135?C="left":B>135||B<=-135?C="center":C="right",{x:D,y:R,angle:B,textAlign:C}},M=()=>{const $=[];for(let I=20;I<=100;I+=20)$.push(u.jsx("circle",{cx:k,cy:_,r:I/100*N,fill:"none",stroke:"rgba(59, 230, 255, 0.15)",strokeWidth:"1"},`circle-${I}`));for(let I=0;I<v.length;I++){const z=360/v.length,B=I*z-90,Y=Math.cos(B*Math.PI/180)*N,D=Math.sin(B*Math.PI/180)*N;$.push(u.jsx("line",{x1:k,y1:_,x2:k+Y,y2:_+D,stroke:"rgba(59, 230, 255, 0.2)",strokeWidth:"1"},`line-${I}`))}return $};return u.jsxs("div",{className:"performance-radar-section",children:[u.jsxs("div",{className:"radar-main-layout",children:[u.jsxs("div",{className:"radar-chart-section",children:[u.jsxs("div",{className:"radar-header",children:[u.jsx("h2",{className:"radar-title",children:p("admin.performanceRadar")}),u.jsx("p",{className:"radar-description",children:p("admin.performanceRadarDesc")})]}),u.jsxs("div",{className:"radar-chart-container",children:[u.jsxs("div",{className:"radar-chart-large",children:[u.jsxs("svg",{className:"radar-svg-large",width:j,height:j,children:[M(),u.jsx("path",{d:E(),fill:"rgba(59, 230, 255, 0.1)",stroke:"rgba(59, 230, 255, 0.8)",strokeWidth:"2"}),v.map(($,I)=>{const z=O(I,v.length,$.value);return u.jsxs("g",{className:"radar-point-large",children:[u.jsx("circle",{className:"point-dot-large",cx:z.x+k,cy:z.y+k,r:"6",fill:$.color,stroke:"white",strokeWidth:"2"}),u.jsx("text",{x:z.x+k,y:z.y+k-15,textAnchor:"middle",className:"point-score-box",fill:$.color,fontSize:"12",fontWeight:"bold",children:$.value})]},I)})]}),u.jsxs("div",{className:"radar-center-large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[u.jsx("div",{className:"center-score-large",children:S}),u.jsx("div",{className:"center-label-large",children:"OVERALL"})]})]}),y.map(($,I)=>{const z=T(I,y.length),B=m[$.key],Y=$.key==="promptInjection",D=200,R=200,C=D+z.x,Z=R+z.y;return u.jsx("div",{className:`radar-label-clean radar-label-${$.key.toLowerCase()} ${B?"":"label-inactive"}`,style:{position:"absolute",left:`${C}px`,top:`${Z}px`,transform:"translate(-50%, -50%)",zIndex:10,borderColor:$.color,opacity:B?1:.5},children:u.jsxs("div",{className:"label-content",children:[u.jsx("span",{className:"label-name",style:{color:$.color},children:Y?"PROMPT INJECTION":$.label.toUpperCase()}),u.jsx("span",{className:"label-score",style:{color:$.color},children:$.value})]})},I)})]})]}),u.jsxs("div",{className:"module-control-panel",children:[u.jsxs("div",{className:"module-control-header-side",children:[u.jsx("span",{className:"control-title",children:p("admin.moduleControl")}),u.jsxs("span",{className:"control-badge",children:[w," / ",y.length]})]}),u.jsx("div",{className:"control-list-side",children:y.map($=>u.jsxs("div",{className:"control-item-side","data-key":$.key,children:[u.jsxs("div",{className:"control-info",children:[u.jsx("span",{className:"control-icon",style:{color:$.color},children:$.icon}),u.jsxs("div",{className:"control-text",children:[u.jsx("span",{className:"control-label",children:$.label}),u.jsx("span",{className:"control-description",children:$.description})]})]}),u.jsx("div",{className:"control-actions",children:u.jsx("button",{className:`control-toggle-btn ${m[$.key]?"enabled":"disabled"}`,onClick:()=>b($.key),style:{borderColor:$.color,backgroundColor:m[$.key]?$.color:"transparent"},children:m[$.key]?"ON":"OFF"})})]},$.key))})]})]}),o&&o.length>0&&u.jsx("div",{className:"timeline-section-wrapper",style:{marginTop:"32px"},children:u.jsx(vse,{data:o,selectedDate:s,onDateChange:l,title:"Performance Timeline",includeSimulatedData:c,onIncludeSimulatedDataChange:d,estimationMode:f,onEstimationModeChange:h})})]})}async function Lf(e=100){try{const t=Le();console.log("Fetching chat data from Supabase...");const{data:n,error:r}=await t.from("chat").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw console.error("Supabase error:",r),new Error(`Failed to fetch chat data: ${r.message}`);return console.log(`✅ Fetched ${(n==null?void 0:n.length)||0} chat records`),n||[]}catch(t){throw console.error("Failed to fetch chat data:",t),t}}async function XD(e){try{const t=Le();console.log(`Looking for chat with chat_id: ${e}`);const{data:n,error:r}=await t.from("chat").select("*").eq("chat_id",e).maybeSingle();return r?(console.error("Supabase error:",r),null):(n?console.log(`✅ Found chat for chat_id: ${e}`):console.warn(`No chat found for chat_id: ${e}`),n)}catch(t){return console.error("Error fetching chat by ID:",t),null}}const bse=e=>[{value:"3d",label:e("admin.last3Days")},{value:"7d",label:e("admin.last7Days")},{value:"14d",label:e("admin.last2Weeks")},{value:"21d",label:e("admin.last3Weeks")},{value:"30d",label:e("admin.last30Days")},{value:"90d",label:e("admin.last3Months")},{value:"custom",label:e("admin.customRange")}];function wse({startDate:e,endDate:t}){const{t:n}=rt(),[r,i]=x.useState([]),[a,o]=x.useState({totalMessages:0,avgPerDay:0,totalUserFeedback:0,totalAdminFeedback:0,totalCorrected:0,uniqueUsers:0,userSatisfaction:0,adminApproval:0}),[s,l]=x.useState(!0),[c,d]=x.useState("messages"),[f,h]=x.useState("21d"),[p,m]=x.useState(""),[g,y]=x.useState(""),[v,b]=x.useState(!1),w=()=>{if(e&&t)return{startDate:e,endDate:t};const T=new Date,M=new Date;switch(f){case"3d":M.setDate(T.getDate()-3);break;case"7d":M.setDate(T.getDate()-7);break;case"14d":M.setDate(T.getDate()-14);break;case"21d":M.setDate(T.getDate()-21);break;case"30d":M.setDate(T.getDate()-30);break;case"90d":M.setDate(T.getDate()-90);break;case"custom":if(p&&g)return{startDate:p,endDate:g};M.setDate(T.getDate()-21);break}return{startDate:M.toISOString().split("T")[0],endDate:T.toISOString().split("T")[0]}},{startDate:S,endDate:j}=w();x.useEffect(()=>{k()},[S,j,f,p,g]);const k=async()=>{l(!0);try{const[T,M,$]=await Promise.all([Lf(1e3),Va(),Tx()]);console.log("📊 Loaded data:",{chats:T.length,userFeedbacks:M.length,adminFeedbacks:$.length}),T.length>0&&(console.log("Sample chat object:",T[0]),console.log("Sample chat ID:",T[0].id),console.log("Sample chat all keys:",Object.keys(T[0]))),M.length>0&&console.log("Sample user feedback chat_id:",M[0].chat_id),$.length>0&&console.log("Sample admin feedback chat_id:",$[0].chat_id);const I=new Map;M.forEach(L=>{I.has(L.chat_id)||I.set(L.chat_id,[]),I.get(L.chat_id).push(L)});const z=new Map;$.forEach(L=>{z.set(L.chat_id,L)}),console.log("📋 Feedback maps created:",{userFeedbackMapSize:I.size,adminFeedbackMapSize:z.size,sampleUserFeedbackKeys:Array.from(I.keys()).slice(0,3),sampleChatIds:T.slice(0,3).map(L=>L.id)});const B=new Map,Y=new Date(S),D=new Date(j);for(let L=new Date(Y);L<=D;L.setDate(L.getDate()+1)){const V=L.toISOString().split("T")[0];B.set(V,{date:V,messageCount:0,userFeedbackCount:0,userGoodCount:0,userBadCount:0,adminFeedbackCount:0,adminGoodCount:0,adminBadCount:0,correctedResponseCount:0,uniqueUsers:new Set})}const R=new Set;let C=0,Z=0;console.warn("⚠️ Chat table missing chat_id field - feedback will be estimated by day proportion"),T.forEach(L=>{if(!L.created_at)return;const V=new Date(L.created_at).toISOString().split("T")[0],F=B.get(V);F&&(F.messageCount++,F.uniqueUsers.add(L.user_id),R.add(L.user_id))}),M.forEach(L=>{if(!L.created_at)return;const V=new Date(L.created_at).toISOString().split("T")[0],F=B.get(V);F&&(F.userFeedbackCount++,L.reaction==="good"&&F.userGoodCount++,L.reaction==="bad"&&F.userBadCount++,C++)}),$.forEach(L=>{const V=new Date(L.updated_at||L.created_at||"").toISOString().split("T")[0],F=B.get(V);F&&(F.adminFeedbackCount++,L.feedback_verdict==="good"&&F.adminGoodCount++,L.feedback_verdict==="bad"&&F.adminBadCount++,L.corrected_response&&F.correctedResponseCount++,Z++)}),console.log("🔍 Feedback distribution by date:",{totalChats:T.length,userFeedbackDistributed:C,adminFeedbackDistributed:Z,totalUserFeedbacks:M.length,totalAdminFeedbacks:$.length});const H=Array.from(B.values()).find(L=>L.userFeedbackCount>0||L.adminFeedbackCount>0);H?console.log("📊 Sample day with feedback:",{date:H.date,messages:H.messageCount,userFeedback:H.userFeedbackCount,adminFeedback:H.adminFeedbackCount,corrected:H.correctedResponseCount}):console.log("⚠️ No days with feedback data found"),console.log("💡 To fix: Add chat_id column to Supabase chat table to match feedback.chat_id");const A=Array.from(B.values());i(A);const U=A.reduce((L,V)=>L+V.messageCount,0),Q=A.reduce((L,V)=>L+V.userFeedbackCount,0),ne=A.reduce((L,V)=>L+V.userGoodCount,0),J=A.reduce((L,V)=>L+V.adminFeedbackCount,0),re=A.reduce((L,V)=>L+V.adminGoodCount,0),X=A.reduce((L,V)=>L+V.correctedResponseCount,0);o({totalMessages:U,avgPerDay:A.length>0?Math.round(U/A.length*10)/10:0,totalUserFeedback:Q,totalAdminFeedback:J,totalCorrected:X,uniqueUsers:R.size,userSatisfaction:Q>0?Math.round(ne/Q*100):0,adminApproval:J>0?Math.round(re/J*100):0}),console.log("📈 Stats:",{totalMessages:U,totalUserFeedback:Q,totalAdminFeedback:J,daysWithData:A.filter(L=>L.messageCount>0).length})}catch(T){console.error("Failed to load daily message activity:",T)}finally{l(!1)}},_=T=>c==="messages"?T.messageCount:c==="feedback"?T.userFeedbackCount:T.adminFeedbackCount,N=T=>{if(c==="feedback"){const M=T.userFeedbackCount;return M>0?Math.round(T.userGoodCount/M*100):null}else if(c==="admin"){const M=T.adminFeedbackCount;return M>0?Math.round(T.adminGoodCount/M*100):null}return null},O=T=>{const M=new Date(T),$=M.getMonth()+1,I=M.getDate(),z=M.toLocaleDateString("en-US",{weekday:"short"});return`${$}/${I} ${z}`},E=Math.max(...r.map(T=>_(T)),1);return u.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:n("admin.dailyMessageActivity")}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("select",{value:f,onChange:T=>{const M=T.target.value;h(M),b(M==="custom"),M!=="custom"&&(m(""),y(""))},className:"px-3 py-1 text-sm rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},children:bse(n).map(T=>u.jsx("option",{value:T.value,children:T.label},T.value))})}),v&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"date",value:p,onChange:T=>{m(T.target.value),g||y(new Date().toISOString().split("T")[0])},className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},max:new Date().toISOString().split("T")[0]}),u.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"to"}),u.jsx("input",{type:"date",value:g,onChange:T=>y(T.target.value),className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},min:p,max:new Date().toISOString().split("T")[0]})]}),u.jsxs("div",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:[S," to ",j]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"20px"},children:[u.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[u.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.totalMessages")}),u.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-primary)"},children:a.totalMessages}),u.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[n("admin.average"),": ",a.avgPerDay," ",n("admin.avgPerDay")]})]}),u.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[u.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.userFeedbackCount")}),u.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-success)"},children:a.totalUserFeedback}),u.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.userSatisfaction,"% ",n("admin.satisfaction")]})]}),u.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[u.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.adminReviews")}),u.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-accent)"},children:a.totalAdminFeedback}),u.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.adminApproval,"% ",n("admin.approval")]})]}),u.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[u.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.corrected")}),u.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-warning, #ff9800)"},children:a.totalCorrected}),u.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.uniqueUsers," ",n("admin.uniqueUsers")]})]})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("button",{onClick:()=>d("messages"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="messages"?"font-semibold":""}`,style:{backgroundColor:c==="messages"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:c==="messages"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.messages")}),u.jsx("button",{onClick:()=>d("feedback"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="feedback"?"font-semibold":""}`,style:{backgroundColor:c==="feedback"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:c==="feedback"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.userFeedbackCount")}),u.jsx("button",{onClick:()=>d("admin"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="admin"?"font-semibold":""}`,style:{backgroundColor:c==="admin"?"var(--admin-accent)":"rgba(9, 14, 34, 0.4)",color:c==="admin"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.adminReviews")})]}),s?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"Loading activity data..."})}):r.length===0?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"No data available for this period"})}):u.jsxs("div",{children:[u.jsx("div",{style:{height:"200px",display:"flex",alignItems:"flex-end",gap:"8px",padding:"20px 0",borderBottom:"1px solid var(--admin-border)"},children:r.map((T,M)=>{const $=_(T),I=N(T),z=E>0?$/E*100:0;return M<3&&console.log(`📊 Day ${M} (${T.date}):`,{viewMode:c,value:$,score:I,messageCount:T.messageCount,userFeedbackCount:T.userFeedbackCount,adminFeedbackCount:T.adminFeedbackCount,correctedCount:T.correctedResponseCount}),u.jsxs("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",position:"relative"},children:[$>0&&u.jsx("div",{style:{position:"absolute",top:`calc(${100-z}% - 25px)`,backgroundColor:c==="messages"?"var(--admin-primary)":c==="feedback"?"var(--admin-success)":"var(--admin-accent)",color:c==="messages"?"#041220":"#ffffff",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:$}),u.jsx("div",{style:{width:"100%",maxWidth:"40px",height:$>0?`${z}%`:"2px",background:$>0?c==="messages"?"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))":c==="feedback"?"linear-gradient(180deg, var(--admin-success), #0d9488)":"linear-gradient(180deg, var(--admin-accent), #8b5cf6)":"rgba(100, 116, 139, 0.2)",borderRadius:"4px 4px 0 0",cursor:"pointer",transition:"opacity 0.2s"},title:`${O(T.date)}
${$} ${c}${I!==null?`
${I}% positive`:""}`,onMouseEnter:B=>B.currentTarget.style.opacity="0.8",onMouseLeave:B=>B.currentTarget.style.opacity="1"})]},T.date)})}),u.jsx("div",{style:{display:"flex",gap:"8px",paddingTop:"12px"},children:r.map(T=>u.jsx("div",{style:{flex:1,textAlign:"center",fontSize:"10px",color:"var(--admin-text-muted)"},children:O(T.date)},`label-${T.date}`))}),u.jsxs("div",{className:"mt-4 p-3 rounded text-xs flex items-center gap-2",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",color:"var(--admin-text-muted)",border:"1px solid rgba(59, 230, 255, 0.1)"},children:[u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),u.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),u.jsxs("span",{children:[c==="messages"&&"Total messages sent per day",c==="feedback"&&"User feedback received per day",c==="admin"&&"Admin reviews completed per day"]})]})]})]})}async function e_(){try{const e=Le();console.log("Fetching latest prompt from Supabase...");const{data:t,error:n}=await e.from("prompts").select("*").order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch prompt: ${n.message}`);if(!t||t.length===0)return console.log("No prompts found in database"),"";const r=t[0];return console.log("✅ Latest prompt fetched:",r.id),r.prompt_text||""}catch(e){throw console.error("Failed to fetch system prompt:",e),e}}async function kse(e){try{const t=Le();console.log("💾 Creating new prompt in Supabase...");const{data:n,error:r}=await t.from("prompts").insert([{prompt_text:e}]).select();if(r)throw console.error("Supabase error:",r),new Error(`Failed to create prompt: ${r.message}`);const i=n[0];console.log("✅ New prompt created:",i.id)}catch(t){throw console.error("Failed to update system prompt:",t),t}}async function Sse(e=10){try{const t=Le();console.log("🔄 Fetching prompt history from Supabase..."),console.log("📊 Query: SELECT id, prompt_text, created_at FROM prompts ORDER BY created_at DESC LIMIT",e);const{data:n,error:r}=await t.from("prompts").select("id, prompt_text, created_at").order("created_at",{ascending:!1}).limit(e);if(console.log("📋 Raw Supabase response:",{data:n,error:r}),r)throw console.error("❌ Supabase error:",r),new Error(`Failed to fetch prompt history: ${r.message}`);return!n||n.length===0?(console.log("⚠️ No prompt history found in database"),[]):(console.log("✅ Prompt history fetched successfully:",n.length,"entries"),console.log("📚 First entry:",n[0]),n)}catch(t){throw console.error("❌ Failed to fetch prompt history:",t),t}}async function jse(e){try{const t=Le();console.log("🗑️ Deleting prompt with ID:",e);const{error:n}=await t.from("prompts").delete().eq("id",e);if(n)throw console.error("❌ Supabase error:",n),new Error(`Failed to delete prompt: ${n.message}`);console.log("✅ Prompt deleted successfully:",e)}catch(t){throw console.error("❌ Failed to delete prompt:",t),t}}async function Cse(){try{const e=await fetch("/prompt-api/force-prompt-reload",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Force reload failed: ${e.status} ${e.statusText}`);return await e.json()}catch(e){return console.error("Force reload failed:",e),{status:"skipped",message:"Force reload endpoint not available"}}}function _se(){const{t:e}=rt(),[t,n]=x.useState(""),[r,i]=x.useState(!0),[a,o]=x.useState(null),[s,l]=x.useState(!1),c=x.useRef(null),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[m,g]=x.useState(!1),[y,v]=x.useState([]),[b,w]=x.useState(!1),[S,j]=x.useState(!1),[k,_]=x.useState({isOpen:!1,promptId:null,promptText:""}),[N,O]=x.useState({isOpen:!1,message:"",isSuccess:!1});x.useEffect(()=>{E()},[]);const E=async()=>{try{console.log("Loading system prompt...");const C=await e_();console.log("System prompt loaded"),n(C),o(new Date)}catch(C){console.error("Failed to load system prompt:",C),O({isOpen:!0,message:C instanceof Error?C.message:"Failed to load system prompt",isSuccess:!1})}finally{i(!1)}},T=async()=>{j(!0);try{console.log("🔄 Loading prompt history...");const C=await Sse(10);console.log("📚 Raw history data:",C),v(C),console.log("✅ Prompt history loaded:",C.length,"entries")}catch(C){console.error("❌ Failed to load prompt history:",C),O({isOpen:!0,message:`Failed to load prompt history: ${C instanceof Error?C.message:"Unknown error"}`,isSuccess:!1})}finally{j(!1)}},M=async()=>{l(!0);try{const C=await e_();n(C),o(new Date)}catch(C){console.error("Failed to refresh system prompt:",C),O({isOpen:!0,message:C instanceof Error?C.message:"Failed to refresh system prompt",isSuccess:!1})}finally{l(!1)}},$=()=>{f(!0)},I=async()=>{p(!0),f(!1);try{console.log("Saving system prompt..."),await kse(t),console.log("System prompt saved successfully"),console.log("Attempting force reload...");const C=await Cse();console.log("Force reload result:",C),O({isOpen:!0,message:"System prompt updated successfully!"+(C.status==="skipped"?"":` ${C.message}`),isSuccess:!0}),o(new Date)}catch(C){console.error("Save operation failed:",C),O({isOpen:!0,message:C instanceof Error?C.message:"Failed to update system prompt",isSuccess:!1})}finally{p(!1)}},z=()=>{f(!1)},B=()=>{O({isOpen:!1,message:"",isSuccess:!1})},Y=(C,Z)=>{_({isOpen:!0,promptId:C,promptText:Z.substring(0,100)+(Z.length>100?"...":"")})},D=async()=>{if(k.promptId)try{console.log("🗑️ Deleting prompt:",k.promptId),await jse(k.promptId),v(C=>C.filter(Z=>Z.id!==k.promptId)),O({isOpen:!0,message:"Prompt deleted successfully!",isSuccess:!0})}catch(C){console.error("❌ Failed to delete prompt:",C),O({isOpen:!0,message:`Failed to delete prompt: ${C instanceof Error?C.message:"Unknown error"}`,isSuccess:!1})}finally{_({isOpen:!1,promptId:null,promptText:""})}},R=()=>{_({isOpen:!1,promptId:null,promptText:""})};return u.jsxs("div",{className:"admin-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:e("admin.systemPrompt")}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>{w(!b),!b&&y.length===0&&T()},className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:"📚 History"}),u.jsx("button",{onClick:()=>g(!m),className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:m?"📉 Collapse":"📈 Expand"}),a&&u.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:[e("admin.lastRefreshed"),": ",a.toLocaleString()]}),u.jsx("button",{className:"icon-btn",onClick:M,disabled:s,title:e("actions.refresh"),children:u.jsx(gp,{size:18,className:s?"animate-spin":""})})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("textarea",{ref:c,className:"w-full p-3 rounded-md font-mono text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid rgba(59, 230, 255, 0.15)",color:"var(--admin-text)",minHeight:m?"80vh":"300px",maxHeight:m?"none":"400px",resize:m?"none":"vertical"},placeholder:r?e("admin.loading"):"Enter your prompt instructions here...",value:t,onChange:C=>n(C.target.value),disabled:r}),b&&u.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:"📚 Prompt History"}),u.jsx("button",{onClick:T,disabled:S,className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20 disabled:opacity-50",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:S?"⏳ Loading...":"🔄 Refresh"})]}),S?u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"🔄 Loading history..."}):y.length===0?u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:'No history available. Click "Refresh" to load.'}):u.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:y.map((C,Z)=>u.jsxs("div",{className:"p-3 rounded border hover:bg-blue-500/10 transition-colors",style:{borderColor:"var(--admin-border)",backgroundColor:Z===0?"rgba(59, 230, 255, 0.1)":"transparent"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs font-medium",style:{color:"var(--admin-text)"},children:Z===0?"🟢 Current":`#${Z+1}`}),u.jsx("button",{onClick:H=>{H.stopPropagation(),n(C.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},title:"Load this prompt",children:"📥 Load"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date(C.created_at).toLocaleString()}),Z>0&&u.jsx("button",{onClick:H=>{H.stopPropagation(),Y(C.id,C.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-red-500/20",style:{color:"var(--admin-danger)",border:"1px solid rgba(239, 68, 68, 0.3)"},title:"Delete this prompt",children:"🗑️ Delete"})]})]}),u.jsx("p",{className:"text-xs font-mono whitespace-pre-wrap overflow-hidden",style:{color:"var(--admin-text-muted)",maxHeight:"60px",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:C.prompt_text})]},C.id))})]}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{className:"px-6 py-2 rounded-md font-medium transition-all",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:r||h?.5:1,cursor:r||h?"not-allowed":"pointer"},onClick:$,disabled:r||h,children:e(r?"admin.loading":h?"admin.saving":"admin.saveChanges")})})]}),d&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:u.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--admin-text)"},children:e("admin.confirmUpdate")}),u.jsx("p",{className:"mb-6",style:{color:"var(--admin-text-muted)"},children:e("admin.confirmUpdateMessage")}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"transparent",border:"1px solid rgba(59,230,255,0.16)",color:"var(--admin-text)"},onClick:z,children:e("admin.cancel")}),u.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:I,children:e("admin.confirm")})]})]})}),N.isOpen&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:u.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:N.isSuccess?"var(--admin-success)":"var(--admin-danger)"},children:N.isSuccess?e("admin.success"):e("admin.error")}),u.jsx("p",{className:"mb-6",style:{color:"var(--admin-text)"},children:N.message}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:B,children:e("admin.close")})})]})}),k.isOpen&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(239,68,68,0.15), transparent 60%), rgba(3,8,28,0.75)",backdropFilter:"blur(8px)"},children:u.jsxs("div",{className:"admin-card max-w-lg w-full mx-4 border-2",style:{borderColor:"var(--admin-danger)"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:[u.jsx("div",{className:"text-2xl",children:"⚠️"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-danger)"},children:"DANGER: Permanent Deletion"}),u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"This action cannot be undone!"})]})]}),u.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.3)"},children:[u.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-danger)"},children:"⚠️ WARNING: You are about to permanently delete this prompt!"}),u.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--admin-text)"},children:[u.jsxs("li",{children:["• This action ",u.jsx("strong",{children:"CANNOT BE UNDONE"})]}),u.jsxs("li",{children:["• The prompt will be ",u.jsx("strong",{children:"permanently removed"})," from the database"]}),u.jsxs("li",{children:["• You will ",u.jsx("strong",{children:"lose access"})," to this prompt forever"]}),u.jsxs("li",{children:["• This may affect ",u.jsx("strong",{children:"chatbot behavior"})," if this was the active prompt"]})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Prompt to be deleted:"}),u.jsx("div",{className:"p-3 rounded border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"rgba(239, 68, 68, 0.2)"},children:u.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",style:{color:"var(--admin-text-muted)"},children:k.promptText})})]}),u.jsx("div",{className:"mb-6 p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:u.jsx("p",{className:"text-sm font-bold text-center",style:{color:"var(--admin-danger)"},children:"Are you absolutely sure you want to proceed?"})}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{className:"px-6 py-3 rounded-md font-semibold transition-all hover:scale-105",style:{background:"transparent",border:"2px solid rgba(59,230,255,0.3)",color:"var(--admin-primary)"},onClick:R,children:"✅ Cancel (Safe)"}),u.jsx("button",{className:"px-6 py-3 rounded-md font-bold transition-all hover:scale-105",style:{background:"linear-gradient(180deg, #dc2626, #b91c1c)",color:"white",boxShadow:"0 4px 14px 0 rgba(239, 68, 68, 0.4)"},onClick:D,children:"🗑️ DELETE FOREVER"})]})]})})]})}function Ese({scrollToChatId:e,highlightedChatId:t,onScrollComplete:n}){const{t:r}=rt(),[i,a]=x.useState([]),[o,s]=x.useState([]),[l,c]=x.useState(!0),[d,f]=x.useState(null),[h,p]=x.useState(!1),[m,g]=x.useState(null),[y,v]=x.useState(""),[b,w]=x.useState(""),[S,j]=x.useState(!1),[k,_]=x.useState(""),[N,O]=x.useState("date-desc"),[E,T]=x.useState(10),[M,$]=x.useState("CSV"),[I,z]=x.useState(null),[B,Y]=x.useState(null),[D,R]=x.useState(null),[C,Z]=x.useState(new Set),[H,A]=x.useState(null),[U,Q]=x.useState("table");x.useEffect(()=>{ne()},[]),x.useEffect(()=>{re()},[i,k,N,I,B,D]),x.useEffect(()=>{if(e){const K=document.getElementById(`chat-${e}`);K&&(K.scrollIntoView({behavior:"smooth",block:"center"}),n==null||n())}},[e,n]);const ne=async()=>{c(!0),f(null);try{const[K,le]=await Promise.all([Lf(50),Va()]),pe=new Map;le.forEach(G=>{pe.set(G.chat_id,G)});const P=await Promise.all(K.map(async G=>{const ae=await Kd(G.chat_id);return{...G,user_feedback:pe.get(G.chat_id)||null,admin_feedback:ae}}));a(P)}catch(K){console.error("Failed to load conversations:",K);const le=K instanceof Error?K.message:"Failed to load conversations";le.includes("Could not find the table")||le.includes("PGRST")?f(`Database table not accessible. Please check:
1. Table "chat" exists in Supabase
2. Row Level Security (RLS) policies allow SELECT
3. Supabase URL and key are correct`):f(le)}finally{c(!1)}},J=async()=>{p(!0);try{const[K,le]=await Promise.all([Lf(50),Va()]),pe=new Map;le.forEach(G=>{pe.set(G.chat_id,G)});const P=K.map(G=>({...G,user_feedback:pe.get(G.chat_id)||null}));a(P)}catch(K){console.error("Failed to refresh conversations:",K),f(K instanceof Error?K.message:"Failed to refresh conversations")}finally{p(!1)}},re=()=>{let K=[...i];if(I&&(K=K.filter(le=>le.session_id===I)),B&&(K=K.filter(le=>le.user_id===B)),D&&(K=K.filter(le=>{if(!le.created_at)return!1;const pe=new Date(le.created_at).toDateString(),P=new Date(D).toDateString();return pe===P})),k){const le=k.toLowerCase();K=K.filter(pe=>{var P,G,ae,me,ge;return((P=pe.user_id)==null?void 0:P.toLowerCase().includes(le))||String(pe.id||"").toLowerCase().includes(le)||((G=pe.chat_id)==null?void 0:G.toLowerCase().includes(le))||((ae=pe.session_id)==null?void 0:ae.toLowerCase().includes(le))||((me=pe.chat_message)==null?void 0:me.toLowerCase().includes(le))||((ge=pe.response)==null?void 0:ge.toLowerCase().includes(le))})}K.sort((le,pe)=>{switch(N){case"date-desc":return new Date(pe.created_at||"").getTime()-new Date(le.created_at||"").getTime();case"date-asc":return new Date(le.created_at||"").getTime()-new Date(pe.created_at||"").getTime();case"user":return(le.user_id||"").localeCompare(pe.user_id||"");default:return 0}}),s(K)},X=K=>{if(!K)return"N/A";try{return new Date(K).toLocaleString()}catch{return K}},L=(K,le=100)=>K.length<=le?K:K.substring(0,le)+"...",V=async(K,le)=>{const pe=await Kd(K.chat_id);if(pe&&pe.feedback_verdict!==le){const P=pe.feedback_verdict==="good"?"positive":"negative",G=le==="good"?"positive":"negative";if(!window.confirm(`A ${P} feedback was already provided for this chat message/response. Are you sure you would like to change it to a ${G} review? This will remove the previously saved ${P} feedback.`))return}g({chatId:K.chat_id,userMessage:K.chat_message||"",aiResponse:K.response||"",verdict:le,existingFeedback:pe}),pe?(v(pe.feedback_text||""),w(pe.corrected_response||"")):(v(""),w(""))},F=async()=>{if(m){if(m.verdict==="bad"&&!y&&!b){alert("For negative feedback, please provide either supervisor feedback or corrected response.");return}j(!0);try{await CN(m.chatId,m.verdict,y,b),g(null),v(""),w(""),alert("Admin feedback submitted successfully!"),J()}catch(K){console.error("Failed to submit admin feedback:",K),alert("Failed to submit feedback. Please try again.")}finally{j(!1)}}},he=()=>{g(null),v(""),w("")},ce=K=>{Z(le=>{const pe=new Set(le);return pe.has(K)?pe.delete(K):pe.add(K),pe})},ke=async K=>{try{const le=i.find(pe=>pe.chat_id===K);le&&le.user_feedback?A({chatId:K,feedback:le.user_feedback}):A({chatId:K,feedback:null})}catch(le){console.error("Error fetching user feedback:",le),A({chatId:K,feedback:null})}},Pe=async K=>{const le=K.admin_feedback;le&&(v(le.feedback_text||""),w(le.corrected_response||""),g({chatId:K.chat_id,userMessage:K.chat_message||"",aiResponse:K.response||"",verdict:le.feedback_verdict,existingFeedback:le}))},Ee=K=>{I===K?z(null):(z(K),Y(null))},De=K=>{B===K?Y(null):(Y(K),z(null))},Zt=K=>{D===K?R(null):(R(K),z(null),Y(null))},Sr=()=>{z(null),Y(null),R(null),_("")},ji=()=>{if(o.length===0){alert("No conversations to export");return}const K=o.map(le=>({chatId:le.id,userId:le.user_id||"",createdAt:le.created_at||"",userMessage:le.chat_message||"",aiResponse:le.response||""}));if(M==="CSV"){const le=["Chat ID","User ID","Created At","User Message","AI Response"],pe=K.map(ge=>[ge.chatId,ge.userId,ge.createdAt,`"${ge.userMessage.replace(/"/g,'""')}"`,`"${ge.aiResponse.replace(/"/g,'""')}"`]),P=[le,...pe].map(ge=>ge.join(",")).join(`
`),G=new Blob([P],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a"),me=URL.createObjectURL(G);ae.setAttribute("href",me),ae.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}else{const le=JSON.stringify(K,null,2),pe=new Blob([le],{type:"application/json;charset=utf-8;"}),P=document.createElement("a"),G=URL.createObjectURL(pe);P.setAttribute("href",G),P.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.json`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)}};if(l)return u.jsx("div",{className:"admin-card",children:u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("p",{style:{color:"var(--admin-text-muted)"},children:r("admin.loading")})})});if(d)return u.jsx("div",{className:"admin-card",children:u.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[u.jsx("p",{className:"font-semibold mb-2",children:r("admin.error")}),u.jsx("p",{className:"text-sm whitespace-pre-line mb-3",children:d}),d.includes("Row Level Security")&&u.jsxs("div",{className:"mt-3 p-3 rounded text-xs",style:{backgroundColor:"rgba(0,0,0,0.2)",color:"var(--admin-text-muted)"},children:[u.jsx("p",{className:"font-semibold mb-2",children:"To fix RLS in Supabase:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[u.jsx("li",{children:"Go to Supabase Dashboard → Table Editor"}),u.jsx("li",{children:'Select "chat" table'}),u.jsx("li",{children:'Click "RLS" tab'}),u.jsx("li",{children:'Add policy: "Enable read access for all users"'}),u.jsxs("li",{children:["Policy command: ",u.jsx("code",{children:"SELECT"}),", Target roles: ",u.jsx("code",{children:"anon"})]})]})]}),u.jsx("button",{onClick:ne,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:r("actions.refresh")})]})});const jr=o.slice(0,E);return u.jsxs("div",{className:"admin-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[r("admin.recentConversations")," (",o.length,")"]}),u.jsx("button",{className:"icon-btn",onClick:J,disabled:h,title:r("actions.refresh"),children:u.jsx(gp,{size:18,className:h?"animate-spin":""})})]}),u.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 rounded-md overflow-hidden",style:{border:"1px solid var(--admin-border)"},children:[u.jsx("button",{onClick:()=>Q("card"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:U==="card"?"var(--admin-primary)":"transparent",color:U==="card"?"#041220":"var(--admin-text)"},title:"Card View",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),u.jsx("button",{onClick:()=>Q("table"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:U==="table"?"var(--admin-primary)":"transparent",color:U==="table"?"#041220":"var(--admin-text)"},title:"Table View",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),u.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),u.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.sortBy"),":"]}),u.jsxs("select",{value:N,onChange:K=>O(K.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx("option",{value:"date-desc",children:r("admin.dateTimeNewest")}),u.jsx("option",{value:"date-asc",children:r("admin.dateTimeOldest")}),u.jsxs("option",{value:"user",children:[r("admin.user")," ID"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[u.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.search"),":"]}),u.jsx("input",{type:"text",placeholder:r("admin.searchConversations"),value:k,onChange:K=>_(K.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(I||B||D)&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),I&&u.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(34, 197, 94, 0.2)",color:"var(--admin-success)"},children:["Session: ",I]}),B&&u.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",B]}),D&&u.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(D).toLocaleDateString()]}),u.jsx("button",{onClick:Sr,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:"✕ Clear"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:M,onChange:K=>$(K.target.value),children:[u.jsx("option",{children:"CSV"}),u.jsx("option",{children:"JSON"})]}),u.jsx("button",{onClick:ji,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),jr.length===0?u.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:u.jsx("p",{children:k?"No conversations match your search":"No conversations found"})}):U==="table"?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.6)",borderBottom:"2px solid var(--admin-border)"},children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Date"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"User ID"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"120px"},children:"Session ID"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"User Message"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"AI Response"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"User FB"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Admin"})]})}),u.jsx("tbody",{children:jr.map((K,le)=>u.jsxs("tr",{id:`chat-${K.chat_id}`,className:"border-b transition-colors hover:bg-gray-100/5",style:{backgroundColor:t===K.chat_id?"rgba(59, 230, 255, 0.1)":le%2===0?"rgba(9, 14, 34, 0.3)":"rgba(9, 14, 34, 0.2)",borderColor:"var(--admin-border)"},children:[u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:u.jsx("button",{onClick:()=>Zt(K.created_at||""),className:"hover:underline cursor-pointer",title:"Click to filter by date",children:X(K.created_at)})}),u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text)"},children:u.jsx("button",{onClick:()=>De(K.user_id),className:"hover:underline cursor-pointer text-blue-300",title:"Click to filter by user",children:K.user_id})}),u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:K.session_id&&u.jsxs("button",{onClick:()=>Ee(K.session_id),className:"hover:underline cursor-pointer text-green-300",title:"Click to filter by session",children:[K.session_id.substring(0,12),"..."]})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[250px]",style:{color:"var(--admin-text)"},children:u.jsx("div",{className:"truncate cursor-pointer hover:text-blue-400",onClick:()=>V(K,"good"),title:K.chat_message,children:K.chat_message})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[250px]",style:{color:"var(--admin-text-muted)"},children:u.jsx("div",{className:"truncate",title:K.response,children:K.response})}),u.jsx("td",{className:"px-3 py-2 text-center",children:K.user_feedback?u.jsx("button",{onClick:()=>ke(K.chat_id),className:"inline-flex items-center justify-center",title:"View user feedback",children:K.user_feedback.reaction==="good"?u.jsx(jn,{size:16,style:{color:"var(--admin-success)"}}):u.jsx(Cn,{size:16,style:{color:"var(--admin-danger)"}})}):u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"-"})}),u.jsx("td",{className:"px-3 py-2 text-center",children:K.admin_feedback?u.jsxs("div",{className:"inline-flex items-center gap-1",children:[K.admin_feedback.feedback_verdict==="good"?u.jsx(jn,{size:16,style:{color:"var(--admin-success)"}}):u.jsx(Cn,{size:16,style:{color:"var(--admin-danger)"}}),u.jsx("button",{onClick:()=>Pe(K),className:"text-xs px-1 py-0.5 rounded hover:bg-blue-500/20",style:{color:"var(--admin-primary)"},children:"Edit"})]}):u.jsxs("div",{className:"inline-flex gap-1",children:[u.jsx("button",{onClick:()=>V(K,"good"),className:"p-1 rounded hover:bg-green-500/20",title:"Good",children:u.jsx(jn,{size:14,style:{color:"var(--admin-success)"}})}),u.jsx("button",{onClick:()=>V(K,"bad"),className:"p-1 rounded hover:bg-red-500/20",title:"Bad",children:u.jsx(Cn,{size:14,style:{color:"var(--admin-danger)"}})})]})})]},K.id))})]})}):u.jsx("div",{className:"space-y-3",children:jr.map(K=>u.jsxs("div",{id:`chat-${K.chat_id}`,className:"p-4 rounded-lg border transition-all duration-500",style:{backgroundColor:t===K.chat_id?"rgba(59, 230, 255, 0.15)":"rgba(9, 14, 34, 0.4)",borderColor:t===K.chat_id?"var(--admin-primary)":"var(--admin-border)",boxShadow:t===K.chat_id?"0 0 20px rgba(59, 230, 255, 0.3)":"none"},children:[u.jsx("div",{className:"flex items-start justify-between mb-2",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["User:",u.jsx("button",{onClick:()=>De(K.user_id),className:`ml-1 hover:underline cursor-pointer ${B===K.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:K.user_id})]}),u.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",K.chat_id]}),K.session_id&&u.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Session:",u.jsx("button",{onClick:()=>Ee(K.session_id),className:`ml-1 hover:underline cursor-pointer ${I===K.session_id?"text-green-400 font-semibold":"text-green-300"}`,title:"Click to filter by this session",children:K.session_id})]}),u.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:u.jsx("button",{onClick:()=>Zt(K.created_at||""),className:`hover:underline cursor-pointer ${D===K.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:X(K.created_at)})})]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:[r("admin.userMessage"),":"]}),u.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>ce(K.chat_id),title:"Click to expand/collapse",children:[C.has(K.chat_id)?K.chat_message:L(K.chat_message),!C.has(K.chat_id)&&K.chat_message.length>100&&u.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:[r("admin.aiResponse"),":"]}),u.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>ce(K.chat_id),title:"Click to expand/collapse",children:[C.has(K.chat_id)?K.response:L(K.response),!C.has(K.chat_id)&&K.response.length>100&&u.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]})]}),u.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",style:{borderColor:"var(--admin-border)"},children:[u.jsx("div",{className:"flex items-center gap-2",children:K.user_feedback?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"User:"}),K.user_feedback.reaction==="good"?u.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[u.jsx(jn,{size:14}),u.jsx("span",{className:"text-xs",children:"+"})]}):u.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[u.jsx(Cn,{size:14}),u.jsx("span",{className:"text-xs",children:"-"})]}),u.jsx("button",{onClick:()=>ke(K.chat_id),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View user feedback details",children:"Details"})]}):u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"No user feedback"})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Admin:"}),K.admin_feedback?u.jsxs("div",{className:"flex items-center gap-2",children:[K.admin_feedback.feedback_verdict==="good"?u.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[u.jsx(jn,{size:14}),u.jsx("span",{className:"text-xs",children:"Good"})]}):u.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[u.jsx(Cn,{size:14}),u.jsx("span",{className:"text-xs",children:"Bad"})]}),u.jsx("button",{onClick:()=>Pe(K),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View/Edit admin feedback",children:"Edit"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>V(K,"good"),className:"p-1.5 rounded transition-colors hover:bg-green-500/20",title:"Mark as good",children:u.jsx(jn,{size:14,style:{color:"var(--admin-success, #10b981)"}})}),u.jsx("button",{onClick:()=>V(K,"bad"),className:"p-1.5 rounded transition-colors hover:bg-red-500/20",title:"Mark as bad",children:u.jsx(Cn,{size:14,style:{color:"var(--admin-danger, #ef4444)"}})})]})]})]})]},K.id))}),o.length>E&&u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("button",{onClick:()=>T(K=>K+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",o.length-E," remaining)"]})}),m&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsx("div",{className:"rounded-lg max-w-2xl w-full mx-4",style:{backgroundColor:"var(--admin-bg-card)",border:"1px solid var(--admin-border)",maxHeight:"90vh",overflow:"auto"},children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[m.existingFeedback?"✏️ Edit Admin Feedback":"Admin Feedback"," ",m.verdict==="good"?"👍":"👎"]}),u.jsx("button",{onClick:he,className:"p-1 hover:bg-gray-100/10 rounded",style:{color:"var(--admin-text-secondary)"},children:u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.userMessage"),":"]}),u.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.userMessage})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.aiResponse"),":"]}),u.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.aiResponse})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Supervisor Feedback:"}),u.jsx("textarea",{value:y,onChange:K=>v(K.target.value),placeholder:"Explain what was wrong with this response...",className:"w-full h-24 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Corrected Response:"}),u.jsx("textarea",{value:b,onChange:K=>w(K.target.value),placeholder:"Enter the corrected response...",className:"w-full h-32 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:he,disabled:S,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"transparent",border:"1px solid var(--admin-border)",color:"var(--admin-text)"},children:"Cancel"}),u.jsx("button",{onClick:F,disabled:S,className:"px-6 py-2 text-sm font-medium rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:S?.6:1},children:S?"Submitting...":"Submit"})]})]})})}),H&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(10px)",opacity:1,background:"var(--admin-card)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"var(--admin-text)"},children:"📝 User Feedback Details"}),u.jsx("button",{onClick:()=>A(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--admin-text)"},children:"Chat ID:"}),u.jsx("span",{className:"text-xs font-mono px-2 py-1 rounded",style:{backgroundColor:"var(--admin-primary)",color:"white"},children:H.chatId})]}),u.jsx("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date().toLocaleString()})]}),H.feedback?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center gap-4 p-4 rounded-lg border-2",style:{borderColor:H.feedback.reaction==="good"?"#10b981":"#ef4444",backgroundColor:H.feedback.reaction==="good"?"#f0fdf4":"#fef2f2"},children:u.jsxs("div",{className:"flex items-center gap-2",children:[H.feedback.reaction==="good"?u.jsx(jn,{size:24,className:"text-green-600"}):u.jsx(Cn,{size:24,className:"text-red-600"}),u.jsx("span",{className:"font-semibold text-lg",style:{color:H.feedback.reaction==="good"?"#059669":"#dc2626"},children:H.feedback.reaction==="good"?"Positive Feedback":"Negative Feedback"})]})}),H.feedback.feedback_text&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2 flex items-center gap-2",style:{color:"var(--admin-text)"},children:"💬 User's Comment:"}),u.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:u.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--admin-text)"},children:['"',H.feedback.feedback_text,'"']})})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--admin-text-muted)"},children:[u.jsx("span",{children:"📅"}),u.jsxs("span",{children:["Feedback submitted: ",new Date(H.feedback.created_at).toLocaleString()]})]})]}):u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"text-6xl mb-4",children:"😶"}),u.jsx("p",{className:"text-lg",style:{color:"var(--admin-text-muted)"},children:"No user feedback found for this chat."})]})]}),u.jsx("div",{className:"flex justify-center mt-8",children:u.jsx("button",{onClick:()=>A(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})}function Nse({onScrollToChat:e}){const{t}=rt(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[y,v]=x.useState("all"),[b,w]=x.useState(10),[S,j]=x.useState("CSV"),[k,_]=x.useState(null),[N,O]=x.useState(null),[E,T]=x.useState("table");x.useEffect(()=>{M()},[]),x.useEffect(()=>{I()},[n,h,m,y,k,N]);const M=async()=>{s(!0),c(null);try{const U=await Va();r(U)}catch(U){console.error("Failed to load user feedback:",U),c(U instanceof Error?U.message:"Failed to load user feedback")}finally{s(!1)}},$=async()=>{f(!0);try{const U=await Va();r(U)}catch(U){console.error("Failed to refresh user feedback:",U),c(U instanceof Error?U.message:"Failed to refresh user feedback")}finally{f(!1)}},I=()=>{let U=[...n];if(y!=="all"&&(U=U.filter(Q=>Q.reaction===y)),k&&(U=U.filter(Q=>Q.user_id===k)),N&&(U=U.filter(Q=>{if(!Q.created_at)return!1;const ne=new Date(Q.created_at).toDateString(),J=new Date(N).toDateString();return ne===J})),h){const Q=h.toLowerCase();U=U.filter(ne=>{var J,re,X;return((J=ne.user_id)==null?void 0:J.toLowerCase().includes(Q))||((re=ne.chat_id)==null?void 0:re.toLowerCase().includes(Q))||((X=ne.feedback_text)==null?void 0:X.toLowerCase().includes(Q))})}U.sort((Q,ne)=>{switch(m){case"date-desc":return new Date(ne.created_at||"").getTime()-new Date(Q.created_at||"").getTime();case"date-asc":return new Date(Q.created_at||"").getTime()-new Date(ne.created_at||"").getTime();case"user":return(Q.user_id||"").localeCompare(ne.user_id||"");default:return 0}}),a(U)},z=async U=>{const Q=n.find(ne=>ne.id===U);if(Q)if(!Q.isExpanded&&!Q.chatData){console.log(`Fetching chat data for feedback ${U} with chat_id: ${Q.chat_id}`);const ne=await XD(Q.chat_id);ne?(console.log(`✅ Successfully loaded chat data for ${Q.chat_id}`),r(J=>J.map(re=>re.id===U?{...re,chatData:ne,isExpanded:!0}:re))):(console.warn(`❌ Could not load chat data for ${Q.chat_id}. This might be due to a chat_id mismatch.`),r(J=>J.map(re=>re.id===U?{...re,chatData:null,isExpanded:!0}:re)))}else r(ne=>ne.map(J=>J.id===U?{...J,isExpanded:!J.isExpanded}:J))},B=U=>{if(!U)return"N/A";try{return new Date(U).toLocaleString()}catch{return U}},Y=U=>U==="good"?u.jsx(jn,{size:16,style:{color:"var(--admin-success)"}}):U==="bad"?u.jsx(Cn,{size:16,style:{color:"var(--admin-danger)"}}):u.jsx("span",{className:"text-xs",children:U}),D=(U,Q=150)=>U?U.length<=Q?U:U.substring(0,Q)+"...":"",R=U=>{k===U?_(null):(_(U),O(null))},C=U=>{N===U?O(null):(O(U),_(null))},Z=()=>{_(null),O(null),p(""),v("all")},H=()=>{if(i.length===0){alert("No feedback to export");return}const U=i.map(Q=>{var ne,J;return{feedbackId:Q.id,chatId:Q.chat_id,userId:Q.user_id||"",reaction:Q.reaction||"",feedbackText:Q.feedback_text||"",createdAt:Q.created_at||"",userMessage:((ne=Q.chatData)==null?void 0:ne.chat_message)||"",aiResponse:((J=Q.chatData)==null?void 0:J.response)||""}});if(S==="CSV"){const Q=["Feedback ID","Chat ID","User ID","Reaction","Feedback Text","Created At","User Message","AI Response"],ne=U.map(V=>[V.feedbackId,V.chatId,V.userId,V.reaction,`"${V.feedbackText.replace(/"/g,'""')}"`,V.createdAt,`"${V.userMessage.replace(/"/g,'""')}"`,`"${V.aiResponse.replace(/"/g,'""')}"`]),J=[Q,...ne].map(V=>V.join(",")).join(`
`),re=new Blob([J],{type:"text/csv;charset=utf-8;"}),X=document.createElement("a"),L=URL.createObjectURL(re);X.setAttribute("href",L),X.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.csv`),X.style.visibility="hidden",document.body.appendChild(X),X.click(),document.body.removeChild(X)}else{const Q=JSON.stringify(U,null,2),ne=new Blob([Q],{type:"application/json;charset=utf-8;"}),J=document.createElement("a"),re=URL.createObjectURL(ne);J.setAttribute("href",re),J.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.json`),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)}};if(o)return u.jsx("div",{className:"admin-card",children:u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})});if(l)return u.jsx("div",{className:"admin-card",children:u.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[u.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),u.jsx("p",{className:"text-sm",children:l}),u.jsx("button",{onClick:M,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})});const A=i.slice(0,b);return u.jsxs("div",{className:"admin-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["User Feedback (",i.length,")"]}),u.jsx("button",{className:"icon-btn",onClick:$,disabled:d,title:t("actions.refresh"),children:u.jsx(gp,{size:18,className:d?"animate-spin":""})})]}),u.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 rounded-md overflow-hidden",style:{border:"1px solid var(--admin-border)"},children:[u.jsx("button",{onClick:()=>T("card"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:E==="card"?"var(--admin-primary)":"transparent",color:E==="card"?"#041220":"var(--admin-text)"},title:"Card View",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),u.jsx("button",{onClick:()=>T("table"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:E==="table"?"var(--admin-primary)":"transparent",color:E==="table"?"#041220":"var(--admin-text)"},title:"Table View",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),u.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),u.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),u.jsxs("select",{value:m,onChange:U=>g(U.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),u.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),u.jsx("option",{value:"user",children:"User ID"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[u.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),u.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:U=>p(U.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(k||N)&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),k&&u.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",k]}),N&&u.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(N).toLocaleDateString()]}),u.jsx("button",{onClick:Z,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:"✕ Clear"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:S,onChange:U=>j(U.target.value),children:[u.jsx("option",{children:"CSV"}),u.jsx("option",{children:"JSON"})]}),u.jsx("button",{onClick:H,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),u.jsxs("div",{className:"mb-4 flex gap-2",children:[u.jsxs("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${y==="all"?"font-semibold":""}`,style:{backgroundColor:y==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:y==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),u.jsxs("button",{onClick:()=>v("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="good"?"font-semibold":""}`,style:{backgroundColor:y==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:y==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx(jn,{size:14})," Good (",n.filter(U=>U.reaction==="good").length,")"]}),u.jsxs("button",{onClick:()=>v("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="bad"?"font-semibold":""}`,style:{backgroundColor:y==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:y==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx(Cn,{size:14})," Bad (",n.filter(U=>U.reaction==="bad").length,")"]})]}),A.length===0?u.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:u.jsx("p",{children:h||y!=="all"?"No feedback matches your filters":"No user feedback found"})}):E==="table"?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.6)",borderBottom:"2px solid var(--admin-border)"},children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Date"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"User ID"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Chat ID"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"70px"},children:"Reaction"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"Comment"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"User Message"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"200px"},children:"AI Response"})]})}),u.jsx("tbody",{children:A.map((U,Q)=>{var ne,J,re,X;return u.jsxs("tr",{className:"border-b transition-colors hover:bg-gray-100/5",style:{backgroundColor:Q%2===0?"rgba(9, 14, 34, 0.3)":"rgba(9, 14, 34, 0.2)",borderColor:"var(--admin-border)"},children:[u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:u.jsx("button",{onClick:()=>C(U.created_at||""),className:"hover:underline cursor-pointer",title:"Click to filter by date",children:B(U.created_at)})}),u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text)"},children:u.jsx("button",{onClick:()=>R(U.user_id),className:"hover:underline cursor-pointer text-blue-300",title:"Click to filter by user",children:U.user_id})}),u.jsx("td",{className:"px-3 py-2 text-xs",children:u.jsx("button",{onClick:()=>e==null?void 0:e(U.chat_id),className:"text-blue-400 hover:text-blue-300 underline cursor-pointer truncate max-w-[120px] block",title:`Click to scroll to ${U.chat_id}`,children:U.chat_id.length>15?U.chat_id.substring(0,15)+"...":U.chat_id})}),u.jsx("td",{className:"px-3 py-2 text-center",children:U.reaction==="good"?u.jsx(jn,{size:16,style:{color:"var(--admin-success)",display:"inline"}}):u.jsx(Cn,{size:16,style:{color:"var(--admin-danger)",display:"inline"}})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text)"},children:u.jsx("div",{className:"truncate",title:U.feedback_text||"",children:U.feedback_text||"-"})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text-muted)"},children:u.jsx("div",{className:"truncate",title:((ne=U.chatData)==null?void 0:ne.chat_message)||"",children:((J=U.chatData)==null?void 0:J.chat_message)||"N/A"})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text-muted)"},children:u.jsx("div",{className:"truncate",title:((re=U.chatData)==null?void 0:re.response)||"",children:((X=U.chatData)==null?void 0:X.response)||"N/A"})})]},U.id)})})]})}):u.jsx("div",{className:"space-y-3",children:A.map(U=>u.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)"},children:[u.jsxs("div",{className:"p-4 cursor-pointer hover:bg-opacity-60 transition-colors",onClick:()=>z(U.id),children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[Y(U.reaction),u.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["User:",u.jsx("button",{onClick:Q=>{Q.stopPropagation(),R(U.user_id)},className:`ml-1 hover:underline cursor-pointer ${k===U.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:U.user_id})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:Q=>{Q.stopPropagation(),C(U.created_at||"")},className:`text-xs hover:underline cursor-pointer ${N===U.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:B(U.created_at)}),u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--admin-text-muted)",transform:U.isExpanded?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:u.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),u.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",u.jsx("button",{onClick:()=>e==null?void 0:e(U.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:U.chat_id})]}),U.feedback_text&&u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:D(U.feedback_text)})]}),U.isExpanded&&u.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--admin-border)"},children:U.chatData?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"User Message:"}),u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:U.chatData.chat_message})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:"AI Response:"}),u.jsx("button",{onClick:()=>e==null?void 0:e(U.chat_id),className:"text-sm text-left w-full p-2 rounded hover:bg-blue-500/10 transition-colors cursor-pointer",style:{color:"var(--admin-text)"},title:"Click to scroll to this chat in Recent Conversations",children:U.chatData.response})]})]}):U.chatData===null?u.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[u.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--admin-danger)"},children:"⚠️ Chat data not found"}),u.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"The chat associated with this feedback could not be loaded. This might be due to a mismatch between the feedback chat_id and the chat table ID format."}),u.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",U.chat_id]})]}):u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"Loading chat details..."})})]},U.id))}),i.length>b&&u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("button",{onClick:()=>w(U=>U+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",i.length-b," remaining)"]})})]})}function Pse({onScrollToChat:e}){const{t}=rt(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[d,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[y,v]=x.useState("all"),[b,w]=x.useState(null),[S,j]=x.useState(null),[k,_]=x.useState("table");x.useEffect(()=>{N()},[]),x.useEffect(()=>{E()},[n,h,m,y,b,S]);const N=async()=>{s(!0),c(null);try{const I=await Tx(),z=await Promise.all(I.map(async B=>{const Y=await XD(B.chat_id);return{...B,chatData:Y,isEnabled:!0}}));r(z)}catch(I){console.error("Failed to load admin feedback:",I),c(I instanceof Error?I.message:"Failed to load admin feedback")}finally{s(!1)}},O=async()=>{f(!0),await N(),f(!1)},E=()=>{let I=[...n];if(y!=="all"&&(I=I.filter(z=>z.feedback_verdict===y)),b&&(I=I.filter(z=>{var B;return((B=z.chatData)==null?void 0:B.user_id)===b})),S&&(I=I.filter(z=>{const B=z.updated_at||z.created_at;if(!B)return!1;const Y=new Date(B).toDateString(),D=new Date(S).toDateString();return Y===D})),h){const z=h.toLowerCase();I=I.filter(B=>{var Y,D,R,C,Z,H,A;return((Y=B.chat_id)==null?void 0:Y.toLowerCase().includes(z))||((D=B.feedback_text)==null?void 0:D.toLowerCase().includes(z))||((R=B.corrected_response)==null?void 0:R.toLowerCase().includes(z))||((Z=(C=B.chatData)==null?void 0:C.chat_message)==null?void 0:Z.toLowerCase().includes(z))||((A=(H=B.chatData)==null?void 0:H.response)==null?void 0:A.toLowerCase().includes(z))})}I.sort((z,B)=>{switch(m){case"date-desc":return new Date(B.updated_at||B.created_at||"").getTime()-new Date(z.updated_at||z.created_at||"").getTime();case"date-asc":return new Date(z.updated_at||z.created_at||"").getTime()-new Date(B.updated_at||B.created_at||"").getTime();case"verdict":return(z.feedback_verdict||"").localeCompare(B.feedback_verdict||"");default:return 0}}),a(I)},T=async I=>{const z=n.find(Y=>Y.id===I);if(!z)return;const B=!z.apply;r(Y=>Y.map(D=>D.id===I?{...D,apply:B}:D));try{const{updateAdminFeedbackField:Y}=await Wr(()=>Promise.resolve().then(()=>dz),void 0);await Y(I,{apply:B})}catch(Y){console.error("Failed to update apply status:",Y),r(D=>D.map(R=>R.id===I?{...R,apply:!B}:R))}},M=I=>{if(!I)return"N/A";try{return new Date(I).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return I}},$=()=>{const I=i.filter(R=>(R==null?void 0:R.isEnabled)??!0);if(I.length===0){alert("No enabled feedback to export");return}const z=[["Chat ID","User ID","Date/Time","Verdict","User Message","AI Response","Feedback","Corrected Response"],...I.map(R=>{var C,Z,H;return[R.chat_id,((C=R.chatData)==null?void 0:C.user_id)||"",M(R.updated_at||R.created_at),R.feedback_verdict,((Z=R.chatData)==null?void 0:Z.chat_message)||"",((H=R.chatData)==null?void 0:H.response)||"",R.feedback_text||"",R.corrected_response||""]})].map(R=>R.map(C=>`"${C}"`).join(",")).join(`
`),B=new Blob([z],{type:"text/csv"}),Y=URL.createObjectURL(B),D=document.createElement("a");D.href=Y,D.download=`admin-feedback-${new Date().toISOString().split("T")[0]}.csv`,D.click(),URL.revokeObjectURL(Y)};return o?u.jsx("div",{className:"admin-card",children:u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})}):l?u.jsx("div",{className:"admin-card",children:u.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[u.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),u.jsx("p",{className:"text-sm",children:l}),u.jsx("button",{onClick:N,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})}):u.jsxs("div",{className:"admin-card",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["Admin Feedback (",i.length," feedback entries)"]}),u.jsx("button",{className:"icon-btn",onClick:O,disabled:d,title:t("actions.refresh"),children:u.jsx(gp,{size:18,className:d?"animate-spin":""})})]}),u.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 rounded-md overflow-hidden",style:{border:"1px solid var(--admin-border)"},children:[u.jsx("button",{onClick:()=>_("card"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:k==="card"?"var(--admin-primary)":"transparent",color:k==="card"?"#041220":"var(--admin-text)"},title:"Card View",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]})}),u.jsx("button",{onClick:()=>_("table"),className:"px-3 py-2 text-sm font-medium transition-colors",style:{backgroundColor:k==="table"?"var(--admin-primary)":"transparent",color:k==="table"?"#041220":"var(--admin-text)"},title:"Table View",children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),u.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),u.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),u.jsxs("select",{value:m,onChange:I=>g(I.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),u.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),u.jsx("option",{value:"verdict",children:"Verdict"})]})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[u.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),u.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:I=>p(I.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},defaultValue:"CSV",children:[u.jsx("option",{children:"CSV"}),u.jsx("option",{children:"JSON"})]}),u.jsx("button",{onClick:$,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsxs("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${y==="all"?"font-semibold":""}`,style:{backgroundColor:y==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:y==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),u.jsxs("button",{onClick:()=>v("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="good"?"font-semibold":""}`,style:{backgroundColor:y==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:y==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx(jn,{size:14})," Good (",n.filter(I=>I.feedback_verdict==="good").length,")"]}),u.jsxs("button",{onClick:()=>v("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="bad"?"font-semibold":""}`,style:{backgroundColor:y==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:y==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[u.jsx(Cn,{size:14})," Bad (",n.filter(I=>I.feedback_verdict==="bad").length,")"]})]}),i.length===0?u.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:u.jsx("p",{children:h||y!=="all"?"No feedback matches your filters":"No admin feedback found"})}):k==="table"?u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"separate",borderSpacing:0},children:[u.jsx("thead",{children:u.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.6)",borderBottom:"2px solid var(--admin-border)"},children:[u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Date"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"User ID"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"100px"},children:"Chat ID"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"70px"},children:"Verdict"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"180px"},children:"Feedback"}),u.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"180px"},children:"Corrected"}),u.jsx("th",{className:"px-3 py-2 text-center text-xs font-medium",style:{color:"var(--admin-text)",minWidth:"80px"},children:"Apply"})]})}),u.jsx("tbody",{children:i.map((I,z)=>{var B;return u.jsxs("tr",{className:"border-b transition-colors hover:bg-gray-100/5",style:{backgroundColor:z%2===0?"rgba(9, 14, 34, 0.3)":"rgba(9, 14, 34, 0.2)",borderColor:"var(--admin-border)",opacity:(I==null?void 0:I.isEnabled)??!0?1:.5},children:[u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text-muted)"},children:M(I.updated_at||I.created_at)}),u.jsx("td",{className:"px-3 py-2 text-xs",style:{color:"var(--admin-text)"},children:((B=I.chatData)==null?void 0:B.user_id)||"N/A"}),u.jsx("td",{className:"px-3 py-2 text-xs",children:u.jsx("button",{onClick:()=>e==null?void 0:e(I.chat_id),className:"text-blue-400 hover:text-blue-300 underline cursor-pointer truncate max-w-[120px] block",title:`Click to scroll to ${I.chat_id}`,children:I.chat_id.length>15?I.chat_id.substring(0,15)+"...":I.chat_id})}),u.jsx("td",{className:"px-3 py-2 text-center",children:I.feedback_verdict==="good"?u.jsx(jn,{size:16,style:{color:"var(--admin-success)",display:"inline"}}):u.jsx(Cn,{size:16,style:{color:"var(--admin-danger)",display:"inline"}})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text)"},children:u.jsx("div",{className:"truncate",title:I.feedback_text||"",children:I.feedback_text||"-"})}),u.jsx("td",{className:"px-3 py-2 text-xs max-w-[220px]",style:{color:"var(--admin-text-muted)"},children:u.jsx("div",{className:"truncate",title:I.corrected_response||"",children:I.corrected_response||"-"})}),u.jsx("td",{className:"px-3 py-2 text-center",children:u.jsx("button",{onClick:()=>T(I.id),className:"relative inline-flex h-5 w-9 items-center rounded-full transition-colors",style:{backgroundColor:I.apply?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},title:I.apply?"Applied to prompt":"Not applied",children:u.jsx("span",{className:"inline-block h-3 w-3 transform rounded-full bg-white transition-transform",style:{transform:I.apply?"translateX(1.25rem)":"translateX(0.25rem)"}})})})]},I.id)})})]})}):u.jsx("div",{className:"space-y-3",children:i.map(I=>{var z,B,Y;return u.jsx("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)",opacity:(I==null?void 0:I.isEnabled)??!0?1:.5},children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[I.feedback_verdict==="good"?u.jsx(jn,{size:16,style:{color:"var(--admin-success)"}}):u.jsx(Cn,{size:16,style:{color:"var(--admin-danger)"}}),u.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:["User: ",((z=I.chatData)==null?void 0:z.user_id)||"Unknown"]})]})}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:M(I.updated_at||I.created_at)}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("span",{className:"text-xs",style:{color:"var(--admin-text)"},children:"Apply to Prompt:"}),u.jsx("button",{onClick:()=>T(I.id),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors",style:{backgroundColor:I.apply?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},children:u.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:I.apply?"translateX(1.5rem)":"translateX(0.25rem)"}})})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[((B=I.chatData)==null?void 0:B.chat_message)&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"User Message:"}),u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:I.chatData.chat_message})]}),u.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",u.jsx("button",{onClick:()=>e==null?void 0:e(I.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:I.chat_id})]}),((Y=I.chatData)==null?void 0:Y.response)&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"Original AI Response:"}),u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:I.chatData.response})]}),I.feedback_text&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-warning, #ff9800)"},children:"Supervisor Feedback:"}),u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:I.feedback_text})]}),I.corrected_response&&u.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",border:"1px solid rgba(59, 230, 255, 0.2)"},children:[u.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"Corrected Response:"}),u.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:I.corrected_response})]})]})]})},I.id)})})]})}const Ose=({message:e,type:t,onClose:n,duration:r=5e3})=>{x.useEffect(()=>{const o=setTimeout(()=>{n()},r);return()=>clearTimeout(o)},[r,n]);const i={success:"#10b981",error:"#ef4444",warning:"#f59e0b",info:"#3b82f6"}[t],a={success:"✓",error:"✕",warning:"⚠",info:"ℹ"}[t];return u.jsxs("div",{style:{position:"fixed",top:"24px",right:"24px",zIndex:9999,backgroundColor:i,color:"white",padding:"16px 24px",borderRadius:"8px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",minWidth:"300px",maxWidth:"500px",animation:"slideIn 0.3s ease-out"},children:[u.jsx("span",{style:{fontSize:"20px",fontWeight:"bold"},children:a}),u.jsx("span",{style:{flex:1},children:e}),u.jsx("button",{onClick:n,style:{background:"none",border:"none",color:"white",cursor:"pointer",fontSize:"18px",padding:"0 4px",opacity:.8,transition:"opacity 0.2s"},onMouseEnter:o=>o.currentTarget.style.opacity="1",onMouseLeave:o=>o.currentTarget.style.opacity="0.8",children:"×"}),u.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `})]})},Ase=({toasts:e,removeToast:t})=>u.jsx(u.Fragment,{children:e.map((n,r)=>u.jsx("div",{style:{position:"fixed",top:`${24+r*80}px`,right:"24px",zIndex:9999},children:u.jsx(Ose,{message:n.message,type:n.type,onClose:()=>t(n.id)})},n.id))});function QD(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tse}=Object.prototype,{getPrototypeOf:ew}=Object,{iterator:yp,toStringTag:ZD}=Symbol,vp=(e=>t=>{const n=Tse.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kr=e=>(e=e.toLowerCase(),t=>vp(t)===e),xp=e=>t=>typeof t===e,{isArray:Bs}=Array,xs=xp("undefined");function Qc(e){return e!==null&&!xs(e)&&e.constructor!==null&&!xs(e.constructor)&&pn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const eR=kr("ArrayBuffer");function Ise(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&eR(e.buffer),t}const Dse=xp("string"),pn=xp("function"),tR=xp("number"),Zc=e=>e!==null&&typeof e=="object",Rse=e=>e===!0||e===!1,dd=e=>{if(vp(e)!=="object")return!1;const t=ew(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ZD in e)&&!(yp in e)},Mse=e=>{if(!Zc(e)||Qc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Lse=kr("Date"),$se=kr("File"),Fse=kr("Blob"),zse=kr("FileList"),Use=e=>Zc(e)&&pn(e.pipe),Bse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pn(e.append)&&((t=vp(e))==="formdata"||t==="object"&&pn(e.toString)&&e.toString()==="[object FormData]"))},Wse=kr("URLSearchParams"),[Hse,Kse,qse,Vse]=["ReadableStream","Request","Response","Headers"].map(kr),Gse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Bs(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Qc(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(r=0;r<o;r++)s=a[r],t.call(null,e[s],s,e)}}function nR(e,t){if(Qc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Ia=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rR=e=>!xs(e)&&e!==Ia;function wv(){const{caseless:e,skipUndefined:t}=rR(this)&&this||{},n={},r=(i,a)=>{const o=e&&nR(n,a)||a;dd(n[o])&&dd(i)?n[o]=wv(n[o],i):dd(i)?n[o]=wv({},i):Bs(i)?n[o]=i.slice():(!t||!xs(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&eu(arguments[i],r);return n}const Yse=(e,t,n,{allOwnKeys:r}={})=>(eu(t,(i,a)=>{n&&pn(i)?e[a]=QD(i,n):e[a]=i},{allOwnKeys:r}),e),Jse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xse=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Qse=(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&ew(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Zse=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ele=e=>{if(!e)return null;if(Bs(e))return e;let t=e.length;if(!tR(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},tle=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ew(Uint8Array)),nle=(e,t)=>{const r=(e&&e[yp]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},rle=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ile=kr("HTMLFormElement"),ale=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),t_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ole=kr("RegExp"),iR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};eu(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},sle=e=>{iR(e,(t,n)=>{if(pn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(pn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},lle=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return Bs(e)?r(e):r(String(e).split(t)),n},cle=()=>{},ule=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function dle(e){return!!(e&&pn(e.append)&&e[ZD]==="FormData"&&e[yp])}const fle=e=>{const t=new Array(10),n=(r,i)=>{if(Zc(r)){if(t.indexOf(r)>=0)return;if(Qc(r))return r;if(!("toJSON"in r)){t[i]=r;const a=Bs(r)?[]:{};return eu(r,(o,s)=>{const l=n(o,i+1);!xs(l)&&(a[s]=l)}),t[i]=void 0,a}}return r};return n(e,0)},hle=kr("AsyncFunction"),ple=e=>e&&(Zc(e)||pn(e))&&pn(e.then)&&pn(e.catch),aR=((e,t)=>e?setImmediate:t?((n,r)=>(Ia.addEventListener("message",({source:i,data:a})=>{i===Ia&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ia.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",pn(Ia.postMessage)),mle=typeof queueMicrotask<"u"?queueMicrotask.bind(Ia):typeof process<"u"&&process.nextTick||aR,gle=e=>e!=null&&pn(e[yp]),q={isArray:Bs,isArrayBuffer:eR,isBuffer:Qc,isFormData:Bse,isArrayBufferView:Ise,isString:Dse,isNumber:tR,isBoolean:Rse,isObject:Zc,isPlainObject:dd,isEmptyObject:Mse,isReadableStream:Hse,isRequest:Kse,isResponse:qse,isHeaders:Vse,isUndefined:xs,isDate:Lse,isFile:$se,isBlob:Fse,isRegExp:ole,isFunction:pn,isStream:Use,isURLSearchParams:Wse,isTypedArray:tle,isFileList:zse,forEach:eu,merge:wv,extend:Yse,trim:Gse,stripBOM:Jse,inherits:Xse,toFlatObject:Qse,kindOf:vp,kindOfTest:kr,endsWith:Zse,toArray:ele,forEachEntry:nle,matchAll:rle,isHTMLForm:ile,hasOwnProperty:t_,hasOwnProp:t_,reduceDescriptors:iR,freezeMethods:sle,toObjectSet:lle,toCamelCase:ale,noop:cle,toFiniteNumber:ule,findKey:nR,global:Ia,isContextDefined:rR,isSpecCompliantForm:dle,toJSONObject:fle,isAsyncFn:hle,isThenable:ple,setImmediate:aR,asap:mle,isIterable:gle};function ve(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const oR=ve.prototype,sR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sR[e]={value:e}});Object.defineProperties(ve,sR);Object.defineProperty(oR,"isAxiosError",{value:!0});ve.from=(e,t,n,r,i,a)=>{const o=Object.create(oR);q.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return ve.call(o,s,l,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const yle=null;function kv(e){return q.isPlainObject(e)||q.isArray(e)}function lR(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function n_(e,t,n){return e?e.concat(t).map(function(i,a){return i=lR(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function vle(e){return q.isArray(e)&&!e.some(kv)}const xle=q.toFlatObject(q,{},null,function(t){return/^is[A-Z]/.test(t)});function bp(e,t,n){if(!q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!q.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||d,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(t);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!l&&q.isBlob(m))throw new ve("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,y){let v=m;if(m&&!y&&typeof m=="object"){if(q.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&vle(m)||(q.isFileList(m)||q.endsWith(g,"[]"))&&(v=q.toArray(m)))return g=lR(g),v.forEach(function(w,S){!(q.isUndefined(w)||w===null)&&t.append(o===!0?n_([g],S,a):o===null?g:g+"[]",c(w))}),!1}return kv(m)?!0:(t.append(n_(y,g,a),c(m)),!1)}const f=[],h=Object.assign(xle,{defaultVisitor:d,convertValue:c,isVisitable:kv});function p(m,g){if(!q.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),q.forEach(m,function(v,b){(!(q.isUndefined(v)||v===null)&&i.call(t,v,q.isString(b)?b.trim():b,g,h))===!0&&p(v,g?g.concat(b):[b])}),f.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return p(e),t}function r_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function tw(e,t){this._pairs=[],e&&bp(e,this,t)}const cR=tw.prototype;cR.append=function(t,n){this._pairs.push([t,n])};cR.toString=function(t){const n=t?function(r){return t.call(this,r,r_)}:r_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function ble(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uR(e,t,n){if(!t)return e;const r=n&&n.encode||ble;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=q.isURLSearchParams(t)?t.toString():new tw(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class wle{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const i_=wle,dR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kle=typeof URLSearchParams<"u"?URLSearchParams:tw,Sle=typeof FormData<"u"?FormData:null,jle=typeof Blob<"u"?Blob:null,Cle={isBrowser:!0,classes:{URLSearchParams:kle,FormData:Sle,Blob:jle},protocols:["http","https","file","blob","url","data"]},nw=typeof window<"u"&&typeof document<"u",Sv=typeof navigator=="object"&&navigator||void 0,_le=nw&&(!Sv||["ReactNative","NativeScript","NS"].indexOf(Sv.product)<0),Ele=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Nle=nw&&window.location.href||"http://localhost",Ple=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nw,hasStandardBrowserEnv:_le,hasStandardBrowserWebWorkerEnv:Ele,navigator:Sv,origin:Nle},Symbol.toStringTag,{value:"Module"})),$t={...Ple,...Cle};function Ole(e,t){return bp(e,new $t.classes.URLSearchParams,{visitor:function(n,r,i,a){return $t.isNode&&q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Ale(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Tle(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function fR(e){function t(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=n.length;return o=!o&&q.isArray(i)?i.length:o,l?(q.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!q.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],a)&&q.isArray(i[o])&&(i[o]=Tle(i[o])),!s)}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(r,i)=>{t(Ale(r),i,n,0)}),n}return null}function Ile(e,t,n){if(q.isString(e))try{return(t||JSON.parse)(e),q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const rw={transitional:dR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=q.isObject(t);if(a&&q.isHTMLForm(t)&&(t=new FormData(t)),q.isFormData(t))return i?JSON.stringify(fR(t)):t;if(q.isArrayBuffer(t)||q.isBuffer(t)||q.isStream(t)||q.isFile(t)||q.isBlob(t)||q.isReadableStream(t))return t;if(q.isArrayBufferView(t))return t.buffer;if(q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ole(t,this.formSerializer).toString();if((s=q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return bp(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Ile(t)):t}],transformResponse:[function(t){const n=this.transitional||rw.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(t)||q.isReadableStream(t))return t;if(t&&q.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?ve.from(s,ve.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{rw.headers[e]={}});const iw=rw,Dle=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Rle=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Dle[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},a_=Symbol("internals");function ul(e){return e&&String(e).trim().toLowerCase()}function fd(e){return e===!1||e==null?e:q.isArray(e)?e.map(fd):String(e)}function Mle(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Lle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xm(e,t,n,r,i){if(q.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!q.isString(t)){if(q.isString(r))return t.indexOf(r)!==-1;if(q.isRegExp(r))return r.test(t)}}function $le(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Fle(e,t){const n=q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}class wp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(s,l,c){const d=ul(l);if(!d)throw new Error("header name must be a non-empty string");const f=q.findKey(i,d);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=fd(s))}const o=(s,l)=>q.forEach(s,(c,d)=>a(c,d,l));if(q.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(q.isString(t)&&(t=t.trim())&&!Lle(t))o(Rle(t),n);else if(q.isObject(t)&&q.isIterable(t)){let s={},l,c;for(const d of t){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");s[c=d[0]]=(l=s[c])?q.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(s,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=ul(t),t){const r=q.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Mle(i);if(q.isFunction(n))return n.call(this,i,r);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ul(t),t){const r=q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Xm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(o){if(o=ul(o),o){const s=q.findKey(r,o);s&&(!n||Xm(r,r[s],s,n))&&(delete r[s],i=!0)}}return q.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Xm(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return q.forEach(this,(i,a)=>{const o=q.findKey(r,a);if(o){n[o]=fd(i),delete n[a];return}const s=t?$le(a):String(a).trim();s!==a&&delete n[a],n[s]=fd(i),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[a_]=this[a_]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=ul(o);r[s]||(Fle(i,o),r[s]=!0)}return q.isArray(t)?t.forEach(a):a(t),this}}wp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(wp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});q.freezeMethods(wp);const vr=wp;function Qm(e,t){const n=this||iw,r=t||n,i=vr.from(r.headers);let a=r.data;return q.forEach(e,function(s){a=s.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function hR(e){return!!(e&&e.__CANCEL__)}function Ws(e,t,n){ve.call(this,e??"canceled",ve.ERR_CANCELED,t,n),this.name="CanceledError"}q.inherits(Ws,ve,{__CANCEL__:!0});function pR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zle(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ule(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[a];o||(o=c),n[i]=l,r[i]=c;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const p=d&&c-d;return p?Math.round(h*1e3/p):void 0}}function Ble(e,t){let n=0,r=1e3/t,i,a;const o=(c,d=Date.now())=>{n=d,i=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-n;f>=r?o(c,d):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const $f=(e,t,n=3)=>{let r=0;const i=Ule(50,250);return Ble(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),d=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&d?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},o_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},s_=e=>(...t)=>q.asap(()=>e(...t)),Wle=$t.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$t.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,Hle=$t.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];q.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),q.isString(r)&&o.push("path="+r),q.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qle(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mR(e,t,n){let r=!Kle(t);return e&&(r||n==!1)?qle(e,t):t}const l_=e=>e instanceof vr?{...e}:e;function eo(e,t){t=t||{};const n={};function r(c,d,f,h){return q.isPlainObject(c)&&q.isPlainObject(d)?q.merge.call({caseless:h},c,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(c,d,f,h){if(q.isUndefined(d)){if(!q.isUndefined(c))return r(void 0,c,f,h)}else return r(c,d,f,h)}function a(c,d){if(!q.isUndefined(d))return r(void 0,d)}function o(c,d){if(q.isUndefined(d)){if(!q.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function s(c,d,f){if(f in t)return r(c,d);if(f in e)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,d,f)=>i(l_(c),l_(d),f,!0)};return q.forEach(Object.keys({...e,...t}),function(d){const f=l[d]||i,h=f(e[d],t[d],d);q.isUndefined(h)&&f!==s||(n[d]=h)}),n}const gR=e=>{const t=eo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=vr.from(o),t.url=uR(mR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),q.isFormData(n)){if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,f])=>{c.includes(d.toLowerCase())&&o.set(d,f)})}}if($t.hasStandardBrowserEnv&&(r&&q.isFunction(r)&&(r=r(t)),r||r!==!1&&Wle(t.url))){const l=i&&a&&Hle.read(a);l&&o.set(i,l)}return t},Vle=typeof XMLHttpRequest<"u",Gle=Vle&&function(e){return new Promise(function(n,r){const i=gR(e);let a=i.data;const o=vr.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,d,f,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const w=vr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};pR(function(_){n(_),g()},function(_){r(_),g()},j),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new ve("Request aborted",ve.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const j=S&&S.message?S.message:"Network Error",k=new ve(j,ve.ERR_NETWORK,e,y);k.event=S||null,r(k),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||dR;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new ve(S,j.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&q.forEach(o.toJSON(),function(S,j){y.setRequestHeader(j,S)}),q.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),c&&([h,m]=$f(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([f,p]=$f(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{y&&(r(!w||w.type?new Ws(null,e,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=zle(i.url);if(b&&$t.protocols.indexOf(b)===-1){r(new ve("Unsupported protocol "+b+":",ve.ERR_BAD_REQUEST,e));return}y.send(a||null)})},Yle=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const d=c instanceof Error?c:this.reason;r.abort(d instanceof ve?d:new Ws(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,a(new ve(`timeout ${t} of ms exceeded`,ve.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>q.asap(s),l}},Jle=Yle,Xle=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Qle=async function*(e,t){for await(const n of Zle(e))yield*Xle(n,t)},Zle=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},c_=(e,t,n,r)=>{const i=Qle(e,t);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){s(),l.close();return}let f=d.byteLength;if(n){let h=a+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},u_=64*1024,{isFunction:Hu}=q,ece=(({Request:e,Response:t})=>({Request:e,Response:t}))(q.global),{ReadableStream:d_,TextEncoder:f_}=q.global,h_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},tce=e=>{e=q.merge.call({skipUndefined:!0},ece,e);const{fetch:t,Request:n,Response:r}=e,i=t?Hu(t):typeof fetch=="function",a=Hu(n),o=Hu(r);if(!i)return!1;const s=i&&Hu(d_),l=i&&(typeof f_=="function"?(m=>g=>m.encode(g))(new f_):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=a&&s&&h_(()=>{let m=!1;const g=new n($t.origin,{body:new d_,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),d=o&&s&&h_(()=>q.isReadableStream(new r("").body)),f={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,y)=>{let v=g&&g[m];if(v)return v.call(g);throw new ve(`Response type '${m}' is not supported`,ve.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new n($t.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=q.toFiniteNumber(m.getContentLength());return y??h(g)};return async m=>{let{url:g,method:y,data:v,signal:b,cancelToken:w,timeout:S,onDownloadProgress:j,onUploadProgress:k,responseType:_,headers:N,withCredentials:O="same-origin",fetchOptions:E}=gR(m),T=t||fetch;_=_?(_+"").toLowerCase():"text";let M=Jle([b,w&&w.toAbortSignal()],S),$=null;const I=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let z;try{if(k&&c&&y!=="get"&&y!=="head"&&(z=await p(N,v))!==0){let Z=new n(g,{method:"POST",body:v,duplex:"half"}),H;if(q.isFormData(v)&&(H=Z.headers.get("content-type"))&&N.setContentType(H),Z.body){const[A,U]=o_(z,$f(s_(k)));v=c_(Z.body,u_,A,U)}}q.isString(O)||(O=O?"include":"omit");const B=a&&"credentials"in n.prototype,Y={...E,signal:M,method:y.toUpperCase(),headers:N.normalize().toJSON(),body:v,duplex:"half",credentials:B?O:void 0};$=a&&new n(g,Y);let D=await(a?T($,E):T(g,Y));const R=d&&(_==="stream"||_==="response");if(d&&(j||R&&I)){const Z={};["status","statusText","headers"].forEach(Q=>{Z[Q]=D[Q]});const H=q.toFiniteNumber(D.headers.get("content-length")),[A,U]=j&&o_(H,$f(s_(j),!0))||[];D=new r(c_(D.body,u_,A,()=>{U&&U(),I&&I()}),Z)}_=_||"text";let C=await f[q.findKey(f,_)||"text"](D,m);return!R&&I&&I(),await new Promise((Z,H)=>{pR(Z,H,{data:C,headers:vr.from(D.headers),status:D.status,statusText:D.statusText,config:m,request:$})})}catch(B){throw I&&I(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,m,$),{cause:B.cause||B}):ve.from(B,B&&B.code,m,$)}}},nce=new Map,yR=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o=a.length,s=o,l,c,d=nce;for(;s--;)l=a[s],c=d.get(l),c===void 0&&d.set(l,c=s?new Map:tce(t)),d=c;return c};yR();const jv={http:yle,xhr:Gle,fetch:{get:yR}};q.forEach(jv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const p_=e=>`- ${e}`,rce=e=>q.isFunction(e)||e===null||e===!1,vR={getAdapter:(e,t)=>{e=q.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){r=e[o];let s;if(i=r,!rce(r)&&(i=jv[(s=String(r)).toLowerCase()],i===void 0))throw new ve(`Unknown adapter '${s}'`);if(i&&(q.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(p_).join(`
`):" "+p_(o[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:jv};function Zm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ws(null,e)}function m_(e){return Zm(e),e.headers=vr.from(e.headers),e.data=Qm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vR.getAdapter(e.adapter||iw.adapter,e)(e).then(function(r){return Zm(e),r.data=Qm.call(e,e.transformResponse,r),r.headers=vr.from(r.headers),r},function(r){return hR(r)||(Zm(e),r&&r.response&&(r.response.data=Qm.call(e,e.transformResponse,r.response),r.response.headers=vr.from(r.response.headers))),Promise.reject(r)})}const xR="1.12.2",kp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const g_={};kp.transitional=function(t,n,r){function i(a,o){return"[Axios v"+xR+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(t===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!g_[o]&&(g_[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,s):!0}};kp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function ice(e,t,n){if(typeof e!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new ve("option "+a+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+a,ve.ERR_BAD_OPTION)}}const hd={assertOptions:ice,validators:kp},Nr=hd.validators;class Ff{constructor(t){this.defaults=t||{},this.interceptors={request:new i_,response:new i_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=eo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&hd.assertOptions(r,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:hd.assertOptions(i,{encode:Nr.function,serialize:Nr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hd.assertOptions(n,{baseUrl:Nr.spelling("baseURL"),withXsrfToken:Nr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&q.merge(a.common,a[n.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=vr.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,f=0,h;if(!l){const m=[m_.bind(this),void 0];for(m.unshift(...s),m.push(...c),h=m.length,d=Promise.resolve(n);f<h;)d=d.then(m[f++],m[f++]);return d}h=s.length;let p=n;for(;f<h;){const m=s[f++],g=s[f++];try{p=m(p)}catch(y){g.call(this,y);break}}try{d=m_.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=eo(this.defaults,t);const n=mR(t.baseURL,t.url,t.allowAbsoluteUrls);return uR(n,t.params,t.paramsSerializer)}}q.forEach(["delete","get","head","options"],function(t){Ff.prototype[t]=function(n,r){return this.request(eo(r||{},{method:t,url:n,data:(r||{}).data}))}});q.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,s){return this.request(eo(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ff.prototype[t]=n(),Ff.prototype[t+"Form"]=n(!0)});const pd=Ff;class aw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,s){r.reason||(r.reason=new Ws(a,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new aw(function(i){t=i}),cancel:t}}}const ace=aw;function oce(e){return function(n){return e.apply(null,n)}}function sce(e){return q.isObject(e)&&e.isAxiosError===!0}const Cv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cv).forEach(([e,t])=>{Cv[t]=e});const lce=Cv;function bR(e){const t=new pd(e),n=QD(pd.prototype.request,t);return q.extend(n,pd.prototype,t,{allOwnKeys:!0}),q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return bR(eo(e,i))},n}const dt=bR(iw);dt.Axios=pd;dt.CanceledError=Ws;dt.CancelToken=ace;dt.isCancel=hR;dt.VERSION=xR;dt.toFormData=bp;dt.AxiosError=ve;dt.Cancel=dt.CanceledError;dt.all=function(t){return Promise.all(t)};dt.spread=oce;dt.isAxiosError=sce;dt.mergeConfig=eo;dt.AxiosHeaders=vr;dt.formToJSON=e=>fR(q.isHTMLForm(e)?new FormData(e):e);dt.getAdapter=vR.getAdapter;dt.HttpStatusCode=lce;dt.default=dt;const tu=dt,Co={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL||"https://n8n.srv978041.hstgr.cloud",wR={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_UPLOAD_WEBHOOK_ID||"1f18f1aa-44c4-467f-b299-c87c9b6f9459",Sp={UPLOAD:`${Co}/webhook/${wR}`,LIST_FILES:`${Co}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_LIST_FILES_WEBHOOK_ID||"list-files"}`,DELETE_FILE:`${Co}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_DELETE_FILE_WEBHOOK_ID||"delete-file"}`,REINDEX_FILE:`${Co}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_REINDEX_FILE_WEBHOOK_ID||"reindex-file"}`,GET_FILE_STATUS:`${Co}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_FILE_STATUS_WEBHOOK_ID||"file-status"}`};async function kR(e){const t=[];try{const n=new FormData;e.forEach(i=>{n.append("Files",i)});const r=await tu.post(Sp.UPLOAD,n,{headers:{Accept:"*/*","Content-Type":"multipart/form-data"},timeout:3e4});e.forEach(i=>{t.push({success:!0,message:"File uploaded successfully",fileName:i.name})}),console.log("RAG upload response:",r.data)}catch(n){console.error("Error uploading files to RAG:",n),e.forEach(r=>{var i,a;t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:((a=(i=n.response)==null?void 0:i.data)==null?void 0:a.message)||n.message||"Unknown error"})})}return t}async function cce(e){return(await kR([e]))[0]}async function uce(){var e,t;try{console.log("Fetching files from n8n RAG system...");const n=await tu.post(Sp.LIST_FILES,{},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4});console.log("Files fetched successfully:",n.data);let r=[];Array.isArray(n.data)?r=n.data:n.data.files&&Array.isArray(n.data.files)?r=n.data.files:n.data.data&&Array.isArray(n.data.data)?r=n.data.data:(console.warn("Unexpected response format from n8n:",n.data),r=[]);const i=r.map((a,o)=>({id:a.id||a.fileId||a.file_id||`file-${Date.now()}-${o}`,name:a.name||a.fileName||a.file_name||"Unknown",size:a.size||a.fileSize||a.file_size||0,type:a.type||a.contentType||a.content_type||"application/octet-stream",uploadedAt:a.uploadedAt||a.createdAt||a.uploadDate||a.created_at||new Date().toISOString(),status:a.status||"ready",url:a.url||a.downloadUrl||a.download_url,lastModified:a.lastModified||a.updatedAt||a.updated_at,syncStatus:"pending"}));console.log("🔍 Checking sync status for files (batched by filename)...");try{const a=Le(),{data:o,error:s}=await a.from("documents").select("metadata->>fileName as fileName");s&&console.warn("⚠️ Failed to fetch document filenames for sync check:",s);const l=new Set;if(o&&o.length>0)for(const c of o){const d=c.fileName;d&&typeof d=="string"&&l.add(d.trim().toLowerCase())}console.log("[SyncCheck] Indexed filenames count:",l.size),l.size>0&&console.log("[SyncCheck] Example indexed name:",Array.from(l)[0]);for(let c=0;c<i.length;c++){const d=i[c],f=(d.name||"").trim(),p=(f.includes("/")?f.substring(f.lastIndexOf("/")+1):f).toLowerCase();d.syncStatus=l.has(p)?"synced":"pending"}}catch(a){console.warn("⚠️ Error during batched sync status calculation:",a);for(let o=0;o<i.length;o++)i[o].syncStatus="error"}return{success:!0,files:i,total:i.length,message:"Files fetched successfully"}}catch(n){return console.error("Error fetching files from RAG:",n),{success:!1,files:[],total:0,message:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||n.message||"Failed to fetch files"}}}function SR(e){let t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x00-\x7F]/g,"_").replace(/\s+/g,"_").replace(/[<>:"/\\|?*]/g,"_").replace(/_+/g,"_").trim();return t.includes(".")||(t+=".txt"),t}function jR(e){return e.size>52428800?{valid:!1,error:"File size must be less than 50MB"}:(/[^\x00-\x7F]/.test(e.name),["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown","application/json","text/html"].includes(e.type)?{valid:!0}:{valid:!1,error:"Unsupported file type. Please upload PDF, Word, Excel, CSV, TXT, MD, JSON, or HTML files."})}function CR(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}function dce(e){return e.includes("pdf")?"📄":e.includes("word")||e.includes("document")?"📝":e.includes("excel")||e.includes("spreadsheet")?"📊":e.includes("csv")?"📈":e.includes("text")?"📃":e.includes("markdown")?"📋":e.includes("json")?"🔧":e.includes("html")?"🌐":"📁"}async function fce(e){var t,n;try{console.log(`Re-indexing file via n8n: ${e}`);const r=await tu.post(Sp.REINDEX_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:15e3});return console.log("Re-index response:",r.data),{success:!0,message:r.data.message||"File re-indexed successfully"}}catch(r){return console.error("Error re-indexing file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to re-index file"}}}async function hce(e){var t,n;try{console.log(`Deleting file from RAG via n8n: ${e}`);const r=await tu.post(Sp.DELETE_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:1e4});return console.log("Delete response:",r.data),{success:!0,message:r.data.message||"File deleted successfully"}}catch(r){return console.error("Error deleting file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to delete file"}}}const Yi="knowledge-base";async function pce(e,t){try{const{data:n,error:r}=await e.storage.from(Yi).list("files",{limit:1e3,offset:0});if(r)return console.error("Error listing files:",r),t;if(!n||n.length===0||!n.some(d=>d.name===t))return t;const a=t.split("."),o=a.length>1?`.${a.pop()}`:"",s=a.join(".");let l=1,c=`${s} (${l})${o}`;for(;n.some(d=>d.name===c);)l++,c=`${s} (${l})${o}`;return console.log(`📝 Duplicate file detected: ${t} → ${c}`),c}catch(n){return console.error("Error in getUniqueFileName:",n),t}}async function ow(e){const t=[],n=Le();for(const r of e)try{const i=jR(r);if(!i.valid){t.push({success:!1,message:"File validation failed",fileName:r.name,error:i.error});continue}const a=SR(r.name);a!==r.name&&console.warn(`⚠️ Filename sanitized: "${r.name}" → "${a}"`);const o=await pce(n,a),s=`files/${o}`;console.log(`Uploading file to Supabase Storage: ${s}`);const{data:l,error:c}=await n.storage.from(Yi).upload(s,r,{cacheControl:"3600",upsert:!1});if(c){console.error("Supabase upload error:",c),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:c.message});continue}console.log("File uploaded successfully:",l),t.push({success:!0,message:"File uploaded successfully",fileName:o})}catch(i){console.error("Error uploading file to Supabase:",i),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:i.message||"Unknown error"})}return t}async function mce(e){return(await ow([e]))[0]}async function _R(){var e;try{console.log("Fetching files from Supabase Storage...");const t=Le(),{data:n,error:r}=await t.storage.from(Yi).list("files",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)return console.error("Supabase list error:",r),{success:!1,files:[],total:0,message:r.message};console.log("Files fetched from Supabase:",n);const i=n.map(a=>{var o,s;return{id:a.id||a.name,name:a.name,size:((o=a.metadata)==null?void 0:o.size)||0,type:((s=a.metadata)==null?void 0:s.mimetype)||"application/octet-stream",uploadedAt:a.created_at||new Date().toISOString(),status:"ready",lastModified:a.updated_at||a.created_at,syncStatus:"pending"}});console.log("🔍 Checking sync status for files...");try{let a=[],o=!0,s=0;const l=1e3;for(;o;){const{data:p,error:m}=await t.from("documents").select("metadata").range(s*l,(s+1)*l-1);if(m){console.warn(`⚠️ Error fetching page ${s}:`,m);break}p&&p.length>0?(a=[...a,...p],o=p.length===l,s++):o=!1}console.log(`📊 Total documents fetched: ${a.length} (${s} pages)`);const c=new Set,d=new Map;if(a&&a.length>0){console.log("📋 First document metadata sample:",(e=a[0])==null?void 0:e.metadata);for(const p of a){const m=p.metadata||{};JSON.stringify(m).toLowerCase().includes("badillo")&&(console.log("🔍 RAW Badillo metadata found:",m),console.log(`   Type: ${typeof m}`),console.log("   Keys:",Object.keys(m)));const g=m.fileName;if(g){const y=g.toLowerCase().trim();c.add(y),d.set(y,g),g.toLowerCase().includes("badillo")&&console.log("🔍 Found Badillo file in DB:",{original:g,normalized:y,metadata:m}),[y.replace(/\s+/g,"_"),y.replace(/_+/g," "),y.replace(/[^\x00-\x7F]/g,"")].forEach(b=>{b!==y&&(c.add(b),d.set(b,g))})}}}console.log(`[SyncCheck] Indexed filenames count: ${c.size}`),console.log(`[SyncCheck] Unique documents: ${d.size}`);const f=Array.from(new Set(d.values()));console.log(`[SyncCheck] ALL indexed files (${f.length}):`,f);const h=Array.from(c).filter(p=>p.includes("badillo"));h.length>0?console.log("🔍 All Badillo variants in indexedNameSet:",h):(console.warn(`⚠️ No Badillo file found in ${(a==null?void 0:a.length)||0} indexed documents!`),console.log("📋 Checking first 5 metadata entries:",a==null?void 0:a.slice(0,5).map(p=>p.metadata)));for(let p=0;p<i.length;p++){const m=i[p],g=m.name.toLowerCase().trim(),y=[g,g.replace(/\s+/g," "),g.replace(/\s+/g,"_"),g.replace(/_+/g," "),g.replace(/[^\x00-\x7F]/g,""),g.replace(/\s+/g,"").replace(/_+/g,"")];try{y.push(decodeURIComponent(g)),y.push(encodeURIComponent(g).toLowerCase())}catch{}let v=!1,b="";for(const w of y)if(c.has(w)){v=!0,b=w;break}if(v)m.syncStatus="synced",console.log(`✅ File "${m.name}" is SYNCED (matched via: "${b}")`);else{m.syncStatus="pending",console.log(`⏳ File "${m.name}" is NOT INDEXED`),console.log(`   Storage filename: "${m.name}"`),console.log(`   Tried variants (${y.length}):`,y.slice(0,5)),console.log("   Sample indexed files:",Array.from(new Set(d.values())).slice(0,5));const w=Array.from(new Set(d.values())).filter(S=>S.toLowerCase().includes(g.substring(0,20).toLowerCase())||g.includes(S.substring(0,20).toLowerCase()));w.length>0&&console.log("   🔍 Possible matches:",w)}}}catch(a){console.warn("⚠️ Error during sync status calculation:",a);for(let o=0;o<i.length;o++)i[o].syncStatus="error"}return{success:!0,files:i,total:i.length,message:"Files fetched successfully"}}catch(t){return console.error("Error fetching files from Supabase:",t),{success:!1,files:[],total:0,message:t.message||"Failed to fetch files"}}}async function ER(e){try{console.log(`Deleting file from Supabase Storage: ${e}`);const t=Le(),n=`files/${e}`,{error:r}=await t.storage.from(Yi).remove([n]);return r?(console.error("Supabase delete error:",r),{success:!1,message:r.message}):(console.log("File deleted successfully from Supabase"),{success:!0,message:"File deleted successfully"})}catch(t){return console.error("Error deleting file from Supabase:",t),{success:!1,message:t.message||"Failed to delete file"}}}async function gce(e){try{const t=Le(),n=`files/${e}`,{data:r}=t.storage.from(Yi).getPublicUrl(n);return r.publicUrl}catch(t){return console.error("Error getting file URL:",t),null}}function NR(e){if(e.size>52428800)return{valid:!1,error:"File size must be less than 50MB"};const n=[".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".txt",".md",".csv",".json",".html",".rtf",".xml",".css",".js",".ts"],r=e.name.toLowerCase();return n.some(a=>r.endsWith(a))?{valid:!0}:{valid:!1,error:`Unsupported file type. Allowed: ${n.join(", ")}`}}async function sw(e=50,t=0){try{console.log(`Fetching vector documents from Supabase (limit: ${e}, offset: ${t})...`);const n=Le(),{data:r,error:i,count:a}=await n.from("documents").select("id, content, metadata, created_at",{count:"exact"}).order("id",{ascending:!1}).range(t,t+e-1);return i?(console.error("Supabase error:",i),{success:!1,documents:[],total:0,message:i.message}):(console.log(`✅ Fetched ${(r==null?void 0:r.length)||0} documents from Supabase (Total: ${a||0})`),{success:!0,documents:r||[],total:a||0,message:"Documents fetched successfully"})}catch(n){return console.error("Error fetching vector documents:",n),{success:!1,documents:[],total:0,message:n.message||"Failed to fetch documents"}}}async function lw(e){var t,n;try{const r=Le(),i=`files/${e}`;console.log(`🔍 Requesting signed URL for: ${i}`);const{data:a,error:o}=await r.storage.from(Yi).createSignedUrl(i,3600);if(console.log("🔍 Signed URL response:",{urlData:a,urlError:o}),o||!(a!=null&&a.signedUrl))return console.error("Error getting file URL:",o),{success:!1,message:"Failed to get file URL"};const{data:s}=r.storage.from(Yi).getPublicUrl(i);console.log("🔍 Public URL for comparison:",s),console.log(`📤 Sending file to n8n for indexing: ${e}`);let l=a.signedUrl;if(a.signedUrl.startsWith("http"))console.log("✅ URL already full, no conversion needed");else{const g={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_URL||"https://qpyteahuynkgkbmdasbv.supabase.co";a.signedUrl.startsWith("/object/")?(l=`${g}/storage/v1${a.signedUrl}`,console.log("🔧 Converted relative URL to full URL")):a.signedUrl.startsWith("/storage/")?(l=`${g}${a.signedUrl}`,console.log("🔧 Converted /storage/ URL to full URL")):(l=`${g}/storage/v1/object/sign/${Yi}/${i}?token=${a.signedUrl.split("token=")[1]||""}`,console.log("🔧 Used fallback URL construction"))}console.log(`🔗 FINAL URL SENT TO N8N: ${l}`),console.log(`⏰ Request time: ${new Date().toISOString()}`);const{getSession:c}=await Wr(()=>Promise.resolve().then(()=>a4),void 0),d=c();let f;(d==null?void 0:d.userId)==="seokhoon_kang_001"||(d==null?void 0:d.email)==="hana@tecace.com"?(f="bc7f7d96-1c7f-48c8-8def-6f4a367f7212",console.log("👤 Using SeokHoon Kang's FILE INDEXING webhook")):(f=wR,console.log("👤 Using default FILE INDEXING webhook"));const h={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_DEV_MODE==="true"||localStorage.getItem("n8n-dev-mode")==="true",p=h?`https://n8n.srv978041.hstgr.cloud/webhook-test/${f}`:{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL?`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL}/webhook/${f}`:`${Co}/webhook/${f}`;console.log(`🔧 Webhook mode: ${h?"DEV (test)":"PRODUCTION"}`),console.log(`🌐 Using webhook: ${p}`),console.log(`👤 User: ${(d==null?void 0:d.email)||"Unknown"} (${(d==null?void 0:d.userId)||"Unknown"})`),h&&console.warn("⚠️ Using TEST webhook - this may not be active!"),console.log(`🌐 n8n Webhook URL: ${p}`);const m=[{fileUrl:l,fileName:e,source:"supabase-storage"}];console.log("📦 Payload being sent:",m);try{const g=await tu.post(p,m,{headers:{"Content-Type":"application/json"},timeout:3e4});console.log("✅ File sent to n8n for indexing:",g.data),console.log("📊 Response status:",g.status),console.log("📋 Response headers:",g.headers);const y=g.data.workflowId||g.data.executionId,v=g.data.estimatedTime||"30-60 seconds";return{success:!0,message:`File sent for indexing successfully. Processing time: ${v}`,...y&&{workflowId:y},...v&&{estimatedTime:v}}}catch(g){console.warn("⚠️ Axios failed (likely CORS), trying fetch with no-cors:",g);try{const y=await fetch(p,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return console.log(`✅ Fetch request sent (no-cors mode) - status: ${y.status}`),console.log(`🔍 Response type: ${y.type}`),y.status===0?(console.log("✅ Request sent successfully (no-cors mode)"),{success:!0,message:"File sent for indexing (CORS bypassed). Processing time: 30-60 seconds"}):(console.warn(`⚠️ Unexpected status in no-cors mode: ${y.status}`),{success:!0,message:`File sent for indexing (CORS bypassed, status: ${y.status}). Processing time: 30-60 seconds`})}catch(y){if(console.error("❌ Both axios and fetch failed:",y),(t=y==null?void 0:y.message)!=null&&t.includes("404")||(n=y==null?void 0:y.message)!=null&&n.includes("ERR_ABORTED"))return{success:!1,message:`Webhook URL not found (404). Please check if the webhook is active: ${p}`};throw y}}}catch(r){const i=r instanceof Error?r.message:"Failed to index file";return console.error("Error indexing file:",r),{success:!1,message:i}}}async function PR(e){try{const t=Le(),{data:n,error:r}=await t.from("documents").select("id, created_at, metadata").ilike("metadata->>fileName",e).order("created_at",{ascending:!1});if(r)return console.error("Error checking indexing status:",r),{success:!1,message:"Failed to check indexing status",status:"failed"};if(n&&n.length>0){const i=n[0];return{success:!0,message:`File indexed successfully with ${n.length} chunks`,status:"completed",chunksCount:n.length,lastUpdated:i.created_at}}else return{success:!0,message:"File not yet indexed or indexing in progress",status:"pending"}}catch(t){return console.error("Error checking indexing status:",t),{success:!1,message:"Failed to check indexing status",status:"failed"}}}async function OR(e){try{const t=Le();console.log(`🗑️ Direct Supabase deletion for filename: "${e}"`),console.log(`🔍 Filename length: ${e.length}`),console.log(`🔍 Filename characters: ${e.split("").map(l=>l.charCodeAt(0)).join(",")}`);let n=[],r=0;console.log("🔍 Trying exact match...");let{data:i,error:a}=await t.from("documents").select("id, metadata").eq("metadata->>fileName",e);if(!a&&i&&i.length>0)n=i,r=i.length,console.log(`✅ Found ${r} records with exact match`);else{console.log("❌ Exact match failed, trying ilike...");let{data:l,error:c}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",e);if(!c&&l&&l.length>0)n=l,r=l.length,console.log(`✅ Found ${r} records with ilike match`);else{console.log("❌ ilike match failed, trying contains...");let{data:d,error:f}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",`%${e}%`);if(!f&&d&&d.length>0)n=d,r=d.length,console.log(`✅ Found ${r} records with contains match`);else{console.log("❌ All query approaches failed");let{data:h}=await t.from("documents").select("metadata").limit(10);console.log("🔍 Sample metadata from database:",h);let{data:p}=await t.from("documents").select("metadata->>fileName").not("metadata->>fileName","is",null);if(p){const m=[...new Set(p.map(g=>g.fileName))];console.log("🔍 All unique filenames in database:",m),console.log('🔍 Looking for filename containing "PM-Marketing":',m.filter(g=>g&&g.includes("PM-Marketing"))),console.log('🔍 Looking for filename containing "Team Notebook":',m.filter(g=>g&&g.includes("Team Notebook")))}return{success:!1,message:`No records found for filename: ${e}. Check console for debugging info.`,deletedCount:0}}}}if(console.log(`📊 Found ${r} records to delete for filename: ${e}`),r===0)return{success:!0,message:`No records found for filename: ${e}`,deletedCount:0};let o=t.from("documents").delete();if(n.length>0){const l=n.map(c=>c.id);o=o.in("id",l)}else o=o.ilike("metadata->>fileName",e);const{error:s}=await o;return s?(console.error("Error deleting records:",s),{success:!1,message:`Failed to delete documents: ${s.message}`,deletedCount:0}):(console.log(`✅ Successfully deleted ${r} records for filename: ${e}`),{success:!0,message:`File ${e} unindexed successfully (${r} chunks removed)`,deletedCount:r})}catch(t){return console.error("Error in direct Supabase deletion:",t),{success:!1,message:`Failed to delete documents: ${t.message}`,deletedCount:0}}}async function AR(e){try{return console.log("🗑️ Unindexing file using direct Supabase deletion:",e),await OR(e)}catch(t){return console.error("❌ Failed to unindex file:",t),{success:!1,message:`Failed to unindex file: ${t.message||"Unknown error"}`}}}async function yce(e){return await OR(e)}async function vce(e){try{const t=Le();console.log(`🔍 Checking sync status for: ${e}`);const{data:n,error:r}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",e);return r?(console.error("Error checking sync status:",r),{success:!1,syncStatus:"error",message:`Error checking sync status: ${r.message}`}):n&&n.length>0?{success:!0,syncStatus:"synced",message:`File is indexed (${n.length} chunks)`,chunksCount:n.length}:{success:!0,syncStatus:"pending",message:"File is not indexed (pending)"}}catch(t){return console.error("Error checking sync status:",t),{success:!1,syncStatus:"error",message:`Error checking sync status: ${t.message}`}}}const xce=Object.freeze(Object.defineProperty({__proto__:null,checkFileSyncStatus:vce,checkIndexingStatus:PR,deleteFileFromRAG:hce,deleteFileFromSupabase:ER,fetchFilesFromRAG:uce,fetchFilesFromSupabase:_R,fetchVectorDocuments:sw,formatFileSize:CR,getFileIcon:dce,getSupabaseFileUrl:gce,indexFileToVector:lw,reindexFile:fce,sanitizeFileName:SR,unindexFileByFilename:AR,unindexFileDirect:yce,uploadFilesToRAG:kR,uploadFilesToSupabase:ow,uploadSingleFileToRAG:cce,uploadSingleFileToSupabase:mce,validateFile:jR,validateFileExtended:NR},Symbol.toStringTag,{value:"Module"})),y_=()=>{const{t:e}=rt(),t=x.useRef(null),[n,r]=x.useState(!1),[i,a]=x.useState([]),[o,s]=x.useState(!1),[l,c]=x.useState([]),[d,f]=x.useState(""),[h,p]=x.useState("date"),[m,g]=x.useState("desc"),[y,v]=x.useState(!1),[b,w]=x.useState(null),[S,j]=x.useState(null),[k,_]=x.useState([]),[N,O]=x.useState({}),[E,T]=x.useState(new Set),[M,$]=x.useState(()=>localStorage.getItem("n8n-dev-mode")==="true"),I="supabase",z=(L,V)=>{const F=Date.now().toString();_(he=>[...he,{id:F,message:L,type:V}])},B=L=>{_(V=>V.filter(F=>F.id!==L))},Y=()=>{const L=!M;$(L),localStorage.setItem("n8n-dev-mode",L.toString()),console.log(`🔧 Switched to ${L?"DEV":"PRODUCTION"} mode`)},D=()=>{$(!1),localStorage.setItem("n8n-dev-mode","false"),console.log("🔧 Reset to PRODUCTION mode")};x.useEffect(()=>{R()},[I]),x.useEffect(()=>{const L=localStorage.getItem("n8n-dev-mode");(L===null||L==="true")&&($(!1),localStorage.setItem("n8n-dev-mode","false"),console.log("🔧 Defaulted to PRODUCTION mode"))},[]),x.useEffect(()=>{window.resetToProduction=D,window.toggleDevMode=Y,console.log("🔧 Debug commands available:"),console.log("  - window.resetToProduction() - Reset to production mode"),console.log("  - window.toggleDevMode() - Toggle between dev/prod")},[]),x.useEffect(()=>{if(E.size===0)return;const L=setInterval(async()=>{for(const V of E)try{const F=await PR(V);O(he=>({...he,[V]:{status:F.status,message:F.message,chunksCount:F.chunksCount,lastUpdated:F.lastUpdated}})),(F.status==="completed"||F.status==="failed")&&T(he=>{const ce=new Set(he);return ce.delete(V),ce})}catch(F){console.error(`Error polling status for ${V}:`,F)}},3e3);return()=>clearInterval(L)},[E]);const R=async()=>{v(!0),w(null);try{const L=await _R();L.success?(c(L.files),console.log(`✅ Loaded ${L.files.length} files from Supabase Storage`)):(w(L.message||"Failed to load files from Supabase"),console.error("Failed to load files:",L.message))}catch(L){w("Failed to connect to Supabase Storage. Please check your configuration."),console.error("Error loading files:",L)}finally{v(!1)}},C=()=>{R()},Z=async(L,V)=>{if(confirm(`Are you sure you want to delete "${V}"?`))try{const F=await ER(V);F.success?(c(he=>he.filter(ce=>ce.id!==L)),console.log(`✅ File ${V} deleted successfully`)):alert(`Failed to delete file: ${F.message}`)}catch(F){console.error("Error deleting file:",F),alert("Failed to delete file")}},H=async L=>{j(L);try{console.log("🔄 Starting index process for:",L),O(F=>({...F,[L]:{status:"processing",message:"Sending file to n8n for indexing..."}}));const V=await lw(L);console.log("📋 Index result:",V),V.success?(T(F=>new Set(F).add(L)),O(F=>({...F,[L]:{status:"processing",message:V.message||"File sent for indexing, checking status..."}})),z(`✅ ${V.message} - Status will update automatically. Check Knowledge Index tab when complete.`,"success"),R()):(O(F=>({...F,[L]:{status:"failed",message:V.message||"Failed to send file for indexing"}})),z(`❌ Failed to index file: ${V.message}`,"error"))}catch(V){console.error("❌ Error indexing file:",V),O(F=>({...F,[L]:{status:"failed",message:`Error: ${V}`}})),z(`❌ Error indexing file: ${V}`,"error")}finally{j(null)}},A=async L=>{try{const V=(await Wr(()=>import("./supabase-084e2d37.js"),[])).getSupabaseClient(),F=`files/${L}`,{data:he,error:ce}=await V.storage.from("knowledge-base").createSignedUrl(F,3600);if(ce){console.error("Error creating signed URL:",ce),alert(`Failed to get download URL: ${ce.message}`);return}he!=null&&he.signedUrl?window.open(he.signedUrl,"_blank"):alert("Failed to get download URL")}catch(V){console.error("Error downloading file:",V),alert("Failed to download file")}},U=x.useCallback(L=>{if(!L||L.length===0)return;const V=Array.from(L),F=[],he=[];V.forEach(ce=>{const ke=NR(ce);ke.valid?F.push(ce):he.push(`${ce.name}: ${ke.error}`)}),he.length>0&&alert(he.join(`
`)),F.length>0&&Q(F)},[I]),Q=async L=>{r(!0),a([]);try{const V=await ow(L);a(V);const F=V.filter(ke=>ke.success).length,he=V.filter(ke=>!ke.success).length,ce=V.filter(ke=>!ke.success);if(F>0&&z(`✅ ${F} file(s) uploaded successfully`,"success"),he>0){const ke=ce.map(Pe=>Pe.message).join(", ");z(`❌ ${he} file(s) failed: ${ke}`,"error")}await R()}catch(V){console.error("Upload error:",V)}finally{r(!1)}},ne=x.useCallback(L=>{L.preventDefault(),L.stopPropagation(),L.type==="dragenter"||L.type==="dragover"?s(!0):L.type==="dragleave"&&s(!1)},[]),J=x.useCallback(L=>{L.preventDefault(),L.stopPropagation(),s(!1),L.dataTransfer.files&&L.dataTransfer.files[0]&&U(L.dataTransfer.files)},[U]),re=L=>{U(L.target.files)},X=l.filter(L=>L.name.toLowerCase().includes(d.toLowerCase())).sort((L,V)=>{let F=0;switch(h){case"name":F=L.name.localeCompare(V.name);break;case"date":F=new Date(L.uploadedAt).getTime()-new Date(V.uploadedAt).getTime();break;case"size":F=L.size-V.size;break}return m==="asc"?F:-F});return u.jsxs("div",{className:"file-library",children:[u.jsx("div",{className:"fl-header",children:u.jsxs("div",{className:"fl-header-content",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"fl-title",children:e("knowledge.fileLibrary")}),u.jsx("p",{className:"fl-description",children:e("knowledge.fileLibraryDescription")})]}),u.jsx("div",{className:"webhook-mode-toggle",children:u.jsx("button",{onClick:Y,className:`mode-toggle-btn ${M?"dev-mode":"prod-mode"}`,children:M?"🔧 DEV Mode":"🚀 PROD Mode"})})]})}),u.jsx("div",{className:"fl-upload-section",children:u.jsxs("div",{className:`fl-upload-area ${o?"drag-active":""} ${n?"uploading":""}`,onDragEnter:ne,onDragLeave:ne,onDragOver:ne,onDrop:J,onClick:()=>{var L;return(L=t.current)==null?void 0:L.click()},children:[u.jsx("input",{ref:t,type:"file",multiple:!0,accept:".txt,.md,.json,.csv,.xml,.html,.css,.js,.ts,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",onChange:re,style:{display:"none"},disabled:n}),u.jsx("div",{className:"upload-content",children:n?u.jsxs("div",{className:"upload-loading",children:[u.jsx("div",{className:"spinner"}),u.jsx("p",{children:e("knowledge.uploadingFiles")})]}):u.jsxs("div",{className:"upload-prompt",children:[u.jsx("div",{className:"upload-icon",children:"↑"}),u.jsx("p",{className:"upload-text",children:e("knowledge.dragFilesHere")}),u.jsx("p",{className:"upload-formats",children:e("knowledge.supportedFormats")})]})})]})}),u.jsxs("div",{className:"fl-controls",children:[u.jsx("div",{className:"fl-search",children:u.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:d,onChange:L=>f(L.target.value),className:"search-input"})}),u.jsxs("button",{className:"refresh-btn",onClick:C,disabled:y,children:[u.jsx("span",{className:"refresh-icon",children:"↻"}),y?e("knowledge.loading")||"Loading...":e("knowledge.refresh")]})]}),b&&u.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:b}),u.jsx("div",{className:"fl-table-container",children:y?u.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[u.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading files from n8n..."]}):u.jsxs("table",{className:"fl-table",style:{width:"100%",minWidth:"900px"},children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{style:{width:"30%",minWidth:"200px"},children:e("knowledge.fileName")}),u.jsx("th",{style:{width:"10%",minWidth:"80px"},children:e("knowledge.size")}),u.jsx("th",{style:{width:"15%",minWidth:"150px"},children:e("knowledge.lastModified")}),u.jsx("th",{style:{width:"15%",minWidth:"120px"},children:e("knowledge.contentType")}),u.jsx("th",{style:{width:"10%",minWidth:"100px",textAlign:"center"},children:e("knowledge.syncStatus")}),u.jsx("th",{style:{width:"20%",minWidth:"150px",textAlign:"right",paddingRight:"16px"},children:e("knowledge.actions")})]})}),u.jsx("tbody",{children:X.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"40px",color:"#666"},children:b?"Failed to load files":"No files found. Upload some files to get started."})}):X.map(L=>u.jsxs("tr",{children:[u.jsx("td",{className:"file-name",style:{wordBreak:"break-word"},children:L.name}),u.jsx("td",{style:{whiteSpace:"nowrap"},children:CR(L.size)}),u.jsx("td",{style:{whiteSpace:"nowrap"},children:new Date(L.uploadedAt).toLocaleString()}),u.jsx("td",{style:{wordBreak:"break-word"},children:L.type}),u.jsx("td",{className:"sync-status-cell",style:{whiteSpace:"nowrap"},children:u.jsx("span",{style:{color:L.syncStatus==="synced"?"#10b981":"#f59e0b",fontWeight:L.syncStatus==="pending"?"bold":"normal",fontSize:"14px"},children:L.syncStatus==="synced"?"✓ Synced":"⚠ Not Indexed"})}),u.jsx("td",{style:{textAlign:"right",paddingRight:"16px"},children:u.jsxs("div",{className:"file-actions",style:{justifyContent:"flex-end"},children:[L.syncStatus==="pending"&&u.jsx("button",{className:"icon-action-btn index-btn",title:"Index this file",onClick:()=>H(L.name),disabled:S===L.name,style:{backgroundColor:"var(--admin-primary, #3b82f6)",color:"white",borderColor:"var(--admin-primary, #3b82f6)"},children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),u.jsx("button",{className:"icon-action-btn",title:e("knowledge.download"),onClick:()=>A(L.name),children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})}),u.jsx("button",{className:"icon-action-btn delete-icon-btn",title:e("knowledge.delete"),onClick:()=>Z(L.id,L.name),children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("polyline",{points:"3 6 5 6 21 6"}),u.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},L.id))})]})}),u.jsx(Ase,{toasts:k,removeToast:B})]})},bce=()=>{const{t:e}=rt(),[t,n]=x.useState(""),[r,i]=x.useState(1),[a,o]=x.useState(50),[s,l]=x.useState(0),[c,d]=x.useState([]),[f,h]=x.useState(!1),[p,m]=x.useState(null),[g,y]=x.useState(null),[v,b]=x.useState(null),[w,S]=x.useState(!1),[j,k]=x.useState(null),[_,N]=x.useState(""),[O,E]=x.useState(new Set);x.useEffect(()=>{T()},[r,a]);const T=async()=>{var J;h(!0),m(null);try{const X=(r-1)*500;console.log(`🔄 Loading documents from Supabase (Page ${r}, 500 items, offset: ${X})...`),console.log("⏰ Current time:",new Date().toISOString());const L=await sw(500,X);if(console.log("📋 Raw response:",L),console.log("📊 Total documents found:",L.total||0),console.log("📄 Documents array length:",((J=L.documents)==null?void 0:J.length)||0),L.documents&&L.documents.length>0&&(console.log("📅 Document creation times:"),L.documents.forEach((V,F)=>{console.log(`  ${F+1}. ID: ${V.id}, Created: ${V.created_at||"N/A"}, Metadata:`,V.metadata)})),L.success){const{fetchFilesFromSupabase:V}=await Wr(()=>Promise.resolve().then(()=>xce),void 0),F=await V(),he=new Set((F.files||[]).map(Ee=>Ee.name.toLowerCase())),ce=L.documents.map(Ee=>{var jr,K,le,pe;const De=Ee.metadata||{};let Zt="Unknown";De.fileName?Zt=De.fileName:De.source&&De.source!=="blob"?Zt=De.source:(K=(jr=De.pdf)==null?void 0:jr.info)!=null&&K.Title?Zt=De.pdf.info.Title:De.blobType&&(Zt=`document.${De.blobType.split("/")[1]||"pdf"}`);let Sr="";(le=De.loc)!=null&&le.lines?Sr=`Lines ${De.loc.lines.from}-${De.loc.lines.to}`:(pe=De.loc)!=null&&pe.pageNumber&&(Sr=`Page ${De.loc.pageNumber}`);const ji=he.has(Zt.toLowerCase())?"synced":"orphaned";return{id:Ee.id.toString(),fileName:Zt,source:De.source||"blob",chunkIndex:De.chunkIndex||0,content:Ee.content,pageInfo:Sr,syncStatus:ji,createdAt:Ee.created_at||new Date().toISOString(),metadata:De}}),ke={};ce.forEach(Ee=>{ke[Ee.fileName]=(ke[Ee.fileName]||0)+1});const Pe={};ce.forEach(Ee=>{Pe[Ee.fileName]||(Pe[Ee.fileName]=0),Pe[Ee.fileName]++,Ee.chunkInfo=`${Pe[Ee.fileName]} of ${ke[Ee.fileName]}`}),d(ce),l(L.total),console.log(`✅ Loaded ${ce.length} documents from Supabase`)}else m(L.message||"Failed to load documents"),console.error("Failed to load documents:",L.message)}catch(re){m("Failed to connect to Supabase. Please check your configuration."),console.error("Error loading documents:",re)}finally{h(!1)}},M=()=>{console.log("🔄 Manual refresh triggered by user"),N(new Date().toLocaleTimeString()),i(1),T()},$=J=>{y(J)},I=async J=>{b(J);try{const re=await lw(J);re.success?(alert(`✅ ${re.message}`),T()):alert(`❌ ${re.message}`)}catch(re){alert(`❌ Error indexing file: ${re}`)}finally{b(null)}},z=async J=>{if(confirm(`⚠️ Are you sure you want to unindex all chunks for "${J}"? This will remove ALL chunks for this file.`)){b(J);try{const re=await AR(J);re.success?(alert(`✅ ${re.message} (${re.deletedCount||0} chunks removed)`),T()):alert(`❌ ${re.message}`)}catch(re){alert(`❌ Error unindexing file: ${re}`)}finally{b(null)}}},B=J=>{E(re=>{const X=new Set(re);return X.has(J)?X.delete(J):X.add(J),X})},Y=c.filter(J=>J.fileName.toLowerCase().includes(t.toLowerCase())||J.source.toLowerCase().includes(t.toLowerCase())||J.content.toLowerCase().includes(t.toLowerCase())),D=Y.reduce((J,re)=>(J[re.fileName]||(J[re.fileName]=[]),J[re.fileName].push(re),J),{}),R=Object.keys(D).length,C=20,Z=Math.ceil(R/C),H=Object.entries(D),A=(r-1)*C,U=A+C,Q=H.slice(A,U),ne=Object.fromEntries(Q);return u.jsxs("div",{className:"knowledge-index",children:[u.jsxs("div",{className:"ki-header",children:[u.jsx("h2",{className:"ki-title",children:e("knowledge.knowledgeIndex")}),u.jsx("p",{className:"ki-description",children:e("knowledge.knowledgeIndexDescription")})]}),u.jsxs("div",{className:"ki-controls",children:[u.jsx("div",{className:"ki-search",children:u.jsx("input",{type:"text",placeholder:e("knowledge.searchByTitleFilepathContent"),value:t,onChange:J=>n(J.target.value),className:"search-input"})}),u.jsxs("div",{className:"ki-pagination-info",children:[u.jsxs("span",{children:["Total: ",s.toLocaleString()," chunks in ",R," files"]}),u.jsxs("span",{children:["Showing ",Object.keys(ne).length," files (Page ",r," of ",Z||1,")"]})]}),u.jsxs("div",{className:"ki-navigation",children:[u.jsx("button",{className:"nav-btn prev-btn",disabled:r===1,onClick:()=>i(J=>Math.max(1,J-1)),children:e("knowledge.previous")}),u.jsx("button",{className:"nav-btn next-btn",disabled:r===Z,onClick:()=>i(J=>Math.min(Z,J+1)),children:e("knowledge.next")})]}),u.jsxs("button",{className:"refresh-btn",onClick:M,disabled:f,children:[u.jsx("span",{className:"refresh-icon",children:"↻"}),f?"Loading...":e("knowledge.refresh"),_&&u.jsxs("span",{style:{fontSize:"0.8em",opacity:.7,marginLeft:"8px"},children:["(Last: ",_,")"]})]})]}),u.jsxs("div",{style:{backgroundColor:"var(--admin-bg-secondary)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"0.9em"},children:[u.jsx("strong",{children:"🔍 Debug Info:"})," Total: ",s," chunks (",R," unique files) | Loaded: ",c.length," chunks | Showing: ",Object.keys(ne).length," files on this page | Last Refresh: ",_||"Never"," |",u.jsx("button",{onClick:()=>{console.log("📊 Current documents state:",c),console.log("📊 Filtered documents:",Y)},style:{marginLeft:"8px",padding:"2px 6px",fontSize:"0.8em"},children:"Log State"})]}),p&&u.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:p}),u.jsx("div",{className:"ki-table-container",children:f?u.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[u.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading documents..."]}):u.jsxs("table",{className:"ki-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"File Name"}),u.jsx("th",{children:"Chunk"}),u.jsx("th",{children:"Location"}),u.jsx("th",{children:"Content Preview"}),u.jsx("th",{children:"Sync Status"}),u.jsx("th",{children:"Created"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:Y.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"40px",color:"#666"},children:p?"Failed to load documents":"No documents found. Upload and index files to see them here."})}):Object.entries(ne).map(([J,re])=>{const X=O.has(J),L=re[0],V=re.length;return u.jsxs(oi.Fragment,{children:[u.jsxs("tr",{onClick:()=>B(J),style:{cursor:"pointer",backgroundColor:X?"rgba(59, 230, 255, 0.1)":void 0,fontWeight:X?"500":"normal"},children:[u.jsx("td",{className:"doc-title",title:J,style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[u.jsx("span",{style:{fontSize:"12px",color:"var(--admin-primary)"},children:X?"▼":"▶"}),J]})}),u.jsxs("td",{className:"doc-chunk-index",style:{color:"var(--admin-primary)",fontWeight:"600"},children:[V," ",V===1?"chunk":"chunks"]}),u.jsx("td",{className:"doc-page-info",children:L.pageInfo||"-"}),u.jsxs("td",{className:"doc-content",title:L.content,style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[L.content.substring(0,100),"..."]}),u.jsx("td",{children:u.jsx("span",{style:{color:L.syncStatus==="synced"?"#10b981":"#f59e0b",fontSize:"14px"},children:L.syncStatus==="synced"?"Synced":"Orphaned"})}),u.jsx("td",{style:{fontSize:"13px",color:"var(--admin-text-muted)"},children:L.createdAt?new Date(L.createdAt).toLocaleDateString():"-"}),u.jsx("td",{onClick:F=>F.stopPropagation(),children:u.jsxs("div",{className:"file-actions",children:[u.jsx("button",{className:"icon-action-btn",title:"View details",onClick:()=>$(L),children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),u.jsx("button",{className:"icon-action-btn delete-icon-btn",title:"Unindex all chunks",onClick:()=>z(J),disabled:v===J,children:u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("polyline",{points:"3 6 5 6 21 6"}),u.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]}),X&&re.map((F,he)=>u.jsxs("tr",{style:{backgroundColor:"rgba(9, 14, 34, 0.3)"},children:[u.jsxs("td",{style:{paddingLeft:"40px",fontSize:"13px",color:"var(--admin-text-muted)"},children:["└ Chunk ",he+1]}),u.jsx("td",{className:"doc-chunk-index",children:F.chunkInfo||`${he+1} of ${V}`}),u.jsx("td",{className:"doc-page-info",children:F.pageInfo||"-"}),u.jsxs("td",{className:"doc-content",title:F.content,style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"13px"},children:[F.content.substring(0,100),"..."]}),u.jsx("td",{children:u.jsx("span",{style:{color:F.syncStatus==="synced"?"#10b981":"#f59e0b",fontSize:"13px"},children:F.syncStatus==="synced"?"Synced":"Orphaned"})}),u.jsx("td",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:F.createdAt?new Date(F.createdAt).toLocaleDateString():"-"}),u.jsx("td",{children:u.jsx("button",{className:"icon-action-btn",title:"View this chunk",onClick:()=>$(F),style:{fontSize:"12px"},children:u.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),u.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})})]},F.id))]},J)})})]})}),g&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>y(null),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:J=>J.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"Content Preview"}),u.jsx("button",{onClick:()=>y(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:"✕"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"File Name:"}),u.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.fileName})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Chunk:"}),u.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.chunkInfo||"1 of 1"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Source:"}),u.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.source})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Location:"}),u.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.pageInfo||"N/A"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Document ID:"}),u.jsx("span",{className:"ml-2 font-mono text-xs",style:{color:"var(--admin-text-muted)"},children:g.id})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Sync Status:"}),u.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.syncStatus==="synced"?"Synced":"Pending"})]})]})}),g.metadata&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Metadata"}),u.jsx("div",{className:"p-4 rounded-lg border-2 font-mono text-sm",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)",color:"var(--admin-text)",maxHeight:"200px",overflowY:"auto"},children:u.jsx("pre",{children:JSON.stringify(g.metadata,null,2)})})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Content"}),u.jsx("div",{className:"p-4 rounded-lg border-2 font-mono text-sm whitespace-pre-wrap",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)",color:"var(--admin-text)",maxHeight:"400px",overflowY:"auto"},children:g.content})]})]}),u.jsx("div",{className:"flex justify-center mt-6",children:u.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})}),w&&j&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>S(!1),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:J=>J.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"📊 File Metadata & Chunk Information"}),u.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:"✕"})]}),u.jsx("div",{className:"space-y-6",children:Object.values(j).map(J=>u.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h4",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["📄 ",J.fileName]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)"},children:[J.chunkCount," chunks"]}),u.jsx("button",{onClick:()=>I(J.fileName),disabled:v===J.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:v===J.fileName?"#6b7280":"#10b981",color:"white"},children:v===J.fileName?"⏳ Indexing...":"📤 Index"}),u.jsx("button",{onClick:()=>z(J.fileName),disabled:v===J.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:v===J.fileName?"#6b7280":"#ef4444",color:"white"},children:v===J.fileName?"⏳ Unindexing...":"🗑️ Unindex"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.chunks.map((re,X)=>u.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)"},children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["Chunk #",re.chunkIndex]}),u.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["ID: ",re.id]})]}),u.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Source: ",re.source]}),u.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Location: ",re.pageInfo||"N/A"]}),u.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Status: ",u.jsx("span",{className:"sync-status-text",children:re.syncStatus==="synced"?"Synced":"Pending"})]}),u.jsxs("div",{className:"text-xs font-mono",style:{color:"var(--admin-text-muted)",maxHeight:"60px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:[re.content.substring(0,100),"..."]})]})},re.id))})]},J.fileName))}),u.jsx("div",{className:"flex justify-center mt-6",children:u.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})};const wce=()=>{const{t:e}=rt(),{theme:t}=io(),[n,r]=x.useState("file-library"),i=[{id:"file-library",label:e("knowledge.fileLibrary")},{id:"knowledge-index",label:e("knowledge.knowledgeIndex")}],a=()=>{switch(n){case"file-library":return u.jsx(y_,{});case"knowledge-index":return u.jsx(bce,{});default:return u.jsx(y_,{})}};return u.jsxs("div",{className:"knowledge-management","data-theme":t,children:[u.jsx("div",{className:"km-header",children:u.jsxs("div",{className:"km-title-section",children:[u.jsx("h1",{className:"km-title",children:e("knowledge.title")}),u.jsx("p",{className:"km-subtitle",children:e("knowledge.subtitle")})]})}),u.jsx("div",{className:"km-tabs",children:i.map(o=>u.jsx("button",{className:`km-tab ${n===o.id?"active":""}`,onClick:()=>r(o.id),children:o.label},o.id))}),u.jsx("div",{className:"km-content",children:a()})]})},kce="1X5lAcD0uJVtmbEdPjnP6XlesS3pzsmd_",Sce="608001025",v_=`https://docs.google.com/spreadsheets/d/${kce}/export?format=csv&gid=${Sce}`;async function jce(e="simple"){try{console.log("🔄 Fetching from Google Sheets:",v_);const t=await fetch(v_,{cache:"no-store",mode:"cors"});if(console.log("📊 Response status:",t.status),!t.ok)throw new Error(`Sheets CSV fetch failed: ${t.status}`);const n=await t.text();console.log("📄 CSV data received, length:",n.length);const r=n.split(`
`).filter(s=>s.trim());if(r.length===0)return console.log("⚠️ No data in CSV, using dummy data"),eg();const i=r[0].split(",").map(s=>s.trim().replace(/"/g,""));console.log("📋 Headers found:",i);const a=[];for(let s=1;s<r.length;s++){const l=r[s].split(",").map(c=>c.trim().replace(/"/g,""));if(l.length>=i.length&&l[0]){const c={};i.forEach((f,h)=>{c[f]=l[h]||""});const d={Date:String(c.Date||c.date||"").slice(0,10),Toxicity:Number(c.Toxicity||0),"Prompt Injection":Number(c["Prompt Injection"]||c.PromptInjection||0),"Answer Correctness":Number(c["Answer Correctness"]||c.Correctness||0),"Answer Relevancy":Number(c["Answer Relevancy"]||c.Relevancy||0),Length:Number(c.Length||0),Tone:Number(c.Tone||0),isSimulated:!1};d.Date&&d.Date!=="0000-00-00"&&a.push(d)}}const o=a.sort((s,l)=>s.Date.localeCompare(l.Date));return o.length===0?(console.log("⚠️ No valid rows found, using dummy data"),eg()):(console.log("✅ Successfully loaded",o.length,"real rows from Google Sheets"),o.length<30?(console.log(`📅 Adding estimated data with ${e} mode`),Cce(o,e)):o)}catch(t){return console.error("❌ Failed to fetch Google Sheets data:",t),console.log("🔄 Using dummy data instead"),eg()}}function Cce(e,t){const n=[],r=new Date;r.setHours(0,0,0,0);let i=r;if(e.length>0){const s=new Date(e[e.length-1].Date);i=s<r?s:r}for(let s=29;s>=0;s--){const c=new Date(i.getTime()-s*24*60*60*1e3).toISOString().split("T")[0],d=e.find(f=>f.Date===c);if(d)n.push(d);else{const f=e[e.length-1]||Nce();let h;switch(t){case"simple":h=x_(f,c);break;case"improved":h=_ce(f,c,s);break;case"realistic":h=Ece(f,c,s);break;default:h=x_(f,c)}n.push(h)}}const a=n.filter(s=>s.isSimulated).length,o=n.filter(s=>!s.isSimulated).length;return console.log(`📈 Generated data (${t}): ${o} real + ${a} simulated = ${n.length} total`),n.sort((s,l)=>s.Date.localeCompare(l.Date))}function x_(e,t){const n=(Math.random()-.5)*.1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+n)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+n)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+n)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+n)),Length:Math.max(0,Math.min(1,e.Length+n)),Tone:Math.max(0,Math.min(1,e.Tone+n)),isSimulated:!0}}function _ce(e,t,n){const r=(Math.random()-.5)*.08,i=Math.sin(n/7*Math.PI)*.02,a=r+i;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+a*.5)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+a*.5)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+a)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+a)),Length:Math.max(0,Math.min(1,e.Length+a*1.2)),Tone:Math.max(0,Math.min(1,e.Tone+a*1.2)),isSimulated:!0}}function Ece(e,t,n){const i=1-Math.abs(n-29)*.005,a=(Math.random()-.5)*.03,o=(Math.random()-.5)*.06,s=(Math.random()-.5)*.1,c=new Date(t).getDay(),d=c===0||c===6?.95:1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity*i*d+a)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]*i*d+a)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]*i*d+o)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]*i*d+o)),Length:Math.max(0,Math.min(1,e.Length*i+s)),Tone:Math.max(0,Math.min(1,e.Tone*i+s)),isSimulated:!0}}function Nce(){return{Date:"",Toxicity:.8,"Prompt Injection":.85,"Answer Correctness":.8,"Answer Relevancy":.85,Length:.7,Tone:.75,isSimulated:!1}}function eg(){console.log("🎲 Generating dummy radar data...");const e=[],t=new Date;t.setHours(0,0,0,0);for(let n=30;n>=0;n--){const i=new Date(t.getTime()-n*24*60*60*1e3).toISOString().split("T")[0];e.push({Date:i,Toxicity:Math.random()*.3+.7,"Prompt Injection":Math.random()*.2+.8,"Answer Correctness":Math.random()*.2+.8,"Answer Relevancy":Math.random()*.15+.85,Length:Math.random()*.3+.7,Tone:Math.random()*.25+.75,isSimulated:!0})}return console.log("✅ Generated",e.length,"dummy rows"),e}function Pce(e,t){return t?e:e.filter(n=>!n.isSimulated)}function Ku(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function b_(){const e=$n(),[t]=e4(),n=ro(),{theme:r}=io(),{t:i}=rt(),[a,o]=x.useState(!1),[,s]=x.useState(""),[,l]=x.useState(""),[c,d]=x.useState([]),[f,h]=x.useState(""),[p,m]=x.useState(!0),[g,y]=x.useState("simple"),[v,b]=x.useState(null),[w,S]=x.useState(null),[j,k]=x.useState(0),[_,N]=x.useState(0),[O,E]=x.useState(0),T=new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});x.useEffect(()=>{const H=new Date,A=new Date;A.setDate(H.getDate()-6),s(Ku(A)),l(Ku(H)),$(),M()},[]);const M=async()=>{try{const H=await Lf(1e3);k(H.length);const A=await Va();if(A.length>0){const ne=A.filter(J=>J.reaction==="good").length/A.length*100;N(Math.round(ne*10)/10)}else N(0);const U=await sw();U.success&&E(U.total),console.log("✅ Metrics loaded:",{conversations:H.length,satisfaction:_,documents:U.total})}catch(H){console.error("❌ Failed to load metrics:",H)}};x.useEffect(()=>{$()},[g]);const $=async()=>{try{console.log("📊 Loading Google Sheets data for Performance Timeline...");const H=await jce(g);d(H),H.length>0&&h(H[H.length-1].Date),console.log("✅ Loaded",H.length,"days of performance data")}catch(H){console.error("❌ Failed to load radar data:",H)}},I=Pce(c,p),z=I.find(H=>H.Date===f)||I[I.length-1],B=z?{relevance:Math.round(z["Answer Relevancy"]*100),tone:Math.round(z.Tone*100),length:Math.round(z.Length*100),accuracy:Math.round(z["Answer Correctness"]*100),toxicity:Math.round(z.Toxicity*100),promptInjection:Math.round(z["Prompt Injection"]*100)}:{relevance:85,tone:78,length:82,accuracy:92,toxicity:95,promptInjection:88},Y=Math.round((B.relevance+B.tone+B.length+B.accuracy+B.toxicity+B.promptInjection)/6);x.useEffect(()=>{const H=t.get("section");H&&setTimeout(()=>{C(H)},500)},[t]);const D=()=>{try{qa()}catch{}localStorage.removeItem("authToken"),sessionStorage.removeItem("axAccess"),e("/",{replace:!0})},R=()=>{o(!a)},C=H=>{const A=document.getElementById(H);A&&A.scrollIntoView({behavior:"smooth",block:"start"})},Z=H=>{S(H),b(H);const A=document.getElementById("recent-conversations");A&&A.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{b(null)},3e3)};return u.jsx("div",{className:"admin-layout","data-theme":r,children:u.jsxs("div",{className:"dashboard-layout",children:[u.jsx(mse,{performanceScore:Y,performanceDate:Ku(new Date),currentTime:T,onSignOut:D}),u.jsxs("div",{className:"dashboard-content",children:[u.jsx(gse,{conversations:j,satisfaction:_,documents:O,performanceScore:Y,performanceDate:Ku(new Date),isCollapsed:a,onToggleCollapse:R,onScrollToSection:C}),u.jsx("main",{className:"dashboard-main",children:n.pathname==="/admin/knowledge-management"?u.jsx(wce,{}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"dashboard-grid",children:u.jsx("div",{className:"grid-left",children:u.jsx("div",{id:"performance-radar",children:u.jsx(xse,{...B,timelineData:I,selectedDate:f,onDateChange:h,includeSimulatedData:p,onIncludeSimulatedDataChange:m,estimationMode:g,onEstimationModeChange:y})})})}),u.jsxs("div",{className:"content-module",children:[u.jsx("div",{id:"daily-message-activity",className:"content-section",children:u.jsx(wse,{})}),u.jsxs("div",{id:"recent-conversations",className:"content-section",children:[u.jsx("h2",{className:"section-title",children:i("admin.recentConversations")}),u.jsx(Ese,{scrollToChatId:w,highlightedChatId:v,onScrollComplete:()=>S(null)})]}),u.jsxs("div",{id:"admin-feedback",className:"content-section",children:[u.jsx("h2",{className:"section-title",children:"Admin Feedback"}),u.jsx(Pse,{onScrollToChat:Z})]}),u.jsxs("div",{id:"user-feedback",className:"content-section",children:[u.jsx("h2",{className:"section-title",children:i("admin.userFeedback")}),u.jsx(Nse,{onScrollToChat:Z})]}),u.jsxs("div",{id:"prompt-control",className:"content-section",children:[u.jsx("h2",{className:"section-title",children:i("admin.promptControl")}),u.jsx(_se,{})]})]})]})})]})]})})}function Oce(){const[e,t]=x.useState(!1);x.useEffect(()=>{const r=()=>{const a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=[".admin-dashboard-content",".dashboard-content",".knowledge-management-container","main",".main-content"];let s=a;o.forEach(l=>{const c=document.querySelector(l);c&&c.scrollTop>s&&(s=c.scrollTop)}),t(s>200)};r();const i=setInterval(r,500);return window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("scroll",r,!0),clearInterval(i)}},[]);const n=()=>{const r=[".admin-dashboard-content",".dashboard-content",".knowledge-management-container","main",".main-content",'[class*="content"]'];let i=!1;for(const a of r){const o=document.querySelector(a);if(o&&o.scrollTop>0){o.scrollTo({top:0,behavior:"smooth"}),i=!0;break}}i||window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{document.documentElement.scrollTop=0,document.body.scrollTop=0,r.forEach(a=>{const o=document.querySelector(a);o&&(o.scrollTop=0)})},100)};return e?u.jsx("button",{onClick:n,style:{position:"fixed",bottom:"100px",right:"32px",width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"var(--admin-primary, #3b82f6)",color:"#ffffff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",transition:"all 0.3s ease",zIndex:99999,opacity:.9},onMouseEnter:r=>{r.currentTarget.style.opacity="1",r.currentTarget.style.transform="translateY(-4px)",r.currentTarget.style.boxShadow="0 8px 20px rgba(59, 130, 246, 0.4)"},onMouseLeave:r=>{r.currentTarget.style.opacity="0.9",r.currentTarget.style.transform="translateY(0)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.3)"},"aria-label":"Scroll to top",title:"Scroll to top",children:u.jsx(pse,{size:24})}):null}const tg=()=>{const e=Gt();if(e)try{const t=localStorage.getItem("axpro_user_settings");if(t&&JSON.parse(t)[e.userId]){console.log("User already has settings, skipping migration");return}console.log("Migrating global settings to user-specific settings for:",e.email);const n=JSON.parse(localStorage.getItem("axpro_n8n_configs")||"[]"),r=localStorage.getItem("axpro_active_n8n_config")||"",i=localStorage.getItem("axpro_supabase_url")||"",a=localStorage.getItem("axpro_supabase_anon_key")||"",o=JSON.parse(localStorage.getItem("axpro_api_configs")||"[]"),s=JSON.parse(localStorage.getItem("axpro_ui_customization")||"{}");let l;e.userId==="seokhoon_kang_001"||e.email==="hana@tecace.com"?l={userId:e.userId,email:e.email,n8nConfigs:[{id:"seokhoon_default",name:"SeokHoon Kang Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/63647efd-8c39-42d5-8e1f-b465d62091c6",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"seokhoon_default",supabaseConfig:{url:"https://oomjruguisqdahcrvfws.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9vbWpydWd1aXNxZGFoY3J2ZndzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEwNjAxNTUsImV4cCI6MjA3NjYzNjE1NX0.gPLhFgvyCXozmUwbdNDTRp2_-pDH4rHQCJuyPotR8Vo"},apiConfigs:o,uiCustomization:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:e.userId==="409esj1923"||e.email==="chatbot-admin@tecace.com"?l={userId:e.userId,email:e.email,n8nConfigs:[{id:"admin_default",name:"Admin Default Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"admin_default",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"},apiConfigs:o,uiCustomization:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:e.userId==="user123456"||e.email==="chatbot-user@tecace.com"?l={userId:e.userId,email:e.email,n8nConfigs:[{id:"regular_user_default",name:"Regular User Webhook (Admin)",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],activeN8nConfigId:"regular_user_default",supabaseConfig:{url:"https://qpyteahuynkgkbmdasbv.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY"},apiConfigs:o,uiCustomization:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:l={userId:e.userId,email:e.email,n8nConfigs:n,activeN8nConfigId:r,supabaseConfig:{url:i,anonKey:a},apiConfigs:o,uiCustomization:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},rh(l),console.log("Successfully migrated settings for user:",e.email)}catch(t){console.error("Failed to migrate settings:",t)}},Ace=()=>{const e=Gt();if(!e)return;const t=localStorage.getItem("axpro_user_settings");if(!t){tg();return}try{JSON.parse(t)[e.userId]||tg()}catch(n){console.error("Failed to check migration status:",n),tg()}},qr=({children:e,requiredRole:t})=>jx(t)?u.jsx(u.Fragment,{children:e}):u.jsx(V2,{to:"/",replace:!0}),Tce=()=>(x.useEffect(()=>{Ace()},[]),u.jsx(t4,{children:u.jsx(r4,{children:u.jsx(Z$,{children:u.jsxs("div",{className:"App",children:[u.jsx(Oce,{}),u.jsxs(Y$,{children:[u.jsx(Hn,{path:"/",element:u.jsx(l4,{})}),u.jsx(Hn,{path:"/chat",element:u.jsx(qr,{requiredRole:"user",children:u.jsx(Gk,{})})}),u.jsx(Hn,{path:"/chat/:sessionId",element:u.jsx(qr,{requiredRole:"user",children:u.jsx(Gk,{})})}),u.jsx(Hn,{path:"/dashboard",element:u.jsx(qr,{requiredRole:"admin",children:u.jsx(dW,{})})}),u.jsx(Hn,{path:"/settings",element:u.jsx(qr,{requiredRole:"user",children:u.jsx(fW,{})})}),u.jsx(Hn,{path:"/admin/dashboard",element:u.jsx(qr,{requiredRole:"admin",children:u.jsx(b_,{})})}),u.jsx(Hn,{path:"/admin",element:u.jsx(qr,{requiredRole:"admin",children:u.jsx(Jm,{})})}),u.jsx(Hn,{path:"/admin/usage",element:u.jsx(qr,{requiredRole:"admin",children:u.jsx(Jm,{})})}),u.jsx(Hn,{path:"/admin/prompt",element:u.jsx(qr,{requiredRole:"admin",children:u.jsx(Jm,{})})}),u.jsx(Hn,{path:"/admin/knowledge-management",element:u.jsx(qr,{requiredRole:"admin",children:u.jsx(b_,{})})}),u.jsx(Hn,{path:"*",element:u.jsx(V2,{to:"/",replace:!0})})]})]})})})}));ng.createRoot(document.getElementById("root")).render(u.jsx(oi.StrictMode,{children:u.jsx(Tce,{})}));export{nz as c};
