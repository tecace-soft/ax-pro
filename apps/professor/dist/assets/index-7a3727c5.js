var kR=Object.defineProperty;var SR=(e,t,n)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ru=(e,t,n)=>(SR(e,typeof t!="symbol"?t+"":t,n),n);function jR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _R(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var pC={exports:{}},zf={},mC={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=Symbol.for("react.element"),CR=Symbol.for("react.portal"),ER=Symbol.for("react.fragment"),PR=Symbol.for("react.strict_mode"),OR=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),AR=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),IR=Symbol.for("react.suspense"),DR=Symbol.for("react.memo"),RR=Symbol.for("react.lazy"),nw=Symbol.iterator;function MR(e){return e===null||typeof e!="object"?null:(e=nw&&e[nw]||e["@@iterator"],typeof e=="function"?e:null)}var gC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,yC={};function gs(e,t,n){this.props=e,this.context=t,this.refs=yC,this.updater=n||gC}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xC(){}xC.prototype=gs.prototype;function jy(e,t,n){this.props=e,this.context=t,this.refs=yC,this.updater=n||gC}var _y=jy.prototype=new xC;_y.constructor=jy;vC(_y,gs.prototype);_y.isPureReactComponent=!0;var rw=Array.isArray,bC=Object.prototype.hasOwnProperty,Cy={current:null},wC={key:!0,ref:!0,__self:!0,__source:!0};function kC(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)bC.call(t,r)&&!wC.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:yc,type:e,key:a,ref:o,props:i,_owner:Cy.current}}function LR(e,t){return{$$typeof:yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ey(e){return typeof e=="object"&&e!==null&&e.$$typeof===yc}function $R(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var iw=/\/+/g;function Sp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$R(""+e.key):t.toString(36)}function Gu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yc:case CR:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Sp(o,0):r,rw(i)?(n="",e!=null&&(n=e.replace(iw,"$&/")+"/"),Gu(i,t,n,"",function(c){return c})):i!=null&&(Ey(i)&&(i=LR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iw,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",rw(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+Sp(a,s);o+=Gu(a,t,n,l,i)}else if(l=MR(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+Sp(a,s++),o+=Gu(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(e,t,n){if(e==null)return e;var r=[],i=0;return Gu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function FR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Yu={transition:null},UR={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:Cy};function SC(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:iu,forEach:function(e,t,n){iu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return iu(e,function(){t++}),t},toArray:function(e){return iu(e,function(t){return t})||[]},only:function(e){if(!Ey(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=gs;ye.Fragment=ER;ye.Profiler=OR;ye.PureComponent=jy;ye.StrictMode=PR;ye.Suspense=IR;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;ye.act=SC;ye.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Cy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)bC.call(t,l)&&!wC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:yc,type:e.type,key:i,ref:a,props:r,_owner:o}};ye.createContext=function(e){return e={$$typeof:AR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NR,_context:e},e.Consumer=e};ye.createElement=kC;ye.createFactory=function(e){var t=kC.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:TR,render:e}};ye.isValidElement=Ey;ye.lazy=function(e){return{$$typeof:RR,_payload:{_status:-1,_result:e},_init:FR}};ye.memo=function(e,t){return{$$typeof:DR,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Yu.transition;Yu.transition={};try{e()}finally{Yu.transition=t}};ye.unstable_act=SC;ye.useCallback=function(e,t){return Yt.current.useCallback(e,t)};ye.useContext=function(e){return Yt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Yt.current.useEffect(e,t)};ye.useId=function(){return Yt.current.useId()};ye.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};ye.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Yt.current.useMemo(e,t)};ye.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};ye.useRef=function(e){return Yt.current.useRef(e)};ye.useState=function(e){return Yt.current.useState(e)};ye.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};ye.useTransition=function(){return Yt.current.useTransition()};ye.version="18.3.1";mC.exports=ye;var x=mC.exports;const Wi=Nn(x),jC=jR({__proto__:null,default:Wi},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR=x,BR=Symbol.for("react.element"),WR=Symbol.for("react.fragment"),KR=Object.prototype.hasOwnProperty,qR=zR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HR={key:!0,ref:!0,__self:!0,__source:!0};function _C(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)KR.call(t,r)&&!HR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:BR,type:e,key:a,ref:o,props:i,_owner:qR.current}}zf.Fragment=WR;zf.jsx=_C;zf.jsxs=_C;pC.exports=zf;var d=pC.exports,Zm={},CC={exports:{}},An={},EC={exports:{}},PC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,U){var _=T.length;T.push(U);e:for(;0<_;){var J=_-1>>>1,D=T[J];if(0<i(D,U))T[J]=U,T[_]=D,_=J;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var U=T[0],_=T.pop();if(_!==U){T[0]=_;e:for(var J=0,D=T.length,E=D>>>1;J<E;){var ee=2*(J+1)-1,te=T[ee],oe=ee+1,me=T[oe];if(0>i(te,_))oe<D&&0>i(me,te)?(T[J]=me,T[oe]=_,J=oe):(T[J]=te,T[ee]=_,J=ee);else if(oe<D&&0>i(me,_))T[J]=me,T[oe]=_,J=oe;else break e}}return U}function i(T,U){var _=T.sortIndex-U.sortIndex;return _!==0?_:T.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=T)r(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(c)}}function S(T){if(g=!1,w(T),!m)if(n(l)!==null)m=!0,W(j);else{var U=n(c);U!==null&&$(S,U.startTime-T)}}function j(T,U){m=!1,g&&(g=!1,v(N),N=-1),p=!0;var _=h;try{for(w(U),f=n(l);f!==null&&(!(f.expirationTime>U)||T&&!I());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var D=J(f.expirationTime<=U);U=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(U)}else r(l);f=n(l)}if(f!==null)var E=!0;else{var ee=n(c);ee!==null&&$(S,ee.startTime-U),E=!1}return E}finally{f=null,h=_,p=!1}}var k=!1,C=null,N=-1,O=5,P=-1;function I(){return!(e.unstable_now()-P<O)}function A(){if(C!==null){var T=e.unstable_now();P=T;var U=!0;try{U=C(!0,T)}finally{U?R():(k=!1,C=null)}}else k=!1}var R;if(typeof b=="function")R=function(){b(A)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=A,R=function(){z.postMessage(null)}}else R=function(){y(A,0)};function W(T){C=T,k||(k=!0,R())}function $(T,U){N=y(function(){T(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,W(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var _=h;h=U;try{return T()}finally{h=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,U){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var _=h;h=T;try{return U()}finally{h=_}},e.unstable_scheduleCallback=function(T,U,_){var J=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?J+_:J):_=J,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=_+D,T={id:u++,callback:U,priorityLevel:T,startTime:_,expirationTime:D,sortIndex:-1},_>J?(T.sortIndex=_,t(c,T),n(l)===null&&T===n(c)&&(g?(v(N),N=-1):g=!0,$(S,_-J))):(T.sortIndex=D,t(l,T),m||p||(m=!0,W(j))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var U=h;return function(){var _=h;h=U;try{return T.apply(this,arguments)}finally{h=_}}}})(PC);EC.exports=PC;var VR=EC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR=x,Cn=VR;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Ml={};function Ja(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(Ml[e]=t,e=0;e<t.length;e++)OC.add(t[e])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eg=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aw={},ow={};function JR(e){return eg.call(ow,e)?!0:eg.call(aw,e)?!1:YR.test(e)?ow[e]=!0:(aw[e]=!0,!1)}function XR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QR(e,t,n,r){if(t===null||typeof t>"u"||XR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Py=/[\-:]([a-z])/g;function Oy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Py,Oy);It[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Py,Oy);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Py,Oy);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ny(e,t,n,r){var i=It.hasOwnProperty(t)?It[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QR(t,n,i,r)&&(n=null),r||i===null?JR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ci=GR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),ko=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),AC=Symbol.for("react.context"),Ty=Symbol.for("react.forward_ref"),ng=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),Iy=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),TC=Symbol.for("react.offscreen"),sw=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=sw&&e[sw]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,jp;function ul(e){if(jp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jp=t&&t[1]||""}return`
`+jp+e}var _p=!1;function Cp(e,t){if(!e||_p)return"";_p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{_p=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ul(e):""}function ZR(e){switch(e.tag){case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return e=Cp(e.type,!1),e;case 11:return e=Cp(e.type.render,!1),e;case 1:return e=Cp(e.type,!0),e;default:return""}}function ig(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case So:return"Fragment";case ko:return"Portal";case tg:return"Profiler";case Ay:return"StrictMode";case ng:return"Suspense";case rg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AC:return(e.displayName||"Context")+".Consumer";case NC:return(e._context.displayName||"Context")+".Provider";case Ty:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iy:return t=e.displayName||null,t!==null?t:ig(e.type)||"Memo";case wi:t=e._payload,e=e._init;try{return ig(e(t))}catch{}}return null}function eM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ig(t);case 8:return t===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tM(e){var t=IC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){e._valueTracker||(e._valueTracker=tM(e))}function DC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=IC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ag(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RC(e,t){t=t.checked,t!=null&&Ny(e,"checked",t,!1)}function og(e,t){RC(e,t);var n=Ki(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sg(e,t.type,n):t.hasOwnProperty("defaultValue")&&sg(e,t.type,Ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function sg(e,t,n){(t!=="number"||vd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var dl=Array.isArray;function Mo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ki(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(dl(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ki(n)}}function MC(e,t){var n=Ki(t.value),r=Ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var su,$C=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=su.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ll(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nM=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){nM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function FC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function UC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=FC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var rM=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ug(e,t){if(t){if(rM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function dg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function Dy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hg=null,Lo=null,$o=null;function fw(e){if(e=wc(e)){if(typeof hg!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Hf(t),hg(e.stateNode,e.type,t))}}function zC(e){Lo?$o?$o.push(e):$o=[e]:Lo=e}function BC(){if(Lo){var e=Lo,t=$o;if($o=Lo=null,fw(e),t)for(e=0;e<t.length;e++)fw(t[e])}}function WC(e,t){return e(t)}function KC(){}var Ep=!1;function qC(e,t,n){if(Ep)return e(t,n);Ep=!0;try{return WC(e,t,n)}finally{Ep=!1,(Lo!==null||$o!==null)&&(KC(),BC())}}function $l(e,t){var n=e.stateNode;if(n===null)return null;var r=Hf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var pg=!1;if(ei)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){pg=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{pg=!1}function iM(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var yl=!1,yd=null,xd=!1,mg=null,aM={onError:function(e){yl=!0,yd=e}};function oM(e,t,n,r,i,a,o,s,l){yl=!1,yd=null,iM.apply(aM,arguments)}function sM(e,t,n,r,i,a,o,s,l){if(oM.apply(this,arguments),yl){if(yl){var c=yd;yl=!1,yd=null}else throw Error(X(198));xd||(xd=!0,mg=c)}}function Xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hw(e){if(Xa(e)!==e)throw Error(X(188))}function lM(e){var t=e.alternate;if(!t){if(t=Xa(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return hw(i),e;if(a===r)return hw(i),t;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function VC(e){return e=lM(e),e!==null?GC(e):null}function GC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GC(e);if(t!==null)return t;e=e.sibling}return null}var YC=Cn.unstable_scheduleCallback,pw=Cn.unstable_cancelCallback,cM=Cn.unstable_shouldYield,uM=Cn.unstable_requestPaint,rt=Cn.unstable_now,dM=Cn.unstable_getCurrentPriorityLevel,Ry=Cn.unstable_ImmediatePriority,JC=Cn.unstable_UserBlockingPriority,bd=Cn.unstable_NormalPriority,fM=Cn.unstable_LowPriority,XC=Cn.unstable_IdlePriority,Bf=null,Ar=null;function hM(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Bf,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:gM,pM=Math.log,mM=Math.LN2;function gM(e){return e>>>=0,e===0?32:31-(pM(e)/mM|0)|0}var lu=64,cu=4194304;function fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=fl(s):(a&=o,a!==0&&(r=fl(a)))}else o=n&~i,o!==0?r=fl(o):a!==0&&(r=fl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),i=1<<n,r|=e[n],t&=~i;return r}function vM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-dr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=vM(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function gg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QC(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function Pp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function xM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function My(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Oe=0;function ZC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eE,Ly,tE,nE,rE,vg=!1,uu=[],Di=null,Ri=null,Mi=null,Fl=new Map,Ul=new Map,_i=[],bM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(e,t){switch(e){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function qs(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=wc(t),t!==null&&Ly(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function wM(e,t,n,r,i){switch(t){case"focusin":return Di=qs(Di,e,t,n,r,i),!0;case"dragenter":return Ri=qs(Ri,e,t,n,r,i),!0;case"mouseover":return Mi=qs(Mi,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Fl.set(a,qs(Fl.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ul.set(a,qs(Ul.get(a)||null,e,t,n,r,i)),!0}return!1}function iE(e){var t=xa(e.target);if(t!==null){var n=Xa(t);if(n!==null){if(t=n.tag,t===13){if(t=HC(n),t!==null){e.blockedOn=t,rE(e.priority,function(){tE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fg=r,n.target.dispatchEvent(r),fg=null}else return t=wc(n),t!==null&&Ly(t),e.blockedOn=n,!1;t.shift()}return!0}function gw(e,t,n){Ju(e)&&n.delete(t)}function kM(){vg=!1,Di!==null&&Ju(Di)&&(Di=null),Ri!==null&&Ju(Ri)&&(Ri=null),Mi!==null&&Ju(Mi)&&(Mi=null),Fl.forEach(gw),Ul.forEach(gw)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,vg||(vg=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,kM)))}function zl(e){function t(i){return Hs(i,e)}if(0<uu.length){Hs(uu[0],e);for(var n=1;n<uu.length;n++){var r=uu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Di!==null&&Hs(Di,e),Ri!==null&&Hs(Ri,e),Mi!==null&&Hs(Mi,e),Fl.forEach(t),Ul.forEach(t),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)iE(n),n.blockedOn===null&&_i.shift()}var Fo=ci.ReactCurrentBatchConfig,kd=!0;function SM(e,t,n,r){var i=Oe,a=Fo.transition;Fo.transition=null;try{Oe=1,$y(e,t,n,r)}finally{Oe=i,Fo.transition=a}}function jM(e,t,n,r){var i=Oe,a=Fo.transition;Fo.transition=null;try{Oe=4,$y(e,t,n,r)}finally{Oe=i,Fo.transition=a}}function $y(e,t,n,r){if(kd){var i=yg(e,t,n,r);if(i===null)$p(e,t,r,Sd,n),mw(e,r);else if(wM(i,e,t,n,r))r.stopPropagation();else if(mw(e,r),t&4&&-1<bM.indexOf(e)){for(;i!==null;){var a=wc(i);if(a!==null&&eE(a),a=yg(e,t,n,r),a===null&&$p(e,t,r,Sd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else $p(e,t,r,null,n)}}var Sd=null;function yg(e,t,n,r){if(Sd=null,e=Dy(r),e=xa(e),e!==null)if(t=Xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sd=e,null}function aE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dM()){case Ry:return 1;case JC:return 4;case bd:case fM:return 16;case XC:return 536870912;default:return 16}default:return 16}}var Oi=null,Fy=null,Xu=null;function oE(){if(Xu)return Xu;var e,t=Fy,n=t.length,r,i="value"in Oi?Oi.value:Oi.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Xu=i.slice(e,1<r?1-r:void 0)}function Qu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function du(){return!0}function vw(){return!1}function Tn(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?du:vw,this.isPropagationStopped=vw,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uy=Tn(vs),bc=Xe({},vs,{view:0,detail:0}),_M=Tn(bc),Op,Np,Vs,Wf=Xe({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(Op=e.screenX-Vs.screenX,Np=e.screenY-Vs.screenY):Np=Op=0,Vs=e),Op)},movementY:function(e){return"movementY"in e?e.movementY:Np}}),yw=Tn(Wf),CM=Xe({},Wf,{dataTransfer:0}),EM=Tn(CM),PM=Xe({},bc,{relatedTarget:0}),Ap=Tn(PM),OM=Xe({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),NM=Tn(OM),AM=Xe({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),TM=Tn(AM),IM=Xe({},vs,{data:0}),xw=Tn(IM),DM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=MM[e])?!!t[e]:!1}function zy(){return LM}var $M=Xe({},bc,{key:function(e){if(e.key){var t=DM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?RM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(e){return e.type==="keypress"?Qu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),FM=Tn($M),UM=Xe({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bw=Tn(UM),zM=Xe({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),BM=Tn(zM),WM=Xe({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KM=Tn(WM),qM=Xe({},Wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),HM=Tn(qM),VM=[9,13,27,32],By=ei&&"CompositionEvent"in window,xl=null;ei&&"documentMode"in document&&(xl=document.documentMode);var GM=ei&&"TextEvent"in window&&!xl,sE=ei&&(!By||xl&&8<xl&&11>=xl),ww=String.fromCharCode(32),kw=!1;function lE(e,t){switch(e){case"keyup":return VM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function YM(e,t){switch(e){case"compositionend":return cE(t);case"keypress":return t.which!==32?null:(kw=!0,ww);case"textInput":return e=t.data,e===ww&&kw?null:e;default:return null}}function JM(e,t){if(jo)return e==="compositionend"||!By&&lE(e,t)?(e=oE(),Xu=Fy=Oi=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sE&&t.locale!=="ko"?null:t.data;default:return null}}var XM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!XM[e.type]:t==="textarea"}function uE(e,t,n,r){zC(r),t=jd(t,"onChange"),0<t.length&&(n=new Uy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bl=null,Bl=null;function QM(e){wE(e,0)}function Kf(e){var t=Eo(e);if(DC(t))return e}function ZM(e,t){if(e==="change")return t}var dE=!1;if(ei){var Tp;if(ei){var Ip="oninput"in document;if(!Ip){var jw=document.createElement("div");jw.setAttribute("oninput","return;"),Ip=typeof jw.oninput=="function"}Tp=Ip}else Tp=!1;dE=Tp&&(!document.documentMode||9<document.documentMode)}function _w(){bl&&(bl.detachEvent("onpropertychange",fE),Bl=bl=null)}function fE(e){if(e.propertyName==="value"&&Kf(Bl)){var t=[];uE(t,Bl,e,Dy(e)),qC(QM,t)}}function eL(e,t,n){e==="focusin"?(_w(),bl=t,Bl=n,bl.attachEvent("onpropertychange",fE)):e==="focusout"&&_w()}function tL(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kf(Bl)}function nL(e,t){if(e==="click")return Kf(t)}function rL(e,t){if(e==="input"||e==="change")return Kf(t)}function iL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:iL;function Wl(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!eg.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function Cw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ew(e,t){var n=Cw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cw(n)}}function hE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pE(){for(var e=window,t=vd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vd(e.document)}return t}function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aL(e){var t=pE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hE(n.ownerDocument.documentElement,n)){if(r!==null&&Wy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Ew(n,a);var o=Ew(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oL=ei&&"documentMode"in document&&11>=document.documentMode,_o=null,xg=null,wl=null,bg=!1;function Pw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bg||_o==null||_o!==vd(r)||(r=_o,"selectionStart"in r&&Wy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Wl(wl,r)||(wl=r,r=jd(xg,"onSelect"),0<r.length&&(t=new Uy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_o)))}function fu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Co={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},Dp={},mE={};ei&&(mE=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function qf(e){if(Dp[e])return Dp[e];if(!Co[e])return e;var t=Co[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mE)return Dp[e]=t[n];return e}var gE=qf("animationend"),vE=qf("animationiteration"),yE=qf("animationstart"),xE=qf("transitionend"),bE=new Map,Ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(e,t){bE.set(e,t),Ja(t,[e])}for(var Rp=0;Rp<Ow.length;Rp++){var Mp=Ow[Rp],sL=Mp.toLowerCase(),lL=Mp[0].toUpperCase()+Mp.slice(1);Vi(sL,"on"+lL)}Vi(gE,"onAnimationEnd");Vi(vE,"onAnimationIteration");Vi(yE,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(xE,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cL=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Nw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,sM(r,t,void 0,e),e.currentTarget=null}function wE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Nw(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Nw(i,s,c),a=l}}}if(xd)throw e=mg,xd=!1,mg=null,e}function ze(e,t){var n=t[_g];n===void 0&&(n=t[_g]=new Set);var r=e+"__bubble";n.has(r)||(kE(t,e,2,!1),n.add(r))}function Lp(e,t,n){var r=0;t&&(r|=4),kE(n,e,r,t)}var hu="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[hu]){e[hu]=!0,OC.forEach(function(n){n!=="selectionchange"&&(cL.has(n)||Lp(n,!1,e),Lp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hu]||(t[hu]=!0,Lp("selectionchange",!1,t))}}function kE(e,t,n,r){switch(aE(t)){case 1:var i=SM;break;case 4:i=jM;break;default:i=$y}n=i.bind(null,t,n,e),i=void 0,!pg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $p(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=xa(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}qC(function(){var c=a,u=Dy(n),f=[];e:{var h=bE.get(e);if(h!==void 0){var p=Uy,m=e;switch(e){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":p=FM;break;case"focusin":m="focus",p=Ap;break;case"focusout":m="blur",p=Ap;break;case"beforeblur":case"afterblur":p=Ap;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BM;break;case gE:case vE:case yE:p=NM;break;case xE:p=KM;break;case"scroll":p=_M;break;case"wheel":p=HM;break;case"copy":case"cut":case"paste":p=TM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bw}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,v!==null&&(S=$l(b,v),S!=null&&g.push(ql(b,S,w)))),y)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==fg&&(m=n.relatedTarget||n.fromElement)&&(xa(m)||m[ti]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?xa(m):null,m!==null&&(y=Xa(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=yw,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=bw,S="onPointerLeave",v="onPointerEnter",b="pointer"),y=p==null?h:Eo(p),w=m==null?h:Eo(m),h=new g(S,b+"leave",p,n,u),h.target=y,h.relatedTarget=w,S=null,xa(u)===c&&(g=new g(v,b+"enter",m,n,u),g.target=w,g.relatedTarget=y,S=g),y=S,p&&m)t:{for(g=p,v=m,b=0,w=g;w;w=lo(w))b++;for(w=0,S=v;S;S=lo(S))w++;for(;0<b-w;)g=lo(g),b--;for(;0<w-b;)v=lo(v),w--;for(;b--;){if(g===v||v!==null&&g===v.alternate)break t;g=lo(g),v=lo(v)}g=null}else g=null;p!==null&&Aw(f,h,p,g,!1),m!==null&&y!==null&&Aw(f,y,m,g,!0)}}e:{if(h=c?Eo(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=ZM;else if(Sw(h))if(dE)j=rL;else{j=tL;var k=eL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=nL);if(j&&(j=j(e,c))){uE(f,j,n,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&sg(h,"number",h.value)}switch(k=c?Eo(c):window,e){case"focusin":(Sw(k)||k.contentEditable==="true")&&(_o=k,xg=c,wl=null);break;case"focusout":wl=xg=_o=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,Pw(f,n,u);break;case"selectionchange":if(oL)break;case"keydown":case"keyup":Pw(f,n,u)}var C;if(By)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else jo?lE(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(sE&&n.locale!=="ko"&&(jo||N!=="onCompositionStart"?N==="onCompositionEnd"&&jo&&(C=oE()):(Oi=u,Fy="value"in Oi?Oi.value:Oi.textContent,jo=!0)),k=jd(c,N),0<k.length&&(N=new xw(N,e,null,n,u),f.push({event:N,listeners:k}),C?N.data=C:(C=cE(n),C!==null&&(N.data=C)))),(C=GM?YM(e,n):JM(e,n))&&(c=jd(c,"onBeforeInput"),0<c.length&&(u=new xw("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=C))}wE(f,t)})}function ql(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$l(e,n),a!=null&&r.unshift(ql(e,a,i)),a=$l(e,t),a!=null&&r.push(ql(e,a,i))),e=e.return}return r}function lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Aw(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=$l(n,a),l!=null&&o.unshift(ql(n,l,s))):i||(l=$l(n,a),l!=null&&o.push(ql(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var uL=/\r\n?/g,dL=/\u0000|\uFFFD/g;function Tw(e){return(typeof e=="string"?e:""+e).replace(uL,`
`).replace(dL,"")}function pu(e,t,n){if(t=Tw(t),Tw(e)!==t&&n)throw Error(X(425))}function _d(){}var wg=null,kg=null;function Sg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jg=typeof setTimeout=="function"?setTimeout:void 0,fL=typeof clearTimeout=="function"?clearTimeout:void 0,Iw=typeof Promise=="function"?Promise:void 0,hL=typeof queueMicrotask=="function"?queueMicrotask:typeof Iw<"u"?function(e){return Iw.resolve(null).then(e).catch(pL)}:jg;function pL(e){setTimeout(function(){throw e})}function Fp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zl(t)}function Li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),_r="__reactFiber$"+ys,Hl="__reactProps$"+ys,ti="__reactContainer$"+ys,_g="__reactEvents$"+ys,mL="__reactListeners$"+ys,gL="__reactHandles$"+ys;function xa(e){var t=e[_r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[_r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dw(e);e!==null;){if(n=e[_r])return n;e=Dw(e)}return t}e=n,n=e.parentNode}return null}function wc(e){return e=e[_r]||e[ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Eo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Hf(e){return e[Hl]||null}var Cg=[],Po=-1;function Gi(e){return{current:e}}function We(e){0>Po||(e.current=Cg[Po],Cg[Po]=null,Po--)}function Fe(e,t){Po++,Cg[Po]=e.current,e.current=t}var qi={},Bt=Gi(qi),ln=Gi(!1),La=qi;function Vo(e,t){var n=e.type.contextTypes;if(!n)return qi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cn(e){return e=e.childContextTypes,e!=null}function Cd(){We(ln),We(Bt)}function Rw(e,t,n){if(Bt.current!==qi)throw Error(X(168));Fe(Bt,t),Fe(ln,n)}function SE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(X(108,eM(e)||"Unknown",i));return Xe({},n,r)}function Ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qi,La=Bt.current,Fe(Bt,e),Fe(ln,ln.current),!0}function Mw(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=SE(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,We(ln),We(Bt),Fe(Bt,e)):We(ln),Fe(ln,n)}var Wr=null,Vf=!1,Up=!1;function jE(e){Wr===null?Wr=[e]:Wr.push(e)}function vL(e){Vf=!0,jE(e)}function Yi(){if(!Up&&Wr!==null){Up=!0;var e=0,t=Oe;try{var n=Wr;for(Oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wr=null,Vf=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(e+1)),YC(Ry,Yi),i}finally{Oe=t,Up=!1}}return null}var Oo=[],No=0,Pd=null,Od=0,Bn=[],Wn=0,$a=null,qr=1,Hr="";function ua(e,t){Oo[No++]=Od,Oo[No++]=Pd,Pd=e,Od=t}function _E(e,t,n){Bn[Wn++]=qr,Bn[Wn++]=Hr,Bn[Wn++]=$a,$a=e;var r=qr;e=Hr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var a=32-dr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qr=1<<32-dr(t)+i|n<<i|r,Hr=a+e}else qr=1<<a|n<<i|r,Hr=e}function Ky(e){e.return!==null&&(ua(e,1),_E(e,1,0))}function qy(e){for(;e===Pd;)Pd=Oo[--No],Oo[No]=null,Od=Oo[--No],Oo[No]=null;for(;e===$a;)$a=Bn[--Wn],Bn[Wn]=null,Hr=Bn[--Wn],Bn[Wn]=null,qr=Bn[--Wn],Bn[Wn]=null}var Sn=null,kn=null,He=!1,sr=null;function CE(e,t){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,kn=Li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$a!==null?{id:qr,overflow:Hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sn=e,kn=null,!0):!1;default:return!1}}function Eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pg(e){if(He){var t=kn;if(t){var n=t;if(!Lw(e,t)){if(Eg(e))throw Error(X(418));t=Li(n.nextSibling);var r=Sn;t&&Lw(e,t)?CE(r,n):(e.flags=e.flags&-4097|2,He=!1,Sn=e)}}else{if(Eg(e))throw Error(X(418));e.flags=e.flags&-4097|2,He=!1,Sn=e}}}function $w(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function mu(e){if(e!==Sn)return!1;if(!He)return $w(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sg(e.type,e.memoizedProps)),t&&(t=kn)){if(Eg(e))throw EE(),Error(X(418));for(;t;)CE(e,t),t=Li(t.nextSibling)}if($w(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=Li(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=Sn?Li(e.stateNode.nextSibling):null;return!0}function EE(){for(var e=kn;e;)e=Li(e.nextSibling)}function Go(){kn=Sn=null,He=!1}function Hy(e){sr===null?sr=[e]:sr.push(e)}var yL=ci.ReactCurrentBatchConfig;function Gs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fw(e){var t=e._init;return t(e._payload)}function PE(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=zi(v,b),v.index=0,v.sibling=null,v}function a(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,b,w,S){return b===null||b.tag!==6?(b=Vp(w,v.mode,S),b.return=v,b):(b=i(b,w),b.return=v,b)}function l(v,b,w,S){var j=w.type;return j===So?u(v,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wi&&Fw(j)===b.type)?(S=i(b,w.props),S.ref=Gs(v,b,w),S.return=v,S):(S=ad(w.type,w.key,w.props,null,v.mode,S),S.ref=Gs(v,b,w),S.return=v,S)}function c(v,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Gp(w,v.mode,S),b.return=v,b):(b=i(b,w.children||[]),b.return=v,b)}function u(v,b,w,S,j){return b===null||b.tag!==7?(b=Na(w,v.mode,S,j),b.return=v,b):(b=i(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Vp(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return w=ad(b.type,b.key,b.props,null,v.mode,w),w.ref=Gs(v,null,b),w.return=v,w;case ko:return b=Gp(b,v.mode,w),b.return=v,b;case wi:var S=b._init;return f(v,S(b._payload),w)}if(dl(b)||Ws(b))return b=Na(b,v.mode,w,null),b.return=v,b;gu(v,b)}return null}function h(v,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(v,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return w.key===j?l(v,b,w,S):null;case ko:return w.key===j?c(v,b,w,S):null;case wi:return j=w._init,h(v,b,j(w._payload),S)}if(dl(w)||Ws(w))return j!==null?null:u(v,b,w,S,null);gu(v,w)}return null}function p(v,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(w)||null,s(b,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case au:return v=v.get(S.key===null?w:S.key)||null,l(b,v,S,j);case ko:return v=v.get(S.key===null?w:S.key)||null,c(b,v,S,j);case wi:var k=S._init;return p(v,b,w,k(S._payload),j)}if(dl(S)||Ws(S))return v=v.get(w)||null,u(b,v,S,j,null);gu(b,S)}return null}function m(v,b,w,S){for(var j=null,k=null,C=b,N=b=0,O=null;C!==null&&N<w.length;N++){C.index>N?(O=C,C=null):O=C.sibling;var P=h(v,C,w[N],S);if(P===null){C===null&&(C=O);break}e&&C&&P.alternate===null&&t(v,C),b=a(P,b,N),k===null?j=P:k.sibling=P,k=P,C=O}if(N===w.length)return n(v,C),He&&ua(v,N),j;if(C===null){for(;N<w.length;N++)C=f(v,w[N],S),C!==null&&(b=a(C,b,N),k===null?j=C:k.sibling=C,k=C);return He&&ua(v,N),j}for(C=r(v,C);N<w.length;N++)O=p(C,v,N,w[N],S),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?N:O.key),b=a(O,b,N),k===null?j=O:k.sibling=O,k=O);return e&&C.forEach(function(I){return t(v,I)}),He&&ua(v,N),j}function g(v,b,w,S){var j=Ws(w);if(typeof j!="function")throw Error(X(150));if(w=j.call(w),w==null)throw Error(X(151));for(var k=j=null,C=b,N=b=0,O=null,P=w.next();C!==null&&!P.done;N++,P=w.next()){C.index>N?(O=C,C=null):O=C.sibling;var I=h(v,C,P.value,S);if(I===null){C===null&&(C=O);break}e&&C&&I.alternate===null&&t(v,C),b=a(I,b,N),k===null?j=I:k.sibling=I,k=I,C=O}if(P.done)return n(v,C),He&&ua(v,N),j;if(C===null){for(;!P.done;N++,P=w.next())P=f(v,P.value,S),P!==null&&(b=a(P,b,N),k===null?j=P:k.sibling=P,k=P);return He&&ua(v,N),j}for(C=r(v,C);!P.done;N++,P=w.next())P=p(C,v,N,P.value,S),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?N:P.key),b=a(P,b,N),k===null?j=P:k.sibling=P,k=P);return e&&C.forEach(function(A){return t(v,A)}),He&&ua(v,N),j}function y(v,b,w,S){if(typeof w=="object"&&w!==null&&w.type===So&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case au:e:{for(var j=w.key,k=b;k!==null;){if(k.key===j){if(j=w.type,j===So){if(k.tag===7){n(v,k.sibling),b=i(k,w.props.children),b.return=v,v=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wi&&Fw(j)===k.type){n(v,k.sibling),b=i(k,w.props),b.ref=Gs(v,k,w),b.return=v,v=b;break e}n(v,k);break}else t(v,k);k=k.sibling}w.type===So?(b=Na(w.props.children,v.mode,S,w.key),b.return=v,v=b):(S=ad(w.type,w.key,w.props,null,v.mode,S),S.ref=Gs(v,b,w),S.return=v,v=S)}return o(v);case ko:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=i(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=Gp(w,v.mode,S),b.return=v,v=b}return o(v);case wi:return k=w._init,y(v,b,k(w._payload),S)}if(dl(w))return m(v,b,w,S);if(Ws(w))return g(v,b,w,S);gu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=i(b,w),b.return=v,v=b):(n(v,b),b=Vp(w,v.mode,S),b.return=v,v=b),o(v)):n(v,b)}return y}var Yo=PE(!0),OE=PE(!1),Nd=Gi(null),Ad=null,Ao=null,Vy=null;function Gy(){Vy=Ao=Ad=null}function Yy(e){var t=Nd.current;We(Nd),e._currentValue=t}function Og(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uo(e,t){Ad=e,Vy=Ao=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(Vy!==e)if(e={context:e,memoizedValue:t,next:null},Ao===null){if(Ad===null)throw Error(X(308));Ao=e,Ad.dependencies={lanes:0,firstContext:e}}else Ao=Ao.next=e;return t}var ba=null;function Jy(e){ba===null?ba=[e]:ba.push(e)}function NE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Jy(t)):(n.next=i.next,i.next=n),t.interleaved=n,ni(e,r)}function ni(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ki=!1;function Xy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ni(e,n)}return i=r.interleaved,i===null?(t.next=t,Jy(r)):(t.next=i.next,i.next=t),r.interleaved=t,ni(e,n)}function Zu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,My(e,n)}}function Uw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Td(e,t,n,r){var i=e.updateQueue;ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Xe({},f,h);break e;case 2:ki=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ua|=o,e.lanes=o,e.memoizedState=f}}function zw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var kc={},Tr=Gi(kc),Vl=Gi(kc),Gl=Gi(kc);function wa(e){if(e===kc)throw Error(X(174));return e}function Qy(e,t){switch(Fe(Gl,t),Fe(Vl,e),Fe(Tr,kc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cg(t,e)}We(Tr),Fe(Tr,t)}function Jo(){We(Tr),We(Vl),We(Gl)}function TE(e){wa(Gl.current);var t=wa(Tr.current),n=cg(t,e.type);t!==n&&(Fe(Vl,e),Fe(Tr,n))}function Zy(e){Vl.current===e&&(We(Tr),We(Vl))}var Ye=Gi(0);function Id(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zp=[];function ex(){for(var e=0;e<zp.length;e++)zp[e]._workInProgressVersionPrimary=null;zp.length=0}var ed=ci.ReactCurrentDispatcher,Bp=ci.ReactCurrentBatchConfig,Fa=0,Je=null,pt=null,kt=null,Dd=!1,kl=!1,Yl=0,xL=0;function Dt(){throw Error(X(321))}function tx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function nx(e,t,n,r,i,a){if(Fa=a,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ed.current=e===null||e.memoizedState===null?SL:jL,e=n(r,i),kl){a=0;do{if(kl=!1,Yl=0,25<=a)throw Error(X(301));a+=1,kt=pt=null,t.updateQueue=null,ed.current=_L,e=n(r,i)}while(kl)}if(ed.current=Rd,t=pt!==null&&pt.next!==null,Fa=0,kt=pt=Je=null,Dd=!1,t)throw Error(X(300));return e}function rx(){var e=Yl!==0;return Yl=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Je.memoizedState=kt=e:kt=kt.next=e,kt}function Jn(){if(pt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=kt===null?Je.memoizedState:kt.next;if(t!==null)kt=t,pt=e;else{if(e===null)throw Error(X(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},kt===null?Je.memoizedState=kt=e:kt=kt.next=e}return kt}function Jl(e,t){return typeof t=="function"?t(e):t}function Wp(e){var t=Jn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Fa&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Je.lanes|=u,Ua|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,mr(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Je.lanes|=a,Ua|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kp(e){var t=Jn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);mr(a,t.memoizedState)||(an=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function IE(){}function DE(e,t){var n=Je,r=Jn(),i=t(),a=!mr(r.memoizedState,i);if(a&&(r.memoizedState=i,an=!0),r=r.queue,ix(LE.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Xl(9,ME.bind(null,n,r,i,t),void 0,null),St===null)throw Error(X(349));Fa&30||RE(n,t,i)}return i}function RE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ME(e,t,n,r){t.value=n,t.getSnapshot=r,$E(t)&&FE(e)}function LE(e,t,n){return n(function(){$E(t)&&FE(e)})}function $E(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch{return!0}}function FE(e){var t=ni(e,1);t!==null&&fr(t,e,1,-1)}function Bw(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t.queue=e,e=e.dispatch=kL.bind(null,Je,e),[t.memoizedState,e]}function Xl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function UE(){return Jn().memoizedState}function td(e,t,n,r){var i=kr();Je.flags|=e,i.memoizedState=Xl(1|t,n,void 0,r===void 0?null:r)}function Gf(e,t,n,r){var i=Jn();r=r===void 0?null:r;var a=void 0;if(pt!==null){var o=pt.memoizedState;if(a=o.destroy,r!==null&&tx(r,o.deps)){i.memoizedState=Xl(t,n,a,r);return}}Je.flags|=e,i.memoizedState=Xl(1|t,n,a,r)}function Ww(e,t){return td(8390656,8,e,t)}function ix(e,t){return Gf(2048,8,e,t)}function zE(e,t){return Gf(4,2,e,t)}function BE(e,t){return Gf(4,4,e,t)}function WE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KE(e,t,n){return n=n!=null?n.concat([e]):null,Gf(4,4,WE.bind(null,t,e),n)}function ax(){}function qE(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HE(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VE(e,t,n){return Fa&21?(mr(n,t)||(n=QC(),Je.lanes|=n,Ua|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function bL(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var r=Bp.transition;Bp.transition={};try{e(!1),t()}finally{Oe=n,Bp.transition=r}}function GE(){return Jn().memoizedState}function wL(e,t,n){var r=Ui(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},YE(e))JE(t,n);else if(n=NE(e,t,n,r),n!==null){var i=Gt();fr(n,e,r,i),XE(n,t,r)}}function kL(e,t,n){var r=Ui(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(YE(e))JE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,mr(s,o)){var l=t.interleaved;l===null?(i.next=i,Jy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=NE(e,t,i,r),n!==null&&(i=Gt(),fr(n,e,r,i),XE(n,t,r))}}function YE(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function JE(e,t){kl=Dd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function XE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,My(e,n)}}var Rd={readContext:Yn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},SL={readContext:Yn,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:Ww,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,td(4194308,4,WE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return td(4194308,4,e,t)},useInsertionEffect:function(e,t){return td(4,2,e,t)},useMemo:function(e,t){var n=kr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=wL.bind(null,Je,e),[r.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:Bw,useDebugValue:ax,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=Bw(!1),t=e[0];return e=bL.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Je,i=kr();if(He){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),St===null)throw Error(X(349));Fa&30||RE(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ww(LE.bind(null,r,a,e),[e]),r.flags|=2048,Xl(9,ME.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=kr(),t=St.identifierPrefix;if(He){var n=Hr,r=qr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jL={readContext:Yn,useCallback:qE,useContext:Yn,useEffect:ix,useImperativeHandle:KE,useInsertionEffect:zE,useLayoutEffect:BE,useMemo:HE,useReducer:Wp,useRef:UE,useState:function(){return Wp(Jl)},useDebugValue:ax,useDeferredValue:function(e){var t=Jn();return VE(t,pt.memoizedState,e)},useTransition:function(){var e=Wp(Jl)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:IE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1},_L={readContext:Yn,useCallback:qE,useContext:Yn,useEffect:ix,useImperativeHandle:KE,useInsertionEffect:zE,useLayoutEffect:BE,useMemo:HE,useReducer:Kp,useRef:UE,useState:function(){return Kp(Jl)},useDebugValue:ax,useDeferredValue:function(e){var t=Jn();return pt===null?t.memoizedState=e:VE(t,pt.memoizedState,e)},useTransition:function(){var e=Kp(Jl)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:IE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1};function ir(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ng(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yf={isMounted:function(e){return(e=e._reactInternals)?Xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ui(e),a=Xr(r,i);a.payload=t,n!=null&&(a.callback=n),t=$i(e,a,i),t!==null&&(fr(t,e,i,r),Zu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ui(e),a=Xr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$i(e,a,i),t!==null&&(fr(t,e,i,r),Zu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=Ui(e),i=Xr(n,r);i.tag=2,t!=null&&(i.callback=t),t=$i(e,i,r),t!==null&&(fr(t,e,r,n),Zu(t,e,r))}};function Kw(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wl(n,r)||!Wl(i,a):!0}function QE(e,t,n){var r=!1,i=qi,a=t.contextType;return typeof a=="object"&&a!==null?a=Yn(a):(i=cn(t)?La:Bt.current,r=t.contextTypes,a=(r=r!=null)?Vo(e,i):qi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yf.enqueueReplaceState(t,t.state,null)}function Ag(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Xy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Yn(a):(a=cn(t)?La:Bt.current,i.context=Vo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ng(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Yf.enqueueReplaceState(i,i.state,null),Td(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xo(e,t){try{var n="",r=t;do n+=ZR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Tg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CL=typeof WeakMap=="function"?WeakMap:Map;function ZE(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ld||(Ld=!0,Bg=r),Tg(e,t)},n}function eP(e,t,n){n=Xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Tg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Tg(e,t),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Hw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new CL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=UL.bind(null,e,t,n),t.then(e,e))}function Vw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,$i(n,t,1))),n.lanes|=1),e)}var EL=ci.ReactCurrentOwner,an=!1;function Kt(e,t,n,r){t.child=e===null?OE(t,null,n,r):Yo(t,e.child,n,r)}function Yw(e,t,n,r,i){n=n.render;var a=t.ref;return Uo(t,i),r=nx(e,t,n,r,a,i),n=rx(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ri(e,t,i)):(He&&n&&Ky(t),t.flags|=1,Kt(e,t,r,i),t.child)}function Jw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!hx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,tP(e,t,a,r,i)):(e=ad(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(o,r)&&e.ref===t.ref)return ri(e,t,i)}return t.flags|=1,e=zi(a,r),e.ref=t.ref,e.return=t,t.child=e}function tP(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Wl(a,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,ri(e,t,i)}return Ig(e,t,n,r,i)}function nP(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Io,bn),bn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Io,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Fe(Io,bn),bn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Fe(Io,bn),bn|=r;return Kt(e,t,i,n),t.child}function rP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ig(e,t,n,r,i){var a=cn(n)?La:Bt.current;return a=Vo(t,a),Uo(t,i),n=nx(e,t,n,r,a,i),r=rx(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ri(e,t,i)):(He&&r&&Ky(t),t.flags|=1,Kt(e,t,n,i),t.child)}function Xw(e,t,n,r,i){if(cn(n)){var a=!0;Ed(t)}else a=!1;if(Uo(t,i),t.stateNode===null)nd(e,t),QE(t,n,r),Ag(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=cn(n)?La:Bt.current,c=Vo(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&qw(t,o,r,c),ki=!1;var h=t.memoizedState;o.state=h,Td(t,r,o,i),l=t.memoizedState,s!==r||h!==l||ln.current||ki?(typeof u=="function"&&(Ng(t,n,u,r),l=t.memoizedState),(s=ki||Kw(t,n,s,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,AE(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ir(t.type,s),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=cn(n)?La:Bt.current,l=Vo(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&qw(t,o,r,l),ki=!1,h=t.memoizedState,o.state=h,Td(t,r,o,i);var m=t.memoizedState;s!==f||h!==m||ln.current||ki?(typeof p=="function"&&(Ng(t,n,p,r),m=t.memoizedState),(c=ki||Kw(t,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Dg(e,t,n,r,a,i)}function Dg(e,t,n,r,i,a){rP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Mw(t,n,!1),ri(e,t,a);r=t.stateNode,EL.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Yo(t,e.child,null,a),t.child=Yo(t,null,s,a)):Kt(e,t,s,a),t.memoizedState=r.state,i&&Mw(t,n,!0),t.child}function iP(e){var t=e.stateNode;t.pendingContext?Rw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rw(e,t.context,!1),Qy(e,t.containerInfo)}function Qw(e,t,n,r,i){return Go(),Hy(i),t.flags|=256,Kt(e,t,n,r),t.child}var Rg={dehydrated:null,treeContext:null,retryLane:0};function Mg(e){return{baseLanes:e,cachePool:null,transitions:null}}function aP(e,t,n){var r=t.pendingProps,i=Ye.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Ye,i&1),e===null)return Pg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Qf(o,r,0,null),e=Na(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mg(n),t.memoizedState=Rg,e):ox(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return PL(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=zi(s,a):(a=Na(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Mg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Rg,r}return a=e.child,e=a.sibling,r=zi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ox(e,t){return t=Qf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vu(e,t,n,r){return r!==null&&Hy(r),Yo(t,e.child,null,n),e=ox(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PL(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=qp(Error(X(422))),vu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Qf({mode:"visible",children:r.children},i,0,null),a=Na(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Yo(t,e.child,null,o),t.child.memoizedState=Mg(o),t.memoizedState=Rg,a);if(!(t.mode&1))return vu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(X(419)),r=qp(a,r,void 0),vu(e,t,o,r)}if(s=(o&e.childLanes)!==0,an||s){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ni(e,i),fr(r,e,i,-1))}return fx(),r=qp(Error(X(421))),vu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zL.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,kn=Li(i.nextSibling),Sn=t,He=!0,sr=null,e!==null&&(Bn[Wn++]=qr,Bn[Wn++]=Hr,Bn[Wn++]=$a,qr=e.id,Hr=e.overflow,$a=t),t=ox(t,r.children),t.flags|=4096,t)}function Zw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Og(e.return,t,n)}function Hp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function oP(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Kt(e,t,r.children,n),r=Ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zw(e,n,t);else if(e.tag===19)Zw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Ye,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Id(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Id(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hp(t,!0,n,null,a);break;case"together":Hp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function nd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=zi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function OL(e,t,n){switch(t.tag){case 3:iP(t),Go();break;case 5:TE(t);break;case 1:cn(t.type)&&Ed(t);break;case 4:Qy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fe(Nd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ye,Ye.current&1),t.flags|=128,null):n&t.child.childLanes?aP(e,t,n):(Fe(Ye,Ye.current&1),e=ri(e,t,n),e!==null?e.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return oP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ye,Ye.current),r)break;return null;case 22:case 23:return t.lanes=0,nP(e,t,n)}return ri(e,t,n)}var sP,Lg,lP,cP;sP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lg=function(){};lP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wa(Tr.current);var a=null;switch(n){case"input":i=ag(e,i),r=ag(e,r),a=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),a=[];break;case"textarea":i=lg(e,i),r=lg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_d)}ug(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ml.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};cP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ys(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function NL(e,t,n){var r=t.pendingProps;switch(qy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return cn(t.type)&&Cd(),Rt(t),null;case 3:return r=t.stateNode,Jo(),We(ln),We(Bt),ex(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(qg(sr),sr=null))),Lg(e,t),Rt(t),null;case 5:Zy(t);var i=wa(Gl.current);if(n=t.type,e!==null&&t.stateNode!=null)lP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Rt(t),null}if(e=wa(Tr.current),mu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[_r]=t,r[Hl]=a,e=(t.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<hl.length;i++)ze(hl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":lw(r,a),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ze("invalid",r);break;case"textarea":uw(r,a),ze("invalid",r)}ug(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&pu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&pu(r.textContent,s,e),i=["children",""+s]):Ml.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":ou(r),cw(r,a,!0);break;case"textarea":ou(r),dw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=_d)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_r]=t,e[Hl]=r,sP(e,t,!1,!1),t.stateNode=e;e:{switch(o=dg(n,r),n){case"dialog":ze("cancel",e),ze("close",e),i=r;break;case"iframe":case"object":case"embed":ze("load",e),i=r;break;case"video":case"audio":for(i=0;i<hl.length;i++)ze(hl[i],e);i=r;break;case"source":ze("error",e),i=r;break;case"img":case"image":case"link":ze("error",e),ze("load",e),i=r;break;case"details":ze("toggle",e),i=r;break;case"input":lw(e,r),i=ag(e,r),ze("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),ze("invalid",e);break;case"textarea":uw(e,r),i=lg(e,r),ze("invalid",e);break;default:i=r}ug(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?UC(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$C(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ll(e,l):typeof l=="number"&&Ll(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ml.hasOwnProperty(a)?l!=null&&a==="onScroll"&&ze("scroll",e):l!=null&&Ny(e,a,l,o))}switch(n){case"input":ou(e),cw(e,r,!1);break;case"textarea":ou(e),dw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ki(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Mo(e,!!r.multiple,a,!1):r.defaultValue!=null&&Mo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=_d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)cP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=wa(Gl.current),wa(Tr.current),mu(t)){if(r=t.stateNode,n=t.memoizedProps,r[_r]=t,(a=r.nodeValue!==n)&&(e=Sn,e!==null))switch(e.tag){case 3:pu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=t,t.stateNode=r}return Rt(t),null;case 13:if(We(Ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&kn!==null&&t.mode&1&&!(t.flags&128))EE(),Go(),t.flags|=98560,a=!1;else if(a=mu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[_r]=t}else Go(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),a=!1}else sr!==null&&(qg(sr),sr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?vt===0&&(vt=3):fx())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Jo(),Lg(e,t),e===null&&Kl(t.stateNode.containerInfo),Rt(t),null;case 10:return Yy(t.type._context),Rt(t),null;case 17:return cn(t.type)&&Cd(),Rt(t),null;case 19:if(We(Ye),a=t.memoizedState,a===null)return Rt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ys(a,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Id(e),o!==null){for(t.flags|=128,Ys(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),t.child}e=e.sibling}a.tail!==null&&rt()>Qo&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304)}else{if(!r)if(e=Id(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!He)return Rt(t),null}else 2*rt()-a.renderingStartTime>Qo&&n!==1073741824&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=rt(),t.sibling=null,n=Ye.current,Fe(Ye,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return dx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function AL(e,t){switch(qy(t),t.tag){case 1:return cn(t.type)&&Cd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jo(),We(ln),We(Bt),ex(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zy(t),null;case 13:if(We(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Go()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return We(Ye),null;case 4:return Jo(),null;case 10:return Yy(t.type._context),null;case 22:case 23:return dx(),null;case 24:return null;default:return null}}var yu=!1,Lt=!1,TL=typeof WeakSet=="function"?WeakSet:Set,re=null;function To(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(e,t,r)}else n.current=null}function $g(e,t,n){try{n()}catch(r){Ze(e,t,r)}}var e1=!1;function IL(e,t){if(wg=kd,e=pE(),Wy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(kg={focusedElem:e,selectionRange:n},kd=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ir(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){Ze(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return m=e1,e1=!1,m}function Sl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&$g(t,n,a)}i=i.next}while(i!==r)}}function Jf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uP(e){var t=e.alternate;t!==null&&(e.alternate=null,uP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[Hl],delete t[_g],delete t[mL],delete t[gL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dP(e){return e.tag===5||e.tag===3||e.tag===4}function t1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ug(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_d));else if(r!==4&&(e=e.child,e!==null))for(Ug(e,t,n),e=e.sibling;e!==null;)Ug(e,t,n),e=e.sibling}function zg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zg(e,t,n),e=e.sibling;e!==null;)zg(e,t,n),e=e.sibling}var Ot=null,ar=!1;function vi(e,t,n){for(n=n.child;n!==null;)fP(e,t,n),n=n.sibling}function fP(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:Lt||To(n,t);case 6:var r=Ot,i=ar;Ot=null,vi(e,t,n),Ot=r,ar=i,Ot!==null&&(ar?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(ar?(e=Ot,n=n.stateNode,e.nodeType===8?Fp(e.parentNode,n):e.nodeType===1&&Fp(e,n),zl(e)):Fp(Ot,n.stateNode));break;case 4:r=Ot,i=ar,Ot=n.stateNode.containerInfo,ar=!0,vi(e,t,n),Ot=r,ar=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&$g(n,t,o),i=i.next}while(i!==r)}vi(e,t,n);break;case 1:if(!Lt&&(To(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ze(n,t,s)}vi(e,t,n);break;case 21:vi(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,vi(e,t,n),Lt=r):vi(e,t,n);break;default:vi(e,t,n)}}function n1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TL),t.forEach(function(r){var i=BL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ot=s.stateNode,ar=!1;break e;case 3:Ot=s.stateNode.containerInfo,ar=!0;break e;case 4:Ot=s.stateNode.containerInfo,ar=!0;break e}s=s.return}if(Ot===null)throw Error(X(160));fP(a,o,i),Ot=null,ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ze(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hP(t,e),t=t.sibling}function hP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),xr(e),r&4){try{Sl(3,e,e.return),Jf(3,e)}catch(g){Ze(e,e.return,g)}try{Sl(5,e,e.return)}catch(g){Ze(e,e.return,g)}}break;case 1:nr(t,e),xr(e),r&512&&n!==null&&To(n,n.return);break;case 5:if(nr(t,e),xr(e),r&512&&n!==null&&To(n,n.return),e.flags&32){var i=e.stateNode;try{Ll(i,"")}catch(g){Ze(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&RC(i,a),dg(s,o);var c=dg(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?UC(i,f):u==="dangerouslySetInnerHTML"?$C(i,f):u==="children"?Ll(i,f):Ny(i,u,f,c)}switch(s){case"input":og(i,a);break;case"textarea":MC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Mo(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Mo(i,!!a.multiple,a.defaultValue,!0):Mo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Hl]=a}catch(g){Ze(e,e.return,g)}}break;case 6:if(nr(t,e),xr(e),r&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ze(e,e.return,g)}}break;case 3:if(nr(t,e),xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch(g){Ze(e,e.return,g)}break;case 4:nr(t,e),xr(e);break;case 13:nr(t,e),xr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(cx=rt())),r&4&&n1(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(c=Lt)||u,nr(t,e),Lt=c):nr(t,e),xr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(re=e,u=e.child;u!==null;){for(f=re=u;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sl(4,h,h.return);break;case 1:To(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ze(r,n,g)}}break;case 5:To(h,h.return);break;case 22:if(h.memoizedState!==null){i1(f);continue}}p!==null?(p.return=h,re=p):i1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=FC("display",o))}catch(g){Ze(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Ze(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(t,e),xr(e),r&4&&n1(e);break;case 21:break;default:nr(t,e),xr(e)}}function xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dP(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ll(i,""),r.flags&=-33);var a=t1(e);zg(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=t1(e);Ug(e,s,o);break;default:throw Error(X(161))}}catch(l){Ze(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function DL(e,t,n){re=e,pP(e)}function pP(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var i=re,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Lt;s=yu;var c=Lt;if(yu=o,(Lt=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?a1(i):l!==null?(l.return=o,re=l):a1(i);for(;a!==null;)re=a,pP(a),a=a.sibling;re=i,yu=s,Lt=c}r1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,re=a):r1(e)}}function r1(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||Jf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ir(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zw(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zw(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Lt||t.flags&512&&Fg(t)}catch(h){Ze(t,t.return,h)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function i1(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function a1(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Jf(4,t)}catch(l){Ze(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ze(t,i,l)}}var a=t.return;try{Fg(t)}catch(l){Ze(t,a,l)}break;case 5:var o=t.return;try{Fg(t)}catch(l){Ze(t,o,l)}}}catch(l){Ze(t,t.return,l)}if(t===e){re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,re=s;break}re=t.return}}var RL=Math.ceil,Md=ci.ReactCurrentDispatcher,sx=ci.ReactCurrentOwner,Gn=ci.ReactCurrentBatchConfig,je=0,St=null,ct=null,Tt=0,bn=0,Io=Gi(0),vt=0,Ql=null,Ua=0,Xf=0,lx=0,jl=null,nn=null,cx=0,Qo=1/0,zr=null,Ld=!1,Bg=null,Fi=null,xu=!1,Ni=null,$d=0,_l=0,Wg=null,rd=-1,id=0;function Gt(){return je&6?rt():rd!==-1?rd:rd=rt()}function Ui(e){return e.mode&1?je&2&&Tt!==0?Tt&-Tt:yL.transition!==null?(id===0&&(id=QC()),id):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:aE(e.type)),e):1}function fr(e,t,n,r){if(50<_l)throw _l=0,Wg=null,Error(X(185));xc(e,n,r),(!(je&2)||e!==St)&&(e===St&&(!(je&2)&&(Xf|=n),vt===4&&Ci(e,Tt)),un(e,r),n===1&&je===0&&!(t.mode&1)&&(Qo=rt()+500,Vf&&Yi()))}function un(e,t){var n=e.callbackNode;yM(e,t);var r=wd(e,e===St?Tt:0);if(r===0)n!==null&&pw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pw(n),t===1)e.tag===0?vL(o1.bind(null,e)):jE(o1.bind(null,e)),hL(function(){!(je&6)&&Yi()}),n=null;else{switch(ZC(r)){case 1:n=Ry;break;case 4:n=JC;break;case 16:n=bd;break;case 536870912:n=XC;break;default:n=bd}n=kP(n,mP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mP(e,t){if(rd=-1,id=0,je&6)throw Error(X(327));var n=e.callbackNode;if(zo()&&e.callbackNode!==n)return null;var r=wd(e,e===St?Tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fd(e,r);else{t=r;var i=je;je|=2;var a=vP();(St!==e||Tt!==t)&&(zr=null,Qo=rt()+500,Oa(e,t));do try{$L();break}catch(s){gP(e,s)}while(1);Gy(),Md.current=a,je=i,ct!==null?t=0:(St=null,Tt=0,t=vt)}if(t!==0){if(t===2&&(i=gg(e),i!==0&&(r=i,t=Kg(e,i))),t===1)throw n=Ql,Oa(e,0),Ci(e,r),un(e,rt()),n;if(t===6)Ci(e,r);else{if(i=e.current.alternate,!(r&30)&&!ML(i)&&(t=Fd(e,r),t===2&&(a=gg(e),a!==0&&(r=a,t=Kg(e,a))),t===1))throw n=Ql,Oa(e,0),Ci(e,r),un(e,rt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:da(e,nn,zr);break;case 3:if(Ci(e,r),(r&130023424)===r&&(t=cx+500-rt(),10<t)){if(wd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jg(da.bind(null,e,nn,zr),t);break}da(e,nn,zr);break;case 4:if(Ci(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RL(r/1960))-r,10<r){e.timeoutHandle=jg(da.bind(null,e,nn,zr),r);break}da(e,nn,zr);break;case 5:da(e,nn,zr);break;default:throw Error(X(329))}}}return un(e,rt()),e.callbackNode===n?mP.bind(null,e):null}function Kg(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(Oa(e,t).flags|=256),e=Fd(e,t),e!==2&&(t=nn,nn=n,t!==null&&qg(t)),e}function qg(e){nn===null?nn=e:nn.push.apply(nn,e)}function ML(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!mr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t){for(t&=~lx,t&=~Xf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function o1(e){if(je&6)throw Error(X(327));zo();var t=wd(e,0);if(!(t&1))return un(e,rt()),null;var n=Fd(e,t);if(e.tag!==0&&n===2){var r=gg(e);r!==0&&(t=r,n=Kg(e,r))}if(n===1)throw n=Ql,Oa(e,0),Ci(e,t),un(e,rt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,da(e,nn,zr),un(e,rt()),null}function ux(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Qo=rt()+500,Vf&&Yi())}}function za(e){Ni!==null&&Ni.tag===0&&!(je&6)&&zo();var t=je;je|=1;var n=Gn.transition,r=Oe;try{if(Gn.transition=null,Oe=1,e)return e()}finally{Oe=r,Gn.transition=n,je=t,!(je&6)&&Yi()}}function dx(){bn=Io.current,We(Io)}function Oa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,fL(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:Jo(),We(ln),We(Bt),ex();break;case 5:Zy(r);break;case 4:Jo();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:Yy(r.type._context);break;case 22:case 23:dx()}n=n.return}if(St=e,ct=e=zi(e.current,null),Tt=bn=t,vt=0,Ql=null,lx=Xf=Ua=0,nn=jl=null,ba!==null){for(t=0;t<ba.length;t++)if(n=ba[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ba=null}return e}function gP(e,t){do{var n=ct;try{if(Gy(),ed.current=Rd,Dd){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(Fa=0,kt=pt=Je=null,kl=!1,Yl=0,sx.current=null,n===null||n.return===null){vt=1,Ql=t,ct=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Tt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Vw(o);if(p!==null){p.flags&=-257,Gw(p,o,s,a,t),p.mode&1&&Hw(a,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){Hw(a,c,t),fx();break e}l=Error(X(426))}}else if(He&&s.mode&1){var y=Vw(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Gw(y,o,s,a,t),Hy(Xo(l,s));break e}}a=l=Xo(l,s),vt!==4&&(vt=2),jl===null?jl=[a]:jl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=ZE(a,l,t);Uw(a,v);break e;case 1:s=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fi===null||!Fi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=eP(a,s,t);Uw(a,S);break e}}a=a.return}while(a!==null)}xP(n)}catch(j){t=j,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function vP(){var e=Md.current;return Md.current=Rd,e===null?Rd:e}function fx(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(Ua&268435455)&&!(Xf&268435455)||Ci(St,Tt)}function Fd(e,t){var n=je;je|=2;var r=vP();(St!==e||Tt!==t)&&(zr=null,Oa(e,t));do try{LL();break}catch(i){gP(e,i)}while(1);if(Gy(),je=n,Md.current=r,ct!==null)throw Error(X(261));return St=null,Tt=0,vt}function LL(){for(;ct!==null;)yP(ct)}function $L(){for(;ct!==null&&!cM();)yP(ct)}function yP(e){var t=wP(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?xP(e):ct=t,sx.current=null}function xP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AL(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ct=null;return}}else if(n=NL(n,t,bn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);vt===0&&(vt=5)}function da(e,t,n){var r=Oe,i=Gn.transition;try{Gn.transition=null,Oe=1,FL(e,t,n,r)}finally{Gn.transition=i,Oe=r}return null}function FL(e,t,n,r){do zo();while(Ni!==null);if(je&6)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(xM(e,a),e===St&&(ct=St=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,kP(bd,function(){return zo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gn.transition,Gn.transition=null;var o=Oe;Oe=1;var s=je;je|=4,sx.current=null,IL(e,n),hP(n,e),aL(kg),kd=!!wg,kg=wg=null,e.current=n,DL(n),uM(),je=s,Oe=o,Gn.transition=a}else e.current=n;if(xu&&(xu=!1,Ni=e,$d=i),a=e.pendingLanes,a===0&&(Fi=null),hM(n.stateNode),un(e,rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,e=Bg,Bg=null,e;return $d&1&&e.tag!==0&&zo(),a=e.pendingLanes,a&1?e===Wg?_l++:(_l=0,Wg=e):_l=0,Yi(),null}function zo(){if(Ni!==null){var e=ZC($d),t=Gn.transition,n=Oe;try{if(Gn.transition=null,Oe=16>e?16:e,Ni===null)var r=!1;else{if(e=Ni,Ni=null,$d=0,je&6)throw Error(X(331));var i=je;for(je|=4,re=e.current;re!==null;){var a=re,o=a.child;if(re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Sl(8,u,a)}var f=u.child;if(f!==null)f.return=u,re=f;else for(;re!==null;){u=re;var h=u.sibling,p=u.return;if(uP(u),u===c){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,re=o;else e:for(;re!==null;){if(a=re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sl(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,re=v;break e}re=a.return}}var b=e.current;for(re=b;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=b;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Jf(9,s)}}catch(j){Ze(s,s.return,j)}if(s===o){re=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,re=S;break e}re=s.return}}if(je=i,Yi(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Bf,e)}catch{}r=!0}return r}finally{Oe=n,Gn.transition=t}}return!1}function s1(e,t,n){t=Xo(n,t),t=ZE(e,t,1),e=$i(e,t,1),t=Gt(),e!==null&&(xc(e,1,t),un(e,t))}function Ze(e,t,n){if(e.tag===3)s1(e,e,n);else for(;t!==null;){if(t.tag===3){s1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){e=Xo(n,e),e=eP(t,e,1),t=$i(t,e,1),e=Gt(),t!==null&&(xc(t,1,e),un(t,e));break}}t=t.return}}function UL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Tt&n)===n&&(vt===4||vt===3&&(Tt&130023424)===Tt&&500>rt()-cx?Oa(e,0):lx|=n),un(e,t)}function bP(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var n=Gt();e=ni(e,t),e!==null&&(xc(e,t,n),un(e,n))}function zL(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bP(e,n)}function BL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),bP(e,n)}var wP;wP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,OL(e,t,n);an=!!(e.flags&131072)}else an=!1,He&&t.flags&1048576&&_E(t,Od,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;nd(e,t),e=t.pendingProps;var i=Vo(t,Bt.current);Uo(t,n),i=nx(null,t,r,e,i,n);var a=rx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(a=!0,Ed(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xy(t),i.updater=Yf,t.stateNode=i,i._reactInternals=t,Ag(t,r,e,n),t=Dg(null,t,r,!0,a,n)):(t.tag=0,He&&a&&Ky(t),Kt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(nd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=KL(r),e=ir(r,e),i){case 0:t=Ig(null,t,r,e,n);break e;case 1:t=Xw(null,t,r,e,n);break e;case 11:t=Yw(null,t,r,e,n);break e;case 14:t=Jw(null,t,r,ir(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Ig(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Xw(e,t,r,i,n);case 3:e:{if(iP(t),e===null)throw Error(X(387));r=t.pendingProps,a=t.memoizedState,i=a.element,AE(e,t),Td(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xo(Error(X(423)),t),t=Qw(e,t,r,n,i);break e}else if(r!==i){i=Xo(Error(X(424)),t),t=Qw(e,t,r,n,i);break e}else for(kn=Li(t.stateNode.containerInfo.firstChild),Sn=t,He=!0,sr=null,n=OE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===i){t=ri(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return TE(t),e===null&&Pg(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Sg(r,i)?o=null:a!==null&&Sg(r,a)&&(t.flags|=32),rP(e,t),Kt(e,t,o,n),t.child;case 6:return e===null&&Pg(t),null;case 13:return aP(e,t,n);case 4:return Qy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Yo(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Yw(e,t,r,i,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Fe(Nd,r._currentValue),r._currentValue=o,a!==null)if(mr(a.value,o)){if(a.children===i.children&&!ln.current){t=ri(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Xr(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Og(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Og(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Kt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uo(t,n),i=Yn(i),r=r(i),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,i=ir(r,t.pendingProps),i=ir(r.type,i),Jw(e,t,r,i,n);case 15:return tP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),nd(e,t),t.tag=1,cn(r)?(e=!0,Ed(t)):e=!1,Uo(t,n),QE(t,r,i),Ag(t,r,i,n),Dg(null,t,r,!0,e,n);case 19:return oP(e,t,n);case 22:return nP(e,t,n)}throw Error(X(156,t.tag))};function kP(e,t){return YC(e,t)}function WL(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,t,n,r){return new WL(e,t,n,r)}function hx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KL(e){if(typeof e=="function")return hx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ty)return 11;if(e===Iy)return 14}return 2}function zi(e,t){var n=e.alternate;return n===null?(n=Hn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ad(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")hx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case So:return Na(n.children,i,a,t);case Ay:o=8,i|=8;break;case tg:return e=Hn(12,n,t,i|2),e.elementType=tg,e.lanes=a,e;case ng:return e=Hn(13,n,t,i),e.elementType=ng,e.lanes=a,e;case rg:return e=Hn(19,n,t,i),e.elementType=rg,e.lanes=a,e;case TC:return Qf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NC:o=10;break e;case AC:o=9;break e;case Ty:o=11;break e;case Iy:o=14;break e;case wi:o=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Hn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Na(e,t,n,r){return e=Hn(7,e,r,t),e.lanes=n,e}function Qf(e,t,n,r){return e=Hn(22,e,r,t),e.elementType=TC,e.lanes=n,e.stateNode={isHidden:!1},e}function Vp(e,t,n){return e=Hn(6,e,null,t),e.lanes=n,e}function Gp(e,t,n){return t=Hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function px(e,t,n,r,i,a,o,s,l){return e=new qL(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Hn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(a),e}function HL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function SP(e){if(!e)return qi;e=e._reactInternals;e:{if(Xa(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(cn(n))return SE(e,n,t)}return t}function jP(e,t,n,r,i,a,o,s,l){return e=px(n,r,!0,e,i,a,o,s,l),e.context=SP(null),n=e.current,r=Gt(),i=Ui(n),a=Xr(r,i),a.callback=t??null,$i(n,a,i),e.current.lanes=i,xc(e,i,r),un(e,r),e}function Zf(e,t,n,r){var i=t.current,a=Gt(),o=Ui(i);return n=SP(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$i(i,t,o),e!==null&&(fr(e,i,o,a),Zu(e,i,o)),o}function Ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function l1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mx(e,t){l1(e,t),(e=e.alternate)&&l1(e,t)}function VL(){return null}var _P=typeof reportError=="function"?reportError:function(e){console.error(e)};function gx(e){this._internalRoot=e}eh.prototype.render=gx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Zf(e,t,null,null)};eh.prototype.unmount=gx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;za(function(){Zf(null,e,null,null)}),t[ti]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=nE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_i.length&&t!==0&&t<_i[n].priority;n++);_i.splice(n,0,e),n===0&&iE(e)}};function vx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c1(){}function GL(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Ud(o);a.call(c)}}var o=jP(t,r,e,0,null,!1,!1,"",c1);return e._reactRootContainer=o,e[ti]=o.current,Kl(e.nodeType===8?e.parentNode:e),za(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Ud(l);s.call(c)}}var l=px(e,0,!1,null,null,!1,!1,"",c1);return e._reactRootContainer=l,e[ti]=l.current,Kl(e.nodeType===8?e.parentNode:e),za(function(){Zf(t,l,n,r)}),l}function nh(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Ud(o);s.call(l)}}Zf(t,o,e,i)}else o=GL(n,t,e,i,r);return Ud(o)}eE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fl(t.pendingLanes);n!==0&&(My(t,n|1),un(t,rt()),!(je&6)&&(Qo=rt()+500,Yi()))}break;case 13:za(function(){var r=ni(e,1);if(r!==null){var i=Gt();fr(r,e,1,i)}}),mx(e,1)}};Ly=function(e){if(e.tag===13){var t=ni(e,134217728);if(t!==null){var n=Gt();fr(t,e,134217728,n)}mx(e,134217728)}};tE=function(e){if(e.tag===13){var t=Ui(e),n=ni(e,t);if(n!==null){var r=Gt();fr(n,e,t,r)}mx(e,t)}};nE=function(){return Oe};rE=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}};hg=function(e,t,n){switch(t){case"input":if(og(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hf(r);if(!i)throw Error(X(90));DC(r),og(r,i)}}}break;case"textarea":MC(e,n);break;case"select":t=n.value,t!=null&&Mo(e,!!n.multiple,t,!1)}};WC=ux;KC=za;var YL={usingClientEntryPoint:!1,Events:[wc,Eo,Hf,zC,BC,ux]},Js={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JL={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VC(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||VL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Bf=bu.inject(JL),Ar=bu}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YL;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vx(t))throw Error(X(200));return HL(e,t,null,n)};An.createRoot=function(e,t){if(!vx(e))throw Error(X(299));var n=!1,r="",i=_P;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=px(e,1,!1,null,null,n,!1,r,i),e[ti]=t.current,Kl(e.nodeType===8?e.parentNode:e),new gx(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=VC(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return za(e)};An.hydrate=function(e,t,n){if(!th(t))throw Error(X(200));return nh(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!vx(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=_P;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=jP(t,null,e,1,n??null,i,!1,a,o),e[ti]=t.current,Kl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new eh(t)};An.render=function(e,t,n){if(!th(t))throw Error(X(200));return nh(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!th(e))throw Error(X(40));return e._reactRootContainer?(za(function(){nh(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0):!1};An.unstable_batchedUpdates=ux;An.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!th(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return nh(e,t,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function CP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CP)}catch(e){console.error(e)}}CP(),CC.exports=An;var yx=CC.exports,u1=yx;Zm.createRoot=u1.createRoot,Zm.hydrateRoot=u1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var Ai;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ai||(Ai={}));const d1="popstate";function XL(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Hg("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:PP(i)}return ZL(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function EP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QL(){return Math.random().toString(36).substr(2,8)}function f1(e,t){return{usr:e.state,key:e.key,idx:t}}function Hg(e,t,n,r){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:n,key:t&&t.key||r||QL()})}function PP(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ZL(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ai.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Zl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Ai.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:s,location:g.location,delta:v})}function h(y,v){s=Ai.Push;let b=Hg(g.location,y,v);n&&n(b,y),c=u()+1;let w=f1(b,c),S=g.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(y,v){s=Ai.Replace;let b=Hg(g.location,y,v);n&&n(b,y),c=u();let w=f1(b,c),S=g.createHref(b);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof y=="string"?y:PP(y);return b=b.replace(/ $/,"%20"),ut(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let g={get action(){return s},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d1,f),l=y,()=>{i.removeEventListener(d1,f),l=null}},createHref(y){return t(i,y)},createURL:m,encodeLocation(y){let v=m(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(y){return o.go(y)}};return g}var h1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h1||(h1={}));function e$(e,t,n){return n===void 0&&(n="/"),t$(e,t,n,!1)}function t$(e,t,n,r){let i=typeof t=="string"?xs(t):t,a=AP(i.pathname||"/",n);if(a==null)return null;let o=OP(e);n$(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=h$(a);s=d$(o[l],c,r)}return s}function OP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Aa([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OP(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:c$(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of NP(a.path))i(a,o,l)}),t}function NP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=NP(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function n$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:u$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r$=/^:[\w-]+$/,i$=3,a$=2,o$=1,s$=10,l$=-2,p1=e=>e==="*";function c$(e,t){let n=e.split("/"),r=n.length;return n.some(p1)&&(r+=l$),t&&(r+=a$),n.filter(i=>!p1(i)).reduce((i,a)=>i+(r$.test(a)?i$:a===""?o$:s$),r)}function u$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function d$(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=m1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=m1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Aa([a,f.pathname]),pathnameBase:v$(Aa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Aa([a,f.pathnameBase]))}return o}function m1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=f$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function f$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),EP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function h$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return EP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function AP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function p$(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xs(e):e;return{pathname:n?n.startsWith("/")?n:m$(n,t):t,search:y$(r),hash:x$(i)}}function m$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function TP(e,t){let n=g$(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function IP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xs(e):(i=Zl({},e),ut(!i.pathname||!i.pathname.includes("?"),Yp("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Yp("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Yp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=p$(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Aa=e=>e.join("/").replace(/\/\/+/g,"/"),v$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function b$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const DP=["post","put","patch","delete"];new Set(DP);const w$=["get",...DP];new Set(w$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}const xx=x.createContext(null),k$=x.createContext(null),Sc=x.createContext(null),rh=x.createContext(null),Ji=x.createContext({outlet:null,matches:[],isDataRoute:!1}),RP=x.createContext(null);function jc(){return x.useContext(rh)!=null}function Qa(){return jc()||ut(!1),x.useContext(rh).location}function MP(e){x.useContext(Sc).static||x.useLayoutEffect(e)}function In(){let{isDataRoute:e}=x.useContext(Ji);return e?R$():S$()}function S$(){jc()||ut(!1);let e=x.useContext(xx),{basename:t,future:n,navigator:r}=x.useContext(Sc),{matches:i}=x.useContext(Ji),{pathname:a}=Qa(),o=JSON.stringify(TP(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return MP(()=>{s.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=IP(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Aa([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,o,a,e])}function LP(){let{matches:e}=x.useContext(Ji),t=e[e.length-1];return t?t.params:{}}function j$(e,t){return _$(e,t)}function _$(e,t,n,r){jc()||ut(!1);let{navigator:i}=x.useContext(Sc),{matches:a}=x.useContext(Ji),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qa(),u;if(t){var f;let y=typeof t=="string"?xs(t):t;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||ut(!1),u=y}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=e$(e,{pathname:p}),g=N$(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Aa([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Aa([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return t&&g?x.createElement(rh.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ai.Pop}},g):g}function C$(){let e=D$(),t=b$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,a)}const E$=x.createElement(C$,null);class P$ extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Ji.Provider,{value:this.props.routeContext},x.createElement(RP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O$(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(xx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ji.Provider,{value:t},r)}function N$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||ut(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,m=!1,g=null,y=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||E$,l&&(c<0&&h===0?(M$("route-fallback",!1),m=!0,y=null):c===h&&(m=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,x.createElement(O$,{match:f,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(P$,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var $P=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($P||{}),zd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zd||{});function A$(e){let t=x.useContext(xx);return t||ut(!1),t}function T$(e){let t=x.useContext(k$);return t||ut(!1),t}function I$(e){let t=x.useContext(Ji);return t||ut(!1),t}function FP(e){let t=I$(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function D$(){var e;let t=x.useContext(RP),n=T$(zd.UseRouteError),r=FP(zd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function R$(){let{router:e}=A$($P.UseNavigateStable),t=FP(zd.UseNavigateStable),n=x.useRef(!1);return MP(()=>{n.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ec({fromRouteId:t},a)))},[e,t])}const g1={};function M$(e,t,n){!t&&!g1[e]&&(g1[e]=!0)}function L$(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function UP(e){let{to:t,replace:n,state:r,relative:i}=e;jc()||ut(!1);let{future:a,static:o}=x.useContext(Sc),{matches:s}=x.useContext(Ji),{pathname:l}=Qa(),c=In(),u=IP(t,TP(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Fn(e){ut(!1)}function $$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ai.Pop,navigator:a,static:o=!1,future:s}=e;jc()&&ut(!1);let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:a,static:o,future:ec({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=xs(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let y=AP(u,l);return y==null?null:{location:{pathname:y,search:f,hash:h,state:p,key:m},navigationType:i}},[l,u,f,h,p,m,i]);return g==null?null:x.createElement(Sc.Provider,{value:c},x.createElement(rh.Provider,{children:n,value:g}))}function F$(e){let{children:t,location:n}=e;return j$(Vg(t),n)}new Promise(()=>{});function Vg(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,Vg(r.props.children,a));return}r.type!==Fn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vg(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function U$(e,t){let n=Gg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const z$="6";try{window.__reactRouterVersion=z$}catch{}const B$="startTransition",v1=jC[B$];function W$(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current==null&&(a.current=XL({window:i,v5Compat:!0}));let o=a.current,[s,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(f=>{c&&v1?v1(()=>l(f)):l(f)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>L$(r),[r]),x.createElement($$,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var y1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y1||(y1={}));var x1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(x1||(x1={}));function K$(e){let t=x.useRef(Gg(e)),n=x.useRef(!1),r=Qa(),i=x.useMemo(()=>U$(r.search,n.current?null:t.current),[r.search]),a=In(),o=x.useCallback((s,l)=>{const c=Gg(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}const zP=x.createContext(void 0),b1="axpro_theme",q$=({children:e})=>{const[t,n]=x.useState(()=>{const s=localStorage.getItem(b1);return s==="light"||s==="dark"?s:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=s=>{n(s),localStorage.setItem(b1,s),a(s)},i=()=>{r(t==="light"?"dark":"light")},a=s=>{document.documentElement.setAttribute("data-theme",s)};x.useEffect(()=>{a(t)},[t]);const o={theme:t,setTheme:r,toggleTheme:i};return d.jsx(zP.Provider,{value:o,children:e})},Za=()=>{const e=x.useContext(zP);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},bx=x.createContext(void 0),w1="axpro_lang",H$={en:{"app.brand":"AX PRO PLATFORM","auth.title.chat":"Sign in","auth.title.admin":"Sign in","auth.subtitle.chat":"Continue to the Chat Interface","auth.subtitle.admin":"Continue to the Administrative Console","auth.email":"Email","auth.password":"Password","auth.continue":"Continue","auth.error":"Invalid credentials. Try the demo accounts.","auth.demoHint":"Demo: demo@tecace.com / demo1234  admin@tecace.com / admin1234","link.toAdmin":"Sign in to the Admin Console","link.toChat":"Use Chat Interface sign-in","ui.theme.light":"Light","ui.theme.dark":"Dark","ui.lang.en":"English","ui.lang.ko":"","chat.title":"Chat Interface","chat.welcome":"Welcome to the chat interface","dashboard.title":"Admin Console","dashboard.welcome":"Welcome to the admin console","auth.signOut":"Sign out","dashboard.timeline":"Performance Timeline","dashboard.activity":"Daily Message Activity","usage.sessions":"Recent Conversations","usage.messages":"Messages","usage.feedback.admin":"Admin Feedback","usage.feedback.user":"User Feedback","mgmt.prompt":"Prompt Control","mgmt.knowledge":"Knowledge Management","actions.new":"New","actions.refresh":"Refresh","actions.save":"Save","actions.revert":"Revert","actions.test":"Test","actions.open":"Open","actions.rename":"Rename","actions.close":"Close","actions.delete":"Delete","filters.status":"Status","filters.search":"Search","labels.title":"Title","labels.lastActivity":"Last activity","labels.count":"Count","labels.status":"Status","context.rename":"Rename","context.reopen":"Reopen","context.close":"Close","context.deletePermanently":"Delete permanently","context.confirmDelete":"Are you sure you want to permanently delete this conversation? This action cannot be undone.","context.confirmDeleteClosed":"Are you sure you want to permanently delete this closed conversation? This action cannot be undone.","context.deleteFailed":"Failed to delete session. Please try again.","ui.user":"User","ui.settings":"Settings","ui.signOut":"Sign Out","ui.demoMode":"Demo Mode","ui.demoModeDescription":"Backend not running. Chat features limited.","ui.newChat":"New Chat","ui.searchConversations":"Search conversations...","ui.all":"All","ui.open":"Open","ui.closed":"Closed","ui.noConversations":"No conversations yet","ui.startConversation":"Start a new conversation to begin chatting","ui.startNewChat":"Start New Chat","ui.backendNote":"Note: Full chat features require backend server","ui.selectConversation":"Select a conversation from the sidebar or start a new chat","ui.newChatTitle":"New Chat","ui.closeChat":"Close Chat","ui.justNow":"Just now","ui.typeMessage":"Type a message... (Enter to send, Shift+Enter for new line)","ui.send":"Send","ui.sending":"Sending...","ui.suggestedQuestions":"Suggested questions","ui.question1":"What is artificial intelligence?","ui.question2":"How does machine learning work?","ui.question3":"Explain quantum computing","ui.question4":"What are the benefits of cloud computing?","admin.performance":"Performance","admin.excellent":"Excellent","admin.good":"Good","admin.fair":"Fair","admin.poor":"Poor","admin.conversations":"Conversations","admin.overview":"Overview","admin.documents":"Documents","admin.navigation":"Navigation","admin.activity":"Activity","admin.feedback":"Feedback","admin.knowledgeBase":"Knowledge Management","admin.satisfaction":"Satisfaction","admin.metrics":"Metrics","admin.recentConversations":"Recent Conversations","admin.userFeedback":"User Feedback","admin.promptControl":"Prompt Control","admin.systemPrompt":"System Prompt Control","admin.lastRefreshed":"Last refreshed","admin.loading":"Loading...","admin.saving":"Saving...","admin.saveChanges":"Save Changes","admin.confirmUpdate":"Confirm Update","admin.confirmUpdateMessage":"This will update the system prompt for the chatbot. Are you sure you would like to proceed?","admin.cancel":"Cancel","admin.confirm":"Confirm","admin.success":"Success","admin.error":"Error","admin.close":"Close","admin.goToChat":"Go to Chat Interface","admin.notifications":"Notifications","admin.toggleTheme":"Toggle theme","admin.userProfile":"User profile","admin.signOut":"Sign out","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"Monitor AI response quality and security performance across 6 key metrics in real-time for optimal user experience","admin.dailyMessageActivity":"Daily Message Activity","admin.moduleControl":"Module Control","admin.relevance":"Relevance","admin.tone":"Tone","admin.length":"Length","admin.accuracy":"Accuracy","admin.toxicity":"Toxicity","admin.promptInjection":"Prompt Injection","admin.contentMatching":"Content Matching","admin.responseStyle":"Response Style","admin.responseSize":"Response Size","admin.correctAnswers":"Correct Answers","admin.safetyCheck":"Safety Check","admin.securityFilter":"Security Filter","admin.performanceTimeline":"Performance Timeline","admin.date":"Date","admin.actual":"Actual","admin.estimated":"Estimated","admin.totalMessages":"Total Messages","admin.userFeedbackCount":"User Feedback","admin.adminReviews":"Admin Reviews","admin.corrected":"Corrected","admin.messages":"Messages","admin.sortBy":"Sort by","admin.search":"Search","admin.exportCSV":"Export CSV","admin.dateTimeNewest":"Date/Time (Newest)","admin.dateTimeOldest":"Date/Time (Oldest)","admin.user":"User","admin.userMessage":"User Message","admin.aiResponse":"AI Response","admin.searchConversations":"Search conversations...","admin.searchAll":"Search all data...","admin.avgPerDay":"avg/day","admin.average":"Average","admin.approval":"Approval","admin.uniqueUsers":"Unique Users","admin.last3Days":"Last 3 days","admin.last7Days":"Last 7 days","admin.last30Days":"Last 30 days","admin.last3Months":"Last 3 months","admin.last6Months":"Last 6 months","admin.lastYear":"Last year","admin.customRange":"Custom range","admin.ragManagement":"RAG Management","admin.ragDescription":"Upload and manage documents for the RAG (Retrieval-Augmented Generation) system","admin.uploadingFiles":"Uploading files...","admin.dropFilesHere":"Drop files here to upload","admin.clickToUpload":"Click to upload or drag and drop files","admin.supportedFormats":"Supports PDF, Word, Excel, CSV, TXT, MD, JSON, HTML","admin.uploadResults":"Upload Results","admin.clear":"Clear","admin.uploadedFiles":"Uploaded Files","admin.status.uploading":"Uploading","admin.status.processing":"Processing","admin.status.ready":"Ready","admin.status.error":"Error","admin.removeFile":"Remove file","admin.instructions":"Instructions","admin.instruction1":"Upload documents to enhance the AI's knowledge base","admin.instruction2":"Supported formats: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"Files are automatically processed and vectorized for search","admin.instruction4":"Maximum file size: 10MB per file","admin.searchFiles":"Search files...","admin.name":"Name","admin.size":"Size","admin.reindexFile":"Re-index file","admin.deleteFile":"Delete file","admin.confirmDeleteFile":"Are you sure you want to delete this file?","admin.deleteError":"Failed to delete file","knowledge.title":"Knowledge Management","knowledge.subtitle":"Manage files and knowledge base for AI chatbot","knowledge.note":"Files are stored in the **File Library**, while the **Knowledge Index** holds their searchable content. These can differ. Check the **Sync Overview** tab to see if they're in sync.","knowledge.fileLibrary":"File Library","knowledge.knowledgeIndex":"Knowledge Index","knowledge.syncOverview":"Sync Overview","knowledge.fileLibraryDescription":"Manage files in your library (upload/delete). Knowledge indexing is handled in the next section.","knowledge.knowledgeIndexDescription":"Documents indexed for AI chatbot knowledge queries","knowledge.syncOverviewDescription":"Monitor synchronization status between files and knowledge index","knowledge.dragFilesHere":"Drag text files here to upload or click to select","knowledge.supportedFormats":"Supported formats: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"Uploading files...","knowledge.searchByFilename":"Search by filename...","knowledge.searchByTitleFilepathContent":"Search by title, filepath, or content...","knowledge.refresh":"Refresh","knowledge.loading":"Loading...","knowledge.fileName":"File Name","knowledge.size":"Size","knowledge.lastModified":"Last Modified","knowledge.contentType":"Content Type","knowledge.syncStatus":"Sync Status","knowledge.actions":"Actions","knowledge.documentTitle":"Title","knowledge.parentId":"Parent ID","knowledge.chunkId":"Chunk ID","knowledge.url":"URL","knowledge.sync":"Sync","knowledge.view":"View","knowledge.download":"Download","knowledge.delete":"Delete","knowledge.stop":"Stop","knowledge.previous":"Previous","knowledge.next":"Next","knowledge.synced":"Synced","knowledge.pending":"Pending","knowledge.error":"Error","knowledge.unknown":"Unknown","knowledge.blobStatusLastModified":"Blob Status / Last Modified","knowledge.indexStatusChunks":"Index Status / Chunks"},ko:{"app.brand":"AX PRO ","auth.title.chat":"","auth.title.admin":"","auth.subtitle.chat":"  ","auth.subtitle.admin":"  ","auth.email":"","auth.password":"","auth.continue":"","auth.error":"   .    .","auth.demoHint":": demo@tecace.com / demo1234  admin@tecace.com / admin1234","link.toAdmin":"  ","link.toChat":"  ","ui.theme.light":"","ui.theme.dark":"","ui.lang.en":"","ui.lang.ko":"","chat.title":" ","chat.welcome":"    ","dashboard.title":" ","dashboard.welcome":"    ","auth.signOut":"","dashboard.timeline":" ","dashboard.activity":"  ","usage.sessions":" ","usage.messages":"","usage.feedback.admin":" ","usage.feedback.user":" ","mgmt.prompt":" ","mgmt.knowledge":" ","actions.new":" ","actions.refresh":"","actions.save":"","actions.revert":"","actions.test":"","actions.open":"","actions.rename":" ","actions.close":"","actions.delete":"","filters.status":"","filters.search":"","labels.title":"","labels.lastActivity":" ","labels.count":"","labels.status":"","context.rename":" ","context.reopen":" ","context.close":"","context.deletePermanently":" ","context.confirmDelete":"   ?     .","context.confirmDeleteClosed":"    ?     .","context.deleteFailed":"  .   .","ui.user":"","ui.settings":"","ui.signOut":"","ui.demoMode":" ","ui.demoModeDescription":"  .   .","ui.newChat":" ","ui.searchConversations":" ...","ui.all":"","ui.open":"","ui.closed":"","ui.noConversations":"  ","ui.startConversation":"    ","ui.startNewChat":"  ","ui.backendNote":":      ","ui.selectConversation":"     ","ui.newChatTitle":" ","ui.closeChat":" ","ui.justNow":" ","ui.typeMessage":" ... (Enter , Shift+Enter  )","ui.send":"","ui.sending":" ...","ui.suggestedQuestions":" ","ui.question1":" ?","ui.question2":"  ?","ui.question3":"  ","ui.question4":"   ?","admin.performance":"","admin.excellent":"","admin.good":"","admin.fair":"","admin.poor":"","admin.conversations":"","admin.overview":"","admin.documents":"","admin.navigation":"","admin.activity":"","admin.feedback":"","admin.knowledgeBase":" ","admin.satisfaction":"","admin.metrics":"","admin.recentConversations":" ","admin.userFeedback":" ","admin.promptControl":" ","admin.systemPrompt":"  ","admin.lastRefreshed":" ","admin.loading":" ...","admin.saving":" ...","admin.saveChanges":" ","admin.confirmUpdate":" ","admin.confirmUpdateMessage":"   . ?","admin.cancel":"","admin.confirm":"","admin.success":"","admin.error":"","admin.close":"","admin.goToChat":"  ","admin.notifications":"","admin.toggleTheme":" ","admin.userProfile":" ","admin.signOut":"","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"AI     6        ","admin.dailyMessageActivity":"  ","admin.moduleControl":" ","admin.relevance":"","admin.tone":"","admin.length":"","admin.accuracy":"","admin.toxicity":"","admin.promptInjection":" ","admin.contentMatching":" ","admin.responseStyle":" ","admin.responseSize":" ","admin.correctAnswers":"","admin.safetyCheck":" ","admin.securityFilter":" ","admin.performanceTimeline":" ","admin.date":"","admin.actual":"","admin.estimated":"","admin.totalMessages":" ","admin.userFeedbackCount":" ","admin.adminReviews":" ","admin.corrected":"","admin.messages":"","admin.sortBy":"","admin.search":"","admin.exportCSV":"CSV ","admin.dateTimeNewest":"/ ()","admin.dateTimeOldest":"/ ()","admin.user":"","admin.userMessage":" ","admin.aiResponse":"AI ","admin.searchConversations":" ...","admin.searchAll":"  ...","admin.avgPerDay":"","admin.average":"","admin.approval":"","admin.uniqueUsers":" ","admin.last3Days":" 3","admin.last7Days":" 7","admin.last30Days":" 30","admin.last3Months":" 3","admin.last6Months":" 6","admin.lastYear":" 1","admin.customRange":"  ","admin.ragManagement":"RAG ","admin.ragDescription":"RAG (  )      ","admin.uploadingFiles":"  ...","admin.dropFilesHere":"   ","admin.clickToUpload":"     ","admin.supportedFormats":"PDF, Word, Excel, CSV, TXT, MD, JSON, HTML ","admin.uploadResults":" ","admin.clear":"","admin.uploadedFiles":" ","admin.status.uploading":" ","admin.status.processing":" ","admin.status.ready":"","admin.status.error":"","admin.removeFile":" ","admin.instructions":" ","admin.instruction1":"AI      ","admin.instruction2":" : PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"     ","admin.instruction4":"  :  10MB","admin.searchFiles":" ...","admin.name":"","admin.size":"","admin.reindexFile":" ","admin.deleteFile":" ","admin.confirmDeleteFile":"  ?","admin.deleteError":"  ","knowledge.title":" ","knowledge.subtitle":"AI       ","knowledge.note":" ** ** , ** **    .     . ** **    .","knowledge.fileLibrary":" ","knowledge.knowledgeIndex":" ","knowledge.syncOverview":" ","knowledge.fileLibraryDescription":"   (/).     .","knowledge.knowledgeIndexDescription":"AI      ","knowledge.syncOverviewDescription":"      ","knowledge.dragFilesHere":"      ","knowledge.supportedFormats":" : .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"  ...","knowledge.searchByFilename":" ...","knowledge.searchByTitleFilepathContent":",     ...","knowledge.refresh":"","knowledge.loading":" ...","knowledge.fileName":"","knowledge.size":"","knowledge.lastModified":" ","knowledge.contentType":" ","knowledge.syncStatus":" ","knowledge.actions":"","knowledge.documentTitle":"","knowledge.parentId":" ID","knowledge.chunkId":" ID","knowledge.url":"URL","knowledge.sync":"","knowledge.view":"","knowledge.download":"","knowledge.delete":"","knowledge.stop":"","knowledge.previous":"","knowledge.next":"","knowledge.synced":"","knowledge.pending":" ","knowledge.error":"","knowledge.unknown":"  ","knowledge.blobStatusLastModified":"Blob  /  ","knowledge.indexStatusChunks":"  / "}},V$=({children:e})=>{const[t,n]=x.useState(()=>{const o=localStorage.getItem(w1);return o==="en"||o==="ko"?o:"en"}),a={language:t,setLanguage:o=>{n(o),localStorage.setItem(w1,o)},t:o=>H$[t][o]||o};return d.jsx(bx.Provider,{value:a,children:e})},_c=()=>{const e=x.useContext(bx);if(e===void 0)throw new Error("useT must be used within an I18nProvider");return e.t},et=()=>{const e=x.useContext(bx);if(e===void 0)throw new Error("useTranslation must be used within an I18nProvider");return e},G$={"chatbot-admin@tecace.com":{password:"admin1234",role:"admin",userId:"409esj1923"},"chatbot-user@tecace.com":{password:"user1234",role:"user",userId:"user123456"}},wx="axpro_session",Yg=(e,t)=>{const n=e.toLowerCase().trim(),r=G$[n];if(!r||r.password!==t)return null;const i={email:n,userId:r.userId,role:r.role,createdAt:Date.now()};try{return sessionStorage.setItem(wx,JSON.stringify(i)),i}catch(a){return console.error("Failed to store session:",a),null}},tc=()=>{try{sessionStorage.removeItem(wx)}catch(e){console.error("Failed to clear session:",e)}},Dr=()=>{try{const e=sessionStorage.getItem(wx);if(!e)return null;const t=JSON.parse(e);return!t.email||!t.userId||!t.role||!t.createdAt?(tc(),null):t}catch(e){return console.error("Failed to retrieve session:",e),tc(),null}},BP=e=>{const t=Dr();return t?e==="admin"?t.role==="admin":!0:!1},Y$=()=>{const[e,t]=Wi.useState(null);return Wi.useEffect(()=>{t(Dr())},[]),{session:e,login:(a,o)=>{const s=Yg(a,o);return t(s),s},logout:()=>{tc(),t(null)},isAuthedFor:a=>BP(a)}},WP="http://localhost:3000/api";class od extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}async function Cr(e,t={}){const n=`${WP}${e}`;try{const r=await fetch(n,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){const i=await r.json().catch(()=>({}));throw new od(r.status,i.error||"Request failed")}return r.json()}catch(r){throw r instanceof od?r:new od(0,`Network error: ${r instanceof Error?r.message:"Unknown error"}`)}}const Jg={async demoLogin(e,t){return Cr("/auth/demo-login",{method:"POST",body:JSON.stringify({email:e,password:t})})},async getMe(){return Cr("/auth/me")},async logout(){return Cr("/auth/logout",{method:"POST"})}},wu={async list(e=20,t){const n=new URLSearchParams({limit:e.toString()});return t&&n.append("cursor",t),Cr(`/sessions?${n}`)},async create(e){return Cr("/sessions",{method:"POST",body:JSON.stringify({title:e})})},async get(e){return Cr(`/sessions/${e}`)},async update(e,t){return Cr(`/sessions/${e}`,{method:"PATCH",body:JSON.stringify(t)})},async delete(e){return Cr(`/sessions/${e}`,{method:"DELETE"})}},Jp={async list(e,t=50,n,r="older"){const i=new URLSearchParams({limit:t.toString(),direction:r});return n&&i.append("cursor",n),Cr(`/sessions/${e}/messages?${i}`)},async send(e,t,n=!1){if(n){const r=await fetch(`${WP}/sessions/${e}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,stream:!0})});if(!r.ok)throw new od(r.status,"Stream request failed");return r}else return Cr(`/sessions/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,stream:!1})})}},Vr=async()=>(console.log("Backend check: No backend API server, using local storage for sessions"),!1),J$=()=>{const e={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL;if(e&&e.trim())return console.log("n8n webhook check: Configured (environment variable)"),!0;const t=localStorage.getItem("axpro_n8n_webhook_url"),n=localStorage.getItem("axpro_n8n_configs");if(n)try{const r=JSON.parse(n);if(Array.isArray(r)&&r.length>0&&r[0].webhookUrl)return console.log("n8n webhook check: Configured (multi-config)"),!0}catch(r){console.error("Failed to parse n8n configs:",r)}return t&&t.trim()?(console.log("n8n webhook check: Configured (legacy)"),!0):(console.log("n8n webhook check: Not configured"),!1)},Xg=()=>{const e={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_ENABLE_SIMULATION;if(e!==void 0)return e==="true"||e==="1";const t=localStorage.getItem("axpro_enable_simulation");return t!==null?t==="true":!1},X$=e=>{localStorage.setItem("axpro_enable_simulation",e.toString())},Q$=()=>{const e=In(),{theme:t,toggleTheme:n}=Za(),{language:r,setLanguage:i,t:a}=et(),[o,s]=x.useState({email:"",password:""}),[l,c]=x.useState(null),[u,f]=x.useState(!1),[h,p]=x.useState("checking");Wi.useEffect(()=>{const y=Dr();y&&(y.role==="admin"?e("/admin/dashboard"):e("/chat"))},[e]),Wi.useEffect(()=>{(async()=>{const v=await Vr();p(v?"available":"unavailable")})()},[]);const m=y=>{const{name:v,value:b}=y.target;s(w=>({...w,[v]:b})),l&&c(null)},g=async y=>{y.preventDefault(),f(!0),c(null);try{await Jg.demoLogin(o.email,o.password);const v=Yg(o.email,o.password);v?v.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}catch(v){console.log("Backend API failed, trying local auth:",v);const b=Yg(o.email,o.password);b?b.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}finally{f(!1)}};return d.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"flex justify-between items-center p-4",children:[d.jsx("div",{className:"text-xs uppercase tracking-wider",style:{color:"var(--text-muted)"},children:a("app.brand")}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:a(t==="light"?"ui.theme.dark":"ui.theme.light")}),d.jsxs("select",{value:r,onChange:y=>i(y.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:a("ui.lang.en")}),d.jsx("option",{value:"ko",children:a("ui.lang.ko")})]})]})]}),d.jsx("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-light",style:{color:"var(--text)"},children:a("auth.title.chat")}),d.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:a("auth.subtitle.chat")})]}),d.jsx("form",{className:"mt-8 space-y-6",onSubmit:g,children:d.jsxs("div",{className:"card py-8 px-6 rounded-lg",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.email")}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.email")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.password")}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o.password,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.password")})]})]}),l&&d.jsxs("div",{className:"mt-4 p-3 rounded-md error",children:[d.jsx("p",{className:"text-sm",children:l}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:a("auth.demoHint")})]}),d.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full mt-6 flex justify-center py-2 px-4 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":a("auth.continue")})]})}),h==="unavailable"&&d.jsx("div",{className:"card rounded-md p-3 mb-4",style:{backgroundColor:"var(--warning-light)"},children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{children:""}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Backend not running"}),d.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Using local authentication. Run ",d.jsx("code",{children:"npm run dev:server"})," for full features."]})]})]})}),d.jsxs("div",{className:"card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:[d.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Demo Credentials (Click to auto-fill)"}),d.jsxs("div",{className:"space-y-2 text-xs",children:[d.jsx("button",{onClick:()=>{s({email:"chatbot-user@tecace.com",password:"user1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:" Regular User"}),d.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-user@tecace.com"})]}),d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:" Chat Interface"})]})}),d.jsx("button",{onClick:()=>{s({email:"chatbot-admin@tecace.com",password:"admin1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:" Admin User"}),d.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-admin@tecace.com"})]}),d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:" Admin Dashboard"})]})})]})]})]})})]})},Z$=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=In(),s=async()=>{try{if(r(!0),a(null),await Vr()){const m=await wu.list();t(m)}else{const m=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");t(m)}}catch(p){a(p instanceof Error?p.message:"Failed to fetch sessions")}finally{r(!1)}},l=async p=>{try{console.log("Creating new session...");const m=await Vr();if(console.log("Backend available:",m),m){console.log("Using backend API for session creation");const{id:g}=await wu.create(p);return await s(),o(`/chat/${g}`),g}else{console.log("Using local storage for session creation");const g=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:g,title:p||"New Chat",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");return v.push(y),localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),console.log("Session created successfully:",y),await s(),o(`/chat/${g}`),g}}catch(m){throw console.error("Failed to create session:",m),a(m instanceof Error?m.message:"Failed to create session"),m}},c=async(p,m)=>{try{if(await Vr())await wu.update(p,m);else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),v=y.findIndex(b=>b.id===p);v!==-1&&(y[v]={...y[v],...m,updatedAt:new Date().toISOString()},localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)))}await s()}catch(g){throw a(g instanceof Error?g.message:"Failed to update session"),g}},u=async p=>{try{console.log("deleteSession called with id:",p);const m=await Vr();if(console.log("Backend available:",m),m)console.log("Deleting via backend API"),await wu.delete(p);else{console.log("Deleting from localStorage");const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");console.log("Current sessions before delete:",y.length);const v=y.filter(b=>b.id!==p);console.log("Sessions after delete:",v.length),localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),localStorage.removeItem(`axpro_sim_messages_${p}`),console.log("Deleted associated messages for session:",p)}console.log("Refreshing sessions list"),await s();const g=e.filter(y=>y.id!==p);console.log("Remaining sessions:",g.length),g.length>0?o(`/chat/${g[0].id}`):o("/chat"),console.log("Delete session completed successfully")}catch(m){throw console.error("Error in deleteSession:",m),a(m instanceof Error?m.message:"Failed to delete session"),m}},f=async p=>{await c(p,{status:"closed"})},h=async p=>{await c(p,{status:"open"})};return x.useEffect(()=>{s()},[]),{sessions:e,loading:n,error:i,createSession:l,updateSession:c,deleteSession:u,closeSession:f,reopenSession:h,refresh:s}},e4=({session:e,isActive:t,onClick:n,updateSession:r,deleteSession:i,closeSession:a,reopenSession:o})=>{var S;const s=_c(),[l,c]=x.useState(!1),[u,f]=x.useState(!1),[h,p]=x.useState(e.title||""),m=x.useRef(null),g=j=>{j.preventDefault(),j.stopPropagation(),c(!l)},y=async()=>{if(h.trim()&&h!==e.title)try{await r(e.id,{title:h.trim()})}catch(j){console.error("Failed to rename session:",j)}f(!1),c(!1)},v=async()=>{try{e.status==="closed"?await o(e.id):await a(e.id)}catch(j){console.error("Failed to toggle session status:",j)}c(!1)},b=async()=>{const j=e.status==="closed"?s("context.confirmDeleteClosed"):s("context.confirmDelete");if(window.confirm(j))try{console.log("Deleting session:",e.id),await i(e.id),console.log("Session deleted successfully")}catch(k){console.error("Failed to permanently delete session:",k),alert(s("context.deleteFailed"))}c(!1)};x.useEffect(()=>{const j=k=>{m.current&&!m.current.contains(k.target)&&c(!1)};return l&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[l]);const w=j=>{const k=new Date(j),N=(new Date().getTime()-k.getTime())/(1e3*60*60);return N<1?s("ui.justNow"):N<24?`${Math.floor(N)}h ago`:N<168?`${Math.floor(N/24)}d ago`:k.toLocaleDateString()};return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`p-3 cursor-pointer transition-colors group ${t?"bg-gray-100 border-r-2 border-gray-400":"hover:bg-gray-50"}`,style:{backgroundColor:t?"var(--primary-light)":void 0,borderRightColor:t?"var(--text)":void 0},onClick:n,onContextMenu:g,children:u?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),onKeyDown:j=>{j.key==="Enter"&&y(),j.key==="Escape"&&(f(!1),p(e.title||""))},className:"input w-full px-2 py-1 text-sm",autoFocus:!0}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:y,className:"text-xs px-2 py-1 rounded bg-blue-500 text-white",children:"Save"}),d.jsx("button",{onClick:()=>{f(!1),p(e.title||"")},className:"text-xs px-2 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Cancel"})]})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:`text-sm font-medium truncate ${e.status==="closed"?"opacity-60":""}`,style:{color:"var(--text)"},children:e.title||s("ui.newChatTitle")}),e.status==="closed"&&d.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:""})]}),e.lastMessage&&d.jsxs("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-secondary)"},children:[e.lastMessage.role==="user"?"You: ":"Assistant: ",e.lastMessage.content]})]}),d.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:w(((S=e.lastMessage)==null?void 0:S.createdAt)||e.updatedAt)}),d.jsx("button",{onClick:g,className:"opacity-0 group-hover:opacity-100 text-xs px-1 py-1 rounded hover:bg-gray-200",style:{color:"var(--text-muted)"},children:""})]})]})})}),l&&!u&&d.jsx("div",{ref:m,className:"absolute right-0 top-0 z-20 w-48 card rounded-md shadow-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},onClick:j=>j.stopPropagation(),children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:j=>{j.stopPropagation(),f(!0),c(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:[" ",s("context.rename")]}),d.jsx("button",{onClick:j=>{j.stopPropagation(),v()},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:e.status==="closed"?` ${s("context.reopen")}`:` ${s("context.close")}`}),d.jsx("hr",{className:"my-1",style:{borderColor:"var(--border)"}}),d.jsxs("button",{onClick:j=>{j.stopPropagation(),b()},className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50",style:{color:"var(--error)"},children:[" ",s("context.deletePermanently")]})]})})]})},t4=()=>{const e=In(),{sessionId:t}=LP(),{sessions:n,loading:r,createSession:i,refresh:a,updateSession:o,deleteSession:s,closeSession:l,reopenSession:c}=Z$(),u=_c(),[f,h]=x.useState(""),[p,m]=x.useState("all"),g=n.filter(v=>{var S,j;const b=!f||((S=v.title)==null?void 0:S.toLowerCase().includes(f.toLowerCase()))||((j=v.lastMessage)==null?void 0:j.content.toLowerCase().includes(f.toLowerCase())),w=p==="all"||v.status===p;return b&&w}),y=async()=>{try{await i()}catch(v){console.error("Failed to create new chat:",v)}};return x.useEffect(()=>{const v=b=>{(b.metaKey||b.ctrlKey)&&b.key==="n"&&(b.preventDefault(),y())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[]),x.useEffect(()=>{const v=()=>{a()};return window.addEventListener("sessionUpdated",v),()=>window.removeEventListener("sessionUpdated",v)},[a]),r?d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"animate-pulse space-y-3",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})}):d.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[d.jsxs("div",{className:"p-4 space-y-3 flex-shrink-0",children:[d.jsxs("button",{onClick:y,className:"w-full btn-primary py-2 px-4 rounded-md text-sm font-medium",title:"Create new chat (N or Ctrl+N)",children:["+ ",u("ui.newChat")]}),d.jsx("input",{type:"text",placeholder:u("ui.searchConversations"),value:f,onChange:v=>h(v.target.value),className:"input w-full px-3 py-2 rounded-md text-sm"})]}),d.jsx("div",{className:"px-4 pb-2 flex-shrink-0",children:d.jsx("div",{className:"flex space-x-1",children:["all","open","closed"].map(v=>d.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 text-xs rounded-md transition-colors ${p===v?"text-white":"text-gray-600 hover:text-gray-900"}`,style:{backgroundColor:p===v?"var(--text)":"transparent",color:p===v?"var(--bg)":"var(--text-secondary)"},children:u(v==="all"?"ui.all":v==="open"?"ui.open":"ui.closed")},v))})}),d.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:g.length===0?d.jsx("div",{className:"p-4 text-center",children:f?d.jsxs("div",{children:[d.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:u("ui.noConversations")}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Try a different search term"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-4xl mb-2",children:""}),d.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text)"},children:u("ui.noConversations")}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:u("ui.startConversation")}),d.jsx("button",{onClick:y,className:"btn-primary px-4 py-2 text-sm rounded-md",children:u("ui.startNewChat")}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:u("ui.backendNote")})]})}):d.jsx("div",{className:"space-y-1 p-2",children:g.map(v=>d.jsx(e4,{session:v,isActive:t===v.id,onClick:()=>e(`/chat/${v.id}`),updateSession:o,deleteSession:s,closeSession:l,reopenSession:c},v.id))})})]})},n4="modulepreload",r4=function(e){return"/"+e},k1={},Xi=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=r4(a),a in k1)return;k1[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":n4,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Qg="axpro_n8n_configs",ih="axpro_active_n8n_config",ka={id:"default",name:"Default n8n Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},Cc=()=>{try{const e=localStorage.getItem(Qg);if(!e){const n=[ka];return localStorage.setItem(Qg,JSON.stringify(n)),localStorage.setItem(ih,ka.id),console.log("Initialized with default n8n config:",ka),n}const t=JSON.parse(e);return console.log("Loaded n8n configs from localStorage:",t),t}catch(e){return console.error("Failed to get n8n configs:",e),[ka]}},kx=e=>{try{localStorage.setItem(Qg,JSON.stringify(e))}catch(t){console.error("Failed to save n8n configs:",t)}},KP=()=>{try{const e=localStorage.getItem(ih);if(console.log("Active n8n config ID:",e),!e)return console.log("No active ID, using default config"),ka;const t=Cc();console.log("Available n8n configs:",t);const n=t.find(r=>r.id===e)||ka;return console.log("Selected active config:",n),n}catch(e){return console.error("Failed to get active n8n config:",e),ka}},qP=e=>{try{localStorage.setItem(ih,e)}catch(t){console.error("Failed to set active n8n config:",t)}},i4=e=>{const t={...e,id:`n8n_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=Cc();return n.push(t),kx(n),t},a4=(e,t)=>{const n=Cc(),r=n.findIndex(i=>i.id===e);return r===-1?null:(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},kx(n),n[r])},o4=e=>{const t=Cc(),n=t.filter(i=>i.id!==e);return n.length===t.length?!1:(kx(n),localStorage.getItem(ih)===e&&n.length>0&&qP(n[0].id),!0)},s4=async e=>{const t=KP();if(console.log("Sending to n8n with config:",t),console.log("Request payload:",e),!t)throw new Error("No active n8n configuration found");try{console.log("Making request to:",t.webhookUrl),console.log("Request payload:",JSON.stringify(e));const n=new AbortController,r=setTimeout(()=>{console.log("n8n webhook request timed out after 30 seconds"),n.abort()},3e4),i=await fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e),signal:n.signal});clearTimeout(r),console.log("Response status:",i.status),console.log("Response headers:",i.headers);const a=await i.text();if(console.log("=== N8N WEBHOOK DEBUG ==="),console.log("Response status:",i.status),console.log("Response ok:",i.ok),console.log("Raw response text length:",a.length),console.log("Raw response text:",a),console.log("Response text trimmed:",a.trim()),console.log("Is empty?",!a||a.trim()===""),console.log("Response URL:",i.url),console.log("Response headers:",Object.fromEntries(i.headers.entries())),console.log("========================"),a.includes("No response from webhook")&&(console.error("ERROR: Webhook returned error message instead of actual response!"),console.error("This suggests the workflow is not properly configured or is returning an error.")),!i.ok)throw console.error("Response error:",a),new Error(`HTTP error! status: ${i.status}, message: ${a}`);if(!a||a.trim()==="")throw console.warn("Empty response from webhook"),new Error("Empty response from webhook. Please check your workflow configuration.");let o;try{o=JSON.parse(a)}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Response text was:",a),new Error(`Invalid JSON response from n8n: ${a.substring(0,100)}...`)}console.log("n8n response:",o),console.log("n8n response type:",typeof o),console.log("n8n response is array:",Array.isArray(o));let s;if(Array.isArray(o))s=o[0],console.log("n8n array response data:",s);else if(o&&typeof o=="object")s=o,console.log("n8n object response data:",s);else throw new Error("Unexpected response format from n8n webhook");if(console.log("n8n responseData:",s),console.log("n8n responseData.answer:",s==null?void 0:s.answer),console.log("n8n responseData.answer type:",typeof(s==null?void 0:s.answer)),s&&s.answer&&s.answer.includes("No response from webhook"))throw console.error("Webhook returned error message:",s.answer),new Error("Webhook returned error: "+s.answer);if(s&&typeof s=="string"&&s.includes("No response from webhook"))throw console.error("Webhook returned error message as string:",s),new Error("Webhook returned error: "+s);if(s&&typeof s=="object"){const l=JSON.stringify(s);if(l.includes("No response from webhook"))throw console.error("Webhook returned error message in object:",s),new Error("Webhook returned error: "+l)}return s}catch(n){throw console.error("Failed to send to n8n:",n),n.name==="AbortError"?new Error("Webhook request timed out after 30 seconds"):n.name==="TypeError"&&n.message.includes("fetch")?new Error("Network error: Unable to reach webhook"):n}},l4=async e=>{try{const t={sessionId:"test-session",chatId:"test-chat-"+Date.now(),userId:"test-user",action:"sendMessage",chatInput:"Test connection"};return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch(t){return console.error("Failed to test n8n connection:",t),!1}};class c4{constructor(t){ru(this,"reader");this.reader=t.body.getReader()}async*read(){const t=new TextDecoder;let n="";try{for(;;){const{done:r,value:i}=await this.reader.read();if(r)break;n+=t.decode(i,{stream:!0});const a=n.split(`
`);n=a.pop()||"";for(const o of a)if(o.startsWith("data: ")){const s=o.slice(6);if(s==="[DONE]")return;try{yield JSON.parse(s)}catch{console.warn("Failed to parse SSE data:",s)}}}}finally{this.reader.releaseLock()}}}const S1={async sendMessage(e,t,n){const r=await Vr();if(console.log("Backend available:",r),r)if(n){const i=await Jp.send(e,t,!0),a=new c4(i);let o="",s=[];for await(const l of a.read())n(l),l.type==="final"&&(o=l.messageId||"",s=l.citations||[]);return{messageId:o,citations:s}}else{const i=await Jp.send(e,t,!1);return{messageId:i.messageId||`backend_${Date.now()}`,citations:i.citations||[]}}else{console.log("Backend unavailable, trying n8n for chat...");const i=J$(),a=KP();if(console.log("n8n webhook available:",i),console.log("Active n8n config:",a),i&&a&&a.webhookUrl){console.log("Using n8n webhook:",a.webhookUrl);try{const c=Dr(),u=`chat_${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f={sessionId:e,chatId:u,userId:(c==null?void 0:c.userId)||"unknown",action:"sendMessage",chatInput:t};console.log("=== CHAT SERVICE DEBUG ==="),console.log("Sending request to n8n:",f);let h,p=null;for(let m=1;m<=3;m++)try{console.log(`n8n request attempt ${m}/3`),h=await s4(f),console.log("n8n response received successfully:",h),console.log("Response type:",typeof h),console.log("Response has answer?",!!(h!=null&&h.answer)),console.log("Response answer:",h==null?void 0:h.answer);break}catch(g){if(p=g,console.warn(`n8n request attempt ${m} failed:`,g),m<3){const y=Math.pow(2,m)*1e3;console.log(`Retrying in ${y}ms...`),await new Promise(v=>setTimeout(v,y))}}if(!h||!h.answer)throw console.error("All n8n attempts failed, last error:",p),new Error(`n8n webhook failed after 3 attempts: ${(p==null?void 0:p.message)||"No response"}`);if(console.log("=========================="),n){const m=h.answer;console.log("Streaming answer text:",m);const g=m.split(" ");for(let y=0;y<g.length;y++)n({type:"delta",text:g[y]+(y<g.length-1?" ":"")}),await new Promise(v=>setTimeout(v,50));n({type:"final",messageId:u,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:u,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]})}return{messageId:u,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:u,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]}}catch(c){if(console.error("Failed to send to n8n:",c),console.log("n8n failed, checking simulation mode setting"),Xg())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error(`Chat service unavailable: ${c instanceof Error?c.message:"n8n webhook failed"}`)}}else if(console.log("No n8n config found or webhook URL missing"),console.log("n8n config was:",a),Xg())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error("Chat service unavailable: No n8n webhook configured");console.log("Falling back to simulation");const s=(await Xi(()=>import("./simulation-ee6eb0cb.js"),[])).generateSimulatedResponse(t),l=s.reply;if(n){const c=l.split(" ");for(let u=0;u<c.length;u++)n({type:"delta",text:c[u]+(u<c.length-1?" ":"")}),await new Promise(f=>setTimeout(f,50));n({type:"final",messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((u,f)=>({id:`sim_citation_${Date.now()}_${f}`,messageId:`sim_${Date.now()}`,sourceType:u.sourceType,title:u.title,snippet:u.snippet,sourceId:u.sourceId||`sim_${Date.now()}`,metadata:{}}))})}return{messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((c,u)=>({id:`sim_citation_${Date.now()}_${u}`,messageId:`sim_${Date.now()}`,sourceType:c.sourceType,title:c.title,snippet:c.snippet,sourceId:c.sourceId||`sim_${Date.now()}`,metadata:{}}))}}},async getMessages(e,t=50,n,r="older"){return await Vr()?await Jp.list(e,t,n,r):JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]")}},u4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Sx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class j1 extends Sx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _1 extends Sx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class C1 extends Sx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zg||(Zg={}));var d4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class f4{constructor(t,{headers:n={},customFetch:r,region:i=Zg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=u4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return d4(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:s,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const f=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let h;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(v=>{throw v.name==="AbortError"?v:new j1(v)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new _1(p);if(!p.ok)throw new C1(p);let g=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield p.json():g==="application/octet-stream"?y=yield p.blob():g==="text/event-stream"?y=p:g==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new j1(a)}:{data:null,error:a,response:a instanceof C1||a instanceof _1?a.context:void 0}}})}}var rn={},jx={},ah={},Ec={},oh={},sh={},h4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zo=h4();const p4=Zo.fetch,HP=Zo.fetch.bind(Zo),VP=Zo.Headers,m4=Zo.Request,g4=Zo.Response,bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:VP,Request:m4,Response:g4,default:HP,fetch:p4},Symbol.toStringTag,{value:"Module"})),v4=_R(bs);var lh={};Object.defineProperty(lh,"__esModule",{value:!0});let y4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};lh.default=y4;var GP=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sh,"__esModule",{value:!0});const x4=GP(v4),b4=GP(lh);let w4=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=x4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,c;let u=null,f=null,h=null,p=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const y=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(f=[],u=null,p=200,m="OK")}catch{a.status===404&&y===""?(p=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new b4.default(u)}return{error:u,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};sh.default=w4;var k4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oh,"__esModule",{value:!0});const S4=k4(sh);let j4=class extends S4.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};oh.default=j4;var _4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ec,"__esModule",{value:!0});const C4=_4(oh);let E4=class extends C4.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ec.default=E4;var P4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ah,"__esModule",{value:!0});const Xs=P4(Ec);let O4=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},a=r?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",s),i&&this.headers.append("Prefer",`count=${i}`),new Xs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Xs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Xs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Xs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ah.default=O4;var YP=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jx,"__esModule",{value:!0});const N4=YP(ah),A4=YP(Ec);let T4=class JP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new N4.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new JP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=n);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new A4.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};jx.default=T4;var ws=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const XP=ws(jx);rn.PostgrestClient=XP.default;const QP=ws(ah);rn.PostgrestQueryBuilder=QP.default;const ZP=ws(Ec);rn.PostgrestFilterBuilder=ZP.default;const eO=ws(oh);rn.PostgrestTransformBuilder=eO.default;const tO=ws(sh);rn.PostgrestBuilder=tO.default;const nO=ws(lh);rn.PostgrestError=nO.default;var I4=rn.default={PostgrestClient:XP.default,PostgrestQueryBuilder:QP.default,PostgrestFilterBuilder:ZP.default,PostgrestTransformBuilder:eO.default,PostgrestBuilder:tO.default,PostgrestError:nO.default};const{PostgrestClient:D4,PostgrestQueryBuilder:fce,PostgrestFilterBuilder:hce,PostgrestTransformBuilder:pce,PostgrestBuilder:mce,PostgrestError:gce}=I4;class R4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const M4="2.75.0",L4=`realtime-js/${M4}`,$4="1.0.0",ev=1e4,F4=1e3,U4=100;var Cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cl||(Cl={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var tv;(function(e){e.websocket="websocket"})(tv||(tv={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class z4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class rO{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const E1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=B4(o,e,t,i),a),{}):{}},B4=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?iO(a,o):nv(o)},iO=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return H4(t,n)}switch(e){case Me.bool:return W4(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return K4(t);case Me.json:case Me.jsonb:return q4(t);case Me.timestamp:return V4(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return nv(t);default:return nv(t)}},nv=e=>e,W4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},H4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>iO(t,s))}return e},V4=e=>typeof e=="string"?e.replace(" ","T"):e,aO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xp{constructor(t,n,r={},i=ev){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P1||(P1={}));class El{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=El.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=El.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=El.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=a[c];if(f){const h=u.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),m=u.filter(y=>p.indexOf(y.presence_ref)<0),g=f.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(s[c]=m),g.length>0&&(l[c]=g)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const f=t[s].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(O1||(O1={}));var Pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pl||(Pl={}));var Br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class _x{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Xp(this,or.join,this.params,this.timeout),this.rejoinTimer=new rO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new El(this),this.broadcastEndpointURL=aO(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Pl.PRESENCE]&&this.bindings[Pl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Br.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Br.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Br.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,v=[];for(let b=0;b<y;b++){const w=g[b],{filter:{event:S,schema:j,table:k,filter:C}}=w,N=p&&p[b];if(N&&N.event===S&&N.schema===j&&N.table===k&&N.filter===C)v.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Br.SUBSCRIBED);return}}).receive("error",p=>{this.state=ht.errored,t==null||t(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ht.joined&&t===Pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Xp(this,or.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>U4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=or;if(r&&[s,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,y;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,g,y,v,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(b=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:v,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&_x.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=E1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=E1(t.columns,t.old_record)),n}}const Qp=()=>{},ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G4=[1e3,2e3,5e3,1e4],Y4=1e4,J4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ev,this.transport=null,this.heartbeatIntervalMs=ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qp,this.ref=0,this.reconnectTimer=null,this.logger=Qp,this.conn=null,this.sendBuffer=[],this.serializer=new z4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${tv.websocket}`,this.httpEndpoint=aO(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$4}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return ga.Connecting;case Cl.open:return ga.Open;case Cl.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new _x(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(F4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([J4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:L4};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new rO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ev,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ku.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Qp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>G4[f-1]||Y4,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Cx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Q4 extends Cx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rv extends Cx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Z4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const oO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},eF=()=>Z4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xi(()=>Promise.resolve().then(()=>bs),void 0)).Response:Response}),iv=e=>{if(Array.isArray(e))return e.map(n=>iv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=iv(r)}),t},tF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var eo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const Zp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nF=(e,t,n)=>eo(void 0,void 0,void 0,function*(){const r=yield eF();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new Q4(Zp(i),a,o))}).catch(i=>{t(new rv(Zp(i),i))}):t(new rv(Zp(e),e))}),rF=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(tF(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Pc(e,t,n,r,i,a){return eo(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,rF(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nF(l,s,r))})})}function Bd(e,t,n,r){return eo(this,void 0,void 0,function*(){return Pc(e,"GET",t,n,r)})}function Sr(e,t,n,r,i){return eo(this,void 0,void 0,function*(){return Pc(e,"POST",t,r,i,n)})}function av(e,t,n,r,i){return eo(this,void 0,void 0,function*(){return Pc(e,"PUT",t,r,i,n)})}function iF(e,t,n,r){return eo(this,void 0,void 0,function*(){return Pc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function sO(e,t,n,r,i){return eo(this,void 0,void 0,function*(){return Pc(e,"DELETE",t,r,i,n)})}var aF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class oF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return aF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var sF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class lF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new oF(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return sF(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var Qt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const cF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uF{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=oO(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Qt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},N1),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield(t=="PUT"?av:Sr)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Qt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:N1.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield av(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Qt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Sr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new Cx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Qt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Sr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Qt(this,void 0,void 0,function*(){try{const i=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>Bd(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new lF(l,this.shouldThrowOnError)}info(t){return Qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Bd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:iv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}exists(t){return Qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield iF(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r)&&r instanceof rv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield sO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},cF),n),{prefix:t||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Qt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const dF="2.75.0",fF={"X-Client-Info":`storage-js/${dF}`};var co=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class hF{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fF),n),this.fetch=oO(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return co(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}createBucket(t){return co(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return co(this,void 0,void 0,function*(){try{return{data:yield av(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield sO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}}class pF extends hF{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new uF(this.url,this.headers,t,this.fetch)}}const mF="2.75.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const gF={"X-Client-Info":`supabase-js-${pl}/${mF}`},vF={headers:gF},yF={schema:"public"},xF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bF={};var wF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const kF=e=>{let t;return e?t=e:typeof fetch>"u"?t=HP:t=fetch,(...n)=>t(...n)},SF=()=>typeof Headers>"u"?VP:Headers,jF=(e,t,n)=>{const r=kF(n),i=SF();return(a,o)=>wF(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:c}))})};var _F=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function CF(e){return e.endsWith("/")?e:e+"/"}function EF(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>_F(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function PF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const lO="2.75.0",yo=30*1e3,ov=3,em=ov*yo,OF="http://localhost:9999",NF="supabase.auth.token",AF={"X-Client-Info":`gotrue-js/${lO}`},sv="X-Supabase-Api-Version",cO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IF=10*60*1e3;class nc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class DF extends nc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function RF(e){return ce(e)&&e.name==="AuthApiError"}class va extends nc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qi extends nc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class bi extends Qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MF(e){return ce(e)&&e.name==="AuthSessionMissingError"}class uo extends Qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Su extends Qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends Qi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function LF(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class A1 extends Qi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lv extends Qi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function tm(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class T1 extends Qi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class cv extends Qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I1=` 	
\r=`.split(""),$F=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<I1.length;t+=1)e[I1[t].charCodeAt(0)]=-2;for(let t=0;t<Wd.length;t+=1)e[Wd[t].charCodeAt(0)]=t;return e})();function D1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Wd[r]),t.queuedBits-=6}}function uO(e,t,n){const r=$F[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function R1(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{zF(o,r,n)};for(let o=0;o<e.length;o+=1)uO(e.charCodeAt(o),i,a);return t.join("")}function FF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function UF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}FF(r,t)}}function zF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Bo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)uO(e.charCodeAt(i),n,r);return new Uint8Array(t)}function BF(e){const t=[];return UF(e,n=>t.push(n)),new Uint8Array(t)}function Sa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>D1(i,n,r)),D1(null,n,r),t.join("")}function WF(e){return Math.round(Date.now()/1e3)+e}function KF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",oa={tested:!1,writable:!1},dO=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oa.tested)return oa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oa.tested=!0,oa.writable=!0}catch{oa.tested=!0,oa.writable=!1}return oa.writable};function qF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const fO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},HF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},sa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yi=async(e,t)=>{await e.removeItem(t)};class ch{constructor(){this.promise=new ch.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ch.promiseConstructor=Promise;function nm(e){const t=e.split(".");if(t.length!==3)throw new cv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!TF.test(t[r]))throw new cv("JWT not in base64url format");return{header:JSON.parse(R1(t[0])),payload:JSON.parse(R1(t[1])),signature:Bo(t[2]),raw:{header:t[0],payload:t[1]}}}async function VF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function GF(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function YF(e){return("0"+e.toString(16)).substr(-2)}function JF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,YF).join("")}async function XF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function QF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await XF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(e,t,n=!1){const r=JF();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await xo(e,`${t}-code-verifier`,i);const a=await QF(r);return[a,r===a?"plain":"s256"]}const ZF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function e3(e){const t=e.headers.get(sv);if(!t||!t.match(ZF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function t3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function n3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(e){if(!r3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function M1(e){return JSON.parse(JSON.stringify(e))}var i3=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),a3=[502,503,504];async function L1(e){var t;if(!HF(e))throw new lv(fa(e),0);if(a3.includes(e.status))throw new lv(fa(e),e.status);let n;try{n=await e.json()}catch(a){throw new va(fa(a),a)}let r;const i=e3(e);if(i&&i.getTime()>=cO["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new T1(fa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new bi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new T1(fa(n),e.status,n.weak_password.reasons);throw new DF(fa(n),e.status||500,r)}const o3=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function de(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[sv]||(a[sv]=cO["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await s3(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function s3(e,t,n,r,i,a){const o=o3(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new lv(fa(l),0)}if(s.ok||await L1(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await L1(l)}}function rr(e){var t;let n=null;u3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=WF(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function $1(e){const t=rr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function l3(e){return{data:e,error:null}}function c3(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=i3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function F1(e){return e}function u3(e){return e.access_token&&e.refresh_token&&e.expires_in}const im=["global","local","others"];var d3=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class f3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=fO(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=im[0]){if(im.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${im.join(", ")}`);try{return await de(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await de(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ei})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=d3(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await de(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await de(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ei})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:F1});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ce(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ho(t);try{return await de(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ei})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ho(t);try{return await de(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ei})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ho(t);try{return await de(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ei})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ho(t.userId);try{const{data:n,error:r}=await de(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ho(t.userId),ho(t.id);try{return{data:await de(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await de(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:F1});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ce(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await de(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await de(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await de(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}}function U1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const po={debug:!!(globalThis&&dO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class h3 extends hO{}async function p3(e,t,n){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new h3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(po.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function m3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pO(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function g3(e){return parseInt(e,16)}function v3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function y3(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=pO(e.address),m=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}v+=b}return`${y}
${v}`}class st extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Kd extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function x3({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(gO(o)){if(a.rp.id!==o)return new st({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function b3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(gO(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var mO=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class w3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const k3=new w3;function S3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=mO(e,["challenge","user","excludeCredentials"]),a=Bo(t).buffer,o=Object.assign(Object.assign({},n),{id:Bo(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Bo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function j3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=mO(e,["challenge","allowCredentials"]),i=Bo(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Bo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function _3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function C3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sa(new Uint8Array(i.authenticatorData)),clientDataJSON:Sa(new Uint8Array(i.clientDataJSON)),signature:Sa(new Uint8Array(i.signature)),userHandle:i.userHandle?Sa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gO(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function z1(){var e,t;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function E3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kd("Browser returned unexpected credential type",t)}:{data:null,error:new Kd("Empty credential response",t)}}catch(t){return{data:null,error:x3({error:t,options:e})}}}async function P3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Kd("Browser returned unexpected credential type",t)}:{data:null,error:new Kd("Empty credential response",t)}}catch(t){return{data:null,error:b3({error:t,options:e})}}}const O3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},N3={userVerification:"preferred",hints:["security-key"]};function qd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=qd(s,o):r[a]=qd(o)}else r[a]=o}return r}function A3(e,t){return qd(O3,e,t||{})}function T3(e,t){return qd(N3,e,t||{})}class I3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??k3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=A3(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await E3({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=T3(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await P3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new va("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn authentication")};try{if(!z1())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new va("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn registration")};try{if(!z1())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ce(o)?{data:null,error:o}:{data:null,error:new va("Unexpected error in register",o)}}}}m3();const D3={url:OF,storageKey:NF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function B1(e,t,n){return await n()}const mo={};class rc{get jwks(){var t,n;return(n=(t=mo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=mo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rc.nextInstanceID,rc.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},D3),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new f3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fO(i.fetch),this.lock=i.lock||B1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=p3:this.lock=B1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new I3(this)},this.persistSession?(i.storage?this.storage=i.storage:dO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=U1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=U1(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${lO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=qF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),LF(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new va("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:rr}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await fo(this.storage,this.storageKey)),a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:rr})}else if("phone"in t){const{phone:u,password:f,options:h}=t;a=await de(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rr})}else throw new Su("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$1})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await de(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$1})}else throw new Su("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new uo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,c,u,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:v,options:b}=t;let w;if(vn())if(typeof y=="object")w=y;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=pO(j[0]);let C=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const O=await w.request({method:"eth_chainId"});C=g3(O)}const N={domain:S.host,address:k,statement:v,uri:S.href,version:"1",chainId:C,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=y3(N),m=await w.request({method:"personal_sign",params:[v3(p),k]})}try{const{data:g,error:y}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rr});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new uo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(ce(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var n,r,i,a,o,s,l,c,u,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:b,options:w}=t;let S;if(vn())if(typeof v=="object")S=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const j=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let C;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")C=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)C=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)m=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:y,error:v}=await de(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Sa(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new uo}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(ce(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await sa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await de(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:rr});if(await yi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new uo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rr}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new uo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await fo(this.storage,this.storageKey));const{error:f}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await de(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Su("You must provide either an email or phone number.")}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await de(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await fo(this.storage,this.storageKey)),await de(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:l3})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new bi;const{error:i}=await de(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await de(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await de(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new Su("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<em:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await sa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ei}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bi}:await de(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ei})})}catch(n){if(ce(n))return MF(n)&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new bi;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await fo(this.storage,this.storageKey));const{data:c,error:u}=await de(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Ei});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=nm(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new bi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!vn())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new A1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new A1("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new ju("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(s);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:y}=await this._getUser(a);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(RF(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=KF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await fo(this.storage,this.storageKey,!0));try{return await de(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await de(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,f=await de(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rr}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new uo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await de(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await GF(async i=>(i>0&&await VF(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await de(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&tm(a)&&Date.now()+o-r<yo})}catch(r){if(this._debug(n,"error",r),ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await sa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await xo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rm()}else if(i&&!i.user&&!i.user){const o=await sa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await yi(this.storage,this.storageKey+"-user"),await xo(this.storage,this.storageKey,i)):i.user=rm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<em;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${em}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),tm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ch;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new bi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ce(a)){const o={data:null,error:a};return tm(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=M1(i);await xo(this.storage,this.storageKey,a)}else{const i=M1(n);await xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await yi(this.storage,this.storageKey),await yi(this.storage,this.storageKey+"-code-verifier"),await yi(this.storage,this.storageKey+"-user"),this.userStorage&&await yi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yo}ms, refresh threshold is ${ov} ticks`),i<=ov&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await fo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await de(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await de(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_3(t.webauthn.credential_response):C3(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await de(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:S3(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:j3(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nm(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+IF>i)return r;const{data:a,error:o}=await de(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=nm(r);n!=null&&n.allowExpired||t3(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=n3(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,BF(`${s}.${l}`)))throw new cv("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}rc.nextInstanceID=0;const R3=rc;class M3 extends R3{constructor(t){super(t)}}var L3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class $3{constructor(t,n,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const s=PF(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:yF,realtime:bF,auth:Object.assign(Object.assign({},xF),{storageKey:l}),global:vF},u=EF(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=jF(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new D4(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new pF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new f4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return L3(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new X4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F3=(e,t,n)=>new $3(e,t,n);function U3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}U3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vO="axpro_supabase_url",yO="axpro_supabase_anon_key",W1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_URL||"https://qpyteahuynkgkbmdasbv.supabase.co",K1={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY";let am=null,q1=null;const Ke=()=>{const e=Ex(),t=`${e.url}:${e.anonKey}`;if(!am||q1!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set. Please configure in Settings > Database.");am=F3(e.url,e.anonKey),q1=t,console.log(" Supabase client initialized")}return am},Ex=()=>{try{const e=localStorage.getItem(vO)||W1,t=localStorage.getItem(yO)||K1;return{url:e,anonKey:t}}catch(e){return console.error("Failed to get Supabase config:",e),{url:W1,anonKey:K1}}},xO=e=>{try{localStorage.setItem(vO,e.url),localStorage.setItem(yO,e.anonKey)}catch(t){console.error("Failed to save Supabase config:",t)}},bO=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}},z3=Object.freeze(Object.defineProperty({__proto__:null,getSupabaseClient:Ke,getSupabaseConfig:Ex,saveSupabaseConfig:xO,testSupabaseConnection:bO},Symbol.toStringTag,{value:"Module"}));async function Px(){try{const e=Ke();console.log("Fetching admin feedback from Supabase...");const{data:t,error:n}=await e.from("admin_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch admin feedback: ${n.message}`);return console.log(` Fetched ${(t==null?void 0:t.length)||0} admin feedback records`),t||[]}catch(e){throw console.error("Failed to fetch admin feedback:",e),e}}async function Ba(){try{const e=Ke();console.log("Fetching user feedback from Supabase...");const{data:t,error:n}=await e.from("user_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch user feedback: ${n.message}`);return console.log(` Fetched ${(t==null?void 0:t.length)||0} user feedback records`),t||[]}catch(e){throw console.error("Failed to fetch user feedback:",e),e}}async function B3(e,t){try{const n=Ke(),{data:r,error:i}=await n.from("user_feedback").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!1});if(i)throw console.error("Supabase error:",i),new Error(`Failed to fetch user feedback: ${i.message}`);return r||[]}catch(n){throw console.error("Failed to fetch user feedback by date range:",n),n}}async function W3(e){try{const t=Ke(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(t){throw console.error("Error fetching admin feedback:",t),t}}async function Ox(e,t,n,r){try{const i=Ke();console.log("Submitting user feedback:",{chatId:e,userId:t,reaction:n,feedbackText:r});const a={chat_id:e,user_id:t,reaction:n,feedback_text:r||null},{data:o,error:s}=await i.from("user_feedback").insert([a]).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit user feedback: ${s.message}`);return console.log(" User feedback submitted:",o),o}catch(i){throw console.error("Failed to submit user feedback:",i),i}}async function Hd(e){try{const t=Ke(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).maybeSingle();if(r)throw console.error("Error fetching admin feedback:",r),r;return n}catch(t){return console.error("Error fetching admin feedback by chat:",t),null}}async function wO(e,t,n,r){try{const i=Ke();console.log("Submitting admin feedback:",{chatId:e,verdict:t,feedbackText:n,correctedResponse:r});const a=await Hd(e);let o,s;if(a){const l={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},c=await i.from("admin_feedback").update(l).eq("chat_id",e).select().maybeSingle();o=c.data,s=c.error}else{const l={chat_id:e,feedback_verdict:t,feedback_text:n||null,corrected_response:r||null},c=await i.from("admin_feedback").insert([l]).select().maybeSingle();o=c.data,s=c.error}if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit admin feedback: ${s.message}`);return console.log(" Admin feedback submitted:",o),o}catch(i){throw console.error("Failed to submit admin feedback:",i),i}}async function K3(e,t,n,r){try{const i=Ke();console.log("Updating admin feedback:",{id:e,verdict:t,feedbackText:n,correctedResponse:r});const a={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},{data:o,error:s}=await i.from("admin_feedback").update(a).eq("id",e).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to update admin feedback: ${s.message}`);return console.log(" Admin feedback updated:",o),o}catch(i){throw console.error("Failed to update admin feedback:",i),i}}async function q3(e,t){try{const n=Ke();console.log("Updating admin feedback field:",{id:e,updates:t});const{data:r,error:i}=await n.from("admin_feedback").update(t).eq("id",e).select().single();if(i)throw console.error("Supabase error:",i),new Error(`Failed to update admin feedback: ${i.message}`);return console.log(" Admin feedback field updated:",r),r}catch(n){throw console.error("Failed to update admin feedback field:",n),n}}const H3=Object.freeze(Object.defineProperty({__proto__:null,fetchAllAdminFeedback:Px,fetchAllUserFeedback:Ba,fetchUserFeedbackByDateRange:B3,getAdminFeedback:W3,getAdminFeedbackByChat:Hd,submitAdminFeedback:wO,submitUserFeedback:Ox,updateAdminFeedback:K3,updateAdminFeedbackField:q3},Symbol.toStringTag,{value:"Module"})),V3=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(!1),[s,l]=x.useState(null),c=x.useCallback(async()=>{try{if(i(!0),l(null),await Vr()){const m=await S1.getMessages(e);n(m)}else{const m=JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]");console.log("Loading local messages for session:",e,m),n(m)}}catch(p){l(p instanceof Error?p.message:"Failed to fetch messages")}finally{i(!1)}},[e]);x.useEffect(()=>{c()},[c]);const u=p=>{const m=p.split(`
`)[0];return(m.length>50?m.substring(0,50)+"...":m)||"New Chat"},f=x.useCallback(async p=>{if(!p.trim())return;console.log("=== SEND MESSAGE START ==="),console.log("Session ID:",e),console.log("Content:",p),o(!0),l(null);const m={id:`user-${Date.now()}`,sessionId:e,role:"user",content:p,meta:{},createdAt:new Date().toISOString()};n(w=>(console.log("Adding user message:",m),[...w,m]));const g=`assistant-${Date.now()}`;n(w=>{const S={id:g,sessionId:e,role:"assistant",content:"",createdAt:new Date().toISOString(),meta:{isStreaming:!0}};return console.log("Created new assistant message:",S),[...w,S]});let y="",v,b=[];try{console.log("Calling chatService.sendMessage...");const w=await S1.sendMessage(e,p,j=>{console.log("=== STREAM EVENT ==="),console.log("Event type:",j.type),console.log("Event text:",j.text),console.log("Event messageId:",j.messageId),console.log("==================="),j.type==="delta"&&j.text?(y+=j.text,n(k=>k.map(C=>{if(C.id===g){const N=(C.content||"")+j.text;return console.log("Updated assistant message content:",N),{...C,content:N}}return C}))):j.type==="final"&&(v=j.messageId,b=j.citations,console.log("Final event received - messageId:",j.messageId,"citations:",j.citations))});if(console.log("Chat service result:",w),n(j=>j.map(k=>{if(k.id===g){const N={...k,id:v||g,content:y||"No response received",citations:b,meta:{isStreaming:!1}};return console.log("Final assistant message:",N),N}return k})),!await Vr()){const j=[...t.filter(N=>!N.id.startsWith("temp-")),m,{id:v||g,sessionId:e,role:"assistant",content:y||"No response received",meta:{isStreaming:!1},createdAt:new Date().toISOString(),citations:b}];console.log("Saving to localStorage:",j),localStorage.setItem(`axpro_sim_messages_${e}`,JSON.stringify(j));const k=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),C=k.find(N=>N.id===e);if(C&&C.title==="New Chat"&&t.length===0){const N=u(p);C.title=N,C.updatedAt=new Date().toISOString(),localStorage.setItem("axpro_sim_sessions",JSON.stringify(k)),console.log("Auto-generated title:",N),window.dispatchEvent(new Event("sessionUpdated"))}}}catch(w){console.error("Error in sendMessage:",w),l(w instanceof Error?w.message:"Failed to send message"),n(j=>j.filter(k=>k.id!==g));const S={id:`error-${Date.now()}`,sessionId:e,role:"assistant",content:w instanceof Error?w.message:"Failed to send message",meta:{},createdAt:new Date().toISOString()};n(j=>[...j,S])}finally{o(!1),console.log("=== SEND MESSAGE END ===")}},[e,t]),h=x.useCallback(async(p,m,g)=>{try{const y=Dr();if(!y||!y.userId)throw console.error("No user session found"),new Error("Please log in to submit feedback");if(!t.find(S=>S.id===p))throw console.error("Message not found:",p),new Error("Message not found");const b=p,w=m===1?"good":"bad";console.log("Submitting feedback:",{chatId:b,userId:y.userId,reaction:w,feedbackText:g}),await Ox(b,y.userId,w,g),console.log(" Feedback submitted successfully")}catch(y){throw console.error("Failed to submit feedback:",y),y}},[t]);return{messages:t,loading:r,sending:a,error:s,sendMessage:f,submitFeedback:h}};function G3(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Y3=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,J3=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,X3={};function H1(e,t){return((t||X3).jsx?J3:Y3).test(e)}const Q3=/[ \t\n\f\r]/g;function Z3(e){return typeof e=="object"?e.type==="text"?V1(e.value):!1:V1(e)}function V1(e){return e.replace(Q3,"")===""}class Oc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Oc.prototype.normal={};Oc.prototype.property={};Oc.prototype.space=void 0;function kO(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Oc(n,r,t)}function uv(e){return e.toLowerCase()}class fn{constructor(t,n){this.attribute=n,this.property=t}}fn.prototype.attribute="";fn.prototype.booleanish=!1;fn.prototype.boolean=!1;fn.prototype.commaOrSpaceSeparated=!1;fn.prototype.commaSeparated=!1;fn.prototype.defined=!1;fn.prototype.mustUseProperty=!1;fn.prototype.number=!1;fn.prototype.overloadedBoolean=!1;fn.prototype.property="";fn.prototype.spaceSeparated=!1;fn.prototype.space=void 0;let eU=0;const he=to(),ot=to(),dv=to(),Q=to(),Le=to(),Wo=to(),gn=to();function to(){return 2**++eU}const fv=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:ot,commaOrSpaceSeparated:gn,commaSeparated:Wo,number:Q,overloadedBoolean:dv,spaceSeparated:Le},Symbol.toStringTag,{value:"Module"})),om=Object.keys(fv);class Nx extends fn{constructor(t,n,r,i){let a=-1;if(super(t,n),G1(this,"space",i),typeof r=="number")for(;++a<om.length;){const o=om[a];G1(this,om[a],(r&fv[o])===fv[o])}}}Nx.prototype.defined=!0;function G1(e,t,n){n&&(e[t]=n)}function ks(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new Nx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[uv(r)]=r,n[uv(a.attribute)]=r}return new Oc(t,n,e.space)}const SO=ks({properties:{ariaActiveDescendant:null,ariaAtomic:ot,ariaAutoComplete:null,ariaBusy:ot,ariaChecked:ot,ariaColCount:Q,ariaColIndex:Q,ariaColSpan:Q,ariaControls:Le,ariaCurrent:null,ariaDescribedBy:Le,ariaDetails:null,ariaDisabled:ot,ariaDropEffect:Le,ariaErrorMessage:null,ariaExpanded:ot,ariaFlowTo:Le,ariaGrabbed:ot,ariaHasPopup:null,ariaHidden:ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Le,ariaLevel:Q,ariaLive:null,ariaModal:ot,ariaMultiLine:ot,ariaMultiSelectable:ot,ariaOrientation:null,ariaOwns:Le,ariaPlaceholder:null,ariaPosInSet:Q,ariaPressed:ot,ariaReadOnly:ot,ariaRelevant:null,ariaRequired:ot,ariaRoleDescription:Le,ariaRowCount:Q,ariaRowIndex:Q,ariaRowSpan:Q,ariaSelected:ot,ariaSetSize:Q,ariaSort:null,ariaValueMax:Q,ariaValueMin:Q,ariaValueNow:Q,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function jO(e,t){return t in e?e[t]:t}function _O(e,t){return jO(e,t.toLowerCase())}const tU=ks({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wo,acceptCharset:Le,accessKey:Le,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Le,autoFocus:he,autoPlay:he,blocking:Le,capture:null,charSet:null,checked:he,cite:null,className:Le,cols:Q,colSpan:null,content:null,contentEditable:ot,controls:he,controlsList:Le,coords:Q|Wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:dv,draggable:ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Le,height:Q,hidden:dv,high:Q,href:null,hrefLang:null,htmlFor:Le,httpEquiv:Le,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Le,itemRef:Le,itemScope:he,itemType:Le,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:Q,manifest:null,max:null,maxLength:Q,media:null,method:null,min:null,minLength:Q,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:Q,pattern:null,ping:Le,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Le,required:he,reversed:he,rows:Q,rowSpan:Q,sandbox:Le,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:Q,sizes:null,slot:null,span:Q,spellCheck:ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Q,step:null,style:null,tabIndex:Q,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:ot,width:Q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Le,axis:null,background:null,bgColor:null,border:Q,borderColor:null,bottomMargin:Q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:Q,leftMargin:Q,link:null,longDesc:null,lowSrc:null,marginHeight:Q,marginWidth:Q,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:Q,rules:null,scheme:null,scrolling:ot,standby:null,summary:null,text:null,topMargin:Q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:Q,security:null,unselectable:null},space:"html",transform:_O}),nU=ks({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gn,accentHeight:Q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Q,amplitude:Q,arabicForm:null,ascent:Q,attributeName:null,attributeType:null,azimuth:Q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Q,by:null,calcMode:null,capHeight:Q,className:Le,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Q,diffuseConstant:Q,direction:null,display:null,dur:null,divisor:Q,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:Q,enableBackground:null,end:null,event:null,exponent:Q,externalResourcesRequired:null,fill:null,fillOpacity:Q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wo,g2:Wo,glyphName:Wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Q,horizOriginX:Q,horizOriginY:Q,id:null,ideographic:Q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Q,k:Q,k1:Q,k2:Q,k3:Q,k4:Q,kernelMatrix:gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Q,overlineThickness:Q,paintOrder:null,panose1:null,path:null,pathLength:Q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Le,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Q,pointsAtY:Q,pointsAtZ:Q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gn,rev:gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gn,requiredFeatures:gn,requiredFonts:gn,requiredFormats:gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Q,specularExponent:Q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Q,strikethroughThickness:Q,string:null,stroke:null,strokeDashArray:gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Q,strokeOpacity:Q,strokeWidth:null,style:null,surfaceScale:Q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gn,tabIndex:Q,tableValues:null,target:null,targetX:Q,targetY:Q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Q,underlineThickness:Q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Q,values:null,vAlphabetic:Q,vMathematical:Q,vectorEffect:null,vHanging:Q,vIdeographic:Q,version:null,vertAdvY:Q,vertOriginX:Q,vertOriginY:Q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jO}),CO=ks({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),EO=ks({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_O}),PO=ks({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),rU={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iU=/[A-Z]/g,Y1=/-[a-z]/g,aU=/^data[-\w.:]+$/i;function oU(e,t){const n=uv(t);let r=t,i=fn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aU.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Y1,lU);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Y1.test(a)){let o=a.replace(iU,sU);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Nx}return new i(r,t)}function sU(e){return"-"+e.toLowerCase()}function lU(e){return e.charAt(1).toUpperCase()}const cU=kO([SO,tU,CO,EO,PO],"html"),Ax=kO([SO,nU,CO,EO,PO],"svg");function uU(e){return e.join(" ").trim()}var Tx={},J1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,dU=/\n/g,fU=/^\s*/,hU=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pU=/^:\s*/,mU=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gU=/^[;\s]*/,vU=/^\s+|\s+$/g,yU=`
`,X1="/",Q1="*",ya="",xU="comment",bU="declaration",wU=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(dU);g&&(n+=g.length);var y=m.lastIndexOf(yU);r=~y?m.length-y:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),c(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(fU)}function u(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(X1!=e.charAt(0)||Q1!=e.charAt(1))){for(var g=2;ya!=e.charAt(g)&&(Q1!=e.charAt(g)||X1!=e.charAt(g+1));)++g;if(g+=2,ya===e.charAt(g-1))return s("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,m({type:xU,comment:y})}}function h(){var m=a(),g=l(hU);if(g){if(f(),!l(pU))return s("property missing ':'");var y=l(mU),v=m({type:bU,property:Z1(g[0].replace(J1,ya)),value:y?Z1(y[0].replace(J1,ya)):ya});return l(gU),v}}function p(){var m=[];u(m);for(var g;g=h();)g!==!1&&(m.push(g),u(m));return m}return c(),p()};function Z1(e){return e?e.replace(vU,ya):ya}var kU=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.default=jU;var SU=kU(wU);function jU(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,SU.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,s=a.value;i?t(o,s,a):s&&(n=n||{},n[o]=s)}}),n}var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.camelCase=void 0;var _U=/^--[a-zA-Z0-9_-]+$/,CU=/-([a-z])/g,EU=/^[^-]+$/,PU=/^-(webkit|moz|ms|o|khtml)-/,OU=/^-(ms)-/,NU=function(e){return!e||EU.test(e)||_U.test(e)},AU=function(e,t){return t.toUpperCase()},ek=function(e,t){return"".concat(t,"-")},TU=function(e,t){return t===void 0&&(t={}),NU(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(OU,ek):e=e.replace(PU,ek),e.replace(CU,AU))};uh.camelCase=TU;var IU=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},DU=IU(Tx),RU=uh;function hv(e,t){var n={};return!e||typeof e!="string"||(0,DU.default)(e,function(r,i){r&&i&&(n[(0,RU.camelCase)(r,t)]=i)}),n}hv.default=hv;var MU=hv;const LU=Nn(MU),OO=NO("end"),Ix=NO("start");function NO(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function $U(e){const t=Ix(e),n=OO(e);if(t&&n)return{start:t,end:n}}function Ol(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?tk(e.position):"start"in e||"end"in e?tk(e):"line"in e||"column"in e?pv(e):""}function pv(e){return nk(e&&e.line)+":"+nk(e&&e.column)}function tk(e){return pv(e&&e.start)+"-"+pv(e&&e.end)}function nk(e){return e&&typeof e=="number"?e:1}class Wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ol(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const Dx={}.hasOwnProperty,FU=new Map,UU=/[A-Z]/g,zU=new Set(["table","tbody","thead","tfoot","tr"]),BU=new Set(["td","th"]),AO="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function WU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=XU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=JU(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ax:cU,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=TO(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function TO(e,t,n){if(t.type==="element")return KU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return qU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return VU(e,t,n);if(t.type==="mdxjsEsm")return HU(e,t);if(t.type==="root")return GU(e,t,n);if(t.type==="text")return YU(e,t)}function KU(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ax,e.schema=i),e.ancestors.push(t);const a=DO(e,t.tagName,!1),o=QU(e,t);let s=Mx(e,t);return zU.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!Z3(l):!0})),IO(e,o,a,t),Rx(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function qU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ic(e,t.position)}function HU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ic(e,t.position)}function VU(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ax,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:DO(e,t.name,!0),o=ZU(e,t),s=Mx(e,t);return IO(e,o,a,t),Rx(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function GU(e,t,n){const r={};return Rx(r,Mx(e,t)),e.create(t,e.Fragment,r,n)}function YU(e,t){return t.value}function IO(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Rx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function JU(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function XU(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=Ix(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function QU(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Dx.call(t.properties,i)){const a=ez(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&BU.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ZU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else ic(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else ic(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Mx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:FU;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=TO(e,a,o);s!==void 0&&n.push(s)}return n}function ez(e,t,n){const r=oU(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?G3(n):uU(n)),r.property==="style"){let i=typeof n=="object"?n:tz(e,String(n));return e.stylePropertyNameCase==="css"&&(i=nz(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?rU[r.property]||r.property:r.attribute,n]}}function tz(e,t){try{return LU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=AO+"#cannot-parse-style-attribute",i}}function DO(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=H1(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=H1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Dx.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);ic(e)}function ic(e,t){const n=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=AO+"#cannot-handle-mdx-estrees-without-createevaluater",n}function nz(e){const t={};let n;for(n in e)Dx.call(e,n)&&(t[rz(n)]=e[n]);return t}function rz(e){let t=e.replace(UU,iz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iz(e){return"-"+e.toLowerCase()}const sm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},az={};function Lx(e,t){const n=t||az,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return RO(e,r,i)}function RO(e,t,n){if(oz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return rk(e.children,t,n)}return Array.isArray(e)?rk(e,t,n):""}function rk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=RO(e[i],t,n);return r.join("")}function oz(e){return!!(e&&typeof e=="object")}const ik=document.createElement("i");function $x(e){const t="&"+e+";";ik.innerHTML=t;const n=ik.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function jn(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Kn(e,t){return e.length>0?(jn(e,e.length,0,t),e):t}const ak={}.hasOwnProperty;function MO(e){const t={};let n=-1;for(;++n<e.length;)sz(t,e[n]);return t}function sz(e,t){let n;for(n in t){const i=(ak.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){ak.call(i,o)||(i[o]=[]);const s=a[o];lz(i[o],Array.isArray(s)?s:s?[s]:[])}}}function lz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);jn(e,0,0,r)}function LO(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function hr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ht=Zi(/[A-Za-z]/),Ut=Zi(/[\dA-Za-z]/),cz=Zi(/[#-'*+\--9=?A-Z^-~]/);function Vd(e){return e!==null&&(e<32||e===127)}const mv=Zi(/\d/),uz=Zi(/[\dA-Fa-f]/),dz=Zi(/[!-/:-@[-`{-~]/);function ue(e){return e!==null&&e<-2}function Ie(e){return e!==null&&(e<0||e===32)}function ve(e){return e===-2||e===-1||e===32}const dh=Zi(/\p{P}|\p{S}/u),Wa=Zi(/\s/);function Zi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ss(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Ut(e.charCodeAt(n+1))&&Ut(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Se(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return ve(l)?(e.enter(n),s(l)):t(l)}function s(l){return ve(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const fz={tokenize:hz};function hz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Se(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return ue(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const pz={tokenize:mz},ok={tokenize:gz};function mz(e){const t=this,n=[];let r=0,i,a,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let j=S,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}v(r);let C=S;for(;C<t.events.length;)t.events[C][1].end={...k},C++;return jn(t.events,j+1,0,t.events.slice(S)),t.events.length=C,c(w)}return s(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ok,u,f)(w)}function u(w){return i&&b(),v(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(ok,p,m)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){i&&b(),v(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){y(e.exit("chunkFlow"),!0),v(0),e.consume(w);return}return ue(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),g)}function y(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const C=t.events.length;let N=C,O,P;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(O){P=t.events[N][1].end;break}O=!0}for(v(r),k=C;k<t.events.length;)t.events[k][1].end={...P},k++;jn(t.events,N+1,0,t.events.slice(C)),t.events.length=k}}function v(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function gz(e,t,n){return Se(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function es(e){if(e===null||Ie(e)||Wa(e))return 1;if(dh(e))return 2}function fh(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const gv={name:"attention",resolveAll:vz,tokenize:yz};function vz(e,t){let n=-1,r,i,a,o,s,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};sk(f,-l),sk(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Kn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Kn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Kn(c,fh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Kn(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=Kn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,jn(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function yz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=es(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=es(l),f=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(u||!f)),t(l)}}function sk(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const xz={name:"autolink",tokenize:bz};function bz(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return Ht(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Ut(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||Ut(p))&&r++<32?(e.consume(p),s):(r=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Vd(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),u):cz(p)?(e.consume(p),c):n(p)}function u(p){return Ut(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Ut(p))&&r++<63){const m=p===45?h:f;return e.consume(p),m}return n(p)}}const Nc={partial:!0,tokenize:wz};function wz(e,t,n){return r;function r(a){return ve(a)?Se(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||ue(a)?t(a):n(a)}}const $O={continuation:{tokenize:Sz},exit:jz,name:"blockQuote",tokenize:kz};function kz(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return ve(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Sz(e,t,n){const r=this;return i;function i(o){return ve(o)?Se(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt($O,t,n)(o)}}function jz(e){e.exit("blockQuote")}const FO={name:"characterEscape",tokenize:_z};function _z(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return dz(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const UO={name:"characterReference",tokenize:Cz};function Cz(e,t,n){const r=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Ut,u(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=uz,u):(e.enter("characterReferenceValue"),a=7,o=mv,u(f))}function u(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return o===Ut&&!$x(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),u):n(f)}}const lk={partial:!0,tokenize:Pz},ck={concrete:!0,name:"codeFenced",tokenize:Ez};function Ez(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,o=0,s;return l;function l(k){return c(k)}function c(k){const C=r.events[r.events.length-1];return a=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,s=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===s?(o++,e.consume(k),u):o<3?n(k):(e.exit("codeFencedFenceSequence"),ve(k)?Se(e,f,"whitespace")(k):f(k))}function f(k){return k===null||ue(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(lk,g,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||ue(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Se(e,p,"whitespace")(k)):k===96&&k===s?n(k):(e.consume(k),h)}function p(k){return k===null||ue(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||ue(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===s?n(k):(e.consume(k),m)}function g(k){return e.attempt(i,S,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),v}function v(k){return a>0&&ve(k)?Se(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||ue(k)?e.check(lk,g,S)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||ue(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),w)}function S(k){return e.exit("codeFenced"),t(k)}function j(k,C,N){let O=0;return P;function P(z){return k.enter("lineEnding"),k.consume(z),k.exit("lineEnding"),I}function I(z){return k.enter("codeFencedFence"),ve(z)?Se(k,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):A(z)}function A(z){return z===s?(k.enter("codeFencedFenceSequence"),R(z)):N(z)}function R(z){return z===s?(O++,k.consume(z),R):O>=o?(k.exit("codeFencedFenceSequence"),ve(z)?Se(k,L,"whitespace")(z):L(z)):N(z)}function L(z){return z===null||ue(z)?(k.exit("codeFencedFence"),C(z)):N(z)}}}function Pz(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const lm={name:"codeIndented",tokenize:Nz},Oz={partial:!0,tokenize:Az};function Nz(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Se(e,a,"linePrefix",4+1)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ue(c)?e.attempt(Oz,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||ue(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Az(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ue(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Se(e,a,"linePrefix",4+1)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):ue(o)?i(o):n(o)}}const Tz={name:"codeText",previous:Dz,resolve:Iz,tokenize:Rz};function Iz(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Dz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Rz(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,u(f)):ue(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||ue(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function u(f){return f===96?(e.consume(f),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Mz{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Qs(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Qs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qs(this.left,n.reverse())}}}function Qs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function zO(e){const t={};let n=-1,r,i,a,o,s,l,c;const u=new Mz(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Lz(u,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return jn(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Lz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,f,h=-1,p=n,m=0,g=0;const y=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(g=h+1,y.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):y.pop(),h=y.length;h--;){const v=s.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+v.length-1]),e.splice(b,2,v)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const $z={resolve:Uz,tokenize:zz},Fz={partial:!0,tokenize:Bz};function Uz(e){return zO(e),e}function zz(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):ue(s)?e.check(Fz,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Bz(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Se(e,a,"linePrefix")}function a(o){if(o===null||ue(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function BO(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(v){return v===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(v),e.exit(a),h):v===null||v===32||v===41||Vd(v)?n(v):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(v))}function h(v){return v===62?(e.enter(a),e.consume(v),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(s),h(v)):v===null||v===60||ue(v)?n(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function g(v){return!u&&(v===null||v===41||Ie(v))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(v)):u<c&&v===40?(e.consume(v),u++,g):v===41?(e.consume(v),u--,g):v===null||v===32||v===40||Vd(v)?n(v):(e.consume(v),v===92?y:g)}function y(v){return v===40||v===41||v===92?(e.consume(v),g):g(v)}}function WO(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):ue(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||ue(p)||s++>999?(e.exit("chunkString"),u(p)):(e.consume(p),l||(l=!ve(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function KO(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?n(h):ue(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Se(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||ue(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:u)}function f(h){return h===o||h===92?(e.consume(h),u):u(h)}}function Nl(e,t){let n;return r;function r(i){return ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ve(i)?Se(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Wz={name:"definition",tokenize:qz},Kz={partial:!0,tokenize:Hz};function qz(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return WO.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Ie(p)?Nl(e,c)(p):c(p)}function c(p){return BO(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(Kz,f,f)(p)}function f(p){return ve(p)?Se(e,h,"whitespace")(p):h(p)}function h(p){return p===null||ue(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function Hz(e,t,n){return r;function r(s){return Ie(s)?Nl(e,i)(s):n(s)}function i(s){return KO(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return ve(s)?Se(e,o,"whitespace")(s):o(s)}function o(s){return s===null||ue(s)?t(s):n(s)}}const Vz={name:"hardBreakEscape",tokenize:Gz};function Gz(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return ue(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Yz={name:"headingAtx",resolve:Jz,tokenize:Xz};function Jz(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},jn(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Xz(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Ie(u)?(e.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||ue(u)?(e.exit("atxHeading"),t(u)):ve(u)?Se(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||Ie(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const Qz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uk=["pre","script","style","textarea"],Zz={concrete:!0,name:"htmlFlow",resolveTo:nB,tokenize:rB},eB={partial:!0,tokenize:aB},tB={partial:!0,tokenize:iB};function nB(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function rB(e,t,n){const r=this;let i,a,o,s,l;return c;function c(E){return u(E)}function u(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),f}function f(E){return E===33?(e.consume(E),h):E===47?(e.consume(E),a=!0,g):E===63?(e.consume(E),i=3,r.interrupt?t:_):Ht(E)?(e.consume(E),o=String.fromCharCode(E),y):n(E)}function h(E){return E===45?(e.consume(E),i=2,p):E===91?(e.consume(E),i=5,s=0,m):Ht(E)?(e.consume(E),i=4,r.interrupt?t:_):n(E)}function p(E){return E===45?(e.consume(E),r.interrupt?t:_):n(E)}function m(E){const ee="CDATA[";return E===ee.charCodeAt(s++)?(e.consume(E),s===ee.length?r.interrupt?t:A:m):n(E)}function g(E){return Ht(E)?(e.consume(E),o=String.fromCharCode(E),y):n(E)}function y(E){if(E===null||E===47||E===62||Ie(E)){const ee=E===47,te=o.toLowerCase();return!ee&&!a&&uk.includes(te)?(i=1,r.interrupt?t(E):A(E)):Qz.includes(o.toLowerCase())?(i=6,ee?(e.consume(E),v):r.interrupt?t(E):A(E)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):a?b(E):w(E))}return E===45||Ut(E)?(e.consume(E),o+=String.fromCharCode(E),y):n(E)}function v(E){return E===62?(e.consume(E),r.interrupt?t:A):n(E)}function b(E){return ve(E)?(e.consume(E),b):P(E)}function w(E){return E===47?(e.consume(E),P):E===58||E===95||Ht(E)?(e.consume(E),S):ve(E)?(e.consume(E),w):P(E)}function S(E){return E===45||E===46||E===58||E===95||Ut(E)?(e.consume(E),S):j(E)}function j(E){return E===61?(e.consume(E),k):ve(E)?(e.consume(E),j):w(E)}function k(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),l=E,C):ve(E)?(e.consume(E),k):N(E)}function C(E){return E===l?(e.consume(E),l=null,O):E===null||ue(E)?n(E):(e.consume(E),C)}function N(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Ie(E)?j(E):(e.consume(E),N)}function O(E){return E===47||E===62||ve(E)?w(E):n(E)}function P(E){return E===62?(e.consume(E),I):n(E)}function I(E){return E===null||ue(E)?A(E):ve(E)?(e.consume(E),I):n(E)}function A(E){return E===45&&i===2?(e.consume(E),W):E===60&&i===1?(e.consume(E),$):E===62&&i===4?(e.consume(E),J):E===63&&i===3?(e.consume(E),_):E===93&&i===5?(e.consume(E),U):ue(E)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(eB,D,R)(E)):E===null||ue(E)?(e.exit("htmlFlowData"),R(E)):(e.consume(E),A)}function R(E){return e.check(tB,L,D)(E)}function L(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),z}function z(E){return E===null||ue(E)?R(E):(e.enter("htmlFlowData"),A(E))}function W(E){return E===45?(e.consume(E),_):A(E)}function $(E){return E===47?(e.consume(E),o="",T):A(E)}function T(E){if(E===62){const ee=o.toLowerCase();return uk.includes(ee)?(e.consume(E),J):A(E)}return Ht(E)&&o.length<8?(e.consume(E),o+=String.fromCharCode(E),T):A(E)}function U(E){return E===93?(e.consume(E),_):A(E)}function _(E){return E===62?(e.consume(E),J):E===45&&i===2?(e.consume(E),_):A(E)}function J(E){return E===null||ue(E)?(e.exit("htmlFlowData"),D(E)):(e.consume(E),J)}function D(E){return e.exit("htmlFlow"),t(E)}}function iB(e,t,n){const r=this;return i;function i(o){return ue(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function aB(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Nc,t,n)}}const oB={name:"htmlText",tokenize:sB};function sB(e,t,n){const r=this;let i,a,o;return s;function s(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),l}function l(_){return _===33?(e.consume(_),c):_===47?(e.consume(_),j):_===63?(e.consume(_),w):Ht(_)?(e.consume(_),N):n(_)}function c(_){return _===45?(e.consume(_),u):_===91?(e.consume(_),a=0,m):Ht(_)?(e.consume(_),b):n(_)}function u(_){return _===45?(e.consume(_),p):n(_)}function f(_){return _===null?n(_):_===45?(e.consume(_),h):ue(_)?(o=f,$(_)):(e.consume(_),f)}function h(_){return _===45?(e.consume(_),p):f(_)}function p(_){return _===62?W(_):_===45?h(_):f(_)}function m(_){const J="CDATA[";return _===J.charCodeAt(a++)?(e.consume(_),a===J.length?g:m):n(_)}function g(_){return _===null?n(_):_===93?(e.consume(_),y):ue(_)?(o=g,$(_)):(e.consume(_),g)}function y(_){return _===93?(e.consume(_),v):g(_)}function v(_){return _===62?W(_):_===93?(e.consume(_),v):g(_)}function b(_){return _===null||_===62?W(_):ue(_)?(o=b,$(_)):(e.consume(_),b)}function w(_){return _===null?n(_):_===63?(e.consume(_),S):ue(_)?(o=w,$(_)):(e.consume(_),w)}function S(_){return _===62?W(_):w(_)}function j(_){return Ht(_)?(e.consume(_),k):n(_)}function k(_){return _===45||Ut(_)?(e.consume(_),k):C(_)}function C(_){return ue(_)?(o=C,$(_)):ve(_)?(e.consume(_),C):W(_)}function N(_){return _===45||Ut(_)?(e.consume(_),N):_===47||_===62||Ie(_)?O(_):n(_)}function O(_){return _===47?(e.consume(_),W):_===58||_===95||Ht(_)?(e.consume(_),P):ue(_)?(o=O,$(_)):ve(_)?(e.consume(_),O):W(_)}function P(_){return _===45||_===46||_===58||_===95||Ut(_)?(e.consume(_),P):I(_)}function I(_){return _===61?(e.consume(_),A):ue(_)?(o=I,$(_)):ve(_)?(e.consume(_),I):O(_)}function A(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),i=_,R):ue(_)?(o=A,$(_)):ve(_)?(e.consume(_),A):(e.consume(_),L)}function R(_){return _===i?(e.consume(_),i=void 0,z):_===null?n(_):ue(_)?(o=R,$(_)):(e.consume(_),R)}function L(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||Ie(_)?O(_):(e.consume(_),L)}function z(_){return _===47||_===62||Ie(_)?O(_):n(_)}function W(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function $(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),T}function T(_){return ve(_)?Se(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):U(_)}function U(_){return e.enter("htmlTextData"),o(_)}}const Fx={name:"labelEnd",resolveAll:dB,resolveTo:fB,tokenize:hB},lB={tokenize:pB},cB={tokenize:mB},uB={tokenize:gB};function dB(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&jn(e,0,e.length,n),e}function fB(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Kn(s,e.slice(a+1,a+r+3)),s=Kn(s,[["enter",u,t]]),s=Kn(s,fh(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Kn(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=Kn(s,e.slice(o+1)),s=Kn(s,[["exit",l,t]]),jn(e,a,e.length,s),e}function hB(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?f(h):(o=r.parser.defined.includes(hr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(lB,u,o?u:f)(h):h===91?e.attempt(cB,u,o?c:f)(h):o?u(h):f(h)}function c(h){return e.attempt(uB,u,f)(h)}function u(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function pB(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Ie(f)?Nl(e,a)(f):a(f)}function a(f){return f===41?u(f):BO(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Ie(f)?Nl(e,l)(f):u(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?KO(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Ie(f)?Nl(e,u)(f):u(f)}function u(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function mB(e,t,n){const r=this;return i;function i(s){return WO.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function gB(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const vB={name:"labelStartImage",resolveAll:Fx.resolveAll,tokenize:yB};function yB(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const xB={name:"labelStartLink",resolveAll:Fx.resolveAll,tokenize:bB};function bB(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const cm={name:"lineEnding",tokenize:wB};function wB(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Se(e,t,"linePrefix")}}const sd={name:"thematicBreak",tokenize:kB};function kB(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ue(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),ve(c)?Se(e,s,"whitespace")(c):s(c))}}const Zt={continuation:{tokenize:CB},exit:PB,name:"list",tokenize:_B},SB={partial:!0,tokenize:OB},jB={partial:!0,tokenize:EB};function _B(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:mv(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(sd,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return mv(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Nc,r.interrupt?n:u,e.attempt(SB,h,f))}function u(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return ve(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function CB(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Nc,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Se(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!ve(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(jB,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Se(e,e.attempt(Zt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function EB(e,t,n){const r=this;return Se(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function PB(e){e.exit(this.containerState.type)}function OB(e,t,n){const r=this;return Se(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const o=r.events[r.events.length-1];return!ve(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const dk={name:"setextUnderline",resolveTo:NB,tokenize:AB};function NB(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function AB(e,t,n){const r=this;let i;return a;function a(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),ve(c)?Se(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ue(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const TB={tokenize:IB};function IB(e){const t=this,n=e.attempt(Nc,r,e.attempt(this.parser.constructs.flowInitial,i,Se(e,e.attempt(this.parser.constructs.flow,i,e.attempt($z,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const DB={resolveAll:HO()},RB=qO("string"),MB=qO("text");function qO(e){return{resolveAll:HO(e==="text"?LB:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function HO(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function LB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const $B={42:Zt,43:Zt,45:Zt,48:Zt,49:Zt,50:Zt,51:Zt,52:Zt,53:Zt,54:Zt,55:Zt,56:Zt,57:Zt,62:$O},FB={91:Wz},UB={[-2]:lm,[-1]:lm,32:lm},zB={35:Yz,42:sd,45:[dk,sd],60:Zz,61:dk,95:sd,96:ck,126:ck},BB={38:UO,92:FO},WB={[-5]:cm,[-4]:cm,[-3]:cm,33:vB,38:UO,42:gv,60:[xz,oB],91:xB,92:[Vz,FO],93:Fx,95:gv,96:Tz},KB={null:[gv,DB]},qB={null:[42,95]},HB={null:[]},VB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qB,contentInitial:FB,disable:HB,document:$B,flow:zB,flowInitial:UB,insideSpan:KB,string:BB,text:WB},Symbol.toStringTag,{value:"Module"}));function GB(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:C(j),check:C(k),consume:b,enter:w,exit:S,interrupt:C(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(I){return o=Kn(o,I),y(),o[o.length-1]!==null?[]:(N(t,0),c.events=fh(a,c.events,c),c.events)}function h(I,A){return JB(p(I),A)}function p(I){return YB(o,I)}function m(){const{_bufferIndex:I,_index:A,line:R,column:L,offset:z}=r;return{_bufferIndex:I,_index:A,line:R,column:L,offset:z}}function g(I){i[I.line]=I.column,P()}function y(){let I;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<A.length;)v(A.charCodeAt(r._bufferIndex));else v(A)}}function v(I){u=u(I)}function b(I){ue(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,P()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function w(I,A){const R=A||{};return R.type=I,R.start=m(),c.events.push(["enter",R,c]),s.push(R),R}function S(I){const A=s.pop();return A.end=m(),c.events.push(["exit",A,c]),A}function j(I,A){N(I,A.from)}function k(I,A){A.restore()}function C(I,A){return R;function R(L,z,W){let $,T,U,_;return Array.isArray(L)?D(L):"tokenize"in L?D([L]):J(L);function J(oe){return me;function me(Ue){const M=Ue!==null&&oe[Ue],B=Ue!==null&&oe.null,Y=[...Array.isArray(M)?M:M?[M]:[],...Array.isArray(B)?B:B?[B]:[]];return D(Y)(Ue)}}function D(oe){return $=oe,T=0,oe.length===0?W:E(oe[T])}function E(oe){return me;function me(Ue){return _=O(),U=oe,oe.partial||(c.currentConstruct=oe),oe.name&&c.parser.constructs.disable.null.includes(oe.name)?te():oe.tokenize.call(A?Object.assign(Object.create(c),A):c,l,ee,te)(Ue)}}function ee(oe){return I(U,_),z}function te(oe){return _.restore(),++T<$.length?E($[T]):W}}}function N(I,A){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&jn(c.events,A,c.events.length-A,I.resolve(c.events.slice(A),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function O(){const I=m(),A=c.previous,R=c.currentConstruct,L=c.events.length,z=Array.from(s);return{from:L,restore:W};function W(){r=I,c.previous=A,c.currentConstruct=R,c.events.length=L,s=z,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function YB(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function JB(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function XB(e){const r={constructs:MO([VB,...(e||{}).extensions||[]]),content:i(fz),defined:[],document:i(pz),flow:i(TB),lazy:{},string:i(RB),text:i(MB)};return r;function i(a){return o;function o(s){return GB(r,a,s)}}}function QB(e){for(;!zO(e););return e}const fk=/[\0\t\n\r]/g;function ZB(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,u,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(fk.lastIndex=f,c=fk.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const e5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function t5(e){return e.replace(e5,n5)}function n5(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return LO(n.slice(a?2:1),a?16:10)}return $x(n)||e}const VO={}.hasOwnProperty;function r5(e,t,n){return typeof t!="string"&&(n=t,t=void 0),i5(n)(QB(XB(n).document().write(ZB()(e,t,!0))))}function i5(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(nu),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(tt),blockQuote:a(B),characterEscape:O,characterReference:O,codeFenced:a(Y),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Y,o),codeText:a(q,o),codeTextData:O,data:O,codeFlowValue:O,definition:a(ge),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(we),hardBreakEscape:a(H),hardBreakTrailing:a(H),htmlFlow:a(Ce,o),htmlFlowData:O,htmlText:a(Ce,o),htmlTextData:O,image:a(oo),label:o,link:a(nu),listItem:a(G),listItemValue:h,listOrdered:a(Us,f),listUnordered:a(Us),paragraph:a(ae),reference:E,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(tt),strong:a(pe),thematicBreak:a(Ge)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:M,autolinkProtocol:Ue,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:oe,characterReference:me,codeFenced:l(y),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:P,codeIndented:l(v),codeText:l(z),codeTextData:P,data:P,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(R),htmlFlowData:P,htmlText:l(L),htmlTextData:P,image:l($),label:U,labelText:T,lineEnding:I,link:l(W),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:_,resourceTitleString:J,resource:D,setextHeading:l(N),setextHeadingLineSequence:C,setextHeadingText:k,strong:l(),thematicBreak:l()}};GO(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(V){let Z={type:"root",children:[]};const se={stack:[Z],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:n},ke=[];let Ae=-1;for(;++Ae<V.length;)if(V[Ae][1].type==="listOrdered"||V[Ae][1].type==="listUnordered")if(V[Ae][0]==="enter")ke.push(Ae);else{const tr=ke.pop();Ae=i(V,tr,Ae)}for(Ae=-1;++Ae<V.length;){const tr=t[V[Ae][0]];VO.call(tr,V[Ae][1].type)&&tr[V[Ae][1].type].call(Object.assign({sliceSerialize:V[Ae][2].sliceSerialize},se),V[Ae][1])}if(se.tokenStack.length>0){const tr=se.tokenStack[se.tokenStack.length-1];(tr[1]||hk).call(se,void 0,tr[0])}for(Z.position={start:xi(V.length>0?V[0][1].start:{line:1,column:1,offset:0}),end:xi(V.length>0?V[V.length-2][1].end:{line:1,column:1,offset:0})},Ae=-1;++Ae<t.transforms.length;)Z=t.transforms[Ae](Z)||Z;return Z}function i(V,Z,se){let ke=Z-1,Ae=-1,tr=!1,aa,$r,zs,Bs;for(;++ke<=se;){const mn=V[ke];switch(mn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mn[0]==="enter"?Ae++:Ae--,Bs=void 0;break}case"lineEndingBlank":{mn[0]==="enter"&&(aa&&!Bs&&!Ae&&!zs&&(zs=ke),Bs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bs=void 0}if(!Ae&&mn[0]==="enter"&&mn[1].type==="listItemPrefix"||Ae===-1&&mn[0]==="exit"&&(mn[1].type==="listUnordered"||mn[1].type==="listOrdered")){if(aa){let so=ke;for($r=void 0;so--;){const Fr=V[so];if(Fr[1].type==="lineEnding"||Fr[1].type==="lineEndingBlank"){if(Fr[0]==="exit")continue;$r&&(V[$r][1].type="lineEndingBlank",tr=!0),Fr[1].type="lineEnding",$r=so}else if(!(Fr[1].type==="linePrefix"||Fr[1].type==="blockQuotePrefix"||Fr[1].type==="blockQuotePrefixWhitespace"||Fr[1].type==="blockQuoteMarker"||Fr[1].type==="listItemIndent"))break}zs&&(!$r||zs<$r)&&(aa._spread=!0),aa.end=Object.assign({},$r?V[$r][1].start:mn[1].end),V.splice($r||ke,0,["exit",aa,mn[2]]),ke++,se++}if(mn[1].type==="listItemPrefix"){const so={type:"listItem",_spread:!1,start:Object.assign({},mn[1].start),end:void 0};aa=so,V.splice(ke,0,["enter",so,mn[2]]),ke++,se++,zs=void 0,Bs=!0}}}return V[Z][1]._spread=tr,se}function a(V,Z){return se;function se(ke){s.call(this,V(ke),ke),Z&&Z.call(this,ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(V,Z,se){this.stack[this.stack.length-1].children.push(V),this.stack.push(V),this.tokenStack.push([Z,se||void 0]),V.position={start:xi(Z.start),end:void 0}}function l(V){return Z;function Z(se){V&&V.call(this,se),c.call(this,se)}}function c(V,Z){const se=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==V.type&&(Z?Z.call(this,V,ke[0]):(ke[1]||hk).call(this,V,ke[0]));else throw new Error("Cannot close `"+V.type+"` ("+Ol({start:V.start,end:V.end})+"): its not open");se.position.end=xi(V.end)}function u(){return Lx(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(V){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(V),10),this.data.expectingFirstListItemValue=void 0}}function p(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=V}function m(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=V}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.value=V.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.value=V.replace(/(\r?\n|\r)$/g,"")}function b(V){const Z=this.resume(),se=this.stack[this.stack.length-1];se.label=Z,se.identifier=hr(this.sliceSerialize(V)).toLowerCase()}function w(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.title=V}function S(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.url=V}function j(V){const Z=this.stack[this.stack.length-1];if(!Z.depth){const se=this.sliceSerialize(V).length;Z.depth=se}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function C(V){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(V).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function O(V){const se=this.stack[this.stack.length-1].children;let ke=se[se.length-1];(!ke||ke.type!=="text")&&(ke=Qe(),ke.position={start:xi(V.start),end:void 0},se.push(ke)),this.stack.push(ke)}function P(V){const Z=this.stack.pop();Z.value+=this.sliceSerialize(V),Z.position.end=xi(V.end)}function I(V){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=Z.children[Z.children.length-1];se.position.end=xi(V.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Z.type)&&(O.call(this,V),P.call(this,V))}function A(){this.data.atHardBreak=!0}function R(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.value=V}function L(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.value=V}function z(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.value=V}function W(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=Z,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function $(){const V=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";V.type+="Reference",V.referenceType=Z,delete V.url,delete V.title}else delete V.identifier,delete V.label;this.data.referenceType=void 0}function T(V){const Z=this.sliceSerialize(V),se=this.stack[this.stack.length-2];se.label=t5(Z),se.identifier=hr(Z).toLowerCase()}function U(){const V=this.stack[this.stack.length-1],Z=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const ke=V.children;se.children=ke}else se.alt=Z}function _(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.url=V}function J(){const V=this.resume(),Z=this.stack[this.stack.length-1];Z.title=V}function D(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function ee(V){const Z=this.resume(),se=this.stack[this.stack.length-1];se.label=Z,se.identifier=hr(this.sliceSerialize(V)).toLowerCase(),this.data.referenceType="full"}function te(V){this.data.characterReferenceType=V.type}function oe(V){const Z=this.sliceSerialize(V),se=this.data.characterReferenceType;let ke;se?(ke=LO(Z,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=$x(Z);const Ae=this.stack[this.stack.length-1];Ae.value+=ke}function me(V){const Z=this.stack.pop();Z.position.end=xi(V.end)}function Ue(V){P.call(this,V);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(V)}function M(V){P.call(this,V);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(V)}function B(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function q(){return{type:"inlineCode",value:""}}function ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function we(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function H(){return{type:"break"}}function Ce(){return{type:"html",value:""}}function oo(){return{type:"image",title:null,url:"",alt:null}}function nu(){return{type:"link",title:null,url:"",children:[]}}function Us(V){return{type:"list",ordered:V.type==="listOrdered",start:null,spread:V._spread,children:[]}}function G(V){return{type:"listItem",spread:V._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function pe(){return{type:"strong",children:[]}}function Qe(){return{type:"text",value:""}}function Ge(){return{type:"thematicBreak"}}}function xi(e){return{line:e.line,column:e.column,offset:e.offset}}function GO(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?GO(e,r):a5(e,r)}}function a5(e,t){let n;for(n in t)if(VO.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function hk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ol({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is still open")}function o5(e){const t=this;t.parser=n;function n(r){return r5(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function s5(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function l5(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function c5(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function u5(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function d5(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ss(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function h5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function YO(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function m5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return YO(e,t);const i={src:Ss(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function g5(e,t){const n={src:Ss(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function v5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function y5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return YO(e,t);const i={href:Ss(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function x5(e,t){const n={href:Ss(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function b5(e,t,n){const r=e.all(t),i=n?w5(n):JO(t),a={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function w5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=JO(n[r])}return t}function JO(e){const t=e.spread;return t??e.children.length>1}function k5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function S5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function _5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function C5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Ix(t.children[1]),l=OO(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function E5(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const f=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function P5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const pk=9,mk=32;function O5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(gk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(gk(t.slice(i),i>0,!1)),a.join("")}function gk(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===pk||a===mk;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===pk||a===mk;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function N5(e,t){const n={type:"text",value:O5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function A5(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const T5={blockquote:s5,break:l5,code:c5,delete:u5,emphasis:d5,footnoteReference:f5,heading:h5,html:p5,imageReference:m5,image:g5,inlineCode:v5,linkReference:y5,link:x5,listItem:b5,list:k5,paragraph:S5,root:j5,strong:_5,table:C5,tableCell:P5,tableRow:E5,text:N5,thematicBreak:A5,toml:_u,yaml:_u,definition:_u,footnoteDefinition:_u};function _u(){}const XO=-1,hh=0,Al=1,Gd=2,Ux=3,zx=4,Bx=5,Wx=6,QO=7,ZO=8,vk=typeof self=="object"?self:globalThis,I5=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case hh:case XO:return n(o,i);case Al:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Gd:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case Ux:return n(new Date(o),i);case zx:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case Bx:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case Wx:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case QO:{const{name:s,message:l}=o;return n(new vk[s](l),i)}case ZO:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new vk[a](o),i)};return r},yk=e=>I5(new Map,e)(0),go="",{toString:D5}={},{keys:R5}=Object,Zs=e=>{const t=typeof e;if(t!=="object"||!e)return[hh,t];const n=D5.call(e).slice(8,-1);switch(n){case"Array":return[Al,go];case"Object":return[Gd,go];case"Date":return[Ux,go];case"RegExp":return[zx,go];case"Map":return[Bx,go];case"Set":return[Wx,go];case"DataView":return[Al,n]}return n.includes("Array")?[Al,n]:n.includes("Error")?[QO,n]:[Gd,n]},Cu=([e,t])=>e===hh&&(t==="function"||t==="symbol"),M5=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Zs(o);switch(s){case hh:{let u=o;switch(l){case"bigint":s=ZO,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([XO],o)}return i([s,u],o)}case Al:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],f=i([s,u],o);for(const h of o)u.push(a(h));return f}case Gd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],f=i([s,u],o);for(const h of R5(o))(e||!Cu(Zs(o[h])))&&u.push([a(h),a(o[h])]);return f}case Ux:return i([s,o.toISOString()],o);case zx:{const{source:u,flags:f}=o;return i([s,{source:u,flags:f}],o)}case Bx:{const u=[],f=i([s,u],o);for(const[h,p]of o)(e||!(Cu(Zs(h))||Cu(Zs(p))))&&u.push([a(h),a(p)]);return f}case Wx:{const u=[],f=i([s,u],o);for(const h of o)(e||!Cu(Zs(h)))&&u.push(a(h));return f}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},xk=(e,{json:t,lossy:n}={})=>{const r=[];return M5(!(t||n),!!t,new Map,r)(e),r},Yd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?yk(xk(e,t)):structuredClone(e):(e,t)=>yk(xk(e,t));function L5(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $5(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function F5(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||L5,r=e.options.footnoteBackLabel||$5,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),f=String(c.identifier).toUpperCase(),h=Ss(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=u[u.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...m)}else u.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(c,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Yd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const ph=function(e){if(e==null)return W5;if(typeof e=="function")return mh(e);if(typeof e=="object")return Array.isArray(e)?U5(e):z5(e);if(typeof e=="string")return B5(e);throw new Error("Expected function, string, or object as test")};function U5(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ph(e[n]);return mh(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function z5(e){const t=e;return mh(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function B5(e){return mh(t);function t(n){return n&&n.type===e}}function mh(e){return t;function t(n,r,i){return!!(K5(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function W5(){return!0}function K5(e){return e!==null&&typeof e=="object"&&"type"in e}const eN=[],q5=!0,vv=!1,H5="skip";function tN(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=ph(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=eN,m,g,y;if((!t||a(l,c,u[u.length-1]||void 0))&&(p=V5(n(l,u)),p[0]===vv))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==H5)for(g=(r?v.children.length:-1)+o,y=u.concat(v);g>-1&&g<v.children.length;){const b=v.children[g];if(m=s(b,g,y)(),m[0]===vv)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function V5(e){return Array.isArray(e)?e:typeof e=="number"?[q5,e]:e==null?eN:[e]}function Kx(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),tN(e,a,s,i);function s(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return o(l,f,u)}}const yv={}.hasOwnProperty,G5={};function Y5(e,t){const n=t||G5,r=new Map,i=new Map,a=new Map,o={...T5,...n.handlers},s={all:c,applyData:X5,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:J5,wrap:Z5};return Kx(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();f.has(h)||f.set(h,u)}}),s;function l(u,f){const h=u.type,p=s.handlers[h];if(yv.call(s.handlers,h)&&p)return p(s,u,f);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in u){const{children:g,...y}=u,v=Yd(y);return v.children=s.all(u),v}return Yd(u)}return(s.options.unknownHandler||Q5)(s,u,f)}function c(u){const f=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const m=s.one(h[p],u);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=bk(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=bk(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function J5(e,t){e.position&&(t.position=$U(e))}function X5(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Yd(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Q5(e,t){const n=t.data||{},r="value"in t&&!(yv.call(n,"hProperties")||yv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Z5(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function bk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function wk(e,t){const n=Y5(e,t),r=n.one(e,void 0),i=F5(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function e8(e,t){return e&&"run"in e?async function(n,r){const i=wk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return wk(n,{file:r,...e||t})}}function kk(e){if(e)throw e}var ld=Object.prototype.hasOwnProperty,nN=Object.prototype.toString,Sk=Object.defineProperty,jk=Object.getOwnPropertyDescriptor,_k=function(t){return typeof Array.isArray=="function"?Array.isArray(t):nN.call(t)==="[object Array]"},Ck=function(t){if(!t||nN.call(t)!=="[object Object]")return!1;var n=ld.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&ld.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||ld.call(t,i)},Ek=function(t,n){Sk&&n.name==="__proto__"?Sk(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Pk=function(t,n){if(n==="__proto__")if(ld.call(t,n)){if(jk)return jk(t,n).value}else return;return t[n]},t8=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=Pk(s,n),i=Pk(t,n),s!==i&&(u&&i&&(Ck(i)||(a=_k(i)))?(a?(a=!1,o=r&&_k(r)?r:[]):o=r&&Ck(r)?r:{},Ek(s,{name:n,newValue:e(u,o,i)})):typeof i<"u"&&Ek(s,{name:n,newValue:i}));return s};const um=Nn(t8);function xv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function n8(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?r8(u,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function r8(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const jr={basename:i8,dirname:a8,extname:o8,join:s8,sep:"/"};function i8(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ac(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function a8(e){if(Ac(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function o8(e){Ac(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function s8(...e){let t=-1,n;for(;++t<e.length;)Ac(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":l8(n)}function l8(e){Ac(e);const t=e.codePointAt(0)===47;let n=c8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function c8(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Ac(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const u8={cwd:d8};function d8(){return"/"}function bv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function f8(e){if(typeof e=="string")e=new URL(e);else if(!bv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return h8(e)}function h8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const dm=["history","path","basename","stem","extname","dirname"];class rN{constructor(t){let n;t?bv(t)?n={path:t}:typeof t=="string"||p8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":u8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<dm.length;){const a=dm[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)dm.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?jr.basename(this.path):void 0}set basename(t){hm(t,"basename"),fm(t,"basename"),this.path=jr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?jr.dirname(this.path):void 0}set dirname(t){Ok(this.basename,"dirname"),this.path=jr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?jr.extname(this.path):void 0}set extname(t){if(fm(t,"extname"),Ok(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){bv(t)&&(t=f8(t)),hm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?jr.basename(this.path,this.extname):void 0}set stem(t){hm(t,"stem"),fm(t,"stem"),this.path=jr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function fm(e,t){if(e&&e.includes(jr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jr.sep+"`")}function hm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ok(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function p8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const m8=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},g8={}.hasOwnProperty;class qx extends m8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=n8()}copy(){const t=new qx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(um(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(gm("data",this.frozen),this.namespace[t]=n,this):g8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(gm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Eu(t),r=this.parser||this.Parser;return pm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),pm("process",this.parser||this.Parser),mm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Eu(t),l=r.parse(s);r.run(l,s,function(u,f,h){if(u||!f||!h)return c(u);const p=f,m=r.stringify(p,h);x8(m)?h.value=m:h.result=m,c(u,h)});function c(u,f){u||!f?o(u):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),pm("processSync",this.parser||this.Parser),mm("processSync",this.compiler||this.Compiler),this.process(t,i),Ak("processSync","process",n),r;function i(a,o){n=!0,kk(a),r=o}}run(t,n,r){Nk(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=Eu(n);i.run(t,l,c);function c(u,f,h){const p=f||t;u?s(u):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),Ak("runSync","run",r),i;function a(o,s){kk(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Eu(n),i=this.compiler||this.Compiler;return mm("stringify",i),Nk(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(gm("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=um(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[p,...m]=u;const g=r[h][1];xv(g)&&xv(p)&&(p=um(!0,g,p)),r[h]=[c,p,...m]}}}}const v8=new qx().freeze();function pm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function mm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function gm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Nk(e){if(!xv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ak(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Eu(e){return y8(e)?e:new rN(e)}function y8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function x8(e){return typeof e=="string"||b8(e)}function b8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const w8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Tk=[],Ik={allowDangerousHtml:!0},k8=/^(https?|ircs?|mailto|xmpp)$/i,S8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function j8(e){const t=_8(e),n=C8(e);return E8(t.runSync(t.parse(n),n),e)}function _8(e){const t=e.rehypePlugins||Tk,n=e.remarkPlugins||Tk,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Ik}:Ik;return v8().use(o5).use(n).use(e8,r).use(t)}function C8(e){const t=e.children||"",n=new rN;return typeof t=="string"&&(n.value=t),n}function E8(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||P8;for(const u of S8)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+w8+u.id,void 0);return Kx(e,c),WU(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,f,h){if(u.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let p;for(p in sm)if(Object.hasOwn(sm,p)&&Object.hasOwn(u.properties,p)){const m=u.properties[p],g=sm[p];(g===null||g.includes(u.tagName))&&(u.properties[p]=l(String(m||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(u,f,h)),p&&h&&typeof f=="number")return s&&u.children?h.children.splice(f,1,...u.children):h.children.splice(f,1),f}}}function P8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||k8.test(e.slice(0,t))?e:""}function Dk(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function O8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function N8(e,t,n){const i=ph((n||{}).ignore||[]),a=A8(t);let o=-1;for(;++o<a.length;)tN(e,"text",s);function s(c,u){let f=-1,h;for(;++f<u.length;){const p=u[f],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return l(c,u)}function l(c,u){const f=u[u.length-1],h=a[o][0],p=a[o][1];let m=0;const y=f.children.indexOf(c);let v=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,j={index:w.index,input:w.input,stack:[...u,c]};let k=p(...w,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=S+1:(m!==S&&b.push({type:"text",value:c.value.slice(m,S)}),Array.isArray(k)?b.push(...k):k&&b.push(k),m=S+w[0].length,v=!0),!h.global)break;w=h.exec(c.value)}return v?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),f.children.splice(y,1,...b)):b=[c],y+b.length}}function A8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([T8(i[0]),I8(i[1])])}return t}function T8(e){return typeof e=="string"?new RegExp(O8(e),"g"):e}function I8(e){return typeof e=="function"?e:function(){return e}}const vm="phrasing",ym=["autolink","link","image","label"];function D8(){return{transforms:[z8],enter:{literalAutolink:M8,literalAutolinkEmail:xm,literalAutolinkHttp:xm,literalAutolinkWww:xm},exit:{literalAutolink:U8,literalAutolinkEmail:F8,literalAutolinkHttp:L8,literalAutolinkWww:$8}}}function R8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:vm,notInConstruct:ym},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:vm,notInConstruct:ym},{character:":",before:"[ps]",after:"\\/",inConstruct:vm,notInConstruct:ym}]}}function M8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function xm(e){this.config.enter.autolinkProtocol.call(this,e)}function L8(e){this.config.exit.autolinkProtocol.call(this,e)}function $8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function F8(e){this.config.exit.autolinkEmail.call(this,e)}function U8(e){this.exit(e)}function z8(e){N8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,B8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),W8]],{ignore:["link","linkReference"]})}function B8(e,t,n,r,i){let a="";if(!iN(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!K8(n)))return!1;const o=q8(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function W8(e,t,n,r){return!iN(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function K8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function q8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Dk(e,"(");let a=Dk(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function iN(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Wa(n)||dh(n))&&(!t||n!==47)}aN.peek=e6;function H8(){this.buffer()}function V8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function G8(){this.buffer()}function Y8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function J8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function X8(e){this.exit(e)}function Q8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Z8(e){this.exit(e)}function e6(){return"["}function aN(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function t6(){return{enter:{gfmFootnoteCallString:H8,gfmFootnoteCall:V8,gfmFootnoteDefinitionLabelString:G8,gfmFootnoteDefinition:Y8},exit:{gfmFootnoteCallString:J8,gfmFootnoteCall:X8,gfmFootnoteDefinitionLabelString:Q8,gfmFootnoteDefinition:Z8}}}function n6(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:aN},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(r),{before:l,after:"]"})),u(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?oN:r6))),c(),l}}function r6(e,t,n){return t===0?e:oN(e,t,n)}function oN(e,t,n){return(n?"":"    ")+e}const i6=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];sN.peek=c6;function a6(){return{canContainEols:["delete"],enter:{strikethrough:s6},exit:{strikethrough:l6}}}function o6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:i6}],handlers:{delete:sN}}}function s6(e){this.enter({type:"delete",children:[]},e)}function l6(e){this.exit(e)}function sN(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function c6(){return"~"}function u6(e){return e.length}function d6(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||u6,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const g=[],y=[];let v=-1;for(e[u].length>c&&(c=e[u].length);++v<e[u].length;){const b=f6(e[u][v]);if(n.alignDelimiters!==!1){const w=i(b);y[v]=w,(l[v]===void 0||w>l[v])&&(l[v]=w)}g.push(b)}o[u]=g,s[u]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=Rk(r[f]);else{const g=Rk(r);for(;++f<c;)a[f]=g}f=-1;const h=[],p=[];for(;++f<c;){const g=a[f];let y="",v="";g===99?(y=":",v=":"):g===108?y=":":g===114&&(v=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-v.length);const w=y+"-".repeat(b)+v;n.alignDelimiters!==!1&&(b=y.length+b+v.length,b>l[f]&&(l[f]=b),p[f]=b),h[f]=w}o.splice(1,0,h),s.splice(1,0,p),u=-1;const m=[];for(;++u<o.length;){const g=o[u],y=s[u];f=-1;const v=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(y[f]||0),k=a[f];k===114?w=" ".repeat(j):k===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(w),v.push(b),n.alignDelimiters!==!1&&v.push(S),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}m.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return m.join(`
`)}function f6(e){return e==null?"":String(e)}function Rk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function h6(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),p6);return i(),o}function p6(e,t,n){return">"+(n?"":" ")+e}function m6(e,t){return Mk(e,t.inConstruct,!0)&&!Mk(e,t.notInConstruct,!1)}function Mk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Lk(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&m6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function g6(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function v6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function y6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function x6(e,t,n,r){const i=y6(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(v6(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,b6);return f(),h}const s=n.createTracker(r),l=i.repeat(Math.max(g6(a,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),f()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function b6(e,t,n){return(n?"":"    ")+e}function Hx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function w6(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function k6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ac(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Jd(e,t,n){const r=es(e),i=es(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}lN.peek=S6;function lN(e,t,n,r){const i=k6(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Jd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=ac(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Jd(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+ac(f));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function S6(e,t,n){return n.options.emphasis||"*"}function j6(e,t){let n=!1;return Kx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,vv}),!!((!e.depth||e.depth<3)&&Lx(e)&&(t.options.setext||n))}function _6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(j6(e,n)){const u=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=ac(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}cN.peek=C6;function cN(e){return e.value||""}function C6(){return"<"}uN.peek=E6;function uN(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function E6(){return"!"}dN.peek=P6;function dN(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function P6(){return"!"}fN.peek=O6;function fN(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function O6(){return"`"}function hN(e,t){const n=Lx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}pN.peek=N6;function pN(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(hN(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=u,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function N6(e,t,n){return hN(e,n)?"<":"["}mN.peek=A6;function mN(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function A6(){return"["}function Vx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function T6(e){const t=Vx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function I6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function gN(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function D6(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?I6(n):Vx(n);const s=e.ordered?o==="."?")":".":T6(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),gN(n)===o&&u){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),c}function R6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function M6(e,t,n,r){const i=R6(n);let a=n.bulletCurrent||Vx(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),u);return l(),c;function u(f,h,p){return h?(p?"":" ".repeat(o))+f:(p?a:a+" ".repeat(o-a.length))+f}}function L6(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const $6=ph(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function F6(e,t,n,r){return(e.children.some(function(o){return $6(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function U6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}vN.peek=z6;function vN(e,t,n,r){const i=U6(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Jd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=ac(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Jd(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+ac(f));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function z6(e,t,n){return n.options.strong||"*"}function B6(e,t,n,r){return n.safe(e.value,r)}function W6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function K6(e,t,n){const r=(gN(n)+(n.options.ruleSpaces?" ":"")).repeat(W6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const yN={blockquote:h6,break:Lk,code:x6,definition:w6,emphasis:lN,hardBreak:Lk,heading:_6,html:cN,image:uN,imageReference:dN,inlineCode:fN,link:pN,linkReference:mN,list:D6,listItem:M6,paragraph:L6,root:F6,strong:vN,text:B6,thematicBreak:K6};function q6(){return{enter:{table:H6,tableData:$k,tableHeader:$k,tableRow:G6},exit:{codeText:Y6,table:V6,tableData:bm,tableHeader:bm,tableRow:bm}}}function H6(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function V6(e){this.exit(e),this.data.inTable=void 0}function G6(e){this.enter({type:"tableRow",children:[]},e)}function bm(e){this.exit(e)}function $k(e){this.enter({type:"tableCell",children:[]},e)}function Y6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,J6));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function J6(e,t){return t==="|"?t:e}function X6(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,m,g,y){return c(u(p,g,y),p.align)}function s(p,m,g,y){const v=f(p,g,y),b=c([v]);return b.slice(0,b.indexOf(`
`))}function l(p,m,g,y){const v=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(p,{...y,before:a,after:a});return b(),v(),w}function c(p,m){return d6(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(p,m,g){const y=p.children;let v=-1;const b=[],w=m.enter("table");for(;++v<y.length;)b[v]=f(y[v],m,g);return w(),b}function f(p,m,g){const y=p.children;let v=-1;const b=[],w=m.enter("tableRow");for(;++v<y.length;)b[v]=l(y[v],p,m,g);return w(),b}function h(p,m,g){let y=yN.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Q6(){return{exit:{taskListCheckValueChecked:Fk,taskListCheckValueUnchecked:Fk,paragraph:e9}}}function Z6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:t9}}}function Fk(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function e9(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function t9(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=yN.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function n9(){return[D8(),t6(),a6(),q6(),Q6()]}function r9(e){return{extensions:[R8(),n6(e),o6(),X6(e),Z6()]}}const i9={tokenize:u9,partial:!0},xN={tokenize:d9,partial:!0},bN={tokenize:f9,partial:!0},wN={tokenize:h9,partial:!0},a9={tokenize:p9,partial:!0},kN={name:"wwwAutolink",tokenize:l9,previous:jN},SN={name:"protocolAutolink",tokenize:c9,previous:_N},ui={name:"emailAutolink",tokenize:s9,previous:CN},Lr={};function o9(){return{text:Lr}}let la=48;for(;la<123;)Lr[la]=ui,la++,la===58?la=65:la===91&&(la=97);Lr[43]=ui;Lr[45]=ui;Lr[46]=ui;Lr[95]=ui;Lr[72]=[ui,SN];Lr[104]=[ui,SN];Lr[87]=[ui,kN];Lr[119]=[ui,kN];function s9(e,t,n){const r=this;let i,a;return o;function o(f){return!wv(f)||!CN.call(r,r.previous)||Gx(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return wv(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(a9,u,c)(f):f===45||f===95||Ut(f)?(a=!0,e.consume(f),l):u(f)}function c(f){return e.consume(f),i=!0,l}function u(f){return a&&i&&Ht(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function l9(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!jN.call(r,r.previous)||Gx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(i9,e.attempt(xN,e.attempt(bN,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function c9(e,t,n){const r=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&_N.call(r,r.previous)&&!Gx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ht(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||Vd(f)||Ie(f)||Wa(f)||dh(f)?n(f):e.attempt(xN,e.attempt(bN,u),n)(f)}function u(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function u9(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function d9(e,t,n){let r,i,a;return o;function o(c){return c===46||c===95?e.check(wN,l,s)(c):c===null||Ie(c)||Wa(c)||c!==45&&dh(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!a?n(c):t(c)}}function f9(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(wN,t,a)(o):o===null||Ie(o)||Wa(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function h9(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||Ie(s)||Wa(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Ie(s)||Wa(s)?t(s):r(s)}function a(s){return Ht(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ht(s)?(e.consume(s),o):n(s)}}function p9(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ut(a)?n(a):t(a)}}function jN(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ie(e)}function _N(e){return!Ht(e)}function CN(e){return!(e===47||wv(e))}function wv(e){return e===43||e===45||e===46||e===95||Ut(e)}function Gx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const m9={tokenize:S9,partial:!0};function g9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:b9,continuation:{tokenize:w9},exit:k9}},text:{91:{name:"gfmFootnoteCall",tokenize:x9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:v9,resolveTo:y9}}}}function v9(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=hr(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function y9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function x9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!o||f===null||f===91||Ie(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(hr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Ie(f)||(o=!0),a++,e.consume(f),f===92?u:c}function u(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function b9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!s||m===null||m===91||Ie(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=hr(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ie(m)||(s=!0),o++,e.consume(m),m===92?f:u}function f(m){return m===91||m===92||m===93?(e.consume(m),o++,u):u(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),Se(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function w9(e,t,n){return e.check(Nc,t,e.attempt(m9,t,n))}function k9(e){e.exit("gfmFootnoteDefinition")}function S9(e,t,n){const r=this;return Se(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function j9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",f,s]],p=s.parser.constructs.insideSpan.null;p&&jn(h,h.length,0,fh(p,o.slice(c+1,l),s)),jn(h,h.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),jn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let f=0;return h;function h(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=es(c);if(m===126)return f>1?l(m):(o.consume(m),f++,p);if(f<2&&!n)return l(m);const y=o.exit("strikethroughSequenceTemporary"),v=es(m);return y._open=!v||v===2&&!!g,y._close=!g||g===2&&!!v,s(m)}}}class _9{constructor(){this.map=[]}add(t,n,r){C9(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function C9(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function E9(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function P9(){return{flow:{null:{name:"table",tokenize:O9,resolveAll:N9}}}}function O9(e,t,n){const r=this;let i=0,a=0,o;return s;function s(P){let I=r.events.length-1;for(;I>-1;){const L=r.events[I][1].type;if(L==="lineEnding"||L==="linePrefix")I--;else break}const A=I>-1?r.events[I][1].type:null,R=A==="tableHead"||A==="tableRow"?k:l;return R===k&&r.parser.lazy[r.now().line]?n(P):R(P)}function l(P){return e.enter("tableHead"),e.enter("tableRow"),c(P)}function c(P){return P===124||(o=!0,a+=1),u(P)}function u(P){return P===null?n(P):ue(P)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(P),e.exit("lineEnding"),p):n(P):ve(P)?Se(e,u,"whitespace")(P):(a+=1,o&&(o=!1,i+=1),P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),f(P)))}function f(P){return P===null||P===124||Ie(P)?(e.exit("data"),u(P)):(e.consume(P),P===92?h:f)}function h(P){return P===92||P===124?(e.consume(P),f):f(P)}function p(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(e.enter("tableDelimiterRow"),o=!1,ve(P)?Se(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):m(P))}function m(P){return P===45||P===58?y(P):P===124?(o=!0,e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),g):j(P)}function g(P){return ve(P)?Se(e,y,"whitespace")(P):y(P)}function y(P){return P===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),v):P===45?(a+=1,v(P)):P===null||ue(P)?S(P):j(P)}function v(P){return P===45?(e.enter("tableDelimiterFiller"),b(P)):j(P)}function b(P){return P===45?(e.consume(P),b):P===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(P),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(P))}function w(P){return ve(P)?Se(e,S,"whitespace")(P):S(P)}function S(P){return P===124?m(P):P===null||ue(P)?!o||i!==a?j(P):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(P)):j(P)}function j(P){return n(P)}function k(P){return e.enter("tableRow"),C(P)}function C(P){return P===124?(e.enter("tableCellDivider"),e.consume(P),e.exit("tableCellDivider"),C):P===null||ue(P)?(e.exit("tableRow"),t(P)):ve(P)?Se(e,C,"whitespace")(P):(e.enter("data"),N(P))}function N(P){return P===null||P===124||Ie(P)?(e.exit("data"),C(P)):(e.consume(P),P===92?O:N)}function O(P){return P===92||P===124?(e.consume(P),N):N(P)}}function N9(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,f;const h=new _9;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(Uk(h,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=Pu(h,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=Pu(h,t,a,i,void 0,f)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,a[1]!==0?(o[0]=o[1],f=Pu(h,t,a,i,n,f)):o[1]!==0&&(f=Pu(h,t,o,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Uk(h,t,l,c,u),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=E9(t.events,n))}return e}function Pu(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},bo(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=bo(t.events,n[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=bo(t.events,n[2]),u=bo(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},bo(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Uk(e,t,n,r,i){const a=[],o=bo(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function bo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const A9={name:"tasklistCheck",tokenize:I9};function T9(){return{text:{91:A9}}}function I9(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Ie(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return ue(l)?t(l):ve(l)?e.check({tokenize:D9},t,n)(l):n(l)}}function D9(e,t,n){return Se(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function R9(e){return MO([o9(),g9(),j9(e),P9(),T9()])}const M9={};function L9(e){const t=this,n=e||M9,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(R9(n)),a.push(n9()),o.push(r9(n))}const $9=({citations:e})=>{const t=r=>{switch(r){case"web":return"";case"document":return"";case"kb":return"";case"blob":return"";default:return""}},n=r=>{r.sourceId&&r.sourceId.startsWith("http")&&window.open(r.sourceId,"_blank","noopener,noreferrer")};return d.jsxs("div",{className:"card p-3 rounded-md border",style:{backgroundColor:"var(--bg-secondary)"},children:[d.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"References"}),d.jsx("div",{className:"space-y-2",children:e.map(r=>d.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${r.sourceId&&r.sourceId.startsWith("http")?"hover:bg-gray-50":"cursor-default"}`,style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},onClick:()=>n(r),children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("span",{className:"text-sm",children:t(r.sourceType)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h5",{className:"text-sm font-medium truncate",style:{color:"var(--text)"},children:r.title||"Untitled Source"}),r.snippet&&d.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--text-secondary)"},children:r.snippet}),r.sourceId&&d.jsx("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-muted)"},children:r.sourceId})]})]})},r.id))})]})},F9=({messageId:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!1),[a,o]=x.useState(null),[s,l]=x.useState(""),[c,u]=x.useState(null),f=p=>{o(p),i(!0),l("")},h=async()=>{if(a!==null)try{const p=Dr();if(!p||!p.userId){console.error("No user session found"),alert("Please log in to submit feedback");return}const m=e,g=a===1?"good":"bad";console.log("Submitting feedback:",{chatId:m,userId:p.userId,reaction:g,feedbackText:s}),await Ox(m,p.userId,g,s||void 0),console.log(" Feedback submitted successfully"),n(a),i(!1),l(""),u("success"),setTimeout(()=>u(null),3e3)}catch(p){console.error("Failed to submit feedback:",p),i(!1),u("error"),setTimeout(()=>u(null),3e3)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>f(1),className:`p-1 rounded transition-colors ${t===1?"bg-green-100 text-green-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===1?"var(--success-light)":"transparent",color:t===1?"var(--success)":"var(--text-muted)"},title:"Thumbs up",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})})}),d.jsx("button",{onClick:()=>f(-1),className:`p-1 rounded transition-colors ${t===-1?"bg-red-100 text-red-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===-1?"var(--error-light)":"transparent",color:t===-1?"var(--error)":"var(--text-muted)"},title:"Thumbs down",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"})})})]}),r&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"card p-6 rounded-lg max-w-md w-full mx-4",style:{backgroundColor:"var(--card)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Submit feedback to HR Ax Pro"}),d.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text)"},children:"What did you like?"}),d.jsx("textarea",{value:s,onChange:p=>l(p.target.value),placeholder:"Give as much detail as you can, but don't include any private or sensitive information.",className:"input w-full h-24 resize-none text-sm",style:{backgroundColor:"var(--bg)",color:"var(--text)",borderColor:"var(--border)",padding:"12px"},autoFocus:!0}),d.jsx("p",{className:"text-xs mt-2 mb-4",style:{color:"var(--text-secondary)"},children:"We'll also share the content you're providing feedback on to help improve future responses."}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:h,className:"px-6 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--primary)",color:"white"},children:"Submit"})})]})}),c&&d.jsx("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",style:{backgroundColor:c==="success"?"var(--success, #10b981)":"var(--error, #ef4444)",color:"white"},children:c==="success"?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d.jsx("span",{children:"Feedback submitted successfully!"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),d.jsx("span",{children:"Failed to submit feedback. Please try again."})]})})]})},zk=e=>btoa(e),U9=e=>{try{return atob(e)}catch{return""}},el="axpro_api_configs",wm="axpro_ui_customization",zn={getConfigs(){try{const e=localStorage.getItem(el);return e?JSON.parse(e).map(n=>({...n,apiKey:U9(n.apiKey)})):[]}catch{return[]}},saveConfig(e){const t=this.getConfigs(),n=new Date().toISOString(),r={...e,id:`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,apiKey:e.apiKey,createdAt:n,updatedAt:n},i={...r,apiKey:zk(r.apiKey)},a=[...t.filter(o=>o.id!==e.id),i];return localStorage.setItem(el,JSON.stringify(a)),r},updateConfig(e,t){const n=this.getConfigs(),r=n.findIndex(o=>o.id===e);if(r===-1)return null;const i={...n[r],...t,updatedAt:new Date().toISOString()},a={...i,apiKey:zk(i.apiKey)};return n[r]=a,localStorage.setItem(el,JSON.stringify(n)),i},deleteConfig(e){const t=this.getConfigs(),n=t.filter(r=>r.id!==e);return n.length===t.length?!1:(localStorage.setItem(el,JSON.stringify(n)),!0)},getActiveConfig(){return this.getConfigs().find(t=>t.isActive)||null},setActiveConfig(e){const t=this.getConfigs();if(!t.find(i=>i.id===e))return!1;const r=t.map(i=>({...i,isActive:i.id===e}));return localStorage.setItem(el,JSON.stringify(r)),!0},getUICustomization(){const e={chatTitle:"Chat Interface",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};try{const t=localStorage.getItem(wm);if(!t)return e;const n=JSON.parse(t);return{...e,...n}}catch{return e}},saveUICustomization(e){localStorage.setItem(wm,JSON.stringify(e))},resetUICustomization(){localStorage.removeItem(wm)}},br={chatTitle:"TecAce Ax Pro",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};async function z9(){try{const e=Ke(),{data:t,error:n}=await e.from("ui_settings").select("*").eq("id","global").maybeSingle();return n?(console.error("Error fetching UI customization:",n),br):t?{chatTitle:t.chat_title||br.chatTitle,chatSubtitle:t.chat_subtitle||br.chatSubtitle,avatarUrl:t.avatar_url||br.avatarUrl,suggestedQuestions:{question1:t.question_1||br.suggestedQuestions.question1,question2:t.question_2||br.suggestedQuestions.question2,question3:t.question_3||br.suggestedQuestions.question3,question4:t.question_4||br.suggestedQuestions.question4}}:(console.log("No UI customization found in database, using defaults"),br)}catch(e){return console.error("Failed to fetch UI customization:",e),br}}async function B9(e){try{const t=Ke(),{error:n}=await t.from("ui_settings").upsert({id:"global",chat_title:e.chatTitle,chat_subtitle:e.chatSubtitle,avatar_url:e.avatarUrl,question_1:e.suggestedQuestions.question1,question_2:e.suggestedQuestions.question2,question_3:e.suggestedQuestions.question3,question_4:e.suggestedQuestions.question4,updated_at:new Date().toISOString()},{onConflict:"id"});return n?(console.error("Error saving UI customization:",n),!1):(console.log(" UI customization saved to Supabase"),!0)}catch(t){return console.error("Failed to save UI customization:",t),!1}}const Tc=()=>{const[e,t]=x.useState(()=>zn.getUICustomization()),[n,r]=x.useState(!0);x.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const l=await z9();t(l),zn.saveUICustomization(l)}catch(l){console.error("Failed to load UI customization:",l);const c=zn.getUICustomization();t(c)}finally{r(!1)}},a=async l=>{r(!0);try{const c={...e,...l};await B9(c)?(t(c),zn.saveUICustomization(c),console.log(" UI customization updated successfully")):(console.error("Failed to save to Supabase, falling back to localStorage"),zn.saveUICustomization(c),t(c))}catch(c){console.error("Failed to update UI customization:",c)}finally{r(!1)}};return{customization:e,loading:n,updateCustomization:a,updateQuestion:(l,c)=>{a({suggestedQuestions:{...e.suggestedQuestions,[l]:c}})},resetCustomization:()=>{r(!0);try{zn.resetUICustomization();const l=zn.getUICustomization();t(l)}catch(l){console.error("Failed to reset UI customization:",l)}finally{r(!1)}}}},W9=({message:e})=>{const[t,n]=x.useState(!1),{customization:r}=Tc(),i=e.role==="user",a=e.role==="assistant",o=e.id.startsWith("sim_"),s=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return d.jsxs("div",{className:`flex ${i?"justify-end":"justify-start"} gap-3`,children:[a&&d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:r.avatarUrl,alt:"Assistant",className:"w-8 h-8 rounded-full",style:{objectFit:"cover"}})}),d.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg ${i?"order-2":"order-1"}`,children:[d.jsx("div",{className:`p-3 rounded-lg ${i?"message-user":"message-assistant"}`,children:d.jsx("div",{className:"prose prose-sm max-w-none",style:{fontSize:"14px",lineHeight:"1.5",color:i?"#ffffff":"var(--text)"},children:e.content&&e.content.trim()?d.jsx(j8,{remarkPlugins:[L9],components:{p:({children:l})=>d.jsx("p",{style:{margin:"0 0 8px 0"},children:l}),code:({children:l,className:c})=>!c?d.jsx("code",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"2px 4px",borderRadius:"3px",fontSize:"0.9em"},children:l}):d.jsx("pre",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"8px",borderRadius:"4px",overflow:"auto",margin:"8px 0"},children:d.jsx("code",{children:l})}),ul:({children:l})=>d.jsx("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),ol:({children:l})=>d.jsx("ol",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),li:({children:l})=>d.jsx("li",{style:{margin:"4px 0"},children:l}),blockquote:({children:l})=>d.jsx("blockquote",{style:{borderLeft:`3px solid ${i?"rgba(255,255,255,0.3)":"var(--border)"}`,paddingLeft:"12px",margin:"8px 0",fontStyle:"italic",color:i?"#ffffff":"var(--text)"},children:l}),h1:({children:l})=>d.jsx("h1",{style:{fontSize:"1.2em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h2:({children:l})=>d.jsx("h2",{style:{fontSize:"1.1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h3:({children:l})=>d.jsx("h3",{style:{fontSize:"1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l})},children:e.content}):d.jsx("span",{style:{color:i?"rgba(255,255,255,0.7)":"var(--text-muted)",fontStyle:"italic"},children:e.role==="assistant"?"Thinking...":"No content available"})})}),d.jsxs("div",{className:`flex items-center gap-2 mt-1 ${i?"justify-end":"justify-start"}`,children:[d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:s(e.createdAt)}),o&&a&&d.jsx("div",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--warning-bg, rgba(255, 193, 7, 0.1))",color:"var(--warning-text, #ff9800)",border:"1px solid var(--warning-border, rgba(255, 152, 0, 0.3))",fontSize:"10px",fontWeight:"500"},children:"SIMULATION MODE"})]}),a&&d.jsxs("div",{className:"mt-2 space-y-2",children:[e.citations&&e.citations.length>0&&d.jsxs("button",{onClick:()=>n(!t),className:"text-xs link flex items-center space-x-2",children:[d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),d.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),d.jsxs("span",{children:[t?"Hide":"Show"," References (",e.citations.length,")"]})]}),t&&e.citations&&d.jsx($9,{citations:e.citations}),!o&&d.jsx(F9,{messageId:e.id})]})]})]})},K9=({onSend:e,disabled:t=!1})=>{const[n,r]=x.useState(""),i=x.useRef(null),a=_c(),o=c=>{c.preventDefault(),n.trim()&&!t&&(e(n.trim()),r(""))},s=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),o(c))},l=()=>{const c=i.current;c&&(c.style.height="auto",c.style.height=`${Math.min(c.scrollHeight,120)}px`)};return x.useEffect(()=>{l()},[n]),d.jsx("form",{onSubmit:o,className:"relative",children:d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{ref:i,value:n,onChange:c=>r(c.target.value),onKeyDown:s,placeholder:a("ui.typeMessage"),className:"w-full resize-none rounded-2xl px-4 py-3 pr-12 min-h-[52px] max-h-[200px] border focus:outline-none focus:ring-0 focus:border-transparent transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)",color:"var(--text)",fontSize:"16px",boxShadow:"0 0 0 1px var(--border)"},disabled:t,rows:1}),d.jsx("button",{type:"submit",disabled:!n.trim()||t,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:n.trim()&&!t?"var(--primary)":"transparent",color:n.trim()&&!t?"white":"var(--text-muted)"},children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),d.jsx("path",{d:"M22 2 11 13"})]})})]})})},q9=({sessionId:e,isClosed:t=!1})=>{const{messages:n,loading:r,sending:i,error:a,sendMessage:o}=V3(e),s=x.useRef(null);_c();const{customization:l}=Tc();Wi.useEffect(()=>{console.log("ThreadView messages for sessionId:",e,n)},[n,e]);const c=()=>{var u;(u=s.current)==null||u.scrollIntoView({behavior:"smooth"})};return x.useEffect(()=>{c()},[n]),r?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading conversation..."})]})}):d.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[d.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:n.length===0?d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:l.chatTitle}),d.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:l.chatSubtitle})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question1),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),d.jsx("circle",{cx:"12",cy:"5",r:"2"}),d.jsx("path",{d:"M12 7v4"})]})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question1})]})}),d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question2),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),d.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question2})]})}),d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question3),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M8 12h8"}),d.jsx("path",{d:"M12 8v8"})]})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question3})]})}),d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question4),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question4})]})})]})]})}):d.jsxs("div",{className:"p-4 space-y-4",children:[n.map(u=>(console.log("Rendering message:",u),d.jsx(W9,{message:u},u.id))),d.jsx("div",{ref:s})]})}),a&&d.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:d.jsx("div",{className:"error p-3 rounded-md",children:d.jsx("p",{className:"text-sm",children:a})})}),d.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--border)"},children:t?d.jsx("div",{className:"flex items-center justify-center p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:""}),d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"This chat is closed"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Reopen the chat to continue the conversation"})]})}):d.jsx(K9,{onSend:u=>o(u),disabled:i})})]})},Bk=()=>{const{sessionId:e}=LP(),t=In(),{theme:n,toggleTheme:r}=Za(),{language:i,setLanguage:a,t:o}=et(),{customization:s}=Tc(),[l,c]=x.useState(null),[u,f]=x.useState(!0),[h,p]=x.useState(null);x.useEffect(()=>{(async()=>{try{const y=await Jg.getMe();c({...y,userId:y.email}),f(!0)}catch(y){console.log("Backend auth failed, trying local auth:",y),f(!1);const v=Dr();v?c({email:v.email,userId:v.email,role:v.role}):(console.log("No local session found, redirecting to login"),t("/"))}})()},[t]),x.useEffect(()=>{if(e){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").find(v=>v.id===e);p(y)}},[e]);const m=async()=>{try{await Jg.logout()}catch(g){console.log("Backend logout failed, using local logout:",g)}tc(),t("/")};return l?d.jsxs("div",{className:"h-screen flex overflow-hidden",style:{backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"w-80 border-r flex flex-col h-full",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:s.chatTitle}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:r,className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},title:o(n==="light"?"ui.theme.dark":"ui.theme.light"),children:n==="light"?d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),d.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"text-sm px-2 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:l.email}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:l.role==="admin"?"Administrator":o("ui.user")})]}),l.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"text-sm link",title:"Go to Admin Dashboard",children:" Dashboard"}),d.jsx("button",{onClick:()=>t("/settings"),className:"text-sm link",children:o("ui.settings")})]}),d.jsx("button",{onClick:m,className:"text-sm link",children:o("ui.signOut")})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!u&&d.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border)"},children:d.jsx("div",{className:"card rounded-md p-3",style:{backgroundColor:"var(--warning-light)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning)"},children:d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:o("ui.demoMode")}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:o("ui.demoModeDescription")})]})]})})}),d.jsx(t4,{})]})]}),d.jsx("div",{className:"flex-1 flex flex-col h-full",children:e?d.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:s.avatarUrl,alt:"Chatbot Avatar",className:"w-10 h-10 rounded-full flex-shrink-0",style:{objectFit:"cover"},onError:g=>{g.currentTarget.src="/default-profile-avatar.png"}}),d.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:(h==null?void 0:h.title)||o("ui.newChatTitle")}),(h==null?void 0:h.status)==="closed"&&d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:" Closed"}),d.jsx("button",{onClick:()=>{if((h==null?void 0:h.status)==="closed"){const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(v=>v.id===e?{...v,status:"open"}:v);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"open"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}else{const y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(v=>v.id===e?{...v,status:"closed"}:v);localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),p({...h,status:"closed"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}},className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:(h==null?void 0:h.status)==="closed"?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),d.jsx("path",{d:"M21 3v5h-5"}),d.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),d.jsx("path",{d:"M3 21v-5h5"})]}),d.jsxs("span",{children:[o("context.reopen")," ",o("ui.newChatTitle")]})]}):d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("path",{d:"M9 9h6v6H9z"})]}),d.jsx("span",{children:o("ui.closeChat")})]})})]})}),d.jsx(q9,{sessionId:e,isClosed:(h==null?void 0:h.status)==="closed"})]}):d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-light mb-4",style:{color:"var(--text)"},children:o("chat.welcome")}),d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:o("ui.selectConversation")})]})})})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})]})})},H9=()=>{const e=In(),t=Dr(),n=_c(),r=()=>{tc(),e("/")};return d.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[d.jsx("header",{className:"card border-b",style:{borderColor:"var(--border)"},children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:n("dashboard.title")})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Admin: ",t==null?void 0:t.email]}),d.jsx("button",{onClick:r,className:"link text-sm",children:"Sign Out"})]})]})})}),d.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Total Users"}),d.jsx("p",{className:"text-3xl font-light",style:{color:"var(--primary)"},children:"1,234"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"+12% from last month"})]}),d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Active Sessions"}),d.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"89"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"Currently online"})]}),d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Status"}),d.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"Healthy"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"All systems operational"})]})]}),d.jsxs("div",{className:"mt-8 card p-8 rounded-lg",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--text)"},children:"Admin Panel"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"User Management"}),d.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Manage user accounts and permissions"}),d.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Manage Users"})]}),d.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Settings"}),d.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Configure platform settings"}),d.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Settings"})]})]}),d.jsx("div",{className:"mt-6 card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:d.jsxs("p",{className:"text-sm",style:{color:"var(--primary)"},children:[d.jsx("strong",{children:"Demo Mode:"})," You are logged in as an administrator. Admin features will be implemented here."]})})]})]})]})},V9=()=>{const e=In(),{theme:t,toggleTheme:n}=Za(),{language:r,setLanguage:i}=et(),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState("api"),[f,h]=x.useState("supabase"),[p,m]=x.useState(!1),[g,y]=x.useState(null),[v,b]=x.useState(null),[w,S]=x.useState(!1),{customization:j,updateCustomization:k,updateQuestion:C,resetCustomization:N}=Tc(),[O,P]=x.useState({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),[I,A]=x.useState({name:"",webhookUrl:""}),[R,L]=x.useState({url:"",anonKey:""}),[z,W]=x.useState(!1),[$,T]=x.useState(null),[U,_]=x.useState(!1);x.useEffect(()=>{E(),ee(),J(),D()},[]);const J=()=>{const H=Ex();L(H)},D=()=>{const H=Xg();_(H)},E=()=>{const H=zn.getConfigs();o(H)},ee=()=>{const H=Cc();l(H)},te=H=>{H.preventDefault(),g?zn.updateConfig(g.id,O):zn.saveConfig({...O,isActive:a.length===0}),E(),oe()},oe=()=>{P({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),m(!1),y(null)},me=H=>{P({name:H.name,baseUrl:H.baseUrl,apiKey:H.apiKey,model:H.model||"gpt-3.5-turbo",temperature:H.temperature||.7,maxTokens:H.maxTokens||1e3}),y(H),m(!0)},Ue=H=>{window.confirm("Are you sure you want to delete this configuration?")&&(zn.deleteConfig(H),E())},M=H=>{zn.setActiveConfig(H),E()},B=H=>{H.preventDefault(),v?a4(v.id,I):i4({...I,isActive:s.length===0}),ee(),Y()},Y=()=>{A({name:"",webhookUrl:""}),m(!1),b(null)},q=H=>{A({name:H.name,webhookUrl:H.webhookUrl}),b(H),m(!0)},ge=H=>{window.confirm("Are you sure you want to delete this n8n configuration?")&&(o4(H),ee())},we=H=>{qP(H),ee()},tt=async H=>{S(!0);try{const Ce=await l4(H);alert(Ce?" Connection successful!":" Connection failed. Please check your webhook URL.")}catch{alert(" Connection failed. Please check your webhook URL.")}finally{S(!1)}};return d.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/chat"),className:"text-sm link",children:" Back to Chat"}),d.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:"Settings"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:t==="light"?"":""}),d.jsxs("select",{value:r,onChange:H=>i(H.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]})]})]}),d.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[d.jsx("div",{className:"border-b mb-6",style:{borderColor:"var(--border)"},children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>u("api"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="api"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="api"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="api"?"var(--primary)":"transparent"},children:"API Configurations"}),d.jsx("button",{onClick:()=>u("webhook"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="webhook"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="webhook"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="webhook"?"var(--primary)":"transparent"},children:"Webhooks"}),d.jsx("button",{onClick:()=>u("ui"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="ui"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="ui"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="ui"?"var(--primary)":"transparent"},children:"UI Customization"}),d.jsx("button",{onClick:()=>u("database"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="database"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="database"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="database"?"var(--primary)":"transparent"},children:"Database"})]})}),c==="api"&&d.jsxs(d.Fragment,{children:[p&&d.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:g?"Edit Configuration":"Add New Configuration"}),d.jsxs("form",{onSubmit:te,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),d.jsx("input",{type:"text",value:O.name,onChange:H=>P(Ce=>({...Ce,name:H.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., OpenAI GPT-4",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Base URL"}),d.jsx("input",{type:"url",value:O.baseUrl,onChange:H=>P(Ce=>({...Ce,baseUrl:H.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://api.openai.com/v1",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"API Key"}),d.jsx("input",{type:"password",value:O.apiKey,onChange:H=>P(Ce=>({...Ce,apiKey:H.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"sk-...",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Model"}),d.jsx("input",{type:"text",value:O.model,onChange:H=>P(Ce=>({...Ce,model:H.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"gpt-3.5-turbo"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:["Temperature: ",O.temperature]}),d.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:O.temperature,onChange:H=>P(Ce=>({...Ce,temperature:parseFloat(H.target.value)})),className:"w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Max Tokens"}),d.jsx("input",{type:"number",value:O.maxTokens,onChange:H=>P(Ce=>({...Ce,maxTokens:parseInt(H.target.value)})),className:"input w-full px-3 py-2 rounded-md",min:"1",max:"4000"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:oe,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[g?"Update":"Add"," Configuration"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"API Configurations"}),d.jsx("button",{onClick:()=>m(!0),className:"btn-primary px-4 py-2 text-sm",children:"+ Add Configuration"})]}),a.length===0?d.jsx("div",{className:"card p-8 rounded-lg text-center",children:d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No API configurations found. Add your first configuration to get started."})}):d.jsx("div",{className:"space-y-3",children:a.map(H=>d.jsx("div",{className:`card p-4 rounded-lg ${H.isActive?"border-2":"border"}`,style:{borderColor:H.isActive?"var(--primary)":"var(--border)",backgroundColor:H.isActive?"var(--primary-light)":"var(--card)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:H.name}),H.isActive&&d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:H.baseUrl}),d.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Model: ",H.model,"  Temperature: ",H.temperature,"  Max Tokens: ",H.maxTokens]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!H.isActive&&d.jsx("button",{onClick:()=>M(H.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),d.jsx("button",{onClick:()=>me(H),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),d.jsx("button",{onClick:()=>Ue(H.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},H.id))})]}),d.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--warning-light)"},children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("span",{children:""}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Development Mode"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"When backend is unavailable, the system uses intelligent simulation based on your chat input. Configure your API settings above for full functionality when backend is running."})]})]})})]}),c==="webhook"&&d.jsxs(d.Fragment,{children:[p&&d.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:v?"Edit Webhook Configuration":"Add New Webhook Configuration"}),d.jsxs("form",{onSubmit:B,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),d.jsx("input",{type:"text",value:I.name,onChange:H=>A(Ce=>({...Ce,name:H.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Production n8n Webhook",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Webhook URL"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"url",value:I.webhookUrl,onChange:H=>A(Ce=>({...Ce,webhookUrl:H.target.value})),className:"input flex-1 px-3 py-2 rounded-md",placeholder:"https://n8n.srv978041.hstgr.cloud/webhook/...",required:!0}),d.jsx("button",{type:"button",onClick:()=>tt(I.webhookUrl),disabled:w||!I.webhookUrl,className:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:Y,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[v?"Update":"Add"," Configuration"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Webhook Configurations"}),d.jsx("button",{onClick:()=>{u("webhook"),m(!0)},className:"btn-primary px-4 py-2 text-sm",children:"+ Add Webhook Configuration"})]}),s.length===0?d.jsx("div",{className:"card p-8 rounded-lg text-center",children:d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No webhook configurations found. Add your first webhook to get started."})}):d.jsx("div",{className:"space-y-3",children:s.map(H=>d.jsx("div",{className:`card p-4 rounded-lg ${H.isActive?"border-2":"border"}`,style:{borderColor:H.isActive?"var(--primary)":"var(--border)",backgroundColor:H.isActive?"var(--primary-light)":"var(--card)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:H.name}),H.isActive&&d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:H.webhookUrl}),d.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Created: ",new Date(H.createdAt).toLocaleString()]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>tt(H.webhookUrl),disabled:w,className:"text-xs px-3 py-1 rounded border disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"}),!H.isActive&&d.jsx("button",{onClick:()=>we(H.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),d.jsx("button",{onClick:()=>q(H),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),d.jsx("button",{onClick:()=>ge(H.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},H.id))})]}),d.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--primary-light)"},children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("span",{children:""}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--primary)"},children:"Webhook Integration"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Configure webhooks to connect your chat interface with external workflows (e.g., n8n). The system will send chat messages to your webhook and receive AI responses."})]})]})})]}),c==="ui"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Chat Interface Customization"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Title"}),d.jsx("input",{type:"text",value:j.chatTitle,onChange:H=>k({chatTitle:H.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Chat Interface, AI Assistant, etc."}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This title appears at the top of the empty chat screen"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Subtitle"}),d.jsx("input",{type:"text",value:j.chatSubtitle,onChange:H=>k({chatSubtitle:H.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Select a conversation from the sidebar or start a new chat"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This subtitle appears below the title on the empty chat screen"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chatbot Avatar URL"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:j.avatarUrl,alt:"Avatar Preview",className:"w-12 h-12 rounded-full border-2",style:{borderColor:"var(--border)",objectFit:"cover"},onError:H=>{H.currentTarget.src="/default-profile-avatar.png"}})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("input",{type:"text",value:j.avatarUrl,onChange:H=>k({avatarUrl:H.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://example.com/avatar.png or data:image/svg+xml;base64,..."}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Enter an image URL or data URI. This avatar appears next to assistant messages."})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Suggested Questions"}),d.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Customize the suggested questions that appear on the empty chat screen"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 1"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question1,onChange:H=>C("question1",H.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What is artificial intelligence?"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 2"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question2,onChange:H=>C("question2",H.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"How does machine learning work?"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 3"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question3,onChange:H=>C("question3",H.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"Explain quantum computing"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 4"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question4,onChange:H=>C("question4",H.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What are the benefits of cloud computing?"})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset all UI customizations to default values?")&&N()},className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Reset to Defaults"})})]})]}),d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Preview"}),d.jsx("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:j.chatTitle}),d.jsx("p",{className:"text-lg mb-8",style:{color:"var(--text-secondary)"},children:j.chatSubtitle}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),d.jsx("circle",{cx:"12",cy:"5",r:"2"}),d.jsx("path",{d:"M12 7v4"})]})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question1})]})}),d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),d.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question2})]})}),d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M8 12h8"}),d.jsx("path",{d:"M12 8v8"})]})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question3})]})}),d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question4})]})})]})]})})]})]}),c==="database"&&d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Database Configuration"}),d.jsx("p",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Configure your database connection for prompt management and data storage."}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Database Type"}),d.jsxs("select",{value:f,onChange:H=>h(H.target.value),className:"input w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--card)",color:"var(--text)",borderColor:"var(--border)"},children:[d.jsx("option",{value:"supabase",children:"Supabase"}),d.jsx("option",{value:"other",children:"Other (Coming Soon)"})]})]}),f==="supabase"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase URL"}),d.jsx("input",{type:"text",value:R.url,onChange:H=>L({...R,url:H.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://your-project.supabase.co"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase Anon Key"}),d.jsx("input",{type:"password",value:R.anonKey,onChange:H=>L({...R,anonKey:H.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."})]})]}),f==="supabase"&&$&&d.jsx("div",{className:"p-3 rounded-md",style:{backgroundColor:$.success?"var(--success-light)":"var(--danger-light)",color:$.success?"var(--success)":"var(--danger)"},children:$.message}),f==="supabase"&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:async()=>{W(!0),T(null);try{const H=await bO(R);T({success:H,message:H?"Connection successful!":"Connection failed. Please check your credentials."})}catch(H){T({success:!1,message:"Connection test failed: "+(H instanceof Error?H.message:"Unknown error")})}finally{W(!1)}},disabled:z||!R.url||!R.anonKey,className:"btn-ghost px-4 py-2 rounded-md",children:z?"Testing...":"Test Connection"}),d.jsx("button",{type:"button",onClick:()=>{xO(R),T({success:!0,message:"Configuration saved successfully!"})},disabled:!R.url||!R.anonKey,className:"btn-primary px-4 py-2 rounded-md",children:"Save Configuration"})]}),d.jsxs("div",{className:"border-t pt-4 mt-6",style:{borderColor:"var(--border)"},children:[d.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Chat Behavior"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Enable Simulation Mode"}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"When enabled, chat will fall back to simulated responses if the chatbot server is unavailable. When disabled, chat will show an error instead of simulation."})]}),d.jsx("label",{className:"flex items-center",children:d.jsx("input",{type:"checkbox",checked:U,onChange:H=>{_(H.target.checked),X$(H.target.checked)},className:"w-4 h-4 rounded",style:{accentColor:"var(--primary)"}})})]})]}),f==="other"&&d.jsx("div",{className:"p-4 rounded-md",style:{backgroundColor:"var(--warning-light)"},children:d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Additional database types will be available in future updates."})})]})]})]})]})};function EN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=EN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=EN(e))&&(r&&(r+=" "),r+=t);return r}var gh={},PN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(PN);var Yx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Yx);var vh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(vh);var yh={},ON={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ON);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ON,n=vh;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const f=i[s];c?f==="\\"&&s+1<o?(s++,l+=i[s]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,s++}return l&&a.push(l),a}e.toPath=r})(yh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PN,n=Yx,r=vh,i=yh;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?n.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=a})(gh);var G9=gh.get;const ts=Nn(G9);var NN={exports:{}},De={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx=Symbol.for("react.transitional.element"),Xx=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),bh=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),kh=Symbol.for("react.consumer"),Sh=Symbol.for("react.context"),jh=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),Eh=Symbol.for("react.memo"),Ph=Symbol.for("react.lazy"),Y9=Symbol.for("react.view_transition"),J9=Symbol.for("react.client.reference");function Zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Jx:switch(e=e.type,e){case xh:case wh:case bh:case _h:case Ch:case Y9:return e;default:switch(e=e&&e.$$typeof,e){case Sh:case jh:case Ph:case Eh:return e;case kh:return e;default:return t}}case Xx:return t}}}De.ContextConsumer=kh;De.ContextProvider=Sh;De.Element=Jx;De.ForwardRef=jh;De.Fragment=xh;De.Lazy=Ph;De.Memo=Eh;De.Portal=Xx;De.Profiler=wh;De.StrictMode=bh;De.Suspense=_h;De.SuspenseList=Ch;De.isContextConsumer=function(e){return Zn(e)===kh};De.isContextProvider=function(e){return Zn(e)===Sh};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jx};De.isForwardRef=function(e){return Zn(e)===jh};De.isFragment=function(e){return Zn(e)===xh};De.isLazy=function(e){return Zn(e)===Ph};De.isMemo=function(e){return Zn(e)===Eh};De.isPortal=function(e){return Zn(e)===Xx};De.isProfiler=function(e){return Zn(e)===wh};De.isStrictMode=function(e){return Zn(e)===bh};De.isSuspense=function(e){return Zn(e)===_h};De.isSuspenseList=function(e){return Zn(e)===Ch};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===xh||e===wh||e===bh||e===_h||e===Ch||typeof e=="object"&&e!==null&&(e.$$typeof===Ph||e.$$typeof===Eh||e.$$typeof===Sh||e.$$typeof===kh||e.$$typeof===jh||e.$$typeof===J9||e.getModuleId!==void 0)};De.typeOf=Zn;NN.exports=De;var X9=NN.exports,on=e=>e===0?0:e>0?1:-1,En=e=>typeof e=="number"&&e!=+e,ja=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,le=e=>(typeof e=="number"||e instanceof Number)&&!En(e),Rr=e=>le(e)||typeof e=="string",Q9=0,oc=e=>{var t=++Q9;return"".concat(e||"").concat(t)},gr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&typeof t!="string")return r;var a;if(ja(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return En(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},AN=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function gt(e,t,n){return le(e)&&le(t)?e+n*(t-e):t}function Z9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ts(r,t))===n)}var it=e=>e===null||typeof e>"u",Ic=e=>it(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),eW=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Qx(e){if(typeof e!="string")return!1;var t=eW;return t.includes(e)}var tW=["viewBox","children"],Wk=["points","pathLength"],km={svg:tW,polygon:Wk,polyline:Wk},Zx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Qx(i)&&(r[i]=t||(a=>n[i](n,a)))}),r},nW=(e,t,n)=>r=>(e(t,n,r),null),js=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Qx(i)&&typeof a=="function"&&(r||(r={}),r[i]=nW(a,t,n))}),r},rW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function TN(e){if(typeof e!="string")return!1;var t=rW;return t.includes(e)}function Xt(e){var t=Object.entries(e).filter(n=>{var[r]=n;return TN(r)});return Object.fromEntries(t)}var Kk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qk=null,Sm=null,IN=e=>{if(e===qk&&Array.isArray(Sm))return Sm;var t=[];return x.Children.forEach(e,n=>{it(n)||(X9.isFragment(n)?t=t.concat(IN(n.props.children)):t.push(n))}),Sm=t,qk=e,t};function iW(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Kk(i)):r=[Kk(t)],IN(e).forEach(i=>{var a=ts(i,"type.displayName")||ts(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var aW=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(km==null?void 0:km[r]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!r&&a.includes(t)||TN(t)),l=!!n&&Qx(t);return o||s||l},Pe=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;aW((o=r)===null||o===void 0?void 0:o[a],a,t,n)&&(i[a]=r[a])}),i},oW=["children","width","height","viewBox","className","style","title","desc"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}function sW(e,t){if(e==null)return{};var n,r,i=lW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var e0=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=sW(e,oW),f=a||{width:r,height:i,x:0,y:0},h=xe("recharts-surface",o);return x.createElement("svg",kv({},Pe(u,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),cW=["children","className"];function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sv.apply(null,arguments)}function uW(e,t){if(e==null)return{};var n,r,i=dW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jt=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=uW(e,cW),a=xe("recharts-layer",r);return x.createElement("g",Sv({className:a},Pe(i,!0),{ref:t}),n)}),DN=x.createContext(null),fW=()=>x.useContext(DN);function $e(e){return function(){return e}}const RN=Math.cos,Xd=Math.sin,vr=Math.sqrt,Qd=Math.PI,Oh=2*Qd,jv=Math.PI,_v=2*jv,ha=1e-6,hW=_v-ha;function MN(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MN;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MN:pW(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,u=o-t,f=s-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ha)if(!(Math.abs(f*l-c*u)>ha)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+c*c,y=p*p+m*m,v=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((jv-Math.acos((g+h-y)/(2*v*b)))/2),S=w/b,j=w/v;Math.abs(S-1)>ha&&this._append`L${t+S*u},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*p>u*m)},${this._x1=t+j*l},${this._y1=n+j*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ha||Math.abs(this._y1-u)>ha)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%_v+_v),h>hW?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>ha&&this._append`A${r},${r},0,${+(h>=jv)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function t0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mW(t)}function n0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function LN(e){this._context=e}LN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nh(e){return new LN(e)}function $N(e){return e[0]}function FN(e){return e[1]}function UN(e,t){var n=$e(!0),r=null,i=Nh,a=null,o=t0(s);e=typeof e=="function"?e:e===void 0?$N:$e(e),t=typeof t=="function"?t:t===void 0?FN:$e(t);function s(l){var c,u=(l=n0(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:$e(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:$e(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:$e(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Ou(e,t,n){var r=null,i=$e(!0),a=null,o=Nh,s=null,l=t0(c);e=typeof e=="function"?e:e===void 0?$N:$e(+e),t=typeof t=="function"?t:$e(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?FN:$e(+n);function c(f){var h,p,m,g=(f=n0(f)).length,y,v=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}v&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),s.point(r?+r(y,h,f):w[h],n?+n(y,h,f):S[h]))}if(b)return s=null,b+""||null}function u(){return UN().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:$e(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:$e(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:$e(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:$e(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:$e(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:$e(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:$e(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class zN{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function gW(e){return new zN(e,!0)}function vW(e){return new zN(e,!1)}const r0={draw(e,t){const n=vr(t/Qd);e.moveTo(n,0),e.arc(0,0,n,0,Oh)}},yW={draw(e,t){const n=vr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},BN=vr(1/3),xW=BN*2,bW={draw(e,t){const n=vr(t/xW),r=n*BN;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},wW={draw(e,t){const n=vr(t),r=-n/2;e.rect(r,r,n,n)}},kW=.8908130915292852,WN=Xd(Qd/10)/Xd(7*Qd/10),SW=Xd(Oh/10)*WN,jW=-RN(Oh/10)*WN,_W={draw(e,t){const n=vr(t*kW),r=SW*n,i=jW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Oh*a/5,s=RN(o),l=Xd(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},jm=vr(3),CW={draw(e,t){const n=-vr(t/(jm*3));e.moveTo(0,n*2),e.lineTo(-jm*n,-n),e.lineTo(jm*n,-n),e.closePath()}},Mn=-.5,Ln=vr(3)/2,Cv=1/vr(12),EW=(Cv/2+1)*3,PW={draw(e,t){const n=vr(t/EW),r=n/2,i=n*Cv,a=r,o=n*Cv+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Mn*r-Ln*i,Ln*r+Mn*i),e.lineTo(Mn*a-Ln*o,Ln*a+Mn*o),e.lineTo(Mn*s-Ln*l,Ln*s+Mn*l),e.lineTo(Mn*r+Ln*i,Mn*i-Ln*r),e.lineTo(Mn*a+Ln*o,Mn*o-Ln*a),e.lineTo(Mn*s+Ln*l,Mn*l-Ln*s),e.closePath()}};function OW(e,t){let n=null,r=t0(i);e=typeof e=="function"?e:$e(e||r0),t=typeof t=="function"?t:$e(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:$e(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:$e(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Zd(){}function ef(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KN(e){this._context=e}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ef(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NW(e){return new KN(e)}function qN(e){this._context=e}qN.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AW(e){return new qN(e)}function HN(e){this._context=e}HN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ef(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TW(e){return new HN(e)}function VN(e){this._context=e}VN.prototype={areaStart:Zd,areaEnd:Zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IW(e){return new VN(e)}function Hk(e){return e<0?-1:1}function Vk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Hk(a)+Hk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Gk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function _m(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function tf(e){this._context=e}tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_m(this,this._t0,Gk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_m(this,Gk(this,n=Vk(this,e,t)),n);break;default:_m(this,this._t0,n=Vk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function GN(e){this._context=new YN(e)}(GN.prototype=Object.create(tf.prototype)).point=function(e,t){tf.prototype.point.call(this,t,e)};function YN(e){this._context=e}YN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function DW(e){return new tf(e)}function RW(e){return new GN(e)}function JN(e){this._context=e}JN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Yk(e),i=Yk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Yk(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function MW(e){return new JN(e)}function Ah(e,t){this._context=e,this._t=t}Ah.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function LW(e){return new Ah(e,.5)}function $W(e){return new Ah(e,0)}function FW(e){return new Ah(e,1)}function ns(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ev(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function UW(e,t){return e[t]}function zW(e){const t=[];return t.key=e,t}function BW(){var e=$e([]),t=Ev,n=ns,r=UW;function i(a){var o=Array.from(e.apply(this,arguments),zW),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=n0(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:$e(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:$e(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Ev:typeof a=="function"?a:$e(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??ns,i):n},i}function WW(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}ns(e,t)}}function KW(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}ns(e,t)}}function qW(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=e[t[m]],y=g[r][1]||0,v=g[r-1][1]||0;p+=y-v}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ns(e,t)}}var HW=["type","size","sizeType"];function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(null,arguments)}function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(n),!0).forEach(function(r){VW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JW(e,t){if(e==null)return{};var n,r,i=XW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XN={symbolCircle:r0,symbolCross:yW,symbolDiamond:bW,symbolSquare:wW,symbolStar:_W,symbolTriangle:CW,symbolWye:PW},QW=Math.PI/180,ZW=e=>{var t="symbol".concat(Ic(e));return XN[t]||r0},eK=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*QW;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},tK=(e,t)=>{XN["symbol".concat(Ic(e))]=t},i0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=JW(e,HW),a=Xk(Xk({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=ZW(o),p=OW().type(h).size(eK(n,r,o));return p()},{className:l,cx:c,cy:u}=a,f=Pe(a,!0);return c===+c&&u===+u&&n===+n?x.createElement("path",Pv({},f,{className:xe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};i0.registerSymbol=tK;function Ov(){return Ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ov.apply(null,arguments)}function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){a0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0(e,t,n){return(t=rK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $n=32;class o0 extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=$n/2,a=$n/6,o=$n/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:$n,y2:i,className:"recharts-legend-icon"});if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat($n,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:s,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=nK({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(i0,{fill:s,cx:i,cy:i,size:$n,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:$n,height:$n},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||i,p=xe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?a:u.color,g=h?h(u.value,u,f):u.value;return x.createElement("li",Ov({className:p,style:l,key:"legend-item-".concat(f)},js(this.props,u,f)),x.createElement(e0,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}a0(o0,"displayName","Legend");a0(o0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var QN={},ZN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(ZN);var Dc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Dc);var eA={},Th={},tA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(tA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tA;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Th);var nA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(nA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Th,n=nA;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(eA);var Ih={},rA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gh;function n(r){return function(i){return t.get(i,r)}}e.property=n})(rA);var iA={},Cm={},Em={},s0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(s0);var l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(l0);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(c0);var Zk;function aK(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0(),n=s0,r=l0,i=c0;function a(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function m(g,y,v,b,w,S){const j=p(g,y,v,b,w,S);return j!==void 0?!!j:o(g,y,m,S)},new Map)}function o(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,p,m);case"function":return Object.keys(h).length>0?o(f,{...h},p,m):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function s(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(f,h,p,m);if(h instanceof Map)return l(f,h,p,m);if(h instanceof Set)return u(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let y=0;y<g.length;y++){const v=g[y];if(!r.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!p(f[v],h[v],v,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,y]of h.entries()){const v=f.get(g);if(p(v,y,g,f,h,m)===!1)return!1}return!0}function c(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let y=0;y<h.length;y++){const v=h[y];let b=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const S=f[w];let j=!1;if(p(S,v,y,f,h,m)&&(j=!0),j){g.add(w),b=!0;break}}if(!b)return!1}return!0}function u(f,h,p,m){return h.size===0?!0:f instanceof Set?c([...f],[...h],p,m):!1}e.isMatchWith=a,e.isSetMatch=u}(Em)),Em}var eS;function u0(){return eS||(eS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(Cm)),Cm}var aA={},d0={},oA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(oA);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(f0);var h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",O="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=O,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(h0);var sA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(sA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oA,n=f0,r=h0,i=l0,a=sA;function o(u,f){return s(u,void 0,u,new Map,f)}function s(u,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const y=new Array(u.length);p.set(u,y);for(let v=0;v<u.length;v++)y[v]=s(u[v],v,h,p,m);return Object.hasOwn(u,"index")&&(y.index=u.index),Object.hasOwn(u,"input")&&(y.input=u.input),y}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const y=new RegExp(u.source,u.flags);return y.lastIndex=u.lastIndex,y}if(u instanceof Map){const y=new Map;p.set(u,y);for(const[v,b]of u)y.set(v,s(b,v,h,p,m));return y}if(u instanceof Set){const y=new Set;p.set(u,y);for(const v of u)y.add(s(v,void 0,h,p,m));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const y=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,y);for(let v=0;v<u.length;v++)y[v]=s(u[v],v,h,p,m);return y}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const y=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,y),l(y,u,h,p,m),y}if(typeof File<"u"&&u instanceof File){const y=new File([u],u.name,{type:u.type});return p.set(u,y),l(y,u,h,p,m),y}if(typeof Blob<"u"&&u instanceof Blob){const y=new Blob([u],{type:u.type});return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof Error){const y=new u.constructor;return p.set(u,y),y.message=u.message,y.name=u.name,y.stack=u.stack,y.cause=u.cause,l(y,u,h,p,m),y}if(u instanceof Boolean){const y=new Boolean(u.valueOf());return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof Number){const y=new Number(u.valueOf());return p.set(u,y),l(y,u,h,p,m),y}if(u instanceof String){const y=new String(u.valueOf());return p.set(u,y),l(y,u,h,p,m),y}if(typeof u=="object"&&c(u)){const y=Object.create(Object.getPrototypeOf(u));return p.set(u,y),l(y,u,h,p,m),y}return u}function l(u,f,h=u,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const v=g[y],b=Object.getOwnPropertyDescriptor(u,v);(b==null||b.writable)&&(u[v]=s(f[v],v,h,p,m))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(d0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(aA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0(),n=aA;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(iA);var lA={},cA={},uA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0,n=h0;function r(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(uA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uA;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(cA);var dA={},p0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(p0);var fA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(fA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yx,n=p0,r=fA,i=yh;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(dA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0(),n=vh,r=cA,i=gh,a=dA;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=o})(lA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dc,n=rA,r=iA,i=lA;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Ih);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZN,n=Dc,r=eA,i=Ih;function a(o,s=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(QN);var oK=QN.uniqBy;const tS=Nn(oK);function hA(e,t,n){return t===!0?tS(e,n):typeof t=="function"?tS(e,t):e}var pA={exports:{}},mA={},gA={exports:{}},vA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=x;function sK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lK=typeof Object.is=="function"?Object.is:sK,cK=rs.useState,uK=rs.useEffect,dK=rs.useLayoutEffect,fK=rs.useDebugValue;function hK(e,t){var n=t(),r=cK({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return dK(function(){i.value=n,i.getSnapshot=t,Pm(i)&&a({inst:i})},[e,n,t]),uK(function(){return Pm(i)&&a({inst:i}),e(function(){Pm(i)&&a({inst:i})})},[e]),fK(n),n}function Pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lK(e,n)}catch{return!0}}function pK(e,t){return t()}var mK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pK:hK;vA.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:mK;gA.exports=vA;var gK=gA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=x,vK=gK;function yK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xK=typeof Object.is=="function"?Object.is:yK,bK=vK.useSyncExternalStore,wK=Dh.useRef,kK=Dh.useEffect,SK=Dh.useMemo,jK=Dh.useDebugValue;mA.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=wK(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=SK(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,xK(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,f=g)}var c=!1,u,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=bK(e,a[0],a[1]);return kK(function(){o.hasValue=!0,o.value=s},[s]),jK(s),s};pA.exports=mA;var _K=pA.exports,m0=x.createContext(null),CK=e=>e,qe=()=>{var e=x.useContext(m0);return e?e.store.dispatch:CK},cd=()=>{},EK=()=>cd,PK=(e,t)=>e===t;function ne(e){var t=x.useContext(m0);return _K.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:EK,t?t.store.getState:cd,t?t.store.getState:cd,t?e:cd,PK)}function OK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function NK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function AK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var nS=e=>Array.isArray(e)?e:[e];function TK(e){const t=Array.isArray(e[0])?e[0]:e;return AK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function IK(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var DK=class{constructor(e){this.value=e}deref(){return this.value}},RK=typeof WeakRef<"u"?WeakRef:DK,MK=0,rS=1;function Nu(){return{s:MK,v:void 0,o:null,p:null}}function yA(e,t={}){let n=Nu();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var f;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(m);y===void 0?(s=Nu(),g.set(m,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(m);y===void 0?(s=Nu(),g.set(m,s)):s=y}}const c=s;let u;if(s.s===rS)u=s.v;else if(u=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new RK(u):u}return c.s=rS,c.v=u,u}return o.clearCache=()=>{n=Nu(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function LK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),OK(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=yA,argsMemoizeOptions:m=[],devModeChecks:g={}}=u,y=nS(h),v=nS(m),b=TK(i),w=f(function(){return a++,c.apply(null,arguments)},...y),S=p(function(){o++;const k=IK(b,arguments);return s=w.apply(null,k),s},...v);return Object.assign(S,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var F=LK(yA),$K=Object.assign((e,t=F)=>{NK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>$K}),xA={},bA={},wA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),s=t(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=n})(wA);var kA={},g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(g0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(kA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wA,n=kA,r=yh;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let y=0;y<m.length&&g!=null;++y)g=g[m[y]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(bA);var SA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(n,0),i}e.flatten=t})(SA);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p0,n=Th,r=s0,i=c0;function a(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(v0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bA,n=SA,r=v0;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(xA);var FK=xA.sortBy;const Rh=Nn(FK);var jA=e=>e.legend.settings,UK=e=>e.legend.size,zK=e=>e.legend.payload,BK=F([zK,jA],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Rh(r,n):r});function WK(){return ne(BK)}var Au=1;function _A(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Au||Math.abs(o.left-t.left)>Au||Math.abs(o.top-t.top)>Au||Math.abs(o.width-t.width)>Au)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KK=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),iS=KK,Om=()=>Math.random().toString(36).substring(7).split("").join("."),qK={INIT:`@@redux/INIT${Om()}`,REPLACE:`@@redux/REPLACE${Om()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Om()}`},nf=qK;function y0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function CA(e,t,n){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pt(1));return n(CA)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((y,v)=>{o.set(v,y)}))}function u(){if(l)throw new Error(Pt(3));return i}function f(y){if(typeof y!="function")throw new Error(Pt(4));if(l)throw new Error(Pt(5));let v=!0;c();const b=s++;return o.set(b,y),function(){if(v){if(l)throw new Error(Pt(6));v=!1,c(),o.delete(b),a=null}}}function h(y){if(!y0(y))throw new Error(Pt(7));if(typeof y.type>"u")throw new Error(Pt(8));if(typeof y.type!="string")throw new Error(Pt(17));if(l)throw new Error(Pt(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=o).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(Pt(10));r=y,h({type:nf.REPLACE})}function m(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Pt(11));function b(){const S=v;S.next&&S.next(u())}return b(),{unsubscribe:y(b)}},[iS](){return this}}}return h({type:nf.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[iS]:m}}function HK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:nf.INIT})>"u")throw new Error(Pt(12));if(typeof n(void 0,{type:nf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function EA(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{HK(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],h=n[f],p=o[f],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(Pt(14));c[f]=m,l=l||m!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function rf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function VK(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Pt(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=rf(...s)(i.dispatch),{...i,dispatch:a}}}function PA(e){return y0(e)&&"type"in e&&typeof e.type=="string"}var OA=Symbol.for("immer-nothing"),aS=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var is=Object.getPrototypeOf;function Ka(e){return!!e&&!!e[Pn]}function ii(e){var t;return e?NA(e)||Array.isArray(e)||!!e[aS]||!!((t=e.constructor)!=null&&t[aS])||Rc(e)||Lh(e):!1}var GK=Object.prototype.constructor.toString();function NA(e){if(!e||typeof e!="object")return!1;const t=is(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===GK}function af(e,t){Mh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Mh(e){const t=e[Pn];return t?t.type_:Array.isArray(e)?1:Rc(e)?2:Lh(e)?3:0}function Nv(e,t){return Mh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AA(e,t,n){const r=Mh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function YK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rc(e){return e instanceof Map}function Lh(e){return e instanceof Set}function pa(e){return e.copy_||e.base_}function Av(e,t){if(Rc(e))return new Map(e);if(Lh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=NA(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Pn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(is(e),r)}else{const r=is(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function x0(e,t=!1){return $h(e)||Ka(e)||!ii(e)||(Mh(e)>1&&Object.defineProperties(e,{set:{value:Tu},add:{value:Tu},clear:{value:Tu},delete:{value:Tu}}),Object.freeze(e),t&&Object.values(e).forEach(n=>x0(n,!0))),e}function Tu(){lr(2)}function $h(e){return Object.isFrozen(e)}var JK={};function qa(e){const t=JK[e];return t||lr(0,e),t}var sc;function TA(){return sc}function XK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function oS(e,t){t&&(qa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tv(e){Iv(e),e.drafts_.forEach(QK),e.drafts_=null}function Iv(e){e===sc&&(sc=e.parent_)}function sS(e){return sc=XK(sc,e)}function QK(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Pn].modified_&&(Tv(t),lr(4)),ii(e)&&(e=of(t,e),t.parent_||sf(t,e)),t.patches_&&qa("Patches").generateReplacementPatches_(n[Pn].base_,e,t.patches_,t.inversePatches_)):e=of(t,n,[]),Tv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OA?e:void 0}function of(e,t,n){if($h(t))return t;const r=t[Pn];if(!r)return af(t,(i,a)=>cS(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return sf(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),af(a,(s,l)=>cS(e,r,i,s,l,n,o)),sf(e,i,!1),n&&e.patches_&&qa("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function cS(e,t,n,r,i,a,o){if(Ka(i)){const s=a&&t&&t.type_!==3&&!Nv(t.assigned_,r)?a.concat(r):void 0,l=of(e,i,s);if(AA(n,r,l),Ka(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ii(i)&&!$h(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;of(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Rc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sf(e,i)}}function sf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x0(t,n)}function ZK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:TA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=b0;n&&(i=[r],a=lc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var b0={get(e,t){if(t===Pn)return e;const n=pa(e);if(!Nv(n,t))return eq(e,n,t);const r=n[t];return e.finalized_||!ii(r)?r:r===Nm(e.base_,t)?(Am(e),e.copy_[t]=Rv(r,e)):r},has(e,t){return t in pa(e)},ownKeys(e){return Reflect.ownKeys(pa(e))},set(e,t,n){const r=IA(pa(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Nm(pa(e),t),a=i==null?void 0:i[Pn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(YK(n,i)&&(n!==void 0||Nv(e.base_,t)))return!0;Am(e),Dv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Nm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Am(e),Dv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lr(11)},getPrototypeOf(e){return is(e.base_)},setPrototypeOf(){lr(12)}},lc={};af(b0,(e,t)=>{lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lc.deleteProperty=function(e,t){return lc.set.call(this,e,t,void 0)};lc.set=function(e,t,n){return b0.set.call(this,e[0],t,n,e[0])};function Nm(e,t){const n=e[Pn];return(n?pa(n):e)[t]}function eq(e,t,n){var i;const r=IA(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function IA(e,t){if(!(t in e))return;let n=is(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=is(n)}}function Dv(e){e.modified_||(e.modified_=!0,e.parent_&&Dv(e.parent_))}function Am(e){e.copy_||(e.copy_=Av(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&lr(6),r!==void 0&&typeof r!="function"&&lr(7);let i;if(ii(t)){const a=sS(this),o=Rv(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?Tv(a):Iv(a)}return oS(a,r),lS(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===OA&&(i=void 0),this.autoFreeze_&&x0(i,!0),r){const a=[],o=[];qa("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else lr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ii(e)||lr(8),Ka(e)&&(e=Qr(e));const t=sS(this),n=Rv(e,void 0);return n[Pn].isManual_=!0,Iv(t),n}finishDraft(e,t){const n=e&&e[Pn];(!n||!n.isManual_)&&lr(9);const{scope_:r}=n;return oS(r,t),lS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=qa("Patches").applyPatches_;return Ka(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Rv(e,t){const n=Rc(e)?qa("MapSet").proxyMap_(e,t):Lh(e)?qa("MapSet").proxySet_(e,t):ZK(e,t);return(t?t.scope_:TA()).drafts_.push(n),n}function Qr(e){return Ka(e)||lr(10,e),DA(e)}function DA(e){if(!ii(e)||$h(e))return e;const t=e[Pn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Av(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Av(e,!0);return af(n,(r,i)=>{AA(n,r,DA(i))}),t&&(t.finalized_=!1),n}var nq=new tq,RA=nq.produce;function MA(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var rq=MA(),iq=MA,aq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rf:rf.apply(null,arguments)};function Xn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(_n(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PA(r)&&r.type===e,n}var LA=class ml extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ml.prototype)}static get[Symbol.species](){return ml}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ml(...t[0].concat(this)):new ml(...t.concat(this))}};function uS(e){return ii(e)?RA(e,()=>{}):e}function Iu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function oq(e){return typeof e=="boolean"}var sq=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new LA;return n&&(oq(n)?o.push(rq):o.push(iq(n.extraArgument))),o},lq="RTK_autoBatch",dS=e=>t=>{setTimeout(t,e)},cq=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dS(10):e.type==="callback"?e.queueNotification:dS(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),h=r.subscribe(f);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[lq]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},uq=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new LA(e);return r&&i.push(cq(typeof r=="object"?r:void 0)),i};function dq(e){const t=sq(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(y0(n))l=EA(n);else throw new Error(_n(1));let c;typeof r=="function"?c=r(t):c=t();let u=rf;i&&(u=aq({trace:!1,...typeof i=="object"&&i}));const f=VK(...c),h=uq(f);let p=typeof s=="function"?s(h):h();const m=u(...p);return CA(l,o,m)}function $A(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(_n(28));if(s in t)throw new Error(_n(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function fq(e){return typeof e=="function"}function hq(e,t){let[n,r,i]=$A(t),a;if(fq(e))a=()=>uS(e());else{const s=uS(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(Ka(u)){const p=f(u,l);return p===void 0?u:p}else{if(ii(u))return RA(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=a,o}var pq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",mq=(e=21)=>{let t="",n=e;for(;n--;)t+=pq[Math.random()*64|0];return t},gq=Symbol.for("rtk-slice-createasyncthunk");function vq(e,t){return`${e}/${t}`}function yq({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[gq];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(_n(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(bq()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const k=typeof S=="string"?S:S.type;if(!k)throw new Error(_n(12));if(k in c.sliceCaseReducersByType)throw new Error(_n(13));return c.sliceCaseReducersByType[k]=j,u},addMatcher(S,j){return c.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return c.actionCreators[S]=j,u},exposeCaseReducer(S,j){return c.sliceCaseReducersByName[S]=j,u}};l.forEach(S=>{const j=s[S],k={reducerName:S,type:vq(a,S),createNotation:typeof i.reducers=="function"};kq(j)?jq(k,j,u,t):wq(k,j,u)});function f(){const[S={},j=[],k=void 0]=typeof i.extraReducers=="function"?$A(i.extraReducers):[i.extraReducers],C={...S,...c.sliceCaseReducersByType};return hq(i.initialState,N=>{for(let O in C)N.addCase(O,C[O]);for(let O of c.sliceMatchers)N.addMatcher(O.matcher,O.reducer);for(let O of j)N.addMatcher(O.matcher,O.reducer);k&&N.addDefaultCase(k)})}const h=S=>S,p=new Map,m=new WeakMap;let g;function y(S,j){return g||(g=f()),g(S,j)}function v(){return g||(g=f()),g.getInitialState()}function b(S,j=!1){function k(N){let O=N[S];return typeof O>"u"&&j&&(O=Iu(m,k,v)),O}function C(N=h){const O=Iu(p,j,()=>new WeakMap);return Iu(O,N,()=>{const P={};for(const[I,A]of Object.entries(i.selectors??{}))P[I]=xq(A,N,()=>Iu(m,N,v),j);return P})}return{reducerPath:S,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const w={name:a,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...b(o),injectInto(S,{reducerPath:j,...k}={}){const C=j??o;return S.inject({reducerPath:C,reducer:y},k),{...w,...b(C,!0)}}};return w}}function xq(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Dn=yq();function bq(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function wq({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!Sq(r))throw new Error(_n(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Xn(e,o):Xn(e))}function kq(e){return e._reducerDefinitionType==="asyncThunk"}function Sq(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jq({type:e,reducerName:t},n,r,i){if(!i)throw new Error(_n(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=n,f=i(e,a,u);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||Du,pending:s||Du,rejected:l||Du,settled:c||Du})}function Du(){}var _q="task",FA="listener",UA="completed",w0="cancelled",Cq=`task-${w0}`,Eq=`task-${UA}`,Mv=`${FA}-${w0}`,Pq=`${FA}-${UA}`,Fh=class{constructor(e){ru(this,"name","TaskAbortError");ru(this,"message");this.code=e,this.message=`${_q} ${w0} (reason: ${e})`}},k0=(e,t)=>{if(typeof e!="function")throw new TypeError(_n(32))},lf=()=>{},zA=(e,t=lf)=>(e.catch(t),e),BA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ta=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ia=e=>{if(e.aborted){const{reason:t}=e;throw new Fh(t)}};function WA(e,t){let n=lf;return new Promise((r,i)=>{const a=()=>i(new Fh(e.reason));if(e.aborted){a();return}n=BA(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=lf})}var Oq=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Fh?"cancelled":"rejected",error:n}}finally{t==null||t()}},cf=e=>t=>zA(WA(e,t).then(n=>(Ia(e),n))),KA=e=>{const t=cf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ko}=Object,fS={},Uh="listenerMiddleware",Nq=(e,t)=>{const n=r=>BA(e,()=>Ta(r,e.reason));return(r,i)=>{k0(r);const a=new AbortController;n(a);const o=Oq(async()=>{Ia(e),Ia(a.signal);const s=await r({pause:cf(a.signal),delay:KA(a.signal),signal:a.signal});return Ia(a.signal),s},()=>Ta(a,Eq));return i!=null&&i.autoJoin&&t.push(o.catch(lf)),{result:cf(e)(o),cancel(){Ta(a,Cq)}}}},Aq=(e,t)=>{const n=async(r,i)=>{Ia(t);let a=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await WA(t,Promise.race(s));return Ia(t),l}finally{a()}};return(r,i)=>zA(n(r,i))},qA=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Xn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_n(21));return k0(a),{predicate:i,type:t,effect:a}},HA=Ko(e=>{const{type:t,predicate:n,effect:r}=qA(e);return{id:mq(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_n(22))}}},{withTypes:()=>HA}),hS=(e,t)=>{const{type:n,effect:r,predicate:i}=qA(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Lv=e=>{e.pending.forEach(t=>{Ta(t,Mv)})},Tq=e=>()=>{e.forEach(Lv),e.clear()},pS=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},VA=Ko(Xn(`${Uh}/add`),{withTypes:()=>VA}),Iq=Xn(`${Uh}/removeAll`),GA=Ko(Xn(`${Uh}/remove`),{withTypes:()=>GA}),Dq=(...e)=>{console.error(`${Uh}/error`,...e)},Mc=(e={})=>{const t=new Map,{extra:n,onError:r=Dq}=e;k0(r);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&Lv(u)}),a=u=>{const f=hS(t,u)??HA(u);return i(f)};Ko(a,{withTypes:()=>a});const o=u=>{const f=hS(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Lv(f)),!!f};Ko(o,{withTypes:()=>o});const s=async(u,f,h,p)=>{const m=new AbortController,g=Aq(a,m.signal),y=[];try{u.pending.add(m),await Promise.resolve(u.effect(f,Ko({},h,{getOriginalState:p,condition:(v,b)=>g(v,b).then(Boolean),take:g,delay:KA(m.signal),pause:cf(m.signal),extra:n,signal:m.signal,fork:Nq(m.signal,y),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((v,b,w)=>{v!==m&&(Ta(v,Mv),w.delete(v))})},cancel:()=>{Ta(m,Mv),u.pending.delete(m)},throwIfCancelled:()=>{Ia(m.signal)}})))}catch(v){v instanceof Fh||pS(r,v,{raisedBy:"effect"})}finally{await Promise.all(y),Ta(m,Pq),u.pending.delete(m)}},l=Tq(t);return{middleware:u=>f=>h=>{if(!PA(h))return f(h);if(VA.match(h))return a(h.payload);if(Iq.match(h)){l();return}if(GA.match(h))return o(h.payload);let p=u.getState();const m=()=>{if(p===fS)throw new Error(_n(23));return p};let g;try{if(g=f(h),t.size>0){const y=u.getState(),v=Array.from(t.values());for(const b of v){let w=!1;try{w=b.predicate(h,y,p)}catch(S){w=!1,pS(r,S,{raisedBy:"predicate"})}w&&s(b,h,u,m)}}}finally{p=fS}return g},startListening:a,stopListening:o,clearListeners:l}};function _n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YA=Dn({name:"chartLayout",initialState:Rq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Mq,setLayout:Lq,setChartSize:$q,setScale:Fq}=YA.actions,Uq=YA.reducer;function mS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mS(Object(n),!0).forEach(function(r){zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zq(e,t,n){return(t=Bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bq(e){var t=Wq(e,"string");return typeof t=="symbol"?t:t+""}function Wq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uf=Math.PI/180,df=e=>e*Math.PI/180,Kq=e=>e*180/Math.PI,Ne=(e,t,n,r)=>({x:e+Math.cos(-uf*r)*n,y:t+Math.sin(-uf*r)*n}),qq=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hq=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},Vq=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=Hq({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:Kq(l),angleInRadian:l}},Gq=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},Yq=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},Jq=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=Vq({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=Gq(t),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?gS(gS({},t),{},{radius:i,angle:Yq(u,t)}):null},JA=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function XA(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(n),!0).forEach(function(r){Xq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xq(e,t,n){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e,t,n){return it(e)||it(t)?n:Rr(t)?ts(e,t,n):typeof t=="function"?t(e):n}var eH=(e,t,n,r,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,f=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(on(u-c)!==on(f-u)){var p=[];if(on(f-u)===on(i[1]-i[0])){h=f;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=f+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>y[0]&&e<=y[1]||e>=p[0]&&e<=p[1]){({index:o}=n[l]);break}}else{var v=Math.min(c,f),b=Math.max(c,f);if(e>(v+u)/2&&e<=(b+u)/2){({index:o}=n[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},tH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&le(e[a]))return qn(qn({},e),{},{[a]:e[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&le(e[o]))return qn(qn({},e),{},{[o]:e[o]+(i||0)})}return e},ea=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",QA=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(n),o},ZA=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(t||n)&&i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?on(a[0]-a[1])*2*g:g,t&&(f||h)){var y=(f||h||[]).map((v,b)=>{var w=r?r.indexOf(v):v;return{coordinate:o(w)+g,value:v,offset:g,index:b}});return y.filter(v=>!En(v.coordinate))}return l&&c?c.map((v,b)=>({coordinate:o(v)+g,value:v,index:b,offset:g})):o.ticks&&!n&&u!=null?o.ticks(u).map((v,b)=>({coordinate:o(v)+g,value:v,offset:g,index:b})):o.domain().map((v,b)=>({coordinate:o(v)+g,value:r?r[v]:v,index:b,offset:g}))},yS=1e-4,nH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-yS,a=Math.max(r[0],r[1])+yS,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},rH=(e,t)=>{if(!t||t.length!==2||!le(t[0])||!le(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(i[0]=n),(!le(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},iH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=En(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},aH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=En(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},oH={sign:iH,expand:WW,none:ns,silhouette:KW,wiggle:qW,positive:aH},sH=(e,t,n)=>{var r=oH[n],i=BW().keys(t).value((a,o)=>+yt(a,o,0)).order(Ev).offset(r);return i(e)};function lH(e){return e==null?void 0:String(e)}var xS=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var s=yt(a,t.dataKey,t.scale.domain()[o]);return it(s)?null:t.scale(s)-i/2+r},cH=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},uH=e=>{var t=e.flat(2).filter(le);return[Math.min(...t),Math.max(...t)]},dH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fH=(e,t,n)=>{if(e!=null)return dH(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=XA(c,t,n),f=uH(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},bS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Rh(t,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function kS(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return qn(qn({},t),{},{dataKey:n,payload:r,value:i,name:a})}function zh(e,t){if(e)return String(e);if(typeof t=="string")return t}function hH(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?Jq({x:e,y:t},r):null}var pH=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=r;return qn(qn(qn({},r),Ne(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return qn(qn(qn({},r),Ne(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},mH=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,di=e=>e.layout.width,fi=e=>e.layout.height,gH=e=>e.layout.scale,e2=e=>e.layout.margin,Bh=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wh=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vH="data-recharts-item-index",yH="data-recharts-item-data-key",Lc=60;function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(n),!0).forEach(function(r){xH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xH(e,t,n){return(t=bH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kH=e=>e.brush.height;function SH(e){var t=Wh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Lc;return n+i}return n},0)}function jH(e){var t=Wh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Lc;return n+i}return n},0)}function _H(e){var t=Bh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function CH(e){var t=Bh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _t=F([di,fi,e2,kH,SH,jH,_H,CH,jA,UK],(e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},h=Ru(Ru({},f),u),p=h.bottom;h.bottom+=r,h=tH(h,l,c);var m=e-h.left-h.right,g=t-h.top-h.bottom;return Ru(Ru({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),EH=F(_t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),S0=F(di,fi,(e,t)=>({x:0,y:0,width:e,height:t})),PH=x.createContext(null),hn=()=>x.useContext(PH)!=null,Kh=e=>e.brush,qh=F([Kh,_t,e2],(e,t,n)=>({height:e.height,x:le(e.x)?e.x:t.left,y:le(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:le(e.width)?e.width:t.width})),j0=()=>{var e,t=hn(),n=ne(EH),r=ne(qh),i=(e=ne(Kh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},OH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},t2=()=>{var e;return(e=ne(_t))!==null&&e!==void 0?e:OH},_0=()=>ne(di),C0=()=>ne(fi),NH=()=>ne(e=>e.layout.margin),be=e=>e.layout.layoutType,E0=()=>ne(be),AH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},n2=Dn({name:"legend",initialState:AH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Qr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:jS,setLegendSettings:TH,addLegendPayload:r2,removeLegendPayload:i2}=n2.actions,IH=n2.reducer,DH=["contextPayload"];function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(null,arguments)}function _S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(n),!0).forEach(function(r){P0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function P0(e,t,n){return(t=RH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LH(e,t){if(e==null)return{};var n,r,i=$H(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $H(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function FH(e){return e.value}function UH(e){var{contextPayload:t}=e,n=LH(e,DH),r=hA(t,e.payloadUniqBy,FH),i=as(as({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(o0,i)}function zH(e,t,n,r,i,a){var{layout:o,align:s,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-a.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),as(as({},c),u)}function BH(e){var t=qe();return x.useEffect(()=>{t(TH(e))},[t,e]),null}function WH(e){var t=qe();return x.useEffect(()=>(t(jS(e)),()=>{t(jS({width:0,height:0}))}),[t,e]),null}function KH(e){var t=WK(),n=fW(),r=NH(),{width:i,height:a,wrapperStyle:o,portal:s}=e,[l,c]=_A([t]),u=_0(),f=C0();if(u==null||f==null)return null;var h=u-(r.left||0)-(r.right||0),p=Hh.getWidthOrHeight(e.layout,a,i,h),m=s?o:as(as({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},zH(o,e,r,u,f,l)),o),g=s??n;if(g==null)return null;var y=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},x.createElement(BH,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(WH,{width:l.width,height:l.height}),x.createElement(UH,$v({},e,p,{margin:r,chartWidth:u,chartHeight:f,contextPayload:t})));return yx.createPortal(y,g)}class Hh extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&le(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(KH,this.props)}}P0(Hh,"displayName","Legend");P0(Hh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fv.apply(null,arguments)}function CS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=HH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GH(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var YH=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(s?Rh(a,s):a).map((C,N)=>{if(C.type==="none")return null;var O=C.formatter||o||GH,{value:P,name:I}=C,A=P,R=I;if(O){var L=O(P,I,C,N,a);if(Array.isArray(L))[A,R]=L;else if(L!=null)A=L;else return null}var z=Tm({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:z},Rr(R)?x.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Rr(R)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},A),x.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},m=Tm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Tm({margin:0},i),y=!it(u),v=y?u:"",b=xe("recharts-default-tooltip",l),w=xe("recharts-tooltip-label",c);y&&f&&a!==void 0&&a!==null&&(v=f(u,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Fv({className:b,style:m},S),x.createElement("p",{className:w,style:g},x.isValidElement(v)?v:"".concat(v)),p())},tl="recharts-tooltip-wrapper",JH={visibility:"hidden"};function XH(e){var{coordinate:t,translateX:n,translateY:r}=e;return xe(tl,{["".concat(tl,"-right")]:le(n)&&t&&le(t.x)&&n>=t.x,["".concat(tl,"-left")]:le(n)&&t&&le(t.x)&&n<t.x,["".concat(tl,"-bottom")]:le(r)&&t&&le(t.y)&&r>=t.y,["".concat(tl,"-top")]:le(r)&&t&&le(t.y)&&r<t.y})}function ES(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&le(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),f=n[r]+i;if(t[r])return o[r]?u:f;var h=l[r];if(h==null)return 0;if(o[r]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var g=f+s,y=h+c;return g>y?Math.max(u,h):Math.max(f,h)}function QH(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function ZH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,u,f;return o.height>0&&o.width>0&&n?(u=ES({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=ES({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=QH({translateX:u,translateY:f,useTranslate3d:s})):c=JH,{cssProperties:c,cssClasses:XH({translateX:u,translateY:f,coordinate:n})}}function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(r){Uv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uv(e,t,n){return(t=eV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nV extends x.PureComponent{constructor(){super(...arguments),Uv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Uv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:b,cssProperties:w}=ZH({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=v?{}:Mu(Mu({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=Mu(Mu({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:y},a)}}var rV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),no={devToolsEnabled:!1,isSsr:rV()},a2=()=>ne(e=>e.rootProps.accessibilityLayer);function On(e){return Number.isFinite(e)}function os(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(null,arguments)}function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return(t=aV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AS={curveBasisClosed:AW,curveBasisOpen:TW,curveBasis:NW,curveBumpX:gW,curveBumpY:vW,curveLinearClosed:IW,curveLinear:Nh,curveMonotoneX:DW,curveMonotoneY:RW,curveNatural:MW,curveStep:LW,curveStepAfter:FW,curveStepBefore:$W},Lu=e=>On(e.x)&&On(e.y),nl=e=>e.x,rl=e=>e.y,sV=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ic(e));return(n==="curveMonotone"||n==="curveBump")&&t?AS["".concat(n).concat(t==="vertical"?"Y":"X")]:AS[n]||Nh},lV=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=sV(t,i),s=a?n.filter(Lu):n,l;if(Array.isArray(r)){var c=a?r.filter(f=>Lu(f)):r,u=s.map((f,h)=>NS(NS({},f),{},{base:c[h]}));return i==="vertical"?l=Ou().y(rl).x1(nl).x0(f=>f.base.x):l=Ou().x(nl).y1(rl).y0(f=>f.base.y),l.defined(Lu).curve(o),l(u)}return i==="vertical"&&le(r)?l=Ou().y(rl).x1(nl).x0(r):le(r)?l=Ou().x(nl).y1(rl).y0(r):l=UN().x(nl).y(rl),l.defined(Lu).curve(o),l(s)},cV=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?lV(e):r;return x.createElement("path",zv({},Xt(e),Zx(e),{className:xe("recharts-curve",t),d:a===null?void 0:a,ref:i}))},uV=["x","y","top","left","width","height","className"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bv.apply(null,arguments)}function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(n),!0).forEach(function(r){fV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fV(e,t,n){return(t=hV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mV(e,t){if(e==null)return{};var n,r,i=gV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vV=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),yV=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=mV(e,uV),c=dV({x:t,y:n,top:r,left:i,width:a,height:o},l);return!le(t)||!le(n)||!le(a)||!le(o)||!le(r)||!le(i)?null:x.createElement("path",Bv({},Pe(c,!0),{className:xe("recharts-cross",s),d:vV(t,n,a,o,r,i)}))};function xV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(r){wV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wV(e,t,n){return(t=kV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kV(e){var t=SV(e,"string");return typeof t=="symbol"?t:t+""}function SV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pn(e,t){var n=bV({},e),r=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function jV(){}function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(n),!0).forEach(function(r){_V(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _V(e,t,n){return(t=CV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),o2=(e,t,n)=>e.map(r=>"".concat(PV(r)," ").concat(t,"ms ").concat(n)).join(","),OV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),uc=(e,t)=>Object.keys(t).reduce((n,r)=>RS(RS({},n),{},{[r]:e(r,t[r])}),{});function MS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(n),!0).forEach(function(r){NV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NV(e,t,n){return(t=AV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AV(e){var t=TV(e,"string");return typeof t=="symbol"?t:t+""}function TV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ff=(e,t,n)=>e+(t-e)*n,Wv=e=>{var{from:t,to:n}=e;return t!==n},s2=(e,t,n)=>{var r=uc((i,a)=>{if(Wv(a)){var[o,s]=e(a.from,a.to,a.velocity);return Nt(Nt({},a),{},{from:o,velocity:s})}return a},t);return n<1?uc((i,a)=>Wv(a)?Nt(Nt({},a),{},{velocity:ff(a.velocity,r[i].velocity,n),from:ff(a.from,r[i].from,n)}):a,t):s2(e,r,n-1)};function IV(e,t,n,r,i,a){var o,s=r.reduce((h,p)=>Nt(Nt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>uc((h,p)=>p.from,s),c=()=>!Object.values(s).filter(Wv).length,u=null,f=h=>{o||(o=h);var p=h-o,m=p/n.dt;s=s2(n,s,m),i(Nt(Nt(Nt({},e),t),l())),o=h,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{u()})}function DV(e,t,n,r,i,a,o){var s=null,l=i.reduce((f,h)=>Nt(Nt({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/r,p=uc((g,y)=>ff(...y,n(h)),l);if(a(Nt(Nt(Nt({},e),t),p)),h<1)s=o.setTimeout(u);else{var m=uc((g,y)=>ff(...y,n(1)),l);a(Nt(Nt(Nt({},e),t),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const RV=(e,t,n,r,i,a)=>{var o=OV(e,t);return n.isStepper===!0?IV(e,t,n,o,i,a):DV(e,t,n,r,o,i,a)};var hf=1e-4,l2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],c2=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),LS=(e,t)=>n=>{var r=l2(e,t);return c2(r,n)},MV=(e,t)=>n=>{var r=l2(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return c2(i,n)},$S=function(){for(var t,n,r,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,r,n,i]=o);var c=LS(t,n),u=LS(r,i),f=MV(t,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,y=g,v=0;v<8;++v){var b=c(y)-g,w=f(y);if(Math.abs(b-g)<hf||w<hf)return u(y);y=h(y-b/w)}return u(y)};return p.isStepper=!1,p},LV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*n,u=l*r,f=l+(c-u)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<hf&&Math.abs(f)<hf?[s,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},$V=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $S(e);case"spring":return LV();default:if(e.split("(")[0]==="cubic-bezier")return $S(e)}return typeof e=="function"?e:null};function FV(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class UV{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function zV(){return FV(new UV)}var BV=x.createContext(zV);function WV(e,t){var n=x.useContext(BV);return x.useMemo(()=>t??n(e),[e,t,n])}var KV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},FS={t:0},Im={t:1};function Vh(e){var t=pn(e,KV),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=WV(t.animationId,t.animationManager),[f,h]=x.useState(n?FS:Im),p=x.useRef(null);return x.useEffect(()=>{n||h(Im)},[n]),x.useEffect(()=>{if(!n||!r)return jV;var m=RV(FS,Im,$V(a),i,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,o,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[n,r,i,a,o,l,s,u]),c(f.t)}function Gh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(oc(t)),r=x.useRef(e);return r.current!==e&&(n.current=oc(t),r.current=e),n.current}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?US(Object(n),!0).forEach(function(r){qV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qV(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(null,arguments)}var BS=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=i[f]>a?a:i[f];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+n-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+o*u[1])),c+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+n-s*u[2],",").concat(t+r)),c+="L ".concat(e+s*u[3],",").concat(t+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+n-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+o*p,`
            L `).concat(e+n,",").concat(t+r-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-s*p,",").concat(t+r,`
            L `).concat(e+s*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},GV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},u2=e=>{var t=pn(e,GV),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var L=n.current.getTotalLength();L&&i(L)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,y=x.useRef(s),v=x.useRef(l),b=x.useRef(a),w=x.useRef(o),S=x.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),j=Gh(S,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var k=xe("recharts-rectangle",u);if(!g)return x.createElement("path",pf({},Pe(t,!0),{className:k,d:BS(a,o,s,l,c)}));var C=y.current,N=v.current,O=b.current,P=w.current,I="0px ".concat(r===-1?1:r,"px"),A="".concat(r,"px 0px"),R=o2(["strokeDasharray"],h,typeof f=="string"?f:void 0);return x.createElement(Vh,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:g,begin:p},L=>{var z=gt(C,s,L),W=gt(N,l,L),$=gt(O,a,L),T=gt(P,o,L);n.current&&(y.current=z,v.current=W,b.current=$,w.current=T);var U;return m?L>0?U={transition:R,strokeDasharray:A}:U={strokeDasharray:I}:U={strokeDasharray:A},x.createElement("path",pf({},Pe(t,!0),{className:k,d:BS($,T,z,W,c),ref:n,style:zS(zS({},U),t.style)}))})};function d2(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Ne(t,n,r,i),s=Ne(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kv.apply(null,arguments)}var YV=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},$u=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/uf,f=l?i:i+a*u,h=Ne(t,n,c,f),p=Ne(t,n,r,f),m=l?i-a*u:i,g=Ne(t,n,c*Math.cos(u*uf),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},f2=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=YV(a,o),l=a+s,c=Ne(t,n,i,a),u=Ne(t,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var h=Ne(t,n,r,a),p=Ne(t,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},JV=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=on(c-l),{circleTangency:f,lineTangency:h,theta:p}=$u({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:y}=$u({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(l-c):Math.abs(l-c)-p-y;if(v<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):f2({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=$u({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:C,theta:N}=$u({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),O=s?Math.abs(l-c):Math.abs(l-c)-j-N;if(O<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},XV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},h2=e=>{var t=pn(e,XV),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(a<i||c===u)return null;var h=xe("recharts-sector",f),p=a-i,m=gr(o,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=JV({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=f2({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),x.createElement("path",Kv({},Pe(t,!0),{className:h,d:g}))};function QV(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,h=Ne(s,l,c,f),p=Ne(s,l,u,f);r=h.x,i=h.y,a=p.x,o=p.y}else return d2(t);return[{x:r,y:i},{x:a,y:o}]}var p2={},m2={},g2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(g2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g2;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(m2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0,n=m2;function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=r})(p2);var ZV=p2.range;const v2=Nn(ZV);function Bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function e7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function O0(e){let t,n,r;e.length!==2?(t=Bi,n=(s,l)=>Bi(e(s),l),r=(s,l)=>e(s)-l):(t=e===Bi||e===e7?e:t7,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function t7(){return 0}function y2(e){return e===null?NaN:+e}function*n7(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const r7=O0(Bi),i7=r7.right;O0(y2).center;const $c=i7;class WS extends Map{constructor(t,n=s7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(KS(this,t))}has(t){return super.has(KS(this,t))}set(t,n){return super.set(a7(this,t),n)}delete(t){return super.delete(o7(this,t))}}function KS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function a7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function o7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function s7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function l7(e=Bi){if(e===Bi)return x2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function x2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const c7=Math.sqrt(50),u7=Math.sqrt(10),d7=Math.sqrt(2);function mf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=c7?10:a>=u7?5:a>=d7?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?mf(e,t,n*2):[s,l,c]}function qv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?mf(t,e,n):mf(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Hv(e,t,n){return t=+t,e=+e,n=+n,mf(e,t,n)[2]}function Vv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Hv(t,e,n):Hv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function qS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function HS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function b2(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?x2:l7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*f/l+h)),m=Math.min(r,Math.floor(t+(l-c)*f/l+h));b2(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(il(e,n,t),i(e[r],a)>0&&il(e,n,r);o<s;){for(il(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?il(e,n,s):(++s,il(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function il(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function f7(e,t,n){if(e=Float64Array.from(n7(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HS(e);if(t>=1)return qS(e);var r,i=(r-1)*t,a=Math.floor(i),o=qS(b2(e,a).subarray(0,a+1)),s=HS(e.subarray(a+1));return o+(s-o)*(i-a)}}function h7(e,t,n=y2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function p7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function er(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gv=Symbol("implicit");function N0(){var e=new WS,t=[],n=[],r=Gv;function i(a){let o=e.get(a);if(o===void 0){if(r!==Gv)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new WS;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N0(t,n).unknown(r)},er.apply(i,arguments),i}function A0(){var e=N0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var y=p7(h).map(function(v){return m+a*v});return n(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return A0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},er.apply(f(),arguments)}function w2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return w2(t())},e}function m7(){return w2(A0.apply(null,arguments).paddingInner(1))}function T0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function k2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fc(){}var dc=.7,gf=1/dc,qo="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g7=/^#([0-9a-f]{3,8})$/,v7=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),y7=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),x7=new RegExp(`^rgba\\(${qo},${qo},${qo},${fc}\\)$`),b7=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${fc}\\)$`),w7=new RegExp(`^hsl\\(${fc},${Ir},${Ir}\\)$`),k7=new RegExp(`^hsla\\(${fc},${Ir},${Ir},${fc}\\)$`),VS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};T0(Fc,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GS,formatHex:GS,formatHex8:S7,formatHsl:j7,formatRgb:YS,toString:YS});function GS(){return this.rgb().formatHex()}function S7(){return this.rgb().formatHex8()}function j7(){return S2(this).formatHsl()}function YS(){return this.rgb().formatRgb()}function hc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=g7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JS(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v7.exec(e))?new sn(t[1],t[2],t[3],1):(t=y7.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x7.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=b7.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w7.exec(e))?ZS(t[1],t[2]/100,t[3]/100,1):(t=k7.exec(e))?ZS(t[1],t[2]/100,t[3]/100,t[4]):VS.hasOwnProperty(e)?JS(VS[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function JS(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,n,r){return r<=0&&(e=t=n=NaN),new sn(e,t,n,r)}function _7(e){return e instanceof Fc||(e=hc(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Yv(e,t,n,r){return arguments.length===1?_7(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}T0(sn,Yv,k2(Fc,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(Da(this.r),Da(this.g),Da(this.b),vf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XS,formatHex:XS,formatHex8:C7,formatRgb:QS,toString:QS}));function XS(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}`}function C7(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}${_a((isNaN(this.opacity)?1:this.opacity)*255)}`}function QS(){const e=vf(this.opacity);return`${e===1?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${e===1?")":`, ${e})`}`}function vf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Da(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _a(e){return e=Da(e),(e<16?"0":"")+e.toString(16)}function ZS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cr(e,t,n,r)}function S2(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof Fc||(e=hc(e)),!e)return new cr;if(e instanceof cr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new cr(o,s,l,e.opacity)}function E7(e,t,n,r){return arguments.length===1?S2(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}T0(cr,E7,k2(Fc,{brighter(e){return e=e==null?gf:Math.pow(gf,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sn(Dm(e>=240?e-240:e+120,i,r),Dm(e,i,r),Dm(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cr(ej(this.h),Uu(this.s),Uu(this.l),vf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vf(this.opacity);return`${e===1?"hsl(":"hsla("}${ej(this.h)}, ${Uu(this.s)*100}%, ${Uu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ej(e){return e=(e||0)%360,e<0?e+360:e}function Uu(e){return Math.max(0,Math.min(1,e||0))}function Dm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const I0=e=>()=>e;function P7(e,t){return function(n){return e+n*t}}function O7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function N7(e){return(e=+e)==1?j2:function(t,n){return n-t?O7(t,n,e):I0(isNaN(t)?n:t)}}function j2(e,t){var n=t-e;return n?P7(e,n):I0(isNaN(e)?t:e)}const tj=function e(t){var n=N7(t);function r(i,a){var o=n((i=Yv(i)).r,(a=Yv(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=j2(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function A7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function T7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=_s(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function D7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function R7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=_s(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Jv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rm=new RegExp(Jv.source,"g");function M7(e){return function(){return e}}function L7(e){return function(t){return e(t)+""}}function $7(e,t){var n=Jv.lastIndex=Rm.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Jv.exec(e))&&(i=Rm.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:yf(r,i)})),n=Rm.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?L7(l[0].x):M7(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function _s(e,t){var n=typeof t,r;return t==null||n==="boolean"?I0(t):(n==="number"?yf:n==="string"?(r=hc(t))?(t=r,tj):$7:t instanceof hc?tj:t instanceof Date?D7:T7(t)?A7:Array.isArray(t)?I7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?R7:yf)(e,t)}function D0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function F7(e,t){t===void 0&&(t=e,e=_s);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function U7(e){return function(){return e}}function xf(e){return+e}var nj=[0,1];function Vt(e){return e}function Xv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:U7(isNaN(t)?NaN:.5)}function z7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function B7(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Xv(i,r),a=n(o,a)):(r=Xv(r,i),a=n(a,o)),function(s){return a(r(s))}}function W7(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Xv(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=$c(e,s,1,r)-1;return a[l](i[l](s))}}function Uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yh(){var e=nj,t=nj,n=_s,r,i,a,o=Vt,s,l,c;function u(){var h=Math.min(e.length,t.length);return o!==Vt&&(o=z7(e[0],e[h-1])),s=h>2?W7:B7,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(t,e.map(r),yf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,xf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=D0,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Vt,u()):o!==Vt},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,u()}}function R0(){return Yh()(Vt,Vt)}function K7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function bf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ss(e){return e=bf(Math.abs(e)),e?e[1]:NaN}function q7(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function H7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var V7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=V7.exec(e)))throw new Error("invalid format: "+e);var t;return new M0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=M0.prototype;function M0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}M0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G7(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var _2;function Y7(e,t){var n=bf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(_2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bf(e,Math.max(0,t+a-1))[0]}function rj(e,t){var n=bf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ij={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:K7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rj(e*100,t),r:rj,s:Y7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aj(e){return e}var oj=Array.prototype.map,sj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function J7(e){var t=e.grouping===void 0||e.thousands===void 0?aj:q7(oj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?aj:H7(oj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=pc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,y=f.zero,v=f.width,b=f.comma,w=f.precision,S=f.trim,j=f.type;j==="n"?(b=!0,j="g"):ij[j]||(w===void 0&&(w=12),S=!0,j="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=g==="$"?r:/[%p]/.test(j)?o:"",N=ij[j],O=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(I){var A=k,R=C,L,z,W;if(j==="c")R=N(I)+R,I="";else{I=+I;var $=I<0||1/I<0;if(I=isNaN(I)?l:N(Math.abs(I),w),S&&(I=G7(I)),$&&+I==0&&m!=="+"&&($=!1),A=($?m==="("?m:s:m==="-"||m==="("?"":m)+A,R=(j==="s"?sj[8+_2/3]:"")+R+($&&m==="("?")":""),O){for(L=-1,z=I.length;++L<z;)if(W=I.charCodeAt(L),48>W||W>57){R=(W===46?i+I.slice(L+1):I.slice(L))+R,I=I.slice(0,L);break}}}b&&!y&&(I=t(I,1/0));var T=A.length+I.length+R.length,U=T<v?new Array(v-T+1).join(h):"";switch(b&&y&&(I=t(U+I,U.length?v-R.length:1/0),U=""),p){case"<":I=A+I+R+U;break;case"=":I=A+U+I+R;break;case"^":I=U.slice(0,T=U.length>>1)+A+I+R+U.slice(T);break;default:I=U+A+I+R;break}return a(I)}return P.toString=function(){return f+""},P}function u(f,h){var p=c((f=pc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ss(h)/3)))*3,g=Math.pow(10,-m),y=sj[8+m/3];return function(v){return p(g*v)+y}}return{format:c,formatPrefix:u}}var zu,L0,C2;X7({thousands:",",grouping:[3],currency:["$",""]});function X7(e){return zu=J7(e),L0=zu.format,C2=zu.formatPrefix,zu}function Q7(e){return Math.max(0,-ss(Math.abs(e)))}function Z7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ss(t)/3)))*3-ss(Math.abs(e)))}function eG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ss(t)-ss(e))+1}function E2(e,t,n,r){var i=Vv(e,t,n),a;switch(r=pc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Z7(i,o))&&(r.precision=a),C2(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=eG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Q7(i))&&(r.precision=a-(r.type==="%")*2);break}}return L0(r)}function ta(e){var t=e.domain;return e.ticks=function(n){var r=t();return qv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return E2(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Hv(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function P2(){var e=R0();return e.copy=function(){return Uc(e,P2())},er.apply(e,arguments),ta(e)}function O2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return O2(e).unknown(t)},e=arguments.length?Array.from(e,xf):[0,1],ta(n)}function N2(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function lj(e){return Math.log(e)}function cj(e){return Math.exp(e)}function tG(e){return-Math.log(-e)}function nG(e){return-Math.exp(-e)}function rG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function iG(e){return e===10?rG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uj(e){return(t,n)=>-e(-t,n)}function $0(e){const t=e(lj,cj),n=t.domain;let r=10,i,a;function o(){return i=aG(r),a=iG(r),n()[0]<0?(i=uj(i),a=uj(a),e(tG,nG)):e(lj,cj),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const y=s==null?10:+s;let v=[];if(!(r%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;v.push(g)}v.length*2<y&&(v=qv(c,u,y))}else v=qv(h,p,Math.min(p-h,y)).map(a);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=pc(l)).precision==null&&(l.trim=!0),l=L0(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(N2(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function A2(){const e=$0(Yh()).domain([1,10]);return e.copy=()=>Uc(e,A2()).base(e.base()),er.apply(e,arguments),e}function dj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F0(e){var t=1,n=e(dj(t),fj(t));return n.constant=function(r){return arguments.length?e(dj(t=+r),fj(t)):t},ta(n)}function T2(){var e=F0(Yh());return e.copy=function(){return Uc(e,T2()).constant(e.constant())},er.apply(e,arguments)}function hj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sG(e){return e<0?-e*e:e*e}function U0(e){var t=e(Vt,Vt),n=1;function r(){return n===1?e(Vt,Vt):n===.5?e(oG,sG):e(hj(n),hj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ta(t)}function z0(){var e=U0(Yh());return e.copy=function(){return Uc(e,z0()).exponent(e.exponent())},er.apply(e,arguments),e}function lG(){return z0.apply(null,arguments).exponent(.5)}function pj(e){return Math.sign(e)*e*e}function cG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function I2(){var e=R0(),t=[0,1],n=!1,r;function i(a){var o=cG(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(pj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,xf)).map(pj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return I2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},er.apply(i,arguments),ta(i)}function D2(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=h7(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[$c(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bi),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return D2().domain(e).range(t).unknown(r)},er.apply(a,arguments)}function R2(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[$c(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return R2().domain([e,t]).range(i).unknown(a)},er.apply(ta(o),arguments)}function M2(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[$c(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return M2().domain(e).range(t).unknown(n)},er.apply(i,arguments)}const Mm=new Date,Lm=new Date;function xt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>xt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Mm.setTime(+a),Lm.setTime(+o),e(Mm),e(Lm),Math.floor(n(Mm,Lm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const wf=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wf);wf.range;const Gr=1e3,Vn=Gr*60,Yr=Vn*60,ai=Yr*24,B0=ai*7,mj=ai*30,$m=ai*365,Ca=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCSeconds());Ca.range;const W0=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gr)},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getMinutes());W0.range;const K0=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getUTCMinutes());K0.range;const q0=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gr-e.getMinutes()*Vn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getHours());q0.range;const H0=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCHours());H0.range;const zc=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vn)/ai,e=>e.getDate()-1);zc.range;const Jh=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ai,e=>e.getUTCDate()-1);Jh.range;const L2=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ai,e=>Math.floor(e/ai));L2.range;function ro(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vn)/B0)}const Xh=ro(0),kf=ro(1),uG=ro(2),dG=ro(3),ls=ro(4),fG=ro(5),hG=ro(6);Xh.range;kf.range;uG.range;dG.range;ls.range;fG.range;hG.range;function io(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/B0)}const Qh=io(0),Sf=io(1),pG=io(2),mG=io(3),cs=io(4),gG=io(5),vG=io(6);Qh.range;Sf.range;pG.range;mG.range;cs.range;gG.range;vG.range;const V0=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());V0.range;const G0=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());G0.range;const oi=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oi.range;const si=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});si.range;function $2(e,t,n,r,i,a){const o=[[Ca,1,Gr],[Ca,5,5*Gr],[Ca,15,15*Gr],[Ca,30,30*Gr],[a,1,Vn],[a,5,5*Vn],[a,15,15*Vn],[a,30,30*Vn],[i,1,Yr],[i,3,3*Yr],[i,6,6*Yr],[i,12,12*Yr],[r,1,ai],[r,2,2*ai],[n,1,B0],[t,1,mj],[t,3,3*mj],[e,1,$m]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=O0(([,,y])=>y).right(o,h);if(p===o.length)return e.every(Vv(c/$m,u/$m,f));if(p===0)return wf.every(Math.max(Vv(c,u,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[yG,xG]=$2(si,G0,Qh,L2,H0,K0),[bG,wG]=$2(oi,V0,Xh,zc,q0,W0);function Fm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Um(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function al(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function kG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ol(i),u=sl(i),f=ol(a),h=sl(a),p=ol(o),m=sl(o),g=ol(s),y=sl(s),v=ol(l),b=sl(l),w={a:$,A:T,b:U,B:_,c:null,d:wj,e:wj,f:qG,g:tY,G:rY,H:BG,I:WG,j:KG,L:F2,m:HG,M:VG,p:J,q:D,Q:jj,s:_j,S:GG,u:YG,U:JG,V:XG,w:QG,W:ZG,x:null,X:null,y:eY,Y:nY,Z:iY,"%":Sj},S={a:E,A:ee,b:te,B:oe,c:null,d:kj,e:kj,f:lY,g:yY,G:bY,H:aY,I:oY,j:sY,L:z2,m:cY,M:uY,p:me,q:Ue,Q:jj,s:_j,S:dY,u:fY,U:hY,V:pY,w:mY,W:gY,x:null,X:null,y:vY,Y:xY,Z:wY,"%":Sj},j={a:P,A:I,b:A,B:R,c:L,d:xj,e:xj,f:$G,g:yj,G:vj,H:bj,I:bj,j:DG,L:LG,m:IG,M:RG,p:O,q:TG,Q:UG,s:zG,S:MG,u:EG,U:PG,V:OG,w:CG,W:NG,x:z,X:W,y:yj,Y:vj,Z:AG,"%":FG};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(M,B){return function(Y){var q=[],ge=-1,we=0,tt=M.length,H,Ce,oo;for(Y instanceof Date||(Y=new Date(+Y));++ge<tt;)M.charCodeAt(ge)===37&&(q.push(M.slice(we,ge)),(Ce=gj[H=M.charAt(++ge)])!=null?H=M.charAt(++ge):Ce=H==="e"?" ":"0",(oo=B[H])&&(H=oo(Y,Ce)),q.push(H),we=ge+1);return q.push(M.slice(we,ge)),q.join("")}}function C(M,B){return function(Y){var q=al(1900,void 0,1),ge=N(q,M,Y+="",0),we,tt;if(ge!=Y.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(B&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(we=Um(al(q.y,0,1)),tt=we.getUTCDay(),we=tt>4||tt===0?Sf.ceil(we):Sf(we),we=Jh.offset(we,(q.V-1)*7),q.y=we.getUTCFullYear(),q.m=we.getUTCMonth(),q.d=we.getUTCDate()+(q.w+6)%7):(we=Fm(al(q.y,0,1)),tt=we.getDay(),we=tt>4||tt===0?kf.ceil(we):kf(we),we=zc.offset(we,(q.V-1)*7),q.y=we.getFullYear(),q.m=we.getMonth(),q.d=we.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),tt="Z"in q?Um(al(q.y,0,1)).getUTCDay():Fm(al(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(tt+5)%7:q.w+q.U*7-(tt+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Um(q)):Fm(q)}}function N(M,B,Y,q){for(var ge=0,we=B.length,tt=Y.length,H,Ce;ge<we;){if(q>=tt)return-1;if(H=B.charCodeAt(ge++),H===37){if(H=B.charAt(ge++),Ce=j[H in gj?B.charAt(ge++):H],!Ce||(q=Ce(M,Y,q))<0)return-1}else if(H!=Y.charCodeAt(q++))return-1}return q}function O(M,B,Y){var q=c.exec(B.slice(Y));return q?(M.p=u.get(q[0].toLowerCase()),Y+q[0].length):-1}function P(M,B,Y){var q=p.exec(B.slice(Y));return q?(M.w=m.get(q[0].toLowerCase()),Y+q[0].length):-1}function I(M,B,Y){var q=f.exec(B.slice(Y));return q?(M.w=h.get(q[0].toLowerCase()),Y+q[0].length):-1}function A(M,B,Y){var q=v.exec(B.slice(Y));return q?(M.m=b.get(q[0].toLowerCase()),Y+q[0].length):-1}function R(M,B,Y){var q=g.exec(B.slice(Y));return q?(M.m=y.get(q[0].toLowerCase()),Y+q[0].length):-1}function L(M,B,Y){return N(M,t,B,Y)}function z(M,B,Y){return N(M,n,B,Y)}function W(M,B,Y){return N(M,r,B,Y)}function $(M){return o[M.getDay()]}function T(M){return a[M.getDay()]}function U(M){return l[M.getMonth()]}function _(M){return s[M.getMonth()]}function J(M){return i[+(M.getHours()>=12)]}function D(M){return 1+~~(M.getMonth()/3)}function E(M){return o[M.getUTCDay()]}function ee(M){return a[M.getUTCDay()]}function te(M){return l[M.getUTCMonth()]}function oe(M){return s[M.getUTCMonth()]}function me(M){return i[+(M.getUTCHours()>=12)]}function Ue(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var B=k(M+="",w);return B.toString=function(){return M},B},parse:function(M){var B=C(M+="",!1);return B.toString=function(){return M},B},utcFormat:function(M){var B=k(M+="",S);return B.toString=function(){return M},B},utcParse:function(M){var B=C(M+="",!0);return B.toString=function(){return M},B}}}var gj={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,SG=/^%/,jG=/[\\^$*+?|[\]().{}]/g;function _e(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function _G(e){return e.replace(jG,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(_G).join("|")+")","i")}function sl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function CG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function EG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function PG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function OG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function NG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function vj(e,t,n){var r=Ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function yj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function IG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function xj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function DG(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function bj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function RG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function MG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function LG(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function $G(e,t,n){var r=Ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function FG(e,t,n){var r=SG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function UG(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function zG(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wj(e,t){return _e(e.getDate(),t,2)}function BG(e,t){return _e(e.getHours(),t,2)}function WG(e,t){return _e(e.getHours()%12||12,t,2)}function KG(e,t){return _e(1+zc.count(oi(e),e),t,3)}function F2(e,t){return _e(e.getMilliseconds(),t,3)}function qG(e,t){return F2(e,t)+"000"}function HG(e,t){return _e(e.getMonth()+1,t,2)}function VG(e,t){return _e(e.getMinutes(),t,2)}function GG(e,t){return _e(e.getSeconds(),t,2)}function YG(e){var t=e.getDay();return t===0?7:t}function JG(e,t){return _e(Xh.count(oi(e)-1,e),t,2)}function U2(e){var t=e.getDay();return t>=4||t===0?ls(e):ls.ceil(e)}function XG(e,t){return e=U2(e),_e(ls.count(oi(e),e)+(oi(e).getDay()===4),t,2)}function QG(e){return e.getDay()}function ZG(e,t){return _e(kf.count(oi(e)-1,e),t,2)}function eY(e,t){return _e(e.getFullYear()%100,t,2)}function tY(e,t){return e=U2(e),_e(e.getFullYear()%100,t,2)}function nY(e,t){return _e(e.getFullYear()%1e4,t,4)}function rY(e,t){var n=e.getDay();return e=n>=4||n===0?ls(e):ls.ceil(e),_e(e.getFullYear()%1e4,t,4)}function iY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function kj(e,t){return _e(e.getUTCDate(),t,2)}function aY(e,t){return _e(e.getUTCHours(),t,2)}function oY(e,t){return _e(e.getUTCHours()%12||12,t,2)}function sY(e,t){return _e(1+Jh.count(si(e),e),t,3)}function z2(e,t){return _e(e.getUTCMilliseconds(),t,3)}function lY(e,t){return z2(e,t)+"000"}function cY(e,t){return _e(e.getUTCMonth()+1,t,2)}function uY(e,t){return _e(e.getUTCMinutes(),t,2)}function dY(e,t){return _e(e.getUTCSeconds(),t,2)}function fY(e){var t=e.getUTCDay();return t===0?7:t}function hY(e,t){return _e(Qh.count(si(e)-1,e),t,2)}function B2(e){var t=e.getUTCDay();return t>=4||t===0?cs(e):cs.ceil(e)}function pY(e,t){return e=B2(e),_e(cs.count(si(e),e)+(si(e).getUTCDay()===4),t,2)}function mY(e){return e.getUTCDay()}function gY(e,t){return _e(Sf.count(si(e)-1,e),t,2)}function vY(e,t){return _e(e.getUTCFullYear()%100,t,2)}function yY(e,t){return e=B2(e),_e(e.getUTCFullYear()%100,t,2)}function xY(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function bY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cs(e):cs.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function wY(){return"+0000"}function Sj(){return"%"}function jj(e){return+e}function _j(e){return Math.floor(+e/1e3)}var vo,W2,K2;kY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kY(e){return vo=kG(e),W2=vo.format,vo.parse,K2=vo.utcFormat,vo.utcParse,vo}function SY(e){return new Date(e)}function jY(e){return e instanceof Date?+e:+new Date(+e)}function Y0(e,t,n,r,i,a,o,s,l,c){var u=R0(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function j(k){return(l(k)<k?p:s(k)<k?m:o(k)<k?g:a(k)<k?y:r(k)<k?i(k)<k?v:b:n(k)<k?w:S)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,jY)):h().map(SY)},u.ticks=function(k){var C=h();return e(C[0],C[C.length-1],k??10)},u.tickFormat=function(k,C){return C==null?j:c(C)},u.nice=function(k){var C=h();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?h(N2(C,k)):u},u.copy=function(){return Uc(u,Y0(e,t,n,r,i,a,o,s,l,c))},u}function _Y(){return er.apply(Y0(bG,wG,oi,V0,Xh,zc,q0,W0,Ca,W2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CY(){return er.apply(Y0(yG,xG,si,G0,Qh,Jh,H0,K0,Ca,K2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zh(){var e=0,t=1,n,r,i,a,o=Vt,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=u(_s),c.rangeRound=u(D0),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function na(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q2(){var e=ta(Zh()(Vt));return e.copy=function(){return na(e,q2())},hi.apply(e,arguments)}function H2(){var e=$0(Zh()).domain([1,10]);return e.copy=function(){return na(e,H2()).base(e.base())},hi.apply(e,arguments)}function V2(){var e=F0(Zh());return e.copy=function(){return na(e,V2()).constant(e.constant())},hi.apply(e,arguments)}function J0(){var e=U0(Zh());return e.copy=function(){return na(e,J0()).exponent(e.exponent())},hi.apply(e,arguments)}function EY(){return J0.apply(null,arguments).exponent(.5)}function G2(){var e=[],t=Vt;function n(r){if(r!=null&&!isNaN(r=+r))return t(($c(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Bi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>f7(e,a/r))},n.copy=function(){return G2(t).domain(e)},hi.apply(n,arguments)}function ep(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=Vt,u,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(y){var v,b,w;return arguments.length?([v,b,w]=y,c=F7(g,[v,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(_s),p.rangeRound=m(D0),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function Y2(){var e=ta(ep()(Vt));return e.copy=function(){return na(e,Y2())},hi.apply(e,arguments)}function J2(){var e=$0(ep()).domain([.1,1,10]);return e.copy=function(){return na(e,J2()).base(e.base())},hi.apply(e,arguments)}function X2(){var e=F0(ep());return e.copy=function(){return na(e,X2()).constant(e.constant())},hi.apply(e,arguments)}function X0(){var e=U0(ep());return e.copy=function(){return na(e,X0()).exponent(e.exponent())},hi.apply(e,arguments)}function PY(){return X0.apply(null,arguments).exponent(.5)}const gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:A0,scaleDiverging:Y2,scaleDivergingLog:J2,scaleDivergingPow:X0,scaleDivergingSqrt:PY,scaleDivergingSymlog:X2,scaleIdentity:O2,scaleImplicit:Gv,scaleLinear:P2,scaleLog:A2,scaleOrdinal:N0,scalePoint:m7,scalePow:z0,scaleQuantile:D2,scaleQuantize:R2,scaleRadial:I2,scaleSequential:q2,scaleSequentialLog:H2,scaleSequentialPow:J0,scaleSequentialQuantile:G2,scaleSequentialSqrt:EY,scaleSequentialSymlog:V2,scaleSqrt:lG,scaleSymlog:T2,scaleThreshold:M2,scaleTime:_Y,scaleUtc:CY,tickFormat:E2},Symbol.toStringTag,{value:"Module"}));var ra=e=>e.chartData,Q0=F([ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Z0=(e,t,n,r)=>r?Q0(e):ra(e);function us(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(On(t)&&On(n))return!0}return!1}function Cj(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function OY(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(On(n))i=n;else if(typeof n=="function")return;if(On(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(us(o))return o}}function NY(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(us(r))return Cj(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(le(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&bS.test(i)){var l=bS.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(le(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&wS.test(a)){var u=wS.exec(a);if(u==null||t==null)s=void 0;else{var f=+u[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(us(h))return t==null?h:Cj(h,t,n)}}}var Cs=1e9,AY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tb,Ve=!0,Qn="[DecimalError] ",Ra=Qn+"Invalid argument: ",eb=Qn+"Exponent out of range: ",Es=Math.floor,ma=Math.pow,TY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,wt=1e7,Be=7,Q2=9007199254740991,jf=Es(Q2/Be),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Be;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(e){return Zr(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,n=t.constructor;return Te(Zr(t,new n(e),0,1),n.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return dt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(wn))throw Error(Qn+"NaN");if(n.s<1)throw Error(Qn+(n.s?"NaN":"-Infinity"));return n.eq(wn)?new r(0):(Ve=!1,t=Zr(mc(n,a),mc(e,a),a),Ve=!0,Te(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tT(t,e):Z2(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Qn+"NaN");return n.s?(Ve=!1,t=Zr(n,e,0,1).times(e),Ve=!0,n.minus(t)):Te(new r(n),i)};ie.naturalExponential=ie.exp=function(){return eT(this)};ie.naturalLogarithm=ie.ln=function(){return mc(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z2(t,e):tT(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ra+e);if(t=dt(i)+1,r=i.d.length-1,n=r*Be+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ie.squareRoot=ie.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Qn+"NaN")}for(e=dt(s),Ve=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Or(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Es((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Zr(s,a,o+2)).times(.5),Or(a.d).slice(0,o)===(t=Or(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Te(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return Ve=!0,Te(r,n)};ie.times=ie.mul=function(e){var t,n,r,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%wt|0,t=s/wt|0;a[i]=(a[i]+t)%wt|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ve?Te(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Mr(e,0,Cs),t===void 0?t=r.rounding:Mr(t,0,8),Te(n,e+dt(n)+1,t))};ie.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ha(r,!0):(Mr(e,0,Cs),t===void 0?t=i.rounding:Mr(t,0,8),r=Te(new i(r),e+1,t),n=Ha(r,!0,e+1)),n};ie.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Ha(i):(Mr(e,0,Cs),t===void 0?t=a.rounding:Mr(t,0,8),r=Te(new a(i),e+dt(i)+1,t),n=Ha(r.abs(),!1,e+dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return Te(new t(e),dt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(wn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Qn+"Infinity");return s}if(s.eq(wn))return s;if(r=l.precision,e.eq(wn))return Te(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=u<0?-u:u)<=Q2){for(i=new l(wn),t=Math.ceil(r/Be+4),Ve=!1;n%2&&(i=i.times(s),Pj(i.d,t)),n=Es(n/2),n!==0;)s=s.times(s),Pj(s.d,t);return Ve=!0,e.s<0?new l(wn).div(i):Te(i,r)}}else if(a<0)throw Error(Qn+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,Ve=!1,i=e.times(mc(s,r+c)),Ve=!0,i=eT(i),i.s=a,i};ie.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=dt(i),r=Ha(i,n<=a.toExpNeg||n>=a.toExpPos)):(Mr(e,1,Cs),t===void 0?t=a.rounding:Mr(t,0,8),i=Te(new a(i),e,t),n=dt(i),r=Ha(i,e<=n||n<=a.toExpNeg,e)),r};ie.toSignificantDigits=ie.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Mr(e,1,Cs),t===void 0?t=r.rounding:Mr(t,0,8)),Te(new r(n),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dt(e),n=e.constructor;return Ha(e,t<=n.toExpNeg||t>=n.toExpPos)};function Z2(e,t){var n,r,i,a,o,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ve?Te(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/Be),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/wt|0,l[a]%=wt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,Ve?Te(t,f):t}function Mr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ra+e)}function Or(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Be-r.length,n&&(a+=Si(n)),a+=r;o=e[t],r=o+"",n=Be-r.length,n&&(a+=Si(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zr=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%wt|0,o=a/wt|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*wt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,f,h,p,m,g,y,v,b,w,S,j,k,C,N,O=r.constructor,P=r.s==i.s?1:-1,I=r.d,A=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Qn+"Division by zero");for(l=r.e-i.e,C=A.length,j=I.length,p=new O(P),m=p.d=[],c=0;A[c]==(I[c]||0);)++c;if(A[c]>(I[c]||0)&&--l,a==null?b=a=O.precision:o?b=a+(dt(r)-dt(i))+1:b=a,b<0)return new O(0);if(b=b/Be+2|0,c=0,C==1)for(u=0,A=A[0],b++;(c<j||u)&&b--;c++)w=u*wt+(I[c]||0),m[c]=w/A|0,u=w%A|0;else{for(u=wt/(A[0]+1)|0,u>1&&(A=e(A,u),I=e(I,u),C=A.length,j=I.length),S=C,g=I.slice(0,C),y=g.length;y<C;)g[y++]=0;N=A.slice(),N.unshift(0),k=A[0],A[1]>=wt/2&&++k;do u=0,s=t(A,g,C,y),s<0?(v=g[0],C!=y&&(v=v*wt+(g[1]||0)),u=v/k|0,u>1?(u>=wt&&(u=wt-1),f=e(A,u),h=f.length,y=g.length,s=t(f,g,h,y),s==1&&(u--,n(f,C<h?N:A,h))):(u==0&&(s=u=1),f=A.slice()),h=f.length,h<y&&f.unshift(0),n(g,f,y),s==-1&&(y=g.length,s=t(A,g,C,y),s<1&&(u++,n(g,C<y?N:A,y))),y=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[y++]=I[S]||0:(g=[I[S]],y=1);while((S++<j||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Te(p,o?a+dt(p)+1:a)}}();function eT(e,t){var n,r,i,a,o,s,l=0,c=0,u=e.constructor,f=u.precision;if(dt(e)>16)throw Error(eb+dt(e));if(!e.s)return new u(wn);for(t==null?(Ve=!1,s=f):s=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(ma(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(wn),u.precision=s;;){if(i=Te(i.times(e),s),n=n.times(++l),o=a.plus(Zr(i,n,s)),Or(o.d).slice(0,s)===Or(a.d).slice(0,s)){for(;c--;)a=Te(a.times(a),s);return u.precision=f,t==null?(Ve=!0,Te(a,f)):a}a=o}}function dt(e){for(var t=e.e*Be,n=e.d[0];n>=10;n/=10)t++;return t}function zm(e,t,n){if(t>e.LN10.sd())throw Ve=!0,n&&(e.precision=n),Error(Qn+"LN10 precision limit exceeded");return Te(new e(e.LN10),t)}function Si(e){for(var t="";e--;)t+="0";return t}function mc(e,t){var n,r,i,a,o,s,l,c,u,f=1,h=10,p=e,m=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(Qn+(p.s?"NaN":"-Infinity"));if(p.eq(wn))return new g(0);if(t==null?(Ve=!1,c=y):c=t,p.eq(10))return t==null&&(Ve=!0),zm(g,c);if(c+=h,g.precision=c,n=Or(m),r=n.charAt(0),a=dt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Or(p.d),r=n.charAt(0),f++;a=dt(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=zm(g,c+2,y).times(a+""),p=mc(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=y,t==null?(Ve=!0,Te(p,y)):p;for(s=o=p=Zr(p.minus(wn),p.plus(wn),c),u=Te(p.times(p),c),i=3;;){if(o=Te(o.times(u),c),l=s.plus(Zr(o,new g(i),c)),Or(l.d).slice(0,c)===Or(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(zm(g,c+2,y).times(a+""))),s=Zr(s,new g(f),c),g.precision=y,t==null?(Ve=!0,Te(s,y)):s;s=l,i+=2}}function Ej(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Es(n/Be),e.d=[],r=(n+1)%Be,n<0&&(r+=Be),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Be;r<i;)e.d.push(+t.slice(r,r+=Be));t=t.slice(r),r=Be-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Ve&&(e.e>jf||e.e<-jf))throw Error(eb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Te(e,t,n){var r,i,a,o,s,l,c,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Be,i=t,c=f[u=0];else{if(u=Math.ceil((r+1)/Be),a=f.length,u>=a)return e;for(c=a=f[u],o=1;a>=10;a/=10)o++;r%=Be,i=r-Be+o}if(n!==void 0&&(a=ma(10,o-i-1),s=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/ma(10,o-i):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=dt(e),f.length=1,t=t-a-1,f[0]=ma(10,(Be-t%Be)%Be),e.e=Es(-t/Be)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=ma(10,Be-r),f[u]=i>0?(c/ma(10,o-i)%ma(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==wt&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=wt)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ve&&(e.e>jf||e.e<-jf))throw Error(eb+dt(e));return e}function tT(e,t){var n,r,i,a,o,s,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ve?Te(t,p):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(p/Be),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=wt-1;--l[a],l[i]+=wt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,Ve?Te(t,p):t):new h(0)}function Ha(e,t,n){var r,i=dt(e),a=Or(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Si(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Si(-i-1)+a,n&&(r=n-o)>0&&(a+=Si(r))):i>=o?(a+=Si(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Si(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Si(r))),e.s<0?"-"+a:a}function Pj(e,t){if(e.length>t)return e.length=t,!0}function nT(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ra+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Ej(o,a.toString())}else if(typeof a!="string")throw Error(Ra+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,TY.test(a))Ej(o,a);else throw Error(Ra+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=nT,i.config=i.set=IY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function IY(e){if(!e||typeof e!="object")throw Error(Qn+"Object expected");var t,n,r,i=["precision",1,Cs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Es(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ra+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ra+n+": "+r);return this}var tb=nT(AY);wn=new tb(1);const Ee=tb;var DY=e=>e,rT={"@@functional/placeholder":!0},iT=e=>e===rT,Oj=e=>function t(){return arguments.length===0||arguments.length===1&&iT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},aT=(e,t)=>e===1?t:Oj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==rT).length;return a>=e?t(...r):aT(e-a,Oj(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(u=>iT(u)?s.shift():u);return t(...c,...s)}))}),tp=e=>aT(e.length,e),Qv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},RY=tp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),MY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return DY;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Zv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),oT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,n=e(...i)),n}};function sT(e){var t;return e===0?t=1:t=Math.floor(new Ee(e).abs().log(10).toNumber())+1,t}function lT(e,t,n){for(var r=new Ee(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}tp((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});tp((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});tp((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var cT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},uT=(e,t,n)=>{if(e.lte(0))return new Ee(0);var r=sT(e.toNumber()),i=new Ee(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Ee(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?new Ee(l.toNumber()):new Ee(Math.ceil(l.toNumber()))},LY=(e,t,n)=>{var r=new Ee(1),i=new Ee(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ee(10).pow(sT(e)-1),i=new Ee(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ee(Math.floor(e)))}else e===0?i=new Ee(Math.floor((t-1)/2)):n||(i=new Ee(Math.floor(e)));var o=Math.floor((t-1)/2),s=MY(RY(l=>i.add(new Ee(l-o).mul(r)).toNumber()),Qv);return s(0,t)},dT=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ee(0),tickMin:new Ee(0),tickMax:new Ee(0)};var o=uT(new Ee(n).sub(t).div(r-1),i,a),s;t<=0&&n>=0?s=new Ee(0):(s=new Ee(t).add(n).div(2),s=s.sub(new Ee(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new Ee(n).sub(s).div(o).toNumber()),u=l+c+1;return u>r?dT(t,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:s.sub(new Ee(l).mul(o)),tickMax:s.add(new Ee(c).mul(o))})};function $Y(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,s]=cT([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Qv(0,r-1).map(()=>1/0)]:[...Qv(0,r-1).map(()=>-1/0),s];return t>n?Zv(l):l}if(o===s)return LY(o,r,i);var{step:c,tickMin:u,tickMax:f}=dT(o,s,a,i,0),h=lT(u,f.add(new Ee(.1).mul(c)),c);return t>n?Zv(h):h}function FY(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=cT([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=uT(new Ee(o).sub(a).div(s-1),i,0),c=[...lT(new Ee(a),new Ee(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?Zv(c):c}var UY=oT($Y),zY=oT(FY),fT=e=>e.rootProps.maxBarSize,BY=e=>e.rootProps.barGap,hT=e=>e.rootProps.barCategoryGap,WY=e=>e.rootProps.barSize,Bc=e=>e.rootProps.stackOffset,nb=e=>e.options.chartName,rb=e=>e.rootProps.syncId,pT=e=>e.rootProps.syncMethod,ib=e=>e.options.eventEmitter,Er={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},np=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},KY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Er.angleAxisId,includeHidden:!1,name:void 0,reversed:Er.reversed,scale:Er.scale,tick:Er.tick,tickCount:void 0,ticks:void 0,type:Er.type,unit:void 0},qY={allowDataOverflow:tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,ticks:void 0,type:tn.type,unit:void 0},HY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},VY={allowDataOverflow:tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,ticks:void 0,type:"category",unit:void 0},Ps=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?HY:KY,Wc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?VY:qY,rp=e=>e.polarOptions,ab=F([di,fi,_t],qq),mT=F([rp,ab],(e,t)=>{if(e!=null)return gr(e.innerRadius,t,0)}),gT=F([rp,ab],(e,t)=>{if(e!=null)return gr(e.outerRadius,t,t*.8)}),GY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},vT=F([rp],GY),YY=F([Ps,vT],np),yT=F([ab,mT,gT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),JY=F([Wc,yT],np),Os=F([be,rp,mT,gT,di,fi],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:gr(o,i,i/2),cy:gr(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Re=(e,t)=>t,Kc=(e,t,n)=>n;function ob(e){return e==null?void 0:e.id}var bt=e=>{var t=be(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ns=e=>e.tooltip.settings.axisId,Et=e=>{var t=bt(e),n=Ns(e);return As(e,t,n)},xT=F([Et],e=>e==null?void 0:e.dataKey);function bT(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=ob(s);c.forEach((f,h)=>{var p=a==null||i?h:String(yt(f,a,null)),m=yt(f,s.dataKey,0),g;o.has(p)?g=o.get(p):g={},Object.assign(g,{[u]:m}),o.set(p,g)})}}),Array.from(o.values())}function ip(e){return e.stackId!=null&&e.dataKey!=null}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){XY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XY(e,t,n){return(t=QY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ey=[0,"auto"],yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wT=(e,t)=>e.cartesianAxis.xAxis[t],pi=(e,t)=>{var n=wT(e,t);return n??yn},xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ey,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lc},kT=(e,t)=>e.cartesianAxis.yAxis[t],mi=(e,t)=>{var n=kT(e,t);return n??xn},eJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??eJ},at=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);case"zAxis":return sb(e,n);case"angleAxis":return Ps(e,n);case"radiusAxis":return Wc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},tJ=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},As=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);case"angleAxis":return Ps(e,n);case"radiusAxis":return Wc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ST=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var cb=e=>e.graphicalItems.cartesianItems,nJ=F([Re,Kc],lb),ub=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),qc=F([cb,at,nJ],ub),jT=F([qc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ip)),_T=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),CT=F([qc],_T),db=e=>e.map(t=>t.data).filter(Boolean).flat(1),rJ=F([qc],db),fb=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},hb=F([rJ,Z0],fb),pb=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:yt(i,r)}))):e.map(r=>({value:r})),ap=F([hb,at,qc],pb);function ET(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ao(e){return e.filter(t=>Rr(t)||t instanceof Date).map(Number).filter(t=>En(t)===!1)}function iJ(e,t,n){return!n||typeof t!="number"||En(t)?[]:n.length?ao(n.flatMap(r=>{var i=yt(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!On(a)||!On(o)))return[t-a,t+o]})):[]}var aJ=F([jT,Z0,Et],bT),PT=(e,t,n)=>{var r={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(ob);return[o,{stackedData:sH(e,l,n),graphicalItems:s}]}))},ty=F([aJ,jT,Bc],PT),OT=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=fH(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},oJ=F([ty,ra,Re],OT),NT=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var s,l,c=(s=r[o.id])===null||s===void 0?void 0:s.filter(f=>ET(i,f)),u=yt(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:iJ(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:yt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),op=e=>e.errorBars,AT=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>ET(n,r));F([CT,op,Re],AT);var sJ=F([hb,at,CT,op,Re],NT);function lJ(e){var{value:t}=e;if(Rr(t)||t instanceof Date)return t}var Aj=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ao(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cJ=(e,t,n)=>{var r=e.map(lJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&AN(r))?v2(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},mb=e=>{var t;if(e==null||!("domain"in e))return ey;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ao(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ey},Cf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},TT=e=>e.referenceElements.dots,Ts=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),uJ=F([TT,Re,Kc],Ts),IT=e=>e.referenceElements.areas,dJ=F([IT,Re,Kc],Ts),DT=e=>e.referenceElements.lines,fJ=F([DT,Re,Kc],Ts),RT=(e,t)=>{var n=ao(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hJ=F(uJ,Re,RT),MT=(e,t)=>{var n=ao(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},pJ=F([dJ,Re],MT),LT=(e,t)=>{var n=ao(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mJ=F(fJ,Re,LT),gJ=F(hJ,mJ,pJ,(e,t,n)=>Cf(e,n,t)),$T=F([at],mb),gb=(e,t,n,r,i,a,o)=>{var s=OY(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?Cf(n,i,Aj(r)):Cf(i,Aj(r));return NY(t,c,e.allowDataOverflow)},vJ=F([at,$T,oJ,sJ,gJ,be,Re],gb),yJ=[0,1],vb=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=ea(t,a);return c&&s==null?v2(0,n.length):l==="category"?cJ(r,e,c):i==="expand"?yJ:o}},yb=F([at,be,hb,ap,Bc,Re,vJ],vb),FT=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Ic(a));return s in gl?s:"point"}}},ia=F([at,be,ST,nb,Re],FT);function xJ(e){if(e!=null){if(e in gl)return gl[e]();var t="scale".concat(Ic(e));if(t in gl)return gl[t]()}}function sp(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=xJ(t);if(i!=null){var a=i.domain(n).range(r);return nH(a),a}}}var xb=(e,t,n)=>{var r=mb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&us(e))return UY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&us(e))return zY(e,t.tickCount,t.allowDecimals)}},bb=F([yb,As,ia],xb),wb=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&us(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},bJ=F([at,yb,bb,Re],wb),wJ=F(ap,at,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ao(e.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),UT=F(wJ,be,hT,_t,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!On(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=gr(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),kJ=(e,t)=>{var n=pi(e,t);return n==null||typeof n.padding!="string"?0:UT(e,"xAxis",t,n.padding)},SJ=(e,t)=>{var n=mi(e,t);return n==null||typeof n.padding!="string"?0:UT(e,"yAxis",t,n.padding)},jJ=F(pi,kJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),_J=F(mi,SJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),CJ=F([_t,jJ,qh,Kh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),EJ=F([_t,be,_J,qh,Kh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Hc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return CJ(e,n,r);case"yAxis":return EJ(e,n,r);case"zAxis":return(i=sb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return vT(e);case"radiusAxis":return yT(e,n);default:return}},zT=F([at,Hc],np),Is=F([at,ia,bJ,zT],sp);F([qc,op,Re],AT);function BT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lp=(e,t)=>t,cp=(e,t,n)=>n,PJ=F(Bh,lp,cp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BT)),OJ=F(Wh,lp,cp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BT)),WT=(e,t)=>({width:e.width,height:t.height}),NJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Lc;return{width:n,height:e.height}},KT=F(_t,pi,WT),AJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},TJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},IJ=F(fi,_t,PJ,lp,cp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=WT(t,s);o==null&&(o=AJ(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),DJ=F(di,_t,OJ,lp,cp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=NJ(t,s);o==null&&(o=TJ(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),RJ=(e,t)=>{var n=pi(e,t);if(n!=null)return IJ(e,n.orientation,n.mirror)},MJ=F([_t,pi,RJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),LJ=(e,t)=>{var n=mi(e,t);if(n!=null)return DJ(e,n.orientation,n.mirror)},$J=F([_t,mi,LJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),qT=F(_t,mi,(e,t)=>{var n=typeof t.width=="number"?t.width:Lc;return{width:n,height:e.height}}),Tj=(e,t,n)=>{switch(t){case"xAxis":return KT(e,n).width;case"yAxis":return qT(e,n).height;default:return}},HT=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=ea(e,r),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&AN(l))return l}},Vc=F([be,ap,at,Re],HT),kb=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ea(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},Sb=F([be,ap,As,Re],kb),Ij=F([be,tJ,ia,Is,Vc,Sb,Hc,bb,Re],(e,t,n,r,i,a,o,s,l)=>{if(t==null)return null;var c=ea(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),VT=(e,t,n,r,i,a,o,s,l)=>{if(!(t==null||r==null)){var c=ea(e,l),{type:u,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?on(a[0]-a[1])*2*m:m;var g=f||i;if(g){var y=g.map((v,b)=>{var w=o?o.indexOf(v):v;return{index:b,coordinate:r(w)+m,value:v,offset:m}});return y.filter(v=>!En(v.coordinate))}return c&&s?s.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.ticks?r.ticks(h).map(v=>({coordinate:r(v)+m,value:v,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:o?o[v]:v,index:b,offset:m}))}},GT=F([be,As,ia,Is,bb,Hc,Vc,Sb,Re],VT),YT=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=ea(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?on(r[0]-r[1])*2*c:c,s&&a?a.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},ds=F([be,As,Is,Hc,Vc,Sb,Re],YT),fs=F(at,Is,(e,t)=>{if(!(e==null||t==null))return _f(_f({},e),{},{scale:t})}),FJ=F([at,ia,yb,zT],sp);F((e,t,n)=>sb(e,n),FJ,(e,t)=>{if(!(e==null||t==null))return _f(_f({},e),{},{scale:t})});var UJ=F([be,Bh,Wh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JT=e=>e.options.defaultTooltipEventType,XT=e=>e.options.validateTooltipEventTypes;function QT(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function jb(e,t){var n=JT(e),r=XT(e);return QT(t,n,r)}function zJ(e){return ne(t=>jb(t,e))}var ZT=(e,t)=>{var n,r=Number(t);if(!(En(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},BJ=e=>e.tooltip.settings,Pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},WJ={itemInteraction:{click:Pi,hover:Pi},axisInteraction:{click:Pi,hover:Pi},keyboardInteraction:Pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},eI=Dn({name:"tooltip",initialState:WJ,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Qr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:KJ,removeTooltipEntrySettings:qJ,setTooltipSettingsState:HJ,setActiveMouseOverItemIndex:tI,mouseLeaveItem:VJ,mouseLeaveChart:nI,setActiveClickItemIndex:GJ,setMouseOverAxisIndex:rI,setMouseClickAxisIndex:YJ,setSyncInteraction:ny,setKeyboardInteraction:ry}=eI.actions,JJ=eI.reducer;function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){XJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(e,t,n){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tX(e){return e.index!=null}var iI=(e,t,n,r)=>{if(t==null)return Pi;var i=eX(e,t,n);if(i==null)return Pi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(tX(i)){if(a)return Bu(Bu({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Bu(Bu({},Pi),{},{coordinate:i.coordinate})},_b=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!On(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},aI=(e,t,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},oI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Gc=e=>e.options.tooltipPayloadSearcher,Ds=e=>e.tooltip;function Rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(n),!0).forEach(function(r){nX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nX(e,t,n){return(t=rX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aX(e,t){return e??t}var sI=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:y}=p,v=aX(g,s),b=Array.isArray(v)?XA(v,c,u):v,w=(m=y==null?void 0:y.dataKey)!==null&&m!==void 0?m:r,S=y==null?void 0:y.nameKey,j;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=Z9(b,r,i):j=a(b,t,l,S),Array.isArray(j))j.forEach(C=>{var N=Mj(Mj({},y),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(kS({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:yt(C.payload,C.dataKey),name:C.name}))});else{var k;h.push(kS({tooltipEntrySettings:y,dataKey:w,payload:j,value:yt(j,w),name:(k=yt(j,S))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},f)}},Cb=F([Et,be,ST,nb,bt],FT),oX=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sX=F([bt,Ns],lb),Yc=F([oX,Et,sX],ub),lX=F([Yc],e=>e.filter(ip)),cX=F([Yc],db),Rs=F([cX,ra],fb),uX=F([lX,ra,Et],bT),Eb=F([Rs,Et,Yc],pb),dX=F([Et],mb),fX=F([Yc],e=>e.filter(ip)),hX=F([uX,fX,Bc],PT),pX=F([hX,ra,bt],OT),mX=F([Yc],_T),gX=F([Rs,Et,mX,op,bt],NT),vX=F([TT,bt,Ns],Ts),yX=F([vX,bt],RT),xX=F([IT,bt,Ns],Ts),bX=F([xX,bt],MT),wX=F([DT,bt,Ns],Ts),kX=F([wX,bt],LT),SX=F([yX,kX,bX],Cf),jX=F([Et,dX,pX,gX,SX,be,bt],gb),lI=F([Et,be,Rs,Eb,Bc,bt,jX],vb),_X=F([lI,Et,Cb],xb),CX=F([Et,lI,_X,bt],wb),cI=e=>{var t=bt(e),n=Ns(e),r=!1;return Hc(e,t,n,r)},uI=F([Et,cI],np),dI=F([Et,Cb,CX,uI],sp),EX=F([be,Eb,Et,bt],HT),PX=F([be,Eb,Et,bt],kb),OX=(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=ea(e,s);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?on(i[0]-i[1])*2*f:f,c&&o?o.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:a?a[h]:h,index:p,offset:f}))}}},gi=F([be,Et,Cb,dI,cI,EX,PX,bt],OX),Pb=F([JT,XT,BJ],(e,t,n)=>QT(n.shared,e,t)),fI=e=>e.tooltip.settings.trigger,Ob=e=>e.tooltip.settings.defaultIndex,up=F([Ds,Pb,fI,Ob],iI),Va=F([up,Rs],_b),hI=F([gi,Va],ZT),pI=F([up],e=>{if(e)return e.dataKey}),mI=F([Ds,Pb,fI,Ob],oI),NX=F([di,fi,be,_t,gi,Ob,mI,Gc],aI),AX=F([up,NX],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TX=F([up],e=>e.active),IX=F([mI,Va,ra,xT,hI,Gc,Pb],sI),DX=F([IX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Lj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(n),!0).forEach(function(r){RX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RX(e,t,n){return(t=MX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $X=()=>ne(Et),FX=()=>{var e=$X(),t=ne(gi),n=ne(dI);return cc($j($j({},e),{},{scale:n}),t)},UX=()=>ne(nb),Nb=(e,t)=>t,gI=(e,t,n)=>n,Ab=(e,t,n,r)=>r,zX=F(gi,e=>Rh(e,t=>t.coordinate)),Tb=F([Ds,Nb,gI,Ab],iI),vI=F([Tb,Rs],_b),BX=(e,t,n)=>{if(t!=null){var r=Ds(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},yI=F([Ds,Nb,gI,Ab],oI),Ef=F([di,fi,be,_t,gi,Ab,yI,Gc],aI),WX=F([Tb,Ef],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),xI=F(gi,vI,ZT),KX=F([yI,vI,ra,xT,xI,Gc,Nb],sI),qX=F([Tb],e=>({isActive:e.active,activeIndex:e.index})),HX=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a)){var l=hH(e.chartX,e.chartY,t,n,s);if(l){var c=mH(l,t),u=eH(c,o,a,r,i),f=pH(t,a,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(null,arguments)}function Fj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(n),!0).forEach(function(r){VX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JX(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=e,u=t,f=n,h=r;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=yV;else if(c==="BarChart")p=xV(o,u,i,a),m=u2;else if(o==="radial"){var{cx:g,cy:y,radius:v,startAngle:b,endAngle:w}=d2(u);p={cx:g,cy:y,startAngle:b,endAngle:w,innerRadius:v,outerRadius:v},m=h2}else p={points:QV(o,u,i)},m=cV;var S=typeof s=="object"&&"className"in s?s.className:void 0,j=Wu(Wu(Wu(Wu({stroke:"#ccc",pointerEvents:"none"},i),p),Pe(s,!1)),{},{payload:f,payloadIndex:h,className:xe("recharts-tooltip-cursor",S)});return x.isValidElement(s)?x.cloneElement(s,j):x.createElement(m,j)}function XX(e){var t=FX(),n=t2(),r=E0(),i=UX();return x.createElement(JX,iy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var bI=x.createContext(null),QX=()=>x.useContext(bI),wI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,p),!0;case 6:return y.fn.call(y.context,u,f,h,p,m),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(c,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,u);break;case 3:y[w].fn.call(y[w].context,u,f);break;case 4:y[w].fn.call(y[w].context,u,f,h);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,y=[],v=m.length;g<v;g++)(m[g].fn!==u||h&&!m[g].once||f&&m[g].context!==f)&&y.push(m[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(wI);var ZX=wI.exports;const eQ=Nn(ZX);var gc=new eQ,ay="recharts.syncEvent.tooltip",Uj="recharts.syncEvent.brush";function kI(e,t){if(t){var n=Number.parseInt(t,10);if(!En(n))return e==null?void 0:e[n]}}var tQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},SI=Dn({name:"options",initialState:tQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nQ=SI.reducer,{createEventEmitter:rQ}=SI.actions;function iQ(e){return e.tooltip.syncInteraction}var aQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},jI=Dn({name:"chartData",initialState:aQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:zj,setDataStartEndIndexes:oQ,setComputedData:vce}=jI.actions,sQ=jI.reducer,lQ=["x","y"];function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){cQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cQ(e,t,n){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fQ(e,t){if(e==null)return{};var n,r,i=hQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _I=()=>{};function pQ(){var e=ne(rb),t=ne(ib),n=qe(),r=ne(pT),i=ne(gi),a=E0(),o=j0(),s=ne(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return _I;var l=(c,u,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var p=u.payload.coordinate,{x:m,y:g}=p,y=fQ(p,lQ),v=ca(ca(ca({},y),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),b=ca(ca({},u),{},{payload:ca(ca({},u.payload),{},{coordinate:v})});n(b)}else n(u);return}if(i!=null){var w;if(typeof r=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},j=r(i,S);w=i[j]}else r==="value"&&(w=i.find(R=>String(R.value)===u.payload.label));var{coordinate:k}=u.payload;if(w==null||u.payload.active===!1||k==null||o==null){n(ny({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:N}=k,O=Math.min(C,o.x+o.width),P=Math.min(N,o.y+o.height),I={x:a==="horizontal"?w.coordinate:O,y:a==="horizontal"?P:w.coordinate},A=ny({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});n(A)}}};return gc.on(ay,l),()=>{gc.off(ay,l)}},[s,n,t,e,r,i,a,o])}function mQ(){var e=ne(rb),t=ne(ib),n=qe();x.useEffect(()=>{if(e==null)return _I;var r=(i,a,o)=>{t!==o&&e===i&&n(oQ(a))};return gc.on(Uj,r),()=>{gc.off(Uj,r)}},[n,t,e])}function gQ(){var e=qe();x.useEffect(()=>{e(rQ())},[e]),pQ(),mQ()}function vQ(e,t,n,r,i,a){var o=ne(h=>BX(h,e,t)),s=ne(ib),l=ne(rb),c=ne(pT),u=ne(iQ),f=u==null?void 0:u.active;x.useEffect(()=>{if(!f&&l!=null&&s!=null){var h=ny({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});gc.emit(ay,l,h,s)}},[f,n,o,i,r,s,l,c,a])}function Wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(n),!0).forEach(function(r){yQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yQ(e,t,n){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e){return e.dataKey}function kQ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(YH,t)}var qj=[],SQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!no.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hj(e){var t=pn(e,SQ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:y,trigger:v,defaultIndex:b,portal:w,axisId:S}=t,j=qe(),k=typeof b=="number"?String(b):b;x.useEffect(()=>{j(HJ({shared:y,trigger:v,axisId:S,active:n,defaultIndex:k}))},[j,y,v,S,n,k]);var C=j0(),N=a2(),O=zJ(y),{activeIndex:P,isActive:I}=ne(te=>qX(te,O,v,k)),A=ne(te=>KX(te,O,v,k)),R=ne(te=>xI(te,O,v,k)),L=ne(te=>WX(te,O,v,k)),z=A,W=QX(),$=n??I,[T,U]=_A([z,$]),_=O==="axis"?R:void 0;vQ(O,v,L,_,P,$);var J=w??W;if(J==null)return null;var D=z??qj;$||(D=qj),s&&D.length&&(D=hA(z.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),u,wQ));var E=D.length>0,ee=x.createElement(nV,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:$,coordinate:L,hasPayload:E,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:C,wrapperStyle:m,lastBoundingBox:T,innerRef:U,hasPortalFromProps:!!w},kQ(o,Kj(Kj({},t),{},{payload:D,label:_,active:$,coordinate:L,accessibilityLayer:N})));return x.createElement(x.Fragment,null,yx.createPortal(ee,J),$&&x.createElement(XX,{cursor:g,tooltipEventType:O,coordinate:L,payload:z,index:P}))}var CI={},EI={},PI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},y=()=>{u()},v=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const w=h==null;p(),l&&w&&u()};return v.schedule=p,v.cancel=g,v.flush=y,i==null||i.addEventListener("abort",g,{once:!0}),v}e.debounce=t})(PI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=r.apply(this,g),f=null},i,{edges:c}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI;function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:s})}e.throttle=n})(CI);var jQ=CI.throttle;const _Q=Nn(jQ);var Tl=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wm=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,g=x.useRef(null),y=x.useRef();y.current=p,x.useImperativeHandle(t,()=>g.current);var[v,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((j,k)=>{b(C=>{var N=Math.round(j),O=Math.round(k);return C.containerWidth===N&&C.containerHeight===O?C:{containerWidth:N,containerHeight:O}})},[]);x.useEffect(()=>{var j=O=>{var P,{width:I,height:A}=O[0].contentRect;w(I,A),(P=y.current)===null||P===void 0||P.call(y,I,A)};u>0&&(j=_Q(j,u,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:C,height:N}=g.current.getBoundingClientRect();return w(C,N),k.observe(g.current),()=>{k.disconnect()}},[w,u]);var S=x.useMemo(()=>{var{containerWidth:j,containerHeight:k}=v;if(j<0||k<0)return null;Tl(ja(i)||ja(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Tl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var C=ja(i)?j:i,N=ja(a)?k:a;return n&&n>0&&(C?N=C/n:N&&(C=N*n),l&&N>l&&(N=l)),Tl(C>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,N,i,a,o,s,n),x.Children.map(c,O=>x.cloneElement(O,{width:C,height:N,style:Bm({width:C,height:N},O.props.style)}))},[n,c,a,l,s,o,v,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:xe("recharts-responsive-container",h),style:Bm(Bm({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),OI=e=>null;OI.displayName="Cell";function OQ(e,t,n){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TQ{constructor(t){OQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Gj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function IQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(n),!0).forEach(function(r){DQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LQ={cacheSize:2e3,enableCache:!0},NI=IQ({},LQ),Yj=new TQ(NI.cacheSize),$Q={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Jj="recharts_measurement_span";function FQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var Xj=(e,t)=>{try{var n=document.getElementById(Jj);n||(n=document.createElement("span"),n.setAttribute("id",Jj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,$Q,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Il=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||no.isSsr)return{width:0,height:0};if(!NI.enableCache)return Xj(t,n);var r=FQ(t,n),i=Yj.get(r);if(i)return i;var a=Xj(t,n);return Yj.set(r,a),a},Qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},BQ=Object.keys(AI),Do="NaN";function WQ(e,t){return e*AI[t]}class en{static parse(t){var n,[,r,i]=(n=zQ.exec(t))!==null&&n!==void 0?n:[];return new en(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,En(t)&&(this.unit=""),n!==""&&!UQ.test(n)&&(this.num=NaN,this.unit=""),BQ.includes(n)&&(this.num=WQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return En(this.num)}}function TI(e){if(e.includes(Do))return Do;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=Qj.exec(t))!==null&&n!==void 0?n:[],o=en.parse(r??""),s=en.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Do;t=t.replace(Qj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=Zj.exec(t))!==null&&c!==void 0?c:[],p=en.parse(u??""),m=en.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Do;t=t.replace(Zj,g.toString())}return t}var e_=/\(([^()]*)\)/;function KQ(e){for(var t=e,n;(n=e_.exec(t))!=null;){var[,r]=n;t=t.replace(e_,TI(r))}return t}function qQ(e){var t=e.replace(/\s+/g,"");return t=KQ(t),t=TI(t),t}function HQ(e){try{return qQ(e)}catch{return Do}}function Km(e){var t=HQ(e.slice(5,-1));return t===Do?"":t}var VQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],GQ=["dx","dy","angle","className","breakAll"];function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(null,arguments)}function t_(e,t){if(e==null)return{};var n,r,i=YQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var II=/[ \f\n\r\t\v\u2028\u2029]+/,DI=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];it(t)||(n?i=t.toString().split(""):i=t.toString().split(II));var a=i.map(s=>({word:s,width:Il(s,r).width})),o=n?0:Il("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},JQ=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=le(a),u=o,f=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((A,R)=>{var{word:L,width:z}=R,W=A[A.length-1];if(W&&(r==null||i||W.width+z+n<Number(r)))W.words.push(L),W.width+=z+n;else{var $={words:[L],width:z};A.push($)}return A},[])},h=f(t),p=P=>P.reduce((I,A)=>I.width>A.width?I:A);if(!c||i)return h;var m=h.length>a||p(h).width>Number(r);if(!m)return h;for(var g="",y=P=>{var I=u.slice(0,P),A=DI({breakAll:l,style:s,children:I+g}).wordsWithComputedWidth,R=f(A),L=R.length>a||p(R).width>Number(r);return[L,R]},v=0,b=u.length-1,w=0,S;v<=b&&w<=u.length-1;){var j=Math.floor((v+b)/2),k=j-1,[C,N]=y(k),[O]=y(j);if(!C&&!O&&(v=j+1),C&&O&&(b=j-1),!C&&O){S=N;break}w++}return S||h},n_=e=>{var t=it(e)?[]:e.toString().split(II);return[{words:t}]},XQ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!no.isSsr){var s,l,c=DI({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;s=u,l=f}else return n_(r);return JQ({breakAll:a,children:r,maxLines:o,style:i},s,l,t,n)}return n_(r)},r_="#808080",Jc=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=r_}=e,u=t_(e,VQ),f=x.useMemo(()=>XQ({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:y}=u,v=t_(u,GQ);if(!Rr(n)||!Rr(r)||f.length===0)return null;var b=n+(le(h)?h:0),w=r+(le(p)?p:0),S;switch(l){case"start":S=Km("calc(".concat(a,")"));break;case"middle":S=Km("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:S=Km("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(o){var k=f[0].width,{width:C}=u;j.push("scale(".concat(le(C)?C/k:1,")"))}return m&&j.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),j.length&&(v.transform=j.join(" ")),x.createElement("text",oy({},Pe(v,!0),{ref:t,x:b,y:w,className:xe("recharts-text",g),textAnchor:s,fill:c.includes("url")?r_:c}),f.map((N,O)=>{var P=N.words.join(y?"":" ");return x.createElement("tspan",{x:b,dy:O===0?S:i,key:"".concat(P,"-").concat(O)},P)}))});Jc.displayName="Text";var QQ=["labelRef"];function ZQ(e,t){if(e==null)return{};var n,r,i=eZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(r){tZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tZ(e,t,n){return(t=nZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(null,arguments)}var RI=x.createContext(null),iZ=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,o=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(RI.Provider,{value:o},a)},MI=()=>{var e=x.useContext(RI),t=j0();return e||t},LI=x.createContext(null),aZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=e,c=x.useMemo(()=>({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[t,n,r,i,a,o,s]);return x.createElement(LI.Provider,{value:c},l)},$I=()=>{var e=x.useContext(LI),t=ne(Os);return e||t},oZ=e=>{var{value:t,formatter:n}=e,r=it(e.children)?t:e.children;return typeof n=="function"?n(r):r},Ib=e=>e!=null&&typeof e=="function",sZ=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),360);return n*r},lZ=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=i,m=(c+u)/2,g=sZ(f,h),y=g>=0?1:-1,v,b;switch(t){case"insideStart":v=f+y*a,b=p;break;case"insideEnd":v=h-y*a,b=!p;break;case"end":v=h+y*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Ne(s,l,m,v),S=Ne(s,l,m,v+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),k=it(e.id)?oc("recharts-radial-line-"):e.id;return x.createElement("text",Kr({},r,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:k,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(k)},n))},cZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:u,y:f}=Ne(r,i,o+t,c);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=Ne(r,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},FI=e=>"cx"in e&&le(e.cx),uZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!FI(n)&&(a=n);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,f=u*r,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,g=m*r,y=m>0?"end":"start",v=m>0?"start":"end";if(i==="top"){var b={x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h};return nt(nt({},b),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+c+f,textAnchor:"middle",verticalAnchor:p};return nt(nt({},w),a?{height:Math.max(a.y+a.height-(s+c),0),width:l}:{})}if(i==="left"){var S={x:o-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return nt(nt({},S),a?{width:Math.max(S.x-a.x,0),height:c}:{})}if(i==="right"){var j={x:o+l+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return nt(nt({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:c}:{})}var k=a?{width:l,height:c}:{};return i==="insideLeft"?nt({x:o+g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideRight"?nt({x:o+l-g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideTop"?nt({x:o+l/2,y:s+f,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?nt({x:o+l/2,y:s+c-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?nt({x:o+g,y:s+f,textAnchor:v,verticalAnchor:p},k):i==="insideTopRight"?nt({x:o+l-g,y:s+f,textAnchor:y,verticalAnchor:p},k):i==="insideBottomLeft"?nt({x:o+g,y:s+c-f,textAnchor:v,verticalAnchor:h},k):i==="insideBottomRight"?nt({x:o+l-g,y:s+c-f,textAnchor:y,verticalAnchor:h},k):i&&typeof i=="object"&&(le(i.x)||ja(i.x))&&(le(i.y)||ja(i.y))?nt({x:o+gr(i.x,l),y:s+gr(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):nt({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},dZ={offset:5};function ji(e){var t=pn(e,dZ),{viewBox:n,position:r,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,u=$I(),f=MI(),h=r==="center"?f:u??f,p=n||h;if(!p||it(i)&&it(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var m=nt(nt({},t),{},{viewBox:p});if(x.isValidElement(o)){var g=ZQ(m,QQ);return x.cloneElement(o,g)}var y;if(typeof o=="function"){if(y=x.createElement(o,m),x.isValidElement(y))return y}else y=oZ(t);var v=FI(p),b=Pe(t,!0);if(v&&(r==="insideStart"||r==="insideEnd"||r==="end"))return lZ(t,r,y,b,p);var w=v?cZ(p,t.offset,t.position):uZ(t,p);return x.createElement(Jc,Kr({ref:c,className:xe("recharts-label",s)},b,w,{breakAll:l}),y)}ji.displayName="Label";var UI=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(ji,Kr({key:"label-implicit"},r)):Rr(e)?x.createElement(ji,Kr({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ji?x.cloneElement(e,nt({key:"label-implicit"},r)):x.createElement(ji,Kr({key:"label-implicit",content:e},r)):Ib(e)?x.createElement(ji,Kr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ji,Kr({},e,{key:"label-implicit"},r)):null};function fZ(e){var{label:t}=e,n=MI();return UI(t,n)||null}function hZ(e){var{label:t}=e,n=$I();return UI(t,n)||null}var zI={},BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(BI);var WI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(WI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BI,n=WI,r=Th;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(zI);var pZ=zI.last;const KI=Nn(pZ);var mZ=["valueAccessor"],gZ=["dataKey","clockWise","id","textBreakAll"];function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pf.apply(null,arguments)}function a_(e,t){if(e==null)return{};var n,r,i=vZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var yZ=e=>Array.isArray(e.value)?KI(e.value):e.value,qI=x.createContext(void 0),HI=qI.Provider,VI=x.createContext(void 0);VI.Provider;function xZ(){return x.useContext(qI)}function bZ(){return x.useContext(VI)}function ud(e){var{valueAccessor:t=yZ}=e,n=a_(e,mZ),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,s=a_(n,gZ),l=xZ(),c=bZ(),u=l||c;return!u||!u.length?null:x.createElement(jt,{className:"recharts-label-list"},u.map((f,h)=>{var p,m=it(r)?t(f,h):yt(f&&f.payload,r),g=it(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(ji,Pf({},Pe(f,!0),s,g,{fill:(p=n.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}ud.displayName="LabelList";function GI(e){var{label:t}=e;return t?t===!0?x.createElement(ud,{key:"labelList-implicit"}):x.isValidElement(t)||Ib(t)?x.createElement(ud,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(ud,Pf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var wZ=["points","className","baseLinePoints","connectNulls"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ro.apply(null,arguments)}function kZ(e,t){if(e==null)return{};var n,r,i=SZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o_=e=>e&&e.x===+e.x&&e.y===+e.y,jZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{o_(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),o_(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Dl=(e,t)=>{var n=jZ(e);t&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,s)=>"".concat(a).concat(s===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},_Z=(e,t,n)=>{var r=Dl(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Dl(Array.from(t).reverse(),n).slice(1))},YI=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,a=kZ(e,wZ);if(!t||!t.length)return null;var o=xe("recharts-polygon",n);if(r&&r.length){var s=a.stroke&&a.stroke!=="none",l=_Z(t,r,i);return x.createElement("g",{className:o},x.createElement("path",Ro({},Pe(a,!0),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),s?x.createElement("path",Ro({},Pe(a,!0),{fill:"none",d:Dl(t,i)})):null,s?x.createElement("path",Ro({},Pe(a,!0),{fill:"none",d:Dl(r,i)})):null)}var c=Dl(t,i);return x.createElement("path",Ro({},Pe(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:o,d:c}))};function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(null,arguments)}var Db=e=>{var{cx:t,cy:n,r,className:i}=e,a=xe("recharts-dot",i);return t===+t&&n===+n&&r===+r?x.createElement("circle",sy({},Xt(e),Zx(e),{className:a,cx:t,cy:n,r})):null},JI=e=>e.graphicalItems.polarItems,CZ=F([Re,Kc],lb),Rb=F([JI,at,CZ],ub),EZ=F([Rb],db),Mb=F([EZ,Q0],fb),XI=F([Mb,at,Rb],pb),PZ=F([Mb,at,Rb],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=yt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),s_=()=>{},OZ=F([at,$T,s_,PZ,s_,be,Re],gb),QI=F([at,be,Mb,XI,Bc,Re,OZ],vb),ZI=F([QI,at,ia],xb),NZ=F([at,QI,ZI,Re],wb),Lb=(e,t,n)=>{switch(t){case"angleAxis":return Ps(e,n);case"radiusAxis":return Wc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},$b=(e,t,n)=>{switch(t){case"angleAxis":return YY(e,n);case"radiusAxis":return JY(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ms=F([Lb,ia,NZ,$b],sp),eD=F([be,XI,As,Re],kb),Ls=F([be,Lb,ia,Ms,ZI,$b,Vc,eD,Re],VT);F([be,Lb,Ms,$b,Vc,eD,Re],YT);var AZ=(e,t)=>Ls(e,"angleAxis",t,!1),TZ=F([AZ],e=>{if(e)return e.map(t=>t.coordinate)}),IZ=(e,t)=>Ls(e,"radiusAxis",t,!1),DZ=F([IZ],e=>{if(e)return e.map(t=>t.coordinate)}),RZ=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function MZ(e,t){if(e==null)return{};var n,r,i=LZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ur.apply(null,arguments)}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){$Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Z(e,t,n){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zZ=(e,t,n,r)=>{var i="";return r.forEach((a,o)=>{var s=Ne(t,n,e,a);o?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},BZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=e;if(!a||!a.length||!o)return null;var s=dp({stroke:"#ccc"},Xt(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var c=Ne(t,n,r,l),u=Ne(t,n,i,l);return x.createElement("line",ur({},s,{key:"line-".concat(l),x1:c.x,y1:c.y,x2:u.x,y2:u.y}))}))},c_=e=>{var{cx:t,cy:n,radius:r}=e,i=dp({stroke:"#ccc",fill:"none"},Xt(e));return x.createElement("circle",ur({},i,{className:xe("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},u_=e=>{var{radius:t}=e,n=dp({stroke:"#ccc",fill:"none"},Xt(e));return x.createElement("path",ur({},n,{className:xe("recharts-polar-grid-concentric-polygon",e.className),d:zZ(t,e.cx,e.cy,e.polarAngles)}))},WZ=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(c_,ur({},e,{radius:r})),i&&n!=="circle"&&x.createElement(u_,ur({},e,{radius:r})),t.map((a,o)=>{var s=o;return n==="circle"?x.createElement(c_,ur({key:s},e,{fill:"none",radius:a})):x.createElement(u_,ur({key:s},e,{fill:"none",radius:a}))}))},tD=e=>{var t,n,r,i,a,o,s,l,{gridType:c="polygon",radialLines:u=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:p,cy:m,innerRadius:g,outerRadius:y}=e,v=MZ(e,RZ),b=ne(Os),w=dp({cx:(t=(n=b==null?void 0:b.cx)!==null&&n!==void 0?n:p)!==null&&t!==void 0?t:0,cy:(r=(i=b==null?void 0:b.cy)!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0,innerRadius:(a=(o=b==null?void 0:b.innerRadius)!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0,outerRadius:(s=(l=b==null?void 0:b.outerRadius)!==null&&l!==void 0?l:y)!==null&&s!==void 0?s:0},v),{polarAngles:S,polarRadius:j,outerRadius:k}=w,C=ne(I=>TZ(I,f)),N=ne(I=>DZ(I,h)),O=Array.isArray(S)?S:C,P=Array.isArray(j)?j:N;return k<=0||O==null||P==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(WZ,ur({gridType:c,radialLines:u},w,{polarAngles:O,polarRadius:P})),x.createElement(BZ,ur({gridType:c,radialLines:u},w,{polarAngles:O,polarRadius:P})))};tD.displayName="PolarGrid";var nD={},rD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l>a&&(a=l,i=s)}return i}e.maxBy=t})(rD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rD,n=Dc,r=Ih;function i(a,o){if(a!=null)return t.maxBy(Array.from(a),r.iteratee(o??n.identity))}e.maxBy=i})(nD);var KZ=nD.maxBy;const qZ=Nn(KZ);var iD={},aD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l<a&&(a=l,i=s)}return i}e.minBy=t})(aD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD,n=Dc,r=Ih;function i(a,o){if(a!=null)return t.minBy(Array.from(a),r.iteratee(o??n.identity))}e.minBy=i})(iD);var HZ=iD.minBy;const VZ=Nn(HZ);var GZ={radiusAxis:{},angleAxis:{}},oD=Dn({name:"polarAxis",initialState:GZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:YZ,removeRadiusAxis:JZ,addAngleAxis:XZ,removeAngleAxis:QZ}=oD.actions,ZZ=oD.reducer,eee=["cx","cy","angle","axisLine"],tee=["angle","tickFormatter","stroke","tick"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vc.apply(null,arguments)}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){fp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fp(e,t,n){return(t=nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sD(e,t){if(e==null)return{};var n,r,i=iee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lD="radiusAxis";function aee(e){var t=qe();return x.useEffect(()=>(t(YZ(e)),()=>{t(JZ(e))})),null}var oee=(e,t,n,r)=>{var{coordinate:i}=e;return Ne(n,r,i,t)},see=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},lee=(e,t,n,r)=>{var i=qZ(r,o=>o.coordinate||0),a=VZ(r,o=>o.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},cee=(e,t)=>{var{cx:n,cy:r,angle:i,axisLine:a}=e,o=sD(e,eee),s=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),l=Ne(n,r,s[0],i),c=Ne(n,r,s[1],i),u=Nr(Nr(Nr({},Xt(o)),{},{fill:"none"},Pe(a,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return x.createElement("line",vc({className:"recharts-polar-radius-axis-line"},u))},uee=(e,t,n)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(Jc,vc({},t,{className:"recharts-polar-radius-axis-tick-value"}),n),r},dee=(e,t)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=e,o=sD(e,tee),s=see(e.orientation),l=Xt(o),c=Pe(a,!1),u=t.map((f,h)=>{var p=oee(f,e.angle,e.cx,e.cy),m=Nr(Nr(Nr(Nr({textAnchor:s,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:i},c),{},{index:h},p),{},{payload:f});return x.createElement(jt,vc({className:xe("recharts-polar-radius-axis-tick",JA(a)),key:"tick-".concat(f.coordinate)},js(e,f,h)),uee(a,m,r?r(f.value,h):f.value))});return x.createElement(jt,{className:"recharts-polar-radius-axis-ticks"},u)},fee=e=>{var{radiusAxisId:t}=e,n=ne(Os),r=ne(l=>Ms(l,"radiusAxis",t)),i=ne(l=>Ls(l,"radiusAxis",t,!1));if(n==null||!i||!i.length)return null;var a=Nr(Nr(Nr({},e),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:s}=a;return x.createElement(jt,{className:xe("recharts-polar-radius-axis",lD,a.className)},s&&cee(a,i),o&&dee(a,i),x.createElement(aZ,lee(a.angle,a.cx,a.cy,i),x.createElement(hZ,{label:a.label}),a.children))};class hp extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(aee,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(fee,this.props))}}fp(hp,"displayName","PolarRadiusAxis");fp(hp,"axisType",lD);fp(hp,"defaultProps",tn);var hee=["children"];function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(null,arguments)}function f_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(n),!0).forEach(function(r){pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pp(e,t,n){return(t=pee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gee(e,t){if(e==null)return{};var n,r,i=vee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var h_=1e-5,yee=Math.cos(df(45)),cD="angleAxis";function xee(e){var t=qe(),n=x.useMemo(()=>{var a=gee(e,hee);return a},[e]),r=ne(a=>Ps(a,n.id)),i=n===r;return x.useEffect(()=>(t(XZ(n)),()=>{t(QZ(n))}),[t,n]),i?e.children:null}var bee=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=Ne(n,r,i,e.coordinate),c=Ne(n,r,i+(a==="inner"?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}},wee=(e,t)=>{var n=Math.cos(df(-e.coordinate));return n>h_?t==="outer"?"start":"end":n<-h_?t==="outer"?"end":"start":"middle"},kee=e=>{var t=Math.cos(df(-e.coordinate)),n=Math.sin(df(-e.coordinate));return Math.abs(t)<=yee?n>0?"start":"end":"middle"},See=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=e;if(!a)return null;var s=Pr(Pr({},Xt(e)),{},{fill:"none"},Pe(a,!1));if(i==="circle")return x.createElement(Db,li({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r}));var l=o.map(c=>Ne(t,n,r,c.coordinate));return x.createElement(YI,li({className:"recharts-polar-angle-axis-line"},s,{points:l}))},jee=e=>{var{tick:t,tickProps:n,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,n):typeof t=="function"?t(n):x.createElement(Jc,li({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},_ee=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=e,o=Xt(e),s=Pe(t,!1),l=Pr(Pr({},o),{},{fill:"none"},Pe(n,!1)),c=a.map((u,f)=>{var h=bee(u,e),p=wee(u,e.orientation),m=kee(u),g=Pr(Pr(Pr({},o),{},{textAnchor:p,verticalAnchor:m,stroke:"none",fill:i},s),{},{index:f,payload:u,x:h.x2,y:h.y2});return x.createElement(jt,li({className:xe("recharts-polar-angle-axis-tick",JA(t)),key:"tick-".concat(u.coordinate)},js(e,u,f)),n&&x.createElement("line",li({className:"recharts-polar-angle-axis-tick-line"},l,h)),x.createElement(jee,{tick:t,tickProps:g,value:r?r(u.value,f):u.value}))});return x.createElement(jt,{className:"recharts-polar-angle-axis-ticks"},c)},Cee=e=>{var{angleAxisId:t}=e,n=ne(Os),r=ne(s=>Ms(s,"angleAxis",t)),i=hn(),a=ne(s=>Ls(s,"angleAxis",t,i));if(n==null||!a||!a.length)return null;var o=Pr(Pr(Pr({},e),{},{scale:r},n),{},{radius:n.outerRadius});return x.createElement(jt,{className:xe("recharts-polar-angle-axis",cD,o.className)},x.createElement(See,li({},o,{ticks:a})),x.createElement(_ee,li({},o,{ticks:a})))};class mp extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(xee,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(Cee,this.props))}}pp(mp,"displayName","PolarAngleAxis");pp(mp,"axisType",cD);pp(mp,"defaultProps",Er);var uD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(uD);var Eee=uD.isPlainObject;const Pee=Nn(Eee);function p_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(n),!0).forEach(function(r){Oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oee(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(null,arguments)}var g_=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},Tee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iee=e=>{var t=pn(e,Tee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=x.useRef(),[p,m]=x.useState(-1),g=x.useRef(i),y=x.useRef(a),v=x.useRef(o),b=x.useRef(n),w=x.useRef(r),S=Gh(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var L=h.current.getTotalLength();L&&m(L)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=xe("recharts-trapezoid",s);if(!f)return x.createElement("g",null,x.createElement("path",Of({},Pe(t,!0),{className:j,d:g_(n,r,i,a,o)})));var k=g.current,C=y.current,N=v.current,O=b.current,P=w.current,I="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),R=o2(["strokeDasharray"],c,l);return x.createElement(Vh,{animationId:S,key:S,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},L=>{var z=gt(k,i,L),W=gt(C,a,L),$=gt(N,o,L),T=gt(O,n,L),U=gt(P,r,L);h.current&&(g.current=z,y.current=W,v.current=$,b.current=T,w.current=U);var _=L>0?{transition:R,strokeDasharray:A}:{strokeDasharray:I};return x.createElement("path",Of({},Pe(t,!0),{className:j,d:g_(T,U,z,W,$),ref:h,style:m_(m_({},_),t.style)}))})},Dee=["option","shapeType","propTransformer","activeClassName","isActive"];function Ree(e,t){if(e==null)return{};var n,r,i=Mee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(n),!0).forEach(function(r){Lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lee(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uee(e,t){return Nf(Nf({},t),e)}function zee(e,t){return e==="symbols"}function y_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(u2,n);case"trapezoid":return x.createElement(Iee,n);case"sector":return x.createElement(h2,n);case"symbols":if(zee(t))return x.createElement(i0,n);break;default:return null}}function Bee(e){return x.isValidElement(e)?e.props:e}function Wee(e){var{option:t,shapeType:n,propTransformer:r=Uee,activeClassName:i="recharts-active-shape",isActive:a}=e,o=Ree(e,Dee),s;if(x.isValidElement(t))s=x.cloneElement(t,Nf(Nf({},o),Bee(t)));else if(typeof t=="function")s=t(o);else if(Pee(t)&&typeof t!="boolean"){var l=r(t,o);s=x.createElement(y_,{shapeType:n,elementProps:l})}else{var c=o;s=x.createElement(y_,{shapeType:n,elementProps:c})}return a?x.createElement(jt,{className:i},s):s}var dD=(e,t)=>{var n=qe();return(r,i)=>a=>{e==null||e(r,i,a),n(tI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},fD=e=>{var t=qe();return(n,r)=>i=>{e==null||e(n,r,i),t(VJ())}},hD=(e,t)=>{var n=qe();return(r,i)=>a=>{e==null||e(r,i,a),n(GJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function pD(e){var{fn:t,args:n}=e,r=qe(),i=hn();return x.useEffect(()=>{if(!i){var a=t(n);return r(KJ(a)),()=>{r(qJ(a))}}},[t,n,r,i]),null}var mD=()=>{};function Kee(e){var{legendPayload:t}=e,n=qe(),r=hn();return x.useEffect(()=>r?mD:(n(r2(t)),()=>{n(i2(t))}),[n,r,t]),null}function qee(e){var{legendPayload:t}=e,n=qe(),r=ne(be);return x.useEffect(()=>r!=="centric"&&r!=="radial"?mD:(n(r2(t)),()=>{n(i2(t))}),[n,r,t]),null}var qm,Hee=()=>{var[e]=x.useState(()=>oc("uid-"));return e},Vee=(qm=jC["useId".toString()])!==null&&qm!==void 0?qm:Hee;function Gee(e,t){var n=Vee();return t||(e?"".concat(e,"-").concat(n):n)}var Yee=x.createContext(void 0),gD=e=>{var{id:t,type:n,children:r}=e,i=Gee("recharts-".concat(n),t);return x.createElement(Yee.Provider,{value:i},r(i))},Jee={cartesianItems:[],polarItems:[]},vD=Dn({name:"graphicalItems",initialState:Jee,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Qr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Qr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Qr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Xee,replaceCartesianGraphicalItem:Qee,removeCartesianGraphicalItem:Zee,addPolarGraphicalItem:ete,removePolarGraphicalItem:tte}=vD.actions,nte=vD.reducer;function rte(e){var t=qe(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(Xee(e)):n.current!==e&&t(Qee({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(Zee(n.current)),n.current=null)},[t]),null}function ite(e){var t=qe();return x.useEffect(()=>(t(ete(e)),()=>{t(tte(e))}),[t,e]),null}function x_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(n),!0).forEach(function(r){ate(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ate(e,t,n){return(t=ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ote(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lte={xAxis:{},yAxis:{},zAxis:{}},yD=Dn({name:"cartesianAxis",initialState:lte,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=b_(b_({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:cte,removeXAxis:ute,addYAxis:dte,removeYAxis:fte,addZAxis:yce,removeZAxis:xce,updateYAxisWidth:hte}=yD.actions,pte=yD.reducer,mte=F([_t],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),gte=F([mte,di,fi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),xD=()=>ne(gte),vte=()=>ne(DX);function w_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(n),!0).forEach(function(r){yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wte=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=k_(k_({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Pe(i,!1)),Zx(i)),s;return x.isValidElement(i)?s=x.cloneElement(i,o):typeof i=="function"?s=i(o):s=x.createElement(Db,o),x.createElement(jt,{className:"recharts-active-dot"},s)};function kte(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=ne(Va),o=vte();if(t==null||o==null)return null;var s=t.find(l=>o.includes(l.payload));return it(s)?null:wte({point:s,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(r){Ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ste(e,t,n){return(t=jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bD=(e,t)=>Ms(e,"radiusAxis",t),Cte=F([bD],e=>{if(e!=null)return{scale:e}}),Ete=F([Wc,bD],(e,t)=>{if(!(e==null||t==null))return Af(Af({},e),{},{scale:t})}),Pte=(e,t,n,r)=>Ls(e,"radiusAxis",t,r),wD=(e,t,n)=>Ps(e,n),kD=(e,t,n)=>Ms(e,"angleAxis",n),Ote=F([wD,kD],(e,t)=>{if(!(e==null||t==null))return Af(Af({},e),{},{scale:t})}),Nte=(e,t,n,r)=>Ls(e,"angleAxis",n,r),Ate=F([wD,kD,Os],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),Tte=(e,t,n,r,i)=>i,Ite=F([be,Ete,Pte,Ote,Nte],(e,t,n,r,i)=>ea(e,"radiusAxis")?cc(t,n,!1):cc(r,i,!1)),Dte=F([JI,Tte],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n==null?void 0:n.dataKey}}),Rte=F([Cte,Ate,Q0,Dte,Ite],(e,t,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(!(e==null||t==null||a==null||i==null||r==null)){var l=a.slice(o,s+1);return Kte({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:r,bandSize:i})}}),Mte=["id"];function Lte(e,t){if(e==null)return{};var n,r,i=$te(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function j_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(n),!0).forEach(function(r){Fb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fb(e,t,n){return(t=Fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(null,arguments)}function Ub(e,t){return e&&e!=="none"?e:t}var zte=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Ub(r,i),value:zh(n,t),payload:e}]};function Bte(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:zh(a,t),hide:o,type:s,color:Ub(n,i),unit:""}}}function Wte(e,t){var n;return x.isValidElement(e)?n=x.cloneElement(e,t):typeof e=="function"?n=e(t):n=x.createElement(Db,hs({},t,{className:xe("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),n}function Kte(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=n,l=!1,c=[],u=n.type!=="number"?a??0:0;r.forEach((h,p)=>{var m=yt(h,n.dataKey,p),g=yt(h,i),y=n.scale(m)+u,v=Array.isArray(g)?KI(g):g,b=it(v)?void 0:t.scale(v);Array.isArray(g)&&g.length>=2&&(l=!0),c.push(At(At({},Ne(o,s,b,y)),{},{name:m,value:g,cx:o,cy:s,radius:b,angle:y,payload:h}))});var f=[];return l&&c.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],m=it(p)?void 0:t.scale(p);f.push(At(At({},h),{},{radius:m},Ne(o,s,m,h.angle)))}else f.push(h)}),{points:c,isRange:l,baseLinePoints:f}}function qte(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n;if(!r)return null;var a=Lte(n,Mte),o=Xt(a),s=Pe(r,!0),l=t.map((c,u)=>{var f=At(At(At({key:"dot-".concat(u),r:3},o),s),{},{dataKey:i,cx:c.x,cy:c.y,index:u,payload:c});return Wte(r,f)});return x.createElement(jt,{className:"recharts-radar-dots"},l)}function Hte(e){var{showLabels:t,points:n,children:r}=e,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return At(At({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(HI,{value:t?i:null},r)}function Vte(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,s=u=>{var{onMouseEnter:f}=r;f&&f(r,u)},l=u=>{var{onMouseLeave:f}=r;f&&f(r,u)},c;return x.isValidElement(i)?c=x.cloneElement(i,At(At({},r),{},{points:t})):typeof i=="function"?c=i(At(At({},r),{},{points:t})):c=x.createElement(YI,hs({},Pe(r,!0),{onMouseEnter:s,onMouseLeave:l,points:t,baseLinePoints:a?n:null,connectNulls:o})),x.createElement(jt,{className:"recharts-radar-polygon"},c,x.createElement(qte,{props:r,points:t}))}var __=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return a?At(At({},r),{},{x:gt(a.x,r.x,n),y:gt(a.y,r.y,n)}):At(At({},r),{},{x:gt(r.cx,r.x,n),y:gt(r.cy,r.y,n)})};function Gte(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:f}=t,h=n.current,p=r.current,m=h&&h.length/i.length,g=p&&p.length/a.length,y=Gh(t,"recharts-radar-"),[v,b]=x.useState(!1),w=!v,S=x.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),j=x.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return x.createElement(Hte,{showLabels:w,points:i},x.createElement(Vh,{animationId:y,begin:s,duration:l,isActive:o,easing:c,key:"radar-".concat(y),onAnimationEnd:S,onAnimationStart:j},k=>{var C=k===1?i:i.map(__(h,m,k)),N=k===1?a:a==null?void 0:a.map(__(p,g,k));return k>0&&(n.current=C,r.current=N),x.createElement(Vte,{points:C,baseLinePoints:N,props:t})}),x.createElement(GI,{label:t.label}),t.children)}function Yte(e){var t=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(Gte,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var Jte={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!no.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class Xte extends x.PureComponent{render(){var{hide:t,className:n,points:r}=this.props;if(t||r==null)return null;var i=xe("recharts-radar",n);return x.createElement(x.Fragment,null,x.createElement(jt,{className:i},x.createElement(Yte,this.props)),x.createElement(kte,{points:r,mainColor:Ub(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Qte(e){var t=hn(),n=ne(r=>Rte(r,e.radiusAxisId,e.angleAxisId,t,e.id));return x.createElement(Xte,hs({},e,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class zb extends x.PureComponent{render(){return x.createElement(gD,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(ite,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(qee,{legendPayload:zte(this.props)}),x.createElement(pD,{fn:Bte,args:this.props}),x.createElement(Qte,hs({},this.props,{id:t}))))}}Fb(zb,"displayName","Radar");Fb(zb,"defaultProps",Jte);var Zte=!0,Hm="Invariant failed";function ene(e,t){if(!e){if(Zte)throw new Error(Hm);var n=typeof t=="function"?t():t,r=n?"".concat(Hm,": ").concat(n):Hm;throw new Error(r)}}var tne=["x","y"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ly.apply(null,arguments)}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(r){nne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nne(e,t,n){return(t=rne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rne(e){var t=ine(e,"string");return typeof t=="symbol"?t:t+""}function ine(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e,t){if(e==null)return{};var n,r,i=one(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function one(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sne(e,t){var{x:n,y:r}=e,i=ane(e,tne),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ll(ll(ll(ll(ll({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Bb(e){return x.createElement(Wee,ly({shapeType:"rectangle",propTransformer:sne,activeClassName:"recharts-active-bar"},e))}var lne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(le(t))return t;var a=le(r)||it(r);return a?t(r,i):(a||ene(!1),n)}},cne={},SD=Dn({name:"errorBars",initialState:cne,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});SD.actions;var une=SD.reducer,dne=["children"];function fne(e,t){if(e==null)return{};var n,r,i=hne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mne=x.createContext(pne);function gne(e){var{children:t}=e,n=fne(e,dne);return x.createElement(mne.Provider,{value:n},t)}function jD(e,t){var n,r,i=ne(c=>pi(c,e)),a=ne(c=>mi(c,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:yn.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:xn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function vne(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=xD(),{needClipX:a,needClipY:o,needClip:s}=jD(t,n);if(!s)return null;var{x:l,y:c,width:u,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-u/2,y:o?c:c-f/2,width:a?u:u*2,height:o?f:f*2}))}var yne=["onMouseEnter","onMouseLeave","onClick"],xne=["value","background","tooltipPosition"],bne=["id"],wne=["onMouseEnter","onClick","onMouseLeave"];function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(null,arguments)}function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(r){kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kne(e,t,n){return(t=Sne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tf(e,t){if(e==null)return{};var n,r,i=_ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Cne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:zh(n,t),payload:e}]};function Ene(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:zh(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function Pne(e){var t=ne(Va),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=Tf(a,yne),u=dD(o,r),f=fD(s),h=hD(l,r);if(!i||n==null)return null;var p=Pe(i,!1);return x.createElement(x.Fragment,null,n.map((m,g)=>{var{value:y,background:v,tooltipPosition:b}=m,w=Tf(m,xne);if(!v)return null;var S=u(m,g),j=f(m,g),k=h(m,g),C=qt(qt(qt(qt(qt({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},v),p),js(c,m,g)),{},{onMouseEnter:S,onMouseLeave:j,onClick:k,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return x.createElement(Bb,Hi({key:"background-bar-".concat(C.index)},C))}))}function One(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return qt(qt({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(HI,{value:t?i:void 0},n)}function Nne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=ne(Va),l=ne(pI),c=n&&String(a)===s&&(l==null||o===l),u=c?n:t;return x.createElement(Bb,Hi({},r,i,{isActive:c,option:u,index:a,dataKey:o}))}function Ane(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(Bb,Hi({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function Tne(e){var{data:t,props:n}=e,r=Xt(n),i=Tf(r,bne),{shape:a,dataKey:o,activeBar:s}=n,{onMouseEnter:l,onClick:c,onMouseLeave:u}=n,f=Tf(n,wne),h=dD(l,o),p=fD(u),m=hD(c,o);return t?x.createElement(x.Fragment,null,t.map((g,y)=>x.createElement(jt,Hi({className:"recharts-bar-rectangle"},js(f,g,y),{onMouseEnter:h(g,y),onMouseLeave:p(g,y),onClick:m(g,y),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(y)}),s?x.createElement(Nne,{shape:a,activeBar:s,baseProps:i,entry:g,index:y,dataKey:o}):x.createElement(Ane,{shape:a,baseProps:i,entry:g,index:y,dataKey:o})))):null}function Ine(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=n.current,h=Gh(t,"recharts-bar-"),[p,m]=x.useState(!1),g=!p,y=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),v=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(One,{showLabels:g,rects:r},x.createElement(Vh,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:v,key:h},b=>{var w=b===1?r:r==null?void 0:r.map((S,j)=>{var k=f&&f[j];if(k)return qt(qt({},S),{},{x:gt(k.x,S.x,b),y:gt(k.y,S.y,b),width:gt(k.width,S.width,b),height:gt(k.height,S.height,b)});if(i==="horizontal"){var C=gt(0,S.height,b);return qt(qt({},S),{},{y:S.y+S.height-C,height:C})}var N=gt(0,S.width,b);return qt(qt({},S),{},{width:N})});return b>0&&(n.current=w??null),w==null?null:x.createElement(jt,null,x.createElement(Tne,{props:t,data:w}))}),x.createElement(GI,{label:t.label}),t.children)}function Dne(e){var t=x.useRef(null);return x.createElement(Ine,{previousRectanglesRef:t,props:e})}var _D=0,Rne=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:yt(e,t)}};class Mne extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||n==null)return null;var u=xe("recharts-bar",i),f=c;return x.createElement(jt,{className:u,id:c},s&&x.createElement("defs",null,x.createElement(vne,{clipPathId:f,xAxisId:a,yAxisId:o})),x.createElement(jt,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},x.createElement(Pne,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(Dne,this.props)))}}var Lne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!no.isSsr,legendType:"rect",minPointSize:_D,xAxisId:0,yAxisId:0};function $ne(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=jD(t,n),h=E0(),p=hn(),m=iW(e.children,OI),g=ne(b=>fre(b,t,n,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var y,v=g==null?void 0:g[0];return v==null||v.height==null||v.width==null?y=0:y=h==="vertical"?v.height/2:v.width/2,x.createElement(gne,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:Rne,errorBarOffset:y},x.createElement(Mne,Hi({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Fne(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?s:o,y=u?g.scale.domain():null,v=cH({numericAxis:g});return f.map((b,w)=>{var S,j,k,C,N,O;u?S=rH(u[w],y):(S=yt(b,n),Array.isArray(S)||(S=[v,S]));var P=lne(r,_D)(S[1],w);if(t==="horizontal"){var I,[A,R]=[s.scale(S[0]),s.scale(S[1])];j=xS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:b,index:w}),k=(I=R??A)!==null&&I!==void 0?I:void 0,C=i.size;var L=A-R;if(N=En(L)?0:L,O={x:j,y:h.top,width:C,height:h.height},Math.abs(P)>0&&Math.abs(N)<Math.abs(P)){var z=on(N||P)*(Math.abs(P)-Math.abs(N));k-=z,N+=z}}else{var[W,$]=[o.scale(S[0]),o.scale(S[1])];if(j=W,k=xS({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:b,index:w}),C=$-W,N=i.size,O={x:h.left,y:k,width:h.width,height:N},Math.abs(P)>0&&Math.abs(C)<Math.abs(P)){var T=on(C||P)*(Math.abs(P)-Math.abs(C));C+=T}}if(j==null||k==null||C==null||N==null)return null;var U=qt(qt({},b),{},{x:j,y:k,width:C,height:N,value:u?S:S[1],payload:b,background:O,tooltipPosition:{x:j+C/2,y:k+N/2},parentViewBox:m},p&&p[w]&&p[w].props);return U}).filter(Boolean)}function Une(e){var t=pn(e,Lne),n=hn();return x.createElement(gD,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Kee,{legendPayload:Cne(t)}),x.createElement(pD,{fn:Ene,args:t}),x.createElement(rte,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:lH(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement($ne,Hi({},t,{id:r}))))}var dd=x.memo(Une);dd.displayName="Bar";function P_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(n),!0).forEach(function(r){zne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zne(e,t,n){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kne=(e,t)=>t,qne=(e,t,n)=>n,Hne=(e,t,n,r)=>r,Vne=(e,t,n,r,i)=>i,Xc=F([cb,Vne],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Gne=F([Xc],e=>e==null?void 0:e.maxBarSize),Yne=(e,t,n,r,i,a)=>a,O_=(e,t,n)=>{var r=n??e;if(!it(r))return gr(r,t,0)},Jne=F([be,cb,Kne,qne,Hne],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Xne=(e,t,n,r)=>{var i=be(e);return i==="horizontal"?ty(e,"yAxis",n,r):ty(e,"xAxis",t,r)},Qne=(e,t,n)=>{var r=be(e);return r==="horizontal"?Tj(e,"xAxis",t):Tj(e,"yAxis",n)},Zne=(e,t,n)=>{var r={},i=e.filter(ip),a=e.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),s=Object.entries(o).map(c=>{var[u,f]=c,h=f.map(m=>m.dataKey),p=O_(t,n,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=a.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=O_(t,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...s,...l]},ere=F([Jne,WY,Qne],Zne),tre=(e,t,n,r,i)=>{var a,o,s=Xc(e,t,n,r,i);if(s!=null){var l=be(e),c=fT(e),{maxBarSize:u}=s,f=it(u)?c:u,h,p;return l==="horizontal"?(h=fs(e,"xAxis",t,r),p=ds(e,"xAxis",t,r)):(h=fs(e,"yAxis",n,r),p=ds(e,"yAxis",n,r)),(a=(o=cc(h,p,!0))!==null&&o!==void 0?o:f)!==null&&a!==void 0?a:0}},CD=(e,t,n,r)=>{var i=be(e),a,o;return i==="horizontal"?(a=fs(e,"xAxis",t,r),o=ds(e,"xAxis",t,r)):(a=fs(e,"yAxis",n,r),o=ds(e,"yAxis",n,r)),cc(a,o)};function nre(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=gr(e,n,0,!0),s,l=[];if(On(r[0].barSize)){var c=!1,u=n/a,f=r.reduce((v,b)=>v+(b.barSize||0),0);f+=(a-1)*o,f>=n&&(f-=(a-1)*o,o=0),f>=n&&u>0&&(c=!0,u*=.9,f=a*u);var h=(n-f)/2>>0,p={offset:h-o,size:0};s=r.reduce((v,b)=>{var w,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+o,size:c?u:(w=b.barSize)!==null&&w!==void 0?w:0}},j=[...v,S];return p=j[j.length-1].position,j},l)}else{var m=gr(t,n,0,!0);n-2*m-(a-1)*o<=0&&(o=0);var g=(n-2*m-(a-1)*o)/a;g>1&&(g>>=0);var y=On(i)?Math.min(g,i):g;s=r.reduce((v,b,w)=>[...v,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+o)*w+(g-y)/2,size:y}}],l)}return s}}var rre=(e,t,n,r,i,a,o)=>{var s=it(o)?t:o,l=nre(n,r,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>Ku(Ku({},c),{},{position:Ku(Ku({},c.position),{},{offset:c.position.offset-i/2})}))),l},ire=F([ere,fT,BY,hT,tre,CD,Gne],rre),are=(e,t,n,r)=>fs(e,"xAxis",t,r),ore=(e,t,n,r)=>fs(e,"yAxis",n,r),sre=(e,t,n,r)=>ds(e,"xAxis",t,r),lre=(e,t,n,r)=>ds(e,"yAxis",n,r),cre=F([ire,Xc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),ure=(e,t)=>{var n=ob(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},dre=F([Xne,Xc],ure),fre=F([_t,S0,are,ore,sre,lre,cre,be,Z0,CD,dre,Xc,Yne],(e,t,n,r,i,a,o,s,l,c,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:y}=f,v;if(y!=null&&y.length>0?v=y:v=p==null?void 0:p.slice(m,g+1),v!=null)return Fne({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:v,offset:e,cells:h})}}),ED=e=>{var{chartData:t}=e,n=qe(),r=hn();return x.useEffect(()=>r?()=>{}:(n(zj(t)),()=>{n(zj(void 0))}),[t,n,r]),null},N_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PD=Dn({name:"brush",initialState:N_,reducers:{setBrushSettings(e,t){return t.payload==null?N_:t.payload}}});PD.actions;var hre=PD.reducer;function pre(e,t,n){return(t=mre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mre(e){var t=gre(e,"string");return typeof t=="symbol"?t:t+""}function gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wb{static create(t){return new Wb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}pre(Wb,"EPS",1e-4);function vre(e){return(e%180+180)%180}var yre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vre(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},xre={dots:[],areas:[],lines:[]},OD=Dn({name:"referenceElements",initialState:xre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Qr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Qr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Qr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});OD.actions;var bre=OD.reducer,wre=x.createContext(void 0),kre=e=>{var{children:t}=e,[n]=x.useState("".concat(oc("recharts"),"-clip")),r=xD();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return x.createElement(wre.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function ps(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ND(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function Sre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return yre(r,n)}function jre(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function If(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function _re(e,t){return ND(e,t+1)}function Cre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,u=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:ND(r,c)};var g=l,y,v=()=>(y===void 0&&(y=n(m,g)),y),b=m.coordinate,w=l===0||If(e,b,v,u,s);w||(l=0,u=o,c+=1),w&&(u=b+e*(v()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return(t=Pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nre(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===o-1){var y=e*(p.coordinate+e*g()/2-l);a[h]=p=Mt(Mt({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else a[h]=p=Mt(Mt({},p),{},{tickCoord:p.coordinate});var v=If(e,p.tickCoord,g,s,l);v&&(l=p.tickCoord-e*(g()/2+i),a[h]=Mt(Mt({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Are(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],f=n(u,s-1),h=e*(u.coordinate+e*f/2-c);o[s-1]=u=Mt(Mt({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=If(e,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-e*(f/2+i),o[s-1]=Mt(Mt({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var w=o[b],S,j=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var k=e*(w.coordinate-e*j()/2-l);o[b]=w=Mt(Mt({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[b]=w=Mt(Mt({},w),{},{tickCoord:w.coordinate});var C=If(e,w.tickCoord,j,l,c);C&&(l=w.tickCoord+e*(j()/2+i),o[b]=Mt(Mt({},w),{},{isShow:!0}))},y=0;y<m;y++)g(y);return o}function Kb(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!i||!i.length||!r)return[];if(le(l)||no.isSsr){var h;return(h=_re(i,le(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?Il(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,S)=>{var j=typeof c=="function"?c(w.value,S):w.value;return m==="width"?Sre(Il(j,{fontSize:t,letterSpacing:n}),g,f):Il(j,{fontSize:t,letterSpacing:n})[m]},v=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,b=jre(a,v,m);return l==="equidistantPreserveStart"?Cre(v,b,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Are(v,b,y,i,o,l==="preserveStartEnd"):p=Nre(v,b,y,i,o),p.filter(w=>w.isShow))}var Tre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(n?r:0);return Math.round(c)}return 0},Ire=["axisLine","width","height","className","hide","ticks"],Dre=["viewBox"],Rre=["viewBox"];function cy(e,t){if(e==null)return{};var n,r,i=Mre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ga.apply(null,arguments)}function T_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(n),!0).forEach(function(r){Lre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lre(e,t,n){return(t=$re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $re(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Ure(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=mt(mt(mt({},l),Pe(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=mt(mt({},c),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);c=mt(mt({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",Ga({},c,{className:xe("recharts-cartesian-axis-line",ts(s,"className"))}))}function zre(e,t,n,r,i,a,o,s,l){var c,u,f,h,p,m,g=s?-1:1,y=e.tickSize||o,v=le(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,h=n+ +!s*i,f=h-g*y,m=f-g*l,p=v;break;case"left":f=h=e.coordinate,u=t+ +!s*r,c=u-g*y,p=c-g*l,m=v;break;case"right":f=h=e.coordinate,u=t+ +s*r,c=u+g*y,p=c+g*l,m=v;break;default:c=u=e.coordinate,h=n+ +s*i,f=h+g*y,m=f+g*l,p=v;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function Bre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Wre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Kre(e){var{option:t,tickProps:n,value:r}=e,i,a=xe(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,mt(mt({},n),{},{className:a}));else if(typeof t=="function")i=t(mt(mt({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=xe(o,t==null?void 0:t.className)),i=x.createElement(Jc,Ga({},n,{className:o}),r)}return i}function qre(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:u,x:f,y:h,width:p,height:m,tickSize:g,tickMargin:y,fontSize:v,letterSpacing:b,getTicksConfig:w,events:S}=e,j=Kb(mt(mt({},w),{},{ticks:t}),v,b),k=Bre(c,u),C=Wre(c,u),N=Xt(w),O=Pe(n,!1),P=mt(mt({},N),{},{fill:"none"},Pe(r,!1)),I=j.map((A,R)=>{var{line:L,tick:z}=zre(A,f,h,p,m,c,g,u,y),W=mt(mt(mt(mt({textAnchor:k,verticalAnchor:C},N),{},{stroke:"none",fill:i},O),z),{},{index:R,payload:A,visibleTicksCount:j.length,tickFormatter:a,padding:s},l);return x.createElement(jt,Ga({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},js(S,A,R)),r&&x.createElement("line",Ga({},P,L,{className:xe("recharts-cartesian-axis-tick-line",ts(r,"className"))})),n&&x.createElement(Kre,{option:n,tickProps:W,value:"".concat(typeof a=="function"?a(A.value,R):A.value).concat(o||"")}))});return I.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var Hre=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s}=e,l=cy(e,Ire),[c,u]=x.useState(""),[f,h]=x.useState(""),p=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Tre({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=x.useCallback(g=>{if(g){var y=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(y);var v=y[0];if(v){var b=window.getComputedStyle(v),w=b.fontSize,S=b.letterSpacing;(w!==c||S!==f)&&(u(w),h(S))}}},[c,f]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(jt,{className:xe("recharts-cartesian-axis",a),ref:m},x.createElement(Ure,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Xt(e)}),x.createElement(qre,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),x.createElement(iZ,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(fZ,{label:e.label}),e.children))}),Vre=x.memo(Hre,(e,t)=>{var{viewBox:n}=e,r=cy(e,Dre),{viewBox:i}=t,a=cy(t,Rre);return ps(n,i)&&ps(r,a)}),Hb=x.forwardRef((e,t)=>{var n=pn(e,qb);return x.createElement(Vre,Ga({},n,{ref:t}))});Hb.displayName="CartesianAxis";var Gre=["x1","y1","x2","y2","key"],Yre=["offset"],Jre=["xAxisId","yAxisId"],Xre=["xAxisId","yAxisId"];function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(n),!0).forEach(function(r){Qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qre(e,t,n){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zre(e){var t=eie(e,"string");return typeof t=="symbol"?t:t+""}function eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(null,arguments)}function Df(e,t){if(e==null)return{};var n,r,i=tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function AD(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:o,key:s}=t,l=Df(t,Gre),c=Xt(l),u=Df(c,Yre);n=x.createElement("line",Ea({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function rie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=Df(e,Jre),o=i.map((s,l)=>{var c=$t($t({},a),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return AD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function iie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=Df(e,Xre),o=i.map((s,l)=>{var c=$t($t({},a),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return AD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function aie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?i+o-f:c[h+1]-f;if(m<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function oie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?i+o-f:c[h+1]-f;if(m<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:m,height:s,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var sie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return QA(Kb($t($t($t({},qb),n),{},{ticks:ZA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},lie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return QA(Kb($t($t($t({},qb),n),{},{ticks:ZA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},cie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function uy(e){var t=_0(),n=C0(),r=t2(),i=$t($t({},pn(e,cie)),{},{x:le(e.x)?e.x:r.left,y:le(e.y)?e.y:r.top,width:le(e.width)?e.width:r.width,height:le(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=hn(),g=ne(O=>Ij(O,"xAxis",a,m)),y=ne(O=>Ij(O,"yAxis",o,m));if(!le(c)||c<=0||!le(u)||u<=0||!le(s)||s!==+s||!le(l)||l!==+l)return null;var v=i.verticalCoordinatesGenerator||sie,b=i.horizontalCoordinatesGenerator||lie,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var j=h&&h.length,k=b({yAxis:y?$t($t({},y),{},{ticks:j?h:y.ticks}):void 0,width:t,height:n,offset:r},j?!0:f);Tl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof v=="function"){var C=p&&p.length,N=v({xAxis:g?$t($t({},g),{},{ticks:C?p:g.ticks}):void 0,width:t,height:n,offset:r},C?!0:f);Tl(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(S=N)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(nie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(aie,Ea({},i,{horizontalPoints:w})),x.createElement(oie,Ea({},i,{verticalPoints:S})),x.createElement(rie,Ea({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),x.createElement(iie,Ea({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:y})))}uy.displayName="CartesianGrid";var uie=["dangerouslySetInnerHTML","ticks"],die=["id"],fie=["domain"],hie=["domain"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(null,arguments)}function Rf(e,t){if(e==null)return{};var n,r,i=pie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mie(e){var t=qe();return x.useEffect(()=>(t(cte(e)),()=>{t(ute(e))}),[e,t]),null}var gie=e=>{var{xAxisId:t,className:n}=e,r=ne(S0),i=hn(),a="xAxis",o=ne(p=>Is(p,a,t,i)),s=ne(p=>GT(p,a,t,i)),l=ne(p=>KT(p,t)),c=ne(p=>MJ(p,t)),u=ne(p=>wT(p,t));if(l==null||c==null||u==null)return null;var f=Rf(e,uie),h=Rf(u,die);return x.createElement(Hb,dy({},f,h,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:xe("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s}))},vie={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,height:yn.height,hide:!1,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tickCount:yn.tickCount,type:yn.type,xAxisId:0},yie=e=>{var t,n,r,i,a,o=pn(e,vie);return x.createElement(x.Fragment,null,x.createElement(mie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(gie,o))},xie=(e,t)=>{var{domain:n}=e,r=Rf(e,fie),{domain:i}=t,a=Rf(t,hie);return ps(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:ps({domain:n},{domain:i}):!1},fy=x.memo(yie,xie);fy.displayName="XAxis";var bie=["dangerouslySetInnerHTML","ticks"],wie=["id"],kie=["domain"],Sie=["domain"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(null,arguments)}function Mf(e,t){if(e==null)return{};var n,r,i=jie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _ie(e){var t=qe();return x.useEffect(()=>(t(dte(e)),()=>{t(fte(e))}),[e,t]),null}var Cie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),o=x.useRef(null),s=ne(S0),l=hn(),c=qe(),u="yAxis",f=ne(b=>Is(b,u,t,l)),h=ne(b=>qT(b,t)),p=ne(b=>$J(b,t)),m=ne(b=>GT(b,u,t,l)),g=ne(b=>kT(b,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!h||Ib(i)||x.isValidElement(i)||g==null)){var b=a.current;if(b){var w=b.getCalculatedWidth();Math.round(h.width)!==Math.round(w)&&c(hte({id:t,width:w}))}}},[m,h,c,i,t,r,g]),h==null||p==null||g==null)return null;var y=Mf(e,bie),v=Mf(g,wie);return x.createElement(Hb,hy({},y,v,{ref:a,labelRef:o,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:xe("recharts-".concat(u," ").concat(u),n),viewBox:s,ticks:m}))},Eie={allowDataOverflow:xn.allowDataOverflow,allowDecimals:xn.allowDecimals,allowDuplicatedCategory:xn.allowDuplicatedCategory,hide:!1,mirror:xn.mirror,orientation:xn.orientation,padding:xn.padding,reversed:xn.reversed,scale:xn.scale,tickCount:xn.tickCount,type:xn.type,width:xn.width,yAxisId:0},Pie=e=>{var t,n,r,i,a,o=pn(e,Eie);return x.createElement(x.Fragment,null,x.createElement(_ie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(Cie,o))},Oie=(e,t)=>{var{domain:n}=e,r=Mf(e,kie),{domain:i}=t,a=Mf(t,Sie);return ps(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:ps({domain:n},{domain:i}):!1},py=x.memo(Pie,Oie);py.displayName="YAxis";var Nie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=x;function Aie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tie=typeof Object.is=="function"?Object.is:Aie,Iie=Qc.useSyncExternalStore,Die=Qc.useRef,Rie=Qc.useEffect,Mie=Qc.useMemo,Lie=Qc.useDebugValue;Nie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Die(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Mie(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,Tie(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,f=g)}var c=!1,u,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=Iie(e,a[0],a[1]);return Rie(function(){o.hasValue=!0,o.value=s},[s]),Lie(s),s};function $ie(e){e()}function Fie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$ie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var D_={notify(){},get:()=>[]};function Uie(e,t){let n,r=D_,i=0,a=!1;function o(g){u();const y=r.subscribe(g);let v=!1;return()=>{v||(v=!0,y(),f())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Fie())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=D_)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var zie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bie=zie(),Wie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Kie=Wie(),qie=()=>Bie||Kie?x.useLayoutEffect:x.useEffect,Hie=qie(),Vm=Symbol.for("react-redux-context"),Gm=typeof globalThis<"u"?globalThis:{};function Vie(){if(!x.createContext)return{};const e=Gm[Vm]??(Gm[Vm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Gie=Vie();function Yie(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=Uie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);Hie(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Gie;return x.createElement(s.Provider,{value:a},t)}var Jie=Yie,Xie=(e,t)=>t,Vb=F([Xie,be,Os,bt,uI,gi,zX,_t],HX),Gb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},TD=Xn("mouseClick"),ID=Mc();ID.startListening({actionCreator:TD,effect:(e,t)=>{var n=e.payload,r=Vb(t.getState(),Gb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(YJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var my=Xn("mouseMove"),DD=Mc();DD.startListening({actionCreator:my,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=jb(r,r.tooltip.settings.shared),a=Vb(r,Gb(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(rI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(nI()))}});var R_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},RD=Dn({name:"rootProps",initialState:R_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:R_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Qie=RD.reducer,{updateOptions:Zie}=RD.actions,MD=Dn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:eae}=MD.actions,tae=MD.reducer,LD=Xn("keyDown"),$D=Xn("focus"),Yb=Mc();Yb.startListening({actionCreator:LD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(_b(i,Rs(n))),s=gi(n);if(a==="Enter"){var l=Ef(n,"axis","hover",String(i.index));t.dispatch(ry({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=UJ(n),u=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=o+f*u;if(!(s==null||h>=s.length||h<0)){var p=Ef(n,"axis","hover",String(h));t.dispatch(ry({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Yb.startListening({actionCreator:$D,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Ef(n,"axis","hover",String(a));t.dispatch(ry({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Un=Xn("externalEvent"),FD=Mc();FD.startListening({actionCreator:Un,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:AX(n),activeDataKey:pI(n),activeIndex:Va(n),activeLabel:hI(n),activeTooltipIndex:Va(n),isTooltipActive:TX(n)};e.payload.handler(r,e.payload.reactEvent)}}});var nae=F([Ds],e=>e.tooltipItemPayloads),rae=F([nae,Gc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),UD=Xn("touchMove"),zD=Mc();zD.startListening({actionCreator:UD,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=jb(r,r.tooltip.settings.shared);if(i==="axis"){var a=Vb(r,Gb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(rI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(vH),u=(o=l.getAttribute(yH))!==null&&o!==void 0?o:void 0,f=rae(t.getState(),c,u);t.dispatch(tI({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var iae=EA({brush:hre,cartesianAxis:pte,chartData:sQ,errorBars:une,graphicalItems:nte,layout:Uq,legend:IH,options:nQ,polarAxis:ZZ,polarOptions:tae,referenceElements:bre,rootProps:Qie,tooltip:JJ}),aae=function(t){return dq({reducer:iae,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([ID.middleware,DD.middleware,Yb.middleware,FD.middleware,zD.middleware]),devTools:no.devToolsEnabled})};function BD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=hn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=aae(t));var o=m0;return x.createElement(Jie,{context:o,store:a.current},n)}function WD(e){var{layout:t,width:n,height:r,margin:i}=e,a=qe(),o=hn();return x.useEffect(()=>{o||(a(Lq(t)),a($q({width:n,height:r})),a(Mq(i)))},[a,o,t,n,r,i]),null}function KD(e){var t=qe();return x.useEffect(()=>{t(Zie(e))},[t,e]),null}var oae=["children"];function sae(e,t){if(e==null)return{};var n,r,i=lae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(null,arguments)}var cae={width:"100%",height:"100%"},uae=x.forwardRef((e,t)=>{var n=_0(),r=C0(),i=a2();if(!os(n)||!os(r))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,x.createElement(e0,Lf({},o,{title:s,desc:l,role:u,tabIndex:c,width:n,height:r,style:cae,ref:t}),a)}),dae=e=>{var{children:t}=e,n=ne(qh);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return x.createElement(e0,{width:r,height:i,x:o,y:a},t)},M_=x.forwardRef((e,t)=>{var{children:n}=e,r=sae(e,oae),i=hn();return i?x.createElement(dae,null,n):x.createElement(uae,Lf({ref:t},r),n)});function fae(){var e=qe(),[t,n]=x.useState(null),r=ne(gH);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;On(a)&&a!==r&&e(Fq(a))}},[t,e,r]),n}function L_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(n),!0).forEach(function(r){pae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pae(e,t,n){return(t=mae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mae(e){var t=gae(e,"string");return typeof t=="symbol"?t:t+""}function gae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vae=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:y,width:v}=e,b=qe(),[w,S]=x.useState(null),[j,k]=x.useState(null);gQ();var C=fae(),N=x.useCallback(D=>{C(D),typeof t=="function"&&t(D),S(D),k(D)},[C,t,S,k]),O=x.useCallback(D=>{b(TD(D)),b(Un({handler:a,reactEvent:D}))},[b,a]),P=x.useCallback(D=>{b(my(D)),b(Un({handler:c,reactEvent:D}))},[b,c]),I=x.useCallback(D=>{b(nI()),b(Un({handler:u,reactEvent:D}))},[b,u]),A=x.useCallback(D=>{b(my(D)),b(Un({handler:f,reactEvent:D}))},[b,f]),R=x.useCallback(()=>{b($D())},[b]),L=x.useCallback(D=>{b(LD(D.key))},[b]),z=x.useCallback(D=>{b(Un({handler:o,reactEvent:D}))},[b,o]),W=x.useCallback(D=>{b(Un({handler:s,reactEvent:D}))},[b,s]),$=x.useCallback(D=>{b(Un({handler:l,reactEvent:D}))},[b,l]),T=x.useCallback(D=>{b(Un({handler:h,reactEvent:D}))},[b,h]),U=x.useCallback(D=>{b(Un({handler:g,reactEvent:D}))},[b,g]),_=x.useCallback(D=>{b(UD(D)),b(Un({handler:m,reactEvent:D}))},[b,m]),J=x.useCallback(D=>{b(Un({handler:p,reactEvent:D}))},[b,p]);return x.createElement(bI.Provider,{value:w},x.createElement(DN.Provider,{value:j},x.createElement("div",{className:xe("recharts-wrapper",r),style:hae({position:"relative",cursor:"default",width:v,height:i},y),onClick:O,onContextMenu:z,onDoubleClick:W,onFocus:R,onKeyDown:L,onMouseDown:$,onMouseEnter:P,onMouseLeave:I,onMouseMove:A,onMouseUp:T,onTouchEnd:J,onTouchMove:_,onTouchStart:U,ref:N},n)))}),yae=["children","className","width","height","style","compact","title","desc"];function xae(e,t){if(e==null)return{};var n,r,i=bae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qD=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,u=xae(e,yae),f=Xt(u);return s?x.createElement(M_,{otherAttributes:f,title:l,desc:c},n):x.createElement(vae,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(M_,{otherAttributes:f,title:l,desc:c,ref:t},x.createElement(kre,null,n)))}),wae=["width","height"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(null,arguments)}function kae(e,t){if(e==null)return{};var n,r,i=Sae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jae={top:5,right:5,bottom:5,left:5},_ae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jae,reverseStackOrder:!1,syncMethod:"index"},Cae=x.forwardRef(function(t,n){var r,i=pn(t.categoricalChartProps,_ae),{width:a,height:o}=i,s=kae(i,wae);if(!os(a)||!os(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(BD,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},x.createElement(ED,{chartData:h.data}),x.createElement(WD,{width:a,height:o,layout:i.layout,margin:i.margin}),x.createElement(KD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(qD,gy({},s,{width:a,height:o,ref:n})))}),Eae=["axis","item"],$_=x.forwardRef((e,t)=>x.createElement(Cae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eae,tooltipPayloadSearcher:kI,categoricalChartProps:e,ref:t}));function Pae(e){var t=qe();return x.useEffect(()=>{t(eae(e))},[t,e]),null}var Oae=["width","height","layout"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function Nae(e,t){if(e==null)return{};var n,r,i=Aae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Tae={top:5,right:5,bottom:5,left:5},Iae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Tae,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Dae=x.forwardRef(function(t,n){var r,i=pn(t.categoricalChartProps,Iae),{width:a,height:o,layout:s}=i,l=Nae(i,Oae);if(!os(a)||!os(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(BD,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},x.createElement(ED,{chartData:i.data}),x.createElement(WD,{width:a,height:o,layout:s,margin:i.margin}),x.createElement(KD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Pae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(qD,vy({width:a,height:o},l,{ref:n})))}),Rae=["axis"],Mae={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Lae=x.forwardRef((e,t)=>{var n=pn(e,Mae);return x.createElement(Dae,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rae,tooltipPayloadSearcher:kI,categoricalChartProps:n,ref:t})});const Jr=({children:e,className:t="",header:n,subheader:r,actions:i})=>d.jsxs("div",{className:`card rounded-lg border ${t}`,style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[(n||r||i)&&d.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[n&&d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),r&&d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:r})]}),i&&d.jsx("div",{className:"flex items-center space-x-2",children:i})]})}),d.jsx("div",{className:"p-6",children:e})]}),$ae={relevance:85,tone:92,length:78,accuracy:88,toxicity:95,promptable:82},Fae=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],score:Math.floor(Math.random()*20)+70})}return n},Uae=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],userCount:Math.floor(Math.random()*50)+10,assistantCount:Math.floor(Math.random()*50)+10})}return n},F_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),$ae;throw new Error("Analytics API not implemented")},U_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Fae(e);throw new Error("Analytics API not implemented")},z_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Uae(e);throw new Error("Analytics API not implemented")},zae=()=>{const{t:e}=et(),[t,n]=x.useState(null),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState("7d");x.useEffect(()=>{(async()=>{l(!0);try{const[m,g,y]=await Promise.all([F_(c),U_(c),z_(c)]);n(m),i(g),o(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},[c]);const f=()=>{(async()=>{l(!0);try{const[m,g,y]=await Promise.all([F_(c),U_(c),z_(c)]);n(m),i(g),o(y)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},h=()=>{if(!t)return 0;const p=Object.values(t);return Math.round(p.reduce((m,g)=>m+g,0)/p.length)};return s?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading analytics..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Jr,{header:e("dashboard.title"),subheader:`Overall Score: ${h()}%`,actions:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"7d",children:"Last 7 days"}),d.jsx("option",{value:"30d",children:"Last 30 days"}),d.jsx("option",{value:"90d",children:"Last 90 days"})]}),d.jsx("button",{onClick:f,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[d.jsx("div",{className:"h-80",children:d.jsx(Wm,{width:"100%",height:"100%",children:d.jsxs(Lae,{data:t?[t]:[],children:[d.jsx(tD,{}),d.jsx(mp,{dataKey:"subject"}),d.jsx(hp,{angle:90,domain:[0,100]}),d.jsx(zb,{name:"Performance",dataKey:"relevance",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Relevance:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.relevance,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tone:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.tone,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Length:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.length,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Accuracy:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.accuracy,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Toxicity:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.toxicity,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Promptable:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.promptable,"%"]})]})]})]}),d.jsx(Jr,{header:e("dashboard.timeline"),subheader:"Daily performance scores over time",children:d.jsx("div",{className:"h-80",children:d.jsx(Wm,{width:"100%",height:"100%",children:d.jsxs($_,{data:r,children:[d.jsx(uy,{strokeDasharray:"3 3"}),d.jsx(fy,{dataKey:"ts"}),d.jsx(py,{domain:[0,100]}),d.jsx(Hj,{}),d.jsx(dd,{dataKey:"score",fill:"#8884d8"})]})})})}),d.jsx(Jr,{header:e("dashboard.activity"),subheader:"Message volume by role",children:d.jsx("div",{className:"h-80",children:d.jsx(Wm,{width:"100%",height:"100%",children:d.jsxs($_,{data:a,children:[d.jsx(uy,{strokeDasharray:"3 3"}),d.jsx(fy,{dataKey:"ts"}),d.jsx(py,{}),d.jsx(Hj,{}),d.jsx(Hh,{}),d.jsx(dd,{dataKey:"userCount",name:"User Messages",fill:"#8884d8"}),d.jsx(dd,{dataKey:"assistantCount",name:"Assistant Messages",fill:"#82ca9d"})]})})})})]})};function Rl({columns:e,data:t,loading:n=!1,sortable:r=!0,pagination:i,onSort:a,className:o=""}){const[s,l]=x.useState(""),[c,u]=x.useState("asc"),f=p=>{if(!r||!a)return;const m=s===p&&c==="asc"?"desc":"asc";l(p),u(m),a(p,m)},h=p=>s!==p?"":c==="asc"?"":"";return n?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading..."})}):d.jsxs("div",{className:`overflow-hidden ${o}`,children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"sticky top-0",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsx("tr",{children:e.map(p=>d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${p.sortable&&r?"cursor-pointer hover:bg-gray-50":""}`,style:{color:"var(--text-muted)",width:p.width},onClick:()=>p.sortable&&f(String(p.key)),children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{children:p.label}),p.sortable&&r&&d.jsx("span",{className:"text-xs",children:h(String(p.key))})]})},String(p.key)))})}),d.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border)"},children:t.map((p,m)=>d.jsx("tr",{className:"hover:bg-gray-50",children:e.map(g=>d.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--text)"},children:g.render?g.render(p[g.key],p):String(p[g.key]||"")},String(g.key)))},m))})]})}),i&&d.jsxs("div",{className:"px-4 py-3 border-t flex items-center justify-between",style:{borderColor:"var(--border)"},children:[d.jsx("div",{className:"flex items-center space-x-2",children:d.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",(i.page-1)*i.pageSize+1," to"," ",Math.min(i.page*i.pageSize,i.total)," of"," ",i.total," results"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:i.pageSize,onChange:p=>i.onPageSizeChange(Number(p.target.value)),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:10,children:"10 per page"}),d.jsx("option",{value:25,children:"25 per page"}),d.jsx("option",{value:50,children:"50 per page"}),d.jsx("option",{value:100,children:"100 per page"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("button",{onClick:()=>i.onPageChange(i.page-1),disabled:i.page<=1,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Previous"}),d.jsx("span",{className:"px-3 py-1 text-sm",style:{color:"var(--text)"},children:i.page}),d.jsx("button",{onClick:()=>i.onPageChange(i.page+1),disabled:i.page*i.pageSize>=i.total,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Next"})]})]})]})]})}const fd=({status:e,children:t})=>{const n=r=>{switch(r){case"open":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"closed":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"synced":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"error":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"queued":return{backgroundColor:"var(--warning-light)",color:"var(--warning)",border:"1px solid var(--warning)"};case"indexing":return{backgroundColor:"var(--primary-light)",color:"var(--primary)",border:"1px solid var(--primary)"};default:return{backgroundColor:"var(--border-light)",color:"var(--text-muted)",border:"1px solid var(--border)"}}};return d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:n(e),children:t})},Bae=({children:e,left:t,right:n,className:r=""})=>d.jsxs("div",{className:`flex items-center justify-between py-4 ${r}`,children:[d.jsx("div",{className:"flex items-center space-x-4",children:t}),d.jsx("div",{className:"flex items-center space-x-4",children:n})]}),Wae=({isOpen:e,onClose:t,title:n,children:r,className:i=""})=>{const a=x.useRef(null);return x.useEffect(()=>{const o=s=>{s.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),x.useEffect(()=>{e&&a.current&&a.current.focus()},[e]),e?d.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),d.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md",children:d.jsxs("div",{ref:a,className:`h-full flex flex-col ${i}`,style:{backgroundColor:"var(--card)"},tabIndex:-1,children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[d.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),d.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:""})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r})]})})]}):null},Kae=[{id:"1",title:"PSDAP Program Discussion",status:"open",lastAt:"2024-01-15T10:30:00Z",messageCount:12},{id:"2",title:"API Integration Help",status:"closed",lastAt:"2024-01-14T15:45:00Z",messageCount:8},{id:"3",title:"General Questions",status:"open",lastAt:"2024-01-13T09:20:00Z",messageCount:15}],qae=[{id:"1",sessionId:"1",role:"user",content:"What is the PSDAP program?",createdAt:"2024-01-15T10:30:00Z"},{id:"2",sessionId:"1",role:"assistant",content:"The PSDAP program is a comprehensive development initiative...",createdAt:"2024-01-15T10:31:00Z",feedback:"up",citations:[{sourceType:"document",title:"PSDAP Program Guide",snippet:"The PSDAP program provides..."}]}],B_=[{id:"1",requestId:"req-123",corrected:"The PSDAP program is a comprehensive development initiative that focuses on...",createdAt:"2024-01-15T11:00:00Z"}],W_=[{id:"1",messageId:"2",rating:1,note:"Very helpful response",createdAt:"2024-01-15T10:35:00Z"}],Hae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Kae];e.search&&(t=t.filter(o=>o.title.toLowerCase().includes(e.search.toLowerCase()))),e.status&&e.status!=="all"&&(t=t.filter(o=>o.status===e.status)),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Vae=async(e,t={})=>{await new Promise(s=>setTimeout(s,300));const n=qae.filter(s=>s.sessionId===e),r=t.page||1,i=t.pageSize||10,a=(r-1)*i,o=a+i;return{rows:n.slice(a,o),total:n.length}},Gae=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:B_,total:B_.length}),Yae=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:W_,total:W_.length}),Jae=()=>{const{t:e}=et(),t=In(),[n,r]=x.useState("sessions"),[i,a]=x.useState(null),[o,s]=x.useState([]),[l,c]=x.useState([]),[u,f]=x.useState([]),[h,p]=x.useState([]),[m,g]=x.useState(!1),[y,v]=x.useState(null),[b,w]=x.useState(!1),[S,j]=x.useState(""),[k,C]=x.useState("all"),[N,O]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{P(),A()},[S,k,N.page,N.pageSize]),x.useEffect(()=>{i&&I(i)},[i]);const P=async()=>{g(!0);try{const T=await Hae({page:N.page,pageSize:N.pageSize,search:S,status:k});s(T.rows),O(U=>({...U,total:T.total}))}catch(T){console.error("Failed to fetch sessions:",T)}finally{g(!1)}},I=async T=>{try{const U=await Vae(T,{page:1,pageSize:50});c(U.rows)}catch(U){console.error("Failed to fetch messages:",U)}},A=async()=>{try{const[T,U]=await Promise.all([Gae(),Yae()]);f(T.rows),p(U.rows)}catch(T){console.error("Failed to fetch feedback:",T)}},R=async(T,U,_)=>{try{switch(T){case"open":t(`/chat/${U}`);break;case"rename":_&&console.log("Renaming session:",U,_);break;case"close":console.log("Closing session:",U);break;case"delete":console.log("Deleting session:",U);break}}catch(J){console.error("Failed to perform session action:",J)}},L=T=>{v(T),w(!0)},z=()=>{const T=[["Title","Status","Last Activity","Message Count"],...o.map(D=>[D.title,D.status,new Date(D.lastAt).toLocaleString(),D.messageCount.toString()])].map(D=>D.join(",")).join(`
`),U=new Blob([T],{type:"text/csv"}),_=window.URL.createObjectURL(U),J=document.createElement("a");J.href=_,J.download="sessions.csv",J.click(),window.URL.revokeObjectURL(_)},W=[{key:"title",label:e("labels.title"),sortable:!0,render:(T,U)=>d.jsx("button",{onClick:()=>a(U.id),className:"text-left hover:underline",style:{color:"var(--text)"},children:T})},{key:"status",label:e("labels.status"),render:T=>d.jsx(fd,{status:T,children:T})},{key:"lastAt",label:e("labels.lastActivity"),render:T=>new Date(T).toLocaleString()},{key:"messageCount",label:e("labels.count"),render:T=>T.toString()},{key:"actions",label:"Actions",render:(T,U)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>R("open",U.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.open")}),d.jsx("button",{onClick:()=>R("close",U.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.close")}),d.jsx("button",{onClick:()=>R("delete",U.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.delete")})]})}],$=[{key:"createdAt",label:"Time",render:T=>new Date(T).toLocaleString()},{key:"role",label:"Role",render:T=>d.jsx("span",{className:`px-2 py-1 rounded text-xs ${T==="user"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:T})},{key:"content",label:"Content",render:T=>d.jsx("div",{className:"max-w-xs truncate",title:T,children:T})},{key:"feedback",label:"Feedback",render:T=>T?d.jsx("span",{className:`px-2 py-1 rounded text-xs ${T==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T==="up"?"":""}):"-"},{key:"actions",label:"Actions",render:(T,U)=>d.jsx("button",{onClick:()=>L(U),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"})}];return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>r("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="sessions"?"var(--primary)":"var(--text-secondary)"},children:e("usage.sessions")}),d.jsx("button",{onClick:()=>r("feedback"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="feedback"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="feedback"?"var(--primary)":"var(--text-secondary)"},children:e("usage.feedback.admin")})]})}),n==="sessions"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Jr,{header:e("usage.sessions"),actions:d.jsx("button",{onClick:z,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Export CSV"}),children:[d.jsx(Bae,{left:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("input",{type:"text",placeholder:e("filters.search"),value:S,onChange:T=>j(T.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),d.jsxs("select",{value:k,onChange:T=>C(T.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"open",children:"Open"}),d.jsx("option",{value:"closed",children:"Closed"})]})]})}),d.jsx(Rl,{columns:W,data:o,loading:m,pagination:{page:N.page,pageSize:N.pageSize,total:N.total,onPageChange:T=>O(U=>({...U,page:T})),onPageSizeChange:T=>O(U=>({...U,pageSize:T,page:1}))}})]}),i&&d.jsx(Jr,{header:e("usage.messages"),children:d.jsx(Rl,{columns:$,data:l,loading:m})})]}),n==="feedback"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jr,{header:e("usage.feedback.admin"),children:d.jsx("div",{className:"space-y-4",children:u.map(T=>d.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Request ID: ",T.requestId]}),d.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(T.createdAt).toLocaleString()})]}),d.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:T.corrected})]},T.id))})}),d.jsx(Jr,{header:e("usage.feedback.user"),children:d.jsx("div",{className:"space-y-4",children:h.map(T=>d.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Message ID: ",T.messageId]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 rounded text-xs ${T.rating===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.rating===1?"":""}),d.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(T.createdAt).toLocaleString()})]})]}),T.note&&d.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:T.note})]},T.id))})})]}),d.jsx(Wae,{isOpen:b,onClose:()=>w(!1),title:"Message Details",children:y&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"Content"}),d.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:y.content})})]}),y.citations&&y.citations.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"References"}),d.jsx("div",{className:"space-y-2",children:y.citations.map((T,U)=>d.jsxs("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:[d.jsx("div",{className:"font-medium text-sm",style:{color:"var(--text)"},children:T.title}),T.snippet&&d.jsx("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:T.snippet}),T.url&&d.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"View Source"})]},U))})]})]})})]})},Xae=()=>{const{t:e}=et(),[t,n]=x.useState(""),[r,i]=x.useState("gpt-4"),[a,o]=x.useState("https://api.openai.com/v1/chat/completions"),[s,l]=x.useState(null),[c,u]=x.useState(!1),[f,h]=x.useState(""),[p,m]=x.useState(""),[g,y]=x.useState(!1);x.useEffect(()=>{const k=localStorage.getItem("axpro_system_prompt");k&&n(k);const C=localStorage.getItem("axpro_prompt_last_updated");C&&l(JSON.parse(C))},[]);const v=()=>{localStorage.setItem("axpro_system_prompt",t);const k={by:"admin@tecace.com",timestamp:new Date().toISOString()};localStorage.setItem("axpro_prompt_last_updated",JSON.stringify(k)),l(k),alert("Prompt saved successfully!")},b=()=>{if(confirm("Are you sure you want to revert to the last saved version?")){const k=localStorage.getItem("axpro_system_prompt");k&&n(k)}},w=async()=>{if(f.trim()){y(!0);try{await new Promise(k=>setTimeout(k,2e3)),m(`This is a test response for: "${f}"

Generated by ${r} at ${a}`)}catch{m("Error: Failed to get test response")}finally{y(!1)}}},S=t.length,j=4e3;return d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jr,{header:e("mgmt.prompt"),subheader:"Configure the system prompt for the chatbot",actions:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:b,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.revert")}),d.jsx("button",{onClick:v,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.save")}),d.jsx("button",{onClick:()=>u(!0),className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.test")})]}),children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Model"}),d.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Endpoint"}),d.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"System Prompt"}),d.jsx("textarea",{value:t,onChange:k=>n(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:12,placeholder:"Enter the system prompt for the chatbot..."}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:[S," / ",j," characters"]}),S>j&&d.jsx("span",{className:"text-xs text-red-600",children:"Exceeds maximum length"})]})]}),s&&d.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated by ",s.by," on ",new Date(s.timestamp).toLocaleString()]})]})}),c&&d.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>u(!1)}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:d.jsx("div",{className:"w-full max-w-2xl rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Test Prompt"}),d.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-md hover:bg-gray-100",style:{color:"var(--text-secondary)"},children:""})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Test Input"}),d.jsx("textarea",{value:f,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:3,placeholder:"Enter a test message..."})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Cancel"}),d.jsx("button",{onClick:w,disabled:g||!f.trim(),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50 disabled:opacity-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:g?"Testing...":"Test"})]}),p&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Response"}),d.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:p})})]})]})]})})})]})]})},Qae=[{id:"1",name:"PSDAP_Program_Guide.pdf",size:2048576,lastModified:"2024-01-15T10:00:00Z",contentType:"application/pdf"},{id:"2",name:"API_Documentation.md",size:512e3,lastModified:"2024-01-14T15:30:00Z",contentType:"text/markdown"},{id:"3",name:"User_Manual.docx",size:1024e3,lastModified:"2024-01-13T09:15:00Z",contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}],Zae=[{id:"1",name:"PSDAP_Program_Guide.pdf",chunks:45,status:"synced",lastIndexedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"API_Documentation.md",chunks:12,status:"indexing",lastIndexedAt:"2024-01-14T16:00:00Z"},{id:"3",name:"User_Manual.docx",chunks:0,status:"queued"}],eoe=[{id:"1",name:"PSDAP_Program_Guide.pdf",blobStatus:"present",chunks:45,syncStatus:"synced"},{id:"2",name:"API_Documentation.md",blobStatus:"present",chunks:12,syncStatus:"stale"},{id:"3",name:"User_Manual.docx",blobStatus:"missing",chunks:0,syncStatus:"error"}],toe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Qae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},noe=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Deleting file:",e)},roe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Zae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l===void 0||c===void 0?0:l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},ioe=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Reindexing:",e)},aoe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...eoe];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},ooe=()=>{const{t:e}=et(),[t,n]=x.useState("files"),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(!1),[f,h]=x.useState(""),[p,m]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{g()},[t,f,p.page,p.pageSize]);const g=async()=>{u(!0);try{let O;switch(t){case"files":O=await toe({page:p.page,pageSize:p.pageSize,search:f}),i(O.rows);break;case"index":O=await roe({page:p.page,pageSize:p.pageSize,search:f}),o(O.rows);break;case"sync":O=await aoe({page:p.page,pageSize:p.pageSize,search:f}),l(O.rows);break}m(P=>({...P,total:O.total}))}catch(O){console.error("Failed to fetch data:",O)}finally{u(!1)}},y=async O=>{if(confirm("Are you sure you want to delete this file?"))try{await noe(O),g()}catch(P){console.error("Failed to delete file:",P)}},v=async O=>{try{await ioe(O),g()}catch(P){console.error("Failed to reindex:",P)}},b=O=>{if(O===0)return"0 Bytes";const P=1024,I=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(O)/Math.log(P));return parseFloat((O/Math.pow(P,A)).toFixed(2))+" "+I[A]},w=O=>new Date(O).toLocaleString(),S=[{key:"name",label:"Filename",sortable:!0,render:O=>d.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"size",label:"Size",sortable:!0,render:O=>b(O)},{key:"lastModified",label:"Last Modified",sortable:!0,render:O=>w(O)},{key:"contentType",label:"Type",render:O=>d.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:O})},{key:"actions",label:"Actions",render:(O,P)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>window.open(`/files/${P.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"}),d.jsx("button",{onClick:()=>window.open(`/files/${P.id}/download`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Download"}),d.jsx("button",{onClick:()=>y(P.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Delete"})]})}],j=[{key:"name",label:"Filename",sortable:!0,render:O=>d.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"chunks",label:"Chunks",sortable:!0,render:O=>O.toString()},{key:"status",label:"Status",render:O=>d.jsx(fd,{status:O,children:O})},{key:"lastIndexedAt",label:"Last Indexed",sortable:!0,render:O=>O?w(O):"-"},{key:"actions",label:"Actions",render:(O,P)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>v(P.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Reindex"}),d.jsx("button",{onClick:()=>window.open(`/index/${P.id}/chunks`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View Chunks"})]})}],k=[{key:"name",label:"Filename",sortable:!0,render:O=>d.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:O})},{key:"blobStatus",label:"Blob Status",render:O=>d.jsx(fd,{status:O,children:O})},{key:"chunks",label:"Chunks",sortable:!0,render:O=>O.toString()},{key:"syncStatus",label:"Sync Status",render:O=>d.jsx(fd,{status:O,children:O})},{key:"actions",label:"Actions",render:(O,P)=>d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{onClick:()=>window.open(`/sync/${P.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Open"})})}],C=()=>{switch(t){case"files":return r;case"index":return a;case"sync":return s;default:return[]}},N=()=>{switch(t){case"files":return S;case"index":return j;case"sync":return k;default:return[]}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"files",label:"File Library"},{key:"index",label:"Knowledge Index"},{key:"sync",label:"Sync Overview"}].map(O=>d.jsx("button",{onClick:()=>n(O.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===O.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:t===O.key?"var(--primary)":"var(--text-secondary)"},children:O.label},O.key))})}),d.jsxs(Jr,{header:e("mgmt.knowledge"),actions:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:O=>h(O.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),d.jsx("button",{onClick:g,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[t==="files"&&d.jsxs("div",{children:[d.jsx("div",{className:"mb-4 p-4 border-2 border-dashed rounded",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-secondary)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"File upload is disabled in mock mode"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"In production, you can drag and drop files here to upload them"})]})}),d.jsx(Rl,{columns:N(),data:C(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(P=>({...P,page:O})),onPageSizeChange:O=>m(P=>({...P,pageSize:O,page:1}))}})]}),t==="index"&&d.jsx(Rl,{columns:N(),data:C(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(P=>({...P,page:O})),onPageSizeChange:O=>m(P=>({...P,pageSize:O,page:1}))}}),t==="sync"&&d.jsx(Rl,{columns:N(),data:C(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:O=>m(P=>({...P,page:O})),onPageSizeChange:O=>m(P=>({...P,pageSize:O,page:1}))}})]})]})},qu=()=>{var p;const e=In(),t=Qa(),{theme:n,toggleTheme:r}=Za(),{language:i,setLanguage:a,t:o}=et(),{logout:s}=Y$(),[l,c]=x.useState(null);Wi.useEffect(()=>{const m=Dr();m&&c({email:m.email,role:m.role})},[Dr]);const u=async()=>{await s(),e("/")},f=[{group:"Dashboard",items:[{key:"overview",label:o("dashboard.title"),path:"/admin"}]},{group:"Analytics",items:[{key:"usage",label:o("usage.sessions"),path:"/admin/usage"}]},{group:"Management",items:[{key:"prompt",label:o("mgmt.prompt"),path:"/admin/prompt"},{key:"knowledge",label:o("mgmt.knowledge"),path:"/admin/knowledge"}]}],h=m=>t.pathname===m;return d.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"flex",children:[d.jsxs("div",{className:"w-64 h-screen border-r sticky top-0",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[d.jsx("div",{className:"p-6",children:d.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text)"},children:"AX Pro Admin"})}),d.jsx("nav",{className:"px-4 pb-4",children:f.map(m=>d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-muted)"},children:m.group}),d.jsx("div",{className:"space-y-1",children:m.items.map(g=>d.jsx("button",{onClick:()=>e(g.path),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${h(g.path)?"text-white":"hover:bg-gray-100"}`,style:{backgroundColor:h(g.path)?"var(--text)":"transparent",color:h(g.path)?"var(--bg)":"var(--text-secondary)"},children:g.label},g.key))})]},m.group))})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-6",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:((p=f.flatMap(m=>m.items).find(m=>h(m.path)))==null?void 0:p.label)||"Admin Dashboard"})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]}),d.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n==="dark"?"":""}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:l==null?void 0:l.email}),d.jsx("button",{onClick:u,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:o("auth.signOut")})]})]})]}),d.jsx("main",{className:"flex-1 p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.pathname==="/admin"&&d.jsx(zae,{}),t.pathname==="/admin/usage"&&d.jsx(Jae,{}),t.pathname==="/admin/prompt"&&d.jsx(Xae,{}),t.pathname==="/admin/knowledge"&&d.jsx(ooe,{})]})})]})]})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),loe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),K_=e=>{const t=loe(e);return t.charAt(0).toUpperCase()+t.slice(1)},HD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),coe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>x.createElement("svg",{ref:l,...uoe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:HD("lucide",i),...!a&&!coe(s)&&{"aria-hidden":"true"},...s},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(doe,{ref:a,iconNode:t,className:HD(`lucide-${soe(K_(e))}`,`lucide-${e}`,r),...i}));return n.displayName=K_(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hoe=Rn("activity",foe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],moe=Rn("bell",poe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],voe=Rn("chart-column",goe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],xoe=Rn("database",yoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],woe=Rn("log-out",boe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Soe=Rn("megaphone",koe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_oe=Rn("message-square",joe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Eoe=Rn("moon",Coe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ooe=Rn("refresh-cw",Poe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Aoe=Rn("sun",Noe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Ioe=Rn("thumbs-down",Toe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Roe=Rn("thumbs-up",Doe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Loe=Rn("user",Moe),$oe=woe,Foe=moe,Uoe=Eoe,zoe=Aoe,Boe=Loe,q_=voe,yy=_oe,H_=xoe,Woe=Soe,Ti=Roe,Ii=Ioe,V_=hoe,gp=Ooe;function Koe({performanceScore:e,performanceDate:t,currentTime:n,onSignOut:r}){const i=In(),{theme:a,toggleTheme:o}=Za(),{language:s,setLanguage:l,t:c}=et(),u=h=>h>=90?c("admin.excellent"):h>=80?c("admin.good"):h>=70?c("admin.fair"):c("admin.poor"),f=()=>{i("/admin/dashboard")};return d.jsxs("header",{className:"dashboard-header",children:[d.jsx("div",{className:"header-left",children:d.jsxs("div",{className:"logo",onClick:f,style:{cursor:"pointer"},children:[d.jsx("div",{className:"logo-hexagon",children:d.jsx("div",{className:"hexagon-outer",children:d.jsx("div",{className:"hexagon-inner"})})}),d.jsx("span",{className:"logo-text",children:"TecAce Ax Pro"})]})}),d.jsxs("div",{className:"header-right",children:[d.jsxs("div",{className:"performance-indicator",children:[d.jsxs("span",{className:"performance-text",children:["TecAce Ax Pro: ",e,"% (",u(e),t?`, ${t}`:"",")"]}),d.jsx("span",{className:"current-time",children:n})]}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{className:"icon-btn","aria-label":c("admin.goToChat"),onClick:()=>i("/chat"),title:c("admin.goToChat"),children:d.jsx(yy,{size:18})}),d.jsx("button",{className:"icon-btn","aria-label":c("admin.notifications"),children:d.jsx(Foe,{size:18})}),d.jsx("button",{className:"icon-btn","aria-label":c("admin.toggleTheme"),onClick:o,title:c("admin.toggleTheme"),children:a==="light"?d.jsx(Uoe,{size:18}):d.jsx(zoe,{size:18})}),d.jsxs("select",{value:s,onChange:h=>l(h.target.value),className:"language-select",children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]}),d.jsx("button",{className:"icon-btn","aria-label":c("admin.userProfile"),children:d.jsx(Boe,{size:18})}),d.jsx("button",{className:"icon-btn signout-btn","aria-label":c("admin.signOut"),onClick:r,title:c("admin.signOut"),children:d.jsx($oe,{size:18})})]})]})]})}function qoe({conversations:e,satisfaction:t,documents:n,performanceScore:r,performanceDate:i,isCollapsed:a,onToggleCollapse:o,onScrollToSection:s}){const l=In(),c=Qa(),{customization:u,updateCustomization:f}=Tc(),{t:h}=et(),p=c.pathname==="/admin/dashboard",[m,g]=x.useState(!1),[y,v]=x.useState(""),[b,w]=x.useState("Main AI Assistant for HR Support"),S=N=>{p?s(N):l(`/admin/dashboard?section=${N}`)},j=()=>{v(u.title||"TecAce Ax Pro"),w(u.chatSubtitle||"Main AI Assistant for HR Support"),g(!0)},k=()=>{f({title:y,chatSubtitle:b}),g(!1)},C=()=>{g(!1)};return d.jsx("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:d.jsxs("div",{className:"sidebar-content",children:[d.jsx("div",{className:"sidebar-section",style:{paddingBottom:"20px",borderBottom:"1px solid var(--admin-border)"},children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("img",{src:u.avatarUrl,alt:"Chatbot Avatar",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid var(--admin-primary)",boxShadow:"0 0 20px rgba(59, 230, 255, 0.3)"},onError:N=>{N.currentTarget.src="/default-profile-avatar.png"}}),d.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",backgroundColor:"var(--admin-success, #10b981)",border:"3px solid var(--admin-bg)",borderRadius:"50%"}})]}),d.jsx("div",{style:{textAlign:"center",width:"100%",padding:"0 12px"},children:m?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"text",value:y,onChange:N=>v(N.target.value),placeholder:"Bot Title",style:{width:"100%",fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-primary)",borderRadius:"6px",padding:"8px 12px",marginBottom:"8px",textAlign:"center"}}),d.jsx("input",{type:"text",value:b,onChange:N=>w(N.target.value),placeholder:"Description",style:{width:"100%",fontSize:"12px",color:"var(--admin-text-muted)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"6px 12px",textAlign:"center"}})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",marginBottom:"4px"},children:u.title||"TecAce Ax Pro"}),d.jsx("p",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:u.chatSubtitle||"Main AI Assistant for HR Support"})]})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[d.jsxs("div",{style:{textAlign:"center"},children:[d.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, var(--admin-primary), var(--admin-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:[r,"%"]}),d.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Performance"}),d.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:i||"9/10"})]}),d.jsxs("div",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:[d.jsx("div",{style:{fontSize:"10px",fontWeight:"600",color:"var(--admin-success)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ACTIVE"}),d.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",textTransform:"uppercase"},children:"STATUS"})]})]}),d.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#041220",backgroundColor:"var(--admin-primary)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.opacity="0.9",onMouseLeave:N=>N.currentTarget.style.opacity="1",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]}),d.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#ffffff",backgroundColor:"var(--admin-danger, #ef4444)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.opacity="0.9",onMouseLeave:N=>N.currentTarget.style.opacity="1",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:j,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),d.jsxs("button",{onClick:()=>l("/settings"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),d.jsx("polyline",{points:"21 15 16 10 5 21"})]}),"Photo"]})]})})]})}),d.jsxs("div",{className:"sidebar-section",children:[d.jsx("h3",{className:"sidebar-section-title",children:h("admin.overview")}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(yy,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:e}),d.jsx("div",{className:"metric-label",children:h("admin.conversations")})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(V_,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[t,"%"]}),d.jsx("div",{className:"metric-label",children:h("admin.satisfaction")})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(H_,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:n}),d.jsx("div",{className:"metric-label",children:h("admin.documents")})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(q_,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[r,"%"]}),d.jsx("div",{className:"metric-label",children:h("admin.performance")})]})]})]})]}),d.jsxs("div",{className:"sidebar-section",children:[d.jsx("h3",{className:"sidebar-section-title",children:h("admin.navigation")}),d.jsxs("nav",{className:"sidebar-nav",children:[d.jsxs("button",{className:"nav-item",onClick:()=>S("performance-radar"),children:[d.jsx(q_,{size:18}),d.jsx("span",{children:h("admin.performance")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>S("daily-message-activity"),children:[d.jsx(V_,{size:18}),d.jsx("span",{children:h("admin.activity")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>S("recent-conversations"),children:[d.jsx(yy,{size:18}),d.jsx("span",{children:h("admin.conversations")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>S("user-feedback"),children:[d.jsx(Woe,{size:18}),d.jsx("span",{children:h("admin.feedback")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>l("/admin/knowledge-management"),children:[d.jsx(H_,{size:18}),d.jsx("span",{children:h("admin.knowledgeBase")})]})]})]})]})})}function Hoe({data:e,selectedDate:t,onDateChange:n,title:r="Performance Timeline",includeSimulatedData:i,onIncludeSimulatedDataChange:a,estimationMode:o,onEstimationModeChange:s}){var C,N;const{t:l}=et(),[c,u]=x.useState(!1),[f,h]=x.useState(800),[p,m]=x.useState(!1),[g,y]=x.useState(null),v=x.useRef(null);x.useEffect(()=>{if(c&&e.length>0){const O=e.findIndex(P=>P.Date===t);v.current=window.setInterval(()=>{const P=O>=0?(O+1)%e.length:0;n(e[P].Date)},f)}else v.current&&(clearInterval(v.current),v.current=null);return()=>{v.current&&clearInterval(v.current)}},[c,t,e,f,n]);const b=()=>{u(!c)},w=O=>{const P=[O.Toxicity,O["Prompt Injection"],O["Answer Correctness"],O["Answer Relevancy"],O.Length,O.Tone];return Math.round(P.reduce((I,A)=>I+A,0)/P.length*100)},S=Math.max(...e.map(w),100),j=e.find(O=>O.Date===t),k=new Date().toISOString().split("T")[0];return e.length===0?d.jsx("div",{className:"performance-timeline",children:d.jsx("div",{className:"timeline-loading",children:"Loading data..."})}):d.jsxs("div",{className:"performance-timeline",children:[d.jsxs("div",{className:"timeline-single-row",children:[d.jsx("div",{className:"timeline-title-compact",children:d.jsx("h3",{children:r})}),d.jsxs("div",{className:"timeline-controls-compact",children:[d.jsxs("div",{className:"date-selector-compact",children:[d.jsxs("label",{children:[l("admin.date"),":"]}),d.jsx("select",{className:"date-select-compact",value:t,onChange:O=>n(O.target.value),children:e.map(O=>d.jsx("option",{value:O.Date,children:O.Date},O.Date))})]}),d.jsx("button",{className:"play-btn-compact",onClick:b,title:c?"Pause":"Play",children:c?"":""}),c&&d.jsxs("select",{className:"speed-control-compact",value:f,onChange:O=>h(Number(O.target.value)),children:[d.jsx("option",{value:1200,children:"Slow"}),d.jsx("option",{value:800,children:"Normal"}),d.jsx("option",{value:400,children:"Fast"})]}),d.jsx("div",{className:"data-indicator-compact",children:d.jsx("span",{className:`indicator ${j!=null&&j.isSimulated?"estimated":"actual"}`,children:j!=null&&j.isSimulated?` ${l("admin.estimated")}`:` ${l("admin.actual")}`})}),d.jsxs("div",{className:"settings-container-compact",children:[d.jsx("button",{className:`settings-btn-compact ${p?"active":""}`,onClick:()=>m(!p),title:"Settings",children:""}),p&&d.jsxs("div",{className:"settings-panel-compact",children:[d.jsx("div",{className:"setting-item",children:d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:i,onChange:O=>a(O.target.checked)}),l("admin.estimated"),"  "]})}),d.jsxs("div",{className:"setting-item",children:[d.jsx("label",{className:"select-label",children:" :"}),d.jsxs("select",{className:"mode-select",value:o,onChange:O=>s(O.target.value),children:[d.jsx("option",{value:"simple",children:" (5%)"}),d.jsx("option",{value:"improved",children:" (4% + )"}),d.jsx("option",{value:"realistic",children:" ( + )"})]})]})]})]})]})]}),d.jsxs("div",{className:"timeline-chart",children:[d.jsx("div",{className:"chart-container",children:e.map(O=>{const P=w(O),I=P/S*100,A=O.Date===t,R=O.Date===k,L=O.isSimulated,z=["bar"];return A?z.push("selected"):R?z.push("today"):L?z.push("simulated"):z.push("actual"),d.jsxs("div",{className:z.join(" "),style:{height:`${Math.max(I,5)}%`,position:"relative"},onClick:()=>n(O.Date),onMouseEnter:()=>y(O.Date),onMouseLeave:()=>y(null),title:`${O.Date}: ${P}% ${L?`(${l("admin.estimated")})`:`(${l("admin.actual")})`}`,children:[d.jsx("span",{className:"bar-value",children:P}),g===O.Date&&d.jsxs("div",{className:"bar-hover-info",children:[d.jsx("div",{className:"hover-date",children:O.Date}),d.jsxs("div",{className:"hover-score",children:[P,"%"]}),d.jsx("div",{className:"hover-type",children:l(L?"admin.estimated":"admin.actual")})]})]},O.Date)})}),d.jsxs("div",{className:"date-labels",children:[d.jsx("span",{className:"date-start",children:(C=e[0])==null?void 0:C.Date}),d.jsx("span",{className:"date-end",children:(N=e[e.length-1])==null?void 0:N.Date})]})]})]})}function Voe({relevance:e,tone:t,length:n,accuracy:r,toxicity:i,promptInjection:a,timelineData:o=[],selectedDate:s="",onDateChange:l=()=>{},includeSimulatedData:c=!1,onIncludeSimulatedDataChange:u=()=>{},estimationMode:f="simple",onEstimationModeChange:h=()=>{}}){const{t:p}=et(),[m,g]=x.useState({relevance:!0,tone:!0,length:!0,accuracy:!0,toxicity:!0,promptInjection:!0});x.useState(!1);const y=[{key:"relevance",label:p("admin.relevance"),value:e,description:p("admin.contentMatching"),icon:"",color:"#ff6b6b"},{key:"tone",label:p("admin.tone"),value:t,description:p("admin.responseStyle"),icon:"",color:"#4ecdc4"},{key:"length",label:p("admin.length"),value:n,description:p("admin.responseSize"),icon:"",color:"#45b7d1"},{key:"accuracy",label:p("admin.accuracy"),value:r,description:p("admin.correctAnswers"),icon:"",color:"#96ceb4"},{key:"toxicity",label:p("admin.toxicity"),value:i,description:p("admin.safetyCheck"),icon:"",color:"#feca57"},{key:"promptInjection",label:p("admin.promptInjection"),value:a,description:p("admin.securityFilter"),icon:"",color:"#ff9ff3"}],v=y.filter(R=>m[R.key]),b=R=>{g(L=>({...L,[R]:!L[R]}))},w=Object.values(m).filter(Boolean).length,S=v.length>0?Math.round(v.reduce((R,L)=>R+L.value,0)/v.length):0,j=400,k=j/2,C=k,N=130,O=(R,L,z)=>{const W=360/L,$=R*W-90,T=z/100*N,U=Math.cos($*Math.PI/180)*T,_=Math.sin($*Math.PI/180)*T;return{x:U,y:_,angle:$}},P=()=>v.length<3?"":`M ${v.map((L,z)=>{const W=O(z,v.length,L.value);return`${W.x+k},${W.y+k}`}).join(" L ")} Z`,I=(R,L)=>{const z=360/L,W=R*z-90,$=N+50,T=Math.cos(W*Math.PI/180)*$,U=Math.sin(W*Math.PI/180)*$;let _="center";return W>=-45&&W<=45?_="center":W>45&&W<=135?_="left":W>135||W<=-135?_="center":_="right",{x:T,y:U,angle:W,textAlign:_}},A=()=>{const R=[];for(let L=20;L<=100;L+=20)R.push(d.jsx("circle",{cx:k,cy:C,r:L/100*N,fill:"none",stroke:"rgba(59, 230, 255, 0.15)",strokeWidth:"1"},`circle-${L}`));for(let L=0;L<v.length;L++){const z=360/v.length,W=L*z-90,$=Math.cos(W*Math.PI/180)*N,T=Math.sin(W*Math.PI/180)*N;R.push(d.jsx("line",{x1:k,y1:C,x2:k+$,y2:C+T,stroke:"rgba(59, 230, 255, 0.2)",strokeWidth:"1"},`line-${L}`))}return R};return d.jsxs("div",{className:"performance-radar-section",children:[d.jsxs("div",{className:"radar-main-layout",children:[d.jsxs("div",{className:"radar-chart-section",children:[d.jsxs("div",{className:"radar-header",children:[d.jsx("h2",{className:"radar-title",children:p("admin.performanceRadar")}),d.jsx("p",{className:"radar-description",children:p("admin.performanceRadarDesc")})]}),d.jsxs("div",{className:"radar-chart-container",children:[d.jsxs("div",{className:"radar-chart-large",children:[d.jsxs("svg",{className:"radar-svg-large",width:j,height:j,children:[A(),d.jsx("path",{d:P(),fill:"rgba(59, 230, 255, 0.1)",stroke:"rgba(59, 230, 255, 0.8)",strokeWidth:"2"}),v.map((R,L)=>{const z=O(L,v.length,R.value);return d.jsxs("g",{className:"radar-point-large",children:[d.jsx("circle",{className:"point-dot-large",cx:z.x+k,cy:z.y+k,r:"6",fill:R.color,stroke:"white",strokeWidth:"2"}),d.jsx("text",{x:z.x+k,y:z.y+k-15,textAnchor:"middle",className:"point-score-box",fill:R.color,fontSize:"12",fontWeight:"bold",children:R.value})]},L)})]}),d.jsxs("div",{className:"radar-center-large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[d.jsx("div",{className:"center-score-large",children:S}),d.jsx("div",{className:"center-label-large",children:"OVERALL"})]})]}),y.map((R,L)=>{const z=I(L,y.length),W=m[R.key],$=R.key==="promptInjection",T=200,U=200,_=T+z.x,J=U+z.y;return d.jsx("div",{className:`radar-label-clean radar-label-${R.key.toLowerCase()} ${W?"":"label-inactive"}`,style:{position:"absolute",left:`${_}px`,top:`${J}px`,transform:"translate(-50%, -50%)",zIndex:10,borderColor:R.color,opacity:W?1:.5},children:d.jsxs("div",{className:"label-content",children:[d.jsx("span",{className:"label-name",style:{color:R.color},children:$?"PROMPT INJECTION":R.label.toUpperCase()}),d.jsx("span",{className:"label-score",style:{color:R.color},children:R.value})]})},L)})]})]}),d.jsxs("div",{className:"module-control-panel",children:[d.jsxs("div",{className:"module-control-header-side",children:[d.jsx("span",{className:"control-title",children:p("admin.moduleControl")}),d.jsxs("span",{className:"control-badge",children:[w," / ",y.length]})]}),d.jsx("div",{className:"control-list-side",children:y.map(R=>d.jsxs("div",{className:"control-item-side","data-key":R.key,children:[d.jsxs("div",{className:"control-info",children:[d.jsx("span",{className:"control-icon",style:{color:R.color},children:R.icon}),d.jsxs("div",{className:"control-text",children:[d.jsx("span",{className:"control-label",children:R.label}),d.jsx("span",{className:"control-description",children:R.description})]})]}),d.jsx("div",{className:"control-actions",children:d.jsx("button",{className:`control-toggle-btn ${m[R.key]?"enabled":"disabled"}`,onClick:()=>b(R.key),style:{borderColor:R.color,backgroundColor:m[R.key]?R.color:"transparent"},children:m[R.key]?"ON":"OFF"})})]},R.key))})]})]}),o&&o.length>0&&d.jsx("div",{className:"timeline-section-wrapper",style:{marginTop:"20px"},children:d.jsx(Hoe,{data:o,selectedDate:s,onDateChange:l,title:"Performance Timeline",includeSimulatedData:c,onIncludeSimulatedDataChange:u,estimationMode:f,onEstimationModeChange:h})})]})}async function $f(e=100){try{const t=Ke();console.log("Fetching chat data from Supabase...");const{data:n,error:r}=await t.from("chat").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw console.error("Supabase error:",r),new Error(`Failed to fetch chat data: ${r.message}`);return console.log(` Fetched ${(n==null?void 0:n.length)||0} chat records`),n||[]}catch(t){throw console.error("Failed to fetch chat data:",t),t}}async function VD(e){try{const t=Ke();console.log(`Looking for chat with chat_id: ${e}`);const{data:n,error:r}=await t.from("chat").select("*").eq("chat_id",e).maybeSingle();return r?(console.error("Supabase error:",r),null):(n?console.log(` Found chat for chat_id: ${e}`):console.warn(`No chat found for chat_id: ${e}`),n)}catch(t){return console.error("Error fetching chat by ID:",t),null}}const Goe=e=>[{value:"3d",label:e("admin.last3Days")},{value:"7d",label:e("admin.last7Days")},{value:"30d",label:e("admin.last30Days")},{value:"90d",label:e("admin.last3Months")},{value:"6m",label:e("admin.last6Months")},{value:"1y",label:e("admin.lastYear")},{value:"custom",label:e("admin.customRange")}];function Yoe({startDate:e,endDate:t}){const{t:n}=et(),[r,i]=x.useState([]),[a,o]=x.useState({totalMessages:0,avgPerDay:0,totalUserFeedback:0,totalAdminFeedback:0,totalCorrected:0,uniqueUsers:0,userSatisfaction:0,adminApproval:0}),[s,l]=x.useState(!0),[c,u]=x.useState("messages"),[f,h]=x.useState("7d"),[p,m]=x.useState(""),[g,y]=x.useState(""),[v,b]=x.useState(!1),w=()=>{if(e&&t)return{startDate:e,endDate:t};const I=new Date,A=new Date;switch(f){case"3d":A.setDate(I.getDate()-3);break;case"7d":A.setDate(I.getDate()-7);break;case"30d":A.setDate(I.getDate()-30);break;case"90d":A.setDate(I.getDate()-90);break;case"6m":A.setMonth(I.getMonth()-6);break;case"1y":A.setFullYear(I.getFullYear()-1);break;case"custom":if(p&&g)return{startDate:p,endDate:g};A.setDate(I.getDate()-7);break}return{startDate:A.toISOString().split("T")[0],endDate:I.toISOString().split("T")[0]}},{startDate:S,endDate:j}=w();x.useEffect(()=>{k()},[S,j,f,p,g]);const k=async()=>{l(!0);try{const[I,A,R]=await Promise.all([$f(1e3),Ba(),Px()]);console.log(" Loaded data:",{chats:I.length,userFeedbacks:A.length,adminFeedbacks:R.length}),I.length>0&&(console.log("Sample chat object:",I[0]),console.log("Sample chat ID:",I[0].id),console.log("Sample chat all keys:",Object.keys(I[0]))),A.length>0&&console.log("Sample user feedback chat_id:",A[0].chat_id),R.length>0&&console.log("Sample admin feedback chat_id:",R[0].chat_id);const L=new Map;A.forEach(B=>{L.has(B.chat_id)||L.set(B.chat_id,[]),L.get(B.chat_id).push(B)});const z=new Map;R.forEach(B=>{z.set(B.chat_id,B)}),console.log(" Feedback maps created:",{userFeedbackMapSize:L.size,adminFeedbackMapSize:z.size,sampleUserFeedbackKeys:Array.from(L.keys()).slice(0,3),sampleChatIds:I.slice(0,3).map(B=>B.id)});const W=new Map,$=new Date(S),T=new Date(j);for(let B=new Date($);B<=T;B.setDate(B.getDate()+1)){const Y=B.toISOString().split("T")[0];W.set(Y,{date:Y,messageCount:0,userFeedbackCount:0,userGoodCount:0,userBadCount:0,adminFeedbackCount:0,adminGoodCount:0,adminBadCount:0,correctedResponseCount:0,uniqueUsers:new Set})}const U=new Set;let _=0,J=0;console.warn(" Chat table missing chat_id field - feedback will be estimated by day proportion"),I.forEach(B=>{if(!B.created_at)return;const Y=new Date(B.created_at).toISOString().split("T")[0],q=W.get(Y);q&&(q.messageCount++,q.uniqueUsers.add(B.user_id),U.add(B.user_id))}),A.forEach(B=>{if(!B.created_at)return;const Y=new Date(B.created_at).toISOString().split("T")[0],q=W.get(Y);q&&(q.userFeedbackCount++,B.reaction==="good"&&q.userGoodCount++,B.reaction==="bad"&&q.userBadCount++,_++)}),R.forEach(B=>{const Y=new Date(B.updated_at||B.created_at||"").toISOString().split("T")[0],q=W.get(Y);q&&(q.adminFeedbackCount++,B.feedback_verdict==="good"&&q.adminGoodCount++,B.feedback_verdict==="bad"&&q.adminBadCount++,B.corrected_response&&q.correctedResponseCount++,J++)}),console.log(" Feedback distribution by date:",{totalChats:I.length,userFeedbackDistributed:_,adminFeedbackDistributed:J,totalUserFeedbacks:A.length,totalAdminFeedbacks:R.length});const D=Array.from(W.values()).find(B=>B.userFeedbackCount>0||B.adminFeedbackCount>0);D?console.log(" Sample day with feedback:",{date:D.date,messages:D.messageCount,userFeedback:D.userFeedbackCount,adminFeedback:D.adminFeedbackCount,corrected:D.correctedResponseCount}):console.log(" No days with feedback data found"),console.log(" To fix: Add chat_id column to Supabase chat table to match feedback.chat_id");const E=Array.from(W.values());i(E);const ee=E.reduce((B,Y)=>B+Y.messageCount,0),te=E.reduce((B,Y)=>B+Y.userFeedbackCount,0),oe=E.reduce((B,Y)=>B+Y.userGoodCount,0),me=E.reduce((B,Y)=>B+Y.adminFeedbackCount,0),Ue=E.reduce((B,Y)=>B+Y.adminGoodCount,0),M=E.reduce((B,Y)=>B+Y.correctedResponseCount,0);o({totalMessages:ee,avgPerDay:E.length>0?Math.round(ee/E.length*10)/10:0,totalUserFeedback:te,totalAdminFeedback:me,totalCorrected:M,uniqueUsers:U.size,userSatisfaction:te>0?Math.round(oe/te*100):0,adminApproval:me>0?Math.round(Ue/me*100):0}),console.log(" Stats:",{totalMessages:ee,totalUserFeedback:te,totalAdminFeedback:me,daysWithData:E.filter(B=>B.messageCount>0).length})}catch(I){console.error("Failed to load daily message activity:",I)}finally{l(!1)}},C=I=>c==="messages"?I.messageCount:c==="feedback"?I.userFeedbackCount:I.adminFeedbackCount,N=I=>{if(c==="feedback"){const A=I.userFeedbackCount;return A>0?Math.round(I.userGoodCount/A*100):null}else if(c==="admin"){const A=I.adminFeedbackCount;return A>0?Math.round(I.adminGoodCount/A*100):null}return null},O=I=>{const A=new Date(I),R=A.getMonth()+1,L=A.getDate(),z=A.toLocaleDateString("en-US",{weekday:"short"});return`${R}/${L} ${z}`},P=Math.max(...r.map(I=>C(I)),1);return d.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:n("admin.dailyMessageActivity")}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("select",{value:f,onChange:I=>{const A=I.target.value;h(A),b(A==="custom"),A!=="custom"&&(m(""),y(""))},className:"px-3 py-1 text-sm rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},children:Goe(n).map(I=>d.jsx("option",{value:I.value,children:I.label},I.value))})}),v&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"date",value:p,onChange:I=>{m(I.target.value),g||y(new Date().toISOString().split("T")[0])},className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},max:new Date().toISOString().split("T")[0]}),d.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"to"}),d.jsx("input",{type:"date",value:g,onChange:I=>y(I.target.value),className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},min:p,max:new Date().toISOString().split("T")[0]})]}),d.jsxs("div",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:[S," to ",j]})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"20px"},children:[d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.totalMessages")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-primary)"},children:a.totalMessages}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[n("admin.average"),": ",a.avgPerDay," ",n("admin.avgPerDay")]})]}),d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.userFeedbackCount")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-success)"},children:a.totalUserFeedback}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.userSatisfaction,"% ",n("admin.satisfaction")]})]}),d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.adminReviews")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-accent)"},children:a.totalAdminFeedback}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.adminApproval,"% ",n("admin.approval")]})]}),d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.corrected")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-warning, #ff9800)"},children:a.totalCorrected}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.uniqueUsers," ",n("admin.uniqueUsers")]})]})]}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("button",{onClick:()=>u("messages"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="messages"?"font-semibold":""}`,style:{backgroundColor:c==="messages"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:c==="messages"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.messages")}),d.jsx("button",{onClick:()=>u("feedback"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="feedback"?"font-semibold":""}`,style:{backgroundColor:c==="feedback"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:c==="feedback"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.userFeedbackCount")}),d.jsx("button",{onClick:()=>u("admin"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="admin"?"font-semibold":""}`,style:{backgroundColor:c==="admin"?"var(--admin-accent)":"rgba(9, 14, 34, 0.4)",color:c==="admin"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.adminReviews")})]}),s?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"Loading activity data..."})}):r.length===0?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"No data available for this period"})}):d.jsxs("div",{children:[d.jsx("div",{style:{height:"200px",display:"flex",alignItems:"flex-end",gap:"8px",padding:"20px 0",borderBottom:"1px solid var(--admin-border)"},children:r.map((I,A)=>{const R=C(I),L=N(I),z=P>0?R/P*100:0;return A<3&&console.log(` Day ${A} (${I.date}):`,{viewMode:c,value:R,score:L,messageCount:I.messageCount,userFeedbackCount:I.userFeedbackCount,adminFeedbackCount:I.adminFeedbackCount,correctedCount:I.correctedResponseCount}),d.jsxs("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",position:"relative"},children:[R>0&&d.jsx("div",{style:{position:"absolute",top:`calc(${100-z}% - 25px)`,backgroundColor:c==="messages"?"var(--admin-primary)":c==="feedback"?"var(--admin-success)":"var(--admin-accent)",color:c==="messages"?"#041220":"#ffffff",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:R}),d.jsx("div",{style:{width:"100%",maxWidth:"40px",height:R>0?`${z}%`:"2px",background:R>0?c==="messages"?"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))":c==="feedback"?"linear-gradient(180deg, var(--admin-success), #0d9488)":"linear-gradient(180deg, var(--admin-accent), #8b5cf6)":"rgba(100, 116, 139, 0.2)",borderRadius:"4px 4px 0 0",cursor:"pointer",transition:"opacity 0.2s"},title:`${O(I.date)}
${R} ${c}${L!==null?`
${L}% positive`:""}`,onMouseEnter:W=>W.currentTarget.style.opacity="0.8",onMouseLeave:W=>W.currentTarget.style.opacity="1"})]},I.date)})}),d.jsx("div",{style:{display:"flex",gap:"8px",paddingTop:"12px"},children:r.map(I=>d.jsx("div",{style:{flex:1,textAlign:"center",fontSize:"10px",color:"var(--admin-text-muted)"},children:O(I.date)},`label-${I.date}`))}),d.jsxs("div",{className:"mt-4 p-3 rounded text-xs flex items-center gap-2",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",color:"var(--admin-text-muted)",border:"1px solid rgba(59, 230, 255, 0.1)"},children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),d.jsxs("span",{children:[c==="messages"&&"Total messages sent per day",c==="feedback"&&"User feedback received per day",c==="admin"&&"Admin reviews completed per day"]})]})]})]})}async function G_(){try{const e=Ke();console.log("Fetching latest prompt from Supabase...");const{data:t,error:n}=await e.from("prompts").select("*").order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch prompt: ${n.message}`);if(!t||t.length===0)return console.log("No prompts found in database"),"";const r=t[0];return console.log(" Latest prompt fetched:",r.id),r.prompt_text||""}catch(e){throw console.error("Failed to fetch system prompt:",e),e}}async function Joe(e){try{const t=Ke();console.log(" Creating new prompt in Supabase...");const{data:n,error:r}=await t.from("prompts").insert([{prompt_text:e}]).select();if(r)throw console.error("Supabase error:",r),new Error(`Failed to create prompt: ${r.message}`);const i=n[0];console.log(" New prompt created:",i.id)}catch(t){throw console.error("Failed to update system prompt:",t),t}}async function Xoe(e=10){try{const t=Ke();console.log(" Fetching prompt history from Supabase..."),console.log(" Query: SELECT id, prompt_text, created_at FROM prompts ORDER BY created_at DESC LIMIT",e);const{data:n,error:r}=await t.from("prompts").select("id, prompt_text, created_at").order("created_at",{ascending:!1}).limit(e);if(console.log(" Raw Supabase response:",{data:n,error:r}),r)throw console.error(" Supabase error:",r),new Error(`Failed to fetch prompt history: ${r.message}`);return!n||n.length===0?(console.log(" No prompt history found in database"),[]):(console.log(" Prompt history fetched successfully:",n.length,"entries"),console.log(" First entry:",n[0]),n)}catch(t){throw console.error(" Failed to fetch prompt history:",t),t}}async function Qoe(e){try{const t=Ke();console.log(" Deleting prompt with ID:",e);const{error:n}=await t.from("prompts").delete().eq("id",e);if(n)throw console.error(" Supabase error:",n),new Error(`Failed to delete prompt: ${n.message}`);console.log(" Prompt deleted successfully:",e)}catch(t){throw console.error(" Failed to delete prompt:",t),t}}async function Zoe(){try{const e=await fetch("/prompt-api/force-prompt-reload",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Force reload failed: ${e.status} ${e.statusText}`);return await e.json()}catch(e){return console.error("Force reload failed:",e),{status:"skipped",message:"Force reload endpoint not available"}}}function ese(){const{t:e}=et(),[t,n]=x.useState(""),[r,i]=x.useState(!0),[a,o]=x.useState(null),[s,l]=x.useState(!1),c=x.useRef(null),[u,f]=x.useState(!1),[h,p]=x.useState(!1),[m,g]=x.useState(!1),[y,v]=x.useState([]),[b,w]=x.useState(!1),[S,j]=x.useState(!1),[k,C]=x.useState({isOpen:!1,promptId:null,promptText:""}),[N,O]=x.useState({isOpen:!1,message:"",isSuccess:!1});x.useEffect(()=>{P()},[]);const P=async()=>{try{console.log("Loading system prompt...");const _=await G_();console.log("System prompt loaded"),n(_),o(new Date)}catch(_){console.error("Failed to load system prompt:",_),O({isOpen:!0,message:_ instanceof Error?_.message:"Failed to load system prompt",isSuccess:!1})}finally{i(!1)}},I=async()=>{j(!0);try{console.log(" Loading prompt history...");const _=await Xoe(10);console.log(" Raw history data:",_),v(_),console.log(" Prompt history loaded:",_.length,"entries")}catch(_){console.error(" Failed to load prompt history:",_),O({isOpen:!0,message:`Failed to load prompt history: ${_ instanceof Error?_.message:"Unknown error"}`,isSuccess:!1})}finally{j(!1)}},A=async()=>{l(!0);try{const _=await G_();n(_),o(new Date)}catch(_){console.error("Failed to refresh system prompt:",_),O({isOpen:!0,message:_ instanceof Error?_.message:"Failed to refresh system prompt",isSuccess:!1})}finally{l(!1)}},R=()=>{f(!0)},L=async()=>{p(!0),f(!1);try{console.log("Saving system prompt..."),await Joe(t),console.log("System prompt saved successfully"),console.log("Attempting force reload...");const _=await Zoe();console.log("Force reload result:",_),O({isOpen:!0,message:"System prompt updated successfully!"+(_.status==="skipped"?"":` ${_.message}`),isSuccess:!0}),o(new Date)}catch(_){console.error("Save operation failed:",_),O({isOpen:!0,message:_ instanceof Error?_.message:"Failed to update system prompt",isSuccess:!1})}finally{p(!1)}},z=()=>{f(!1)},W=()=>{O({isOpen:!1,message:"",isSuccess:!1})},$=(_,J)=>{C({isOpen:!0,promptId:_,promptText:J.substring(0,100)+(J.length>100?"...":"")})},T=async()=>{if(k.promptId)try{console.log(" Deleting prompt:",k.promptId),await Qoe(k.promptId),v(_=>_.filter(J=>J.id!==k.promptId)),O({isOpen:!0,message:"Prompt deleted successfully!",isSuccess:!0})}catch(_){console.error(" Failed to delete prompt:",_),O({isOpen:!0,message:`Failed to delete prompt: ${_ instanceof Error?_.message:"Unknown error"}`,isSuccess:!1})}finally{C({isOpen:!1,promptId:null,promptText:""})}},U=()=>{C({isOpen:!1,promptId:null,promptText:""})};return d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:e("admin.systemPrompt")}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>{w(!b),!b&&y.length===0&&I()},className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:" History"}),d.jsx("button",{onClick:()=>g(!m),className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:m?" Collapse":" Expand"}),a&&d.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:[e("admin.lastRefreshed"),": ",a.toLocaleString()]}),d.jsx("button",{className:"icon-btn",onClick:A,disabled:s,title:e("actions.refresh"),children:d.jsx(gp,{size:18,className:s?"animate-spin":""})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("textarea",{ref:c,className:"w-full p-3 rounded-md font-mono text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid rgba(59, 230, 255, 0.15)",color:"var(--admin-text)",minHeight:m?"80vh":"300px",maxHeight:m?"none":"400px",resize:m?"none":"vertical"},placeholder:r?e("admin.loading"):"Enter your prompt instructions here...",value:t,onChange:_=>n(_.target.value),disabled:r}),b&&d.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:" Prompt History"}),d.jsx("button",{onClick:I,disabled:S,className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20 disabled:opacity-50",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:S?" Loading...":" Refresh"})]}),S?d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:" Loading history..."}):y.length===0?d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:'No history available. Click "Refresh" to load.'}):d.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:y.map((_,J)=>d.jsxs("div",{className:"p-3 rounded border hover:bg-blue-500/10 transition-colors",style:{borderColor:"var(--admin-border)",backgroundColor:J===0?"rgba(59, 230, 255, 0.1)":"transparent"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-medium",style:{color:"var(--admin-text)"},children:J===0?" Current":`#${J+1}`}),d.jsx("button",{onClick:D=>{D.stopPropagation(),n(_.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},title:"Load this prompt",children:" Load"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date(_.created_at).toLocaleString()}),J>0&&d.jsx("button",{onClick:D=>{D.stopPropagation(),$(_.id,_.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-red-500/20",style:{color:"var(--admin-danger)",border:"1px solid rgba(239, 68, 68, 0.3)"},title:"Delete this prompt",children:" Delete"})]})]}),d.jsx("p",{className:"text-xs font-mono whitespace-pre-wrap overflow-hidden",style:{color:"var(--admin-text-muted)",maxHeight:"60px",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:_.prompt_text})]},_.id))})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-6 py-2 rounded-md font-medium transition-all",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:r||h?.5:1,cursor:r||h?"not-allowed":"pointer"},onClick:R,disabled:r||h,children:e(r?"admin.loading":h?"admin.saving":"admin.saveChanges")})})]}),u&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:d.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--admin-text)"},children:e("admin.confirmUpdate")}),d.jsx("p",{className:"mb-6",style:{color:"var(--admin-text-muted)"},children:e("admin.confirmUpdateMessage")}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"transparent",border:"1px solid rgba(59,230,255,0.16)",color:"var(--admin-text)"},onClick:z,children:e("admin.cancel")}),d.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:L,children:e("admin.confirm")})]})]})}),N.isOpen&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:d.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:N.isSuccess?"var(--admin-success)":"var(--admin-danger)"},children:N.isSuccess?e("admin.success"):e("admin.error")}),d.jsx("p",{className:"mb-6",style:{color:"var(--admin-text)"},children:N.message}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:W,children:e("admin.close")})})]})}),k.isOpen&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(239,68,68,0.15), transparent 60%), rgba(3,8,28,0.75)",backdropFilter:"blur(8px)"},children:d.jsxs("div",{className:"admin-card max-w-lg w-full mx-4 border-2",style:{borderColor:"var(--admin-danger)"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:[d.jsx("div",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-danger)"},children:"DANGER: Permanent Deletion"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"This action cannot be undone!"})]})]}),d.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.3)"},children:[d.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-danger)"},children:" WARNING: You are about to permanently delete this prompt!"}),d.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--admin-text)"},children:[d.jsxs("li",{children:[" This action ",d.jsx("strong",{children:"CANNOT BE UNDONE"})]}),d.jsxs("li",{children:[" The prompt will be ",d.jsx("strong",{children:"permanently removed"})," from the database"]}),d.jsxs("li",{children:[" You will ",d.jsx("strong",{children:"lose access"})," to this prompt forever"]}),d.jsxs("li",{children:[" This may affect ",d.jsx("strong",{children:"chatbot behavior"})," if this was the active prompt"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Prompt to be deleted:"}),d.jsx("div",{className:"p-3 rounded border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"rgba(239, 68, 68, 0.2)"},children:d.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",style:{color:"var(--admin-text-muted)"},children:k.promptText})})]}),d.jsx("div",{className:"mb-6 p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:d.jsx("p",{className:"text-sm font-bold text-center",style:{color:"var(--admin-danger)"},children:"Are you absolutely sure you want to proceed?"})}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{className:"px-6 py-3 rounded-md font-semibold transition-all hover:scale-105",style:{background:"transparent",border:"2px solid rgba(59,230,255,0.3)",color:"var(--admin-primary)"},onClick:U,children:" Cancel (Safe)"}),d.jsx("button",{className:"px-6 py-3 rounded-md font-bold transition-all hover:scale-105",style:{background:"linear-gradient(180deg, #dc2626, #b91c1c)",color:"white",boxShadow:"0 4px 14px 0 rgba(239, 68, 68, 0.4)"},onClick:T,children:" DELETE FOREVER"})]})]})})]})}function tse({scrollToChatId:e,highlightedChatId:t,onScrollComplete:n}){const{t:r}=et(),[i,a]=x.useState([]),[o,s]=x.useState([]),[l,c]=x.useState(!0),[u,f]=x.useState(null),[h,p]=x.useState(!1),[m,g]=x.useState(null),[y,v]=x.useState(""),[b,w]=x.useState(""),[S,j]=x.useState(!1),[k,C]=x.useState(""),[N,O]=x.useState("date-desc"),[P,I]=x.useState(10),[A,R]=x.useState("CSV"),[L,z]=x.useState(null),[W,$]=x.useState(null),[T,U]=x.useState(null),[_,J]=x.useState(new Set),[D,E]=x.useState(null);x.useEffect(()=>{ee()},[]),x.useEffect(()=>{oe()},[i,k,N,L,W,T]),x.useEffect(()=>{if(e){const G=document.getElementById(`chat-${e}`);G&&(G.scrollIntoView({behavior:"smooth",block:"center"}),n==null||n())}},[e,n]);const ee=async()=>{c(!0),f(null);try{const[G,ae]=await Promise.all([$f(50),Ba()]),pe=new Map;ae.forEach(Ge=>{pe.set(Ge.chat_id,Ge)});const Qe=await Promise.all(G.map(async Ge=>{const V=await Hd(Ge.chat_id);return{...Ge,user_feedback:pe.get(Ge.chat_id)||null,admin_feedback:V}}));a(Qe)}catch(G){console.error("Failed to load conversations:",G);const ae=G instanceof Error?G.message:"Failed to load conversations";ae.includes("Could not find the table")||ae.includes("PGRST")?f(`Database table not accessible. Please check:
1. Table "chat" exists in Supabase
2. Row Level Security (RLS) policies allow SELECT
3. Supabase URL and key are correct`):f(ae)}finally{c(!1)}},te=async()=>{p(!0);try{const[G,ae]=await Promise.all([$f(50),Ba()]),pe=new Map;ae.forEach(Ge=>{pe.set(Ge.chat_id,Ge)});const Qe=G.map(Ge=>({...Ge,user_feedback:pe.get(Ge.chat_id)||null}));a(Qe)}catch(G){console.error("Failed to refresh conversations:",G),f(G instanceof Error?G.message:"Failed to refresh conversations")}finally{p(!1)}},oe=()=>{let G=[...i];if(L&&(G=G.filter(ae=>ae.session_id===L)),W&&(G=G.filter(ae=>ae.user_id===W)),T&&(G=G.filter(ae=>{if(!ae.created_at)return!1;const pe=new Date(ae.created_at).toDateString(),Qe=new Date(T).toDateString();return pe===Qe})),k){const ae=k.toLowerCase();G=G.filter(pe=>{var Qe,Ge,V,Z,se;return((Qe=pe.user_id)==null?void 0:Qe.toLowerCase().includes(ae))||String(pe.id||"").toLowerCase().includes(ae)||((Ge=pe.chat_id)==null?void 0:Ge.toLowerCase().includes(ae))||((V=pe.session_id)==null?void 0:V.toLowerCase().includes(ae))||((Z=pe.chat_message)==null?void 0:Z.toLowerCase().includes(ae))||((se=pe.response)==null?void 0:se.toLowerCase().includes(ae))})}G.sort((ae,pe)=>{switch(N){case"date-desc":return new Date(pe.created_at||"").getTime()-new Date(ae.created_at||"").getTime();case"date-asc":return new Date(ae.created_at||"").getTime()-new Date(pe.created_at||"").getTime();case"user":return(ae.user_id||"").localeCompare(pe.user_id||"");default:return 0}}),s(G)},me=G=>{if(!G)return"N/A";try{return new Date(G).toLocaleString()}catch{return G}},Ue=(G,ae=100)=>G.length<=ae?G:G.substring(0,ae)+"...",M=async(G,ae)=>{const pe=await Hd(G.chat_id);if(pe&&pe.feedback_verdict!==ae){const Qe=pe.feedback_verdict==="good"?"positive":"negative",Ge=ae==="good"?"positive":"negative";if(!window.confirm(`A ${Qe} feedback was already provided for this chat message/response. Are you sure you would like to change it to a ${Ge} review? This will remove the previously saved ${Qe} feedback.`))return}g({chatId:G.chat_id,userMessage:G.chat_message||"",aiResponse:G.response||"",verdict:ae,existingFeedback:pe}),pe?(v(pe.feedback_text||""),w(pe.corrected_response||"")):(v(""),w(""))},B=async()=>{if(m){if(m.verdict==="bad"&&!y&&!b){alert("For negative feedback, please provide either supervisor feedback or corrected response.");return}j(!0);try{await wO(m.chatId,m.verdict,y,b),g(null),v(""),w(""),alert("Admin feedback submitted successfully!"),te()}catch(G){console.error("Failed to submit admin feedback:",G),alert("Failed to submit feedback. Please try again.")}finally{j(!1)}}},Y=()=>{g(null),v(""),w("")},q=G=>{J(ae=>{const pe=new Set(ae);return pe.has(G)?pe.delete(G):pe.add(G),pe})},ge=async G=>{try{const ae=i.find(pe=>pe.chat_id===G);ae&&ae.user_feedback?E({chatId:G,feedback:ae.user_feedback}):E({chatId:G,feedback:null})}catch(ae){console.error("Error fetching user feedback:",ae),E({chatId:G,feedback:null})}},we=async G=>{const ae=G.admin_feedback;ae&&(v(ae.feedback_text||""),w(ae.corrected_response||""),g({chatId:G.chat_id,userMessage:G.chat_message||"",aiResponse:G.response||"",verdict:ae.feedback_verdict,existingFeedback:ae}))},tt=G=>{L===G?z(null):(z(G),$(null))},H=G=>{W===G?$(null):($(G),z(null))},Ce=G=>{T===G?U(null):(U(G),z(null),$(null))},oo=()=>{z(null),$(null),U(null),C("")},nu=()=>{if(o.length===0){alert("No conversations to export");return}const G=o.map(ae=>({chatId:ae.id,userId:ae.user_id||"",createdAt:ae.created_at||"",userMessage:ae.chat_message||"",aiResponse:ae.response||""}));if(A==="CSV"){const ae=["Chat ID","User ID","Created At","User Message","AI Response"],pe=G.map(se=>[se.chatId,se.userId,se.createdAt,`"${se.userMessage.replace(/"/g,'""')}"`,`"${se.aiResponse.replace(/"/g,'""')}"`]),Qe=[ae,...pe].map(se=>se.join(",")).join(`
`),Ge=new Blob([Qe],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),Z=URL.createObjectURL(Ge);V.setAttribute("href",Z),V.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)}else{const ae=JSON.stringify(G,null,2),pe=new Blob([ae],{type:"application/json;charset=utf-8;"}),Qe=document.createElement("a"),Ge=URL.createObjectURL(pe);Qe.setAttribute("href",Ge),Qe.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.json`),Qe.style.visibility="hidden",document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe)}};if(l)return d.jsx("div",{className:"admin-card",children:d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:r("admin.loading")})})});if(u)return d.jsx("div",{className:"admin-card",children:d.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:r("admin.error")}),d.jsx("p",{className:"text-sm whitespace-pre-line mb-3",children:u}),u.includes("Row Level Security")&&d.jsxs("div",{className:"mt-3 p-3 rounded text-xs",style:{backgroundColor:"rgba(0,0,0,0.2)",color:"var(--admin-text-muted)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:"To fix RLS in Supabase:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[d.jsx("li",{children:"Go to Supabase Dashboard  Table Editor"}),d.jsx("li",{children:'Select "chat" table'}),d.jsx("li",{children:'Click "RLS" tab'}),d.jsx("li",{children:'Add policy: "Enable read access for all users"'}),d.jsxs("li",{children:["Policy command: ",d.jsx("code",{children:"SELECT"}),", Target roles: ",d.jsx("code",{children:"anon"})]})]})]}),d.jsx("button",{onClick:ee,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:r("actions.refresh")})]})});const Us=o.slice(0,P);return d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[r("admin.recentConversations")," (",o.length,")"]}),d.jsx("button",{className:"icon-btn",onClick:te,disabled:h,title:r("actions.refresh"),children:d.jsx(gp,{size:18,className:h?"animate-spin":""})})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.sortBy"),":"]}),d.jsxs("select",{value:N,onChange:G=>O(G.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx("option",{value:"date-desc",children:r("admin.dateTimeNewest")}),d.jsx("option",{value:"date-asc",children:r("admin.dateTimeOldest")}),d.jsxs("option",{value:"user",children:[r("admin.user")," ID"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[d.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.search"),":"]}),d.jsx("input",{type:"text",placeholder:r("admin.searchConversations"),value:k,onChange:G=>C(G.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(L||W||T)&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),L&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(34, 197, 94, 0.2)",color:"var(--admin-success)"},children:["Session: ",L]}),W&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",W]}),T&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(T).toLocaleDateString()]}),d.jsx("button",{onClick:oo,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:" Clear"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:A,onChange:G=>R(G.target.value),children:[d.jsx("option",{children:"CSV"}),d.jsx("option",{children:"JSON"})]}),d.jsx("button",{onClick:nu,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),Us.length===0?d.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:d.jsx("p",{children:k?"No conversations match your search":"No conversations found"})}):d.jsx("div",{className:"space-y-3",children:Us.map(G=>d.jsxs("div",{id:`chat-${G.chat_id}`,className:"p-4 rounded-lg border transition-all duration-500",style:{backgroundColor:t===G.chat_id?"rgba(59, 230, 255, 0.15)":"rgba(9, 14, 34, 0.4)",borderColor:t===G.chat_id?"var(--admin-primary)":"var(--admin-border)",boxShadow:t===G.chat_id?"0 0 20px rgba(59, 230, 255, 0.3)":"none"},children:[d.jsx("div",{className:"flex items-start justify-between mb-2",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["User:",d.jsx("button",{onClick:()=>H(G.user_id),className:`ml-1 hover:underline cursor-pointer ${W===G.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:G.user_id})]}),d.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",G.chat_id]}),G.session_id&&d.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Session:",d.jsx("button",{onClick:()=>tt(G.session_id),className:`ml-1 hover:underline cursor-pointer ${L===G.session_id?"text-green-400 font-semibold":"text-green-300"}`,title:"Click to filter by this session",children:G.session_id})]}),d.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:d.jsx("button",{onClick:()=>Ce(G.created_at||""),className:`hover:underline cursor-pointer ${T===G.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:me(G.created_at)})})]})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:[r("admin.userMessage"),":"]}),d.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>q(G.chat_id),title:"Click to expand/collapse",children:[_.has(G.chat_id)?G.chat_message:Ue(G.chat_message),!_.has(G.chat_id)&&G.chat_message.length>100&&d.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:[r("admin.aiResponse"),":"]}),d.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>q(G.chat_id),title:"Click to expand/collapse",children:[_.has(G.chat_id)?G.response:Ue(G.response),!_.has(G.chat_id)&&G.response.length>100&&d.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",style:{borderColor:"var(--admin-border)"},children:[d.jsx("div",{className:"flex items-center gap-2",children:G.user_feedback?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"User:"}),G.user_feedback.reaction==="good"?d.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[d.jsx(Ti,{size:14}),d.jsx("span",{className:"text-xs",children:"+"})]}):d.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[d.jsx(Ii,{size:14}),d.jsx("span",{className:"text-xs",children:"-"})]}),d.jsx("button",{onClick:()=>ge(G.chat_id),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View user feedback details",children:"Details"})]}):d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"No user feedback"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Admin:"}),G.admin_feedback?d.jsxs("div",{className:"flex items-center gap-2",children:[G.admin_feedback.feedback_verdict==="good"?d.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[d.jsx(Ti,{size:14}),d.jsx("span",{className:"text-xs",children:"Good"})]}):d.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[d.jsx(Ii,{size:14}),d.jsx("span",{className:"text-xs",children:"Bad"})]}),d.jsx("button",{onClick:()=>we(G),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View/Edit admin feedback",children:"Edit"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>M(G,"good"),className:"p-1.5 rounded transition-colors hover:bg-green-500/20",title:"Mark as good",children:d.jsx(Ti,{size:14,style:{color:"var(--admin-success, #10b981)"}})}),d.jsx("button",{onClick:()=>M(G,"bad"),className:"p-1.5 rounded transition-colors hover:bg-red-500/20",title:"Mark as bad",children:d.jsx(Ii,{size:14,style:{color:"var(--admin-danger, #ef4444)"}})})]})]})]})]},G.id))}),o.length>P&&d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("button",{onClick:()=>I(G=>G+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",o.length-P," remaining)"]})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"rounded-lg max-w-2xl w-full mx-4",style:{backgroundColor:"var(--admin-bg-card)",border:"1px solid var(--admin-border)",maxHeight:"90vh",overflow:"auto"},children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[m.existingFeedback?" Edit Admin Feedback":"Admin Feedback"," ",m.verdict==="good"?"":""]}),d.jsx("button",{onClick:Y,className:"p-1 hover:bg-gray-100/10 rounded",style:{color:"var(--admin-text-secondary)"},children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.userMessage"),":"]}),d.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.userMessage})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.aiResponse"),":"]}),d.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.aiResponse})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Supervisor Feedback:"}),d.jsx("textarea",{value:y,onChange:G=>v(G.target.value),placeholder:"Explain what was wrong with this response...",className:"w-full h-24 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Corrected Response:"}),d.jsx("textarea",{value:b,onChange:G=>w(G.target.value),placeholder:"Enter the corrected response...",className:"w-full h-32 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:Y,disabled:S,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"transparent",border:"1px solid var(--admin-border)",color:"var(--admin-text)"},children:"Cancel"}),d.jsx("button",{onClick:B,disabled:S,className:"px-6 py-2 text-sm font-medium rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:S?.6:1},children:S?"Submitting...":"Submit"})]})]})})}),D&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(10px)",opacity:1,background:"var(--admin-card)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"var(--admin-text)"},children:" User Feedback Details"}),d.jsx("button",{onClick:()=>E(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--admin-text)"},children:"Chat ID:"}),d.jsx("span",{className:"text-xs font-mono px-2 py-1 rounded",style:{backgroundColor:"var(--admin-primary)",color:"white"},children:D.chatId})]}),d.jsx("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date().toLocaleString()})]}),D.feedback?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center gap-4 p-4 rounded-lg border-2",style:{borderColor:D.feedback.reaction==="good"?"#10b981":"#ef4444",backgroundColor:D.feedback.reaction==="good"?"#f0fdf4":"#fef2f2"},children:d.jsxs("div",{className:"flex items-center gap-2",children:[D.feedback.reaction==="good"?d.jsx(Ti,{size:24,className:"text-green-600"}):d.jsx(Ii,{size:24,className:"text-red-600"}),d.jsx("span",{className:"font-semibold text-lg",style:{color:D.feedback.reaction==="good"?"#059669":"#dc2626"},children:D.feedback.reaction==="good"?"Positive Feedback":"Negative Feedback"})]})}),D.feedback.feedback_text&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2 flex items-center gap-2",style:{color:"var(--admin-text)"},children:" User's Comment:"}),d.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:d.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--admin-text)"},children:['"',D.feedback.feedback_text,'"']})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--admin-text-muted)"},children:[d.jsx("span",{children:""}),d.jsxs("span",{children:["Feedback submitted: ",new Date(D.feedback.created_at).toLocaleString()]})]})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:""}),d.jsx("p",{className:"text-lg",style:{color:"var(--admin-text-muted)"},children:"No user feedback found for this chat."})]})]}),d.jsx("div",{className:"flex justify-center mt-8",children:d.jsx("button",{onClick:()=>E(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})}function nse({onScrollToChat:e}){const{t}=et(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[y,v]=x.useState("all"),[b,w]=x.useState(10),[S,j]=x.useState("CSV"),[k,C]=x.useState(null),[N,O]=x.useState(null);x.useEffect(()=>{P()},[]),x.useEffect(()=>{A()},[n,h,m,y,k,N]);const P=async()=>{s(!0),c(null);try{const D=await Ba();r(D)}catch(D){console.error("Failed to load user feedback:",D),c(D instanceof Error?D.message:"Failed to load user feedback")}finally{s(!1)}},I=async()=>{f(!0);try{const D=await Ba();r(D)}catch(D){console.error("Failed to refresh user feedback:",D),c(D instanceof Error?D.message:"Failed to refresh user feedback")}finally{f(!1)}},A=()=>{let D=[...n];if(y!=="all"&&(D=D.filter(E=>E.reaction===y)),k&&(D=D.filter(E=>E.user_id===k)),N&&(D=D.filter(E=>{if(!E.created_at)return!1;const ee=new Date(E.created_at).toDateString(),te=new Date(N).toDateString();return ee===te})),h){const E=h.toLowerCase();D=D.filter(ee=>{var te,oe,me;return((te=ee.user_id)==null?void 0:te.toLowerCase().includes(E))||((oe=ee.chat_id)==null?void 0:oe.toLowerCase().includes(E))||((me=ee.feedback_text)==null?void 0:me.toLowerCase().includes(E))})}D.sort((E,ee)=>{switch(m){case"date-desc":return new Date(ee.created_at||"").getTime()-new Date(E.created_at||"").getTime();case"date-asc":return new Date(E.created_at||"").getTime()-new Date(ee.created_at||"").getTime();case"user":return(E.user_id||"").localeCompare(ee.user_id||"");default:return 0}}),a(D)},R=async D=>{const E=n.find(ee=>ee.id===D);if(E)if(!E.isExpanded&&!E.chatData){console.log(`Fetching chat data for feedback ${D} with chat_id: ${E.chat_id}`);const ee=await VD(E.chat_id);ee?(console.log(` Successfully loaded chat data for ${E.chat_id}`),r(te=>te.map(oe=>oe.id===D?{...oe,chatData:ee,isExpanded:!0}:oe))):(console.warn(` Could not load chat data for ${E.chat_id}. This might be due to a chat_id mismatch.`),r(te=>te.map(oe=>oe.id===D?{...oe,chatData:null,isExpanded:!0}:oe)))}else r(ee=>ee.map(te=>te.id===D?{...te,isExpanded:!te.isExpanded}:te))},L=D=>{if(!D)return"N/A";try{return new Date(D).toLocaleString()}catch{return D}},z=D=>D==="good"?d.jsx(Ti,{size:16,style:{color:"var(--admin-success)"}}):D==="bad"?d.jsx(Ii,{size:16,style:{color:"var(--admin-danger)"}}):d.jsx("span",{className:"text-xs",children:D}),W=(D,E=150)=>D?D.length<=E?D:D.substring(0,E)+"...":"",$=D=>{k===D?C(null):(C(D),O(null))},T=D=>{N===D?O(null):(O(D),C(null))},U=()=>{C(null),O(null),p(""),v("all")},_=()=>{if(i.length===0){alert("No feedback to export");return}const D=i.map(E=>{var ee,te;return{feedbackId:E.id,chatId:E.chat_id,userId:E.user_id||"",reaction:E.reaction||"",feedbackText:E.feedback_text||"",createdAt:E.created_at||"",userMessage:((ee=E.chatData)==null?void 0:ee.chat_message)||"",aiResponse:((te=E.chatData)==null?void 0:te.response)||""}});if(S==="CSV"){const E=["Feedback ID","Chat ID","User ID","Reaction","Feedback Text","Created At","User Message","AI Response"],ee=D.map(M=>[M.feedbackId,M.chatId,M.userId,M.reaction,`"${M.feedbackText.replace(/"/g,'""')}"`,M.createdAt,`"${M.userMessage.replace(/"/g,'""')}"`,`"${M.aiResponse.replace(/"/g,'""')}"`]),te=[E,...ee].map(M=>M.join(",")).join(`
`),oe=new Blob([te],{type:"text/csv;charset=utf-8;"}),me=document.createElement("a"),Ue=URL.createObjectURL(oe);me.setAttribute("href",Ue),me.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.csv`),me.style.visibility="hidden",document.body.appendChild(me),me.click(),document.body.removeChild(me)}else{const E=JSON.stringify(D,null,2),ee=new Blob([E],{type:"application/json;charset=utf-8;"}),te=document.createElement("a"),oe=URL.createObjectURL(ee);te.setAttribute("href",oe),te.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.json`),te.style.visibility="hidden",document.body.appendChild(te),te.click(),document.body.removeChild(te)}};if(o)return d.jsx("div",{className:"admin-card",children:d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})});if(l)return d.jsx("div",{className:"admin-card",children:d.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),d.jsx("p",{className:"text-sm",children:l}),d.jsx("button",{onClick:P,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})});const J=i.slice(0,b);return d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["User Feedback (",i.length,")"]}),d.jsx("button",{className:"icon-btn",onClick:I,disabled:u,title:t("actions.refresh"),children:d.jsx(gp,{size:18,className:u?"animate-spin":""})})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),d.jsxs("select",{value:m,onChange:D=>g(D.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),d.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),d.jsx("option",{value:"user",children:"User ID"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),d.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:D=>p(D.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(k||N)&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),k&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",k]}),N&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(N).toLocaleDateString()]}),d.jsx("button",{onClick:U,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:" Clear"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:S,onChange:D=>j(D.target.value),children:[d.jsx("option",{children:"CSV"}),d.jsx("option",{children:"JSON"})]}),d.jsx("button",{onClick:_,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),d.jsxs("div",{className:"mb-4 flex gap-2",children:[d.jsxs("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${y==="all"?"font-semibold":""}`,style:{backgroundColor:y==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:y==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),d.jsxs("button",{onClick:()=>v("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="good"?"font-semibold":""}`,style:{backgroundColor:y==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:y==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ti,{size:14})," Good (",n.filter(D=>D.reaction==="good").length,")"]}),d.jsxs("button",{onClick:()=>v("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="bad"?"font-semibold":""}`,style:{backgroundColor:y==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:y==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ii,{size:14})," Bad (",n.filter(D=>D.reaction==="bad").length,")"]})]}),J.length===0?d.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:d.jsx("p",{children:h||y!=="all"?"No feedback matches your filters":"No user feedback found"})}):d.jsx("div",{className:"space-y-3",children:J.map(D=>d.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)"},children:[d.jsxs("div",{className:"p-4 cursor-pointer hover:bg-opacity-60 transition-colors",onClick:()=>R(D.id),children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[z(D.reaction),d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["User:",d.jsx("button",{onClick:E=>{E.stopPropagation(),$(D.user_id)},className:`ml-1 hover:underline cursor-pointer ${k===D.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:D.user_id})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:E=>{E.stopPropagation(),T(D.created_at||"")},className:`text-xs hover:underline cursor-pointer ${N===D.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:L(D.created_at)}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--admin-text-muted)",transform:D.isExpanded?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),d.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",d.jsx("button",{onClick:()=>e==null?void 0:e(D.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:D.chat_id})]}),D.feedback_text&&d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:W(D.feedback_text)})]}),D.isExpanded&&d.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--admin-border)"},children:D.chatData?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"User Message:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:D.chatData.chat_message})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:"AI Response:"}),d.jsx("button",{onClick:()=>e==null?void 0:e(D.chat_id),className:"text-sm text-left w-full p-2 rounded hover:bg-blue-500/10 transition-colors cursor-pointer",style:{color:"var(--admin-text)"},title:"Click to scroll to this chat in Recent Conversations",children:D.chatData.response})]})]}):D.chatData===null?d.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[d.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--admin-danger)"},children:" Chat data not found"}),d.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"The chat associated with this feedback could not be loaded. This might be due to a mismatch between the feedback chat_id and the chat table ID format."}),d.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",D.chat_id]})]}):d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"Loading chat details..."})})]},D.id))}),i.length>b&&d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("button",{onClick:()=>w(D=>D+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",i.length-b," remaining)"]})})]})}function rse({onScrollToChat:e}){const{t}=et(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[y,v]=x.useState("all"),[b,w]=x.useState(null),[S,j]=x.useState(null);x.useEffect(()=>{k()},[]),x.useEffect(()=>{N()},[n,h,m,y,b,S]);const k=async()=>{s(!0),c(null);try{const A=await Px(),R=await Promise.all(A.map(async L=>{const z=await VD(L.chat_id);return{...L,chatData:z,isEnabled:!0}}));r(R)}catch(A){console.error("Failed to load admin feedback:",A),c(A instanceof Error?A.message:"Failed to load admin feedback")}finally{s(!1)}},C=async()=>{f(!0),await k(),f(!1)},N=()=>{let A=[...n];if(y!=="all"&&(A=A.filter(R=>R.feedback_verdict===y)),b&&(A=A.filter(R=>{var L;return((L=R.chatData)==null?void 0:L.user_id)===b})),S&&(A=A.filter(R=>{const L=R.updated_at||R.created_at;if(!L)return!1;const z=new Date(L).toDateString(),W=new Date(S).toDateString();return z===W})),h){const R=h.toLowerCase();A=A.filter(L=>{var z,W,$,T,U,_,J;return((z=L.chat_id)==null?void 0:z.toLowerCase().includes(R))||((W=L.feedback_text)==null?void 0:W.toLowerCase().includes(R))||(($=L.corrected_response)==null?void 0:$.toLowerCase().includes(R))||((U=(T=L.chatData)==null?void 0:T.chat_message)==null?void 0:U.toLowerCase().includes(R))||((J=(_=L.chatData)==null?void 0:_.response)==null?void 0:J.toLowerCase().includes(R))})}A.sort((R,L)=>{switch(m){case"date-desc":return new Date(L.updated_at||L.created_at||"").getTime()-new Date(R.updated_at||R.created_at||"").getTime();case"date-asc":return new Date(R.updated_at||R.created_at||"").getTime()-new Date(L.updated_at||L.created_at||"").getTime();case"verdict":return(R.feedback_verdict||"").localeCompare(L.feedback_verdict||"");default:return 0}}),a(A)},O=async A=>{const R=n.find(z=>z.id===A);if(!R)return;const L=!R.apply;r(z=>z.map(W=>W.id===A?{...W,apply:L}:W));try{const{updateAdminFeedbackField:z}=await Xi(()=>Promise.resolve().then(()=>H3),void 0);await z(A,{apply:L})}catch(z){console.error("Failed to update apply status:",z),r(W=>W.map($=>$.id===A?{...$,apply:!L}:$))}},P=A=>{if(!A)return"N/A";try{return new Date(A).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return A}},I=()=>{const A=i.filter($=>($==null?void 0:$.isEnabled)??!0);if(A.length===0){alert("No enabled feedback to export");return}const R=[["Chat ID","User ID","Date/Time","Verdict","User Message","AI Response","Feedback","Corrected Response"],...A.map($=>{var T,U,_;return[$.chat_id,((T=$.chatData)==null?void 0:T.user_id)||"",P($.updated_at||$.created_at),$.feedback_verdict,((U=$.chatData)==null?void 0:U.chat_message)||"",((_=$.chatData)==null?void 0:_.response)||"",$.feedback_text||"",$.corrected_response||""]})].map($=>$.map(T=>`"${T}"`).join(",")).join(`
`),L=new Blob([R],{type:"text/csv"}),z=URL.createObjectURL(L),W=document.createElement("a");W.href=z,W.download=`admin-feedback-${new Date().toISOString().split("T")[0]}.csv`,W.click(),URL.revokeObjectURL(z)};return o?d.jsx("div",{className:"admin-card",children:d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})}):l?d.jsx("div",{className:"admin-card",children:d.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),d.jsx("p",{className:"text-sm",children:l}),d.jsx("button",{onClick:k,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})}):d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["Admin Feedback (",i.length," feedback entries)"]}),d.jsx("button",{className:"icon-btn",onClick:C,disabled:u,title:t("actions.refresh"),children:d.jsx(gp,{size:18,className:u?"animate-spin":""})})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),d.jsxs("select",{value:m,onChange:A=>g(A.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),d.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),d.jsx("option",{value:"verdict",children:"Verdict"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),d.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:A=>p(A.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},defaultValue:"CSV",children:[d.jsx("option",{children:"CSV"}),d.jsx("option",{children:"JSON"})]}),d.jsx("button",{onClick:I,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsxs("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${y==="all"?"font-semibold":""}`,style:{backgroundColor:y==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:y==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),d.jsxs("button",{onClick:()=>v("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="good"?"font-semibold":""}`,style:{backgroundColor:y==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:y==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ti,{size:14})," Good (",n.filter(A=>A.feedback_verdict==="good").length,")"]}),d.jsxs("button",{onClick:()=>v("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${y==="bad"?"font-semibold":""}`,style:{backgroundColor:y==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:y==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ii,{size:14})," Bad (",n.filter(A=>A.feedback_verdict==="bad").length,")"]})]}),i.length===0?d.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:d.jsx("p",{children:h||y!=="all"?"No feedback matches your filters":"No admin feedback found"})}):d.jsx("div",{className:"space-y-3",children:i.map(A=>{var R,L,z;return d.jsx("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)",opacity:(A==null?void 0:A.isEnabled)??!0?1:.5},children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[A.feedback_verdict==="good"?d.jsx(Ti,{size:16,style:{color:"var(--admin-success)"}}):d.jsx(Ii,{size:16,style:{color:"var(--admin-danger)"}}),d.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:["User: ",((R=A.chatData)==null?void 0:R.user_id)||"Unknown"]})]})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:P(A.updated_at||A.created_at)}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text)"},children:"Apply to Prompt:"}),d.jsx("button",{onClick:()=>O(A.id),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors",style:{backgroundColor:A.apply?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},children:d.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:A.apply?"translateX(1.5rem)":"translateX(0.25rem)"}})})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[((L=A.chatData)==null?void 0:L.chat_message)&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"User Message:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.chatData.chat_message})]}),d.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",d.jsx("button",{onClick:()=>e==null?void 0:e(A.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:A.chat_id})]}),((z=A.chatData)==null?void 0:z.response)&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"Original AI Response:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.chatData.response})]}),A.feedback_text&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-warning, #ff9800)"},children:"Supervisor Feedback:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.feedback_text})]}),A.corrected_response&&d.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",border:"1px solid rgba(59, 230, 255, 0.2)"},children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"Corrected Response:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.corrected_response})]})]})]})},A.id)})})]})}function GD(e,t){return function(){return e.apply(t,arguments)}}const{toString:ise}=Object.prototype,{getPrototypeOf:Jb}=Object,{iterator:vp,toStringTag:YD}=Symbol,yp=(e=>t=>{const n=ise.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>yp(t)===e),xp=e=>t=>typeof t===e,{isArray:$s}=Array,ms=xp("undefined");function Zc(e){return e!==null&&!ms(e)&&e.constructor!==null&&!ms(e.constructor)&&dn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const JD=yr("ArrayBuffer");function ase(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&JD(e.buffer),t}const ose=xp("string"),dn=xp("function"),XD=xp("number"),eu=e=>e!==null&&typeof e=="object",sse=e=>e===!0||e===!1,hd=e=>{if(yp(e)!=="object")return!1;const t=Jb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(YD in e)&&!(vp in e)},lse=e=>{if(!eu(e)||Zc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},cse=yr("Date"),use=yr("File"),dse=yr("Blob"),fse=yr("FileList"),hse=e=>eu(e)&&dn(e.pipe),pse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dn(e.append)&&((t=yp(e))==="formdata"||t==="object"&&dn(e.toString)&&e.toString()==="[object FormData]"))},mse=yr("URLSearchParams"),[gse,vse,yse,xse]=["ReadableStream","Request","Response","Headers"].map(yr),bse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),$s(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Zc(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(r=0;r<o;r++)s=a[r],t.call(null,e[s],s,e)}}function QD(e,t){if(Zc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Pa=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ZD=e=>!ms(e)&&e!==Pa;function xy(){const{caseless:e,skipUndefined:t}=ZD(this)&&this||{},n={},r=(i,a)=>{const o=e&&QD(n,a)||a;hd(n[o])&&hd(i)?n[o]=xy(n[o],i):hd(i)?n[o]=xy({},i):$s(i)?n[o]=i.slice():(!t||!ms(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&tu(arguments[i],r);return n}const wse=(e,t,n,{allOwnKeys:r}={})=>(tu(t,(i,a)=>{n&&dn(i)?e[a]=GD(i,n):e[a]=i},{allOwnKeys:r}),e),kse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Sse=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},jse=(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&Jb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},_se=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Cse=e=>{if(!e)return null;if($s(e))return e;let t=e.length;if(!XD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ese=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jb(Uint8Array)),Pse=(e,t)=>{const r=(e&&e[vp]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},Ose=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Nse=yr("HTMLFormElement"),Ase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Y_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Tse=yr("RegExp"),eR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tu(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},Ise=e=>{eR(e,(t,n)=>{if(dn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(dn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dse=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return $s(e)?r(e):r(String(e).split(t)),n},Rse=()=>{},Mse=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Lse(e){return!!(e&&dn(e.append)&&e[YD]==="FormData"&&e[vp])}const $se=e=>{const t=new Array(10),n=(r,i)=>{if(eu(r)){if(t.indexOf(r)>=0)return;if(Zc(r))return r;if(!("toJSON"in r)){t[i]=r;const a=$s(r)?[]:{};return tu(r,(o,s)=>{const l=n(o,i+1);!ms(l)&&(a[s]=l)}),t[i]=void 0,a}}return r};return n(e,0)},Fse=yr("AsyncFunction"),Use=e=>e&&(eu(e)||dn(e))&&dn(e.then)&&dn(e.catch),tR=((e,t)=>e?setImmediate:t?((n,r)=>(Pa.addEventListener("message",({source:i,data:a})=>{i===Pa&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Pa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dn(Pa.postMessage)),zse=typeof queueMicrotask<"u"?queueMicrotask.bind(Pa):typeof process<"u"&&process.nextTick||tR,Bse=e=>e!=null&&dn(e[vp]),K={isArray:$s,isArrayBuffer:JD,isBuffer:Zc,isFormData:pse,isArrayBufferView:ase,isString:ose,isNumber:XD,isBoolean:sse,isObject:eu,isPlainObject:hd,isEmptyObject:lse,isReadableStream:gse,isRequest:vse,isResponse:yse,isHeaders:xse,isUndefined:ms,isDate:cse,isFile:use,isBlob:dse,isRegExp:Tse,isFunction:dn,isStream:hse,isURLSearchParams:mse,isTypedArray:Ese,isFileList:fse,forEach:tu,merge:xy,extend:wse,trim:bse,stripBOM:kse,inherits:Sse,toFlatObject:jse,kindOf:yp,kindOfTest:yr,endsWith:_se,toArray:Cse,forEachEntry:Pse,matchAll:Ose,isHTMLForm:Nse,hasOwnProperty:Y_,hasOwnProp:Y_,reduceDescriptors:eR,freezeMethods:Ise,toObjectSet:Dse,toCamelCase:Ase,noop:Rse,toFiniteNumber:Mse,findKey:QD,global:Pa,isContextDefined:ZD,isSpecCompliantForm:Lse,toJSONObject:$se,isAsyncFn:Fse,isThenable:Use,setImmediate:tR,asap:zse,isIterable:Bse};function fe(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}K.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const nR=fe.prototype,rR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rR[e]={value:e}});Object.defineProperties(fe,rR);Object.defineProperty(nR,"isAxiosError",{value:!0});fe.from=(e,t,n,r,i,a)=>{const o=Object.create(nR);K.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return fe.call(o,s,l,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const Wse=null;function by(e){return K.isPlainObject(e)||K.isArray(e)}function iR(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function J_(e,t,n){return e?e.concat(t).map(function(i,a){return i=iR(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Kse(e){return K.isArray(e)&&!e.some(by)}const qse=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function bp(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!K.isUndefined(y[g])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(K.isDate(m))return m.toISOString();if(K.isBoolean(m))return m.toString();if(!l&&K.isBlob(m))throw new fe("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(m)||K.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let v=m;if(m&&!y&&typeof m=="object"){if(K.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(K.isArray(m)&&Kse(m)||(K.isFileList(m)||K.endsWith(g,"[]"))&&(v=K.toArray(m)))return g=iR(g),v.forEach(function(w,S){!(K.isUndefined(w)||w===null)&&t.append(o===!0?J_([g],S,a):o===null?g:g+"[]",c(w))}),!1}return by(m)?!0:(t.append(J_(y,g,a),c(m)),!1)}const f=[],h=Object.assign(qse,{defaultVisitor:u,convertValue:c,isVisitable:by});function p(m,g){if(!K.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),K.forEach(m,function(v,b){(!(K.isUndefined(v)||v===null)&&i.call(t,v,K.isString(b)?b.trim():b,g,h))===!0&&p(v,g?g.concat(b):[b])}),f.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return p(e),t}function X_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Xb(e,t){this._pairs=[],e&&bp(e,this,t)}const aR=Xb.prototype;aR.append=function(t,n){this._pairs.push([t,n])};aR.toString=function(t){const n=t?function(r){return t.call(this,r,X_)}:X_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Hse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oR(e,t,n){if(!t)return e;const r=n&&n.encode||Hse;K.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=K.isURLSearchParams(t)?t.toString():new Xb(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Vse{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Q_=Vse,sR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gse=typeof URLSearchParams<"u"?URLSearchParams:Xb,Yse=typeof FormData<"u"?FormData:null,Jse=typeof Blob<"u"?Blob:null,Xse={isBrowser:!0,classes:{URLSearchParams:Gse,FormData:Yse,Blob:Jse},protocols:["http","https","file","blob","url","data"]},Qb=typeof window<"u"&&typeof document<"u",wy=typeof navigator=="object"&&navigator||void 0,Qse=Qb&&(!wy||["ReactNative","NativeScript","NS"].indexOf(wy.product)<0),Zse=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ele=Qb&&window.location.href||"http://localhost",tle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qb,hasStandardBrowserEnv:Qse,hasStandardBrowserWebWorkerEnv:Zse,navigator:wy,origin:ele},Symbol.toStringTag,{value:"Module"})),Ft={...tle,...Xse};function nle(e,t){return bp(e,new Ft.classes.URLSearchParams,{visitor:function(n,r,i,a){return Ft.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function rle(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ile(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function lR(e){function t(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=n.length;return o=!o&&K.isArray(i)?i.length:o,l?(K.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!K.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],a)&&K.isArray(i[o])&&(i[o]=ile(i[o])),!s)}if(K.isFormData(e)&&K.isFunction(e.entries)){const n={};return K.forEachEntry(e,(r,i)=>{t(rle(r),i,n,0)}),n}return null}function ale(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Zb={transitional:sR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=K.isObject(t);if(a&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return i?JSON.stringify(lR(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nle(t,this.formSerializer).toString();if((s=K.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return bp(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),ale(t)):t}],transformResponse:[function(t){const n=this.transitional||Zb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?fe.from(s,fe.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{Zb.headers[e]={}});const ew=Zb,ole=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sle=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&ole[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Z_=Symbol("internals");function cl(e){return e&&String(e).trim().toLowerCase()}function pd(e){return e===!1||e==null?e:K.isArray(e)?e.map(pd):String(e)}function lle(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const cle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ym(e,t,n,r,i){if(K.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!K.isString(t)){if(K.isString(r))return t.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(t)}}function ule(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function dle(e,t){const n=K.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}class wp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(s,l,c){const u=cl(l);if(!u)throw new Error("header name must be a non-empty string");const f=K.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=pd(s))}const o=(s,l)=>K.forEach(s,(c,u)=>a(c,u,l));if(K.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(K.isString(t)&&(t=t.trim())&&!cle(t))o(sle(t),n);else if(K.isObject(t)&&K.isIterable(t)){let s={},l,c;for(const u of t){if(!K.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?K.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=cl(t),t){const r=K.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return lle(i);if(K.isFunction(n))return n.call(this,i,r);if(K.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cl(t),t){const r=K.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ym(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(o){if(o=cl(o),o){const s=K.findKey(r,o);s&&(!n||Ym(r,r[s],s,n))&&(delete r[s],i=!0)}}return K.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Ym(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return K.forEach(this,(i,a)=>{const o=K.findKey(r,a);if(o){n[o]=pd(i),delete n[a];return}const s=t?ule(a):String(a).trim();s!==a&&delete n[a],n[s]=pd(i),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return K.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Z_]=this[Z_]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=cl(o);r[s]||(dle(i,o),r[s]=!0)}return K.isArray(t)?t.forEach(a):a(t),this}}wp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(wp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});K.freezeMethods(wp);const pr=wp;function Jm(e,t){const n=this||ew,r=t||n,i=pr.from(r.headers);let a=r.data;return K.forEach(e,function(s){a=s.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function cR(e){return!!(e&&e.__CANCEL__)}function Fs(e,t,n){fe.call(this,e??"canceled",fe.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(Fs,fe,{__CANCEL__:!0});function uR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function fle(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function hle(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[a];o||(o=c),n[i]=l,r[i]=c;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function ple(e,t){let n=0,r=1e3/t,i,a;const o=(c,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const Ff=(e,t,n=3)=>{let r=0;const i=hle(50,250);return ple(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),u=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},eC=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},tC=e=>(...t)=>K.asap(()=>e(...t)),mle=Ft.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ft.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,gle=Ft.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];K.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),K.isString(r)&&o.push("path="+r),K.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function vle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yle(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function dR(e,t,n){let r=!vle(t);return e&&(r||n==!1)?yle(e,t):t}const nC=e=>e instanceof pr?{...e}:e;function Ya(e,t){t=t||{};const n={};function r(c,u,f,h){return K.isPlainObject(c)&&K.isPlainObject(u)?K.merge.call({caseless:h},c,u):K.isPlainObject(u)?K.merge({},u):K.isArray(u)?u.slice():u}function i(c,u,f,h){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function a(c,u){if(!K.isUndefined(u))return r(void 0,u)}function o(c,u){if(K.isUndefined(u)){if(!K.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,f)=>i(nC(c),nC(u),f,!0)};return K.forEach(Object.keys({...e,...t}),function(u){const f=l[u]||i,h=f(e[u],t[u],u);K.isUndefined(h)&&f!==s||(n[u]=h)}),n}const fR=e=>{const t=Ya({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=pr.from(o),t.url=oR(dR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),K.isFormData(n)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(K.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Ft.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(t)),r||r!==!1&&mle(t.url))){const l=i&&a&&gle.read(a);l&&o.set(i,l)}return t},xle=typeof XMLHttpRequest<"u",ble=xle&&function(e){return new Promise(function(n,r){const i=fR(e);let a=i.data;const o=pr.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,f,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function v(){if(!y)return;const w=pr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),j={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};uR(function(C){n(C),g()},function(C){r(C),g()},j),y=null}"onloadend"in y?y.onloadend=v:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(v)},y.onabort=function(){y&&(r(new fe("Request aborted",fe.ECONNABORTED,e,y)),y=null)},y.onerror=function(S){const j=S&&S.message?S.message:"Network Error",k=new fe(j,fe.ERR_NETWORK,e,y);k.event=S||null,r(k),y=null},y.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||sR;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new fe(S,j.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&K.forEach(o.toJSON(),function(S,j){y.setRequestHeader(j,S)}),K.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),c&&([h,m]=Ff(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([f,p]=Ff(l),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=w=>{y&&(r(!w||w.type?new Fs(null,e,y):w),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=fle(i.url);if(b&&Ft.protocols.indexOf(b)===-1){r(new fe("Unsupported protocol "+b+":",fe.ERR_BAD_REQUEST,e));return}y.send(a||null)})},wle=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof fe?u:new Fs(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new fe(`timeout ${t} of ms exceeded`,fe.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>K.asap(s),l}},kle=wle,Sle=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},jle=async function*(e,t){for await(const n of _le(e))yield*Sle(n,t)},_le=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},rC=(e,t,n,r)=>{const i=jle(e,t);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let f=u.byteLength;if(n){let h=a+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},iC=64*1024,{isFunction:Hu}=K,Cle=(({Request:e,Response:t})=>({Request:e,Response:t}))(K.global),{ReadableStream:aC,TextEncoder:oC}=K.global,sC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ele=e=>{e=K.merge.call({skipUndefined:!0},Cle,e);const{fetch:t,Request:n,Response:r}=e,i=t?Hu(t):typeof fetch=="function",a=Hu(n),o=Hu(r);if(!i)return!1;const s=i&&Hu(aC),l=i&&(typeof oC=="function"?(m=>g=>m.encode(g))(new oC):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=a&&s&&sC(()=>{let m=!1;const g=new n(Ft.origin,{body:new aC,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=o&&s&&sC(()=>K.isReadableStream(new r("").body)),f={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,y)=>{let v=g&&g[m];if(v)return v.call(g);throw new fe(`Response type '${m}' is not supported`,fe.ERR_NOT_SUPPORT,y)})});const h=async m=>{if(m==null)return 0;if(K.isBlob(m))return m.size;if(K.isSpecCompliantForm(m))return(await new n(Ft.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(K.isArrayBufferView(m)||K.isArrayBuffer(m))return m.byteLength;if(K.isURLSearchParams(m)&&(m=m+""),K.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const y=K.toFiniteNumber(m.getContentLength());return y??h(g)};return async m=>{let{url:g,method:y,data:v,signal:b,cancelToken:w,timeout:S,onDownloadProgress:j,onUploadProgress:k,responseType:C,headers:N,withCredentials:O="same-origin",fetchOptions:P}=fR(m),I=t||fetch;C=C?(C+"").toLowerCase():"text";let A=kle([b,w&&w.toAbortSignal()],S),R=null;const L=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let z;try{if(k&&c&&y!=="get"&&y!=="head"&&(z=await p(N,v))!==0){let J=new n(g,{method:"POST",body:v,duplex:"half"}),D;if(K.isFormData(v)&&(D=J.headers.get("content-type"))&&N.setContentType(D),J.body){const[E,ee]=eC(z,Ff(tC(k)));v=rC(J.body,iC,E,ee)}}K.isString(O)||(O=O?"include":"omit");const W=a&&"credentials"in n.prototype,$={...P,signal:A,method:y.toUpperCase(),headers:N.normalize().toJSON(),body:v,duplex:"half",credentials:W?O:void 0};R=a&&new n(g,$);let T=await(a?I(R,P):I(g,$));const U=u&&(C==="stream"||C==="response");if(u&&(j||U&&L)){const J={};["status","statusText","headers"].forEach(te=>{J[te]=T[te]});const D=K.toFiniteNumber(T.headers.get("content-length")),[E,ee]=j&&eC(D,Ff(tC(j),!0))||[];T=new r(rC(T.body,iC,E,()=>{ee&&ee(),L&&L()}),J)}C=C||"text";let _=await f[K.findKey(f,C)||"text"](T,m);return!U&&L&&L(),await new Promise((J,D)=>{uR(J,D,{data:_,headers:pr.from(T.headers),status:T.status,statusText:T.statusText,config:m,request:R})})}catch(W){throw L&&L(),W&&W.name==="TypeError"&&/Load failed|fetch/i.test(W.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,m,R),{cause:W.cause||W}):fe.from(W,W&&W.code,m,R)}}},Ple=new Map,hR=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o=a.length,s=o,l,c,u=Ple;for(;s--;)l=a[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:Ele(t)),u=c;return c};hR();const ky={http:Wse,xhr:ble,fetch:{get:hR}};K.forEach(ky,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const lC=e=>`- ${e}`,Ole=e=>K.isFunction(e)||e===null||e===!1,pR={getAdapter:(e,t)=>{e=K.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){r=e[o];let s;if(i=r,!Ole(r)&&(i=ky[(s=String(r)).toLowerCase()],i===void 0))throw new fe(`Unknown adapter '${s}'`);if(i&&(K.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(lC).join(`
`):" "+lC(o[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:ky};function Xm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fs(null,e)}function cC(e){return Xm(e),e.headers=pr.from(e.headers),e.data=Jm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pR.getAdapter(e.adapter||ew.adapter,e)(e).then(function(r){return Xm(e),r.data=Jm.call(e,e.transformResponse,r),r.headers=pr.from(r.headers),r},function(r){return cR(r)||(Xm(e),r&&r.response&&(r.response.data=Jm.call(e,e.transformResponse,r.response),r.response.headers=pr.from(r.response.headers))),Promise.reject(r)})}const mR="1.12.2",kp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{kp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const uC={};kp.transitional=function(t,n,r){function i(a,o){return"[Axios v"+mR+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(t===!1)throw new fe(i(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!uC[o]&&(uC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,s):!0}};kp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Nle(e,t,n){if(typeof e!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new fe("option "+a+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+a,fe.ERR_BAD_OPTION)}}const md={assertOptions:Nle,validators:kp},wr=md.validators;class Uf{constructor(t){this.defaults=t||{},this.interceptors={request:new Q_,response:new Q_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ya(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&md.assertOptions(r,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),i!=null&&(K.isFunction(i)?n.paramsSerializer={serialize:i}:md.assertOptions(i,{encode:wr.function,serialize:wr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),md.assertOptions(n,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&K.merge(a.common,a[n.method]);a&&K.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=pr.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!l){const m=[cC.bind(this),void 0];for(m.unshift(...s),m.push(...c),h=m.length,u=Promise.resolve(n);f<h;)u=u.then(m[f++],m[f++]);return u}h=s.length;let p=n;for(;f<h;){const m=s[f++],g=s[f++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=cC.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Ya(this.defaults,t);const n=dR(t.baseURL,t.url,t.allowAbsoluteUrls);return oR(n,t.params,t.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(t){Uf.prototype[t]=function(n,r){return this.request(Ya(r||{},{method:t,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,s){return this.request(Ya(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Uf.prototype[t]=n(),Uf.prototype[t+"Form"]=n(!0)});const gd=Uf;class tw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,s){r.reason||(r.reason=new Fs(a,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new tw(function(i){t=i}),cancel:t}}}const Ale=tw;function Tle(e){return function(n){return e.apply(null,n)}}function Ile(e){return K.isObject(e)&&e.isAxiosError===!0}const Sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sy).forEach(([e,t])=>{Sy[t]=e});const Dle=Sy;function gR(e){const t=new gd(e),n=GD(gd.prototype.request,t);return K.extend(n,gd.prototype,t,{allOwnKeys:!0}),K.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return gR(Ya(e,i))},n}const ft=gR(ew);ft.Axios=gd;ft.CanceledError=Fs;ft.CancelToken=Ale;ft.isCancel=cR;ft.VERSION=mR;ft.toFormData=bp;ft.AxiosError=fe;ft.Cancel=ft.CanceledError;ft.all=function(t){return Promise.all(t)};ft.spread=Tle;ft.isAxiosError=Ile;ft.mergeConfig=Ya;ft.AxiosHeaders=pr;ft.formToJSON=e=>lR(K.isHTMLForm(e)?new FormData(e):e);ft.getAdapter=pR.getAdapter;ft.HttpStatusCode=Dle;ft.default=ft;const vR=ft,wo={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL||"https://n8n.srv978041.hstgr.cloud",yR={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_UPLOAD_WEBHOOK_ID||"1f18f1aa-44c4-467f-b299-c87c9b6f9459",Rle={UPLOAD:`${wo}/webhook/${yR}`,LIST_FILES:`${wo}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_LIST_FILES_WEBHOOK_ID||"list-files"}`,DELETE_FILE:`${wo}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_DELETE_FILE_WEBHOOK_ID||"delete-file"}`,REINDEX_FILE:`${wo}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_REINDEX_FILE_WEBHOOK_ID||"reindex-file"}`,GET_FILE_STATUS:`${wo}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_FILE_STATUS_WEBHOOK_ID||"file-status"}`};function Mle(e){return e.size>10485760?{valid:!1,error:"File size must be less than 10MB"}:["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown","application/json","text/html"].includes(e.type)?{valid:!0}:{valid:!1,error:"Unsupported file type. Please upload PDF, Word, Excel, CSV, TXT, MD, JSON, or HTML files."}}function Lle(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}function $le(e){return e.includes("pdf")?"":e.includes("word")||e.includes("document")?"":e.includes("excel")||e.includes("spreadsheet")?"":e.includes("csv")?"":e.includes("text")?"":e.includes("markdown")?"":e.includes("json")?"":e.includes("html")?"":""}async function Fle(e){var t,n;try{console.log(`Re-indexing file via n8n: ${e}`);const r=await vR.post(Rle.REINDEX_FILE,{fileId:e},{headers:{Accept:"application/json","Content-Type":"application/json"},timeout:15e3});return console.log("Re-index response:",r.data),{success:!0,message:r.data.message||"File re-indexed successfully"}}catch(r){return console.error("Error re-indexing file:",r),{success:!1,message:((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||r.message||"Failed to re-index file"}}}const Ma="knowledge-base";async function Ule(e,t){try{const{data:n,error:r}=await e.storage.from(Ma).list("files",{limit:1e3,offset:0});if(r)return console.error("Error listing files:",r),t;if(!n||n.length===0||!n.some(u=>u.name===t))return t;const a=t.split("."),o=a.length>1?`.${a.pop()}`:"",s=a.join(".");let l=1,c=`${s} (${l})${o}`;for(;n.some(u=>u.name===c);)l++,c=`${s} (${l})${o}`;return console.log(` Duplicate file detected: ${t}  ${c}`),c}catch(n){return console.error("Error in getUniqueFileName:",n),t}}async function zle(e){const t=[],n=Ke();for(const r of e)try{const i=Mle(r);if(!i.valid){t.push({success:!1,message:"File validation failed",fileName:r.name,error:i.error});continue}const a=await Ule(n,r.name),o=`files/${a}`;console.log(`Uploading file to Supabase Storage: ${o}`);const{data:s,error:l}=await n.storage.from(Ma).upload(o,r,{cacheControl:"3600",upsert:!1});if(l){console.error("Supabase upload error:",l),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:l.message});continue}console.log("File uploaded successfully:",s),t.push({success:!0,message:"File uploaded successfully",fileName:a})}catch(i){console.error("Error uploading file to Supabase:",i),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:i.message||"Unknown error"})}return t}async function Ble(){try{console.log("Fetching files from Supabase Storage...");const e=Ke(),{data:t,error:n}=await e.storage.from(Ma).list("files",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(n)return console.error("Supabase list error:",n),{success:!1,files:[],total:0,message:n.message};console.log("Files fetched from Supabase:",t);const r=t.map(i=>{var a,o;return{id:i.id||i.name,name:i.name,size:((a=i.metadata)==null?void 0:a.size)||0,type:((o=i.metadata)==null?void 0:o.mimetype)||"application/octet-stream",uploadedAt:i.created_at||new Date().toISOString(),status:"ready",lastModified:i.updated_at||i.created_at,syncStatus:"synced"}});return{success:!0,files:r,total:r.length,message:"Files fetched successfully"}}catch(e){return console.error("Error fetching files from Supabase:",e),{success:!1,files:[],total:0,message:e.message||"Failed to fetch files"}}}async function Wle(e){try{console.log(`Deleting file from Supabase Storage: ${e}`);const t=Ke(),n=`files/${e}`,{error:r}=await t.storage.from(Ma).remove([n]);return r?(console.error("Supabase delete error:",r),{success:!1,message:r.message}):(console.log("File deleted successfully from Supabase"),{success:!0,message:"File deleted successfully"})}catch(t){return console.error("Error deleting file from Supabase:",t),{success:!1,message:t.message||"Failed to delete file"}}}function Kle(e){if(e.size>52428800)return{valid:!1,error:"File size must be less than 50MB"};const n=[".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".txt",".md",".csv",".json",".html",".rtf",".xml",".css",".js",".ts"],r=e.name.toLowerCase();return n.some(a=>r.endsWith(a))?{valid:!0}:{valid:!1,error:`Unsupported file type. Allowed: ${n.join(", ")}`}}async function xR(){try{console.log("Fetching vector documents from Supabase...");const e=Ke(),{data:t,error:n,count:r}=await e.from("documents").select("*",{count:"exact"}).order("id",{ascending:!1});return n?(console.error("Supabase error:",n),{success:!1,documents:[],total:0,message:n.message}):(console.log(` Fetched ${(t==null?void 0:t.length)||0} documents from Supabase`),{success:!0,documents:t||[],total:r||0,message:"Documents fetched successfully"})}catch(e){return console.error("Error fetching vector documents:",e),{success:!1,documents:[],total:0,message:e.message||"Failed to fetch documents"}}}async function bR(e){try{const t=Ke(),n=`files/${e}`;console.log(` Requesting signed URL for: ${n}`);const{data:r,error:i}=await t.storage.from(Ma).createSignedUrl(n,3600);if(console.log(" Signed URL response:",{urlData:r,urlError:i}),i||!(r!=null&&r.signedUrl))return console.error("Error getting file URL:",i),{success:!1,message:"Failed to get file URL"};const{data:a}=t.storage.from(Ma).getPublicUrl(n);console.log(" Public URL for comparison:",a),console.log(` Sending file to n8n for indexing: ${e}`);let o=r.signedUrl;if(r.signedUrl.startsWith("http"))console.log(" URL already full, no conversion needed");else{const u={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_URL||"https://qpyteahuynkgkbmdasbv.supabase.co";r.signedUrl.startsWith("/object/")?(o=`${u}/storage/v1${r.signedUrl}`,console.log(" Converted relative URL to full URL")):r.signedUrl.startsWith("/storage/")?(o=`${u}${r.signedUrl}`,console.log(" Converted /storage/ URL to full URL")):(o=`${u}/storage/v1/object/sign/${Ma}/${n}?token=${r.signedUrl.split("token=")[1]||""}`,console.log(" Used fallback URL construction"))}console.log(` FINAL URL SENT TO N8N: ${o}`),console.log(` Request time: ${new Date().toISOString()}`);const s={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_DEV_MODE==="true"||localStorage.getItem("n8n-dev-mode")==="true",l=s?"https://n8n.srv978041.hstgr.cloud/webhook-test/1f18f1aa-44c4-467f-b299-c87c9b6f9459":{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL?`${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_BASE_URL}/webhook/${{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_N8N_UPLOAD_WEBHOOK_ID}`:`${wo}/webhook/${yR}`;console.log(` Webhook mode: ${s?"DEV (test)":"PRODUCTION"}`),console.log(` Using webhook: ${l}`),s&&console.warn(" Using TEST webhook - this may not be active!"),console.log(` n8n Webhook URL: ${l}`);const c=[{fileUrl:o,fileName:e,source:"supabase-storage"}];console.log(" Payload being sent:",c);try{const u=await vR.post(l,c,{headers:{"Content-Type":"application/json"},timeout:3e4});console.log(" File sent to n8n for indexing:",u.data),console.log(" Response status:",u.status),console.log(" Response headers:",u.headers);const f=u.data.workflowId||u.data.executionId,h=u.data.estimatedTime||"30-60 seconds";return{success:!0,message:`File sent for indexing successfully. Processing time: ${h}`,...f&&{workflowId:f},...h&&{estimatedTime:h}}}catch(u){console.warn(" Axios failed (likely CORS), trying fetch with no-cors:",u);try{const f=await fetch(l,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});return console.log(` Fetch request sent (no-cors mode) - status: ${f.status}`),console.log(` Response type: ${f.type}`),f.status===0?(console.log(" Request sent successfully (no-cors mode)"),{success:!0,message:"File sent for indexing (CORS bypassed). Processing time: 30-60 seconds"}):(console.warn(` Unexpected status in no-cors mode: ${f.status}`),{success:!0,message:`File sent for indexing (CORS bypassed, status: ${f.status}). Processing time: 30-60 seconds`})}catch(f){console.error(" Both axios and fetch failed:",f);const h=f instanceof Error?f.message:String(f);if(h!=null&&h.includes("404")||h!=null&&h.includes("ERR_ABORTED"))return{success:!1,message:`Webhook URL not found (404). Please check if the webhook is active: ${l}`};throw f}}}catch(t){const n=t instanceof Error?t.message:"Failed to index file";return console.error("Error indexing file:",t),{success:!1,message:n}}}async function qle(e){try{const t=Ke(),{data:n,error:r}=await t.from("documents").select("id, created_at, metadata").ilike("metadata->>fileName",e).order("created_at",{ascending:!1});if(r)return console.error("Error checking indexing status:",r),{success:!1,message:"Failed to check indexing status",status:"failed"};if(n&&n.length>0){const i=n[0];return{success:!0,message:`File indexed successfully with ${n.length} chunks`,status:"completed",chunksCount:n.length,lastUpdated:i.created_at}}else return{success:!0,message:"File not yet indexed or indexing in progress",status:"pending"}}catch(t){return console.error("Error checking indexing status:",t),{success:!1,message:"Failed to check indexing status",status:"failed"}}}async function Hle(e){try{const t=Ke();console.log(` Direct Supabase deletion for filename: "${e}"`),console.log(` Filename length: ${e.length}`),console.log(` Filename characters: ${e.split("").map(l=>l.charCodeAt(0)).join(",")}`);let n=[],r=0;console.log(" Trying exact match...");let{data:i,error:a}=await t.from("documents").select("id, metadata").eq("metadata->>fileName",e);if(!a&&i&&i.length>0)n=i,r=i.length,console.log(` Found ${r} records with exact match`);else{console.log(" Exact match failed, trying ilike...");let{data:l,error:c}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",e);if(!c&&l&&l.length>0)n=l,r=l.length,console.log(` Found ${r} records with ilike match`);else{console.log(" ilike match failed, trying contains...");let{data:u,error:f}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",`%${e}%`);if(!f&&u&&u.length>0)n=u,r=u.length,console.log(` Found ${r} records with contains match`);else{console.log(" All query approaches failed");let{data:h}=await t.from("documents").select("metadata").limit(10);console.log(" Sample metadata from database:",h);let{data:p}=await t.from("documents").select("metadata->>fileName").not("metadata->>fileName","is",null);if(p){const m=[...new Set(p.map(g=>g.fileName))];console.log(" All unique filenames in database:",m),console.log(' Looking for filename containing "PM-Marketing":',m.filter(g=>g&&g.includes("PM-Marketing"))),console.log(' Looking for filename containing "Team Notebook":',m.filter(g=>g&&g.includes("Team Notebook")))}return{success:!1,message:`No records found for filename: ${e}. Check console for debugging info.`,deletedCount:0}}}}if(console.log(` Found ${r} records to delete for filename: ${e}`),r===0)return{success:!0,message:`No records found for filename: ${e}`,deletedCount:0};let o=t.from("documents").delete();if(n.length>0){const l=n.map(c=>c.id);o=o.in("id",l)}else o=o.ilike("metadata->>fileName",e);const{error:s}=await o;return s?(console.error("Error deleting records:",s),{success:!1,message:`Failed to delete documents: ${s.message}`,deletedCount:0}):(console.log(` Successfully deleted ${r} records for filename: ${e}`),{success:!0,message:`File ${e} unindexed successfully (${r} chunks removed)`,deletedCount:r})}catch(t){return console.error("Error in direct Supabase deletion:",t),{success:!1,message:`Failed to delete documents: ${t.message}`,deletedCount:0}}}async function wR(e){try{return console.log(" Unindexing file using direct Supabase deletion:",e),await Hle(e)}catch(t){return console.error(" Failed to unindex file:",t),{success:!1,message:`Failed to unindex file: ${t.message||"Unknown error"}`}}}const dC=()=>{const{t:e}=et(),t=x.useRef(null),[n,r]=x.useState(!1),[i,a]=x.useState([]),[o,s]=x.useState(!1),[l,c]=x.useState([]),[u,f]=x.useState(""),[h,p]=x.useState("date"),[m,g]=x.useState("desc"),[y,v]=x.useState(!1),[b,w]=x.useState(null),[S,j]=x.useState(null),[k,C]=x.useState({}),[N,O]=x.useState(new Set),[P,I]=x.useState(()=>localStorage.getItem("n8n-dev-mode")==="true"),A="supabase",R=()=>{const M=!P;I(M),localStorage.setItem("n8n-dev-mode",M.toString()),console.log(` Switched to ${M?"DEV":"PRODUCTION"} mode`)},L=()=>{I(!1),localStorage.setItem("n8n-dev-mode","false"),console.log(" Reset to PRODUCTION mode")},z=async()=>{console.log(" Refreshing sync status for all files..."),v(!0);try{await W(),console.log(" Sync status refreshed")}catch(M){console.error(" Error refreshing sync status:",M),w("Failed to refresh sync status")}finally{v(!1)}};x.useEffect(()=>{W()},[A]),x.useEffect(()=>{const M=localStorage.getItem("n8n-dev-mode");(M===null||M==="true")&&(I(!1),localStorage.setItem("n8n-dev-mode","false"),console.log(" Defaulted to PRODUCTION mode"))},[]),x.useEffect(()=>{window.resetToProduction=L,window.toggleDevMode=R,console.log(" Debug commands available:"),console.log("  - window.resetToProduction() - Reset to production mode"),console.log("  - window.toggleDevMode() - Toggle between dev/prod")},[]),x.useEffect(()=>{if(N.size===0)return;const M=setInterval(async()=>{for(const B of N)try{const Y=await qle(B);C(q=>({...q,[B]:{status:Y.status,message:Y.message,chunksCount:Y.chunksCount,lastUpdated:Y.lastUpdated}})),(Y.status==="completed"||Y.status==="failed")&&O(q=>{const ge=new Set(q);return ge.delete(B),ge})}catch(Y){console.error(`Error polling status for ${B}:`,Y)}},3e3);return()=>clearInterval(M)},[N]);const W=async()=>{v(!0),w(null);try{const M=await Ble();M.success?(c(M.files),console.log(` Loaded ${M.files.length} files from Supabase Storage`)):(w(M.message||"Failed to load files from Supabase"),console.error("Failed to load files:",M.message))}catch(M){w("Failed to connect to Supabase Storage. Please check your configuration."),console.error("Error loading files:",M)}finally{v(!1)}},$=()=>{W()},T=async(M,B)=>{if(confirm(`Are you sure you want to delete "${B}"?`))try{const Y=await Wle(B);Y.success?(c(q=>q.filter(ge=>ge.id!==M)),console.log(` File ${B} deleted successfully`)):alert(`Failed to delete file: ${Y.message}`)}catch(Y){console.error("Error deleting file:",Y),alert("Failed to delete file")}},U=async M=>{j(M);try{console.log(" Starting index process for:",M),C(Y=>({...Y,[M]:{status:"processing",message:"Sending file to n8n for indexing..."}}));const B=await bR(M);console.log(" Index result:",B),B.success?(O(Y=>new Set(Y).add(M)),C(Y=>({...Y,[M]:{status:"processing",message:B.message||"File sent for indexing, checking status..."}})),alert(` ${B.message}

Status will be updated automatically. Check the Knowledge Index tab when complete.`),W()):(C(Y=>({...Y,[M]:{status:"failed",message:B.message||"Failed to send file for indexing"}})),alert(` ${B.message}

Check the browser console for more details.`))}catch(B){console.error(" Error indexing file:",B),C(Y=>({...Y,[M]:{status:"failed",message:`Error: ${B}`}})),alert(` Error indexing file: ${B}

Check the browser console for more details.`)}finally{j(null)}},_=async M=>{if(confirm(` Are you sure you want to unindex all chunks for "${M}"? This will remove ALL chunks for this file.`)){j(M);try{const B=await wR(M);B.success?(alert(` ${B.message} (${B.deletedCount||0} chunks removed)`),W()):alert(` ${B.message}`)}catch(B){console.error("Error unindexing file:",B),alert(` Error unindexing file: ${B}`)}finally{j(null)}}},J=async(M,B)=>{try{const Y=await Fle(M);Y.success?(alert(`File "${B}" re-indexed successfully`),W()):alert(`Failed to re-index file: ${Y.message}`)}catch(Y){console.error("Error re-indexing file:",Y),alert("Failed to re-index file")}},D=async M=>{try{const B=(await Xi(()=>Promise.resolve().then(()=>z3),void 0)).getSupabaseClient(),Y=`files/${M}`,{data:q,error:ge}=await B.storage.from("knowledge-base").createSignedUrl(Y,3600);if(ge){console.error("Error creating signed URL:",ge),alert(`Failed to get download URL: ${ge.message}`);return}q!=null&&q.signedUrl?window.open(q.signedUrl,"_blank"):alert("Failed to get download URL")}catch(B){console.error("Error downloading file:",B),alert("Failed to download file")}},E=x.useCallback(M=>{if(!M||M.length===0)return;const B=Array.from(M),Y=[],q=[];B.forEach(ge=>{const we=Kle(ge);we.valid?Y.push(ge):q.push(`${ge.name}: ${we.error}`)}),q.length>0&&alert(q.join(`
`)),Y.length>0&&ee(Y)},[A]),ee=async M=>{r(!0),a([]);try{const B=await zle(M);a(B);const Y=B.filter(ge=>ge.success).length,q=B.filter(ge=>!ge.success).length;Y>0&&console.log(` ${Y} file(s) uploaded successfully`),q>0&&console.error(` ${q} file(s) failed to upload`),await W()}catch(B){console.error("Upload error:",B)}finally{r(!1)}},te=x.useCallback(M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?s(!0):M.type==="dragleave"&&s(!1)},[]),oe=x.useCallback(M=>{M.preventDefault(),M.stopPropagation(),s(!1),M.dataTransfer.files&&M.dataTransfer.files[0]&&E(M.dataTransfer.files)},[E]),me=M=>{E(M.target.files)},Ue=l.filter(M=>M.name.toLowerCase().includes(u.toLowerCase())).sort((M,B)=>{let Y=0;switch(h){case"name":Y=M.name.localeCompare(B.name);break;case"date":Y=new Date(M.uploadedAt).getTime()-new Date(B.uploadedAt).getTime();break;case"size":Y=M.size-B.size;break}return m==="asc"?Y:-Y});return d.jsxs("div",{className:"file-library",children:[d.jsx("div",{className:"fl-header",children:d.jsxs("div",{className:"fl-header-content",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"fl-title",children:e("knowledge.fileLibrary")}),d.jsx("p",{className:"fl-description",children:e("knowledge.fileLibraryDescription")})]}),d.jsx("div",{className:"webhook-mode-toggle",children:d.jsx("button",{onClick:R,className:`mode-toggle-btn ${P?"dev-mode":"prod-mode"}`,children:P?" DEV Mode":" PROD Mode"})})]})}),d.jsx("div",{className:"fl-upload-section",children:d.jsxs("div",{className:`fl-upload-area ${o?"drag-active":""} ${n?"uploading":""}`,onDragEnter:te,onDragLeave:te,onDragOver:te,onDrop:oe,onClick:()=>{var M;return(M=t.current)==null?void 0:M.click()},children:[d.jsx("input",{ref:t,type:"file",multiple:!0,accept:".txt,.md,.json,.csv,.xml,.html,.css,.js,.ts,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",onChange:me,style:{display:"none"},disabled:n}),d.jsx("div",{className:"upload-content",children:n?d.jsxs("div",{className:"upload-loading",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:e("knowledge.uploadingFiles")})]}):d.jsxs("div",{className:"upload-prompt",children:[d.jsx("div",{className:"upload-icon",children:""}),d.jsx("p",{className:"upload-text",children:e("knowledge.dragFilesHere")}),d.jsx("p",{className:"upload-formats",children:e("knowledge.supportedFormats")})]})})]})}),d.jsxs("div",{className:"fl-controls",children:[d.jsx("div",{className:"fl-search",children:d.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:u,onChange:M=>f(M.target.value),className:"search-input"})}),d.jsxs("button",{className:"refresh-btn",onClick:$,disabled:y,children:[d.jsx("span",{className:"refresh-icon",children:""}),y?e("knowledge.loading")||"Loading...":e("knowledge.refresh")]}),d.jsxs("button",{className:"sync-status-btn",onClick:z,disabled:y,children:[d.jsx("span",{className:"sync-icon",children:""}),y?"Checking...":"Sync Status"]})]}),b&&d.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:b}),d.jsx("div",{className:"fl-table-container",children:y?d.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[d.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading files from n8n..."]}):d.jsxs("table",{className:"fl-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:e("knowledge.fileName")}),d.jsx("th",{children:e("knowledge.size")}),d.jsx("th",{children:e("knowledge.lastModified")}),d.jsx("th",{children:e("knowledge.contentType")}),d.jsx("th",{children:e("knowledge.syncStatus")}),d.jsx("th",{children:e("knowledge.actions")})]})}),d.jsx("tbody",{children:Ue.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"40px",color:"#666"},children:b?"Failed to load files":"No files found. Upload some files to get started."})}):Ue.map(M=>d.jsxs("tr",{children:[d.jsxs("td",{className:"file-name",children:[d.jsx("span",{className:"file-icon",children:$le(M.type)}),M.name]}),d.jsx("td",{children:Lle(M.size)}),d.jsx("td",{children:new Date(M.uploadedAt).toLocaleString()}),d.jsx("td",{children:M.type}),d.jsx("td",{children:d.jsx("span",{className:`sync-status ${M.syncStatus||"pending"}`,title:M.syncStatus==="synced"?"Indexed":M.syncStatus==="pending"?"Not indexed":M.syncStatus==="error"?"Error":"Unknown",children:M.syncStatus==="synced"?"Synced":M.syncStatus==="pending"?"Pending":M.syncStatus==="error"?"Error":"Pending"})}),d.jsxs("td",{children:[k[M.name]&&d.jsxs("div",{className:"indexing-status",style:{marginBottom:"8px",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:k[M.name].status==="completed"?"rgba(16, 185, 129, 0.1)":k[M.name].status==="processing"?"rgba(59, 130, 246, 0.1)":k[M.name].status==="failed"?"rgba(239, 68, 68, 0.1)":"rgba(107, 114, 128, 0.1)",color:k[M.name].status==="completed"?"#10b981":k[M.name].status==="processing"?"#3b82f6":k[M.name].status==="failed"?"#ef4444":"#6b7280"},children:[k[M.name].status==="completed"&&" ",k[M.name].status==="processing"&&" ",k[M.name].status==="failed"&&" ",k[M.name].status==="pending"&&" ",k[M.name].message,k[M.name].chunksCount&&` (${k[M.name].chunksCount} chunks)`]}),d.jsxs("div",{className:"file-actions",children:[d.jsx("button",{className:"action-btn",title:"Index file",onClick:()=>U(M.name),disabled:S===M.name,style:{backgroundColor:S===M.name?"#6b7280":"#10b981",color:"white",marginRight:"4px"},children:S===M.name?"":""}),d.jsx("button",{className:"action-btn",title:"Unindex file",onClick:()=>_(M.name),disabled:S===M.name,style:{backgroundColor:S===M.name?"#6b7280":"#ef4444",color:"white",marginRight:"4px"},children:S===M.name?"":""}),d.jsx("button",{className:"action-btn reindex-btn",title:"Re-index file",onClick:()=>J(M.id,M.name),children:""}),d.jsx("button",{className:"action-btn download-btn",title:e("knowledge.download"),onClick:()=>D(M.name),children:""}),d.jsx("button",{className:"action-btn delete-btn",title:e("knowledge.delete"),onClick:()=>T(M.id,M.name),children:""})]})]})]},M.id))})]})})]})},Vle=()=>{const{t:e}=et(),[t,n]=x.useState(""),[r,i]=x.useState(1),[a,o]=x.useState(500),[s,l]=x.useState(0),[c,u]=x.useState([]),[f,h]=x.useState(!1),[p,m]=x.useState(null),[g,y]=x.useState(null),[v,b]=x.useState(null),[w,S]=x.useState(!1),[j,k]=x.useState(null),[C,N]=x.useState("");x.useEffect(()=>{O()},[]);const O=async()=>{var $;h(!0),m(null);try{console.log(" Loading documents from Supabase..."),console.log(" Current time:",new Date().toISOString());const T=await xR();if(console.log(" Raw response:",T),console.log(" Total documents found:",T.total||0),console.log(" Documents array length:",(($=T.documents)==null?void 0:$.length)||0),T.documents&&T.documents.length>0&&(console.log(" Document creation times:"),T.documents.forEach((U,_)=>{console.log(`  ${_+1}. ID: ${U.id}, Created: ${U.created_at||"N/A"}, Metadata:`,U.metadata)})),T.success){const U=T.documents.map(_=>{var ee,te,oe,me,Ue,M,B;const J=_.metadata||{};console.log("Document metadata:",J);let D="Unknown";J.fileName?D=J.fileName:J.source&&J.source!=="blob"?D=J.source:(te=(ee=J.pdf)==null?void 0:ee.info)!=null&&te.Title?D=J.pdf.info.Title:(me=(oe=J.pdf)==null?void 0:oe.info)!=null&&me.Creator?D=`Document by ${J.pdf.info.Creator}`:J.blobType&&(D=`document.${J.blobType.split("/")[1]||"pdf"}`);let E="";return(Ue=J.loc)!=null&&Ue.lines?E=`Lines ${J.loc.lines.from}-${J.loc.lines.to}`:(M=J.loc)!=null&&M.pageNumber?E=`Page ${J.loc.pageNumber}`:(B=J.pdf)!=null&&B.totalPages&&(E=`PDF (${J.pdf.totalPages} pages)`),{id:_.id.toString(),fileName:D,source:J.source||"blob",chunkIndex:J.chunkIndex||0,content:_.content,pageInfo:E,syncStatus:"synced"}});u(U),l(T.total),console.log(` Loaded ${U.length} documents from Supabase`)}else m(T.message||"Failed to load documents"),console.error("Failed to load documents:",T.message)}catch(T){m("Failed to connect to Supabase. Please check your configuration."),console.error("Error loading documents:",T)}finally{h(!1)}},P=()=>{console.log(" Manual refresh triggered by user"),N(new Date().toLocaleTimeString()),O()},I=$=>{y($)},A=async $=>{b($);try{const T=await bR($);T.success?(alert(` ${T.message}`),O()):alert(` ${T.message}`)}catch(T){alert(` Error indexing file: ${T}`)}finally{b(null)}},R=async $=>{if(confirm(` Are you sure you want to unindex all chunks for "${$}"? This will remove ALL chunks for this file.`)){b($);try{const T=await wR($);T.success?(alert(` ${T.message} (${T.deletedCount||0} chunks removed)`),O()):alert(` ${T.message}`)}catch(T){alert(` Error unindexing file: ${T}`)}finally{b(null)}}},L=$=>{const T=c.reduce((U,_)=>(U[_.fileName]||(U[_.fileName]={fileName:_.fileName,chunkCount:0,chunks:[]}),U[_.fileName].chunkCount++,U[_.fileName].chunks.push(_),U),{});k(T),S(!0)},z=c.filter($=>$.fileName.toLowerCase().includes(t.toLowerCase())||$.source.toLowerCase().includes(t.toLowerCase())||$.content.toLowerCase().includes(t.toLowerCase())),W=Math.ceil(s/a);return d.jsxs("div",{className:"knowledge-index",children:[d.jsxs("div",{className:"ki-header",children:[d.jsx("h2",{className:"ki-title",children:e("knowledge.knowledgeIndex")}),d.jsx("p",{className:"ki-description",children:e("knowledge.knowledgeIndexDescription")})]}),d.jsxs("div",{className:"ki-controls",children:[d.jsx("div",{className:"ki-search",children:d.jsx("input",{type:"text",placeholder:e("knowledge.searchByTitleFilepathContent"),value:t,onChange:$=>n($.target.value),className:"search-input"})}),d.jsxs("div",{className:"ki-pagination-info",children:[d.jsxs("span",{children:["Total items: ",s]}),d.jsxs("span",{children:["Page ",r," of ",W]})]}),d.jsxs("div",{className:"ki-items-per-page",children:[d.jsx("label",{children:"Items per page:"}),d.jsxs("select",{value:a,onChange:$=>o(Number($.target.value)),className:"items-select",children:[d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"}),d.jsx("option",{value:200,children:"200"}),d.jsx("option",{value:500,children:"500"}),d.jsx("option",{value:1e3,children:"1000"}),d.jsx("option",{value:2e3,children:"2000"}),d.jsx("option",{value:5e3,children:"5000"})]})]}),d.jsxs("div",{className:"ki-navigation",children:[d.jsx("button",{className:"nav-btn prev-btn",disabled:r===1,onClick:()=>i($=>Math.max(1,$-1)),children:e("knowledge.previous")}),d.jsx("button",{className:"nav-btn next-btn",disabled:r===W,onClick:()=>i($=>Math.min(W,$+1)),children:e("knowledge.next")})]}),d.jsxs("button",{className:"refresh-btn",onClick:P,disabled:f,children:[d.jsx("span",{className:"refresh-icon",children:""}),f?"Loading...":e("knowledge.refresh"),C&&d.jsxs("span",{style:{fontSize:"0.8em",opacity:.7,marginLeft:"8px"},children:["(Last: ",C,")"]})]})]}),d.jsxs("div",{style:{backgroundColor:"var(--admin-bg-secondary)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"0.9em"},children:[d.jsx("strong",{children:" Debug Info:"})," Total: ",s," | Showing: ",z.length," | Last Refresh: ",C||"Never"," |",d.jsx("button",{onClick:()=>{console.log(" Current documents state:",c),console.log(" Filtered documents:",z)},style:{marginLeft:"8px",padding:"2px 6px",fontSize:"0.8em"},children:"Log State"})]}),p&&d.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:p}),d.jsx("div",{className:"ki-table-container",children:f?d.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[d.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading documents..."]}):d.jsxs("table",{className:"ki-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"File Name"}),d.jsx("th",{children:"Chunk #"}),d.jsx("th",{children:"Source"}),d.jsx("th",{children:"Location"}),d.jsx("th",{children:"Content Preview"}),d.jsx("th",{children:"Sync"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:z.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"40px",color:"#666"},children:p?"Failed to load documents":"No documents found. Upload and index files to see them here."})}):z.map($=>d.jsxs("tr",{children:[d.jsx("td",{className:"doc-title",children:$.fileName}),d.jsx("td",{className:"doc-chunk-index",children:$.chunkIndex}),d.jsx("td",{className:"doc-source",children:$.source}),d.jsx("td",{className:"doc-page-info",children:$.pageInfo||"-"}),d.jsxs("td",{className:"doc-content",style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[$.content.substring(0,100),"..."]}),d.jsx("td",{children:d.jsx("span",{className:`sync-status ${$.syncStatus}`,children:$.syncStatus==="synced"?"":""})}),d.jsx("td",{children:d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{className:"action-btn view-btn",title:"View content",onClick:()=>I($),children:""}),d.jsx("button",{className:"action-btn",title:"Show metadata",onClick:()=>L(),style:{backgroundColor:"#3b82f6",color:"white"},children:""}),d.jsx("button",{className:"action-btn",title:"Index file",onClick:()=>A($.fileName),disabled:v===$.fileName,style:{backgroundColor:"#10b981",color:"white"},children:v===$.fileName?"":""}),d.jsx("button",{className:"action-btn",title:"Unindex file",onClick:()=>R($.fileName),disabled:v===$.fileName,style:{backgroundColor:"#ef4444",color:"white"},children:v===$.fileName?"":""})]})})]},$.id))})]})}),g&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>y(null),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:$=>$.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"Content Preview"}),d.jsx("button",{onClick:()=>y(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:""})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"File Name:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.fileName})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Chunk Index:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.chunkIndex})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Source:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.source})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Location:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.pageInfo||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Sync Status:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:d.jsx("span",{className:`sync-status ${g.syncStatus}`,children:g.syncStatus==="synced"?" Synced":" Pending"})})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Chunk ID:"}),d.jsx("span",{className:"ml-2 font-mono text-xs",style:{color:"var(--admin-text-muted)"},children:g.id})]})]})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Full Content"}),d.jsx("div",{className:"p-4 rounded-lg border-2 font-mono text-sm whitespace-pre-wrap",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)",color:"var(--admin-text)",maxHeight:"500px",overflowY:"auto"},children:g.content})]})]}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsx("button",{onClick:()=>y(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})}),w&&j&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>S(!1),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:$=>$.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:" File Metadata & Chunk Information"}),d.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:""})]}),d.jsx("div",{className:"space-y-6",children:Object.values(j).map($=>d.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h4",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[" ",$.fileName]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)"},children:[$.chunkCount," chunks"]}),d.jsx("button",{onClick:()=>A($.fileName),disabled:v===$.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:v===$.fileName?"#6b7280":"#10b981",color:"white"},children:v===$.fileName?" Indexing...":" Index"}),d.jsx("button",{onClick:()=>R($.fileName),disabled:v===$.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:v===$.fileName?"#6b7280":"#ef4444",color:"white"},children:v===$.fileName?" Unindexing...":" Unindex"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.chunks.map((T,U)=>d.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)"},children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["Chunk #",T.chunkIndex]}),d.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["ID: ",T.id]})]}),d.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Source: ",T.source]}),d.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Location: ",T.pageInfo||"N/A"]}),d.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Status: ",d.jsx("span",{className:`sync-status ${T.syncStatus}`,children:T.syncStatus==="synced"?" Synced":" Pending"})]}),d.jsxs("div",{className:"text-xs font-mono",style:{color:"var(--admin-text-muted)",maxHeight:"60px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:[T.content.substring(0,100),"..."]})]})},T.id))})]},$.fileName))}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})},Gle=()=>{const{t:e}=et(),[t,n]=x.useState(""),[r]=x.useState(new Date().toLocaleString()),a=[{id:"1",fileName:"2025 Payroll & Holiday S...",blobStatus:"synced",lastModified:"10/1/2025, 11:58:00 AM",indexStatus:"synced",chunks:3,syncStatus:"synced"},{id:"2",fileName:"333 & 777 Rewards Prog...",blobStatus:"synced",lastModified:"10/1/2025, 11:55:00 AM",indexStatus:"synced",chunks:5,syncStatus:"synced"},{id:"3",fileName:"Dental - Alltech 09492...",blobStatus:"synced",lastModified:"10/1/2025, 11:52:00 AM",indexStatus:"synced",chunks:2,syncStatus:"synced"},{id:"4",fileName:"Employee Handbook 20...",blobStatus:"synced",lastModified:"10/1/2025, 11:48:00 AM",indexStatus:"synced",chunks:8,syncStatus:"synced"},{id:"5",fileName:"For business trips and g...",blobStatus:"synced",lastModified:"10/1/2025, 11:45:00 AM",indexStatus:"synced",chunks:4,syncStatus:"synced"},{id:"6",fileName:"Green Card support qual...",blobStatus:"synced",lastModified:"10/1/2025, 11:42:00 AM",indexStatus:"synced",chunks:3,syncStatus:"synced"},{id:"7",fileName:"Health - 012025 RBS Te...",blobStatus:"synced",lastModified:"10/1/2025, 11:38:00 AM",indexStatus:"synced",chunks:6,syncStatus:"synced"},{id:"8",fileName:"HR MEMORANDUM2018...",blobStatus:"synced",lastModified:"10/1/2025, 11:35:00 AM",indexStatus:"synced",chunks:2,syncStatus:"synced"}].filter(l=>l.fileName.toLowerCase().includes(t.toLowerCase())),o=l=>{switch(l){case"synced":return"";case"pending":return"";case"error":return"";default:return""}},s=l=>{switch(l){case"synced":return e("knowledge.synced");case"pending":return e("knowledge.pending");case"error":return e("knowledge.error");default:return e("knowledge.unknown")}};return d.jsxs("div",{className:"sync-overview",children:[d.jsxs("div",{className:"so-header",children:[d.jsx("h2",{className:"so-title",children:e("knowledge.syncOverview")}),d.jsx("p",{className:"so-description",children:e("knowledge.syncOverviewDescription")})]}),d.jsxs("div",{className:"so-controls",children:[d.jsx("div",{className:"so-search",children:d.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:t,onChange:l=>n(l.target.value),className:"search-input"})}),d.jsxs("div",{className:"so-last-updated",children:["Last updated: ",r]}),d.jsxs("button",{className:"refresh-btn",onClick:()=>window.location.reload(),children:[d.jsx("span",{className:"refresh-icon",children:""}),e("knowledge.refresh")]})]}),d.jsx("div",{className:"so-table-container",children:d.jsxs("table",{className:"so-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:e("knowledge.fileName")}),d.jsx("th",{children:e("knowledge.blobStatusLastModified")}),d.jsx("th",{children:e("knowledge.indexStatusChunks")}),d.jsx("th",{children:e("knowledge.syncStatus")}),d.jsx("th",{children:e("knowledge.actions")})]})}),d.jsx("tbody",{children:a.map(l=>d.jsxs("tr",{children:[d.jsx("td",{className:"file-name",children:l.fileName}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`status-icon ${l.blobStatus}`,children:o(l.blobStatus)}),d.jsx("span",{className:"status-date",children:l.lastModified})]})}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`status-icon ${l.indexStatus}`,children:o(l.indexStatus)}),d.jsxs("span",{className:"chunks-info",children:[l.chunks," chunks"]})]})}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`status-icon ${l.syncStatus}`,children:o(l.syncStatus)}),d.jsx("span",{className:"status-text",children:s(l.syncStatus)})]})}),d.jsx("td",{children:d.jsxs("div",{className:"file-actions",children:[d.jsx("button",{className:"action-btn stop-btn",title:e("knowledge.stop"),children:""}),d.jsx("button",{className:"action-btn download-btn",title:e("knowledge.download"),children:""}),d.jsx("button",{className:"action-btn delete-btn",title:e("knowledge.delete"),children:""})]})})]},l.id))})]})})]})};const Yle=()=>{const{t:e}=et(),{theme:t}=Za(),[n,r]=x.useState("file-library"),i=[{id:"file-library",label:e("knowledge.fileLibrary")},{id:"knowledge-index",label:e("knowledge.knowledgeIndex")},{id:"sync-overview",label:e("knowledge.syncOverview")}],a=()=>{switch(n){case"file-library":return d.jsx(dC,{});case"knowledge-index":return d.jsx(Vle,{});case"sync-overview":return d.jsx(Gle,{});default:return d.jsx(dC,{})}};return d.jsxs("div",{className:"knowledge-management","data-theme":t,children:[d.jsx("div",{className:"km-header",children:d.jsxs("div",{className:"km-title-section",children:[d.jsx("h1",{className:"km-title",children:e("knowledge.title")}),d.jsx("p",{className:"km-subtitle",children:e("knowledge.subtitle")})]})}),d.jsx("div",{className:"km-tabs",children:i.map(o=>d.jsx("button",{className:`km-tab ${n===o.id?"active":""}`,onClick:()=>r(o.id),children:o.label},o.id))}),d.jsx("div",{className:"km-content",children:a()})]})},Jle="1X5lAcD0uJVtmbEdPjnP6XlesS3pzsmd_",Xle="608001025",fC=`https://docs.google.com/spreadsheets/d/${Jle}/export?format=csv&gid=${Xle}`;async function Qle(e="simple"){try{console.log(" Fetching from Google Sheets:",fC);const t=await fetch(fC,{cache:"no-store",mode:"cors"});if(console.log(" Response status:",t.status),!t.ok)throw new Error(`Sheets CSV fetch failed: ${t.status}`);const n=await t.text();console.log(" CSV data received, length:",n.length);const r=n.split(`
`).filter(s=>s.trim());if(r.length===0)return console.log(" No data in CSV, using dummy data"),Qm();const i=r[0].split(",").map(s=>s.trim().replace(/"/g,""));console.log(" Headers found:",i);const a=[];for(let s=1;s<r.length;s++){const l=r[s].split(",").map(c=>c.trim().replace(/"/g,""));if(l.length>=i.length&&l[0]){const c={};i.forEach((f,h)=>{c[f]=l[h]||""});const u={Date:String(c.Date||c.date||"").slice(0,10),Toxicity:Number(c.Toxicity||0),"Prompt Injection":Number(c["Prompt Injection"]||c.PromptInjection||0),"Answer Correctness":Number(c["Answer Correctness"]||c.Correctness||0),"Answer Relevancy":Number(c["Answer Relevancy"]||c.Relevancy||0),Length:Number(c.Length||0),Tone:Number(c.Tone||0),isSimulated:!1};u.Date&&u.Date!=="0000-00-00"&&a.push(u)}}const o=a.sort((s,l)=>s.Date.localeCompare(l.Date));return o.length===0?(console.log(" No valid rows found, using dummy data"),Qm()):(console.log(" Successfully loaded",o.length,"real rows from Google Sheets"),o.length<30?(console.log(` Adding estimated data with ${e} mode`),Zle(o,e)):o)}catch(t){return console.error(" Failed to fetch Google Sheets data:",t),console.log(" Using dummy data instead"),Qm()}}function Zle(e,t){const n=[],r=new Date;r.setHours(0,0,0,0);let i=r;if(e.length>0){const s=new Date(e[e.length-1].Date);i=s<r?s:r}for(let s=29;s>=0;s--){const c=new Date(i.getTime()-s*24*60*60*1e3).toISOString().split("T")[0],u=e.find(f=>f.Date===c);if(u)n.push(u);else{const f=e[e.length-1]||nce();let h;switch(t){case"simple":h=hC(f,c);break;case"improved":h=ece(f,c,s);break;case"realistic":h=tce(f,c,s);break;default:h=hC(f,c)}n.push(h)}}const a=n.filter(s=>s.isSimulated).length,o=n.filter(s=>!s.isSimulated).length;return console.log(` Generated data (${t}): ${o} real + ${a} simulated = ${n.length} total`),n.sort((s,l)=>s.Date.localeCompare(l.Date))}function hC(e,t){const n=(Math.random()-.5)*.1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+n)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+n)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+n)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+n)),Length:Math.max(0,Math.min(1,e.Length+n)),Tone:Math.max(0,Math.min(1,e.Tone+n)),isSimulated:!0}}function ece(e,t,n){const r=(Math.random()-.5)*.08,i=Math.sin(n/7*Math.PI)*.02,a=r+i;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+a*.5)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+a*.5)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+a)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+a)),Length:Math.max(0,Math.min(1,e.Length+a*1.2)),Tone:Math.max(0,Math.min(1,e.Tone+a*1.2)),isSimulated:!0}}function tce(e,t,n){const i=1-Math.abs(n-29)*.005,a=(Math.random()-.5)*.03,o=(Math.random()-.5)*.06,s=(Math.random()-.5)*.1,c=new Date(t).getDay(),u=c===0||c===6?.95:1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity*i*u+a)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]*i*u+a)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]*i*u+o)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]*i*u+o)),Length:Math.max(0,Math.min(1,e.Length*i+s)),Tone:Math.max(0,Math.min(1,e.Tone*i+s)),isSimulated:!0}}function nce(){return{Date:"",Toxicity:.8,"Prompt Injection":.85,"Answer Correctness":.8,"Answer Relevancy":.85,Length:.7,Tone:.75,isSimulated:!1}}function Qm(){console.log(" Generating dummy radar data...");const e=[],t=new Date;t.setHours(0,0,0,0);for(let n=30;n>=0;n--){const i=new Date(t.getTime()-n*24*60*60*1e3).toISOString().split("T")[0];e.push({Date:i,Toxicity:Math.random()*.3+.7,"Prompt Injection":Math.random()*.2+.8,"Answer Correctness":Math.random()*.2+.8,"Answer Relevancy":Math.random()*.15+.85,Length:Math.random()*.3+.7,Tone:Math.random()*.25+.75,isSimulated:!0})}return console.log(" Generated",e.length,"dummy rows"),e}function rce(e,t){return t?e:e.filter(n=>!n.isSimulated)}function Vu(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function ice(){const e=In(),[t]=K$(),n=Qa(),{theme:r}=Za(),{t:i}=et(),[a,o]=x.useState(!1),[,s]=x.useState(""),[,l]=x.useState(""),[c,u]=x.useState([]),[f,h]=x.useState(""),[p,m]=x.useState(!0),[g,y]=x.useState("simple"),[v,b]=x.useState(null),[w,S]=x.useState(null),[j,k]=x.useState(0),[C,N]=x.useState(0),[O,P]=x.useState(0),I=new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});x.useEffect(()=>{const D=new Date,E=new Date;E.setDate(D.getDate()-6),s(Vu(E)),l(Vu(D)),R(),A()},[]);const A=async()=>{try{const D=await $f(1e3);k(D.length);const E=await Ba();if(E.length>0){const oe=E.filter(me=>me.reaction==="good").length/E.length*100;N(Math.round(oe*10)/10)}else N(0);const ee=await xR();ee.success&&P(ee.total),console.log(" Metrics loaded:",{conversations:D.length,satisfaction:C,documents:ee.total})}catch(D){console.error(" Failed to load metrics:",D)}};x.useEffect(()=>{R()},[g]);const R=async()=>{try{console.log(" Loading Google Sheets data for Performance Timeline...");const D=await Qle(g);u(D),D.length>0&&h(D[D.length-1].Date),console.log(" Loaded",D.length,"days of performance data")}catch(D){console.error(" Failed to load radar data:",D)}},L=rce(c,p),z=L.find(D=>D.Date===f)||L[L.length-1],W=z?{relevance:Math.round(z["Answer Relevancy"]*100),tone:Math.round(z.Tone*100),length:Math.round(z.Length*100),accuracy:Math.round(z["Answer Correctness"]*100),toxicity:Math.round(z.Toxicity*100),promptInjection:Math.round(z["Prompt Injection"]*100)}:{relevance:85,tone:78,length:82,accuracy:92,toxicity:95,promptInjection:88},$=Math.round((W.relevance+W.tone+W.length+W.accuracy+W.toxicity+W.promptInjection)/6);x.useEffect(()=>{const D=t.get("section");D&&setTimeout(()=>{_(D)},500)},[t]);const T=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("axpro_session"),sessionStorage.removeItem("axAccess"),e("/",{replace:!0})},U=()=>{o(!a)},_=D=>{const E=document.getElementById(D);E&&E.scrollIntoView({behavior:"smooth",block:"start"})},J=D=>{S(D),b(D);const E=document.getElementById("recent-conversations");E&&E.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{b(null)},3e3)};return d.jsx("div",{className:"admin-layout","data-theme":r,children:d.jsxs("div",{className:"dashboard-layout",children:[d.jsx(Koe,{performanceScore:$,performanceDate:Vu(new Date),currentTime:I,onSignOut:T}),d.jsxs("div",{className:"dashboard-content",children:[d.jsx(qoe,{conversations:j,satisfaction:C,documents:O,performanceScore:$,performanceDate:Vu(new Date),isCollapsed:a,onToggleCollapse:U,onScrollToSection:_}),d.jsx("main",{className:"dashboard-main",children:n.pathname==="/admin/knowledge-management"?d.jsx(Yle,{}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"dashboard-grid",children:d.jsx("div",{className:"grid-left",children:d.jsx("div",{id:"performance-radar",children:d.jsx(Voe,{...W,timelineData:L,selectedDate:f,onDateChange:h,includeSimulatedData:p,onIncludeSimulatedDataChange:m,estimationMode:g,onEstimationModeChange:y})})})}),d.jsxs("div",{className:"content-module",children:[d.jsx("div",{id:"daily-message-activity",className:"content-section",children:d.jsx(Yoe,{})}),d.jsxs("div",{id:"recent-conversations",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:i("admin.recentConversations")}),d.jsx(tse,{scrollToChatId:w,highlightedChatId:v,onScrollComplete:()=>S(null)})]}),d.jsxs("div",{id:"admin-feedback",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:"Admin Feedback"}),d.jsx(rse,{onScrollToChat:J})]}),d.jsxs("div",{id:"user-feedback",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:i("admin.userFeedback")}),d.jsx(nse,{onScrollToChat:J})]}),d.jsxs("div",{id:"prompt-control",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:i("admin.promptControl")}),d.jsx(ese,{})]})]})]})})]})]})})}const Ur=({children:e,requiredRole:t})=>BP(t)?d.jsx(d.Fragment,{children:e}):d.jsx(UP,{to:"/",replace:!0}),ace=()=>d.jsx(q$,{children:d.jsx(V$,{children:d.jsx(W$,{children:d.jsx("div",{className:"App",children:d.jsxs(F$,{children:[d.jsx(Fn,{path:"/",element:d.jsx(Q$,{})}),d.jsx(Fn,{path:"/chat",element:d.jsx(Ur,{requiredRole:"user",children:d.jsx(Bk,{})})}),d.jsx(Fn,{path:"/chat/:sessionId",element:d.jsx(Ur,{requiredRole:"user",children:d.jsx(Bk,{})})}),d.jsx(Fn,{path:"/dashboard",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(H9,{})})}),d.jsx(Fn,{path:"/settings",element:d.jsx(Ur,{requiredRole:"user",children:d.jsx(V9,{})})}),d.jsx(Fn,{path:"/admin/dashboard",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(ice,{})})}),d.jsx(Fn,{path:"/admin",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(qu,{})})}),d.jsx(Fn,{path:"/admin/usage",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(qu,{})})}),d.jsx(Fn,{path:"/admin/prompt",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(qu,{})})}),d.jsx(Fn,{path:"/admin/knowledge",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(qu,{})})}),d.jsx(Fn,{path:"*",element:d.jsx(UP,{to:"/",replace:!0})})]})})})})});Zm.createRoot(document.getElementById("root")).render(d.jsx(Wi.StrictMode,{children:d.jsx(ace,{})}));
