import{c as r}from"./index-df88017c.js";const o="axpro_supabase_url",E="axpro_supabase_anon_key",a="https://qpyteahuynkgkbmdasbv.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY";let s=null,_=null;const i=()=>{const e=I(),t=`${e.url}:${e.anonKey}`;if(!s||_!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set. Please configure in Settings > Database.");s=r(e.url,e.anonKey),_=t,console.log("âœ… Supabase client initialized")}return s},I=()=>{try{const e=localStorage.getItem(o)||a,t=localStorage.getItem(E)||n;return{url:e,anonKey:t}}catch(e){return console.error("Failed to get Supabase config:",e),{url:a,anonKey:n}}},l=e=>{try{localStorage.setItem(o,e.url),localStorage.setItem(E,e.anonKey)}catch(t){console.error("Failed to save Supabase config:",t)}},S=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}};export{i as getSupabaseClient,I as getSupabaseConfig,l as saveSupabaseConfig,S as testSupabaseConnection};
