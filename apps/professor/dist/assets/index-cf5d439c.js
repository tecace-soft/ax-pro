var vR=Object.defineProperty;var yR=(e,t,n)=>t in e?vR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nu=(e,t,n)=>(yR(e,typeof t!="symbol"?t+"":t,n),n);function xR(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function On(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hC={exports:{}},Uf={},pC={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),wR=Symbol.for("react.portal"),kR=Symbol.for("react.fragment"),SR=Symbol.for("react.strict_mode"),jR=Symbol.for("react.profiler"),_R=Symbol.for("react.provider"),CR=Symbol.for("react.context"),ER=Symbol.for("react.forward_ref"),PR=Symbol.for("react.suspense"),NR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),tw=Symbol.iterator;function AR(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var mC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gC=Object.assign,vC={};function gs(e,t,n){this.props=e,this.context=t,this.refs=vC,this.updater=n||mC}gs.prototype.isReactComponent={};gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yC(){}yC.prototype=gs.prototype;function Sy(e,t,n){this.props=e,this.context=t,this.refs=vC,this.updater=n||mC}var jy=Sy.prototype=new yC;jy.constructor=Sy;gC(jy,gs.prototype);jy.isPureReactComponent=!0;var nw=Array.isArray,xC=Object.prototype.hasOwnProperty,_y={current:null},bC={key:!0,ref:!0,__self:!0,__source:!0};function wC(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)xC.call(t,r)&&!bC.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:vc,type:e,key:a,ref:o,props:i,_owner:_y.current}}function TR(e,t){return{$$typeof:vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cy(e){return typeof e=="object"&&e!==null&&e.$$typeof===vc}function IR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rw=/\/+/g;function kp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?IR(""+e.key):t.toString(36)}function Vu(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vc:case wR:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+kp(o,0):r,nw(i)?(n="",e!=null&&(n=e.replace(rw,"$&/")+"/"),Vu(i,t,n,"",function(c){return c})):i!=null&&(Cy(i)&&(i=TR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",nw(e))for(var s=0;s<e.length;s++){a=e[s];var l=r+kp(a,s);o+=Vu(a,t,n,l,i)}else if(l=AR(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=r+kp(a,s++),o+=Vu(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ru(e,t,n){if(e==null)return e;var r=[],i=0;return Vu(e,r,"","",function(a){return t.call(n,a,i++)}),r}function DR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Gu={transition:null},RR={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:_y};function kC(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:ru,forEach:function(e,t,n){ru(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ru(e,function(){t++}),t},toArray:function(e){return ru(e,function(t){return t})||[]},only:function(e){if(!Cy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=gs;ve.Fragment=kR;ve.Profiler=jR;ve.PureComponent=Sy;ve.StrictMode=SR;ve.Suspense=PR;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;ve.act=kC;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=_y.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)xC.call(t,l)&&!bC.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];r.children=s}return{$$typeof:vc,type:e.type,key:i,ref:a,props:r,_owner:o}};ve.createContext=function(e){return e={$$typeof:CR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_R,_context:e},e.Consumer=e};ve.createElement=wC;ve.createFactory=function(e){var t=wC.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:ER,render:e}};ve.isValidElement=Cy;ve.lazy=function(e){return{$$typeof:OR,_payload:{_status:-1,_result:e},_init:DR}};ve.memo=function(e,t){return{$$typeof:NR,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Gu.transition;Gu.transition={};try{e()}finally{Gu.transition=t}};ve.unstable_act=kC;ve.useCallback=function(e,t){return Yt.current.useCallback(e,t)};ve.useContext=function(e){return Yt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Yt.current.useEffect(e,t)};ve.useId=function(){return Yt.current.useId()};ve.useImperativeHandle=function(e,t,n){return Yt.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Yt.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return Yt.current.useReducer(e,t,n)};ve.useRef=function(e){return Yt.current.useRef(e)};ve.useState=function(e){return Yt.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return Yt.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return Yt.current.useTransition()};ve.version="18.3.1";pC.exports=ve;var x=pC.exports;const Wi=On(x),SC=xR({__proto__:null,default:Wi},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MR=x,LR=Symbol.for("react.element"),$R=Symbol.for("react.fragment"),FR=Object.prototype.hasOwnProperty,UR=MR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zR={key:!0,ref:!0,__self:!0,__source:!0};function jC(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)FR.call(t,r)&&!zR.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:LR,type:e,key:a,ref:o,props:i,_owner:UR.current}}Uf.Fragment=$R;Uf.jsx=jC;Uf.jsxs=jC;hC.exports=Uf;var d=hC.exports,Qm={},_C={exports:{}},An={},CC={exports:{}},EC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,F){var C=T.length;T.push(F);e:for(;0<C;){var V=C-1>>>1,D=T[V];if(0<i(D,F))T[V]=F,T[C]=D,C=V;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],C=T.pop();if(C!==F){T[0]=C;e:for(var V=0,D=T.length,_=D>>>1;V<_;){var Y=2*(V+1)-1,J=T[Y],te=Y+1,ce=T[te];if(0>i(J,C))te<D&&0>i(ce,J)?(T[V]=ce,T[te]=C,V=te):(T[V]=J,T[Y]=C,V=Y);else if(te<D&&0>i(ce,C))T[V]=ce,T[te]=C,V=te;else break e}}return F}function i(T,F){var C=T.sortIndex-F.sortIndex;return C!==0?C:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=T)r(c),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(c)}}function S(T){if(g=!1,w(T),!m)if(n(l)!==null)m=!0,B(j);else{var F=n(c);F!==null&&L(S,F.startTime-T)}}function j(T,F){m=!1,g&&(g=!1,y(O),O=-1),p=!0;var C=h;try{for(w(F),f=n(l);f!==null&&(!(f.expirationTime>F)||T&&!I());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var D=V(f.expirationTime<=F);F=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(l)&&r(l),w(F)}else r(l);f=n(l)}if(f!==null)var _=!0;else{var Y=n(c);Y!==null&&L(S,Y.startTime-F),_=!1}return _}finally{f=null,h=C,p=!1}}var k=!1,E=null,O=-1,P=5,N=-1;function I(){return!(e.unstable_now()-N<P)}function A(){if(E!==null){var T=e.unstable_now();N=T;var F=!0;try{F=E(!0,T)}finally{F?R():(k=!1,E=null)}}else k=!1}var R;if(typeof b=="function")R=function(){b(A)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=A,R=function(){U.postMessage(null)}}else R=function(){v(A,0)};function B(T){E=T,k||(k=!0,R())}function L(T,F){O=v(function(){T(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,B(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var C=h;h=F;try{return T()}finally{h=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var C=h;h=T;try{return F()}finally{h=C}},e.unstable_scheduleCallback=function(T,F,C){var V=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?V+C:V):C=V,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=C+D,T={id:u++,callback:F,priorityLevel:T,startTime:C,expirationTime:D,sortIndex:-1},C>V?(T.sortIndex=C,t(c,T),n(l)===null&&T===n(c)&&(g?(y(O),O=-1):g=!0,L(S,C-V))):(T.sortIndex=D,t(l,T),m||p||(m=!0,B(j))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var F=h;return function(){var C=h;h=F;try{return T.apply(this,arguments)}finally{h=C}}}})(EC);CC.exports=EC;var BR=CC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=x,Cn=BR;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PC=new Set,Ml={};function Ja(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(Ml[e]=t,e=0;e<t.length;e++)PC.add(t[e])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,KR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iw={},aw={};function HR(e){return Zm.call(aw,e)?!0:Zm.call(iw,e)?!1:KR.test(e)?aw[e]=!0:(iw[e]=!0,!1)}function qR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VR(e,t,n,r){if(t===null||typeof t>"u"||qR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){It[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];It[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){It[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){It[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){It[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){It[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){It[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){It[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){It[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ey,Py);It[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ey,Py);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ey,Py);It[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});It.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){It[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ny(e,t,n,r){var i=It.hasOwnProperty(t)?It[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VR(t,n,i,r)&&(n=null),r||i===null?HR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ci=WR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),wo=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Oy=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),Ay=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),ng=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),AC=Symbol.for("react.offscreen"),ow=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=ow&&e[ow]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Sp;function ul(e){if(Sp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Sp=t&&t[1]||""}return`
`+Sp+e}var jp=!1;function _p(e,t){if(!e||jp)return"";jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{jp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ul(e):""}function GR(e){switch(e.tag){case 5:return ul(e.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return e=_p(e.type,!1),e;case 11:return e=_p(e.type.render,!1),e;case 1:return e=_p(e.type,!0),e;default:return""}}function rg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ko:return"Fragment";case wo:return"Portal";case eg:return"Profiler";case Oy:return"StrictMode";case tg:return"Suspense";case ng:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OC:return(e.displayName||"Context")+".Consumer";case NC:return(e._context.displayName||"Context")+".Provider";case Ay:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ty:return t=e.displayName||null,t!==null?t:rg(e.type)||"Memo";case wi:t=e._payload,e=e._init;try{return rg(e(t))}catch{}}return null}function YR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rg(t);case 8:return t===Oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ki(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function TC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JR(e){var t=TC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function au(e){e._valueTracker||(e._valueTracker=JR(e))}function IC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=TC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ig(e,t){var n=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sw(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ki(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function DC(e,t){t=t.checked,t!=null&&Ny(e,"checked",t,!1)}function ag(e,t){DC(e,t);var n=Ki(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?og(e,t.type,n):t.hasOwnProperty("defaultValue")&&og(e,t.type,Ki(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function og(e,t,n){(t!=="number"||gd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var dl=Array.isArray;function Ro(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ki(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function sg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(dl(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ki(n)}}function RC(e,t){var n=Ki(t.value),r=Ki(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ou,LC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ll(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XR=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){XR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function $C(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function FC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$C(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var QR=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(e,t){if(t){if(QR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function ug(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function Iy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fg=null,Mo=null,Lo=null;function dw(e){if(e=bc(e)){if(typeof fg!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Hf(t),fg(e.stateNode,e.type,t))}}function UC(e){Mo?Lo?Lo.push(e):Lo=[e]:Mo=e}function zC(){if(Mo){var e=Mo,t=Lo;if(Lo=Mo=null,dw(e),t)for(e=0;e<t.length;e++)dw(t[e])}}function BC(e,t){return e(t)}function WC(){}var Cp=!1;function KC(e,t,n){if(Cp)return e(t,n);Cp=!0;try{return BC(e,t,n)}finally{Cp=!1,(Mo!==null||Lo!==null)&&(WC(),zC())}}function $l(e,t){var n=e.stateNode;if(n===null)return null;var r=Hf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var hg=!1;if(ei)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){hg=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{hg=!1}function ZR(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var yl=!1,vd=null,yd=!1,pg=null,eM={onError:function(e){yl=!0,vd=e}};function tM(e,t,n,r,i,a,o,s,l){yl=!1,vd=null,ZR.apply(eM,arguments)}function nM(e,t,n,r,i,a,o,s,l){if(tM.apply(this,arguments),yl){if(yl){var c=vd;yl=!1,vd=null}else throw Error(X(198));yd||(yd=!0,pg=c)}}function Xa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function HC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fw(e){if(Xa(e)!==e)throw Error(X(188))}function rM(e){var t=e.alternate;if(!t){if(t=Xa(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return fw(i),e;if(a===r)return fw(i),t;a=a.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function qC(e){return e=rM(e),e!==null?VC(e):null}function VC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VC(e);if(t!==null)return t;e=e.sibling}return null}var GC=Cn.unstable_scheduleCallback,hw=Cn.unstable_cancelCallback,iM=Cn.unstable_shouldYield,aM=Cn.unstable_requestPaint,nt=Cn.unstable_now,oM=Cn.unstable_getCurrentPriorityLevel,Dy=Cn.unstable_ImmediatePriority,YC=Cn.unstable_UserBlockingPriority,xd=Cn.unstable_NormalPriority,sM=Cn.unstable_LowPriority,JC=Cn.unstable_IdlePriority,zf=null,Ar=null;function lM(e){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(zf,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:dM,cM=Math.log,uM=Math.LN2;function dM(e){return e>>>=0,e===0?32:31-(cM(e)/uM|0)|0}var su=64,lu=4194304;function fl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=fl(s):(a&=o,a!==0&&(r=fl(a)))}else o=n&~i,o!==0?r=fl(o):a!==0&&(r=fl(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),i=1<<n,r|=e[n],t&=~i;return r}function fM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-dr(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=fM(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function mg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function XC(){var e=su;return su<<=1,!(su&4194240)&&(su=64),e}function Ep(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function pM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dr(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Ry(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function QC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZC,My,eE,tE,nE,gg=!1,cu=[],Di=null,Ri=null,Mi=null,Fl=new Map,Ul=new Map,_i=[],mM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pw(e,t){switch(e){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Hs(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=bc(t),t!==null&&My(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function gM(e,t,n,r,i){switch(t){case"focusin":return Di=Hs(Di,e,t,n,r,i),!0;case"dragenter":return Ri=Hs(Ri,e,t,n,r,i),!0;case"mouseover":return Mi=Hs(Mi,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Fl.set(a,Hs(Fl.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ul.set(a,Hs(Ul.get(a)||null,e,t,n,r,i)),!0}return!1}function rE(e){var t=xa(e.target);if(t!==null){var n=Xa(t);if(n!==null){if(t=n.tag,t===13){if(t=HC(n),t!==null){e.blockedOn=t,nE(e.priority,function(){eE(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dg=r,n.target.dispatchEvent(r),dg=null}else return t=bc(n),t!==null&&My(t),e.blockedOn=n,!1;t.shift()}return!0}function mw(e,t,n){Yu(e)&&n.delete(t)}function vM(){gg=!1,Di!==null&&Yu(Di)&&(Di=null),Ri!==null&&Yu(Ri)&&(Ri=null),Mi!==null&&Yu(Mi)&&(Mi=null),Fl.forEach(mw),Ul.forEach(mw)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,gg||(gg=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,vM)))}function zl(e){function t(i){return qs(i,e)}if(0<cu.length){qs(cu[0],e);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Di!==null&&qs(Di,e),Ri!==null&&qs(Ri,e),Mi!==null&&qs(Mi,e),Fl.forEach(t),Ul.forEach(t),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&_i.shift()}var $o=ci.ReactCurrentBatchConfig,wd=!0;function yM(e,t,n,r){var i=Pe,a=$o.transition;$o.transition=null;try{Pe=1,Ly(e,t,n,r)}finally{Pe=i,$o.transition=a}}function xM(e,t,n,r){var i=Pe,a=$o.transition;$o.transition=null;try{Pe=4,Ly(e,t,n,r)}finally{Pe=i,$o.transition=a}}function Ly(e,t,n,r){if(wd){var i=vg(e,t,n,r);if(i===null)Lp(e,t,r,kd,n),pw(e,r);else if(gM(i,e,t,n,r))r.stopPropagation();else if(pw(e,r),t&4&&-1<mM.indexOf(e)){for(;i!==null;){var a=bc(i);if(a!==null&&ZC(a),a=vg(e,t,n,r),a===null&&Lp(e,t,r,kd,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Lp(e,t,r,null,n)}}var kd=null;function vg(e,t,n,r){if(kd=null,e=Iy(r),e=xa(e),e!==null)if(t=Xa(e),t===null)e=null;else if(n=t.tag,n===13){if(e=HC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kd=e,null}function iE(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oM()){case Dy:return 1;case YC:return 4;case xd:case sM:return 16;case JC:return 536870912;default:return 16}default:return 16}}var Ni=null,$y=null,Ju=null;function aE(){if(Ju)return Ju;var e,t=$y,n=t.length,r,i="value"in Ni?Ni.value:Ni.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return Ju=i.slice(e,1<r?1-r:void 0)}function Xu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function gw(){return!1}function Tn(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uu:gw,this.isPropagationStopped=gw,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fy=Tn(vs),xc=Je({},vs,{view:0,detail:0}),bM=Tn(xc),Pp,Np,Vs,Bf=Je({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(Pp=e.screenX-Vs.screenX,Np=e.screenY-Vs.screenY):Np=Pp=0,Vs=e),Pp)},movementY:function(e){return"movementY"in e?e.movementY:Np}}),vw=Tn(Bf),wM=Je({},Bf,{dataTransfer:0}),kM=Tn(wM),SM=Je({},xc,{relatedTarget:0}),Op=Tn(SM),jM=Je({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),_M=Tn(jM),CM=Je({},vs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EM=Tn(CM),PM=Je({},vs,{data:0}),yw=Tn(PM),NM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AM[e])?!!t[e]:!1}function Uy(){return TM}var IM=Je({},xc,{key:function(e){if(e.key){var t=NM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uy,charCode:function(e){return e.type==="keypress"?Xu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DM=Tn(IM),RM=Je({},Bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=Tn(RM),MM=Je({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uy}),LM=Tn(MM),$M=Je({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),FM=Tn($M),UM=Je({},Bf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zM=Tn(UM),BM=[9,13,27,32],zy=ei&&"CompositionEvent"in window,xl=null;ei&&"documentMode"in document&&(xl=document.documentMode);var WM=ei&&"TextEvent"in window&&!xl,oE=ei&&(!zy||xl&&8<xl&&11>=xl),bw=String.fromCharCode(32),ww=!1;function sE(e,t){switch(e){case"keyup":return BM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var So=!1;function KM(e,t){switch(e){case"compositionend":return lE(t);case"keypress":return t.which!==32?null:(ww=!0,bw);case"textInput":return e=t.data,e===bw&&ww?null:e;default:return null}}function HM(e,t){if(So)return e==="compositionend"||!zy&&sE(e,t)?(e=aE(),Ju=$y=Ni=null,So=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oE&&t.locale!=="ko"?null:t.data;default:return null}}var qM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qM[e.type]:t==="textarea"}function cE(e,t,n,r){UC(r),t=Sd(t,"onChange"),0<t.length&&(n=new Fy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bl=null,Bl=null;function VM(e){bE(e,0)}function Wf(e){var t=Co(e);if(IC(t))return e}function GM(e,t){if(e==="change")return t}var uE=!1;if(ei){var Ap;if(ei){var Tp="oninput"in document;if(!Tp){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),Tp=typeof Sw.oninput=="function"}Ap=Tp}else Ap=!1;uE=Ap&&(!document.documentMode||9<document.documentMode)}function jw(){bl&&(bl.detachEvent("onpropertychange",dE),Bl=bl=null)}function dE(e){if(e.propertyName==="value"&&Wf(Bl)){var t=[];cE(t,Bl,e,Iy(e)),KC(VM,t)}}function YM(e,t,n){e==="focusin"?(jw(),bl=t,Bl=n,bl.attachEvent("onpropertychange",dE)):e==="focusout"&&jw()}function JM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wf(Bl)}function XM(e,t){if(e==="click")return Wf(t)}function QM(e,t){if(e==="input"||e==="change")return Wf(t)}function ZM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:ZM;function Wl(e,t){if(mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zm.call(t,i)||!mr(e[i],t[i]))return!1}return!0}function _w(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cw(e,t){var n=_w(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_w(n)}}function fE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hE(){for(var e=window,t=gd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gd(e.document)}return t}function By(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eL(e){var t=hE(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fE(n.ownerDocument.documentElement,n)){if(r!==null&&By(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Cw(n,a);var o=Cw(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tL=ei&&"documentMode"in document&&11>=document.documentMode,jo=null,yg=null,wl=null,xg=!1;function Ew(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xg||jo==null||jo!==gd(r)||(r=jo,"selectionStart"in r&&By(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Wl(wl,r)||(wl=r,r=Sd(yg,"onSelect"),0<r.length&&(t=new Fy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jo)))}function du(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _o={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Ip={},pE={};ei&&(pE=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Kf(e){if(Ip[e])return Ip[e];if(!_o[e])return e;var t=_o[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pE)return Ip[e]=t[n];return e}var mE=Kf("animationend"),gE=Kf("animationiteration"),vE=Kf("animationstart"),yE=Kf("transitionend"),xE=new Map,Pw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(e,t){xE.set(e,t),Ja(t,[e])}for(var Dp=0;Dp<Pw.length;Dp++){var Rp=Pw[Dp],nL=Rp.toLowerCase(),rL=Rp[0].toUpperCase()+Rp.slice(1);Vi(nL,"on"+rL)}Vi(mE,"onAnimationEnd");Vi(gE,"onAnimationIteration");Vi(vE,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(yE,"onTransitionEnd");Ho("onMouseEnter",["mouseout","mouseover"]);Ho("onMouseLeave",["mouseout","mouseover"]);Ho("onPointerEnter",["pointerout","pointerover"]);Ho("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iL=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Nw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nM(r,t,void 0,e),e.currentTarget=null}function bE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Nw(i,s,c),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Nw(i,s,c),a=l}}}if(yd)throw e=pg,yd=!1,pg=null,e}function Ue(e,t){var n=t[jg];n===void 0&&(n=t[jg]=new Set);var r=e+"__bubble";n.has(r)||(wE(t,e,2,!1),n.add(r))}function Mp(e,t,n){var r=0;t&&(r|=4),wE(n,e,r,t)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[fu]){e[fu]=!0,PC.forEach(function(n){n!=="selectionchange"&&(iL.has(n)||Mp(n,!1,e),Mp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fu]||(t[fu]=!0,Mp("selectionchange",!1,t))}}function wE(e,t,n,r){switch(iE(t)){case 1:var i=yM;break;case 4:i=xM;break;default:i=Ly}n=i.bind(null,t,n,e),i=void 0,!hg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lp(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=xa(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}KC(function(){var c=a,u=Iy(n),f=[];e:{var h=xE.get(e);if(h!==void 0){var p=Fy,m=e;switch(e){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":p=DM;break;case"focusin":m="focus",p=Op;break;case"focusout":m="blur",p=Op;break;case"beforeblur":case"afterblur":p=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=kM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LM;break;case mE:case gE:case vE:p=_M;break;case yE:p=FM;break;case"scroll":p=bM;break;case"wheel":p=zM;break;case"copy":case"cut":case"paste":p=EM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xw}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=$l(b,y),S!=null&&g.push(Hl(b,S,w)))),v)break;b=b.return}0<g.length&&(h=new p(h,m,null,n,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==dg&&(m=n.relatedTarget||n.fromElement)&&(xa(m)||m[ti]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?xa(m):null,m!==null&&(v=Xa(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=vw,S="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=xw,S="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?h:Co(p),w=m==null?h:Co(m),h=new g(S,b+"leave",p,n,u),h.target=v,h.relatedTarget=w,S=null,xa(u)===c&&(g=new g(y,b+"enter",m,n,u),g.target=w,g.relatedTarget=v,S=g),v=S,p&&m)t:{for(g=p,y=m,b=0,w=g;w;w=lo(w))b++;for(w=0,S=y;S;S=lo(S))w++;for(;0<b-w;)g=lo(g),b--;for(;0<w-b;)y=lo(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=lo(g),y=lo(y)}g=null}else g=null;p!==null&&Ow(f,h,p,g,!1),m!==null&&v!==null&&Ow(f,v,m,g,!0)}}e:{if(h=c?Co(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=GM;else if(kw(h))if(uE)j=QM;else{j=JM;var k=YM}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=XM);if(j&&(j=j(e,c))){cE(f,j,n,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&og(h,"number",h.value)}switch(k=c?Co(c):window,e){case"focusin":(kw(k)||k.contentEditable==="true")&&(jo=k,yg=c,wl=null);break;case"focusout":wl=yg=jo=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,Ew(f,n,u);break;case"selectionchange":if(tL)break;case"keydown":case"keyup":Ew(f,n,u)}var E;if(zy)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else So?sE(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(oE&&n.locale!=="ko"&&(So||O!=="onCompositionStart"?O==="onCompositionEnd"&&So&&(E=aE()):(Ni=u,$y="value"in Ni?Ni.value:Ni.textContent,So=!0)),k=Sd(c,O),0<k.length&&(O=new yw(O,e,null,n,u),f.push({event:O,listeners:k}),E?O.data=E:(E=lE(n),E!==null&&(O.data=E)))),(E=WM?KM(e,n):HM(e,n))&&(c=Sd(c,"onBeforeInput"),0<c.length&&(u=new yw("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=E))}bE(f,t)})}function Hl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$l(e,n),a!=null&&r.unshift(Hl(e,a,i)),a=$l(e,t),a!=null&&r.push(Hl(e,a,i))),e=e.return}return r}function lo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ow(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&c!==null&&(s=c,i?(l=$l(n,a),l!=null&&o.unshift(Hl(n,l,s))):i||(l=$l(n,a),l!=null&&o.push(Hl(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var aL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function Aw(e){return(typeof e=="string"?e:""+e).replace(aL,`
`).replace(oL,"")}function hu(e,t,n){if(t=Aw(t),Aw(e)!==t&&n)throw Error(X(425))}function jd(){}var bg=null,wg=null;function kg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,sL=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,lL=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(e){return Tw.resolve(null).then(e).catch(cL)}:Sg;function cL(e){setTimeout(function(){throw e})}function $p(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),zl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zl(t)}function Li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Iw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ys=Math.random().toString(36).slice(2),_r="__reactFiber$"+ys,ql="__reactProps$"+ys,ti="__reactContainer$"+ys,jg="__reactEvents$"+ys,uL="__reactListeners$"+ys,dL="__reactHandles$"+ys;function xa(e){var t=e[_r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[_r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Iw(e);e!==null;){if(n=e[_r])return n;e=Iw(e)}return t}e=n,n=e.parentNode}return null}function bc(e){return e=e[_r]||e[ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Co(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Hf(e){return e[ql]||null}var _g=[],Eo=-1;function Gi(e){return{current:e}}function Be(e){0>Eo||(e.current=_g[Eo],_g[Eo]=null,Eo--)}function $e(e,t){Eo++,_g[Eo]=e.current,e.current=t}var Hi={},Bt=Gi(Hi),ln=Gi(!1),La=Hi;function qo(e,t){var n=e.type.contextTypes;if(!n)return Hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cn(e){return e=e.childContextTypes,e!=null}function _d(){Be(ln),Be(Bt)}function Dw(e,t,n){if(Bt.current!==Hi)throw Error(X(168));$e(Bt,t),$e(ln,n)}function kE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(X(108,YR(e)||"Unknown",i));return Je({},n,r)}function Cd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hi,La=Bt.current,$e(Bt,e),$e(ln,ln.current),!0}function Rw(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=kE(e,t,La),r.__reactInternalMemoizedMergedChildContext=e,Be(ln),Be(Bt),$e(Bt,e)):Be(ln),$e(ln,n)}var Wr=null,qf=!1,Fp=!1;function SE(e){Wr===null?Wr=[e]:Wr.push(e)}function fL(e){qf=!0,SE(e)}function Yi(){if(!Fp&&Wr!==null){Fp=!0;var e=0,t=Pe;try{var n=Wr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Wr=null,qf=!1}catch(i){throw Wr!==null&&(Wr=Wr.slice(e+1)),GC(Dy,Yi),i}finally{Pe=t,Fp=!1}}return null}var Po=[],No=0,Ed=null,Pd=0,Bn=[],Wn=0,$a=null,Hr=1,qr="";function ua(e,t){Po[No++]=Pd,Po[No++]=Ed,Ed=e,Pd=t}function jE(e,t,n){Bn[Wn++]=Hr,Bn[Wn++]=qr,Bn[Wn++]=$a,$a=e;var r=Hr;e=qr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var a=32-dr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Hr=1<<32-dr(t)+i|n<<i|r,qr=a+e}else Hr=1<<a|n<<i|r,qr=e}function Wy(e){e.return!==null&&(ua(e,1),jE(e,1,0))}function Ky(e){for(;e===Ed;)Ed=Po[--No],Po[No]=null,Pd=Po[--No],Po[No]=null;for(;e===$a;)$a=Bn[--Wn],Bn[Wn]=null,qr=Bn[--Wn],Bn[Wn]=null,Hr=Bn[--Wn],Bn[Wn]=null}var Sn=null,kn=null,He=!1,sr=null;function _E(e,t){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sn=e,kn=Li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=$a!==null?{id:Hr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Sn=e,kn=null,!0):!1;default:return!1}}function Cg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(He){var t=kn;if(t){var n=t;if(!Mw(e,t)){if(Cg(e))throw Error(X(418));t=Li(n.nextSibling);var r=Sn;t&&Mw(e,t)?_E(r,n):(e.flags=e.flags&-4097|2,He=!1,Sn=e)}}else{if(Cg(e))throw Error(X(418));e.flags=e.flags&-4097|2,He=!1,Sn=e}}}function Lw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sn=e}function pu(e){if(e!==Sn)return!1;if(!He)return Lw(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kg(e.type,e.memoizedProps)),t&&(t=kn)){if(Cg(e))throw CE(),Error(X(418));for(;t;)_E(e,t),t=Li(t.nextSibling)}if(Lw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=Li(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=Sn?Li(e.stateNode.nextSibling):null;return!0}function CE(){for(var e=kn;e;)e=Li(e.nextSibling)}function Vo(){kn=Sn=null,He=!1}function Hy(e){sr===null?sr=[e]:sr.push(e)}var hL=ci.ReactCurrentBatchConfig;function Gs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function mu(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $w(e){var t=e._init;return t(e._payload)}function EE(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=zi(y,b),y.index=0,y.sibling=null,y}function a(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,b,w,S){return b===null||b.tag!==6?(b=qp(w,y.mode,S),b.return=y,b):(b=i(b,w),b.return=y,b)}function l(y,b,w,S){var j=w.type;return j===ko?u(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wi&&$w(j)===b.type)?(S=i(b,w.props),S.ref=Gs(y,b,w),S.return=y,S):(S=id(w.type,w.key,w.props,null,y.mode,S),S.ref=Gs(y,b,w),S.return=y,S)}function c(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Vp(w,y.mode,S),b.return=y,b):(b=i(b,w.children||[]),b.return=y,b)}function u(y,b,w,S,j){return b===null||b.tag!==7?(b=Oa(w,y.mode,S,j),b.return=y,b):(b=i(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=qp(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case iu:return w=id(b.type,b.key,b.props,null,y.mode,w),w.ref=Gs(y,null,b),w.return=y,w;case wo:return b=Vp(b,y.mode,w),b.return=y,b;case wi:var S=b._init;return f(y,S(b._payload),w)}if(dl(b)||Ws(b))return b=Oa(b,y.mode,w,null),b.return=y,b;mu(y,b)}return null}function h(y,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:return w.key===j?l(y,b,w,S):null;case wo:return w.key===j?c(y,b,w,S):null;case wi:return j=w._init,h(y,b,j(w._payload),S)}if(dl(w)||Ws(w))return j!==null?null:u(y,b,w,S,null);mu(y,w)}return null}function p(y,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(b,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case iu:return y=y.get(S.key===null?w:S.key)||null,l(b,y,S,j);case wo:return y=y.get(S.key===null?w:S.key)||null,c(b,y,S,j);case wi:var k=S._init;return p(y,b,w,k(S._payload),j)}if(dl(S)||Ws(S))return y=y.get(w)||null,u(b,y,S,j,null);mu(b,S)}return null}function m(y,b,w,S){for(var j=null,k=null,E=b,O=b=0,P=null;E!==null&&O<w.length;O++){E.index>O?(P=E,E=null):P=E.sibling;var N=h(y,E,w[O],S);if(N===null){E===null&&(E=P);break}e&&E&&N.alternate===null&&t(y,E),b=a(N,b,O),k===null?j=N:k.sibling=N,k=N,E=P}if(O===w.length)return n(y,E),He&&ua(y,O),j;if(E===null){for(;O<w.length;O++)E=f(y,w[O],S),E!==null&&(b=a(E,b,O),k===null?j=E:k.sibling=E,k=E);return He&&ua(y,O),j}for(E=r(y,E);O<w.length;O++)P=p(E,y,O,w[O],S),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?O:P.key),b=a(P,b,O),k===null?j=P:k.sibling=P,k=P);return e&&E.forEach(function(I){return t(y,I)}),He&&ua(y,O),j}function g(y,b,w,S){var j=Ws(w);if(typeof j!="function")throw Error(X(150));if(w=j.call(w),w==null)throw Error(X(151));for(var k=j=null,E=b,O=b=0,P=null,N=w.next();E!==null&&!N.done;O++,N=w.next()){E.index>O?(P=E,E=null):P=E.sibling;var I=h(y,E,N.value,S);if(I===null){E===null&&(E=P);break}e&&E&&I.alternate===null&&t(y,E),b=a(I,b,O),k===null?j=I:k.sibling=I,k=I,E=P}if(N.done)return n(y,E),He&&ua(y,O),j;if(E===null){for(;!N.done;O++,N=w.next())N=f(y,N.value,S),N!==null&&(b=a(N,b,O),k===null?j=N:k.sibling=N,k=N);return He&&ua(y,O),j}for(E=r(y,E);!N.done;O++,N=w.next())N=p(E,y,O,N.value,S),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?O:N.key),b=a(N,b,O),k===null?j=N:k.sibling=N,k=N);return e&&E.forEach(function(A){return t(y,A)}),He&&ua(y,O),j}function v(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===ko&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:e:{for(var j=w.key,k=b;k!==null;){if(k.key===j){if(j=w.type,j===ko){if(k.tag===7){n(y,k.sibling),b=i(k,w.props.children),b.return=y,y=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wi&&$w(j)===k.type){n(y,k.sibling),b=i(k,w.props),b.ref=Gs(y,k,w),b.return=y,y=b;break e}n(y,k);break}else t(y,k);k=k.sibling}w.type===ko?(b=Oa(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=id(w.type,w.key,w.props,null,y.mode,S),S.ref=Gs(y,b,w),S.return=y,y=S)}return o(y);case wo:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=i(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=Vp(w,y.mode,S),b.return=y,y=b}return o(y);case wi:return k=w._init,v(y,b,k(w._payload),S)}if(dl(w))return m(y,b,w,S);if(Ws(w))return g(y,b,w,S);mu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,w),b.return=y,y=b):(n(y,b),b=qp(w,y.mode,S),b.return=y,y=b),o(y)):n(y,b)}return v}var Go=EE(!0),PE=EE(!1),Nd=Gi(null),Od=null,Oo=null,qy=null;function Vy(){qy=Oo=Od=null}function Gy(e){var t=Nd.current;Be(Nd),e._currentValue=t}function Pg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fo(e,t){Od=e,qy=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(an=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(qy!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(Od===null)throw Error(X(308));Oo=e,Od.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var ba=null;function Yy(e){ba===null?ba=[e]:ba.push(e)}function NE(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Yy(t)):(n.next=i.next,i.next=n),t.interleaved=n,ni(e,r)}function ni(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ki=!1;function Jy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ni(e,n)}return i=r.interleaved,i===null?(t.next=t,Yy(r)):(t.next=i.next,i.next=t),r.interleaved=t,ni(e,n)}function Qu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ry(e,n)}}function Fw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ad(e,t,n,r){var i=e.updateQueue;ki=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,u=c=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,g=s;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Je({},f,h);break e;case 2:ki=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ua|=o,e.lanes=o,e.memoizedState=f}}function Uw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var wc={},Tr=Gi(wc),Vl=Gi(wc),Gl=Gi(wc);function wa(e){if(e===wc)throw Error(X(174));return e}function Xy(e,t){switch($e(Gl,t),$e(Vl,e),$e(Tr,wc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lg(t,e)}Be(Tr),$e(Tr,t)}function Yo(){Be(Tr),Be(Vl),Be(Gl)}function AE(e){wa(Gl.current);var t=wa(Tr.current),n=lg(t,e.type);t!==n&&($e(Vl,e),$e(Tr,n))}function Qy(e){Vl.current===e&&(Be(Tr),Be(Vl))}var Ge=Gi(0);function Td(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Up=[];function Zy(){for(var e=0;e<Up.length;e++)Up[e]._workInProgressVersionPrimary=null;Up.length=0}var Zu=ci.ReactCurrentDispatcher,zp=ci.ReactCurrentBatchConfig,Fa=0,Ye=null,pt=null,kt=null,Id=!1,kl=!1,Yl=0,pL=0;function Dt(){throw Error(X(321))}function ex(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mr(e[n],t[n]))return!1;return!0}function tx(e,t,n,r,i,a){if(Fa=a,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zu.current=e===null||e.memoizedState===null?yL:xL,e=n(r,i),kl){a=0;do{if(kl=!1,Yl=0,25<=a)throw Error(X(301));a+=1,kt=pt=null,t.updateQueue=null,Zu.current=bL,e=n(r,i)}while(kl)}if(Zu.current=Dd,t=pt!==null&&pt.next!==null,Fa=0,kt=pt=Ye=null,Id=!1,t)throw Error(X(300));return e}function nx(){var e=Yl!==0;return Yl=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ye.memoizedState=kt=e:kt=kt.next=e,kt}function Jn(){if(pt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=kt===null?Ye.memoizedState:kt.next;if(t!==null)kt=t,pt=e;else{if(e===null)throw Error(X(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},kt===null?Ye.memoizedState=kt=e:kt=kt.next=e}return kt}function Jl(e,t){return typeof t=="function"?t(e):t}function Bp(e){var t=Jn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if((Fa&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Ye.lanes|=u,Ua|=u}c=c.next}while(c!==null&&c!==a);l===null?o=r:l.next=s,mr(r,t.memoizedState)||(an=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ye.lanes|=a,Ua|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wp(e){var t=Jn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);mr(a,t.memoizedState)||(an=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function TE(){}function IE(e,t){var n=Ye,r=Jn(),i=t(),a=!mr(r.memoizedState,i);if(a&&(r.memoizedState=i,an=!0),r=r.queue,rx(ME.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Xl(9,RE.bind(null,n,r,i,t),void 0,null),St===null)throw Error(X(349));Fa&30||DE(n,t,i)}return i}function DE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function RE(e,t,n,r){t.value=n,t.getSnapshot=r,LE(t)&&$E(e)}function ME(e,t,n){return n(function(){LE(t)&&$E(e)})}function LE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mr(e,n)}catch{return!0}}function $E(e){var t=ni(e,1);t!==null&&fr(t,e,1,-1)}function zw(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t.queue=e,e=e.dispatch=vL.bind(null,Ye,e),[t.memoizedState,e]}function Xl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FE(){return Jn().memoizedState}function ed(e,t,n,r){var i=kr();Ye.flags|=e,i.memoizedState=Xl(1|t,n,void 0,r===void 0?null:r)}function Vf(e,t,n,r){var i=Jn();r=r===void 0?null:r;var a=void 0;if(pt!==null){var o=pt.memoizedState;if(a=o.destroy,r!==null&&ex(r,o.deps)){i.memoizedState=Xl(t,n,a,r);return}}Ye.flags|=e,i.memoizedState=Xl(1|t,n,a,r)}function Bw(e,t){return ed(8390656,8,e,t)}function rx(e,t){return Vf(2048,8,e,t)}function UE(e,t){return Vf(4,2,e,t)}function zE(e,t){return Vf(4,4,e,t)}function BE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WE(e,t,n){return n=n!=null?n.concat([e]):null,Vf(4,4,BE.bind(null,t,e),n)}function ix(){}function KE(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ex(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HE(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ex(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qE(e,t,n){return Fa&21?(mr(n,t)||(n=XC(),Ye.lanes|=n,Ua|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,an=!0),e.memoizedState=n)}function mL(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=zp.transition;zp.transition={};try{e(!1),t()}finally{Pe=n,zp.transition=r}}function VE(){return Jn().memoizedState}function gL(e,t,n){var r=Ui(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GE(e))YE(t,n);else if(n=NE(e,t,n,r),n!==null){var i=Gt();fr(n,e,r,i),JE(n,t,r)}}function vL(e,t,n){var r=Ui(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GE(e))YE(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,mr(s,o)){var l=t.interleaved;l===null?(i.next=i,Yy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=NE(e,t,i,r),n!==null&&(i=Gt(),fr(n,e,r,i),JE(n,t,r))}}function GE(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function YE(e,t){kl=Id=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function JE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ry(e,n)}}var Dd={readContext:Yn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},yL={readContext:Yn,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:Bw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ed(4194308,4,BE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ed(4194308,4,e,t)},useInsertionEffect:function(e,t){return ed(4,2,e,t)},useMemo:function(e,t){var n=kr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=kr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gL.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:zw,useDebugValue:ix,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=zw(!1),t=e[0];return e=mL.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,i=kr();if(He){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),St===null)throw Error(X(349));Fa&30||DE(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Bw(ME.bind(null,r,a,e),[e]),r.flags|=2048,Xl(9,RE.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=kr(),t=St.identifierPrefix;if(He){var n=qr,r=Hr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Yl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pL++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xL={readContext:Yn,useCallback:KE,useContext:Yn,useEffect:rx,useImperativeHandle:WE,useInsertionEffect:UE,useLayoutEffect:zE,useMemo:HE,useReducer:Bp,useRef:FE,useState:function(){return Bp(Jl)},useDebugValue:ix,useDeferredValue:function(e){var t=Jn();return qE(t,pt.memoizedState,e)},useTransition:function(){var e=Bp(Jl)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:TE,useSyncExternalStore:IE,useId:VE,unstable_isNewReconciler:!1},bL={readContext:Yn,useCallback:KE,useContext:Yn,useEffect:rx,useImperativeHandle:WE,useInsertionEffect:UE,useLayoutEffect:zE,useMemo:HE,useReducer:Wp,useRef:FE,useState:function(){return Wp(Jl)},useDebugValue:ix,useDeferredValue:function(e){var t=Jn();return pt===null?t.memoizedState=e:qE(t,pt.memoizedState,e)},useTransition:function(){var e=Wp(Jl)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:TE,useSyncExternalStore:IE,useId:VE,unstable_isNewReconciler:!1};function ir(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ng(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Je({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gf={isMounted:function(e){return(e=e._reactInternals)?Xa(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ui(e),a=Xr(r,i);a.payload=t,n!=null&&(a.callback=n),t=$i(e,a,i),t!==null&&(fr(t,e,i,r),Qu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gt(),i=Ui(e),a=Xr(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=$i(e,a,i),t!==null&&(fr(t,e,i,r),Qu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gt(),r=Ui(e),i=Xr(n,r);i.tag=2,t!=null&&(i.callback=t),t=$i(e,i,r),t!==null&&(fr(t,e,r,n),Qu(t,e,r))}};function Ww(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Wl(n,r)||!Wl(i,a):!0}function XE(e,t,n){var r=!1,i=Hi,a=t.contextType;return typeof a=="object"&&a!==null?a=Yn(a):(i=cn(t)?La:Bt.current,r=t.contextTypes,a=(r=r!=null)?qo(e,i):Hi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Kw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gf.enqueueReplaceState(t,t.state,null)}function Og(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Jy(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Yn(a):(a=cn(t)?La:Bt.current,i.context=qo(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ng(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Gf.enqueueReplaceState(i,i.state,null),Ad(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jo(e,t){try{var n="",r=t;do n+=GR(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Kp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ag(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wL=typeof WeakMap=="function"?WeakMap:Map;function QE(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Md||(Md=!0,zg=r),Ag(e,t)},n}function ZE(e,t,n){n=Xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ag(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ag(e,t),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Hw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wL;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=RL.bind(null,e,t,n),t.then(e,e))}function qw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,$i(n,t,1))),n.lanes|=1),e)}var kL=ci.ReactCurrentOwner,an=!1;function Kt(e,t,n,r){t.child=e===null?PE(t,null,n,r):Go(t,e.child,n,r)}function Gw(e,t,n,r,i){n=n.render;var a=t.ref;return Fo(t,i),r=tx(e,t,n,r,a,i),n=nx(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ri(e,t,i)):(He&&n&&Wy(t),t.flags|=1,Kt(e,t,r,i),t.child)}function Yw(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!fx(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,eP(e,t,a,r,i)):(e=id(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Wl,n(o,r)&&e.ref===t.ref)return ri(e,t,i)}return t.flags|=1,e=zi(a,r),e.ref=t.ref,e.return=t,t.child=e}function eP(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Wl(a,r)&&e.ref===t.ref)if(an=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(an=!0);else return t.lanes=e.lanes,ri(e,t,i)}return Tg(e,t,n,r,i)}function tP(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(To,bn),bn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(To,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,$e(To,bn),bn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,$e(To,bn),bn|=r;return Kt(e,t,i,n),t.child}function nP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tg(e,t,n,r,i){var a=cn(n)?La:Bt.current;return a=qo(t,a),Fo(t,i),n=tx(e,t,n,r,a,i),r=nx(),e!==null&&!an?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ri(e,t,i)):(He&&r&&Wy(t),t.flags|=1,Kt(e,t,n,i),t.child)}function Jw(e,t,n,r,i){if(cn(n)){var a=!0;Cd(t)}else a=!1;if(Fo(t,i),t.stateNode===null)td(e,t),XE(t,n,r),Og(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=cn(n)?La:Bt.current,c=qo(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==c)&&Kw(t,o,r,c),ki=!1;var h=t.memoizedState;o.state=h,Ad(t,r,o,i),l=t.memoizedState,s!==r||h!==l||ln.current||ki?(typeof u=="function"&&(Ng(t,n,u,r),l=t.memoizedState),(s=ki||Ww(t,n,s,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,OE(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ir(t.type,s),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=cn(n)?La:Bt.current,l=qo(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Kw(t,o,r,l),ki=!1,h=t.memoizedState,o.state=h,Ad(t,r,o,i);var m=t.memoizedState;s!==f||h!==m||ln.current||ki?(typeof p=="function"&&(Ng(t,n,p,r),m=t.memoizedState),(c=ki||Ww(t,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ig(e,t,n,r,a,i)}function Ig(e,t,n,r,i,a){nP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Rw(t,n,!1),ri(e,t,a);r=t.stateNode,kL.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Go(t,e.child,null,a),t.child=Go(t,null,s,a)):Kt(e,t,s,a),t.memoizedState=r.state,i&&Rw(t,n,!0),t.child}function rP(e){var t=e.stateNode;t.pendingContext?Dw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dw(e,t.context,!1),Xy(e,t.containerInfo)}function Xw(e,t,n,r,i){return Vo(),Hy(i),t.flags|=256,Kt(e,t,n,r),t.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Rg(e){return{baseLanes:e,cachePool:null,transitions:null}}function iP(e,t,n){var r=t.pendingProps,i=Ge.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Ge,i&1),e===null)return Eg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xf(o,r,0,null),e=Oa(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Rg(n),t.memoizedState=Dg,e):ax(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return SL(e,t,o,r,s,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=zi(s,a):(a=Oa(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Dg,r}return a=e.child,e=a.sibling,r=zi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ax(e,t){return t=Xf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gu(e,t,n,r){return r!==null&&Hy(r),Go(t,e.child,null,n),e=ax(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SL(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Kp(Error(X(422))),gu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Xf({mode:"visible",children:r.children},i,0,null),a=Oa(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Go(t,e.child,null,o),t.child.memoizedState=Rg(o),t.memoizedState=Dg,a);if(!(t.mode&1))return gu(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(X(419)),r=Kp(a,r,void 0),gu(e,t,o,r)}if(s=(o&e.childLanes)!==0,an||s){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ni(e,i),fr(r,e,i,-1))}return dx(),r=Kp(Error(X(421))),gu(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ML.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,kn=Li(i.nextSibling),Sn=t,He=!0,sr=null,e!==null&&(Bn[Wn++]=Hr,Bn[Wn++]=qr,Bn[Wn++]=$a,Hr=e.id,qr=e.overflow,$a=t),t=ax(t,r.children),t.flags|=4096,t)}function Qw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Pg(e.return,t,n)}function Hp(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function aP(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Kt(e,t,r.children,n),r=Ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qw(e,n,t);else if(e.tag===19)Qw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Td(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hp(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Td(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hp(t,!0,n,null,a);break;case"together":Hp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function td(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=zi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jL(e,t,n){switch(t.tag){case 3:rP(t),Vo();break;case 5:AE(t);break;case 1:cn(t.type)&&Cd(t);break;case 4:Xy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$e(Nd,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ge,Ge.current&1),t.flags|=128,null):n&t.child.childLanes?iP(e,t,n):($e(Ge,Ge.current&1),e=ri(e,t,n),e!==null?e.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ge,Ge.current),r)break;return null;case 22:case 23:return t.lanes=0,tP(e,t,n)}return ri(e,t,n)}var oP,Mg,sP,lP;oP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mg=function(){};sP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wa(Tr.current);var a=null;switch(n){case"input":i=ig(e,i),r=ig(e,r),a=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),a=[];break;case"textarea":i=sg(e,i),r=sg(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=jd)}cg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ml.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",e),a||s===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};lP=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ys(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _L(e,t,n){var r=t.pendingProps;switch(Ky(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return cn(t.type)&&_d(),Rt(t),null;case 3:return r=t.stateNode,Yo(),Be(ln),Be(Bt),Zy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sr!==null&&(Kg(sr),sr=null))),Mg(e,t),Rt(t),null;case 5:Qy(t);var i=wa(Gl.current);if(n=t.type,e!==null&&t.stateNode!=null)sP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Rt(t),null}if(e=wa(Tr.current),pu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[_r]=t,r[ql]=a,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<hl.length;i++)Ue(hl[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":sw(r,a),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ue("invalid",r);break;case"textarea":cw(r,a),Ue("invalid",r)}cg(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&hu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&hu(r.textContent,s,e),i=["children",""+s]):Ml.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":au(r),lw(r,a,!0);break;case"textarea":au(r),uw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=jd)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_r]=t,e[ql]=r,oP(e,t,!1,!1),t.stateNode=e;e:{switch(o=ug(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),i=r;break;case"iframe":case"object":case"embed":Ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<hl.length;i++)Ue(hl[i],e);i=r;break;case"source":Ue("error",e),i=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=r;break;case"details":Ue("toggle",e),i=r;break;case"input":sw(e,r),i=ig(e,r),Ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":cw(e,r),i=sg(e,r),Ue("invalid",e);break;default:i=r}cg(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?FC(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&LC(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ll(e,l):typeof l=="number"&&Ll(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ml.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ue("scroll",e):l!=null&&Ny(e,a,l,o))}switch(n){case"input":au(e),lw(e,r,!1);break;case"textarea":au(e),uw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ki(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ro(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=jd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)lP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=wa(Gl.current),wa(Tr.current),pu(t)){if(r=t.stateNode,n=t.memoizedProps,r[_r]=t,(a=r.nodeValue!==n)&&(e=Sn,e!==null))switch(e.tag){case 3:hu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=t,t.stateNode=r}return Rt(t),null;case 13:if(Be(Ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&kn!==null&&t.mode&1&&!(t.flags&128))CE(),Vo(),t.flags|=98560,a=!1;else if(a=pu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(X(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(X(317));a[_r]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),a=!1}else sr!==null&&(Kg(sr),sr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ge.current&1?vt===0&&(vt=3):dx())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Yo(),Mg(e,t),e===null&&Kl(t.stateNode.containerInfo),Rt(t),null;case 10:return Gy(t.type._context),Rt(t),null;case 17:return cn(t.type)&&_d(),Rt(t),null;case 19:if(Be(Ge),a=t.memoizedState,a===null)return Rt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Ys(a,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Td(e),o!==null){for(t.flags|=128,Ys(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ge,Ge.current&1|2),t.child}e=e.sibling}a.tail!==null&&nt()>Xo&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304)}else{if(!r)if(e=Td(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!He)return Rt(t),null}else 2*nt()-a.renderingStartTime>Xo&&n!==1073741824&&(t.flags|=128,r=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=nt(),t.sibling=null,n=Ge.current,$e(Ge,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return ux(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function CL(e,t){switch(Ky(t),t.tag){case 1:return cn(t.type)&&_d(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yo(),Be(ln),Be(Bt),Zy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qy(t),null;case 13:if(Be(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(Ge),null;case 4:return Yo(),null;case 10:return Gy(t.type._context),null;case 22:case 23:return ux(),null;case 24:return null;default:return null}}var vu=!1,Lt=!1,EL=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function Lg(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var Zw=!1;function PL(e,t){if(bg=wd,e=hE(),By(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(s=o),h===a&&++u===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wg={focusedElem:e,selectionRange:n},wd=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ir(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){Qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return m=Zw,Zw=!1,m}function Sl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Lg(t,n,a)}i=i.next}while(i!==r)}}function Yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $g(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cP(e){var t=e.alternate;t!==null&&(e.alternate=null,cP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_r],delete t[ql],delete t[jg],delete t[uL],delete t[dL])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uP(e){return e.tag===5||e.tag===3||e.tag===4}function e1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jd));else if(r!==4&&(e=e.child,e!==null))for(Fg(e,t,n),e=e.sibling;e!==null;)Fg(e,t,n),e=e.sibling}function Ug(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ug(e,t,n),e=e.sibling;e!==null;)Ug(e,t,n),e=e.sibling}var Nt=null,ar=!1;function vi(e,t,n){for(n=n.child;n!==null;)dP(e,t,n),n=n.sibling}function dP(e,t,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(zf,n)}catch{}switch(n.tag){case 5:Lt||Ao(n,t);case 6:var r=Nt,i=ar;Nt=null,vi(e,t,n),Nt=r,ar=i,Nt!==null&&(ar?(e=Nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(ar?(e=Nt,n=n.stateNode,e.nodeType===8?$p(e.parentNode,n):e.nodeType===1&&$p(e,n),zl(e)):$p(Nt,n.stateNode));break;case 4:r=Nt,i=ar,Nt=n.stateNode.containerInfo,ar=!0,vi(e,t,n),Nt=r,ar=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Lg(n,t,o),i=i.next}while(i!==r)}vi(e,t,n);break;case 1:if(!Lt&&(Ao(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Qe(n,t,s)}vi(e,t,n);break;case 21:vi(e,t,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,vi(e,t,n),Lt=r):vi(e,t,n);break;default:vi(e,t,n)}}function t1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new EL),t.forEach(function(r){var i=LL.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Nt=s.stateNode,ar=!1;break e;case 3:Nt=s.stateNode.containerInfo,ar=!0;break e;case 4:Nt=s.stateNode.containerInfo,ar=!0;break e}s=s.return}if(Nt===null)throw Error(X(160));dP(a,o,i),Nt=null,ar=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Qe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fP(t,e),t=t.sibling}function fP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),xr(e),r&4){try{Sl(3,e,e.return),Yf(3,e)}catch(g){Qe(e,e.return,g)}try{Sl(5,e,e.return)}catch(g){Qe(e,e.return,g)}}break;case 1:nr(t,e),xr(e),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(nr(t,e),xr(e),r&512&&n!==null&&Ao(n,n.return),e.flags&32){var i=e.stateNode;try{Ll(i,"")}catch(g){Qe(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&DC(i,a),ug(s,o);var c=ug(s,a);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?FC(i,f):u==="dangerouslySetInnerHTML"?LC(i,f):u==="children"?Ll(i,f):Ny(i,u,f,c)}switch(s){case"input":ag(i,a);break;case"textarea":RC(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Ro(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ro(i,!!a.multiple,a.defaultValue,!0):Ro(i,!!a.multiple,a.multiple?[]:"",!1))}i[ql]=a}catch(g){Qe(e,e.return,g)}}break;case 6:if(nr(t,e),xr(e),r&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Qe(e,e.return,g)}}break;case 3:if(nr(t,e),xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zl(t.containerInfo)}catch(g){Qe(e,e.return,g)}break;case 4:nr(t,e),xr(e);break;case 13:nr(t,e),xr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(lx=nt())),r&4&&t1(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Lt=(c=Lt)||u,nr(t,e),Lt=c):nr(t,e),xr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(re=e,u=e.child;u!==null;){for(f=re=u;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sl(4,h,h.return);break;case 1:Ao(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Qe(r,n,g)}}break;case 5:Ao(h,h.return);break;case 22:if(h.memoizedState!==null){r1(f);continue}}p!==null?(p.return=h,re=p):r1(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=$C("display",o))}catch(g){Qe(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Qe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:nr(t,e),xr(e),r&4&&t1(e);break;case 21:break;default:nr(t,e),xr(e)}}function xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uP(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ll(i,""),r.flags&=-33);var a=e1(e);Ug(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=e1(e);Fg(e,s,o);break;default:throw Error(X(161))}}catch(l){Qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NL(e,t,n){re=e,hP(e)}function hP(e,t,n){for(var r=(e.mode&1)!==0;re!==null;){var i=re,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Lt;s=vu;var c=Lt;if(vu=o,(Lt=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?i1(i):l!==null?(l.return=o,re=l):i1(i);for(;a!==null;)re=a,hP(a),a=a.sibling;re=i,vu=s,Lt=c}n1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,re=a):n1(e)}}function n1(e){for(;re!==null;){var t=re;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Lt||Yf(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ir(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Uw(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Uw(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&zl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Lt||t.flags&512&&$g(t)}catch(h){Qe(t,t.return,h)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function r1(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function i1(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yf(4,t)}catch(l){Qe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Qe(t,i,l)}}var a=t.return;try{$g(t)}catch(l){Qe(t,a,l)}break;case 5:var o=t.return;try{$g(t)}catch(l){Qe(t,o,l)}}}catch(l){Qe(t,t.return,l)}if(t===e){re=null;break}var s=t.sibling;if(s!==null){s.return=t.return,re=s;break}re=t.return}}var OL=Math.ceil,Rd=ci.ReactCurrentDispatcher,ox=ci.ReactCurrentOwner,Gn=ci.ReactCurrentBatchConfig,ke=0,St=null,ct=null,Tt=0,bn=0,To=Gi(0),vt=0,Ql=null,Ua=0,Jf=0,sx=0,jl=null,nn=null,lx=0,Xo=1/0,zr=null,Md=!1,zg=null,Fi=null,yu=!1,Oi=null,Ld=0,_l=0,Bg=null,nd=-1,rd=0;function Gt(){return ke&6?nt():nd!==-1?nd:nd=nt()}function Ui(e){return e.mode&1?ke&2&&Tt!==0?Tt&-Tt:hL.transition!==null?(rd===0&&(rd=XC()),rd):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:iE(e.type)),e):1}function fr(e,t,n,r){if(50<_l)throw _l=0,Bg=null,Error(X(185));yc(e,n,r),(!(ke&2)||e!==St)&&(e===St&&(!(ke&2)&&(Jf|=n),vt===4&&Ci(e,Tt)),un(e,r),n===1&&ke===0&&!(t.mode&1)&&(Xo=nt()+500,qf&&Yi()))}function un(e,t){var n=e.callbackNode;hM(e,t);var r=bd(e,e===St?Tt:0);if(r===0)n!==null&&hw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hw(n),t===1)e.tag===0?fL(a1.bind(null,e)):SE(a1.bind(null,e)),lL(function(){!(ke&6)&&Yi()}),n=null;else{switch(QC(r)){case 1:n=Dy;break;case 4:n=YC;break;case 16:n=xd;break;case 536870912:n=JC;break;default:n=xd}n=wP(n,pP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pP(e,t){if(nd=-1,rd=0,ke&6)throw Error(X(327));var n=e.callbackNode;if(Uo()&&e.callbackNode!==n)return null;var r=bd(e,e===St?Tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$d(e,r);else{t=r;var i=ke;ke|=2;var a=gP();(St!==e||Tt!==t)&&(zr=null,Xo=nt()+500,Na(e,t));do try{IL();break}catch(s){mP(e,s)}while(1);Vy(),Rd.current=a,ke=i,ct!==null?t=0:(St=null,Tt=0,t=vt)}if(t!==0){if(t===2&&(i=mg(e),i!==0&&(r=i,t=Wg(e,i))),t===1)throw n=Ql,Na(e,0),Ci(e,r),un(e,nt()),n;if(t===6)Ci(e,r);else{if(i=e.current.alternate,!(r&30)&&!AL(i)&&(t=$d(e,r),t===2&&(a=mg(e),a!==0&&(r=a,t=Wg(e,a))),t===1))throw n=Ql,Na(e,0),Ci(e,r),un(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:da(e,nn,zr);break;case 3:if(Ci(e,r),(r&130023424)===r&&(t=lx+500-nt(),10<t)){if(bd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sg(da.bind(null,e,nn,zr),t);break}da(e,nn,zr);break;case 4:if(Ci(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-dr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OL(r/1960))-r,10<r){e.timeoutHandle=Sg(da.bind(null,e,nn,zr),r);break}da(e,nn,zr);break;case 5:da(e,nn,zr);break;default:throw Error(X(329))}}}return un(e,nt()),e.callbackNode===n?pP.bind(null,e):null}function Wg(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(Na(e,t).flags|=256),e=$d(e,t),e!==2&&(t=nn,nn=n,t!==null&&Kg(t)),e}function Kg(e){nn===null?nn=e:nn.push.apply(nn,e)}function AL(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!mr(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t){for(t&=~sx,t&=~Jf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function a1(e){if(ke&6)throw Error(X(327));Uo();var t=bd(e,0);if(!(t&1))return un(e,nt()),null;var n=$d(e,t);if(e.tag!==0&&n===2){var r=mg(e);r!==0&&(t=r,n=Wg(e,r))}if(n===1)throw n=Ql,Na(e,0),Ci(e,t),un(e,nt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,da(e,nn,zr),un(e,nt()),null}function cx(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(Xo=nt()+500,qf&&Yi())}}function za(e){Oi!==null&&Oi.tag===0&&!(ke&6)&&Uo();var t=ke;ke|=1;var n=Gn.transition,r=Pe;try{if(Gn.transition=null,Pe=1,e)return e()}finally{Pe=r,Gn.transition=n,ke=t,!(ke&6)&&Yi()}}function ux(){bn=To.current,Be(To)}function Na(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,sL(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Ky(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_d();break;case 3:Yo(),Be(ln),Be(Bt),Zy();break;case 5:Qy(r);break;case 4:Yo();break;case 13:Be(Ge);break;case 19:Be(Ge);break;case 10:Gy(r.type._context);break;case 22:case 23:ux()}n=n.return}if(St=e,ct=e=zi(e.current,null),Tt=bn=t,vt=0,Ql=null,sx=Jf=Ua=0,nn=jl=null,ba!==null){for(t=0;t<ba.length;t++)if(n=ba[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}ba=null}return e}function mP(e,t){do{var n=ct;try{if(Vy(),Zu.current=Dd,Id){for(var r=Ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Id=!1}if(Fa=0,kt=pt=Ye=null,kl=!1,Yl=0,ox.current=null,n===null||n.return===null){vt=1,Ql=t,ct=null;break}e:{var a=e,o=n.return,s=n,l=t;if(t=Tt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=qw(o);if(p!==null){p.flags&=-257,Vw(p,o,s,a,t),p.mode&1&&Hw(a,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){Hw(a,c,t),dx();break e}l=Error(X(426))}}else if(He&&s.mode&1){var v=qw(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Vw(v,o,s,a,t),Hy(Jo(l,s));break e}}a=l=Jo(l,s),vt!==4&&(vt=2),jl===null?jl=[a]:jl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=QE(a,l,t);Fw(a,y);break e;case 1:s=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fi===null||!Fi.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ZE(a,s,t);Fw(a,S);break e}}a=a.return}while(a!==null)}yP(n)}catch(j){t=j,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function gP(){var e=Rd.current;return Rd.current=Dd,e===null?Dd:e}function dx(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(Ua&268435455)&&!(Jf&268435455)||Ci(St,Tt)}function $d(e,t){var n=ke;ke|=2;var r=gP();(St!==e||Tt!==t)&&(zr=null,Na(e,t));do try{TL();break}catch(i){mP(e,i)}while(1);if(Vy(),ke=n,Rd.current=r,ct!==null)throw Error(X(261));return St=null,Tt=0,vt}function TL(){for(;ct!==null;)vP(ct)}function IL(){for(;ct!==null&&!iM();)vP(ct)}function vP(e){var t=bP(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?yP(e):ct=t,ox.current=null}function yP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=CL(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ct=null;return}}else if(n=_L(n,t,bn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);vt===0&&(vt=5)}function da(e,t,n){var r=Pe,i=Gn.transition;try{Gn.transition=null,Pe=1,DL(e,t,n,r)}finally{Gn.transition=i,Pe=r}return null}function DL(e,t,n,r){do Uo();while(Oi!==null);if(ke&6)throw Error(X(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(pM(e,a),e===St&&(ct=St=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yu||(yu=!0,wP(xd,function(){return Uo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Gn.transition,Gn.transition=null;var o=Pe;Pe=1;var s=ke;ke|=4,ox.current=null,PL(e,n),fP(n,e),eL(wg),wd=!!bg,wg=bg=null,e.current=n,NL(n),aM(),ke=s,Pe=o,Gn.transition=a}else e.current=n;if(yu&&(yu=!1,Oi=e,Ld=i),a=e.pendingLanes,a===0&&(Fi=null),lM(n.stateNode),un(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,e=zg,zg=null,e;return Ld&1&&e.tag!==0&&Uo(),a=e.pendingLanes,a&1?e===Bg?_l++:(_l=0,Bg=e):_l=0,Yi(),null}function Uo(){if(Oi!==null){var e=QC(Ld),t=Gn.transition,n=Pe;try{if(Gn.transition=null,Pe=16>e?16:e,Oi===null)var r=!1;else{if(e=Oi,Oi=null,Ld=0,ke&6)throw Error(X(331));var i=ke;for(ke|=4,re=e.current;re!==null;){var a=re,o=a.child;if(re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Sl(8,u,a)}var f=u.child;if(f!==null)f.return=u,re=f;else for(;re!==null;){u=re;var h=u.sibling,p=u.return;if(cP(u),u===c){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,re=o;else e:for(;re!==null;){if(a=re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Sl(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,re=y;break e}re=a.return}}var b=e.current;for(re=b;re!==null;){o=re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,re=w;else e:for(o=b;re!==null;){if(s=re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Yf(9,s)}}catch(j){Qe(s,s.return,j)}if(s===o){re=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,re=S;break e}re=s.return}}if(ke=i,Yi(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(zf,e)}catch{}r=!0}return r}finally{Pe=n,Gn.transition=t}}return!1}function o1(e,t,n){t=Jo(n,t),t=QE(e,t,1),e=$i(e,t,1),t=Gt(),e!==null&&(yc(e,1,t),un(e,t))}function Qe(e,t,n){if(e.tag===3)o1(e,e,n);else for(;t!==null;){if(t.tag===3){o1(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){e=Jo(n,e),e=ZE(t,e,1),t=$i(t,e,1),e=Gt(),t!==null&&(yc(t,1,e),un(t,e));break}}t=t.return}}function RL(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&n,St===e&&(Tt&n)===n&&(vt===4||vt===3&&(Tt&130023424)===Tt&&500>nt()-lx?Na(e,0):sx|=n),un(e,t)}function xP(e,t){t===0&&(e.mode&1?(t=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):t=1);var n=Gt();e=ni(e,t),e!==null&&(yc(e,t,n),un(e,n))}function ML(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xP(e,n)}function LL(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),xP(e,n)}var bP;bP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)an=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return an=!1,jL(e,t,n);an=!!(e.flags&131072)}else an=!1,He&&t.flags&1048576&&jE(t,Pd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;td(e,t),e=t.pendingProps;var i=qo(t,Bt.current);Fo(t,n),i=tx(null,t,r,e,i,n);var a=nx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cn(r)?(a=!0,Cd(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jy(t),i.updater=Gf,t.stateNode=i,i._reactInternals=t,Og(t,r,e,n),t=Ig(null,t,r,!0,a,n)):(t.tag=0,He&&a&&Wy(t),Kt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(td(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FL(r),e=ir(r,e),i){case 0:t=Tg(null,t,r,e,n);break e;case 1:t=Jw(null,t,r,e,n);break e;case 11:t=Gw(null,t,r,e,n);break e;case 14:t=Yw(null,t,r,ir(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Tg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Jw(e,t,r,i,n);case 3:e:{if(rP(t),e===null)throw Error(X(387));r=t.pendingProps,a=t.memoizedState,i=a.element,OE(e,t),Ad(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jo(Error(X(423)),t),t=Xw(e,t,r,n,i);break e}else if(r!==i){i=Jo(Error(X(424)),t),t=Xw(e,t,r,n,i);break e}else for(kn=Li(t.stateNode.containerInfo.firstChild),Sn=t,He=!0,sr=null,n=PE(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){t=ri(e,t,n);break e}Kt(e,t,r,n)}t=t.child}return t;case 5:return AE(t),e===null&&Eg(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,kg(r,i)?o=null:a!==null&&kg(r,a)&&(t.flags|=32),nP(e,t),Kt(e,t,o,n),t.child;case 6:return e===null&&Eg(t),null;case 13:return iP(e,t,n);case 4:return Xy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Go(t,null,r,n):Kt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Gw(e,t,r,i,n);case 7:return Kt(e,t,t.pendingProps,n),t.child;case 8:return Kt(e,t,t.pendingProps.children,n),t.child;case 12:return Kt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,$e(Nd,r._currentValue),r._currentValue=o,a!==null)if(mr(a.value,o)){if(a.children===i.children&&!ln.current){t=ri(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Xr(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Pg(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(X(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Pg(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Kt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fo(t,n),i=Yn(i),r=r(i),t.flags|=1,Kt(e,t,r,n),t.child;case 14:return r=t.type,i=ir(r,t.pendingProps),i=ir(r.type,i),Yw(e,t,r,i,n);case 15:return eP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),td(e,t),t.tag=1,cn(r)?(e=!0,Cd(t)):e=!1,Fo(t,n),XE(t,r,i),Og(t,r,i,n),Ig(null,t,r,!0,e,n);case 19:return aP(e,t,n);case 22:return tP(e,t,n)}throw Error(X(156,t.tag))};function wP(e,t){return GC(e,t)}function $L(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,n,r){return new $L(e,t,n,r)}function fx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FL(e){if(typeof e=="function")return fx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ay)return 11;if(e===Ty)return 14}return 2}function zi(e,t){var n=e.alternate;return n===null?(n=qn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function id(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")fx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ko:return Oa(n.children,i,a,t);case Oy:o=8,i|=8;break;case eg:return e=qn(12,n,t,i|2),e.elementType=eg,e.lanes=a,e;case tg:return e=qn(13,n,t,i),e.elementType=tg,e.lanes=a,e;case ng:return e=qn(19,n,t,i),e.elementType=ng,e.lanes=a,e;case AC:return Xf(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case NC:o=10;break e;case OC:o=9;break e;case Ay:o=11;break e;case Ty:o=14;break e;case wi:o=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=qn(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Oa(e,t,n,r){return e=qn(7,e,r,t),e.lanes=n,e}function Xf(e,t,n,r){return e=qn(22,e,r,t),e.elementType=AC,e.lanes=n,e.stateNode={isHidden:!1},e}function qp(e,t,n){return e=qn(6,e,null,t),e.lanes=n,e}function Vp(e,t,n){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function UL(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hx(e,t,n,r,i,a,o,s,l){return e=new UL(e,t,n,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=qn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jy(a),e}function zL(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kP(e){if(!e)return Hi;e=e._reactInternals;e:{if(Xa(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(cn(n))return kE(e,n,t)}return t}function SP(e,t,n,r,i,a,o,s,l){return e=hx(n,r,!0,e,i,a,o,s,l),e.context=kP(null),n=e.current,r=Gt(),i=Ui(n),a=Xr(r,i),a.callback=t??null,$i(n,a,i),e.current.lanes=i,yc(e,i,r),un(e,r),e}function Qf(e,t,n,r){var i=t.current,a=Gt(),o=Ui(i);return n=kP(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$i(i,t,o),e!==null&&(fr(e,i,o,a),Qu(e,i,o)),o}function Fd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function s1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function px(e,t){s1(e,t),(e=e.alternate)&&s1(e,t)}function BL(){return null}var jP=typeof reportError=="function"?reportError:function(e){console.error(e)};function mx(e){this._internalRoot=e}Zf.prototype.render=mx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Qf(e,t,null,null)};Zf.prototype.unmount=mx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;za(function(){Qf(null,e,null,null)}),t[ti]=null}};function Zf(e){this._internalRoot=e}Zf.prototype.unstable_scheduleHydration=function(e){if(e){var t=tE();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_i.length&&t!==0&&t<_i[n].priority;n++);_i.splice(n,0,e),n===0&&rE(e)}};function gx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l1(){}function WL(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=Fd(o);a.call(c)}}var o=SP(t,r,e,0,null,!1,!1,"",l1);return e._reactRootContainer=o,e[ti]=o.current,Kl(e.nodeType===8?e.parentNode:e),za(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var c=Fd(l);s.call(c)}}var l=hx(e,0,!1,null,null,!1,!1,"",l1);return e._reactRootContainer=l,e[ti]=l.current,Kl(e.nodeType===8?e.parentNode:e),za(function(){Qf(t,l,n,r)}),l}function th(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Fd(o);s.call(l)}}Qf(t,o,e,i)}else o=WL(n,t,e,i,r);return Fd(o)}ZC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fl(t.pendingLanes);n!==0&&(Ry(t,n|1),un(t,nt()),!(ke&6)&&(Xo=nt()+500,Yi()))}break;case 13:za(function(){var r=ni(e,1);if(r!==null){var i=Gt();fr(r,e,1,i)}}),px(e,1)}};My=function(e){if(e.tag===13){var t=ni(e,134217728);if(t!==null){var n=Gt();fr(t,e,134217728,n)}px(e,134217728)}};eE=function(e){if(e.tag===13){var t=Ui(e),n=ni(e,t);if(n!==null){var r=Gt();fr(n,e,t,r)}px(e,t)}};tE=function(){return Pe};nE=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};fg=function(e,t,n){switch(t){case"input":if(ag(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Hf(r);if(!i)throw Error(X(90));IC(r),ag(r,i)}}}break;case"textarea":RC(e,n);break;case"select":t=n.value,t!=null&&Ro(e,!!n.multiple,t,!1)}};BC=cx;WC=za;var KL={usingClientEntryPoint:!1,Events:[bc,Co,Hf,UC,zC,cx]},Js={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HL={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qC(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||BL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{zf=xu.inject(HL),Ar=xu}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KL;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gx(t))throw Error(X(200));return zL(e,t,null,n)};An.createRoot=function(e,t){if(!gx(e))throw Error(X(299));var n=!1,r="",i=jP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hx(e,1,!1,null,null,n,!1,r,i),e[ti]=t.current,Kl(e.nodeType===8?e.parentNode:e),new mx(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=qC(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return za(e)};An.hydrate=function(e,t,n){if(!eh(t))throw Error(X(200));return th(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!gx(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=jP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=SP(t,null,e,1,n??null,i,!1,a,o),e[ti]=t.current,Kl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zf(t)};An.render=function(e,t,n){if(!eh(t))throw Error(X(200));return th(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!eh(e))throw Error(X(40));return e._reactRootContainer?(za(function(){th(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0):!1};An.unstable_batchedUpdates=cx;An.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!eh(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return th(e,t,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function _P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_P)}catch(e){console.error(e)}}_P(),_C.exports=An;var vx=_C.exports,c1=vx;Qm.createRoot=c1.createRoot,Qm.hydrateRoot=c1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(this,arguments)}var Ai;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ai||(Ai={}));const u1="popstate";function qL(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Hg("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:EP(i)}return GL(t,n,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VL(){return Math.random().toString(36).substr(2,8)}function d1(e,t){return{usr:e.state,key:e.key,idx:t}}function Hg(e,t,n,r){return n===void 0&&(n=null),Zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:n,key:t&&t.key||r||VL()})}function EP(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function GL(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=Ai.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Zl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){s=Ai.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:s,location:g.location,delta:y})}function h(v,y){s=Ai.Push;let b=Hg(g.location,v,y);n&&n(b,v),c=u()+1;let w=d1(b,c),S=g.createHref(b);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&l&&l({action:s,location:g.location,delta:1})}function p(v,y){s=Ai.Replace;let b=Hg(g.location,v,y);n&&n(b,v),c=u();let w=d1(b,c),S=g.createHref(b);o.replaceState(w,"",S),a&&l&&l({action:s,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof v=="string"?v:EP(v);return b=b.replace(/ $/,"%20"),ut(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return s},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(u1,f),l=v,()=>{i.removeEventListener(u1,f),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var f1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(f1||(f1={}));function YL(e,t,n){return n===void 0&&(n="/"),JL(e,t,n,!1)}function JL(e,t,n,r){let i=typeof t=="string"?xs(t):t,a=OP(i.pathname||"/",n);if(a==null)return null;let o=PP(e);XL(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let c=l$(a);s=o$(o[l],c,r)}return s}function PP(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Aa([r,l.relativePath]),u=n.concat(l);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),PP(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:i$(c,a.index),routesMeta:u})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of NP(a.path))i(a,o,l)}),t}function NP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=NP(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function XL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QL=/^:[\w-]+$/,ZL=3,e$=2,t$=1,n$=10,r$=-2,h1=e=>e==="*";function i$(e,t){let n=e.split("/"),r=n.length;return n.some(h1)&&(r+=r$),t&&(r+=e$),n.filter(i=>!h1(i)).reduce((i,a)=>i+(QL.test(a)?ZL:a===""?t$:n$),r)}function a$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function o$(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],c=s===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=p1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Aa([a,f.pathname]),pathnameBase:f$(Aa([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Aa([a,f.pathnameBase]))}return o}function p1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=s[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=s[f];return p&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:e}}function s$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),CP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function l$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return CP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function OP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function c$(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xs(e):e;return{pathname:n?n.startsWith("/")?n:u$(n,t):t,search:h$(r),hash:p$(i)}}function u$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function AP(e,t){let n=d$(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function TP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xs(e):(i=Zl({},e),ut(!i.pathname||!i.pathname.includes("?"),Gp("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Gp("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Gp("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?t[f]:"/"}let l=c$(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Aa=e=>e.join("/").replace(/\/\/+/g,"/"),f$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function m$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const IP=["post","put","patch","delete"];new Set(IP);const g$=["get",...IP];new Set(g$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ec.apply(this,arguments)}const yx=x.createContext(null),v$=x.createContext(null),kc=x.createContext(null),nh=x.createContext(null),Ji=x.createContext({outlet:null,matches:[],isDataRoute:!1}),DP=x.createContext(null);function Sc(){return x.useContext(nh)!=null}function Qa(){return Sc()||ut(!1),x.useContext(nh).location}function RP(e){x.useContext(kc).static||x.useLayoutEffect(e)}function In(){let{isDataRoute:e}=x.useContext(Ji);return e?O$():y$()}function y$(){Sc()||ut(!1);let e=x.useContext(yx),{basename:t,future:n,navigator:r}=x.useContext(kc),{matches:i}=x.useContext(Ji),{pathname:a}=Qa(),o=JSON.stringify(AP(i,n.v7_relativeSplatPath)),s=x.useRef(!1);return RP(()=>{s.current=!0}),x.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=TP(c,JSON.parse(o),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Aa([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,o,a,e])}function MP(){let{matches:e}=x.useContext(Ji),t=e[e.length-1];return t?t.params:{}}function x$(e,t){return b$(e,t)}function b$(e,t,n,r){Sc()||ut(!1);let{navigator:i}=x.useContext(kc),{matches:a}=x.useContext(Ji),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Qa(),u;if(t){var f;let v=typeof t=="string"?xs(t):t;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||ut(!1),u=v}else u=c;let h=u.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=YL(e,{pathname:p}),g=_$(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Aa([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Aa([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return t&&g?x.createElement(nh.Provider,{value:{location:ec({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ai.Pop}},g):g}function w$(){let e=N$(),t=m$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,a)}const k$=x.createElement(w$,null);class S$ extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Ji.Provider,{value:this.props.routeContext},x.createElement(DP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j$(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(yx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Ji.Provider,{value:t},r)}function _$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);u>=0||ut(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:p}=n,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,h)=>{let p,m=!1,g=null,v=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,g=f.route.errorElement||k$,l&&(c<0&&h===0?(A$("route-fallback",!1),m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),b=()=>{let w;return p?w=g:m?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,x.createElement(j$,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(S$,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var LP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(LP||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function C$(e){let t=x.useContext(yx);return t||ut(!1),t}function E$(e){let t=x.useContext(v$);return t||ut(!1),t}function P$(e){let t=x.useContext(Ji);return t||ut(!1),t}function $P(e){let t=P$(),n=t.matches[t.matches.length-1];return n.route.id||ut(!1),n.route.id}function N$(){var e;let t=x.useContext(DP),n=E$(Ud.UseRouteError),r=$P(Ud.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function O$(){let{router:e}=C$(LP.UseNavigateStable),t=$P(Ud.UseNavigateStable),n=x.useRef(!1);return RP(()=>{n.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ec({fromRouteId:t},a)))},[e,t])}const m1={};function A$(e,t,n){!t&&!m1[e]&&(m1[e]=!0)}function T$(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function FP(e){let{to:t,replace:n,state:r,relative:i}=e;Sc()||ut(!1);let{future:a,static:o}=x.useContext(kc),{matches:s}=x.useContext(Ji),{pathname:l}=Qa(),c=In(),u=TP(t,AP(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return x.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Fn(e){ut(!1)}function I$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ai.Pop,navigator:a,static:o=!1,future:s}=e;Sc()&&ut(!1);let l=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:l,navigator:a,static:o,future:ec({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=xs(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=x.useMemo(()=>{let v=OP(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[l,u,f,h,p,m,i]);return g==null?null:x.createElement(kc.Provider,{value:c},x.createElement(nh.Provider,{children:n,value:g}))}function D$(e){let{children:t,location:n}=e;return x$(qg(t),n)}new Promise(()=>{});function qg(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let a=[...t,i];if(r.type===x.Fragment){n.push.apply(n,qg(r.props.children,a));return}r.type!==Fn&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qg(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function R$(e,t){let n=Vg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(a=>{n.append(i,a)})}),n}const M$="6";try{window.__reactRouterVersion=M$}catch{}const L$="startTransition",g1=SC[L$];function $$(e){let{basename:t,children:n,future:r,window:i}=e,a=x.useRef();a.current==null&&(a.current=qL({window:i,v5Compat:!0}));let o=a.current,[s,l]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=x.useCallback(f=>{c&&g1?g1(()=>l(f)):l(f)},[l,c]);return x.useLayoutEffect(()=>o.listen(u),[o,u]),x.useEffect(()=>T$(r),[r]),x.createElement(I$,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}var v1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(v1||(v1={}));var y1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y1||(y1={}));function F$(e){let t=x.useRef(Vg(e)),n=x.useRef(!1),r=Qa(),i=x.useMemo(()=>R$(r.search,n.current?null:t.current),[r.search]),a=In(),o=x.useCallback((s,l)=>{const c=Vg(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}const UP=x.createContext(void 0),x1="axpro_theme",U$=({children:e})=>{const[t,n]=x.useState(()=>{const s=localStorage.getItem(x1);return s==="light"||s==="dark"?s:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=s=>{n(s),localStorage.setItem(x1,s),a(s)},i=()=>{r(t==="light"?"dark":"light")},a=s=>{document.documentElement.setAttribute("data-theme",s)};x.useEffect(()=>{a(t)},[t]);const o={theme:t,setTheme:r,toggleTheme:i};return d.jsx(UP.Provider,{value:o,children:e})},Za=()=>{const e=x.useContext(UP);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},xx=x.createContext(void 0),b1="axpro_lang",z$={en:{"app.brand":"AX PRO PLATFORM","auth.title.chat":"Sign in","auth.title.admin":"Sign in","auth.subtitle.chat":"Continue to the Chat Interface","auth.subtitle.admin":"Continue to the Administrative Console","auth.email":"Email","auth.password":"Password","auth.continue":"Continue","auth.error":"Invalid credentials. Try the demo accounts.","auth.demoHint":"Demo: demo@tecace.com / demo1234 · admin@tecace.com / admin1234","link.toAdmin":"Sign in to the Admin Console","link.toChat":"Use Chat Interface sign-in","ui.theme.light":"Light","ui.theme.dark":"Dark","ui.lang.en":"English","ui.lang.ko":"한국어","chat.title":"Chat Interface","chat.welcome":"Welcome to the chat interface","dashboard.title":"Admin Console","dashboard.welcome":"Welcome to the admin console","auth.signOut":"Sign out","dashboard.timeline":"Performance Timeline","dashboard.activity":"Daily Message Activity","usage.sessions":"Recent Conversations","usage.messages":"Messages","usage.feedback.admin":"Admin Feedback","usage.feedback.user":"User Feedback","mgmt.prompt":"Prompt Control","mgmt.knowledge":"Knowledge Management","actions.new":"New","actions.refresh":"Refresh","actions.save":"Save","actions.revert":"Revert","actions.test":"Test","actions.open":"Open","actions.rename":"Rename","actions.close":"Close","actions.delete":"Delete","filters.status":"Status","filters.search":"Search","labels.title":"Title","labels.lastActivity":"Last activity","labels.count":"Count","labels.status":"Status","context.rename":"Rename","context.reopen":"Reopen","context.close":"Close","context.deletePermanently":"Delete permanently","context.confirmDelete":"Are you sure you want to permanently delete this conversation? This action cannot be undone.","context.confirmDeleteClosed":"Are you sure you want to permanently delete this closed conversation? This action cannot be undone.","context.deleteFailed":"Failed to delete session. Please try again.","ui.user":"User","ui.settings":"Settings","ui.signOut":"Sign Out","ui.demoMode":"Demo Mode","ui.demoModeDescription":"Backend not running. Chat features limited.","ui.newChat":"New Chat","ui.searchConversations":"Search conversations...","ui.all":"All","ui.open":"Open","ui.closed":"Closed","ui.noConversations":"No conversations yet","ui.startConversation":"Start a new conversation to begin chatting","ui.startNewChat":"Start New Chat","ui.backendNote":"Note: Full chat features require backend server","ui.selectConversation":"Select a conversation from the sidebar or start a new chat","ui.newChatTitle":"New Chat","ui.closeChat":"Close Chat","ui.justNow":"Just now","ui.typeMessage":"Type a message... (Enter to send, Shift+Enter for new line)","ui.send":"Send","ui.sending":"Sending...","ui.suggestedQuestions":"Suggested questions","ui.question1":"What is artificial intelligence?","ui.question2":"How does machine learning work?","ui.question3":"Explain quantum computing","ui.question4":"What are the benefits of cloud computing?","admin.performance":"Performance","admin.excellent":"Excellent","admin.good":"Good","admin.fair":"Fair","admin.poor":"Poor","admin.conversations":"Conversations","admin.overview":"Overview","admin.documents":"Documents","admin.navigation":"Navigation","admin.activity":"Activity","admin.feedback":"Feedback","admin.knowledgeBase":"Knowledge Management","admin.satisfaction":"Satisfaction","admin.metrics":"Metrics","admin.recentConversations":"Recent Conversations","admin.userFeedback":"User Feedback","admin.promptControl":"Prompt Control","admin.systemPrompt":"System Prompt Control","admin.lastRefreshed":"Last refreshed","admin.loading":"Loading...","admin.saving":"Saving...","admin.saveChanges":"Save Changes","admin.confirmUpdate":"Confirm Update","admin.confirmUpdateMessage":"This will update the system prompt for the chatbot. Are you sure you would like to proceed?","admin.cancel":"Cancel","admin.confirm":"Confirm","admin.success":"Success","admin.error":"Error","admin.close":"Close","admin.goToChat":"Go to Chat Interface","admin.notifications":"Notifications","admin.toggleTheme":"Toggle theme","admin.userProfile":"User profile","admin.signOut":"Sign out","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"Monitor AI response quality and security performance across 6 key metrics in real-time for optimal user experience","admin.dailyMessageActivity":"Daily Message Activity","admin.moduleControl":"Module Control","admin.relevance":"Relevance","admin.tone":"Tone","admin.length":"Length","admin.accuracy":"Accuracy","admin.toxicity":"Toxicity","admin.promptInjection":"Prompt Injection","admin.contentMatching":"Content Matching","admin.responseStyle":"Response Style","admin.responseSize":"Response Size","admin.correctAnswers":"Correct Answers","admin.safetyCheck":"Safety Check","admin.securityFilter":"Security Filter","admin.performanceTimeline":"Performance Timeline","admin.date":"Date","admin.actual":"Actual","admin.estimated":"Estimated","admin.totalMessages":"Total Messages","admin.userFeedbackCount":"User Feedback","admin.adminReviews":"Admin Reviews","admin.corrected":"Corrected","admin.messages":"Messages","admin.sortBy":"Sort by","admin.search":"Search","admin.exportCSV":"Export CSV","admin.dateTimeNewest":"Date/Time (Newest)","admin.dateTimeOldest":"Date/Time (Oldest)","admin.user":"User","admin.userMessage":"User Message","admin.aiResponse":"AI Response","admin.searchConversations":"Search conversations...","admin.searchAll":"Search all data...","admin.avgPerDay":"avg/day","admin.average":"Average","admin.approval":"Approval","admin.uniqueUsers":"Unique Users","admin.last3Days":"Last 3 days","admin.last7Days":"Last 7 days","admin.last30Days":"Last 30 days","admin.last3Months":"Last 3 months","admin.last6Months":"Last 6 months","admin.lastYear":"Last year","admin.customRange":"Custom range","admin.ragManagement":"RAG Management","admin.ragDescription":"Upload and manage documents for the RAG (Retrieval-Augmented Generation) system","admin.uploadingFiles":"Uploading files...","admin.dropFilesHere":"Drop files here to upload","admin.clickToUpload":"Click to upload or drag and drop files","admin.supportedFormats":"Supports PDF, Word, Excel, CSV, TXT, MD, JSON, HTML","admin.uploadResults":"Upload Results","admin.clear":"Clear","admin.uploadedFiles":"Uploaded Files","admin.status.uploading":"Uploading","admin.status.processing":"Processing","admin.status.ready":"Ready","admin.status.error":"Error","admin.removeFile":"Remove file","admin.instructions":"Instructions","admin.instruction1":"Upload documents to enhance the AI's knowledge base","admin.instruction2":"Supported formats: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"Files are automatically processed and vectorized for search","admin.instruction4":"Maximum file size: 10MB per file","admin.searchFiles":"Search files...","admin.name":"Name","admin.size":"Size","admin.reindexFile":"Re-index file","admin.deleteFile":"Delete file","admin.confirmDeleteFile":"Are you sure you want to delete this file?","admin.deleteError":"Failed to delete file","knowledge.title":"Knowledge Management","knowledge.subtitle":"Manage files and knowledge base for AI chatbot","knowledge.note":"Files are stored in the **File Library**, while the **Knowledge Index** holds their searchable content. These can differ. Check the **Sync Overview** tab to see if they're in sync.","knowledge.fileLibrary":"File Library","knowledge.knowledgeIndex":"Knowledge Index","knowledge.syncOverview":"Sync Overview","knowledge.fileLibraryDescription":"Manage files in your library (upload/delete). Knowledge indexing is handled in the next section.","knowledge.knowledgeIndexDescription":"Documents indexed for AI chatbot knowledge queries","knowledge.syncOverviewDescription":"Monitor synchronization status between files and knowledge index","knowledge.dragFilesHere":"Drag text files here to upload or click to select","knowledge.supportedFormats":"Supported formats: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"Uploading files...","knowledge.searchByFilename":"Search by filename...","knowledge.searchByTitleFilepathContent":"Search by title, filepath, or content...","knowledge.refresh":"Refresh","knowledge.loading":"Loading...","knowledge.fileName":"File Name","knowledge.size":"Size","knowledge.lastModified":"Last Modified","knowledge.contentType":"Content Type","knowledge.syncStatus":"Sync Status","knowledge.actions":"Actions","knowledge.documentTitle":"Title","knowledge.parentId":"Parent ID","knowledge.chunkId":"Chunk ID","knowledge.url":"URL","knowledge.sync":"Sync","knowledge.view":"View","knowledge.download":"Download","knowledge.delete":"Delete","knowledge.stop":"Stop","knowledge.previous":"Previous","knowledge.next":"Next","knowledge.synced":"Synced","knowledge.pending":"Pending","knowledge.error":"Error","knowledge.unknown":"Unknown","knowledge.blobStatusLastModified":"Blob Status / Last Modified","knowledge.indexStatusChunks":"Index Status / Chunks"},ko:{"app.brand":"AX PRO 플랫폼","auth.title.chat":"로그인","auth.title.admin":"로그인","auth.subtitle.chat":"채팅 인터페이스로 이동","auth.subtitle.admin":"관리자 콘솔로 이동","auth.email":"이메일","auth.password":"비밀번호","auth.continue":"계속","auth.error":"계정 정보가 올바르지 않습니다. 데모 계정을 사용해 보세요.","auth.demoHint":"데모: demo@tecace.com / demo1234 · admin@tecace.com / admin1234","link.toAdmin":"관리자 콘솔로 이동","link.toChat":"채팅 인터페이스로 이동","ui.theme.light":"라이트","ui.theme.dark":"다크","ui.lang.en":"영어","ui.lang.ko":"한국어","chat.title":"채팅 인터페이스","chat.welcome":"채팅 인터페이스에 오신 것을 환영합니다","dashboard.title":"관리자 콘솔","dashboard.welcome":"관리자 콘솔에 오신 것을 환영합니다","auth.signOut":"로그아웃","dashboard.timeline":"성능 타임라인","dashboard.activity":"일일 메시지 활동","usage.sessions":"최근 대화","usage.messages":"메시지","usage.feedback.admin":"관리자 피드백","usage.feedback.user":"사용자 피드백","mgmt.prompt":"프롬프트 제어","mgmt.knowledge":"지식 관리","actions.new":"새로 만들기","actions.refresh":"새로고침","actions.save":"저장","actions.revert":"되돌리기","actions.test":"테스트","actions.open":"열기","actions.rename":"이름 변경","actions.close":"닫기","actions.delete":"삭제","filters.status":"상태","filters.search":"검색","labels.title":"제목","labels.lastActivity":"마지막 활동","labels.count":"개수","labels.status":"상태","context.rename":"이름 변경","context.reopen":"다시 열기","context.close":"닫기","context.deletePermanently":"영구 삭제","context.confirmDelete":"이 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.","context.confirmDeleteClosed":"이 닫힌 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.","context.deleteFailed":"세션 삭제에 실패했습니다. 다시 시도해 주세요.","ui.user":"사용자","ui.settings":"설정","ui.signOut":"로그아웃","ui.demoMode":"데모 모드","ui.demoModeDescription":"백엔드가 실행되지 않습니다. 채팅 기능이 제한됩니다.","ui.newChat":"새 채팅","ui.searchConversations":"대화 검색...","ui.all":"전체","ui.open":"열림","ui.closed":"닫힘","ui.noConversations":"아직 대화가 없습니다","ui.startConversation":"새 대화를 시작하여 채팅을 시작하세요","ui.startNewChat":"새 채팅 시작","ui.backendNote":"참고: 전체 채팅 기능은 백엔드 서버가 필요합니다","ui.selectConversation":"사이드바에서 대화를 선택하거나 새 채팅을 시작하세요","ui.newChatTitle":"새 채팅","ui.closeChat":"채팅 닫기","ui.justNow":"방금 전","ui.typeMessage":"메시지를 입력하세요... (Enter로 전송, Shift+Enter로 새 줄)","ui.send":"전송","ui.sending":"전송 중...","ui.suggestedQuestions":"추천 질문","ui.question1":"인공지능이란 무엇인가요?","ui.question2":"머신러닝은 어떻게 작동하나요?","ui.question3":"양자 컴퓨팅을 설명해주세요","ui.question4":"클라우드 컴퓨팅의 장점은 무엇인가요?","admin.performance":"성능","admin.excellent":"우수","admin.good":"좋음","admin.fair":"보통","admin.poor":"미흡","admin.conversations":"대화","admin.overview":"개요","admin.documents":"문서","admin.navigation":"네비게이션","admin.activity":"활동","admin.feedback":"피드백","admin.knowledgeBase":"지식 관리","admin.satisfaction":"만족도","admin.metrics":"지표","admin.recentConversations":"최근 대화","admin.userFeedback":"사용자 피드백","admin.promptControl":"프롬프트 제어","admin.systemPrompt":"시스템 프롬프트 제어","admin.lastRefreshed":"마지막 새로고침","admin.loading":"로딩 중...","admin.saving":"저장 중...","admin.saveChanges":"변경사항 저장","admin.confirmUpdate":"업데이트 확인","admin.confirmUpdateMessage":"챗봇의 시스템 프롬프트를 업데이트합니다. 계속하시겠습니까?","admin.cancel":"취소","admin.confirm":"확인","admin.success":"성공","admin.error":"오류","admin.close":"닫기","admin.goToChat":"채팅 인터페이스로 이동","admin.notifications":"알림","admin.toggleTheme":"테마 전환","admin.userProfile":"사용자 프로필","admin.signOut":"로그아웃","admin.performanceRadar":"Performance Radar","admin.performanceRadarDesc":"AI 응답 품질과 보안 성능을 6가지 핵심 지표로 실시간 모니터링하여 최적의 사용자 경험을 제공합니다","admin.dailyMessageActivity":"일일 메시지 활동","admin.moduleControl":"모듈 제어","admin.relevance":"관련성","admin.tone":"톤","admin.length":"길이","admin.accuracy":"정확도","admin.toxicity":"유해성","admin.promptInjection":"프롬프트 주입","admin.contentMatching":"콘텐츠 매칭","admin.responseStyle":"응답 스타일","admin.responseSize":"응답 크기","admin.correctAnswers":"정답률","admin.safetyCheck":"안전성 검사","admin.securityFilter":"보안 필터","admin.performanceTimeline":"성능 타임라인","admin.date":"날짜","admin.actual":"실제","admin.estimated":"추정","admin.totalMessages":"전체 메시지","admin.userFeedbackCount":"사용자 피드백","admin.adminReviews":"관리자 리뷰","admin.corrected":"수정됨","admin.messages":"메시지","admin.sortBy":"정렬","admin.search":"검색","admin.exportCSV":"CSV 내보내기","admin.dateTimeNewest":"날짜/시간 (최신순)","admin.dateTimeOldest":"날짜/시간 (오래된순)","admin.user":"사용자","admin.userMessage":"사용자 메시지","admin.aiResponse":"AI 응답","admin.searchConversations":"대화 검색...","admin.searchAll":"모든 데이터 검색...","admin.avgPerDay":"일평균","admin.average":"평균","admin.approval":"승인률","admin.uniqueUsers":"고유 사용자","admin.last3Days":"최근 3일","admin.last7Days":"최근 7일","admin.last30Days":"최근 30일","admin.last3Months":"최근 3개월","admin.last6Months":"최근 6개월","admin.lastYear":"최근 1년","admin.customRange":"사용자 지정 범위","admin.ragManagement":"RAG 관리","admin.ragDescription":"RAG (검색 증강 생성) 시스템을 위한 문서 업로드 및 관리","admin.uploadingFiles":"파일 업로드 중...","admin.dropFilesHere":"파일을 여기에 드롭하여 업로드","admin.clickToUpload":"클릭하여 업로드하거나 파일을 드래그 앤 드롭","admin.supportedFormats":"PDF, Word, Excel, CSV, TXT, MD, JSON, HTML 지원","admin.uploadResults":"업로드 결과","admin.clear":"지우기","admin.uploadedFiles":"업로드된 파일","admin.status.uploading":"업로드 중","admin.status.processing":"처리 중","admin.status.ready":"준비됨","admin.status.error":"오류","admin.removeFile":"파일 제거","admin.instructions":"사용 방법","admin.instruction1":"AI의 지식 베이스를 향상시키기 위해 문서를 업로드하세요","admin.instruction2":"지원 형식: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML","admin.instruction3":"파일은 자동으로 처리되어 검색을 위해 벡터화됩니다","admin.instruction4":"최대 파일 크기: 파일당 10MB","admin.searchFiles":"파일 검색...","admin.name":"이름","admin.size":"크기","admin.reindexFile":"파일 재인덱싱","admin.deleteFile":"파일 삭제","admin.confirmDeleteFile":"이 파일을 삭제하시겠습니까?","admin.deleteError":"파일 삭제에 실패했습니다","knowledge.title":"지식 관리","knowledge.subtitle":"AI 챗봇을 위한 파일 및 지식 베이스 관리","knowledge.note":"파일은 **파일 라이브러리**에 저장되며, **지식 인덱스**에는 검색 가능한 콘텐츠가 저장됩니다. 이 둘은 다를 수 있습니다. **동기화 개요** 탭에서 동기화 상태를 확인하세요.","knowledge.fileLibrary":"파일 라이브러리","knowledge.knowledgeIndex":"지식 인덱스","knowledge.syncOverview":"동기화 개요","knowledge.fileLibraryDescription":"라이브러리의 파일을 관리합니다 (업로드/삭제). 지식 인덱싱은 다음 섹션에서 처리됩니다.","knowledge.knowledgeIndexDescription":"AI 챗봇 지식 쿼리를 위해 인덱싱된 문서","knowledge.syncOverviewDescription":"파일과 지식 인덱스 간의 동기화 상태 모니터링","knowledge.dragFilesHere":"텍스트 파일을 여기에 드래그하여 업로드하거나 클릭하여 선택","knowledge.supportedFormats":"지원 형식: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","knowledge.uploadingFiles":"파일 업로드 중...","knowledge.searchByFilename":"파일명으로 검색...","knowledge.searchByTitleFilepathContent":"제목, 파일 경로 또는 내용으로 검색...","knowledge.refresh":"새로고침","knowledge.loading":"로딩 중...","knowledge.fileName":"파일명","knowledge.size":"크기","knowledge.lastModified":"마지막 수정","knowledge.contentType":"콘텐츠 유형","knowledge.syncStatus":"동기화 상태","knowledge.actions":"작업","knowledge.documentTitle":"제목","knowledge.parentId":"상위 ID","knowledge.chunkId":"청크 ID","knowledge.url":"URL","knowledge.sync":"동기화","knowledge.view":"보기","knowledge.download":"다운로드","knowledge.delete":"삭제","knowledge.stop":"중지","knowledge.previous":"이전","knowledge.next":"다음","knowledge.synced":"동기화됨","knowledge.pending":"대기 중","knowledge.error":"오류","knowledge.unknown":"알 수 없음","knowledge.blobStatusLastModified":"Blob 상태 / 마지막 수정","knowledge.indexStatusChunks":"인덱스 상태 / 청크"}},B$=({children:e})=>{const[t,n]=x.useState(()=>{const o=localStorage.getItem(b1);return o==="en"||o==="ko"?o:"en"}),a={language:t,setLanguage:o=>{n(o),localStorage.setItem(b1,o)},t:o=>z$[t][o]||o};return d.jsx(xx.Provider,{value:a,children:e})},jc=()=>{const e=x.useContext(xx);if(e===void 0)throw new Error("useT must be used within an I18nProvider");return e.t},Ze=()=>{const e=x.useContext(xx);if(e===void 0)throw new Error("useTranslation must be used within an I18nProvider");return e},W$={"chatbot-admin@tecace.com":{password:"admin1234",role:"admin",userId:"409esj1923"},"chatbot-user@tecace.com":{password:"user1234",role:"user",userId:"user123456"}},bx="axpro_session",Gg=(e,t)=>{const n=e.toLowerCase().trim(),r=W$[n];if(!r||r.password!==t)return null;const i={email:n,userId:r.userId,role:r.role,createdAt:Date.now()};try{return sessionStorage.setItem(bx,JSON.stringify(i)),i}catch(a){return console.error("Failed to store session:",a),null}},Qo=()=>{try{sessionStorage.removeItem(bx)}catch(e){console.error("Failed to clear session:",e)}},Dr=()=>{try{const e=sessionStorage.getItem(bx);if(!e)return null;const t=JSON.parse(e);return!t.email||!t.userId||!t.role||!t.createdAt?(Qo(),null):t}catch(e){return console.error("Failed to retrieve session:",e),Qo(),null}},zP=e=>{const t=Dr();return t?e==="admin"?t.role==="admin":!0:!1},K$=()=>{const[e,t]=Wi.useState(null);return Wi.useEffect(()=>{t(Dr())},[]),{session:e,login:(a,o)=>{const s=Gg(a,o);return t(s),s},logout:()=>{Qo(),t(null)},isAuthedFor:a=>zP(a)}},BP="http://localhost:3000/api";class ad extends Error{constructor(t,n){super(n),this.status=t,this.name="ApiError"}}async function Cr(e,t={}){const n=`${BP}${e}`;try{const r=await fetch(n,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok){const i=await r.json().catch(()=>({}));throw new ad(r.status,i.error||"Request failed")}return r.json()}catch(r){throw r instanceof ad?r:new ad(0,`Network error: ${r instanceof Error?r.message:"Unknown error"}`)}}const Yg={async demoLogin(e,t){return Cr("/auth/demo-login",{method:"POST",body:JSON.stringify({email:e,password:t})})},async getMe(){return Cr("/auth/me")},async logout(){return Cr("/auth/logout",{method:"POST"})}},bu={async list(e=20,t){const n=new URLSearchParams({limit:e.toString()});return t&&n.append("cursor",t),Cr(`/sessions?${n}`)},async create(e){return Cr("/sessions",{method:"POST",body:JSON.stringify({title:e})})},async get(e){return Cr(`/sessions/${e}`)},async update(e,t){return Cr(`/sessions/${e}`,{method:"PATCH",body:JSON.stringify(t)})},async delete(e){return Cr(`/sessions/${e}`,{method:"DELETE"})}},Yp={async list(e,t=50,n,r="older"){const i=new URLSearchParams({limit:t.toString(),direction:r});return n&&i.append("cursor",n),Cr(`/sessions/${e}/messages?${i}`)},async send(e,t,n=!1){if(n){const r=await fetch(`${BP}/sessions/${e}/messages`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:t,stream:!0})});if(!r.ok)throw new ad(r.status,"Stream request failed");return r}else return Cr(`/sessions/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,stream:!1})})}},Vr=async()=>(console.log("Backend check: No backend API server, using local storage for sessions"),!1),H$=()=>{if("https://n8n.srv978041.hstgr.cloud".trim())return console.log("n8n webhook check: Configured (environment variable)"),!0;const t=localStorage.getItem("axpro_n8n_webhook_url"),n=localStorage.getItem("axpro_n8n_configs");if(n)try{const r=JSON.parse(n);if(Array.isArray(r)&&r.length>0&&r[0].webhookUrl)return console.log("n8n webhook check: Configured (multi-config)"),!0}catch(r){console.error("Failed to parse n8n configs:",r)}return t&&t.trim()?(console.log("n8n webhook check: Configured (legacy)"),!0):(console.log("n8n webhook check: Not configured"),!1)},Jg=()=>{const e={}.VITE_ENABLE_SIMULATION;if(e!==void 0)return e==="true"||e==="1";const t=localStorage.getItem("axpro_enable_simulation");return t!==null?t==="true":!1},q$=e=>{localStorage.setItem("axpro_enable_simulation",e.toString())},V$=()=>{const e=In(),{theme:t,toggleTheme:n}=Za(),{language:r,setLanguage:i,t:a}=Ze(),[o,s]=x.useState({email:"",password:""}),[l,c]=x.useState(null),[u,f]=x.useState(!1),[h,p]=x.useState("checking");Wi.useEffect(()=>{const v=Dr();v&&(v.role==="admin"?e("/admin/dashboard"):e("/chat"))},[e]),Wi.useEffect(()=>{(async()=>{const y=await Vr();p(y?"available":"unavailable")})()},[]);const m=v=>{const{name:y,value:b}=v.target;s(w=>({...w,[y]:b})),l&&c(null)},g=async v=>{v.preventDefault(),f(!0),c(null);try{await Yg.demoLogin(o.email,o.password);const y=Gg(o.email,o.password);y?y.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}catch(y){console.log("Backend API failed, trying local auth:",y);const b=Gg(o.email,o.password);b?b.role==="admin"?e("/admin/dashboard"):e("/chat"):c(a("auth.error"))}finally{f(!1)}};return d.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"flex justify-between items-center p-4",children:[d.jsx("div",{className:"text-xs uppercase tracking-wider",style:{color:"var(--text-muted)"},children:a("app.brand")}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:a(t==="light"?"ui.theme.dark":"ui.theme.light")}),d.jsxs("select",{value:r,onChange:v=>i(v.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:a("ui.lang.en")}),d.jsx("option",{value:"ko",children:a("ui.lang.ko")})]})]})]}),d.jsx("div",{className:"flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-light",style:{color:"var(--text)"},children:a("auth.title.chat")}),d.jsx("p",{className:"mt-2 text-sm",style:{color:"var(--text-secondary)"},children:a("auth.subtitle.chat")})]}),d.jsx("form",{className:"mt-8 space-y-6",onSubmit:g,children:d.jsxs("div",{className:"card py-8 px-6 rounded-lg",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.email")}),d.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.email")})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:a("auth.password")}),d.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o.password,onChange:m,className:"input w-full px-3 py-2 rounded-md",placeholder:a("auth.password")})]})]}),l&&d.jsxs("div",{className:"mt-4 p-3 rounded-md error",children:[d.jsx("p",{className:"text-sm",children:l}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:a("auth.demoHint")})]}),d.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full mt-6 flex justify-center py-2 px-4 rounded-md text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"...":a("auth.continue")})]})}),h==="unavailable"&&d.jsx("div",{className:"card rounded-md p-3 mb-4",style:{backgroundColor:"var(--warning-light)"},children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{children:"⚠️"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Backend not running"}),d.jsxs("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:["Using local authentication. Run ",d.jsx("code",{children:"npm run dev:server"})," for full features."]})]})]})}),d.jsxs("div",{className:"card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:[d.jsx("h3",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Demo Credentials (Click to auto-fill)"}),d.jsxs("div",{className:"space-y-2 text-xs",children:[d.jsx("button",{onClick:()=>{s({email:"chatbot-user@tecace.com",password:"user1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"👤 Regular User"}),d.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-user@tecace.com"})]}),d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"→ Chat Interface"})]})}),d.jsx("button",{onClick:()=>{s({email:"chatbot-admin@tecace.com",password:"admin1234"})},className:"w-full text-left p-3 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"👑 Admin User"}),d.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"chatbot-admin@tecace.com"})]}),d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:"→ Admin Dashboard"})]})})]})]})]})})]})},G$=()=>{const[e,t]=x.useState([]),[n,r]=x.useState(!0),[i,a]=x.useState(null),o=In(),s=async()=>{try{if(r(!0),a(null),await Vr()){const m=await bu.list();t(m)}else{const m=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");t(m)}}catch(p){a(p instanceof Error?p.message:"Failed to fetch sessions")}finally{r(!1)}},l=async p=>{try{console.log("Creating new session...");const m=await Vr();if(console.log("Backend available:",m),m){console.log("Using backend API for session creation");const{id:g}=await bu.create(p);return await s(),o(`/chat/${g}`),g}else{console.log("Using local storage for session creation");const g=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,v={id:g,title:p||"New Chat",status:"open",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},y=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");return y.push(v),localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),console.log("Session created successfully:",v),await s(),o(`/chat/${g}`),g}}catch(m){throw console.error("Failed to create session:",m),a(m instanceof Error?m.message:"Failed to create session"),m}},c=async(p,m)=>{try{if(await Vr())await bu.update(p,m);else{const v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),y=v.findIndex(b=>b.id===p);y!==-1&&(v[y]={...v[y],...m,updatedAt:new Date().toISOString()},localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)))}await s()}catch(g){throw a(g instanceof Error?g.message:"Failed to update session"),g}},u=async p=>{try{console.log("deleteSession called with id:",p);const m=await Vr();if(console.log("Backend available:",m),m)console.log("Deleting via backend API"),await bu.delete(p);else{console.log("Deleting from localStorage");const v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]");console.log("Current sessions before delete:",v.length);const y=v.filter(b=>b.id!==p);console.log("Sessions after delete:",y.length),localStorage.setItem("axpro_sim_sessions",JSON.stringify(y)),localStorage.removeItem(`axpro_sim_messages_${p}`),console.log("Deleted associated messages for session:",p)}console.log("Refreshing sessions list"),await s();const g=e.filter(v=>v.id!==p);console.log("Remaining sessions:",g.length),g.length>0?o(`/chat/${g[0].id}`):o("/chat"),console.log("Delete session completed successfully")}catch(m){throw console.error("Error in deleteSession:",m),a(m instanceof Error?m.message:"Failed to delete session"),m}},f=async p=>{await c(p,{status:"closed"})},h=async p=>{await c(p,{status:"open"})};return x.useEffect(()=>{s()},[]),{sessions:e,loading:n,error:i,createSession:l,updateSession:c,deleteSession:u,closeSession:f,reopenSession:h,refresh:s}},Y$=({session:e,isActive:t,onClick:n,updateSession:r,deleteSession:i,closeSession:a,reopenSession:o})=>{var S;const s=jc(),[l,c]=x.useState(!1),[u,f]=x.useState(!1),[h,p]=x.useState(e.title||""),m=x.useRef(null),g=j=>{j.preventDefault(),j.stopPropagation(),c(!l)},v=async()=>{if(h.trim()&&h!==e.title)try{await r(e.id,{title:h.trim()})}catch(j){console.error("Failed to rename session:",j)}f(!1),c(!1)},y=async()=>{try{e.status==="closed"?await o(e.id):await a(e.id)}catch(j){console.error("Failed to toggle session status:",j)}c(!1)},b=async()=>{const j=e.status==="closed"?s("context.confirmDeleteClosed"):s("context.confirmDelete");if(window.confirm(j))try{console.log("Deleting session:",e.id),await i(e.id),console.log("Session deleted successfully")}catch(k){console.error("Failed to permanently delete session:",k),alert(s("context.deleteFailed"))}c(!1)};x.useEffect(()=>{const j=k=>{m.current&&!m.current.contains(k.target)&&c(!1)};return l&&document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[l]);const w=j=>{const k=new Date(j),O=(new Date().getTime()-k.getTime())/(1e3*60*60);return O<1?s("ui.justNow"):O<24?`${Math.floor(O)}h ago`:O<168?`${Math.floor(O/24)}d ago`:k.toLocaleDateString()};return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:`p-3 cursor-pointer transition-colors group ${t?"bg-gray-100 border-r-2 border-gray-400":"hover:bg-gray-50"}`,style:{backgroundColor:t?"var(--primary-light)":void 0,borderRightColor:t?"var(--text)":void 0},onClick:n,onContextMenu:g,children:u?d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",value:h,onChange:j=>p(j.target.value),onKeyDown:j=>{j.key==="Enter"&&v(),j.key==="Escape"&&(f(!1),p(e.title||""))},className:"input w-full px-2 py-1 text-sm",autoFocus:!0}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:v,className:"text-xs px-2 py-1 rounded bg-blue-500 text-white",children:"Save"}),d.jsx("button",{onClick:()=>{f(!1),p(e.title||"")},className:"text-xs px-2 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Cancel"})]})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:`text-sm font-medium truncate ${e.status==="closed"?"opacity-60":""}`,style:{color:"var(--text)"},children:e.title||s("ui.newChatTitle")}),e.status==="closed"&&d.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:"🔒"})]}),e.lastMessage&&d.jsxs("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-secondary)"},children:[e.lastMessage.role==="user"?"You: ":"Assistant: ",e.lastMessage.content]})]}),d.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:w(((S=e.lastMessage)==null?void 0:S.createdAt)||e.updatedAt)}),d.jsx("button",{onClick:g,className:"opacity-0 group-hover:opacity-100 text-xs px-1 py-1 rounded hover:bg-gray-200",style:{color:"var(--text-muted)"},children:"⋯"})]})]})})}),l&&!u&&d.jsx("div",{ref:m,className:"absolute right-0 top-0 z-20 w-48 card rounded-md shadow-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},onClick:j=>j.stopPropagation(),children:d.jsxs("div",{className:"py-1",children:[d.jsxs("button",{onClick:j=>{j.stopPropagation(),f(!0),c(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:["✏️ ",s("context.rename")]}),d.jsx("button",{onClick:j=>{j.stopPropagation(),y()},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-100",style:{color:"var(--text)"},children:e.status==="closed"?`🔄 ${s("context.reopen")}`:`🔒 ${s("context.close")}`}),d.jsx("hr",{className:"my-1",style:{borderColor:"var(--border)"}}),d.jsxs("button",{onClick:j=>{j.stopPropagation(),b()},className:"w-full text-left px-4 py-2 text-sm hover:bg-red-50",style:{color:"var(--error)"},children:["🗑️ ",s("context.deletePermanently")]})]})})]})},J$=()=>{const e=In(),{sessionId:t}=MP(),{sessions:n,loading:r,createSession:i,refresh:a,updateSession:o,deleteSession:s,closeSession:l,reopenSession:c}=G$(),u=jc(),[f,h]=x.useState(""),[p,m]=x.useState("all"),g=n.filter(y=>{var S,j;const b=!f||((S=y.title)==null?void 0:S.toLowerCase().includes(f.toLowerCase()))||((j=y.lastMessage)==null?void 0:j.content.toLowerCase().includes(f.toLowerCase())),w=p==="all"||y.status===p;return b&&w}),v=async()=>{try{await i()}catch(y){console.error("Failed to create new chat:",y)}};return x.useEffect(()=>{const y=b=>{(b.metaKey||b.ctrlKey)&&b.key==="n"&&(b.preventDefault(),v())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[]),x.useEffect(()=>{const y=()=>{a()};return window.addEventListener("sessionUpdated",y),()=>window.removeEventListener("sessionUpdated",y)},[a]),r?d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"animate-pulse space-y-3",children:[d.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),d.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})}):d.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[d.jsxs("div",{className:"p-4 space-y-3 flex-shrink-0",children:[d.jsxs("button",{onClick:v,className:"w-full btn-primary py-2 px-4 rounded-md text-sm font-medium",title:"Create new chat (⌘N or Ctrl+N)",children:["+ ",u("ui.newChat")]}),d.jsx("input",{type:"text",placeholder:u("ui.searchConversations"),value:f,onChange:y=>h(y.target.value),className:"input w-full px-3 py-2 rounded-md text-sm"})]}),d.jsx("div",{className:"px-4 pb-2 flex-shrink-0",children:d.jsx("div",{className:"flex space-x-1",children:["all","open","closed"].map(y=>d.jsx("button",{onClick:()=>m(y),className:`px-3 py-1 text-xs rounded-md transition-colors ${p===y?"text-white":"text-gray-600 hover:text-gray-900"}`,style:{backgroundColor:p===y?"var(--text)":"transparent",color:p===y?"var(--bg)":"var(--text-secondary)"},children:u(y==="all"?"ui.all":y==="open"?"ui.open":"ui.closed")},y))})}),d.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:g.length===0?d.jsx("div",{className:"p-4 text-center",children:f?d.jsxs("div",{children:[d.jsx("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:u("ui.noConversations")}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Try a different search term"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"text-4xl mb-2",children:"💬"}),d.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--text)"},children:u("ui.noConversations")}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:u("ui.startConversation")}),d.jsx("button",{onClick:v,className:"btn-primary px-4 py-2 text-sm rounded-md",children:u("ui.startNewChat")}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:u("ui.backendNote")})]})}):d.jsx("div",{className:"space-y-1 p-2",children:g.map(y=>d.jsx(Y$,{session:y,isActive:t===y.id,onClick:()=>e(`/chat/${y.id}`),updateSession:o,deleteSession:s,closeSession:l,reopenSession:c},y.id))})})]})},X$="modulepreload",Q$=function(e){return"/"+e},w1={},Xi=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=Q$(a),a in w1)return;w1[a]=!0;const o=a.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!r)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${s}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":X$,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})},Xg="axpro_n8n_configs",rh="axpro_active_n8n_config",ka={id:"default",name:"Default n8n Webhook",webhookUrl:"https://n8n.srv978041.hstgr.cloud/webhook/328757ba-62e6-465e-be1b-2fff0fd1d353",isActive:!0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},_c=()=>{try{const e=localStorage.getItem(Xg);if(!e){const n=[ka];return localStorage.setItem(Xg,JSON.stringify(n)),localStorage.setItem(rh,ka.id),console.log("Initialized with default n8n config:",ka),n}const t=JSON.parse(e);return console.log("Loaded n8n configs from localStorage:",t),t}catch(e){return console.error("Failed to get n8n configs:",e),[ka]}},wx=e=>{try{localStorage.setItem(Xg,JSON.stringify(e))}catch(t){console.error("Failed to save n8n configs:",t)}},WP=()=>{try{const e=localStorage.getItem(rh);if(console.log("Active n8n config ID:",e),!e)return console.log("No active ID, using default config"),ka;const t=_c();console.log("Available n8n configs:",t);const n=t.find(r=>r.id===e)||ka;return console.log("Selected active config:",n),n}catch(e){return console.error("Failed to get active n8n config:",e),ka}},KP=e=>{try{localStorage.setItem(rh,e)}catch(t){console.error("Failed to set active n8n config:",t)}},Z$=e=>{const t={...e,id:`n8n_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},n=_c();return n.push(t),wx(n),t},e4=(e,t)=>{const n=_c(),r=n.findIndex(i=>i.id===e);return r===-1?null:(n[r]={...n[r],...t,updatedAt:new Date().toISOString()},wx(n),n[r])},t4=e=>{const t=_c(),n=t.filter(i=>i.id!==e);return n.length===t.length?!1:(wx(n),localStorage.getItem(rh)===e&&n.length>0&&KP(n[0].id),!0)},n4=async e=>{const t=WP();if(console.log("Sending to n8n with config:",t),console.log("Request payload:",e),!t)throw new Error("No active n8n configuration found");try{console.log("Making request to:",t.webhookUrl),console.log("Request payload:",JSON.stringify(e));const n=new AbortController,r=setTimeout(()=>{console.log("n8n webhook request timed out after 30 seconds"),n.abort()},3e4),i=await fetch(t.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(e),signal:n.signal});clearTimeout(r),console.log("Response status:",i.status),console.log("Response headers:",i.headers);const a=await i.text();if(console.log("=== N8N WEBHOOK DEBUG ==="),console.log("Response status:",i.status),console.log("Response ok:",i.ok),console.log("Raw response text length:",a.length),console.log("Raw response text:",a),console.log("Response text trimmed:",a.trim()),console.log("Is empty?",!a||a.trim()===""),console.log("Response URL:",i.url),console.log("Response headers:",Object.fromEntries(i.headers.entries())),console.log("========================"),a.includes("No response from webhook")&&(console.error("ERROR: Webhook returned error message instead of actual response!"),console.error("This suggests the workflow is not properly configured or is returning an error.")),!i.ok)throw console.error("Response error:",a),new Error(`HTTP error! status: ${i.status}, message: ${a}`);if(!a||a.trim()==="")throw console.warn("Empty response from webhook"),new Error("Empty response from webhook. Please check your workflow configuration.");let o;try{o=JSON.parse(a)}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Response text was:",a),new Error(`Invalid JSON response from n8n: ${a.substring(0,100)}...`)}console.log("n8n response:",o),console.log("n8n response type:",typeof o),console.log("n8n response is array:",Array.isArray(o));let s;if(Array.isArray(o))s=o[0],console.log("n8n array response data:",s);else if(o&&typeof o=="object")s=o,console.log("n8n object response data:",s);else throw new Error("Unexpected response format from n8n webhook");if(console.log("n8n responseData:",s),console.log("n8n responseData.answer:",s==null?void 0:s.answer),console.log("n8n responseData.answer type:",typeof(s==null?void 0:s.answer)),s&&s.answer&&s.answer.includes("No response from webhook"))throw console.error("Webhook returned error message:",s.answer),new Error("Webhook returned error: "+s.answer);if(s&&typeof s=="string"&&s.includes("No response from webhook"))throw console.error("Webhook returned error message as string:",s),new Error("Webhook returned error: "+s);if(s&&typeof s=="object"){const l=JSON.stringify(s);if(l.includes("No response from webhook"))throw console.error("Webhook returned error message in object:",s),new Error("Webhook returned error: "+l)}return s}catch(n){throw console.error("Failed to send to n8n:",n),n.name==="AbortError"?new Error("Webhook request timed out after 30 seconds"):n.name==="TypeError"&&n.message.includes("fetch")?new Error("Network error: Unable to reach webhook"):n}},r4=async e=>{try{const t={sessionId:"test-session",chatId:"test-chat-"+Date.now(),userId:"test-user",action:"sendMessage",chatInput:"Test connection"};return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok}catch(t){return console.error("Failed to test n8n connection:",t),!1}};class i4{constructor(t){nu(this,"reader");this.reader=t.body.getReader()}async*read(){const t=new TextDecoder;let n="";try{for(;;){const{done:r,value:i}=await this.reader.read();if(r)break;n+=t.decode(i,{stream:!0});const a=n.split(`
`);n=a.pop()||"";for(const o of a)if(o.startsWith("data: ")){const s=o.slice(6);if(s==="[DONE]")return;try{yield JSON.parse(s)}catch{console.warn("Failed to parse SSE data:",s)}}}}finally{this.reader.releaseLock()}}}const k1={async sendMessage(e,t,n){const r=await Vr();if(console.log("Backend available:",r),r)if(n){const i=await Yp.send(e,t,!0),a=new i4(i);let o="",s=[];for await(const l of a.read())n(l),l.type==="final"&&(o=l.messageId||"",s=l.citations||[]);return{messageId:o,citations:s}}else{const i=await Yp.send(e,t,!1);return{messageId:i.messageId||`backend_${Date.now()}`,citations:i.citations||[]}}else{console.log("Backend unavailable, trying n8n for chat...");const i=H$(),a=WP();if(console.log("n8n webhook available:",i),console.log("Active n8n config:",a),i&&a&&a.webhookUrl){console.log("Using n8n webhook:",a.webhookUrl);try{const c=Dr(),u=`chat_${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f={sessionId:e,chatId:u,userId:(c==null?void 0:c.userId)||"unknown",action:"sendMessage",chatInput:t};console.log("=== CHAT SERVICE DEBUG ==="),console.log("Sending request to n8n:",f);let h,p=null;for(let m=1;m<=3;m++)try{console.log(`n8n request attempt ${m}/3`),h=await n4(f),console.log("n8n response received successfully:",h),console.log("Response type:",typeof h),console.log("Response has answer?",!!(h!=null&&h.answer)),console.log("Response answer:",h==null?void 0:h.answer);break}catch(g){if(p=g,console.warn(`n8n request attempt ${m} failed:`,g),m<3){const v=Math.pow(2,m)*1e3;console.log(`Retrying in ${v}ms...`),await new Promise(y=>setTimeout(y,v))}}if(!h||!h.answer)throw console.error("All n8n attempts failed, last error:",p),new Error(`n8n webhook failed after 3 attempts: ${(p==null?void 0:p.message)||"No response"}`);if(console.log("=========================="),n){const m=h.answer;console.log("Streaming answer text:",m);const g=m.split(" ");for(let v=0;v<g.length;v++)n({type:"delta",text:g[v]+(v<g.length-1?" ":"")}),await new Promise(y=>setTimeout(y,50));n({type:"final",messageId:u,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:u,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]})}return{messageId:u,citations:h.citationTitle?[{id:`citation_${Date.now()}`,messageId:u,sourceType:"document",title:h.citationTitle,snippet:h.citationContent||"",sourceId:`doc_${Date.now()}`,metadata:{}}]:[]}}catch(c){if(console.error("Failed to send to n8n:",c),console.log("n8n failed, checking simulation mode setting"),Jg())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error(`Chat service unavailable: ${c instanceof Error?c.message:"n8n webhook failed"}`)}}else if(console.log("No n8n config found or webhook URL missing"),console.log("n8n config was:",a),Jg())console.log("Simulation mode enabled, falling back to simulation");else throw console.log("Simulation mode disabled, throwing error"),new Error("Chat service unavailable: No n8n webhook configured");console.log("Falling back to simulation");const s=(await Xi(()=>import("./simulation-ee6eb0cb.js"),[])).generateSimulatedResponse(t),l=s.reply;if(n){const c=l.split(" ");for(let u=0;u<c.length;u++)n({type:"delta",text:c[u]+(u<c.length-1?" ":"")}),await new Promise(f=>setTimeout(f,50));n({type:"final",messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((u,f)=>({id:`sim_citation_${Date.now()}_${f}`,messageId:`sim_${Date.now()}`,sourceType:u.sourceType,title:u.title,snippet:u.snippet,sourceId:u.sourceId||`sim_${Date.now()}`,metadata:{}}))})}return{messageId:`sim_${Date.now()}`,citations:(s.citations||[]).map((c,u)=>({id:`sim_citation_${Date.now()}_${u}`,messageId:`sim_${Date.now()}`,sourceType:c.sourceType,title:c.title,snippet:c.snippet,sourceId:c.sourceId||`sim_${Date.now()}`,metadata:{}}))}}},async getMessages(e,t=50,n,r="older"){return await Vr()?await Yp.list(e,t,n,r):JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]")}},a4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class kx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class S1 extends kx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class j1 extends kx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class _1 extends kx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qg||(Qg={}));var o4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class s4{constructor(t,{headers:n={},customFetch:r,region:i=Qg.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=a4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return o4(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:a,method:o,body:s,signal:l}=r;let c={},{region:u}=r;u||(u=this.region);const f=new URL(`${this.url}/${n}`);u&&u!=="any"&&(c["x-region"]=u,f.searchParams.set("forceFunctionRegion",u));let h;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)));const p=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:h,signal:l}).catch(y=>{throw y.name==="AbortError"?y:new S1(y)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new j1(p);if(!p.ok)throw new _1(p);let g=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield p.json():g==="application/octet-stream"?v=yield p.blob():g==="text/event-stream"?v=p:g==="multipart/form-data"?v=yield p.formData():v=yield p.text(),{data:v,error:null,response:p}}catch(a){return a instanceof Error&&a.name==="AbortError"?{data:null,error:new S1(a)}:{data:null,error:a,response:a instanceof _1||a instanceof j1?a.context:void 0}}})}}var rn={},Sx={},ih={},Cc={},ah={},oh={},l4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zo=l4();const c4=Zo.fetch,HP=Zo.fetch.bind(Zo),qP=Zo.Headers,u4=Zo.Request,d4=Zo.Response,bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:qP,Request:u4,Response:d4,default:HP,fetch:c4},Symbol.toStringTag,{value:"Module"})),f4=bR(bs);var sh={};Object.defineProperty(sh,"__esModule",{value:!0});let h4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};sh.default=h4;var VP=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oh,"__esModule",{value:!0});const p4=VP(f4),m4=VP(sh);let g4=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=p4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,s,l,c;let u=null,f=null,h=null,p=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const b=await a.text();b===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?f=b:f=JSON.parse(b))}const v=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,m="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(f=[],u=null,p=200,m="OK")}catch{a.status===404&&v===""?(p=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw new m4.default(u)}return{error:u,data:f,count:h,status:p,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var o,s,l;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(s=a==null?void 0:a.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};oh.default=g4;var v4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ah,"__esModule",{value:!0});const y4=v4(oh);let x4=class extends y4.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:a=i}={}){const o=a?`${a}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const a=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:a=!1,format:o="text"}={}){var s;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ah.default=x4;var b4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cc,"__esModule",{value:!0});const w4=b4(ah);let k4=class extends w4.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Cc.default=k4;var S4=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ih,"__esModule",{value:!0});const Xs=S4(Cc);let j4=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,n){const{head:r=!1,count:i}=n??{},a=r?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",s),i&&this.headers.append("Prefer",`count=${i}`),new Xs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((s,l)=>s.concat(Object.keys(l)),[]);if(o.length>0){const s=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",s.join(","))}}return new Xs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:a=!0}={}){var o;const s="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Xs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Xs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ih.default=j4;var GP=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sx,"__esModule",{value:!0});const _4=GP(ih),C4=GP(Cc);let E4=class YP{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new _4.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new YP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:a}={}){var o;let s;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{l.searchParams.append(f,h)})):(s="POST",c=n);const u=new Headers(this.headers);return a&&u.set("Prefer",`count=${a}`),new C4.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Sx.default=E4;var ws=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.PostgrestError=rn.PostgrestBuilder=rn.PostgrestTransformBuilder=rn.PostgrestFilterBuilder=rn.PostgrestQueryBuilder=rn.PostgrestClient=void 0;const JP=ws(Sx);rn.PostgrestClient=JP.default;const XP=ws(ih);rn.PostgrestQueryBuilder=XP.default;const QP=ws(Cc);rn.PostgrestFilterBuilder=QP.default;const ZP=ws(ah);rn.PostgrestTransformBuilder=ZP.default;const eN=ws(oh);rn.PostgrestBuilder=eN.default;const tN=ws(sh);rn.PostgrestError=tN.default;var P4=rn.default={PostgrestClient:JP.default,PostgrestQueryBuilder:XP.default,PostgrestFilterBuilder:QP.default,PostgrestTransformBuilder:ZP.default,PostgrestBuilder:eN.default,PostgrestError:tN.default};const{PostgrestClient:N4,PostgrestQueryBuilder:sce,PostgrestFilterBuilder:lce,PostgrestTransformBuilder:cce,PostgrestBuilder:uce,PostgrestError:dce}=P4;class O4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const A4="2.75.0",T4=`realtime-js/${A4}`,I4="1.0.0",Zg=1e4,D4=1e3,R4=100;var Cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cl||(Cl={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var ev;(function(e){e.websocket="websocket"})(ev||(ev={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class M4{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2);let o=this.HEADER_LENGTH+2;const s=r.decode(t.slice(o,o+i));o=o+i;const l=r.decode(t.slice(o,o+a));o=o+a;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:l,payload:c}}}class nN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Re||(Re={}));const C1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=L4(o,e,t,i),a),{}):{}},L4=(e,t,n,r)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=n[e];return a&&!r.includes(a)?rN(a,o):tv(o)},rN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return z4(t,n)}switch(e){case Re.bool:return $4(t);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return F4(t);case Re.json:case Re.jsonb:return U4(t);case Re.timestamp:return B4(t);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return tv(t);default:return tv(t)}},tv=e=>e,$4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},z4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>rN(t,s))}return e},B4=e=>typeof e=="string"?e.replace(" ","T"):e,iN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Jp{constructor(t,n,r={},i=Zg){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var E1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(E1||(E1={}));class El{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=El.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=El.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=El.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),o=this.transformState(n),s={},l={};return this.map(a,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const f=a[c];if(f){const h=u.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=u.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(s[c]=m),g.length>0&&(l[c]=g)}else s[c]=u}),this.syncDiff(a,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var c;const u=(c=t[s])!==null&&c!==void 0?c:[];if(t[s]=this.cloneDeep(l),u.length>0){const f=t[s].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[s].unshift(...h)}r(s,u,l)}),this.map(o,(s,l)=>{let c=t[s];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[s]=c,i(s,c,l),c.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var P1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(P1||(P1={}));var Pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pl||(Pl={}));var Br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class jx{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jp(this,or.join,this.params,this.timeout),this.rejoinTimer=new nN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new El(this),this.broadcastEndpointURL=iN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Pl.PRESENCE]&&this.bindings[Pl.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Br.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Br.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket.setAuth(),p===void 0){t==null||t(Br.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,y=[];for(let b=0;b<v;b++){const w=g[b],{filter:{event:S,schema:j,table:k,filter:E}}=w,O=p&&p[b];if(O&&O.event===S&&O.schema===j&&O.table===k&&O.filter===E)y.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Br.SUBSCRIBED);return}}).receive("error",p=>{this.state=ht.errored,t==null||t(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ht.joined&&t===Pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Jp(this,or.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Jp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>R4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:l,leave:c,join:u}=or;if(r&&[s,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var m,g,v,y,b,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,j=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(b=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:y,type:b,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&jx.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=C1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=C1(t.columns,t.old_record)),n}}const Xp=()=>{},wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},W4=[1e3,2e3,5e3,1e4],K4=1e4,H4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zg,this.transport=null,this.heartbeatIntervalMs=wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xp,this.ref=0,this.reconnectTimer=null,this.logger=Xp,this.conn=null,this.sendBuffer=[],this.serializer=new M4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...o)=>a(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ev.websocket}`,this.httpEndpoint=iN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:I4}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return ga.Connecting;case Cl.open:return ga.Open;case Cl.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new jx(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(D4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:a,ref:o}=n,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([H4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:T4};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new nN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,o,s,l,c,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Zg,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wu.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Xp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>W4[f-1]||K4,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,h)=>h(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class _x extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class V4 extends _x{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nv extends _x{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var G4=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const aN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Y4=()=>G4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xi(()=>Promise.resolve().then(()=>bs),void 0)).Response:Response}),rv=e=>{if(Array.isArray(e))return e.map(n=>rv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=rv(r)}),t},J4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var eo=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const Qp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X4=(e,t,n)=>eo(void 0,void 0,void 0,function*(){const r=yield Y4();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new V4(Qp(i),a,o))}).catch(i=>{t(new nv(Qp(i),i))}):t(new nv(Qp(e),e))}),Q4=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(J4(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ec(e,t,n,r,i,a){return eo(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(n,Q4(t,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>X4(l,s,r))})})}function zd(e,t,n,r){return eo(this,void 0,void 0,function*(){return Ec(e,"GET",t,n,r)})}function Sr(e,t,n,r,i){return eo(this,void 0,void 0,function*(){return Ec(e,"POST",t,r,i,n)})}function iv(e,t,n,r,i){return eo(this,void 0,void 0,function*(){return Ec(e,"PUT",t,r,i,n)})}function Z4(e,t,n,r){return eo(this,void 0,void 0,function*(){return Ec(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function oN(e,t,n,r,i){return eo(this,void 0,void 0,function*(){return Ec(e,"DELETE",t,r,i,n)})}var eF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class tF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return eF(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var nF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class rF{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new tF(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return nF(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}}var Qt=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const iF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},N1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aF{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=aN(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return Qt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},N1),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield(t=="PUT"?iv:Sr)(this.fetch,`${this.url}/object/${u}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}upload(t,n,r){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Qt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:N1.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield iv(this.fetch,s.toString(),l,{headers:u});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Qt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield Sr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new _x("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Qt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Sr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Qt(this,void 0,void 0,function*(){try{const i=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),l=()=>zd(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new rF(l,this.shouldThrowOnError)}info(t){return Qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield zd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:rv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}exists(t){return Qt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Z4(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r)&&r instanceof nv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const s=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${c}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield oN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},iF),n),{prefix:t||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(t,n){return Qt(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const oF="2.75.0",sF={"X-Client-Info":`storage-js/${oF}`};var co=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class lF{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sF),n),this.fetch=aN(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return co(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield zd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}createBucket(t){return co(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return co(this,void 0,void 0,function*(){try{return{data:yield iv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return co(this,void 0,void 0,function*(){try{return{data:yield oN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(lt(n))return{data:null,error:n};throw n}})}}class cF extends lF{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new aF(this.url,this.headers,t,this.fetch)}}const uF="2.75.0";let pl="";typeof Deno<"u"?pl="deno":typeof document<"u"?pl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pl="react-native":pl="node";const dF={"X-Client-Info":`supabase-js-${pl}/${uF}`},fF={headers:dF},hF={schema:"public"},pF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mF={};var gF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const vF=e=>{let t;return e?t=e:typeof fetch>"u"?t=HP:t=fetch,(...n)=>t(...n)},yF=()=>typeof Headers>"u"?qP:Headers,xF=(e,t,n)=>{const r=vF(n),i=yF();return(a,o)=>gF(void 0,void 0,void 0,function*(){var s;const l=(s=yield t())!==null&&s!==void 0?s:e;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},o),{headers:c}))})};var bF=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};function wF(e){return e.endsWith("/")?e:e+"/"}function kF(e,t){var n,r;const{db:i,auth:a,realtime:o,global:s}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>bF(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function SF(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wF(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const sN="2.75.0",yo=30*1e3,av=3,Zp=av*yo,jF="http://localhost:9999",_F="supabase.auth.token",CF={"X-Client-Info":`gotrue-js/${sN}`},ov="X-Supabase-Api-Version",lN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,PF=10*60*1e3;class tc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NF extends tc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function OF(e){return ue(e)&&e.name==="AuthApiError"}class va extends tc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qi extends tc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class bi extends Qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AF(e){return ue(e)&&e.name==="AuthSessionMissingError"}class uo extends Qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ku extends Qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Su extends Qi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TF(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class O1 extends Qi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sv extends Qi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function em(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class A1 extends Qi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class lv extends Qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),T1=` 	
\r=`.split(""),IF=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<T1.length;t+=1)e[T1[t].charCodeAt(0)]=-2;for(let t=0;t<Bd.length;t+=1)e[Bd[t].charCodeAt(0)]=t;return e})();function I1(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bd[r]),t.queuedBits-=6}}function cN(e,t,n){const r=IF[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function D1(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{MF(o,r,n)};for(let o=0;o<e.length;o+=1)cN(e.charCodeAt(o),i,a);return t.join("")}function DF(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RF(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}DF(r,t)}}function MF(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function zo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)cN(e.charCodeAt(i),n,r);return new Uint8Array(t)}function LF(e){const t=[];return RF(e,n=>t.push(n)),new Uint8Array(t)}function Sa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>I1(i,n,r)),I1(null,n,r),t.join("")}function $F(e){return Math.round(Date.now()/1e3)+e}function FF(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",oa={tested:!1,writable:!1},uN=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oa.tested)return oa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oa.tested=!0,oa.writable=!0}catch{oa.tested=!0,oa.writable=!1}return oa.writable};function UF(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const dN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Xi(()=>Promise.resolve().then(()=>bs),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},zF=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},sa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},yi=async(e,t)=>{await e.removeItem(t)};class lh{constructor(){this.promise=new lh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}lh.promiseConstructor=Promise;function tm(e){const t=e.split(".");if(t.length!==3)throw new lv("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!EF.test(t[r]))throw new lv("JWT not in base64url format");return{header:JSON.parse(D1(t[0])),payload:JSON.parse(D1(t[1])),signature:zo(t[2]),raw:{header:t[0],payload:t[1]}}}async function BF(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WF(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){r(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function KF(e){return("0"+e.toString(16)).substr(-2)}function HF(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,KF).join("")}async function qF(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function VF(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await qF(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fo(e,t,n=!1){const r=HF();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await xo(e,`${t}-code-verifier`,i);const a=await VF(r);return[a,r===a?"plain":"s256"]}const GF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YF(e){const t=e.headers.get(ov);if(!t||!t.match(GF))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JF(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function XF(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ho(e){if(!QF.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nm(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function R1(e){return JSON.parse(JSON.stringify(e))}var ZF=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),e3=[502,503,504];async function M1(e){var t;if(!zF(e))throw new sv(fa(e),0);if(e3.includes(e.status))throw new sv(fa(e),e.status);let n;try{n=await e.json()}catch(a){throw new va(fa(a),a)}let r;const i=YF(e);if(i&&i.getTime()>=lN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new A1(fa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new bi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new A1(fa(n),e.status,n.weak_password.reasons);throw new NF(fa(n),e.status||500,r)}const t3=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function fe(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[ov]||(a[ov]=lN["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await n3(e,t,n+s,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function n3(e,t,n,r,i,a){const o=t3(t,r,i,a);let s;try{s=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new sv(fa(l),0)}if(s.ok||await M1(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await M1(l)}}function rr(e){var t;let n=null;a3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=$F(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function L1(e){const t=rr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r3(e){return{data:e,error:null}}function i3(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=ZF(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function $1(e){return e}function a3(e){return e.access_token&&e.refresh_token&&e.expires_in}const rm=["global","local","others"];var o3=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class s3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=dN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=rm[0]){if(rm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rm.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=o3(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:i3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ue(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ei})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$1});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ho(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ei})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ho(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ho(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ei})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ho(t.userId);try{const{data:n,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ho(t.userId),ho(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,o,s,l;try{const c={nextPage:null,lastPage:0,total:0},u=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:$1});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(s=u.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(ue(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}}function F1(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const po={debug:!!(globalThis&&uN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l3 extends fN{}async function c3(e,t,n){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(po.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function u3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function d3(e){return parseInt(e,16)}function f3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function h3(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:c,scheme:u,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=hN(e.address),m=u?`${u}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);b+=`
- ${w}`}y+=b}return`${v}
${y}`}class st extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Wd extends st{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function p3({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new st({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new st({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new st({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new st({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new st({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new st({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(mN(o)){if(a.rp.id!==o)return new st({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new st({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function m3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new st({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new st({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(mN(r)){if(n.rpId!==r)return new st({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new st({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new st({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new st({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var pN=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class g3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const v3=new g3;function y3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=pN(e,["challenge","user","excludeCredentials"]),a=zo(t).buffer,o=Object.assign(Object.assign({},n),{id:zo(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:zo(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function x3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=pN(e,["challenge","allowCredentials"]),i=zo(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const s=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:zo(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function b3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function w3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sa(new Uint8Array(i.authenticatorData)),clientDataJSON:Sa(new Uint8Array(i.clientDataJSON)),signature:Sa(new Uint8Array(i.signature)),userHandle:i.userHandle?Sa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function U1(){var e,t;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function k3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:p3({error:t,options:e})}}}async function S3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wd("Browser returned unexpected credential type",t)}:{data:null,error:new Wd("Empty credential response",t)}}catch(t){return{data:null,error:m3({error:t,options:e})}}}const j3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},_3={userVerification:"preferred",hints:["security-key"]};function Kd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))r[a]=o;else if(n(o))r[a]=o;else if(t(o)){const s=r[a];t(s)?r[a]=Kd(s,o):r[a]=Kd(o)}else r[a]=o}return r}function C3(e,t){return Kd(j3,e,t||{})}function E3(e,t){return Kd(_3,e,t||{})}class P3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:s};const l=i??v3.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=C3(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:u,error:f}=await k3({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=E3(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:u,error:f}=await S3(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new va("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},a){if(!n)return{data:null,error:new tc("rpId is required for WebAuthn authentication")};try{if(!U1())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new va("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},a){if(!n)return{data:null,error:new tc("rpId is required for WebAuthn registration")};try{if(!U1())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:s};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return ue(o)?{data:null,error:o}:{data:null,error:new va("Unexpected error in register",o)}}}}u3();const N3={url:jF,storageKey:_F,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function z1(e,t,n){return await n()}const mo={};class nc{get jwks(){var t,n;return(n=(t=mo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=mo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nc.nextInstanceID,nc.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},N3),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new s3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=dN(i.fetch),this.lock=i.lock||z1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=c3:this.lock=z1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new P3(this)},this.persistSession?(i.storage?this.storage=i.storage:uN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=F1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=F1(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=UF(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),TF(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ue(n)?{error:n}:{error:new va("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:rr}),{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await fo(this.storage,this.storageKey)),a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:rr})}else if("phone"in t){const{phone:u,password:f,options:h}=t;a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:rr})}else throw new ku("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return{data:{user:null,session:null},error:s};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(ue(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:s}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:L1})}else if("phone"in t){const{phone:a,password:o,options:s}=t;n=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:L1})}else throw new ku("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new uo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,o,s,l,c,u,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:y,options:b}=t;let w;if(vn())if(typeof v=="object")w=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const S=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=hN(j[0]);let E=(r=b==null?void 0:b.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!E){const P=await w.request({method:"eth_chainId"});E=d3(P)}const O={domain:S.host,address:k,statement:y,uri:S.href,version:"1",chainId:E,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=h3(O),m=await w.request({method:"personal_sign",params:[f3(p),k]})}try{const{data:g,error:v}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:rr});if(v)throw v;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new uo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:v})}catch(g){if(ue(g))return{data:{user:null,session:null},error:g};throw g}}async signInWithSolana(t){var n,r,i,a,o,s,l,c,u,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:y,statement:b,options:w}=t;let S;if(vn())if(typeof y=="object")S=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))S=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const j=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const k=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:v,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Sa(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:rr});if(y)throw y;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new uo}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:y})}catch(v){if(ue(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const n=await sa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:a,error:o}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:rr});if(await yi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new uo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(ue(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:o}=t,s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rr}),{data:l,error:c}=s;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new uo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,a,o;try{if("email"in t){const{email:s,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await fo(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:l}=t,{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ku("You must provide either an email or phone number.")}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:s}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:rr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await fo(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:r3})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new bi;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:o}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:o,error:s}=await fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new ku("You must provide either an email or phone number and a type")}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await sa(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=nm()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ei}):await this._useSession(async n=>{var r,i,a;const{data:o,error:s}=n;if(s)throw s;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bi}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ei})})}catch(n){if(ue(n))return AF(n)&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new bi;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await fo(this.storage,this.storageKey));const{data:c,error:u}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Ei});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bi;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:o}=tm(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(ue(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:s}=n;if(s)throw s;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new bi;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ue(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!vn())throw new Su("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Su(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new O1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Su("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new O1("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:c}=t;if(!a||!s||!o||!c)throw new Su("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(s);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ue(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{error:a};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(OF(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=FF(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await fo(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(ue(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var o,s,l,c,u;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ue(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:o,provider:s,token:l,access_token:c,nonce:u}=t,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rr}),{data:h,error:p}=f;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new uo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:p})}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)throw o;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await WF(async i=>(i>0&&await BF(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rr})),(i,a)=>{const o=200*Math.pow(2,i);return a&&em(a)&&Date.now()+o-r<yo})}catch(r){if(this._debug(n,"error",r),ue(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await sa(this.storage,this.storageKey);if(i&&this.userStorage){let o=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await xo(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:nm()}else if(i&&!i.user&&!i.user){const o=await sa(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await yi(this.storage,this.storageKey+"-user"),await xo(this.storage,this.storageKey,i)):i.user=nm()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Zp}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),em(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new lh;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new bi;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),ue(a)){const o={data:null,error:a};return em(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await xo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=R1(i);await xo(this.storage,this.storageKey,a)}else{const i=R1(n);await xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await yi(this.storage,this.storageKey),await yi(this.storage,this.storageKey+"-code-verifier"),await yi(this.storage,this.storageKey+"-user"),this.userStorage&&await yi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yo}ms, refresh threshold is ${av} ticks`),i<=av&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof fN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,o]=await fo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?{data:null,error:a}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:o}=n;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(ue(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?b3(t.webauthn.credential_response):w3(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return{data:null,error:a};const o=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:y3(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:x3(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ue(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=tm(i.access_token);let s=null;o.aal&&(s=o.aal);let l=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+PF>i)return r;const{data:a,error:o}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};r=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=tm(r);n!=null&&n.allowExpired||JF(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const u=XF(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,LF(`${s}.${l}`)))throw new lv("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}nc.nextInstanceID=0;const O3=nc;class A3 extends O3{constructor(t){super(t)}}var T3=globalThis&&globalThis.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?a(u.value):i(u.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};class I3{constructor(t,n,r){var i,a,o;this.supabaseUrl=t,this.supabaseKey=n;const s=SF(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:hF,realtime:mF,auth:Object.assign(Object.assign({},pF),{storageKey:l}),global:fF},u=kF(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=u.global.headers)!==null&&a!==void 0?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=xF(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new N4(new URL("rest/v1",s).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new cF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new s4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return T3(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new A3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:a,flowType:s,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new q4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const D3=(e,t,n)=>new I3(e,t,n);function R3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}R3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const gN="axpro_supabase_url",vN="axpro_supabase_anon_key",B1="https://qpyteahuynkgkbmdasbv.supabase.co",W1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY";let im=null,K1=null;const We=()=>{const e=Cx(),t=`${e.url}:${e.anonKey}`;if(!im||K1!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set. Please configure in Settings > Database.");im=D3(e.url,e.anonKey),K1=t,console.log("✅ Supabase client initialized")}return im},Cx=()=>{try{const e=localStorage.getItem(gN)||B1,t=localStorage.getItem(vN)||W1;return{url:e,anonKey:t}}catch(e){return console.error("Failed to get Supabase config:",e),{url:B1,anonKey:W1}}},yN=e=>{try{localStorage.setItem(gN,e.url),localStorage.setItem(vN,e.anonKey)}catch(t){console.error("Failed to save Supabase config:",t)}},xN=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}},M3=Object.freeze(Object.defineProperty({__proto__:null,getSupabaseClient:We,getSupabaseConfig:Cx,saveSupabaseConfig:yN,testSupabaseConnection:xN},Symbol.toStringTag,{value:"Module"}));async function Ex(){try{const e=We();console.log("Fetching admin feedback from Supabase...");const{data:t,error:n}=await e.from("admin_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch admin feedback: ${n.message}`);return console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} admin feedback records`),t||[]}catch(e){throw console.error("Failed to fetch admin feedback:",e),e}}async function Ba(){try{const e=We();console.log("Fetching user feedback from Supabase...");const{data:t,error:n}=await e.from("user_feedback").select("*").order("created_at",{ascending:!1});if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch user feedback: ${n.message}`);return console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} user feedback records`),t||[]}catch(e){throw console.error("Failed to fetch user feedback:",e),e}}async function L3(e,t){try{const n=We(),{data:r,error:i}=await n.from("user_feedback").select("*").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!1});if(i)throw console.error("Supabase error:",i),new Error(`Failed to fetch user feedback: ${i.message}`);return r||[]}catch(n){throw console.error("Failed to fetch user feedback by date range:",n),n}}async function $3(e){try{const t=We(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).single();if(r){if(r.code==="PGRST116")return null;throw r}return n}catch(t){throw console.error("Error fetching admin feedback:",t),t}}async function Px(e,t,n,r){try{const i=We();console.log("Submitting user feedback:",{chatId:e,userId:t,reaction:n,feedbackText:r});const a={chat_id:e,user_id:t,reaction:n,feedback_text:r||null},{data:o,error:s}=await i.from("user_feedback").insert([a]).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit user feedback: ${s.message}`);return console.log("✅ User feedback submitted:",o),o}catch(i){throw console.error("Failed to submit user feedback:",i),i}}async function Hd(e){try{const t=We(),{data:n,error:r}=await t.from("admin_feedback").select("*").eq("chat_id",e).maybeSingle();if(r)throw console.error("Error fetching admin feedback:",r),r;return n}catch(t){return console.error("Error fetching admin feedback by chat:",t),null}}async function bN(e,t,n,r){try{const i=We();console.log("Submitting admin feedback:",{chatId:e,verdict:t,feedbackText:n,correctedResponse:r});const a=await Hd(e);let o,s;if(a){const l={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},c=await i.from("admin_feedback").update(l).eq("chat_id",e).select().maybeSingle();o=c.data,s=c.error}else{const l={chat_id:e,feedback_verdict:t,feedback_text:n||null,corrected_response:r||null},c=await i.from("admin_feedback").insert([l]).select().maybeSingle();o=c.data,s=c.error}if(s)throw console.error("Supabase error:",s),new Error(`Failed to submit admin feedback: ${s.message}`);return console.log("✅ Admin feedback submitted:",o),o}catch(i){throw console.error("Failed to submit admin feedback:",i),i}}async function F3(e,t,n,r){try{const i=We();console.log("Updating admin feedback:",{id:e,verdict:t,feedbackText:n,correctedResponse:r});const a={feedback_verdict:t,feedback_text:n||null,corrected_response:r||null,updated_at:new Date().toISOString()},{data:o,error:s}=await i.from("admin_feedback").update(a).eq("id",e).select().single();if(s)throw console.error("Supabase error:",s),new Error(`Failed to update admin feedback: ${s.message}`);return console.log("✅ Admin feedback updated:",o),o}catch(i){throw console.error("Failed to update admin feedback:",i),i}}async function U3(e,t){try{const n=We();console.log("Updating admin feedback field:",{id:e,updates:t});const{data:r,error:i}=await n.from("admin_feedback").update(t).eq("id",e).select().single();if(i)throw console.error("Supabase error:",i),new Error(`Failed to update admin feedback: ${i.message}`);return console.log("✅ Admin feedback field updated:",r),r}catch(n){throw console.error("Failed to update admin feedback field:",n),n}}const z3=Object.freeze(Object.defineProperty({__proto__:null,fetchAllAdminFeedback:Ex,fetchAllUserFeedback:Ba,fetchUserFeedbackByDateRange:L3,getAdminFeedback:$3,getAdminFeedbackByChat:Hd,submitAdminFeedback:bN,submitUserFeedback:Px,updateAdminFeedback:F3,updateAdminFeedbackField:U3},Symbol.toStringTag,{value:"Module"})),B3=e=>{const[t,n]=x.useState([]),[r,i]=x.useState(!0),[a,o]=x.useState(!1),[s,l]=x.useState(null),c=x.useCallback(async()=>{try{if(i(!0),l(null),await Vr()){const m=await k1.getMessages(e);n(m)}else{const m=JSON.parse(localStorage.getItem(`axpro_sim_messages_${e}`)||"[]");console.log("Loading local messages for session:",e,m),n(m)}}catch(p){l(p instanceof Error?p.message:"Failed to fetch messages")}finally{i(!1)}},[e]);x.useEffect(()=>{c()},[c]);const u=p=>{const m=p.split(`
`)[0];return(m.length>50?m.substring(0,50)+"...":m)||"New Chat"},f=x.useCallback(async p=>{if(!p.trim())return;console.log("=== SEND MESSAGE START ==="),console.log("Session ID:",e),console.log("Content:",p),o(!0),l(null);const m={id:`user-${Date.now()}`,sessionId:e,role:"user",content:p,meta:{},createdAt:new Date().toISOString()};n(w=>(console.log("Adding user message:",m),[...w,m]));const g=`assistant-${Date.now()}`;n(w=>{const S={id:g,sessionId:e,role:"assistant",content:"",createdAt:new Date().toISOString(),meta:{isStreaming:!0}};return console.log("Created new assistant message:",S),[...w,S]});let v="",y,b=[];try{console.log("Calling chatService.sendMessage...");const w=await k1.sendMessage(e,p,j=>{console.log("=== STREAM EVENT ==="),console.log("Event type:",j.type),console.log("Event text:",j.text),console.log("Event messageId:",j.messageId),console.log("==================="),j.type==="delta"&&j.text?(v+=j.text,n(k=>k.map(E=>{if(E.id===g){const O=(E.content||"")+j.text;return console.log("Updated assistant message content:",O),{...E,content:O}}return E}))):j.type==="final"&&(y=j.messageId,b=j.citations,console.log("Final event received - messageId:",j.messageId,"citations:",j.citations))});if(console.log("Chat service result:",w),n(j=>j.map(k=>{if(k.id===g){const O={...k,id:y||g,content:v||"No response received",citations:b,meta:{isStreaming:!1}};return console.log("Final assistant message:",O),O}return k})),!await Vr()){const j=[...t.filter(O=>!O.id.startsWith("temp-")),m,{id:y||g,sessionId:e,role:"assistant",content:v||"No response received",meta:{isStreaming:!1},createdAt:new Date().toISOString(),citations:b}];console.log("Saving to localStorage:",j),localStorage.setItem(`axpro_sim_messages_${e}`,JSON.stringify(j));const k=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]"),E=k.find(O=>O.id===e);if(E&&E.title==="New Chat"&&t.length===0){const O=u(p);E.title=O,E.updatedAt=new Date().toISOString(),localStorage.setItem("axpro_sim_sessions",JSON.stringify(k)),console.log("Auto-generated title:",O),window.dispatchEvent(new Event("sessionUpdated"))}}}catch(w){console.error("Error in sendMessage:",w),l(w instanceof Error?w.message:"Failed to send message"),n(j=>j.filter(k=>k.id!==g));const S={id:`error-${Date.now()}`,sessionId:e,role:"assistant",content:w instanceof Error?w.message:"Failed to send message",meta:{},createdAt:new Date().toISOString()};n(j=>[...j,S])}finally{o(!1),console.log("=== SEND MESSAGE END ===")}},[e,t]),h=x.useCallback(async(p,m,g)=>{try{const v=Dr();if(!v||!v.userId)throw console.error("No user session found"),new Error("Please log in to submit feedback");if(!t.find(S=>S.id===p))throw console.error("Message not found:",p),new Error("Message not found");const b=p,w=m===1?"good":"bad";console.log("Submitting feedback:",{chatId:b,userId:v.userId,reaction:w,feedbackText:g}),await Px(b,v.userId,w,g),console.log("✅ Feedback submitted successfully")}catch(v){throw console.error("Failed to submit feedback:",v),v}},[t]);return{messages:t,loading:r,sending:a,error:s,sendMessage:f,submitFeedback:h}};function W3(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const K3=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H3=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,q3={};function H1(e,t){return((t||q3).jsx?H3:K3).test(e)}const V3=/[ \t\n\f\r]/g;function G3(e){return typeof e=="object"?e.type==="text"?q1(e.value):!1:q1(e)}function q1(e){return e.replace(V3,"")===""}class Pc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Pc.prototype.normal={};Pc.prototype.property={};Pc.prototype.space=void 0;function wN(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Pc(n,r,t)}function cv(e){return e.toLowerCase()}class fn{constructor(t,n){this.attribute=n,this.property=t}}fn.prototype.attribute="";fn.prototype.booleanish=!1;fn.prototype.boolean=!1;fn.prototype.commaOrSpaceSeparated=!1;fn.prototype.commaSeparated=!1;fn.prototype.defined=!1;fn.prototype.mustUseProperty=!1;fn.prototype.number=!1;fn.prototype.overloadedBoolean=!1;fn.prototype.property="";fn.prototype.spaceSeparated=!1;fn.prototype.space=void 0;let Y3=0;const pe=to(),ot=to(),uv=to(),Q=to(),Me=to(),Bo=to(),gn=to();function to(){return 2**++Y3}const dv=Object.freeze(Object.defineProperty({__proto__:null,boolean:pe,booleanish:ot,commaOrSpaceSeparated:gn,commaSeparated:Bo,number:Q,overloadedBoolean:uv,spaceSeparated:Me},Symbol.toStringTag,{value:"Module"})),am=Object.keys(dv);class Nx extends fn{constructor(t,n,r,i){let a=-1;if(super(t,n),V1(this,"space",i),typeof r=="number")for(;++a<am.length;){const o=am[a];V1(this,am[a],(r&dv[o])===dv[o])}}}Nx.prototype.defined=!0;function V1(e,t,n){n&&(e[t]=n)}function ks(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new Nx(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[cv(r)]=r,n[cv(a.attribute)]=r}return new Pc(t,n,e.space)}const kN=ks({properties:{ariaActiveDescendant:null,ariaAtomic:ot,ariaAutoComplete:null,ariaBusy:ot,ariaChecked:ot,ariaColCount:Q,ariaColIndex:Q,ariaColSpan:Q,ariaControls:Me,ariaCurrent:null,ariaDescribedBy:Me,ariaDetails:null,ariaDisabled:ot,ariaDropEffect:Me,ariaErrorMessage:null,ariaExpanded:ot,ariaFlowTo:Me,ariaGrabbed:ot,ariaHasPopup:null,ariaHidden:ot,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Me,ariaLevel:Q,ariaLive:null,ariaModal:ot,ariaMultiLine:ot,ariaMultiSelectable:ot,ariaOrientation:null,ariaOwns:Me,ariaPlaceholder:null,ariaPosInSet:Q,ariaPressed:ot,ariaReadOnly:ot,ariaRelevant:null,ariaRequired:ot,ariaRoleDescription:Me,ariaRowCount:Q,ariaRowIndex:Q,ariaRowSpan:Q,ariaSelected:ot,ariaSetSize:Q,ariaSort:null,ariaValueMax:Q,ariaValueMin:Q,ariaValueNow:Q,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function SN(e,t){return t in e?e[t]:t}function jN(e,t){return SN(e,t.toLowerCase())}const J3=ks({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Bo,acceptCharset:Me,accessKey:Me,action:null,allow:null,allowFullScreen:pe,allowPaymentRequest:pe,allowUserMedia:pe,alt:null,as:null,async:pe,autoCapitalize:null,autoComplete:Me,autoFocus:pe,autoPlay:pe,blocking:Me,capture:null,charSet:null,checked:pe,cite:null,className:Me,cols:Q,colSpan:null,content:null,contentEditable:ot,controls:pe,controlsList:Me,coords:Q|Bo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pe,defer:pe,dir:null,dirName:null,disabled:pe,download:uv,draggable:ot,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pe,formTarget:null,headers:Me,height:Q,hidden:uv,high:Q,href:null,hrefLang:null,htmlFor:Me,httpEquiv:Me,id:null,imageSizes:null,imageSrcSet:null,inert:pe,inputMode:null,integrity:null,is:null,isMap:pe,itemId:null,itemProp:Me,itemRef:Me,itemScope:pe,itemType:Me,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pe,low:Q,manifest:null,max:null,maxLength:Q,media:null,method:null,min:null,minLength:Q,multiple:pe,muted:pe,name:null,nonce:null,noModule:pe,noValidate:pe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pe,optimum:Q,pattern:null,ping:Me,placeholder:null,playsInline:pe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pe,referrerPolicy:null,rel:Me,required:pe,reversed:pe,rows:Q,rowSpan:Q,sandbox:Me,scope:null,scoped:pe,seamless:pe,selected:pe,shadowRootClonable:pe,shadowRootDelegatesFocus:pe,shadowRootMode:null,shape:null,size:Q,sizes:null,slot:null,span:Q,spellCheck:ot,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Q,step:null,style:null,tabIndex:Q,target:null,title:null,translate:null,type:null,typeMustMatch:pe,useMap:null,value:ot,width:Q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Me,axis:null,background:null,bgColor:null,border:Q,borderColor:null,bottomMargin:Q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pe,declare:pe,event:null,face:null,frame:null,frameBorder:null,hSpace:Q,leftMargin:Q,link:null,longDesc:null,lowSrc:null,marginHeight:Q,marginWidth:Q,noResize:pe,noHref:pe,noShade:pe,noWrap:pe,object:null,profile:null,prompt:null,rev:null,rightMargin:Q,rules:null,scheme:null,scrolling:ot,standby:null,summary:null,text:null,topMargin:Q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pe,disableRemotePlayback:pe,prefix:null,property:null,results:Q,security:null,unselectable:null},space:"html",transform:jN}),X3=ks({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gn,accentHeight:Q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Q,amplitude:Q,arabicForm:null,ascent:Q,attributeName:null,attributeType:null,azimuth:Q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Q,by:null,calcMode:null,capHeight:Q,className:Me,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Q,diffuseConstant:Q,direction:null,display:null,dur:null,divisor:Q,dominantBaseline:null,download:pe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Q,enableBackground:null,end:null,event:null,exponent:Q,externalResourcesRequired:null,fill:null,fillOpacity:Q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Bo,g2:Bo,glyphName:Bo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Q,horizOriginX:Q,horizOriginY:Q,id:null,ideographic:Q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Q,k:Q,k1:Q,k2:Q,k3:Q,k4:Q,kernelMatrix:gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Q,overlineThickness:Q,paintOrder:null,panose1:null,path:null,pathLength:Q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Me,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Q,pointsAtY:Q,pointsAtZ:Q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gn,rev:gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gn,requiredFeatures:gn,requiredFonts:gn,requiredFormats:gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Q,specularExponent:Q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Q,strikethroughThickness:Q,string:null,stroke:null,strokeDashArray:gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Q,strokeOpacity:Q,strokeWidth:null,style:null,surfaceScale:Q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gn,tabIndex:Q,tableValues:null,target:null,targetX:Q,targetY:Q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Q,underlineThickness:Q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Q,values:null,vAlphabetic:Q,vMathematical:Q,vectorEffect:null,vHanging:Q,vIdeographic:Q,version:null,vertAdvY:Q,vertOriginX:Q,vertOriginY:Q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:SN}),_N=ks({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),CN=ks({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jN}),EN=ks({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Q3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Z3=/[A-Z]/g,G1=/-[a-z]/g,eU=/^data[-\w.:]+$/i;function tU(e,t){const n=cv(t);let r=t,i=fn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&eU.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(G1,rU);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!G1.test(a)){let o=a.replace(Z3,nU);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=Nx}return new i(r,t)}function nU(e){return"-"+e.toLowerCase()}function rU(e){return e.charAt(1).toUpperCase()}const iU=wN([kN,J3,_N,CN,EN],"html"),Ox=wN([kN,X3,_N,CN,EN],"svg");function aU(e){return e.join(" ").trim()}var Ax={},Y1=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,oU=/\n/g,sU=/^\s*/,lU=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,cU=/^:\s*/,uU=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,dU=/^[;\s]*/,fU=/^\s+|\s+$/g,hU=`
`,J1="/",X1="*",ya="",pU="comment",mU="declaration",gU=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(m){var g=m.match(oU);g&&(n+=g.length);var v=m.lastIndexOf(hU);r=~v?m.length-v:r+m.length}function a(){var m={line:n,column:r};return function(g){return g.position=new o(m),c(),g}}function o(m){this.start=m,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(m){var g=new Error(t.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(m){var g=m.exec(e);if(g){var v=g[0];return i(v),e=e.slice(v.length),g}}function c(){l(sU)}function u(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=a();if(!(J1!=e.charAt(0)||X1!=e.charAt(1))){for(var g=2;ya!=e.charAt(g)&&(X1!=e.charAt(g)||J1!=e.charAt(g+1));)++g;if(g+=2,ya===e.charAt(g-1))return s("End of comment missing");var v=e.slice(2,g-2);return r+=2,i(v),e=e.slice(g),r+=2,m({type:pU,comment:v})}}function h(){var m=a(),g=l(lU);if(g){if(f(),!l(cU))return s("property missing ':'");var v=l(uU),y=m({type:mU,property:Q1(g[0].replace(Y1,ya)),value:v?Q1(v[0].replace(Y1,ya)):ya});return l(dU),y}}function p(){var m=[];u(m);for(var g;g=h();)g!==!1&&(m.push(g),u(m));return m}return c(),p()};function Q1(e){return e?e.replace(fU,ya):ya}var vU=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.default=xU;var yU=vU(gU);function xU(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,yU.default)(e),i=typeof t=="function";return r.forEach(function(a){if(a.type==="declaration"){var o=a.property,s=a.value;i?t(o,s,a):s&&(n=n||{},n[o]=s)}}),n}var ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.camelCase=void 0;var bU=/^--[a-zA-Z0-9_-]+$/,wU=/-([a-z])/g,kU=/^[^-]+$/,SU=/^-(webkit|moz|ms|o|khtml)-/,jU=/^-(ms)-/,_U=function(e){return!e||kU.test(e)||bU.test(e)},CU=function(e,t){return t.toUpperCase()},Z1=function(e,t){return"".concat(t,"-")},EU=function(e,t){return t===void 0&&(t={}),_U(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(jU,Z1):e=e.replace(SU,Z1),e.replace(wU,CU))};ch.camelCase=EU;var PU=zt&&zt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},NU=PU(Ax),OU=ch;function fv(e,t){var n={};return!e||typeof e!="string"||(0,NU.default)(e,function(r,i){r&&i&&(n[(0,OU.camelCase)(r,t)]=i)}),n}fv.default=fv;var AU=fv;const TU=On(AU),PN=NN("end"),Tx=NN("start");function NN(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function IU(e){const t=Tx(e),n=PN(e);if(t&&n)return{start:t,end:n}}function Nl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?ek(e.position):"start"in e||"end"in e?ek(e):"line"in e||"column"in e?hv(e):""}function hv(e){return tk(e&&e.line)+":"+tk(e&&e.column)}function ek(e){return hv(e&&e.start)+"-"+hv(e&&e.end)}function tk(e){return e&&typeof e=="number"?e:1}class Wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Nl(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const Ix={}.hasOwnProperty,DU=new Map,RU=/[A-Z]/g,MU=new Set(["table","tbody","thead","tfoot","tr"]),LU=new Set(["td","th"]),ON="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function $U(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=HU(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ox:iU,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=AN(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function AN(e,t,n){if(t.type==="element")return FU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return UU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return BU(e,t,n);if(t.type==="mdxjsEsm")return zU(e,t);if(t.type==="root")return WU(e,t,n);if(t.type==="text")return KU(e,t)}function FU(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Ox,e.schema=i),e.ancestors.push(t);const a=IN(e,t.tagName,!1),o=VU(e,t);let s=Rx(e,t);return MU.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!G3(l):!0})),TN(e,o,a,t),Dx(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function UU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}rc(e,t.position)}function zU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rc(e,t.position)}function BU(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Ox,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:IN(e,t.name,!0),o=GU(e,t),s=Rx(e,t);return TN(e,o,a,t),Dx(o,s),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function WU(e,t,n){const r={};return Dx(r,Rx(e,t)),e.create(t,e.Fragment,r,n)}function KU(e,t){return t.value}function TN(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Dx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function HU(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function qU(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=Tx(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function VU(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Ix.call(t.properties,i)){const a=YU(e,i,t.properties[i]);if(a){const[o,s]=a;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&LU.has(t.tagName)?r=s:n[o]=s}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function GU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const s=o.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else rc(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,a=e.evaluater.evaluateExpression(s.expression)}else rc(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function Rx(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:DU;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const s=AN(e,a,o);s!==void 0&&n.push(s)}return n}function YU(e,t,n){const r=tU(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?W3(n):aU(n)),r.property==="style"){let i=typeof n=="object"?n:JU(e,String(n));return e.stylePropertyNameCase==="css"&&(i=XU(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Q3[r.property]||r.property:r.attribute,n]}}function JU(e,t){try{return TU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=ON+"#cannot-parse-style-attribute",i}}function IN(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const s=H1(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(a&&s.type==="Literal"),optional:!1}:s}r=o}else r=H1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Ix.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);rc(e)}function rc(e,t){const n=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=ON+"#cannot-handle-mdx-estrees-without-createevaluater",n}function XU(e){const t={};let n;for(n in e)Ix.call(e,n)&&(t[QU(n)]=e[n]);return t}function QU(e){let t=e.replace(RU,ZU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ZU(e){return"-"+e.toLowerCase()}const om={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},ez={};function Mx(e,t){const n=t||ez,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return DN(e,r,i)}function DN(e,t,n){if(tz(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return nk(e.children,t,n)}return Array.isArray(e)?nk(e,t,n):""}function nk(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=DN(e[i],t,n);return r.join("")}function tz(e){return!!(e&&typeof e=="object")}const rk=document.createElement("i");function Lx(e){const t="&"+e+";";rk.innerHTML=t;const n=rk.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function jn(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Kn(e,t){return e.length>0?(jn(e,e.length,0,t),e):t}const ik={}.hasOwnProperty;function RN(e){const t={};let n=-1;for(;++n<e.length;)nz(t,e[n]);return t}function nz(e,t){let n;for(n in t){const i=(ik.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){ik.call(i,o)||(i[o]=[]);const s=a[o];rz(i[o],Array.isArray(s)?s:s?[s]:[])}}}function rz(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);jn(e,0,0,r)}function MN(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function hr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qt=Zi(/[A-Za-z]/),Ut=Zi(/[\dA-Za-z]/),iz=Zi(/[#-'*+\--9=?A-Z^-~]/);function qd(e){return e!==null&&(e<32||e===127)}const pv=Zi(/\d/),az=Zi(/[\dA-Fa-f]/),oz=Zi(/[!-/:-@[-`{-~]/);function de(e){return e!==null&&e<-2}function Te(e){return e!==null&&(e<0||e===32)}function ge(e){return e===-2||e===-1||e===32}const uh=Zi(/\p{P}|\p{S}/u),Wa=Zi(/\s/);function Zi(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ss(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Ut(e.charCodeAt(n+1))&&Ut(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function we(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return ge(l)?(e.enter(n),s(l)):t(l)}function s(l){return ge(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const sz={tokenize:lz};function lz(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),we(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return de(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const cz={tokenize:uz},ak={tokenize:dz};function uz(e){const t=this,n=[];let r=0,i,a,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const S=t.events.length;let j=S,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}y(r);let E=S;for(;E<t.events.length;)t.events[E][1].end={...k},E++;return jn(t.events,j+1,0,t.events.slice(S)),t.events.length=E,c(w)}return s(w)}function c(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return m(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(ak,u,f)(w)}function u(w){return i&&b(),y(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,m(w)}function h(w){return t.containerState={},e.attempt(ak,p,m)(w)}function p(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function m(w){if(w===null){i&&b(),y(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),g(w)}function g(w){if(w===null){v(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return de(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),g)}function v(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const E=t.events.length;let O=E,P,N;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){if(P){N=t.events[O][1].end;break}P=!0}for(y(r),k=E;k<t.events.length;)t.events[k][1].end={...N},k++;jn(t.events,O+1,0,t.events.slice(E)),t.events.length=k}}function y(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function dz(e,t,n){return we(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function es(e){if(e===null||Te(e)||Wa(e))return 1;if(uh(e))return 2}function dh(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const mv={name:"attention",resolveAll:fz,tokenize:hz};function fz(e,t){let n=-1,r,i,a,o,s,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};ok(f,-l),ok(h,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Kn(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Kn(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Kn(c,dh(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Kn(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=Kn(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,jn(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function hz(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=es(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),u=es(l),f=!u||u===2&&i||n.includes(l),h=!i||i===2&&u||n.includes(r);return c._open=!!(a===42?f:f&&(i||!h)),c._close=!!(a===42?h:h&&(u||!f)),t(l)}}function ok(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const pz={name:"autolink",tokenize:mz};function mz(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(p){return qt(p)?(e.consume(p),o):p===64?n(p):c(p)}function o(p){return p===43||p===45||p===46||Ut(p)?(r=1,s(p)):c(p)}function s(p){return p===58?(e.consume(p),r=0,l):(p===43||p===45||p===46||Ut(p))&&r++<32?(e.consume(p),s):(r=0,c(p))}function l(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||qd(p)?n(p):(e.consume(p),l)}function c(p){return p===64?(e.consume(p),u):iz(p)?(e.consume(p),c):n(p)}function u(p){return Ut(p)?f(p):n(p)}function f(p){return p===46?(e.consume(p),r=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Ut(p))&&r++<63){const m=p===45?h:f;return e.consume(p),m}return n(p)}}const Nc={partial:!0,tokenize:gz};function gz(e,t,n){return r;function r(a){return ge(a)?we(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||de(a)?t(a):n(a)}}const LN={continuation:{tokenize:yz},exit:xz,name:"blockQuote",tokenize:vz};function vz(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return ge(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function yz(e,t,n){const r=this;return i;function i(o){return ge(o)?we(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(LN,t,n)(o)}}function xz(e){e.exit("blockQuote")}const $N={name:"characterEscape",tokenize:bz};function bz(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return oz(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const FN={name:"characterReference",tokenize:wz};function wz(e,t,n){const r=this;let i=0,a,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Ut,u(f))}function c(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=az,u):(e.enter("characterReferenceValue"),a=7,o=pv,u(f))}function u(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return o===Ut&&!Lx(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),u):n(f)}}const sk={partial:!0,tokenize:Sz},lk={concrete:!0,name:"codeFenced",tokenize:kz};function kz(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,o=0,s;return l;function l(k){return c(k)}function c(k){const E=r.events[r.events.length-1];return a=E&&E[1].type==="linePrefix"?E[2].sliceSerialize(E[1],!0).length:0,s=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===s?(o++,e.consume(k),u):o<3?n(k):(e.exit("codeFencedFenceSequence"),ge(k)?we(e,f,"whitespace")(k):f(k))}function f(k){return k===null||de(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(sk,g,S)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||de(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):ge(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),we(e,p,"whitespace")(k)):k===96&&k===s?n(k):(e.consume(k),h)}function p(k){return k===null||de(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||de(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===s?n(k):(e.consume(k),m)}function g(k){return e.attempt(i,S,v)(k)}function v(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),y}function y(k){return a>0&&ge(k)?we(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||de(k)?e.check(sk,g,S)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||de(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),w)}function S(k){return e.exit("codeFenced"),t(k)}function j(k,E,O){let P=0;return N;function N(U){return k.enter("lineEnding"),k.consume(U),k.exit("lineEnding"),I}function I(U){return k.enter("codeFencedFence"),ge(U)?we(k,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):A(U)}function A(U){return U===s?(k.enter("codeFencedFenceSequence"),R(U)):O(U)}function R(U){return U===s?(P++,k.consume(U),R):P>=o?(k.exit("codeFencedFenceSequence"),ge(U)?we(k,M,"whitespace")(U):M(U)):O(U)}function M(U){return U===null||de(U)?(k.exit("codeFencedFence"),E(U)):O(U)}}}function Sz(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const sm={name:"codeIndented",tokenize:_z},jz={partial:!0,tokenize:Cz};function _z(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),we(e,a,"linePrefix",4+1)(c)}function a(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):de(c)?e.attempt(jz,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||de(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function Cz(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):de(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):we(e,a,"linePrefix",4+1)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):de(o)?i(o):n(o)}}const Ez={name:"codeText",previous:Nz,resolve:Pz,tokenize:Oz};function Pz(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Nz(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Oz(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,u(f)):de(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||de(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),c)}function u(f){return f===96?(e.consume(f),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",c(f))}}class Az{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Qs(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Qs(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Qs(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Qs(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Qs(this.left,n.reverse())}}}function Qs(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function UN(e){const t={};let n=-1,r,i,a,o,s,l,c;const u=new Az(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Tz(u,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=u.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},s=u.slice(i,n),s.unshift(r),u.splice(i,n-i+1,s))}}return jn(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Tz(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],c={};let u,f,h=-1,p=n,m=0,g=0;const v=[g];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),f&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(g=h+1,v.push(g),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):v.pop(),h=v.length;h--;){const y=s.slice(v[h],v[h+1]),b=a.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),h=-1;++h<l.length;)c[m+l[h][0]]=m+l[h][1],m+=l[h][1]-l[h][0]-1;return c}const Iz={resolve:Rz,tokenize:Mz},Dz={partial:!0,tokenize:Lz};function Rz(e){return UN(e),e}function Mz(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):de(s)?e.check(Dz,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Lz(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),we(e,a,"linePrefix")}function a(o){if(o===null||de(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function zN(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(y){return y===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(y),e.exit(a),h):y===null||y===32||y===41||qd(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(e.enter(a),e.consume(y),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(e.exit("chunkString"),e.exit(s),h(y)):y===null||y===60||de(y)?n(y):(e.consume(y),y===92?m:p)}function m(y){return y===60||y===62||y===92?(e.consume(y),p):p(y)}function g(y){return!u&&(y===null||y===41||Te(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):u<c&&y===40?(e.consume(y),u++,g):y===41?(e.consume(y),u--,g):y===null||y===32||y===40||qd(y)?n(y):(e.consume(y),y===92?v:g)}function v(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function BN(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(a),u}function u(p){return s>999||p===null||p===91||p===93&&!l||p===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(e.exit(a),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):de(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||de(p)||s++>999?(e.exit("chunkString"),u(p)):(e.consume(p),l||(l=!ge(p)),p===92?h:f)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,f):f(p)}}function WN(e,t,n,r,i,a){let o;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),o=h===40?41:h,l):n(h)}function l(h){return h===o?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),c(h))}function c(h){return h===o?(e.exit(a),l(o)):h===null?n(h):de(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),we(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===o||h===null||de(h)?(e.exit("chunkString"),c(h)):(e.consume(h),h===92?f:u)}function f(h){return h===o||h===92?(e.consume(h),u):u(h)}}function Ol(e,t){let n;return r;function r(i){return de(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ge(i)?we(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const $z={name:"definition",tokenize:Uz},Fz={partial:!0,tokenize:zz};function Uz(e,t,n){const r=this;let i;return a;function a(p){return e.enter("definition"),o(p)}function o(p){return BN.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),l):n(p)}function l(p){return Te(p)?Ol(e,c)(p):c(p)}function c(p){return zN(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(Fz,f,f)(p)}function f(p){return ge(p)?we(e,h,"whitespace")(p):h(p)}function h(p){return p===null||de(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function zz(e,t,n){return r;function r(s){return Te(s)?Ol(e,i)(s):n(s)}function i(s){return WN(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return ge(s)?we(e,o,"whitespace")(s):o(s)}function o(s){return s===null||de(s)?t(s):n(s)}}const Bz={name:"hardBreakEscape",tokenize:Wz};function Wz(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return de(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const Kz={name:"headingAtx",resolve:Hz,tokenize:qz};function Hz(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},jn(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function qz(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),a(u)}function a(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Te(u)?(e.exit("atxHeadingSequence"),s(u)):n(u)}function s(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||de(u)?(e.exit("atxHeading"),t(u)):ge(u)?we(e,s,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||Te(u)?(e.exit("atxHeadingText"),s(u)):(e.consume(u),c)}}const Vz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ck=["pre","script","style","textarea"],Gz={concrete:!0,name:"htmlFlow",resolveTo:Xz,tokenize:Qz},Yz={partial:!0,tokenize:eB},Jz={partial:!0,tokenize:Zz};function Xz(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Qz(e,t,n){const r=this;let i,a,o,s,l;return c;function c(_){return u(_)}function u(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),f}function f(_){return _===33?(e.consume(_),h):_===47?(e.consume(_),a=!0,g):_===63?(e.consume(_),i=3,r.interrupt?t:C):qt(_)?(e.consume(_),o=String.fromCharCode(_),v):n(_)}function h(_){return _===45?(e.consume(_),i=2,p):_===91?(e.consume(_),i=5,s=0,m):qt(_)?(e.consume(_),i=4,r.interrupt?t:C):n(_)}function p(_){return _===45?(e.consume(_),r.interrupt?t:C):n(_)}function m(_){const Y="CDATA[";return _===Y.charCodeAt(s++)?(e.consume(_),s===Y.length?r.interrupt?t:A:m):n(_)}function g(_){return qt(_)?(e.consume(_),o=String.fromCharCode(_),v):n(_)}function v(_){if(_===null||_===47||_===62||Te(_)){const Y=_===47,J=o.toLowerCase();return!Y&&!a&&ck.includes(J)?(i=1,r.interrupt?t(_):A(_)):Vz.includes(o.toLowerCase())?(i=6,Y?(e.consume(_),y):r.interrupt?t(_):A(_)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(_):a?b(_):w(_))}return _===45||Ut(_)?(e.consume(_),o+=String.fromCharCode(_),v):n(_)}function y(_){return _===62?(e.consume(_),r.interrupt?t:A):n(_)}function b(_){return ge(_)?(e.consume(_),b):N(_)}function w(_){return _===47?(e.consume(_),N):_===58||_===95||qt(_)?(e.consume(_),S):ge(_)?(e.consume(_),w):N(_)}function S(_){return _===45||_===46||_===58||_===95||Ut(_)?(e.consume(_),S):j(_)}function j(_){return _===61?(e.consume(_),k):ge(_)?(e.consume(_),j):w(_)}function k(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),l=_,E):ge(_)?(e.consume(_),k):O(_)}function E(_){return _===l?(e.consume(_),l=null,P):_===null||de(_)?n(_):(e.consume(_),E)}function O(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||Te(_)?j(_):(e.consume(_),O)}function P(_){return _===47||_===62||ge(_)?w(_):n(_)}function N(_){return _===62?(e.consume(_),I):n(_)}function I(_){return _===null||de(_)?A(_):ge(_)?(e.consume(_),I):n(_)}function A(_){return _===45&&i===2?(e.consume(_),B):_===60&&i===1?(e.consume(_),L):_===62&&i===4?(e.consume(_),V):_===63&&i===3?(e.consume(_),C):_===93&&i===5?(e.consume(_),F):de(_)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Yz,D,R)(_)):_===null||de(_)?(e.exit("htmlFlowData"),R(_)):(e.consume(_),A)}function R(_){return e.check(Jz,M,D)(_)}function M(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),U}function U(_){return _===null||de(_)?R(_):(e.enter("htmlFlowData"),A(_))}function B(_){return _===45?(e.consume(_),C):A(_)}function L(_){return _===47?(e.consume(_),o="",T):A(_)}function T(_){if(_===62){const Y=o.toLowerCase();return ck.includes(Y)?(e.consume(_),V):A(_)}return qt(_)&&o.length<8?(e.consume(_),o+=String.fromCharCode(_),T):A(_)}function F(_){return _===93?(e.consume(_),C):A(_)}function C(_){return _===62?(e.consume(_),V):_===45&&i===2?(e.consume(_),C):A(_)}function V(_){return _===null||de(_)?(e.exit("htmlFlowData"),D(_)):(e.consume(_),V)}function D(_){return e.exit("htmlFlow"),t(_)}}function Zz(e,t,n){const r=this;return i;function i(o){return de(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function eB(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Nc,t,n)}}const tB={name:"htmlText",tokenize:nB};function nB(e,t,n){const r=this;let i,a,o;return s;function s(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),l}function l(C){return C===33?(e.consume(C),c):C===47?(e.consume(C),j):C===63?(e.consume(C),w):qt(C)?(e.consume(C),O):n(C)}function c(C){return C===45?(e.consume(C),u):C===91?(e.consume(C),a=0,m):qt(C)?(e.consume(C),b):n(C)}function u(C){return C===45?(e.consume(C),p):n(C)}function f(C){return C===null?n(C):C===45?(e.consume(C),h):de(C)?(o=f,L(C)):(e.consume(C),f)}function h(C){return C===45?(e.consume(C),p):f(C)}function p(C){return C===62?B(C):C===45?h(C):f(C)}function m(C){const V="CDATA[";return C===V.charCodeAt(a++)?(e.consume(C),a===V.length?g:m):n(C)}function g(C){return C===null?n(C):C===93?(e.consume(C),v):de(C)?(o=g,L(C)):(e.consume(C),g)}function v(C){return C===93?(e.consume(C),y):g(C)}function y(C){return C===62?B(C):C===93?(e.consume(C),y):g(C)}function b(C){return C===null||C===62?B(C):de(C)?(o=b,L(C)):(e.consume(C),b)}function w(C){return C===null?n(C):C===63?(e.consume(C),S):de(C)?(o=w,L(C)):(e.consume(C),w)}function S(C){return C===62?B(C):w(C)}function j(C){return qt(C)?(e.consume(C),k):n(C)}function k(C){return C===45||Ut(C)?(e.consume(C),k):E(C)}function E(C){return de(C)?(o=E,L(C)):ge(C)?(e.consume(C),E):B(C)}function O(C){return C===45||Ut(C)?(e.consume(C),O):C===47||C===62||Te(C)?P(C):n(C)}function P(C){return C===47?(e.consume(C),B):C===58||C===95||qt(C)?(e.consume(C),N):de(C)?(o=P,L(C)):ge(C)?(e.consume(C),P):B(C)}function N(C){return C===45||C===46||C===58||C===95||Ut(C)?(e.consume(C),N):I(C)}function I(C){return C===61?(e.consume(C),A):de(C)?(o=I,L(C)):ge(C)?(e.consume(C),I):P(C)}function A(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),i=C,R):de(C)?(o=A,L(C)):ge(C)?(e.consume(C),A):(e.consume(C),M)}function R(C){return C===i?(e.consume(C),i=void 0,U):C===null?n(C):de(C)?(o=R,L(C)):(e.consume(C),R)}function M(C){return C===null||C===34||C===39||C===60||C===61||C===96?n(C):C===47||C===62||Te(C)?P(C):(e.consume(C),M)}function U(C){return C===47||C===62||Te(C)?P(C):n(C)}function B(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):n(C)}function L(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),T}function T(C){return ge(C)?we(e,F,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):F(C)}function F(C){return e.enter("htmlTextData"),o(C)}}const $x={name:"labelEnd",resolveAll:oB,resolveTo:sB,tokenize:lB},rB={tokenize:cB},iB={tokenize:uB},aB={tokenize:dB};function oB(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&jn(e,0,e.length,n),e}function sB(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=Kn(s,e.slice(a+1,a+r+3)),s=Kn(s,[["enter",u,t]]),s=Kn(s,dh(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Kn(s,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),s=Kn(s,e.slice(o+1)),s=Kn(s,[["exit",l,t]]),jn(e,a,e.length,s),e}function lB(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(h){return a?a._inactive?f(h):(o=r.parser.defined.includes(hr(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(rB,u,o?u:f)(h):h===91?e.attempt(iB,u,o?c:f)(h):o?u(h):f(h)}function c(h){return e.attempt(aB,u,f)(h)}function u(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function cB(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Te(f)?Ol(e,a)(f):a(f)}function a(f){return f===41?u(f):zN(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Te(f)?Ol(e,l)(f):u(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?WN(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return Te(f)?Ol(e,u)(f):u(f)}function u(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function uB(e,t,n){const r=this;return i;function i(s){return BN.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function dB(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const fB={name:"labelStartImage",resolveAll:$x.resolveAll,tokenize:hB};function hB(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const pB={name:"labelStartLink",resolveAll:$x.resolveAll,tokenize:mB};function mB(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const lm={name:"lineEnding",tokenize:gB};function gB(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),we(e,t,"linePrefix")}}const od={name:"thematicBreak",tokenize:vB};function vB(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||de(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),ge(c)?we(e,s,"whitespace")(c):s(c))}}const Zt={continuation:{tokenize:wB},exit:SB,name:"list",tokenize:bB},yB={partial:!0,tokenize:jB},xB={partial:!0,tokenize:kB};function bB(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(p){const m=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:pv(p)){if(r.containerState.type||(r.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(od,n,c)(p):c(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(p)}return n(p)}function l(p){return pv(p)&&++o<10?(e.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),c(p)):n(p)}function c(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Nc,r.interrupt?n:u,e.attempt(yB,h,f))}function u(p){return r.containerState.initialBlankLine=!0,a++,h(p)}function f(p){return ge(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function wB(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Nc,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,we(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!ge(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(xB,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,we(e,e.attempt(Zt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function kB(e,t,n){const r=this;return we(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function SB(e){e.exit(this.containerState.type)}function jB(e,t,n){const r=this;return we(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const o=r.events[r.events.length-1];return!ge(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const uk={name:"setextUnderline",resolveTo:_B,tokenize:CB};function _B(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function CB(e,t,n){const r=this;let i;return a;function a(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),ge(c)?we(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||de(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const EB={tokenize:PB};function PB(e){const t=this,n=e.attempt(Nc,r,e.attempt(this.parser.constructs.flowInitial,i,we(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Iz,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const NB={resolveAll:HN()},OB=KN("string"),AB=KN("text");function KN(e){return{resolveAll:HN(e==="text"?TB:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(u){return c(u)?a(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),a(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let h=-1;if(f)for(;++h<f.length;){const p=f[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function HN(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function TB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const IB={42:Zt,43:Zt,45:Zt,48:Zt,49:Zt,50:Zt,51:Zt,52:Zt,53:Zt,54:Zt,55:Zt,56:Zt,57:Zt,62:LN},DB={91:$z},RB={[-2]:sm,[-1]:sm,32:sm},MB={35:Kz,42:od,45:[uk,od],60:Gz,61:uk,95:od,96:lk,126:lk},LB={38:FN,92:$N},$B={[-5]:lm,[-4]:lm,[-3]:lm,33:fB,38:FN,42:mv,60:[pz,tB],91:pB,92:[Bz,$N],93:$x,95:mv,96:Ez},FB={null:[mv,NB]},UB={null:[42,95]},zB={null:[]},BB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:UB,contentInitial:DB,disable:zB,document:IB,flow:MB,flowInitial:RB,insideSpan:FB,string:LB,text:$B},Symbol.toStringTag,{value:"Module"}));function WB(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],s=[];const l={attempt:E(j),check:E(k),consume:b,enter:w,exit:S,interrupt:E(k,{interrupt:!0})},c={code:null,containerState:{},defineSkip:g,events:[],now:m,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:f};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function f(I){return o=Kn(o,I),v(),o[o.length-1]!==null?[]:(O(t,0),c.events=dh(a,c.events,c),c.events)}function h(I,A){return HB(p(I),A)}function p(I){return KB(o,I)}function m(){const{_bufferIndex:I,_index:A,line:R,column:M,offset:U}=r;return{_bufferIndex:I,_index:A,line:R,column:M,offset:U}}function g(I){i[I.line]=I.column,N()}function v(){let I;for(;r._index<o.length;){const A=o[r._index];if(typeof A=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<A.length;)y(A.charCodeAt(r._bufferIndex));else y(A)}}function y(I){u=u(I)}function b(I){de(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,N()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=I}function w(I,A){const R=A||{};return R.type=I,R.start=m(),c.events.push(["enter",R,c]),s.push(R),R}function S(I){const A=s.pop();return A.end=m(),c.events.push(["exit",A,c]),A}function j(I,A){O(I,A.from)}function k(I,A){A.restore()}function E(I,A){return R;function R(M,U,B){let L,T,F,C;return Array.isArray(M)?D(M):"tokenize"in M?D([M]):V(M);function V(te){return ce;function ce(Fe){const Z=Fe!==null&&te[Fe],G=Fe!==null&&te.null,ae=[...Array.isArray(Z)?Z:Z?[Z]:[],...Array.isArray(G)?G:G?[G]:[]];return D(ae)(Fe)}}function D(te){return L=te,T=0,te.length===0?B:_(te[T])}function _(te){return ce;function ce(Fe){return C=P(),F=te,te.partial||(c.currentConstruct=te),te.name&&c.parser.constructs.disable.null.includes(te.name)?J():te.tokenize.call(A?Object.assign(Object.create(c),A):c,l,Y,J)(Fe)}}function Y(te){return I(F,C),U}function J(te){return C.restore(),++T<L.length?_(L[T]):B}}}function O(I,A){I.resolveAll&&!a.includes(I)&&a.push(I),I.resolve&&jn(c.events,A,c.events.length-A,I.resolve(c.events.slice(A),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function P(){const I=m(),A=c.previous,R=c.currentConstruct,M=c.events.length,U=Array.from(s);return{from:M,restore:B};function B(){r=I,c.previous=A,c.currentConstruct=R,c.events.length=M,s=U,N()}}function N(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function KB(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function HB(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function qB(e){const r={constructs:RN([BB,...(e||{}).extensions||[]]),content:i(sz),defined:[],document:i(cz),flow:i(EB),lazy:{},string:i(OB),text:i(AB)};return r;function i(a){return o;function o(s){return WB(r,a,s)}}}function VB(e){for(;!UN(e););return e}const dk=/[\0\t\n\r]/g;function GB(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,u,f,h,p;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(dk.lastIndex=f,c=dk.exec(a),h=c&&c.index!==void 0?c.index:a.length,p=a.charCodeAt(h),!c){t=a.slice(f);break}if(p===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),p){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const YB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function JB(e){return e.replace(YB,XB)}function XB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return MN(n.slice(a?2:1),a?16:10)}return Lx(n)||e}const qN={}.hasOwnProperty;function QB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ZB(n)(VB(qB(n).document().write(GB()(e,t,!0))))}function ZB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(tu),autolinkProtocol:P,autolinkEmail:P,atxHeading:a(et),blockQuote:a(G),characterEscape:P,characterReference:P,codeFenced:a(ae),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ae,o),codeText:a(q,o),codeTextData:P,data:P,codeFlowValue:P,definition:a(at),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(Se),hardBreakEscape:a(W),hardBreakTrailing:a(W),htmlFlow:a(_e,o),htmlFlowData:P,htmlText:a(_e,o),htmlTextData:P,image:a(oo),label:o,link:a(tu),listItem:a(H),listItemValue:h,listOrdered:a(Us,f),listUnordered:a(Us),paragraph:a(oe),reference:_,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(et),strong:a(me),thematicBreak:a(Ve)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:Z,autolinkProtocol:Fe,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:J,characterReferenceMarkerNumeric:J,characterReferenceValue:te,characterReference:ce,codeFenced:l(v),codeFencedFence:g,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:N,codeIndented:l(y),codeText:l(U),codeTextData:N,data:N,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(A),hardBreakTrailing:l(A),htmlFlow:l(R),htmlFlowData:N,htmlText:l(M),htmlTextData:N,image:l(L),label:F,labelText:T,lineEnding:I,link:l(B),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:C,resourceTitleString:V,resource:D,setextHeading:l(O),setextHeadingLineSequence:E,setextHeadingText:k,strong:l(),thematicBreak:l()}};VN(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(K){let ee={type:"root",children:[]};const se={stack:[ee],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:u,data:n},be=[];let Oe=-1;for(;++Oe<K.length;)if(K[Oe][1].type==="listOrdered"||K[Oe][1].type==="listUnordered")if(K[Oe][0]==="enter")be.push(Oe);else{const tr=be.pop();Oe=i(K,tr,Oe)}for(Oe=-1;++Oe<K.length;){const tr=t[K[Oe][0]];qN.call(tr,K[Oe][1].type)&&tr[K[Oe][1].type].call(Object.assign({sliceSerialize:K[Oe][2].sliceSerialize},se),K[Oe][1])}if(se.tokenStack.length>0){const tr=se.tokenStack[se.tokenStack.length-1];(tr[1]||fk).call(se,void 0,tr[0])}for(ee.position={start:xi(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:xi(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},Oe=-1;++Oe<t.transforms.length;)ee=t.transforms[Oe](ee)||ee;return ee}function i(K,ee,se){let be=ee-1,Oe=-1,tr=!1,aa,$r,zs,Bs;for(;++be<=se;){const mn=K[be];switch(mn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mn[0]==="enter"?Oe++:Oe--,Bs=void 0;break}case"lineEndingBlank":{mn[0]==="enter"&&(aa&&!Bs&&!Oe&&!zs&&(zs=be),Bs=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bs=void 0}if(!Oe&&mn[0]==="enter"&&mn[1].type==="listItemPrefix"||Oe===-1&&mn[0]==="exit"&&(mn[1].type==="listUnordered"||mn[1].type==="listOrdered")){if(aa){let so=be;for($r=void 0;so--;){const Fr=K[so];if(Fr[1].type==="lineEnding"||Fr[1].type==="lineEndingBlank"){if(Fr[0]==="exit")continue;$r&&(K[$r][1].type="lineEndingBlank",tr=!0),Fr[1].type="lineEnding",$r=so}else if(!(Fr[1].type==="linePrefix"||Fr[1].type==="blockQuotePrefix"||Fr[1].type==="blockQuotePrefixWhitespace"||Fr[1].type==="blockQuoteMarker"||Fr[1].type==="listItemIndent"))break}zs&&(!$r||zs<$r)&&(aa._spread=!0),aa.end=Object.assign({},$r?K[$r][1].start:mn[1].end),K.splice($r||be,0,["exit",aa,mn[2]]),be++,se++}if(mn[1].type==="listItemPrefix"){const so={type:"listItem",_spread:!1,start:Object.assign({},mn[1].start),end:void 0};aa=so,K.splice(be,0,["enter",so,mn[2]]),be++,se++,zs=void 0,Bs=!0}}}return K[ee][1]._spread=tr,se}function a(K,ee){return se;function se(be){s.call(this,K(be),be),ee&&ee.call(this,be)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(K,ee,se){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([ee,se||void 0]),K.position={start:xi(ee.start),end:void 0}}function l(K){return ee;function ee(se){K&&K.call(this,se),c.call(this,se)}}function c(K,ee){const se=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==K.type&&(ee?ee.call(this,K,be[0]):(be[1]||fk).call(this,K,be[0]));else throw new Error("Cannot close `"+K.type+"` ("+Nl({start:K.start,end:K.end})+"): it’s not open");se.position.end=xi(K.end)}function u(){return Mx(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(K){if(this.data.expectingFirstListItemValue){const ee=this.stack[this.stack.length-2];ee.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function p(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.lang=K}function m(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.meta=K}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K.replace(/(\r?\n|\r)$/g,"")}function b(K){const ee=this.resume(),se=this.stack[this.stack.length-1];se.label=ee,se.identifier=hr(this.sliceSerialize(K)).toLowerCase()}function w(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function S(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function j(K){const ee=this.stack[this.stack.length-1];if(!ee.depth){const se=this.sliceSerialize(K).length;ee.depth=se}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function E(K){const ee=this.stack[this.stack.length-1];ee.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function O(){this.data.setextHeadingSlurpLineEnding=void 0}function P(K){const se=this.stack[this.stack.length-1].children;let be=se[se.length-1];(!be||be.type!=="text")&&(be=Xe(),be.position={start:xi(K.start),end:void 0},se.push(be)),this.stack.push(be)}function N(K){const ee=this.stack.pop();ee.value+=this.sliceSerialize(K),ee.position.end=xi(K.end)}function I(K){const ee=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=ee.children[ee.children.length-1];se.position.end=xi(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ee.type)&&(P.call(this,K),N.call(this,K))}function A(){this.data.atHardBreak=!0}function R(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function M(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function U(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.value=K}function B(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function L(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const ee=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=ee,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function T(K){const ee=this.sliceSerialize(K),se=this.stack[this.stack.length-2];se.label=JB(ee),se.identifier=hr(ee).toLowerCase()}function F(){const K=this.stack[this.stack.length-1],ee=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const be=K.children;se.children=be}else se.alt=ee}function C(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.url=K}function V(){const K=this.resume(),ee=this.stack[this.stack.length-1];ee.title=K}function D(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function Y(K){const ee=this.resume(),se=this.stack[this.stack.length-1];se.label=ee,se.identifier=hr(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function J(K){this.data.characterReferenceType=K.type}function te(K){const ee=this.sliceSerialize(K),se=this.data.characterReferenceType;let be;se?(be=MN(ee,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Lx(ee);const Oe=this.stack[this.stack.length-1];Oe.value+=be}function ce(K){const ee=this.stack.pop();ee.position.end=xi(K.end)}function Fe(K){N.call(this,K);const ee=this.stack[this.stack.length-1];ee.url=this.sliceSerialize(K)}function Z(K){N.call(this,K);const ee=this.stack[this.stack.length-1];ee.url="mailto:"+this.sliceSerialize(K)}function G(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function q(){return{type:"inlineCode",value:""}}function at(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function et(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function _e(){return{type:"html",value:""}}function oo(){return{type:"image",title:null,url:"",alt:null}}function tu(){return{type:"link",title:null,url:"",children:[]}}function Us(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function H(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function oe(){return{type:"paragraph",children:[]}}function me(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function Ve(){return{type:"thematicBreak"}}}function xi(e){return{line:e.line,column:e.column,offset:e.offset}}function VN(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?VN(e,r):e5(e,r)}}function e5(e,t){let n;for(n in t)if(qN.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function fk(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Nl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Nl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Nl({start:t.start,end:t.end})+") is still open")}function t5(e){const t=this;t.parser=n;function n(r){return QB(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function n5(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function r5(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function i5(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function a5(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function o5(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function s5(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Ss(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function l5(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function c5(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function GN(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function u5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return GN(e,t);const i={src:Ss(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function d5(e,t){const n={src:Ss(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function f5(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function h5(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return GN(e,t);const i={href:Ss(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function p5(e,t){const n={href:Ss(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function m5(e,t,n){const r=e.all(t),i=n?g5(n):YN(t),a={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const u=r[s];(i||s!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function g5(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=YN(n[r])}return t}function YN(e){const t=e.spread;return t??e.children.length>1}function v5(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function y5(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function x5(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function b5(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function w5(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Tx(t.children[1]),l=PN(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function k5(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const f=t.children[l],h={},p=o?o[l]:void 0;p&&(h.align=p);let m={type:"element",tagName:a,properties:h,children:[]};f&&(m.children=e.all(f),e.patch(f,m),m=e.applyData(f,m)),c.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function S5(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const hk=9,pk=32;function j5(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(mk(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(mk(t.slice(i),i>0,!1)),a.join("")}function mk(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===hk||a===pk;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===hk||a===pk;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function _5(e,t){const n={type:"text",value:j5(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function C5(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const E5={blockquote:n5,break:r5,code:i5,delete:a5,emphasis:o5,footnoteReference:s5,heading:l5,html:c5,imageReference:u5,image:d5,inlineCode:f5,linkReference:h5,link:p5,listItem:m5,list:v5,paragraph:y5,root:x5,strong:b5,table:w5,tableCell:S5,tableRow:k5,text:_5,thematicBreak:C5,toml:ju,yaml:ju,definition:ju,footnoteDefinition:ju};function ju(){}const JN=-1,fh=0,Al=1,Vd=2,Fx=3,Ux=4,zx=5,Bx=6,XN=7,QN=8,gk=typeof self=="object"?self:globalThis,P5=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case fh:case JN:return n(o,i);case Al:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Vd:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case Fx:return n(new Date(o),i);case Ux:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case zx:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case Bx:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case XN:{const{name:s,message:l}=o;return n(new gk[s](l),i)}case QN:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new gk[a](o),i)};return r},vk=e=>P5(new Map,e)(0),go="",{toString:N5}={},{keys:O5}=Object,Zs=e=>{const t=typeof e;if(t!=="object"||!e)return[fh,t];const n=N5.call(e).slice(8,-1);switch(n){case"Array":return[Al,go];case"Object":return[Vd,go];case"Date":return[Fx,go];case"RegExp":return[Ux,go];case"Map":return[zx,go];case"Set":return[Bx,go];case"DataView":return[Al,n]}return n.includes("Array")?[Al,n]:n.includes("Error")?[XN,n]:[Vd,n]},_u=([e,t])=>e===fh&&(t==="function"||t==="symbol"),A5=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Zs(o);switch(s){case fh:{let u=o;switch(l){case"bigint":s=QN,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([JN],o)}return i([s,u],o)}case Al:{if(l){let h=o;return l==="DataView"?h=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(o)),i([l,[...h]],o)}const u=[],f=i([s,u],o);for(const h of o)u.push(a(h));return f}case Vd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const u=[],f=i([s,u],o);for(const h of O5(o))(e||!_u(Zs(o[h])))&&u.push([a(h),a(o[h])]);return f}case Fx:return i([s,o.toISOString()],o);case Ux:{const{source:u,flags:f}=o;return i([s,{source:u,flags:f}],o)}case zx:{const u=[],f=i([s,u],o);for(const[h,p]of o)(e||!(_u(Zs(h))||_u(Zs(p))))&&u.push([a(h),a(p)]);return f}case Bx:{const u=[],f=i([s,u],o);for(const h of o)(e||!_u(Zs(h)))&&u.push(a(h));return f}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},yk=(e,{json:t,lossy:n}={})=>{const r=[];return A5(!(t||n),!!t,new Map,r)(e),r},Gd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?vk(yk(e,t)):structuredClone(e):(e,t)=>vk(yk(e,t));function T5(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function I5(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function D5(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||T5,r=e.options.footnoteBackLabel||I5,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),f=String(c.identifier).toUpperCase(),h=Ss(f.toLowerCase());let p=0;const m=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++p<=g;){m.length>0&&m.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,p);typeof b=="string"&&(b={type:"text",value:b}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const v=u[u.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const b=v.children[v.children.length-1];b&&b.type==="text"?b.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...m)}else u.push(...m);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(c,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Gd(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const hh=function(e){if(e==null)return $5;if(typeof e=="function")return ph(e);if(typeof e=="object")return Array.isArray(e)?R5(e):M5(e);if(typeof e=="string")return L5(e);throw new Error("Expected function, string, or object as test")};function R5(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hh(e[n]);return ph(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function M5(e){const t=e;return ph(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function L5(e){return ph(t);function t(n){return n&&n.type===e}}function ph(e){return t;function t(n,r,i){return!!(F5(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function $5(){return!0}function F5(e){return e!==null&&typeof e=="object"&&"type"in e}const ZN=[],U5=!0,gv=!1,z5="skip";function eO(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=hh(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=ZN,m,g,v;if((!t||a(l,c,u[u.length-1]||void 0))&&(p=B5(n(l,u)),p[0]===gv))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==z5)for(g=(r?y.children.length:-1)+o,v=u.concat(y);g>-1&&g<y.children.length;){const b=y.children[g];if(m=s(b,g,v)(),m[0]===gv)return m;g=typeof m[1]=="number"?m[1]:g+o}}return p}}}function B5(e){return Array.isArray(e)?e:typeof e=="number"?[U5,e]:e==null?ZN:[e]}function Wx(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),eO(e,a,s,i);function s(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return o(l,f,u)}}const vv={}.hasOwnProperty,W5={};function K5(e,t){const n=t||W5,r=new Map,i=new Map,a=new Map,o={...E5,...n.handlers},s={all:c,applyData:q5,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:H5,wrap:G5};return Wx(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,h=String(u.identifier).toUpperCase();f.has(h)||f.set(h,u)}}),s;function l(u,f){const h=u.type,p=s.handlers[h];if(vv.call(s.handlers,h)&&p)return p(s,u,f);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in u){const{children:g,...v}=u,y=Gd(v);return y.children=s.all(u),y}return Gd(u)}return(s.options.unknownHandler||V5)(s,u,f)}function c(u){const f=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const m=s.one(h[p],u);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=xk(m.value)),!Array.isArray(m)&&m.type==="element")){const g=m.children[0];g&&g.type==="text"&&(g.value=xk(g.value))}Array.isArray(m)?f.push(...m):f.push(m)}}}return f}}function H5(e,t){e.position&&(t.position=IU(e))}function q5(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Gd(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function V5(e,t){const n=t.data||{},r="value"in t&&!(vv.call(n,"hProperties")||vv.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function G5(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function xk(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function bk(e,t){const n=K5(e,t),r=n.one(e,void 0),i=D5(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Y5(e,t){return e&&"run"in e?async function(n,r){const i=bk(n,{file:r,...t});await e.run(i,r)}:function(n,r){return bk(n,{file:r,...e||t})}}function wk(e){if(e)throw e}var sd=Object.prototype.hasOwnProperty,tO=Object.prototype.toString,kk=Object.defineProperty,Sk=Object.getOwnPropertyDescriptor,jk=function(t){return typeof Array.isArray=="function"?Array.isArray(t):tO.call(t)==="[object Array]"},_k=function(t){if(!t||tO.call(t)!=="[object Object]")return!1;var n=sd.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&sd.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||sd.call(t,i)},Ck=function(t,n){kk&&n.name==="__proto__"?kk(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},Ek=function(t,n){if(n==="__proto__")if(sd.call(t,n)){if(Sk)return Sk(t,n).value}else return;return t[n]},J5=function e(){var t,n,r,i,a,o,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=Ek(s,n),i=Ek(t,n),s!==i&&(u&&i&&(_k(i)||(a=jk(i)))?(a?(a=!1,o=r&&jk(r)?r:[]):o=r&&_k(r)?r:{},Ck(s,{name:n,newValue:e(u,o,i)})):typeof i<"u"&&Ck(s,{name:n,newValue:i}));return s};const cm=On(J5);function yv(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function X5(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const u=e[++a];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?Q5(u,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Q5(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(s&&n)throw u;return i(u)}s||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const jr={basename:Z5,dirname:e8,extname:t8,join:n8,sep:"/"};function Z5(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Oc(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function e8(e){if(Oc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function t8(e){Oc(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function n8(...e){let t=-1,n;for(;++t<e.length;)Oc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":r8(n)}function r8(e){Oc(e);const t=e.codePointAt(0)===47;let n=i8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function i8(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Oc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const a8={cwd:o8};function o8(){return"/"}function xv(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function s8(e){if(typeof e=="string")e=new URL(e);else if(!xv(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return l8(e)}function l8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const um=["history","path","basename","stem","extname","dirname"];class nO{constructor(t){let n;t?xv(t)?n={path:t}:typeof t=="string"||c8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":a8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<um.length;){const a=um[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)um.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?jr.basename(this.path):void 0}set basename(t){fm(t,"basename"),dm(t,"basename"),this.path=jr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?jr.dirname(this.path):void 0}set dirname(t){Pk(this.basename,"dirname"),this.path=jr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?jr.extname(this.path):void 0}set extname(t){if(dm(t,"extname"),Pk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){xv(t)&&(t=s8(t)),fm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?jr.basename(this.path,this.extname):void 0}set stem(t){fm(t,"stem"),dm(t,"stem"),this.path=jr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Wt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function dm(e,t){if(e&&e.includes(jr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jr.sep+"`")}function fm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Pk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function c8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const u8=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},d8={}.hasOwnProperty;class Kx extends u8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=X5()}copy(){const t=new Kx;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(cm(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(mm("data",this.frozen),this.namespace[t]=n,this):d8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(mm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Cu(t),r=this.parser||this.Parser;return hm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),hm("process",this.parser||this.Parser),pm("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=Cu(t),l=r.parse(s);r.run(l,s,function(u,f,h){if(u||!f||!h)return c(u);const p=f,m=r.stringify(p,h);p8(m)?h.value=m:h.result=m,c(u,h)});function c(u,f){u||!f?o(u):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),hm("processSync",this.parser||this.Parser),pm("processSync",this.compiler||this.Compiler),this.process(t,i),Ok("processSync","process",n),r;function i(a,o){n=!0,wk(a),r=o}}run(t,n,r){Nk(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=Cu(n);i.run(t,l,c);function c(u,f,h){const p=f||t;u?s(u):o?o(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),Ok("runSync","run",r),i;function a(o,s){wk(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=Cu(n),i=this.compiler||this.Compiler;return pm("stringify",i),Nk(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(mm("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=cm(!0,i.settings,c.settings))}function s(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];a(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===c){h=f;break}if(h===-1)r.push([c,...u]);else if(u.length>0){let[p,...m]=u;const g=r[h][1];yv(g)&&yv(p)&&(p=cm(!0,g,p)),r[h]=[c,p,...m]}}}}const f8=new Kx().freeze();function hm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function pm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function mm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Nk(e){if(!yv(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Ok(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Cu(e){return h8(e)?e:new nO(e)}function h8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function p8(e){return typeof e=="string"||m8(e)}function m8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const g8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ak=[],Tk={allowDangerousHtml:!0},v8=/^(https?|ircs?|mailto|xmpp)$/i,y8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function x8(e){const t=b8(e),n=w8(e);return k8(t.runSync(t.parse(n),n),e)}function b8(e){const t=e.rehypePlugins||Ak,n=e.remarkPlugins||Ak,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Tk}:Tk;return f8().use(t5).use(n).use(Y5,r).use(t)}function w8(e){const t=e.children||"",n=new nO;return typeof t=="string"&&(n.value=t),n}function k8(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||S8;for(const u of y8)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+g8+u.id,void 0);return Wx(e,c),$U(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function c(u,f,h){if(u.type==="raw"&&h&&typeof f=="number")return o?h.children.splice(f,1):h.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let p;for(p in om)if(Object.hasOwn(om,p)&&Object.hasOwn(u.properties,p)){const m=u.properties[p],g=om[p];(g===null||g.includes(u.tagName))&&(u.properties[p]=l(String(m||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):a?a.includes(u.tagName):!1;if(!p&&r&&typeof f=="number"&&(p=!r(u,f,h)),p&&h&&typeof f=="number")return s&&u.children?h.children.splice(f,1,...u.children):h.children.splice(f,1),f}}}function S8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||v8.test(e.slice(0,t))?e:""}function Ik(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function j8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function _8(e,t,n){const i=hh((n||{}).ignore||[]),a=C8(t);let o=-1;for(;++o<a.length;)eO(e,"text",s);function s(c,u){let f=-1,h;for(;++f<u.length;){const p=u[f],m=h?h.children:void 0;if(i(p,m?m.indexOf(p):void 0,h))return;h=p}if(h)return l(c,u)}function l(c,u){const f=u[u.length-1],h=a[o][0],p=a[o][1];let m=0;const v=f.children.indexOf(c);let y=!1,b=[];h.lastIndex=0;let w=h.exec(c.value);for(;w;){const S=w.index,j={index:w.index,input:w.input,stack:[...u,c]};let k=p(...w,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=S+1:(m!==S&&b.push({type:"text",value:c.value.slice(m,S)}),Array.isArray(k)?b.push(...k):k&&b.push(k),m=S+w[0].length,y=!0),!h.global)break;w=h.exec(c.value)}return y?(m<c.value.length&&b.push({type:"text",value:c.value.slice(m)}),f.children.splice(v,1,...b)):b=[c],v+b.length}}function C8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([E8(i[0]),P8(i[1])])}return t}function E8(e){return typeof e=="string"?new RegExp(j8(e),"g"):e}function P8(e){return typeof e=="function"?e:function(){return e}}const gm="phrasing",vm=["autolink","link","image","label"];function N8(){return{transforms:[M8],enter:{literalAutolink:A8,literalAutolinkEmail:ym,literalAutolinkHttp:ym,literalAutolinkWww:ym},exit:{literalAutolink:R8,literalAutolinkEmail:D8,literalAutolinkHttp:T8,literalAutolinkWww:I8}}}function O8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:gm,notInConstruct:vm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:gm,notInConstruct:vm},{character:":",before:"[ps]",after:"\\/",inConstruct:gm,notInConstruct:vm}]}}function A8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ym(e){this.config.enter.autolinkProtocol.call(this,e)}function T8(e){this.config.exit.autolinkProtocol.call(this,e)}function I8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function D8(e){this.config.exit.autolinkEmail.call(this,e)}function R8(e){this.exit(e)}function M8(e){_8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,L8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),$8]],{ignore:["link","linkReference"]})}function L8(e,t,n,r,i){let a="";if(!rO(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!F8(n)))return!1;const o=U8(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function $8(e,t,n,r){return!rO(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function F8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function U8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=Ik(e,"(");let a=Ik(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function rO(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Wa(n)||uh(n))&&(!t||n!==47)}iO.peek=Y8;function z8(){this.buffer()}function B8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function W8(){this.buffer()}function K8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function H8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function q8(e){this.exit(e)}function V8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(e)).toLowerCase(),n.label=t}function G8(e){this.exit(e)}function Y8(){return"["}function iO(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),s(),o(),a+=i.move("]"),a}function J8(){return{enter:{gfmFootnoteCallString:z8,gfmFootnoteCall:B8,gfmFootnoteDefinitionLabelString:W8,gfmFootnoteDefinition:K8},exit:{gfmFootnoteCallString:H8,gfmFootnoteCall:q8,gfmFootnoteDefinitionLabelString:V8,gfmFootnoteDefinition:G8}}}function X8(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:iO},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const s=a.createTracker(o);let l=s.move("[^");const c=a.enter("footnoteDefinition"),u=a.enter("label");return l+=s.move(a.safe(a.associationId(r),{before:l,after:"]"})),u(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,s.current()),t?aO:Q8))),c(),l}}function Q8(e,t,n){return t===0?e:aO(e,t,n)}function aO(e,t,n){return(n?"":"    ")+e}const Z8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];oO.peek=i6;function e6(){return{canContainEols:["delete"],enter:{strikethrough:n6},exit:{strikethrough:r6}}}function t6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Z8}],handlers:{delete:oO}}}function n6(e){this.enter({type:"delete",children:[]},e)}function r6(e){this.exit(e)}function oO(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function i6(){return"~"}function a6(e){return e.length}function o6(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||a6,a=[],o=[],s=[],l=[];let c=0,u=-1;for(;++u<e.length;){const g=[],v=[];let y=-1;for(e[u].length>c&&(c=e[u].length);++y<e[u].length;){const b=s6(e[u][y]);if(n.alignDelimiters!==!1){const w=i(b);v[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}g.push(b)}o[u]=g,s[u]=v}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<c;)a[f]=Dk(r[f]);else{const g=Dk(r);for(;++f<c;)a[f]=g}f=-1;const h=[],p=[];for(;++f<c;){const g=a[f];let v="",y="";g===99?(v=":",y=":"):g===108?v=":":g===114&&(y=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-v.length-y.length);const w=v+"-".repeat(b)+y;n.alignDelimiters!==!1&&(b=v.length+b+y.length,b>l[f]&&(l[f]=b),p[f]=b),h[f]=w}o.splice(1,0,h),s.splice(1,0,p),u=-1;const m=[];for(;++u<o.length;){const g=o[u],v=s[u];f=-1;const y=[];for(;++f<c;){const b=g[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(v[f]||0),k=a[f];k===114?w=" ".repeat(j):k===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(b),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&y.push("|")}m.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return m.join(`
`)}function s6(e){return e==null?"":String(e)}function Dk(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function l6(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),c6);return i(),o}function c6(e,t,n){return">"+(n?"":" ")+e}function u6(e,t){return Rk(e,t.inConstruct,!0)&&!Rk(e,t.notInConstruct,!1)}function Rk(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Mk(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&u6(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function d6(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function f6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function h6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function p6(e,t,n,r){const i=h6(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(f6(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,m6);return f(),h}const s=n.createTracker(r),l=i.repeat(Math.max(d6(a,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);u+=s.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);u+=s.move(" "),u+=s.move(n.safe(e.meta,{before:u,after:`
`,encode:["`"],...s.current()})),f()}return u+=s.move(`
`),a&&(u+=s.move(a+`
`)),u+=s.move(l),c(),u}function m6(e,t,n){return(n?"":"    ")+e}function Hx(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function g6(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),o(),c}function v6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ic(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Yd(e,t,n){const r=es(e),i=es(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}sO.peek=y6;function sO(e,t,n,r){const i=v6(n),a=n.enter("emphasis"),o=n.createTracker(r),s=o.move(i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Yd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=ic(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Yd(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+ic(f));const p=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function y6(e,t,n){return n.options.emphasis||"*"}function x6(e,t){let n=!1;return Wx(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,gv}),!!((!e.depth||e.depth<3)&&Mx(e)&&(t.options.setext||n))}function b6(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(x6(e,n)){const u=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),u(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const o="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");a.move(o+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(c)&&(c=ic(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),s(),c}lO.peek=w6;function lO(e){return e.value||""}function w6(){return"<"}cO.peek=k6;function cO(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),o(),c}function k6(){return"!"}uO.peek=S6;function uO(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const c=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function S6(){return"!"}dO.peek=j6;function dO(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function j6(){return"`"}function fO(e,t){const n=Mx(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}hO.peek=_6;function hO(e,t,n,r){const i=Hx(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(fO(e,n)){const u=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=u,f}s=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(e,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(e.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(e.url,{before:c,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=o.move(" "+i),c+=o.move(n.safe(e.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),s(),c}function _6(e,t,n){return fO(e,n)?"<":"["}pO.peek=C6;function pO(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),o();const u=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=u,a(),i==="full"||!c||c!==f?l+=s.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function C6(){return"["}function qx(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function E6(e){const t=qx(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function P6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function mO(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function N6(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?P6(n):qx(n);const s=e.ordered?o==="."?")":".":E6(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),mO(n)===o&&u){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const c=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),c}function O6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function A6(e,t,n,r){const i=O6(n);let a=n.bulletCurrent||qx(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(a+" ".repeat(o-a.length)),s.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,s.current()),u);return l(),c;function u(f,h,p){return h?(p?"":" ".repeat(o))+f:(p?a:a+" ".repeat(o-a.length))+f}}function T6(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const I6=hh(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function D6(e,t,n,r){return(e.children.some(function(o){return I6(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function R6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}gO.peek=M6;function gO(e,t,n,r){const i=R6(n),a=n.enter("strong"),o=n.createTracker(r),s=o.move(i+i);let l=o.move(n.containerPhrasing(e,{after:i,before:s,...o.current()}));const c=l.charCodeAt(0),u=Yd(r.before.charCodeAt(r.before.length-1),c,i);u.inside&&(l=ic(c)+l.slice(1));const f=l.charCodeAt(l.length-1),h=Yd(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+ic(f));const p=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:u.outside},s+l+p}function M6(e,t,n){return n.options.strong||"*"}function L6(e,t,n,r){return n.safe(e.value,r)}function $6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function F6(e,t,n){const r=(mO(n)+(n.options.ruleSpaces?" ":"")).repeat($6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const vO={blockquote:l6,break:Mk,code:p6,definition:g6,emphasis:sO,hardBreak:Mk,heading:b6,html:lO,image:cO,imageReference:uO,inlineCode:dO,link:hO,linkReference:pO,list:N6,listItem:A6,paragraph:T6,root:D6,strong:gO,text:L6,thematicBreak:F6};function U6(){return{enter:{table:z6,tableData:Lk,tableHeader:Lk,tableRow:W6},exit:{codeText:K6,table:B6,tableData:xm,tableHeader:xm,tableRow:xm}}}function z6(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function B6(e){this.exit(e),this.data.inTable=void 0}function W6(e){this.enter({type:"tableRow",children:[]},e)}function xm(e){this.exit(e)}function Lk(e){this.enter({type:"tableCell",children:[]},e)}function K6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,H6));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function H6(e,t){return t==="|"?t:e}function q6(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:o,tableCell:l,tableRow:s}};function o(p,m,g,v){return c(u(p,g,v),p.align)}function s(p,m,g,v){const y=f(p,g,v),b=c([y]);return b.slice(0,b.indexOf(`
`))}function l(p,m,g,v){const y=g.enter("tableCell"),b=g.enter("phrasing"),w=g.containerPhrasing(p,{...v,before:a,after:a});return b(),y(),w}function c(p,m){return o6(p,{align:m,alignDelimiters:r,padding:n,stringLength:i})}function u(p,m,g){const v=p.children;let y=-1;const b=[],w=m.enter("table");for(;++y<v.length;)b[y]=f(v[y],m,g);return w(),b}function f(p,m,g){const v=p.children;let y=-1;const b=[],w=m.enter("tableRow");for(;++y<v.length;)b[y]=l(v[y],p,m,g);return w(),b}function h(p,m,g){let v=vO.inlineCode(p,m,g);return g.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function V6(){return{exit:{taskListCheckValueChecked:$k,taskListCheckValueUnchecked:$k,paragraph:Y6}}}function G6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:J6}}}function $k(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Y6(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const s=i[a];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function J6(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);a&&s.move(o);let l=vO.listItem(e,t,n,{...r,...s.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+o}}function X6(){return[N8(),J8(),e6(),U6(),V6()]}function Q6(e){return{extensions:[O8(),X8(e),t6(),q6(e),G6()]}}const Z6={tokenize:a9,partial:!0},yO={tokenize:o9,partial:!0},xO={tokenize:s9,partial:!0},bO={tokenize:l9,partial:!0},e9={tokenize:c9,partial:!0},wO={name:"wwwAutolink",tokenize:r9,previous:SO},kO={name:"protocolAutolink",tokenize:i9,previous:jO},ui={name:"emailAutolink",tokenize:n9,previous:_O},Lr={};function t9(){return{text:Lr}}let la=48;for(;la<123;)Lr[la]=ui,la++,la===58?la=65:la===91&&(la=97);Lr[43]=ui;Lr[45]=ui;Lr[46]=ui;Lr[95]=ui;Lr[72]=[ui,kO];Lr[104]=[ui,kO];Lr[87]=[ui,wO];Lr[119]=[ui,wO];function n9(e,t,n){const r=this;let i,a;return o;function o(f){return!bv(f)||!_O.call(r,r.previous)||Vx(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return bv(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(e9,u,c)(f):f===45||f===95||Ut(f)?(a=!0,e.consume(f),l):u(f)}function c(f){return e.consume(f),i=!0,l}function u(f){return a&&i&&qt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function r9(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!SO.call(r,r.previous)||Vx(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Z6,e.attempt(yO,e.attempt(xO,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function i9(e,t,n){const r=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&jO.call(r,r.previous)&&!Vx(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(qt(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?c:(a=!0,l)):n(f)}function c(f){return f===null||qd(f)||Te(f)||Wa(f)||uh(f)?n(f):e.attempt(yO,e.attempt(xO,u),n)(f)}function u(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function a9(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function o9(e,t,n){let r,i,a;return o;function o(c){return c===46||c===95?e.check(bO,l,s)(c):c===null||Te(c)||Wa(c)||c!==45&&uh(c)?l(c):(a=!0,e.consume(c),o)}function s(c){return c===95?r=!0:(i=r,r=void 0),e.consume(c),o}function l(c){return i||r||!a?n(c):t(c)}}function s9(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(bO,t,a)(o):o===null||Te(o)||Wa(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function l9(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),a):s===93?(e.consume(s),i):s===60||s===null||Te(s)||Wa(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Te(s)||Wa(s)?t(s):r(s)}function a(s){return qt(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):qt(s)?(e.consume(s),o):n(s)}}function c9(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Ut(a)?n(a):t(a)}}function SO(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Te(e)}function jO(e){return!qt(e)}function _O(e){return!(e===47||bv(e))}function bv(e){return e===43||e===45||e===46||e===95||Ut(e)}function Vx(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const u9={tokenize:y9,partial:!0};function d9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:m9,continuation:{tokenize:g9},exit:v9}},text:{91:{name:"gfmFootnoteCall",tokenize:p9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:f9,resolveTo:h9}}}}function f9(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const c=hr(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!a.includes(c.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function h9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function p9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(f){if(a>999||f===93&&!o||f===null||f===91||Te(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(hr(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Te(f)||(o=!0),a++,e.consume(f),f===92?u:c}function u(f){return f===91||f===92||f===93?(e.consume(f),a++,c):c(f)}}function m9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):n(m)}function u(m){if(o>999||m===93&&!s||m===null||m===91||Te(m))return n(m);if(m===93){e.exit("chunkString");const g=e.exit("gfmFootnoteDefinitionLabelString");return a=hr(r.sliceSerialize(g)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Te(m)||(s=!0),o++,e.consume(m),m===92?f:u}function f(m){return m===91||m===92||m===93?(e.consume(m),o++,u):u(m)}function h(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),i.includes(a)||i.push(a),we(e,p,"gfmFootnoteDefinitionWhitespace")):n(m)}function p(m){return t(m)}}function g9(e,t,n){return e.check(Nc,t,e.attempt(u9,t,n))}function v9(e){e.exit("gfmFootnoteDefinition")}function y9(e,t,n){const r=this;return we(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function x9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},f={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},h=[["enter",u,s],["enter",o[c][1],s],["exit",o[c][1],s],["enter",f,s]],p=s.parser.constructs.insideSpan.null;p&&jn(h,h.length,0,dh(p,o.slice(c+1,l),s)),jn(h,h.length,0,[["exit",f,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",u,s]]),jn(o,c-1,l-c+3,h),l=c+h.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function a(o,s,l){const c=this.previous,u=this.events;let f=0;return h;function h(m){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const g=es(c);if(m===126)return f>1?l(m):(o.consume(m),f++,p);if(f<2&&!n)return l(m);const v=o.exit("strikethroughSequenceTemporary"),y=es(m);return v._open=!y||y===2&&!!g,v._close=!g||g===2&&!!y,s(m)}}}class b9{constructor(){this.map=[]}add(t,n,r){w9(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function w9(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function k9(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function S9(){return{flow:{null:{name:"table",tokenize:j9,resolveAll:_9}}}}function j9(e,t,n){const r=this;let i=0,a=0,o;return s;function s(N){let I=r.events.length-1;for(;I>-1;){const M=r.events[I][1].type;if(M==="lineEnding"||M==="linePrefix")I--;else break}const A=I>-1?r.events[I][1].type:null,R=A==="tableHead"||A==="tableRow"?k:l;return R===k&&r.parser.lazy[r.now().line]?n(N):R(N)}function l(N){return e.enter("tableHead"),e.enter("tableRow"),c(N)}function c(N){return N===124||(o=!0,a+=1),u(N)}function u(N){return N===null?n(N):de(N)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),p):n(N):ge(N)?we(e,u,"whitespace")(N):(a+=1,o&&(o=!1,i+=1),N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),o=!0,u):(e.enter("data"),f(N)))}function f(N){return N===null||N===124||Te(N)?(e.exit("data"),u(N)):(e.consume(N),N===92?h:f)}function h(N){return N===92||N===124?(e.consume(N),f):f(N)}function p(N){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(N):(e.enter("tableDelimiterRow"),o=!1,ge(N)?we(e,m,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):m(N))}function m(N){return N===45||N===58?v(N):N===124?(o=!0,e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),g):j(N)}function g(N){return ge(N)?we(e,v,"whitespace")(N):v(N)}function v(N){return N===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),y):N===45?(a+=1,y(N)):N===null||de(N)?S(N):j(N)}function y(N){return N===45?(e.enter("tableDelimiterFiller"),b(N)):j(N)}function b(N){return N===45?(e.consume(N),b):N===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(N),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(N))}function w(N){return ge(N)?we(e,S,"whitespace")(N):S(N)}function S(N){return N===124?m(N):N===null||de(N)?!o||i!==a?j(N):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(N)):j(N)}function j(N){return n(N)}function k(N){return e.enter("tableRow"),E(N)}function E(N){return N===124?(e.enter("tableCellDivider"),e.consume(N),e.exit("tableCellDivider"),E):N===null||de(N)?(e.exit("tableRow"),t(N)):ge(N)?we(e,E,"whitespace")(N):(e.enter("data"),O(N))}function O(N){return N===null||N===124||Te(N)?(e.exit("data"),E(N)):(e.consume(N),N===92?P:O)}function P(N){return N===92||N===124?(e.consume(N),O):O(N)}}function _9(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,c,u,f;const h=new b9;for(;++n<e.length;){const p=e[n],m=p[1];p[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(Fk(h,t,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",c,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,u={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},h.add(n,0,[["enter",u,t]])),i=m.type==="tableDelimiterRow"?2:u?3:1):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=Eu(h,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=n)):m.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=Eu(h,t,a,i,void 0,f)),a=o,o=[a[1],n,0,0])):m.type==="tableHead"?(s=!0,l=n):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=n,a[1]!==0?(o[0]=o[1],f=Eu(h,t,a,i,n,f)):o[1]!==0&&(f=Eu(h,t,o,i,n,f)),i=0):i&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&Fk(h,t,l,c,u),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=k9(t.events,n))}return e}function Eu(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(a.end=Object.assign({},bo(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=bo(t.events,n[1]);if(a={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const c=bo(t.events,n[2]),u=bo(t.events,n[3]),f={type:s,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const m=n[2]+1,g=n[3]-n[2]-1;e.add(m,g,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},bo(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Fk(e,t,n,r,i){const a=[],o=bo(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function bo(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const C9={name:"tasklistCheck",tokenize:P9};function E9(){return{text:{91:C9}}}function P9(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Te(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return de(l)?t(l):ge(l)?e.check({tokenize:N9},t,n)(l):n(l)}}function N9(e,t,n){return we(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function O9(e){return RN([t9(),d9(),x9(e),S9(),E9()])}const A9={};function T9(e){const t=this,n=e||A9,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(O9(n)),a.push(X6()),o.push(Q6(n))}const I9=({citations:e})=>{const t=r=>{switch(r){case"web":return"🌐";case"document":return"📄";case"kb":return"📚";case"blob":return"💾";default:return"📎"}},n=r=>{r.sourceId&&r.sourceId.startsWith("http")&&window.open(r.sourceId,"_blank","noopener,noreferrer")};return d.jsxs("div",{className:"card p-3 rounded-md border",style:{backgroundColor:"var(--bg-secondary)"},children:[d.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text)"},children:"References"}),d.jsx("div",{className:"space-y-2",children:e.map(r=>d.jsx("div",{className:`p-2 rounded border cursor-pointer transition-colors ${r.sourceId&&r.sourceId.startsWith("http")?"hover:bg-gray-50":"cursor-default"}`,style:{borderColor:"var(--border)",backgroundColor:"var(--card)"},onClick:()=>n(r),children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("span",{className:"text-sm",children:t(r.sourceType)}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h5",{className:"text-sm font-medium truncate",style:{color:"var(--text)"},children:r.title||"Untitled Source"}),r.snippet&&d.jsx("p",{className:"text-xs mt-1 line-clamp-2",style:{color:"var(--text-secondary)"},children:r.snippet}),r.sourceId&&d.jsx("p",{className:"text-xs mt-1 truncate",style:{color:"var(--text-muted)"},children:r.sourceId})]})]})},r.id))})]})},D9=({messageId:e})=>{const[t,n]=x.useState(null),[r,i]=x.useState(!1),[a,o]=x.useState(null),[s,l]=x.useState(""),[c,u]=x.useState(null),f=p=>{o(p),i(!0),l("")},h=async()=>{if(a!==null)try{const p=Dr();if(!p||!p.userId){console.error("No user session found"),alert("Please log in to submit feedback");return}const m=e,g=a===1?"good":"bad";console.log("Submitting feedback:",{chatId:m,userId:p.userId,reaction:g,feedbackText:s}),await Px(m,p.userId,g,s||void 0),console.log("✅ Feedback submitted successfully"),n(a),i(!1),l(""),u("success"),setTimeout(()=>u(null),3e3)}catch(p){console.error("Failed to submit feedback:",p),i(!1),u("error"),setTimeout(()=>u(null),3e3)}};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>f(1),className:`p-1 rounded transition-colors ${t===1?"bg-green-100 text-green-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===1?"var(--success-light)":"transparent",color:t===1?"var(--success)":"var(--text-muted)"},title:"Thumbs up",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"})})}),d.jsx("button",{onClick:()=>f(-1),className:`p-1 rounded transition-colors ${t===-1?"bg-red-100 text-red-600":"hover:bg-gray-100"}`,style:{backgroundColor:t===-1?"var(--error-light)":"transparent",color:t===-1?"var(--error)":"var(--text-muted)"},title:"Thumbs down",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"})})})]}),r&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"card p-6 rounded-lg max-w-md w-full mx-4",style:{backgroundColor:"var(--card)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Submit feedback to HR Ax Pro"}),d.jsx("button",{onClick:()=>i(!1),className:"p-1 hover:bg-gray-100 rounded",style:{color:"var(--text-secondary)"},children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsx("p",{className:"text-sm mb-3",style:{color:"var(--text)"},children:"What did you like?"}),d.jsx("textarea",{value:s,onChange:p=>l(p.target.value),placeholder:"Give as much detail as you can, but don't include any private or sensitive information.",className:"input w-full h-24 resize-none text-sm",style:{backgroundColor:"var(--bg)",color:"var(--text)",borderColor:"var(--border)",padding:"12px"},autoFocus:!0}),d.jsx("p",{className:"text-xs mt-2 mb-4",style:{color:"var(--text-secondary)"},children:"We'll also share the content you're providing feedback on to help improve future responses."}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:h,className:"px-6 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"var(--primary)",color:"white"},children:"Submit"})})]})}),c&&d.jsx("div",{className:"fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",style:{backgroundColor:c==="success"?"var(--success, #10b981)":"var(--error, #ef4444)",color:"white"},children:c==="success"?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),d.jsx("span",{children:"Feedback submitted successfully!"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),d.jsx("span",{children:"Failed to submit feedback. Please try again."})]})})]})},Uk=e=>btoa(e),R9=e=>{try{return atob(e)}catch{return""}},el="axpro_api_configs",bm="axpro_ui_customization",zn={getConfigs(){try{const e=localStorage.getItem(el);return e?JSON.parse(e).map(n=>({...n,apiKey:R9(n.apiKey)})):[]}catch{return[]}},saveConfig(e){const t=this.getConfigs(),n=new Date().toISOString(),r={...e,id:`config_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,apiKey:e.apiKey,createdAt:n,updatedAt:n},i={...r,apiKey:Uk(r.apiKey)},a=[...t.filter(o=>o.id!==e.id),i];return localStorage.setItem(el,JSON.stringify(a)),r},updateConfig(e,t){const n=this.getConfigs(),r=n.findIndex(o=>o.id===e);if(r===-1)return null;const i={...n[r],...t,updatedAt:new Date().toISOString()},a={...i,apiKey:Uk(i.apiKey)};return n[r]=a,localStorage.setItem(el,JSON.stringify(n)),i},deleteConfig(e){const t=this.getConfigs(),n=t.filter(r=>r.id!==e);return n.length===t.length?!1:(localStorage.setItem(el,JSON.stringify(n)),!0)},getActiveConfig(){return this.getConfigs().find(t=>t.isActive)||null},setActiveConfig(e){const t=this.getConfigs();if(!t.find(i=>i.id===e))return!1;const r=t.map(i=>({...i,isActive:i.id===e}));return localStorage.setItem(el,JSON.stringify(r)),!0},getUICustomization(){const e={chatTitle:"Chat Interface",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};try{const t=localStorage.getItem(bm);if(!t)return e;const n=JSON.parse(t);return{...e,...n}}catch{return e}},saveUICustomization(e){localStorage.setItem(bm,JSON.stringify(e))},resetUICustomization(){localStorage.removeItem(bm)}},br={chatTitle:"TecAce Ax Pro",chatSubtitle:"Select a conversation from the sidebar or start a new chat",avatarUrl:"/default-profile-avatar.png",suggestedQuestions:{question1:"What is artificial intelligence?",question2:"How does machine learning work?",question3:"Explain quantum computing",question4:"What are the benefits of cloud computing?"}};async function M9(){try{const e=We(),{data:t,error:n}=await e.from("ui_settings").select("*").eq("id","global").maybeSingle();return n?(console.error("Error fetching UI customization:",n),br):t?{chatTitle:t.chat_title||br.chatTitle,chatSubtitle:t.chat_subtitle||br.chatSubtitle,avatarUrl:t.avatar_url||br.avatarUrl,suggestedQuestions:{question1:t.question_1||br.suggestedQuestions.question1,question2:t.question_2||br.suggestedQuestions.question2,question3:t.question_3||br.suggestedQuestions.question3,question4:t.question_4||br.suggestedQuestions.question4}}:(console.log("No UI customization found in database, using defaults"),br)}catch(e){return console.error("Failed to fetch UI customization:",e),br}}async function L9(e){try{const t=We(),{error:n}=await t.from("ui_settings").upsert({id:"global",chat_title:e.chatTitle,chat_subtitle:e.chatSubtitle,avatar_url:e.avatarUrl,question_1:e.suggestedQuestions.question1,question_2:e.suggestedQuestions.question2,question_3:e.suggestedQuestions.question3,question_4:e.suggestedQuestions.question4,updated_at:new Date().toISOString()},{onConflict:"id"});return n?(console.error("Error saving UI customization:",n),!1):(console.log("✅ UI customization saved to Supabase"),!0)}catch(t){return console.error("Failed to save UI customization:",t),!1}}const Ac=()=>{const[e,t]=x.useState(()=>zn.getUICustomization()),[n,r]=x.useState(!0);x.useEffect(()=>{i()},[]);const i=async()=>{r(!0);try{const l=await M9();t(l),zn.saveUICustomization(l)}catch(l){console.error("Failed to load UI customization:",l);const c=zn.getUICustomization();t(c)}finally{r(!1)}},a=async l=>{r(!0);try{const c={...e,...l};await L9(c)?(t(c),zn.saveUICustomization(c),console.log("✅ UI customization updated successfully")):(console.error("Failed to save to Supabase, falling back to localStorage"),zn.saveUICustomization(c),t(c))}catch(c){console.error("Failed to update UI customization:",c)}finally{r(!1)}};return{customization:e,loading:n,updateCustomization:a,updateQuestion:(l,c)=>{a({suggestedQuestions:{...e.suggestedQuestions,[l]:c}})},resetCustomization:()=>{r(!0);try{zn.resetUICustomization();const l=zn.getUICustomization();t(l)}catch(l){console.error("Failed to reset UI customization:",l)}finally{r(!1)}}}},$9=({message:e})=>{const[t,n]=x.useState(!1),{customization:r}=Ac(),i=e.role==="user",a=e.role==="assistant",o=e.id.startsWith("sim_"),s=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return d.jsxs("div",{className:`flex ${i?"justify-end":"justify-start"} gap-3`,children:[a&&d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:r.avatarUrl,alt:"Assistant",className:"w-8 h-8 rounded-full",style:{objectFit:"cover"}})}),d.jsxs("div",{className:`max-w-xs lg:max-w-md xl:max-w-lg ${i?"order-2":"order-1"}`,children:[d.jsx("div",{className:`p-3 rounded-lg ${i?"message-user":"message-assistant"}`,children:d.jsx("div",{className:"prose prose-sm max-w-none",style:{fontSize:"14px",lineHeight:"1.5",color:i?"#ffffff":"var(--text)"},children:e.content&&e.content.trim()?d.jsx(x8,{remarkPlugins:[T9],components:{p:({children:l})=>d.jsx("p",{style:{margin:"0 0 8px 0"},children:l}),code:({children:l,className:c})=>!c?d.jsx("code",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"2px 4px",borderRadius:"3px",fontSize:"0.9em"},children:l}):d.jsx("pre",{style:{backgroundColor:i?"rgba(255,255,255,0.2)":"var(--bg-secondary)",color:i?"#ffffff":"var(--text)",padding:"8px",borderRadius:"4px",overflow:"auto",margin:"8px 0"},children:d.jsx("code",{children:l})}),ul:({children:l})=>d.jsx("ul",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),ol:({children:l})=>d.jsx("ol",{style:{margin:"8px 0",paddingLeft:"20px"},children:l}),li:({children:l})=>d.jsx("li",{style:{margin:"4px 0"},children:l}),blockquote:({children:l})=>d.jsx("blockquote",{style:{borderLeft:`3px solid ${i?"rgba(255,255,255,0.3)":"var(--border)"}`,paddingLeft:"12px",margin:"8px 0",fontStyle:"italic",color:i?"#ffffff":"var(--text)"},children:l}),h1:({children:l})=>d.jsx("h1",{style:{fontSize:"1.2em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h2:({children:l})=>d.jsx("h2",{style:{fontSize:"1.1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l}),h3:({children:l})=>d.jsx("h3",{style:{fontSize:"1em",fontWeight:"bold",margin:"8px 0",color:i?"#ffffff":"var(--text)"},children:l})},children:e.content}):d.jsx("span",{style:{color:i?"rgba(255,255,255,0.7)":"var(--text-muted)",fontStyle:"italic"},children:e.role==="assistant"?"Thinking...":"No content available"})})}),d.jsxs("div",{className:`flex items-center gap-2 mt-1 ${i?"justify-end":"justify-start"}`,children:[d.jsx("div",{className:"text-xs",style:{color:"var(--text-muted)"},children:s(e.createdAt)}),o&&a&&d.jsx("div",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--warning-bg, rgba(255, 193, 7, 0.1))",color:"var(--warning-text, #ff9800)",border:"1px solid var(--warning-border, rgba(255, 152, 0, 0.3))",fontSize:"10px",fontWeight:"500"},children:"SIMULATION MODE"})]}),a&&d.jsxs("div",{className:"mt-2 space-y-2",children:[e.citations&&e.citations.length>0&&d.jsxs("button",{onClick:()=>n(!t),className:"text-xs link flex items-center space-x-2",children:[d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),d.jsx("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]}),d.jsxs("span",{children:[t?"Hide":"Show"," References (",e.citations.length,")"]})]}),t&&e.citations&&d.jsx(I9,{citations:e.citations}),!o&&d.jsx(D9,{messageId:e.id})]})]})]})},F9=({onSend:e,disabled:t=!1})=>{const[n,r]=x.useState(""),i=x.useRef(null),a=jc(),o=c=>{c.preventDefault(),n.trim()&&!t&&(e(n.trim()),r(""))},s=c=>{c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),o(c))},l=()=>{const c=i.current;c&&(c.style.height="auto",c.style.height=`${Math.min(c.scrollHeight,120)}px`)};return x.useEffect(()=>{l()},[n]),d.jsx("form",{onSubmit:o,className:"relative",children:d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{ref:i,value:n,onChange:c=>r(c.target.value),onKeyDown:s,placeholder:a("ui.typeMessage"),className:"w-full resize-none rounded-2xl px-4 py-3 pr-12 min-h-[52px] max-h-[200px] border focus:outline-none focus:ring-0 focus:border-transparent transition-all",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)",color:"var(--text)",fontSize:"16px",boxShadow:"0 0 0 1px var(--border)"},disabled:t,rows:1}),d.jsx("button",{type:"submit",disabled:!n.trim()||t,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:n.trim()&&!t?"var(--primary)":"transparent",color:n.trim()&&!t?"white":"var(--text-muted)"},children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),d.jsx("path",{d:"M22 2 11 13"})]})})]})})},U9=({sessionId:e,isClosed:t=!1})=>{const{messages:n,loading:r,sending:i,error:a,sendMessage:o}=B3(e),s=x.useRef(null);jc();const{customization:l}=Ac();Wi.useEffect(()=>{console.log("ThreadView messages for sessionId:",e,n)},[n,e]);const c=()=>{var u;(u=s.current)==null||u.scrollIntoView({behavior:"smooth"})};return x.useEffect(()=>{c()},[n]),r?d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading conversation..."})]})}):d.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[d.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:n.length===0?d.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:l.chatTitle}),d.jsx("p",{className:"text-lg",style:{color:"var(--text-secondary)"},children:l.chatSubtitle})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question1),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),d.jsx("circle",{cx:"12",cy:"5",r:"2"}),d.jsx("path",{d:"M12 7v4"})]})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question1})]})}),d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question2),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),d.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question2})]})}),d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question3),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M8 12h8"}),d.jsx("path",{d:"M12 8v8"})]})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question3})]})}),d.jsx("button",{onClick:()=>o(l.suggestedQuestions.question4),className:"p-4 text-left rounded-lg border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),d.jsx("span",{className:"text-sm",children:l.suggestedQuestions.question4})]})})]})]})}):d.jsxs("div",{className:"p-4 space-y-4",children:[n.map(u=>(console.log("Rendering message:",u),d.jsx($9,{message:u},u.id))),d.jsx("div",{ref:s})]})}),a&&d.jsx("div",{className:"px-4 py-2 flex-shrink-0",children:d.jsx("div",{className:"error p-3 rounded-md",children:d.jsx("p",{className:"text-sm",children:a})})}),d.jsx("div",{className:"border-t p-4 flex-shrink-0",style:{borderColor:"var(--border)"},children:t?d.jsx("div",{className:"flex items-center justify-center p-4 rounded-lg",style:{backgroundColor:"var(--muted)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl mb-2",children:"🔒"}),d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:"This chat is closed"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Reopen the chat to continue the conversation"})]})}):d.jsx(F9,{onSend:u=>o(u),disabled:i})})]})},zk=()=>{const{sessionId:e}=MP(),t=In(),{theme:n,toggleTheme:r}=Za(),{language:i,setLanguage:a,t:o}=Ze(),{customization:s}=Ac(),[l,c]=x.useState(null),[u,f]=x.useState(!0),[h,p]=x.useState(null);x.useEffect(()=>{(async()=>{try{const v=await Yg.getMe();c({...v,userId:v.email}),f(!0)}catch(v){console.log("Backend auth failed, trying local auth:",v),f(!1);const y=Dr();y?c({email:y.email,userId:y.email,role:y.role}):(console.log("No local session found, redirecting to login"),t("/"))}})()},[t]),x.useEffect(()=>{if(e){const v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").find(y=>y.id===e);p(v)}},[e]);const m=async()=>{try{await Yg.logout()}catch(g){console.log("Backend logout failed, using local logout:",g)}Qo(),t("/")};return l?d.jsxs("div",{className:"h-screen flex overflow-hidden",style:{backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"w-80 border-r flex flex-col h-full",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h1",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:s.chatTitle}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:r,className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},title:o(n==="light"?"ui.theme.dark":"ui.theme.light"),children:n==="light"?d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),d.jsxs("select",{value:i,onChange:g=>a(g.target.value),className:"text-sm px-2 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text)"},children:l.email}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:l.role==="admin"?"Administrator":o("ui.user")})]}),l.role==="admin"&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"text-sm link",title:"Go to Admin Dashboard",children:"📊 Dashboard"}),d.jsx("button",{onClick:()=>t("/settings"),className:"text-sm link",children:o("ui.settings")})]}),d.jsx("button",{onClick:m,className:"text-sm link",children:o("ui.signOut")})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto",children:[!u&&d.jsx("div",{className:"p-4 border-b",style:{borderColor:"var(--border)"},children:d.jsx("div",{className:"card rounded-md p-3",style:{backgroundColor:"var(--warning-light)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--warning)"},children:d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:o("ui.demoMode")}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:o("ui.demoModeDescription")})]})]})})}),d.jsx(J$,{})]})]}),d.jsx("div",{className:"flex-1 flex flex-col h-full",children:e?d.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0 sticky top-0 z-10",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:s.avatarUrl,alt:"Chatbot Avatar",className:"w-10 h-10 rounded-full flex-shrink-0",style:{objectFit:"cover"},onError:g=>{g.currentTarget.src="/default-profile-avatar.png"}}),d.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:(h==null?void 0:h.title)||o("ui.newChatTitle")}),(h==null?void 0:h.status)==="closed"&&d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",style:{color:"var(--text-muted)"},children:"🔒 Closed"}),d.jsx("button",{onClick:()=>{if((h==null?void 0:h.status)==="closed"){const v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(y=>y.id===e?{...y,status:"open"}:y);localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),p({...h,status:"open"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}else{const v=JSON.parse(localStorage.getItem("axpro_sim_sessions")||"[]").map(y=>y.id===e?{...y,status:"closed"}:y);localStorage.setItem("axpro_sim_sessions",JSON.stringify(v)),p({...h,status:"closed"}),window.dispatchEvent(new CustomEvent("sessionUpdated"))}},className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:(h==null?void 0:h.status)==="closed"?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),d.jsx("path",{d:"M21 3v5h-5"}),d.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),d.jsx("path",{d:"M3 21v-5h5"})]}),d.jsxs("span",{children:[o("context.reopen")," ",o("ui.newChatTitle")]})]}):d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("path",{d:"M9 9h6v6H9z"})]}),d.jsx("span",{children:o("ui.closeChat")})]})})]})}),d.jsx(U9,{sessionId:e,isClosed:(h==null?void 0:h.status)==="closed"})]}):d.jsx("div",{className:"flex-1 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-xl font-light mb-4",style:{color:"var(--text)"},children:o("chat.welcome")}),d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:o("ui.selectConversation")})]})})})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-4",style:{borderColor:"var(--primary)"}}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading..."})]})})},z9=()=>{const e=In(),t=Dr(),n=jc(),r=()=>{Qo(),e("/")};return d.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[d.jsx("header",{className:"card border-b",style:{borderColor:"var(--border)"},children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:n("dashboard.title")})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Admin: ",t==null?void 0:t.email]}),d.jsx("button",{onClick:r,className:"link text-sm",children:"Sign Out"})]})]})})}),d.jsxs("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Total Users"}),d.jsx("p",{className:"text-3xl font-light",style:{color:"var(--primary)"},children:"1,234"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"+12% from last month"})]}),d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"Active Sessions"}),d.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"89"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"Currently online"})]}),d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Status"}),d.jsx("p",{className:"text-3xl font-light",style:{color:"var(--success)"},children:"Healthy"}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-muted)"},children:"All systems operational"})]})]}),d.jsxs("div",{className:"mt-8 card p-8 rounded-lg",children:[d.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:"var(--text)"},children:"Admin Panel"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"User Management"}),d.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Manage user accounts and permissions"}),d.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Manage Users"})]}),d.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--border)"},children:[d.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:"var(--text)"},children:"System Settings"}),d.jsx("p",{className:"mb-4",style:{color:"var(--text-secondary)"},children:"Configure platform settings"}),d.jsx("button",{className:"btn-primary px-4 py-2 rounded-md text-sm",children:"Settings"})]})]}),d.jsx("div",{className:"mt-6 card rounded-md p-4",style:{backgroundColor:"var(--primary-light)"},children:d.jsxs("p",{className:"text-sm",style:{color:"var(--primary)"},children:[d.jsx("strong",{children:"Demo Mode:"})," You are logged in as an administrator. Admin features will be implemented here."]})})]})]})]})},B9=()=>{const e=In(),{theme:t,toggleTheme:n}=Za(),{language:r,setLanguage:i}=Ze(),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState("api"),[f,h]=x.useState("supabase"),[p,m]=x.useState(!1),[g,v]=x.useState(null),[y,b]=x.useState(null),[w,S]=x.useState(!1),{customization:j,updateCustomization:k,updateQuestion:E,resetCustomization:O}=Ac(),[P,N]=x.useState({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),[I,A]=x.useState({name:"",webhookUrl:""}),[R,M]=x.useState({url:"",anonKey:""}),[U,B]=x.useState(!1),[L,T]=x.useState(null),[F,C]=x.useState(!1);x.useEffect(()=>{_(),Y(),V(),D()},[]);const V=()=>{const W=Cx();M(W)},D=()=>{const W=Jg();C(W)},_=()=>{const W=zn.getConfigs();o(W)},Y=()=>{const W=_c();l(W)},J=W=>{W.preventDefault(),g?zn.updateConfig(g.id,P):zn.saveConfig({...P,isActive:a.length===0}),_(),te()},te=()=>{N({name:"",baseUrl:"",apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3}),m(!1),v(null)},ce=W=>{N({name:W.name,baseUrl:W.baseUrl,apiKey:W.apiKey,model:W.model||"gpt-3.5-turbo",temperature:W.temperature||.7,maxTokens:W.maxTokens||1e3}),v(W),m(!0)},Fe=W=>{window.confirm("Are you sure you want to delete this configuration?")&&(zn.deleteConfig(W),_())},Z=W=>{zn.setActiveConfig(W),_()},G=W=>{W.preventDefault(),y?e4(y.id,I):Z$({...I,isActive:s.length===0}),Y(),ae()},ae=()=>{A({name:"",webhookUrl:""}),m(!1),b(null)},q=W=>{A({name:W.name,webhookUrl:W.webhookUrl}),b(W),m(!0)},at=W=>{window.confirm("Are you sure you want to delete this n8n configuration?")&&(t4(W),Y())},Se=W=>{KP(W),Y()},et=async W=>{S(!0);try{const _e=await r4(W);alert(_e?"✅ Connection successful!":"❌ Connection failed. Please check your webhook URL.")}catch{alert("❌ Connection failed. Please check your webhook URL.")}finally{S(!1)}};return d.jsxs("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:[d.jsxs("div",{className:"flex justify-between items-center p-4 border-b",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>e("/chat"),className:"text-sm link",children:"← Back to Chat"}),d.jsx("h1",{className:"text-xl font-semibold",style:{color:"var(--text)"},children:"Settings"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:n,className:"text-sm px-3 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:t==="light"?"🌙":"☀️"}),d.jsxs("select",{value:r,onChange:W=>i(W.target.value),className:"text-sm px-3 py-1 rounded border bg-transparent",style:{borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]})]})]}),d.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[d.jsx("div",{className:"border-b mb-6",style:{borderColor:"var(--border)"},children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>u("api"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="api"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="api"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="api"?"var(--primary)":"transparent"},children:"API Configurations"}),d.jsx("button",{onClick:()=>u("webhook"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="webhook"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="webhook"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="webhook"?"var(--primary)":"transparent"},children:"Webhooks"}),d.jsx("button",{onClick:()=>u("ui"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="ui"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="ui"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="ui"?"var(--primary)":"transparent"},children:"UI Customization"}),d.jsx("button",{onClick:()=>u("database"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${c==="database"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:c==="database"?"var(--primary)":"var(--text-secondary)",borderBottomColor:c==="database"?"var(--primary)":"transparent"},children:"Database"})]})}),c==="api"&&d.jsxs(d.Fragment,{children:[p&&d.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:g?"Edit Configuration":"Add New Configuration"}),d.jsxs("form",{onSubmit:J,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),d.jsx("input",{type:"text",value:P.name,onChange:W=>N(_e=>({..._e,name:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., OpenAI GPT-4",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Base URL"}),d.jsx("input",{type:"url",value:P.baseUrl,onChange:W=>N(_e=>({..._e,baseUrl:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://api.openai.com/v1",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"API Key"}),d.jsx("input",{type:"password",value:P.apiKey,onChange:W=>N(_e=>({..._e,apiKey:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"sk-...",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Model"}),d.jsx("input",{type:"text",value:P.model,onChange:W=>N(_e=>({..._e,model:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"gpt-3.5-turbo"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:["Temperature: ",P.temperature]}),d.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:P.temperature,onChange:W=>N(_e=>({..._e,temperature:parseFloat(W.target.value)})),className:"w-full"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Max Tokens"}),d.jsx("input",{type:"number",value:P.maxTokens,onChange:W=>N(_e=>({..._e,maxTokens:parseInt(W.target.value)})),className:"input w-full px-3 py-2 rounded-md",min:"1",max:"4000"})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:te,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[g?"Update":"Add"," Configuration"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"API Configurations"}),d.jsx("button",{onClick:()=>m(!0),className:"btn-primary px-4 py-2 text-sm",children:"+ Add Configuration"})]}),a.length===0?d.jsx("div",{className:"card p-8 rounded-lg text-center",children:d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No API configurations found. Add your first configuration to get started."})}):d.jsx("div",{className:"space-y-3",children:a.map(W=>d.jsx("div",{className:`card p-4 rounded-lg ${W.isActive?"border-2":"border"}`,style:{borderColor:W.isActive?"var(--primary)":"var(--border)",backgroundColor:W.isActive?"var(--primary-light)":"var(--card)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:W.name}),W.isActive&&d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:W.baseUrl}),d.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Model: ",W.model," • Temperature: ",W.temperature," • Max Tokens: ",W.maxTokens]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!W.isActive&&d.jsx("button",{onClick:()=>Z(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),d.jsx("button",{onClick:()=>ce(W),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),d.jsx("button",{onClick:()=>Fe(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},W.id))})]}),d.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--warning-light)"},children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("span",{children:"ℹ️"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--warning)"},children:"Development Mode"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"When backend is unavailable, the system uses intelligent simulation based on your chat input. Configure your API settings above for full functionality when backend is running."})]})]})})]}),c==="webhook"&&d.jsxs(d.Fragment,{children:[p&&d.jsxs("div",{className:"card p-6 rounded-lg mb-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:y?"Edit Webhook Configuration":"Add New Webhook Configuration"}),d.jsxs("form",{onSubmit:G,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Configuration Name"}),d.jsx("input",{type:"text",value:I.name,onChange:W=>A(_e=>({..._e,name:W.target.value})),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Production n8n Webhook",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Webhook URL"}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"url",value:I.webhookUrl,onChange:W=>A(_e=>({..._e,webhookUrl:W.target.value})),className:"input flex-1 px-3 py-2 rounded-md",placeholder:"https://n8n.srv978041.hstgr.cloud/webhook/...",required:!0}),d.jsx("button",{type:"button",onClick:()=>et(I.webhookUrl),disabled:w||!I.webhookUrl,className:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"})]})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{type:"button",onClick:ae,className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--border)"},children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary px-4 py-2 text-sm",children:[y?"Update":"Add"," Configuration"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Webhook Configurations"}),d.jsx("button",{onClick:()=>{u("webhook"),m(!0)},className:"btn-primary px-4 py-2 text-sm",children:"+ Add Webhook Configuration"})]}),s.length===0?d.jsx("div",{className:"card p-8 rounded-lg text-center",children:d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"No webhook configurations found. Add your first webhook to get started."})}):d.jsx("div",{className:"space-y-3",children:s.map(W=>d.jsx("div",{className:`card p-4 rounded-lg ${W.isActive?"border-2":"border"}`,style:{borderColor:W.isActive?"var(--primary)":"var(--border)",backgroundColor:W.isActive?"var(--primary-light)":"var(--card)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:"font-medium",style:{color:"var(--text)"},children:W.name}),W.isActive&&d.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-100 text-green-800",children:"Active"})]}),d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:W.webhookUrl}),d.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:["Created: ",new Date(W.createdAt).toLocaleString()]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>et(W.webhookUrl),disabled:w,className:"text-xs px-3 py-1 rounded border disabled:opacity-50",style:{borderColor:"var(--border)"},children:w?"Testing...":"Test"}),!W.isActive&&d.jsx("button",{onClick:()=>Se(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Set Active"}),d.jsx("button",{onClick:()=>q(W),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--border)"},children:"Edit"}),d.jsx("button",{onClick:()=>at(W.id),className:"text-xs px-3 py-1 rounded border",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Delete"})]})]})},W.id))})]}),d.jsx("div",{className:"mt-8 card p-4 rounded-lg",style:{backgroundColor:"var(--primary-light)"},children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx("span",{children:"🔗"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium",style:{color:"var(--primary)"},children:"Webhook Integration"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-secondary)"},children:"Configure webhooks to connect your chat interface with external workflows (e.g., n8n). The system will send chat messages to your webhook and receive AI responses."})]})]})})]}),c==="ui"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Chat Interface Customization"}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Title"}),d.jsx("input",{type:"text",value:j.chatTitle,onChange:W=>k({chatTitle:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Chat Interface, AI Assistant, etc."}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This title appears at the top of the empty chat screen"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chat Interface Subtitle"}),d.jsx("input",{type:"text",value:j.chatSubtitle,onChange:W=>k({chatSubtitle:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"e.g., Select a conversation from the sidebar or start a new chat"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"This subtitle appears below the title on the empty chat screen"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Chatbot Avatar URL"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("img",{src:j.avatarUrl,alt:"Avatar Preview",className:"w-12 h-12 rounded-full border-2",style:{borderColor:"var(--border)",objectFit:"cover"},onError:W=>{W.currentTarget.src="/default-profile-avatar.png"}})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("input",{type:"text",value:j.avatarUrl,onChange:W=>k({avatarUrl:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://example.com/avatar.png or data:image/svg+xml;base64,..."}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"Enter an image URL or data URI. This avatar appears next to assistant messages."})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Suggested Questions"}),d.jsx("p",{className:"text-sm mb-4",style:{color:"var(--text-secondary)"},children:"Customize the suggested questions that appear on the empty chat screen"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 1"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question1,onChange:W=>E("question1",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What is artificial intelligence?"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 2"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question2,onChange:W=>E("question2",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"How does machine learning work?"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 3"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question3,onChange:W=>E("question3",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"Explain quantum computing"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Question 4"}),d.jsx("input",{type:"text",value:j.suggestedQuestions.question4,onChange:W=>E("question4",W.target.value),className:"input w-full px-3 py-2 rounded-md",placeholder:"What are the benefits of cloud computing?"})]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reset all UI customizations to default values?")&&O()},className:"px-4 py-2 text-sm border rounded-md",style:{borderColor:"var(--error)",color:"var(--error)"},children:"Reset to Defaults"})})]})]}),d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Preview"}),d.jsx("div",{className:"border rounded-lg p-6",style:{borderColor:"var(--border)",backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-light mb-4",style:{color:"var(--text)"},children:j.chatTitle}),d.jsx("p",{className:"text-lg mb-8",style:{color:"var(--text-secondary)"},children:j.chatSubtitle}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-3xl mx-auto",children:[d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),d.jsx("circle",{cx:"12",cy:"5",r:"2"}),d.jsx("path",{d:"M12 7v4"})]})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question1})]})}),d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1 .34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"}),d.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0-.34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"})]})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question2})]})}),d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M8 12h8"}),d.jsx("path",{d:"M12 8v8"})]})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question3})]})}),d.jsx("div",{className:"p-4 text-left rounded-lg border",style:{borderColor:"var(--border)",backgroundColor:"var(--card)",color:"var(--text)"},children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})}),d.jsx("span",{className:"text-sm",children:j.suggestedQuestions.question4})]})})]})]})})]})]}),c==="database"&&d.jsxs("div",{className:"card p-6 rounded-lg",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"var(--text)"},children:"Database Configuration"}),d.jsx("p",{className:"text-sm mb-6",style:{color:"var(--text-secondary)"},children:"Configure your database connection for prompt management and data storage."}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Database Type"}),d.jsxs("select",{value:f,onChange:W=>h(W.target.value),className:"input w-full px-3 py-2 rounded-md",style:{backgroundColor:"var(--card)",color:"var(--text)",borderColor:"var(--border)"},children:[d.jsx("option",{value:"supabase",children:"Supabase"}),d.jsx("option",{value:"other",children:"Other (Coming Soon)"})]})]}),f==="supabase"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase URL"}),d.jsx("input",{type:"text",value:R.url,onChange:W=>M({...R,url:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"https://your-project.supabase.co"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Supabase Anon Key"}),d.jsx("input",{type:"password",value:R.anonKey,onChange:W=>M({...R,anonKey:W.target.value}),className:"input w-full px-3 py-2 rounded-md",placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."})]})]}),f==="supabase"&&L&&d.jsx("div",{className:"p-3 rounded-md",style:{backgroundColor:L.success?"var(--success-light)":"var(--danger-light)",color:L.success?"var(--success)":"var(--danger)"},children:L.message}),f==="supabase"&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{type:"button",onClick:async()=>{B(!0),T(null);try{const W=await xN(R);T({success:W,message:W?"Connection successful!":"Connection failed. Please check your credentials."})}catch(W){T({success:!1,message:"Connection test failed: "+(W instanceof Error?W.message:"Unknown error")})}finally{B(!1)}},disabled:U||!R.url||!R.anonKey,className:"btn-ghost px-4 py-2 rounded-md",children:U?"Testing...":"Test Connection"}),d.jsx("button",{type:"button",onClick:()=>{yN(R),T({success:!0,message:"Configuration saved successfully!"})},disabled:!R.url||!R.anonKey,className:"btn-primary px-4 py-2 rounded-md",children:"Save Configuration"})]}),d.jsxs("div",{className:"border-t pt-4 mt-6",style:{borderColor:"var(--border)"},children:[d.jsx("h3",{className:"text-md font-medium mb-4",style:{color:"var(--text)"},children:"Chat Behavior"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--text)"},children:"Enable Simulation Mode"}),d.jsx("p",{className:"text-xs",style:{color:"var(--text-secondary)"},children:"When enabled, chat will fall back to simulated responses if the chatbot server is unavailable. When disabled, chat will show an error instead of simulation."})]}),d.jsx("label",{className:"flex items-center",children:d.jsx("input",{type:"checkbox",checked:F,onChange:W=>{C(W.target.checked),q$(W.target.checked)},className:"w-4 h-4 rounded",style:{accentColor:"var(--primary)"}})})]})]}),f==="other"&&d.jsx("div",{className:"p-4 rounded-md",style:{backgroundColor:"var(--warning-light)"},children:d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"Additional database types will be available in future updates."})})]})]})]})]})};function CO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=CO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ye(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=CO(e))&&(r&&(r+=" "),r+=t);return r}var mh={},EO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(EO);var Gx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Gx);var gh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(gh);var vh={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(PO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO,n=gh;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const f=i[s];c?f==="\\"&&s+1<o?(s++,l+=i[s]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,a.push(l),l=""):l+=f:f==="["?(u=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,s++}return l&&a.push(l),a}e.toPath=r})(vh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO,n=Gx,r=gh,i=vh;function a(s,l,c){if(s==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?n.isDeepKey(l)?a(s,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=s[l];return u===void 0?c:u}default:{if(Array.isArray(l))return o(s,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=s[l];return u===void 0?c:u}}}function o(s,l,c){if(l.length===0)return c;let u=s;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=a})(mh);var W9=mh.get;const ts=On(W9);var NO={exports:{}},Ie={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx=Symbol.for("react.transitional.element"),Jx=Symbol.for("react.portal"),yh=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),wh=Symbol.for("react.consumer"),kh=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),jh=Symbol.for("react.suspense"),_h=Symbol.for("react.suspense_list"),Ch=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),K9=Symbol.for("react.view_transition"),H9=Symbol.for("react.client.reference");function Zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Yx:switch(e=e.type,e){case yh:case bh:case xh:case jh:case _h:case K9:return e;default:switch(e=e&&e.$$typeof,e){case kh:case Sh:case Eh:case Ch:return e;case wh:return e;default:return t}}case Jx:return t}}}Ie.ContextConsumer=wh;Ie.ContextProvider=kh;Ie.Element=Yx;Ie.ForwardRef=Sh;Ie.Fragment=yh;Ie.Lazy=Eh;Ie.Memo=Ch;Ie.Portal=Jx;Ie.Profiler=bh;Ie.StrictMode=xh;Ie.Suspense=jh;Ie.SuspenseList=_h;Ie.isContextConsumer=function(e){return Zn(e)===wh};Ie.isContextProvider=function(e){return Zn(e)===kh};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yx};Ie.isForwardRef=function(e){return Zn(e)===Sh};Ie.isFragment=function(e){return Zn(e)===yh};Ie.isLazy=function(e){return Zn(e)===Eh};Ie.isMemo=function(e){return Zn(e)===Ch};Ie.isPortal=function(e){return Zn(e)===Jx};Ie.isProfiler=function(e){return Zn(e)===bh};Ie.isStrictMode=function(e){return Zn(e)===xh};Ie.isSuspense=function(e){return Zn(e)===jh};Ie.isSuspenseList=function(e){return Zn(e)===_h};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yh||e===bh||e===xh||e===jh||e===_h||typeof e=="object"&&e!==null&&(e.$$typeof===Eh||e.$$typeof===Ch||e.$$typeof===kh||e.$$typeof===wh||e.$$typeof===Sh||e.$$typeof===H9||e.getModuleId!==void 0)};Ie.typeOf=Zn;NO.exports=Ie;var q9=NO.exports,on=e=>e===0?0:e>0?1:-1,En=e=>typeof e=="number"&&e!=+e,ja=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,le=e=>(typeof e=="number"||e instanceof Number)&&!En(e),Rr=e=>le(e)||typeof e=="string",V9=0,ac=e=>{var t=++V9;return"".concat(e||"").concat(t)},gr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&typeof t!="string")return r;var a;if(ja(t)){if(n==null)return r;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return En(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},OO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function gt(e,t,n){return le(e)&&le(t)?e+n*(t-e):t}function G9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):ts(r,t))===n)}var rt=e=>e===null||typeof e>"u",Tc=e=>rt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Y9=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Xx(e){if(typeof e!="string")return!1;var t=Y9;return t.includes(e)}var J9=["viewBox","children"],Bk=["points","pathLength"],wm={svg:J9,polygon:Bk,polyline:Bk},Qx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Xx(i)&&(r[i]=t||(a=>n[i](n,a)))}),r},X9=(e,t,n)=>r=>(e(t,n,r),null),js=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Xx(i)&&typeof a=="function"&&(r||(r={}),r[i]=X9(a,t,n))}),r},Q9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function AO(e){if(typeof e!="string")return!1;var t=Q9;return t.includes(e)}function Xt(e){var t=Object.entries(e).filter(n=>{var[r]=n;return AO(r)});return Object.fromEntries(t)}var Wk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Kk=null,km=null,TO=e=>{if(e===Kk&&Array.isArray(km))return km;var t=[];return x.Children.forEach(e,n=>{rt(n)||(q9.isFragment(n)?t=t.concat(TO(n.props.children)):t.push(n))}),km=t,Kk=e,t};function Z9(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>Wk(i)):r=[Wk(t)],TO(e).forEach(i=>{var a=ts(i,"type.displayName")||ts(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}var eW=(e,t,n,r)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=r&&(wm==null?void 0:wm[r]))!==null&&i!==void 0?i:[],o=t.startsWith("data-"),s=typeof e!="function"&&(!!r&&a.includes(t)||AO(t)),l=!!n&&Xx(t);return o||s||l},Ee=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;eW((o=r)===null||o===void 0?void 0:o[a],a,t,n)&&(i[a]=r[a])}),i},tW=["children","width","height","viewBox","className","style","title","desc"];function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(null,arguments)}function nW(e,t){if(e==null)return{};var n,r,i=rW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zx=x.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=nW(e,tW),f=a||{width:r,height:i,x:0,y:0},h=ye("recharts-surface",o);return x.createElement("svg",wv({},Ee(u,!0,"svg"),{className:h,width:r,height:i,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,l),x.createElement("desc",null,c),n)}),iW=["children","className"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(null,arguments)}function aW(e,t){if(e==null)return{};var n,r,i=oW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jt=x.forwardRef((e,t)=>{var{children:n,className:r}=e,i=aW(e,iW),a=ye("recharts-layer",r);return x.createElement("g",kv({className:a},Ee(i,!0),{ref:t}),n)}),IO=x.createContext(null),sW=()=>x.useContext(IO);function Le(e){return function(){return e}}const DO=Math.cos,Jd=Math.sin,vr=Math.sqrt,Xd=Math.PI,Ph=2*Xd,Sv=Math.PI,jv=2*Sv,ha=1e-6,lW=jv-ha;function RO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function cW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return RO;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?RO:cW(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-t,c=i-n,u=o-t,f=s-n,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ha)if(!(Math.abs(f*l-c*u)>ha)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-o,m=i-s,g=l*l+c*c,v=p*p+m*m,y=Math.sqrt(g),b=Math.sqrt(h),w=a*Math.tan((Sv-Math.acos((g+h-v)/(2*y*b)))/2),S=w/b,j=w/y;Math.abs(S-1)>ha&&this._append`L${t+S*u},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*p>u*m)},${this._x1=t+j*l},${this._y1=n+j*c}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),c=t+s,u=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>ha||Math.abs(this._y1-u)>ha)&&this._append`L${c},${u}`,r&&(h<0&&(h=h%jv+jv),h>lW?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:h>ha&&this._append`A${r},${r},0,${+(h>=Sv)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function e0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uW(t)}function t0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function MO(e){this._context=e}MO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Nh(e){return new MO(e)}function LO(e){return e[0]}function $O(e){return e[1]}function FO(e,t){var n=Le(!0),r=null,i=Nh,a=null,o=e0(s);e=typeof e=="function"?e:e===void 0?LO:Le(e),t=typeof t=="function"?t:t===void 0?$O:Le(t);function s(l){var c,u=(l=t0(l)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,c,l),+t(f,c,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Le(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Le(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Le(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function Pu(e,t,n){var r=null,i=Le(!0),a=null,o=Nh,s=null,l=e0(c);e=typeof e=="function"?e:e===void 0?LO:Le(+e),t=typeof t=="function"?t:Le(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?$O:Le(+n);function c(f){var h,p,m,g=(f=t0(f)).length,v,y=!1,b,w=new Array(g),S=new Array(g);for(a==null&&(s=o(b=l())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(w[m],S[m]);s.lineEnd(),s.areaEnd()}y&&(w[h]=+e(v,h,f),S[h]=+t(v,h,f),s.point(r?+r(v,h,f):w[h],n?+n(v,h,f):S[h]))}if(b)return s=null,b+""||null}function u(){return FO().defined(i).curve(o).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Le(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Le(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Le(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Le(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Le(!!f),c):i},c.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),c):o},c.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),c):a},c}class UO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function dW(e){return new UO(e,!0)}function fW(e){return new UO(e,!1)}const n0={draw(e,t){const n=vr(t/Xd);e.moveTo(n,0),e.arc(0,0,n,0,Ph)}},hW={draw(e,t){const n=vr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zO=vr(1/3),pW=zO*2,mW={draw(e,t){const n=vr(t/pW),r=n*zO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},gW={draw(e,t){const n=vr(t),r=-n/2;e.rect(r,r,n,n)}},vW=.8908130915292852,BO=Jd(Xd/10)/Jd(7*Xd/10),yW=Jd(Ph/10)*BO,xW=-DO(Ph/10)*BO,bW={draw(e,t){const n=vr(t*vW),r=yW*n,i=xW*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Ph*a/5,s=DO(o),l=Jd(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Sm=vr(3),wW={draw(e,t){const n=-vr(t/(Sm*3));e.moveTo(0,n*2),e.lineTo(-Sm*n,-n),e.lineTo(Sm*n,-n),e.closePath()}},Mn=-.5,Ln=vr(3)/2,_v=1/vr(12),kW=(_v/2+1)*3,SW={draw(e,t){const n=vr(t/kW),r=n/2,i=n*_v,a=r,o=n*_v+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Mn*r-Ln*i,Ln*r+Mn*i),e.lineTo(Mn*a-Ln*o,Ln*a+Mn*o),e.lineTo(Mn*s-Ln*l,Ln*s+Mn*l),e.lineTo(Mn*r+Ln*i,Mn*i-Ln*r),e.lineTo(Mn*a+Ln*o,Mn*o-Ln*a),e.lineTo(Mn*s+Ln*l,Mn*l-Ln*s),e.closePath()}};function jW(e,t){let n=null,r=e0(i);e=typeof e=="function"?e:Le(e||n0),t=typeof t=="function"?t:Le(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Le(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Le(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Qd(){}function Zd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function WO(e){this._context=e}WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _W(e){return new WO(e)}function KO(e){this._context=e}KO.prototype={areaStart:Qd,areaEnd:Qd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CW(e){return new KO(e)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EW(e){return new HO(e)}function qO(e){this._context=e}qO.prototype={areaStart:Qd,areaEnd:Qd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function PW(e){return new qO(e)}function Hk(e){return e<0?-1:1}function qk(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Hk(a)+Hk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Vk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jm(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function ef(e){this._context=e}ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jm(this,this._t0,Vk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jm(this,Vk(this,n=qk(this,e,t)),n);break;default:jm(this,this._t0,n=qk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function VO(e){this._context=new GO(e)}(VO.prototype=Object.create(ef.prototype)).point=function(e,t){ef.prototype.point.call(this,t,e)};function GO(e){this._context=e}GO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function NW(e){return new ef(e)}function OW(e){return new VO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Gk(e),i=Gk(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gk(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function AW(e){return new YO(e)}function Oh(e,t){this._context=e,this._t=t}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function TW(e){return new Oh(e,.5)}function IW(e){return new Oh(e,0)}function DW(e){return new Oh(e,1)}function ns(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,s=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Cv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function RW(e,t){return e[t]}function MW(e){const t=[];return t.key=e,t}function LW(){var e=Le([]),t=Cv,n=ns,r=RW;function i(a){var o=Array.from(e.apply(this,arguments),MW),s,l=o.length,c=-1,u;for(const f of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(f,o[s].key,c,a)]).data=f;for(s=0,u=t0(t(o));s<l;++s)o[u[s]].index=s;return n(o,u),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Le(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Le(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Cv:typeof a=="function"?a:Le(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??ns,i):n},i}function $W(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}ns(e,t)}}function FW(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}ns(e,t)}}function UW(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],f=u[r][1]||0,h=u[r-1][1]||0,p=(f-h)/2,m=0;m<s;++m){var g=e[t[m]],v=g[r][1]||0,y=g[r-1][1]||0;p+=v-y}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,ns(e,t)}}var zW=["type","size","sizeType"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(r){BW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BW(e,t,n){return(t=WW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WW(e){var t=KW(e,"string");return typeof t=="symbol"?t:t+""}function KW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e,t){if(e==null)return{};var n,r,i=qW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JO={symbolCircle:n0,symbolCross:hW,symbolDiamond:mW,symbolSquare:gW,symbolStar:bW,symbolTriangle:wW,symbolWye:SW},VW=Math.PI/180,GW=e=>{var t="symbol".concat(Tc(e));return JO[t]||n0},YW=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*VW;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JW=(e,t)=>{JO["symbol".concat(Tc(e))]=t},r0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=HW(e,zW),a=Jk(Jk({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=GW(o),p=jW().type(h).size(YW(n,r,o));return p()},{className:l,cx:c,cy:u}=a,f=Ee(a,!0);return c===+c&&u===+u&&n===+n?x.createElement("path",Ev({},f,{className:ye("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:s()})):null};r0.registerSymbol=JW;function Pv(){return Pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pv.apply(null,arguments)}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){i0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i0(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $n=32;class a0 extends x.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=$n/2,a=$n/6,o=$n/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:$n,y2:i,className:"recharts-legend-icon"});if(l==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat($n,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return x.createElement("path",{stroke:"none",fill:s,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var c=XW({},t);return delete c.legendIcon,x.cloneElement(t.legendIcon,c)}return x.createElement(r0,{fill:s,cx:i,cy:i,size:$n,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:o}=this.props,s={x:0,y:0,width:$n,height:$n},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||i,p=ye({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?a:u.color,g=h?h(u.value,u,f):u.value;return x.createElement("li",Pv({className:p,style:l,key:"legend-item-".concat(f)},js(this.props,u,f)),x.createElement(Zx,{width:n,height:n,viewBox:s,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,o)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}i0(a0,"displayName","Legend");i0(a0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var XO={},QO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],s=r(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(QO);var Ic={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ic);var ZO={},Ah={},eA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(eA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eA;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Ah);var tA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(tA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ah,n=tA;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(ZO);var Th={},nA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mh;function n(r){return function(i){return t.get(i,r)}}e.property=n})(nA);var rA={},_m={},Cm={},o0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(o0);var s0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(s0);var l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(l0);var Qk;function eK(){return Qk||(Qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0(),n=o0,r=s0,i=l0;function a(f,h,p){return typeof p!="function"?t.isMatch(f,h):o(f,h,function m(g,v,y,b,w,S){const j=p(g,v,y,b,w,S);return j!==void 0?!!j:o(g,v,m,S)},new Map)}function o(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return s(f,h,p,m);case"function":return Object.keys(h).length>0?o(f,{...h},p,m):i.eq(f,h);default:return n.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function s(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(f,h,p,m);if(h instanceof Map)return l(f,h,p,m);if(h instanceof Set)return u(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let v=0;v<g.length;v++){const y=g[v];if(!r.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of h.entries()){const y=f.get(g);if(p(y,v,g,f,h,m)===!1)return!1}return!0}function c(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<h.length;v++){const y=h[v];let b=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const S=f[w];let j=!1;if(p(S,y,v,f,h,m)&&(j=!0),j){g.add(w),b=!0;break}}if(!b)return!1}return!0}function u(f,h,p,m){return h.size===0?!0:f instanceof Set?c([...f],[...h],p,m):!1}e.isMatchWith=a,e.isSetMatch=u}(Cm)),Cm}var Zk;function c0(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eK();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(_m)),_m}var iA={},u0={},aA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(aA);var d0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(d0);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",P="[object Float32Array]",N="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=S,e.booleanTag=i,e.dataViewTag=g,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=P,e.float64ArrayTag=N,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(f0);var oA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(oA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aA,n=d0,r=f0,i=s0,a=oA;function o(u,f){return s(u,void 0,u,new Map,f)}function s(u,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,f,h,p);if(g!==void 0)return g;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const v=new Array(u.length);p.set(u,v);for(let y=0;y<u.length;y++)v[y]=s(u[y],y,h,p,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;p.set(u,v);for(const[y,b]of u)v.set(y,s(b,y,h,p,m));return v}if(u instanceof Set){const v=new Set;p.set(u,v);for(const y of u)v.add(s(y,void 0,h,p,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,v);for(let y=0;y<u.length;y++)v[y]=s(u[y],y,h,p,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,v),l(v,u,h,p,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return p.set(u,v),l(v,u,h,p,m),v}if(typeof Blob<"u"&&u instanceof Blob){const v=new Blob([u],{type:u.type});return p.set(u,v),l(v,u,h,p,m),v}if(u instanceof Error){const v=new u.constructor;return p.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,h,p,m),v}if(u instanceof Boolean){const v=new Boolean(u.valueOf());return p.set(u,v),l(v,u,h,p,m),v}if(u instanceof Number){const v=new Number(u.valueOf());return p.set(u,v),l(v,u,h,p,m),v}if(u instanceof String){const v=new String(u.valueOf());return p.set(u,v),l(v,u,h,p,m),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return p.set(u,v),l(v,u,h,p,m),v}return u}function l(u,f,h=u,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const y=g[v],b=Object.getOwnPropertyDescriptor(u,y);(b==null||b.writable)&&(u[y]=s(f[y],y,h,p,m))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(u0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(iA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0(),n=iA;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(rA);var sA={},lA={},cA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0,n=f0;function r(i,a){return t.cloneDeepWith(i,(o,s,l,c)=>{const u=a==null?void 0:a(o,s,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case n.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=r})(cA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cA;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(lA);var uA={},h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(h0);var dA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d0;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(dA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gx,n=h0,r=dA,i=vh;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let c=o;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(uA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c0(),n=gh,r=lA,i=mh,a=uA;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,s);return u===void 0?a.has(c,s):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=o})(sA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ic,n=nA,r=rA,i=sA;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Th);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QO,n=Ic,r=ZO,i=Th;function a(o,s=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(XO);var tK=XO.uniqBy;const eS=On(tK);function fA(e,t,n){return t===!0?eS(e,n):typeof t=="function"?eS(e,t):e}var hA={exports:{}},pA={},mA={exports:{}},gA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=x;function nK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rK=typeof Object.is=="function"?Object.is:nK,iK=rs.useState,aK=rs.useEffect,oK=rs.useLayoutEffect,sK=rs.useDebugValue;function lK(e,t){var n=t(),r=iK({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return oK(function(){i.value=n,i.getSnapshot=t,Em(i)&&a({inst:i})},[e,n,t]),aK(function(){return Em(i)&&a({inst:i}),e(function(){Em(i)&&a({inst:i})})},[e]),sK(n),n}function Em(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rK(e,n)}catch{return!0}}function cK(e,t){return t()}var uK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cK:lK;gA.useSyncExternalStore=rs.useSyncExternalStore!==void 0?rs.useSyncExternalStore:uK;mA.exports=gA;var dK=mA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=x,fK=dK;function hK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pK=typeof Object.is=="function"?Object.is:hK,mK=fK.useSyncExternalStore,gK=Ih.useRef,vK=Ih.useEffect,yK=Ih.useMemo,xK=Ih.useDebugValue;pA.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=gK(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=yK(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,pK(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,f=g)}var c=!1,u,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=mK(e,a[0],a[1]);return vK(function(){o.hasValue=!0,o.value=s},[s]),xK(s),s};hA.exports=pA;var bK=hA.exports,p0=x.createContext(null),wK=e=>e,Ke=()=>{var e=x.useContext(p0);return e?e.store.dispatch:wK},ld=()=>{},kK=()=>ld,SK=(e,t)=>e===t;function ne(e){var t=x.useContext(p0);return bK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:kK,t?t.store.getState:ld,t?t.store.getState:ld,t?e:ld,SK)}function jK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _K(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function CK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var tS=e=>Array.isArray(e)?e:[e];function EK(e){const t=Array.isArray(e[0])?e[0]:e;return CK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function PK(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var NK=class{constructor(e){this.value=e}deref(){return this.value}},OK=typeof WeakRef<"u"?WeakRef:NK,AK=0,nS=1;function Nu(){return{s:AK,v:void 0,o:null,p:null}}function vA(e,t={}){let n=Nu();const{resultEqualityCheck:r}=t;let i,a=0;function o(){var f;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const v=g.get(m);v===void 0?(s=Nu(),g.set(m,s)):s=v}else{let g=s.p;g===null&&(s.p=g=new Map);const v=g.get(m);v===void 0?(s=Nu(),g.set(m,s)):s=v}}const c=s;let u;if(s.s===nS)u=s.v;else if(u=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,u)&&(u=h,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new OK(u):u}return c.s=nS,c.v=u,u}return o.clearCache=()=>{n=Nu(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function TK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),jK(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=vA,argsMemoizeOptions:m=[],devModeChecks:g={}}=u,v=tS(h),y=tS(m),b=EK(i),w=f(function(){return a++,c.apply(null,arguments)},...v),S=p(function(){o++;const k=PK(b,arguments);return s=w.apply(null,k),s},...y);return Object.assign(S,{resultFunc:c,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var $=TK(vA),IK=Object.assign((e,t=$)=>{_K(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((o,s,l)=>(o[n[l]]=s,o),{}))},{withTypes:()=>IK}),yA={},xA={},bA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=t(r),s=t(i);if(o===s&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=n})(bA);var wA={},m0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(m0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(wA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bA,n=wA,r=vh;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const c=(p,m)=>{let g=p;for(let v=0;v<m.length&&g!=null;++v)g=g[m[v]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(p.criteria[g],m.criteria[g],s[g]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(xA);var kA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),o=(s,l)=>{for(let c=0;c<s.length;c++){const u=s[c];Array.isArray(u)&&l<a?o(u,l+1):i.push(u)}};return o(n,0),i}e.flatten=t})(kA);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0,n=Ah,r=o0,i=l0;function a(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(g0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xA,n=kA,r=g0;function i(a,...o){const s=o.length;return s>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=i})(yA);var DK=yA.sortBy;const Dh=On(DK);var SA=e=>e.legend.settings,RK=e=>e.legend.size,MK=e=>e.legend.payload,LK=$([MK,SA],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Dh(r,n):r});function $K(){return ne(LK)}var Ou=1;function jA(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ou||Math.abs(o.left-t.left)>Ou||Math.abs(o.top-t.top)>Ou||Math.abs(o.width-t.width)>Ou)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FK=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),rS=FK,Pm=()=>Math.random().toString(36).substring(7).split("").join("."),UK={INIT:`@@redux/INIT${Pm()}`,REPLACE:`@@redux/REPLACE${Pm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pm()}`},tf=UK;function v0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _A(e,t,n){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pt(1));return n(_A)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((v,y)=>{o.set(y,v)}))}function u(){if(l)throw new Error(Pt(3));return i}function f(v){if(typeof v!="function")throw new Error(Pt(4));if(l)throw new Error(Pt(5));let y=!0;c();const b=s++;return o.set(b,v),function(){if(y){if(l)throw new Error(Pt(6));y=!1,c(),o.delete(b),a=null}}}function h(v){if(!v0(v))throw new Error(Pt(7));if(typeof v.type>"u")throw new Error(Pt(8));if(typeof v.type!="string")throw new Error(Pt(17));if(l)throw new Error(Pt(9));try{l=!0,i=r(i,v)}finally{l=!1}return(a=o).forEach(b=>{b()}),v}function p(v){if(typeof v!="function")throw new Error(Pt(10));r=v,h({type:tf.REPLACE})}function m(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Pt(11));function b(){const S=y;S.next&&S.next(u())}return b(),{unsubscribe:v(b)}},[rS](){return this}}}return h({type:tf.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[rS]:m}}function zK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:tf.INIT})>"u")throw new Error(Pt(12));if(typeof n(void 0,{type:tf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function CA(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{zK(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],h=n[f],p=o[f],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(Pt(14));c[f]=m,l=l||m!==p}return l=l||r.length!==Object.keys(o).length,l?c:o}}function nf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function BK(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Pt(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=nf(...s)(i.dispatch),{...i,dispatch:a}}}function EA(e){return v0(e)&&"type"in e&&typeof e.type=="string"}var PA=Symbol.for("immer-nothing"),iS=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var is=Object.getPrototypeOf;function Ka(e){return!!e&&!!e[Pn]}function ii(e){var t;return e?NA(e)||Array.isArray(e)||!!e[iS]||!!((t=e.constructor)!=null&&t[iS])||Dc(e)||Mh(e):!1}var WK=Object.prototype.constructor.toString();function NA(e){if(!e||typeof e!="object")return!1;const t=is(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===WK}function rf(e,t){Rh(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Rh(e){const t=e[Pn];return t?t.type_:Array.isArray(e)?1:Dc(e)?2:Mh(e)?3:0}function Nv(e,t){return Rh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function OA(e,t,n){const r=Rh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function KK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dc(e){return e instanceof Map}function Mh(e){return e instanceof Set}function pa(e){return e.copy_||e.base_}function Ov(e,t){if(Dc(e))return new Map(e);if(Mh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=NA(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Pn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(is(e),r)}else{const r=is(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function y0(e,t=!1){return Lh(e)||Ka(e)||!ii(e)||(Rh(e)>1&&Object.defineProperties(e,{set:{value:Au},add:{value:Au},clear:{value:Au},delete:{value:Au}}),Object.freeze(e),t&&Object.values(e).forEach(n=>y0(n,!0))),e}function Au(){lr(2)}function Lh(e){return Object.isFrozen(e)}var HK={};function Ha(e){const t=HK[e];return t||lr(0,e),t}var oc;function AA(){return oc}function qK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aS(e,t){t&&(Ha("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Av(e){Tv(e),e.drafts_.forEach(VK),e.drafts_=null}function Tv(e){e===oc&&(oc=e.parent_)}function oS(e){return oc=qK(oc,e)}function VK(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function sS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Pn].modified_&&(Av(t),lr(4)),ii(e)&&(e=af(t,e),t.parent_||of(t,e)),t.patches_&&Ha("Patches").generateReplacementPatches_(n[Pn].base_,e,t.patches_,t.inversePatches_)):e=af(t,n,[]),Av(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==PA?e:void 0}function af(e,t,n){if(Lh(t))return t;const r=t[Pn];if(!r)return rf(t,(i,a)=>lS(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return of(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),rf(a,(s,l)=>lS(e,r,i,s,l,n,o)),of(e,i,!1),n&&e.patches_&&Ha("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function lS(e,t,n,r,i,a,o){if(Ka(i)){const s=a&&t&&t.type_!==3&&!Nv(t.assigned_,r)?a.concat(r):void 0,l=af(e,i,s);if(OA(n,r,l),Ka(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ii(i)&&!Lh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;af(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Dc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&of(e,i)}}function of(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&y0(t,n)}function GK(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:AA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=x0;n&&(i=[r],a=sc);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var x0={get(e,t){if(t===Pn)return e;const n=pa(e);if(!Nv(n,t))return YK(e,n,t);const r=n[t];return e.finalized_||!ii(r)?r:r===Nm(e.base_,t)?(Om(e),e.copy_[t]=Dv(r,e)):r},has(e,t){return t in pa(e)},ownKeys(e){return Reflect.ownKeys(pa(e))},set(e,t,n){const r=TA(pa(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Nm(pa(e),t),a=i==null?void 0:i[Pn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(KK(n,i)&&(n!==void 0||Nv(e.base_,t)))return!0;Om(e),Iv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Nm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Om(e),Iv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lr(11)},getPrototypeOf(e){return is(e.base_)},setPrototypeOf(){lr(12)}},sc={};rf(x0,(e,t)=>{sc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sc.deleteProperty=function(e,t){return sc.set.call(this,e,t,void 0)};sc.set=function(e,t,n){return x0.set.call(this,e[0],t,n,e[0])};function Nm(e,t){const n=e[Pn];return(n?pa(n):e)[t]}function YK(e,t,n){var i;const r=TA(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function TA(e,t){if(!(t in e))return;let n=is(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=is(n)}}function Iv(e){e.modified_||(e.modified_=!0,e.parent_&&Iv(e.parent_))}function Om(e){e.copy_||(e.copy_=Ov(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var JK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&lr(6),r!==void 0&&typeof r!="function"&&lr(7);let i;if(ii(t)){const a=oS(this),o=Dv(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?Av(a):Tv(a)}return aS(a,r),sS(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===PA&&(i=void 0),this.autoFreeze_&&y0(i,!0),r){const a=[],o=[];Ha("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else lr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ii(e)||lr(8),Ka(e)&&(e=Qr(e));const t=oS(this),n=Dv(e,void 0);return n[Pn].isManual_=!0,Tv(t),n}finishDraft(e,t){const n=e&&e[Pn];(!n||!n.isManual_)&&lr(9);const{scope_:r}=n;return aS(r,t),sS(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ha("Patches").applyPatches_;return Ka(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Dv(e,t){const n=Dc(e)?Ha("MapSet").proxyMap_(e,t):Mh(e)?Ha("MapSet").proxySet_(e,t):GK(e,t);return(t?t.scope_:AA()).drafts_.push(n),n}function Qr(e){return Ka(e)||lr(10,e),IA(e)}function IA(e){if(!ii(e)||Lh(e))return e;const t=e[Pn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ov(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Ov(e,!0);return rf(n,(r,i)=>{OA(n,r,IA(i))}),t&&(t.finalized_=!1),n}var XK=new JK,DA=XK.produce;function RA(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var QK=RA(),ZK=RA,eH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nf:nf.apply(null,arguments)};function Xn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(_n(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>EA(r)&&r.type===e,n}var MA=class ml extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ml.prototype)}static get[Symbol.species](){return ml}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ml(...t[0].concat(this)):new ml(...t.concat(this))}};function cS(e){return ii(e)?DA(e,()=>{}):e}function Tu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function tH(e){return typeof e=="boolean"}var nH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new MA;return n&&(tH(n)?o.push(QK):o.push(ZK(n.extraArgument))),o},rH="RTK_autoBatch",uS=e=>t=>{setTimeout(t,e)},iH=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uS(10):e.type==="callback"?e.queueNotification:uS(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const f=()=>i&&u(),h=r.subscribe(f);return s.add(u),()=>{h(),s.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[rH]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},aH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new MA(e);return r&&i.push(iH(typeof r=="object"?r:void 0)),i};function oH(e){const t=nH(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(v0(n))l=CA(n);else throw new Error(_n(1));let c;typeof r=="function"?c=r(t):c=t();let u=nf;i&&(u=eH({trace:!1,...typeof i=="object"&&i}));const f=BK(...c),h=aH(f);let p=typeof s=="function"?s(h):h();const m=u(...p);return _A(l,o,m)}function LA(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(_n(28));if(s in t)throw new Error(_n(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function sH(e){return typeof e=="function"}function lH(e,t){let[n,r,i]=LA(t),a;if(sH(e))a=()=>cS(e());else{const s=cS(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(Ka(u)){const p=f(u,l);return p===void 0?u:p}else{if(ii(u))return DA(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},s)}return o.getInitialState=a,o}var cH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uH=(e=21)=>{let t="",n=e;for(;n--;)t+=cH[Math.random()*64|0];return t},dH=Symbol.for("rtk-slice-createasyncthunk");function fH(e,t){return`${e}/${t}`}function hH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[dH];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(_n(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(mH()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(S,j){const k=typeof S=="string"?S:S.type;if(!k)throw new Error(_n(12));if(k in c.sliceCaseReducersByType)throw new Error(_n(13));return c.sliceCaseReducersByType[k]=j,u},addMatcher(S,j){return c.sliceMatchers.push({matcher:S,reducer:j}),u},exposeAction(S,j){return c.actionCreators[S]=j,u},exposeCaseReducer(S,j){return c.sliceCaseReducersByName[S]=j,u}};l.forEach(S=>{const j=s[S],k={reducerName:S,type:fH(a,S),createNotation:typeof i.reducers=="function"};vH(j)?xH(k,j,u,t):gH(k,j,u)});function f(){const[S={},j=[],k=void 0]=typeof i.extraReducers=="function"?LA(i.extraReducers):[i.extraReducers],E={...S,...c.sliceCaseReducersByType};return lH(i.initialState,O=>{for(let P in E)O.addCase(P,E[P]);for(let P of c.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of j)O.addMatcher(P.matcher,P.reducer);k&&O.addDefaultCase(k)})}const h=S=>S,p=new Map,m=new WeakMap;let g;function v(S,j){return g||(g=f()),g(S,j)}function y(){return g||(g=f()),g.getInitialState()}function b(S,j=!1){function k(O){let P=O[S];return typeof P>"u"&&j&&(P=Tu(m,k,y)),P}function E(O=h){const P=Tu(p,j,()=>new WeakMap);return Tu(P,O,()=>{const N={};for(const[I,A]of Object.entries(i.selectors??{}))N[I]=pH(A,O,()=>Tu(m,O,y),j);return N})}return{reducerPath:S,getSelectors:E,get selectors(){return E(k)},selectSlice:k}}const w={name:a,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...b(o),injectInto(S,{reducerPath:j,...k}={}){const E=j??o;return S.inject({reducerPath:E,reducer:v},k),{...w,...b(E,!0)}}};return w}}function pH(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Dn=hH();function mH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function gH({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!yH(r))throw new Error(_n(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Xn(e,o):Xn(e))}function vH(e){return e._reducerDefinitionType==="asyncThunk"}function yH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function xH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(_n(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=n,f=i(e,a,u);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(t,{fulfilled:o||Iu,pending:s||Iu,rejected:l||Iu,settled:c||Iu})}function Iu(){}var bH="task",$A="listener",FA="completed",b0="cancelled",wH=`task-${b0}`,kH=`task-${FA}`,Rv=`${$A}-${b0}`,SH=`${$A}-${FA}`,$h=class{constructor(e){nu(this,"name","TaskAbortError");nu(this,"message");this.code=e,this.message=`${bH} ${b0} (reason: ${e})`}},w0=(e,t)=>{if(typeof e!="function")throw new TypeError(_n(32))},sf=()=>{},UA=(e,t=sf)=>(e.catch(t),e),zA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ta=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ia=e=>{if(e.aborted){const{reason:t}=e;throw new $h(t)}};function BA(e,t){let n=sf;return new Promise((r,i)=>{const a=()=>i(new $h(e.reason));if(e.aborted){a();return}n=zA(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=sf})}var jH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof $h?"cancelled":"rejected",error:n}}finally{t==null||t()}},lf=e=>t=>UA(BA(e,t).then(n=>(Ia(e),n))),WA=e=>{const t=lf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Wo}=Object,dS={},Fh="listenerMiddleware",_H=(e,t)=>{const n=r=>zA(e,()=>Ta(r,e.reason));return(r,i)=>{w0(r);const a=new AbortController;n(a);const o=jH(async()=>{Ia(e),Ia(a.signal);const s=await r({pause:lf(a.signal),delay:WA(a.signal),signal:a.signal});return Ia(a.signal),s},()=>Ta(a,kH));return i!=null&&i.autoJoin&&t.push(o.catch(sf)),{result:lf(e)(o),cancel(){Ta(a,wH)}}}},CH=(e,t)=>{const n=async(r,i)=>{Ia(t);let a=()=>{};const s=[new Promise((l,c)=>{let u=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await BA(t,Promise.race(s));return Ia(t),l}finally{a()}};return(r,i)=>UA(n(r,i))},KA=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=Xn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(_n(21));return w0(a),{predicate:i,type:t,effect:a}},HA=Wo(e=>{const{type:t,predicate:n,effect:r}=KA(e);return{id:uH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_n(22))}}},{withTypes:()=>HA}),fS=(e,t)=>{const{type:n,effect:r,predicate:i}=KA(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Mv=e=>{e.pending.forEach(t=>{Ta(t,Rv)})},EH=e=>()=>{e.forEach(Mv),e.clear()},hS=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},qA=Wo(Xn(`${Fh}/add`),{withTypes:()=>qA}),PH=Xn(`${Fh}/removeAll`),VA=Wo(Xn(`${Fh}/remove`),{withTypes:()=>VA}),NH=(...e)=>{console.error(`${Fh}/error`,...e)},Rc=(e={})=>{const t=new Map,{extra:n,onError:r=NH}=e;w0(r);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&Mv(u)}),a=u=>{const f=fS(t,u)??HA(u);return i(f)};Wo(a,{withTypes:()=>a});const o=u=>{const f=fS(t,u);return f&&(f.unsubscribe(),u.cancelActive&&Mv(f)),!!f};Wo(o,{withTypes:()=>o});const s=async(u,f,h,p)=>{const m=new AbortController,g=CH(a,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(f,Wo({},h,{getOriginalState:p,condition:(y,b)=>g(y,b).then(Boolean),take:g,delay:WA(m.signal),pause:lf(m.signal),extra:n,signal:m.signal,fork:_H(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,b,w)=>{y!==m&&(Ta(y,Rv),w.delete(y))})},cancel:()=>{Ta(m,Rv),u.pending.delete(m)},throwIfCancelled:()=>{Ia(m.signal)}})))}catch(y){y instanceof $h||hS(r,y,{raisedBy:"effect"})}finally{await Promise.all(v),Ta(m,SH),u.pending.delete(m)}},l=EH(t);return{middleware:u=>f=>h=>{if(!EA(h))return f(h);if(qA.match(h))return a(h.payload);if(PH.match(h)){l();return}if(VA.match(h))return o(h.payload);let p=u.getState();const m=()=>{if(p===dS)throw new Error(_n(23));return p};let g;try{if(g=f(h),t.size>0){const v=u.getState(),y=Array.from(t.values());for(const b of y){let w=!1;try{w=b.predicate(h,v,p)}catch(S){w=!1,hS(r,S,{raisedBy:"predicate"})}w&&s(b,h,u,m)}}}finally{p=dS}return g},startListening:a,stopListening:o,clearListeners:l}};function _n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GA=Dn({name:"chartLayout",initialState:OH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:AH,setLayout:TH,setChartSize:IH,setScale:DH}=GA.actions,RH=GA.reducer;function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(r){MH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MH(e,t,n){return(t=LH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf=Math.PI/180,uf=e=>e*Math.PI/180,FH=e=>e*180/Math.PI,Ne=(e,t,n,r)=>({x:e+Math.cos(-cf*r)*n,y:t+Math.sin(-cf*r)*n}),UH=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},zH=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},BH=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,o=zH({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:FH(l),angleInRadian:l}},WH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},KH=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return e+o*360},HH=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:a}=BH({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:c}=WH(t),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?mS(mS({},t),{},{radius:i,angle:KH(u,t)}):null},YA=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function JA(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(n),!0).forEach(function(r){qH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qH(e,t,n){return(t=VH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yt(e,t,n){return rt(e)||rt(t)?n:Rr(t)?ts(e,t,n):typeof t=="function"?t(e):n}var YH=(e,t,n,r,i)=>{var a,o=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c=l>0?n[l-1].coordinate:n[s-1].coordinate,u=n[l].coordinate,f=l>=s-1?n[0].coordinate:n[l+1].coordinate,h=void 0;if(on(u-c)!==on(f-u)){var p=[];if(on(f-u)===on(i[1]-i[0])){h=f;var m=u+i[1]-i[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=f+i[1]-i[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:o}=n[l]);break}}else{var y=Math.min(c,f),b=Math.max(c,f);if(e>(y+u)/2&&e<=(b+u)/2){({index:o}=n[l]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:o}=t[w]);break}}return o},JH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&le(e[a]))return Hn(Hn({},e),{},{[a]:e[a]+(r||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&le(e[o]))return Hn(Hn({},e),{},{[o]:e[o]+(i||0)})}return e},ea=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XA=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===n&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(n),o},QA=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!o)return null;var m=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,g=(t||n)&&i==="category"&&o.bandwidth?o.bandwidth()/m:0;if(g=p==="angleAxis"&&a&&a.length>=2?on(a[0]-a[1])*2*g:g,t&&(f||h)){var v=(f||h||[]).map((y,b)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+g,value:y,offset:g,index:b}});return v.filter(y=>!En(y.coordinate))}return l&&c?c.map((y,b)=>({coordinate:o(y)+g,value:y,index:b,offset:g})):o.ticks&&!n&&u!=null?o.ticks(u).map((y,b)=>({coordinate:o(y)+g,value:y,offset:g,index:b})):o.domain().map((y,b)=>({coordinate:o(y)+g,value:r?r[y]:y,index:b,offset:g}))},vS=1e-4,XH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-vS,a=Math.max(r[0],r[1])+vS,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},QH=(e,t)=>{if(!t||t.length!==2||!le(t[0])||!le(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(i[0]=n),(!le(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},ZH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=En(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},eq=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=En(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},tq={sign:ZH,expand:$W,none:ns,silhouette:FW,wiggle:UW,positive:eq},nq=(e,t,n)=>{var r=tq[n],i=LW().keys(t).value((a,o)=>+yt(a,o,0)).order(Cv).offset(r);return i(e)};function rq(e){return e==null?void 0:String(e)}var yS=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var s=yt(a,t.dataKey,t.scale.domain()[o]);return rt(s)?null:t.scale(s)-i/2+r},iq=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},aq=e=>{var t=e.flat(2).filter(le);return[Math.min(...t),Math.max(...t)]},oq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],sq=(e,t,n)=>{if(e!=null)return oq(Object.keys(e).reduce((r,i)=>{var a=e[i],{stackedData:o}=a,s=o.reduce((l,c)=>{var u=JA(c,t,n),f=aq(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},xS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Dh(t,u=>u.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function wS(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Hn(Hn({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Uh(e,t){if(e)return String(e);if(typeof t=="string")return t}function lq(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return r?HH({x:e,y:t},r):null}var cq=(e,t,n,r)=>{var i=t.find(c=>c&&c.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:o}=r;return Hn(Hn(Hn({},r),Ne(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=r;return Hn(Hn(Hn({},r),Ne(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{x:0,y:0}},uq=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,di=e=>e.layout.width,fi=e=>e.layout.height,dq=e=>e.layout.scale,ZA=e=>e.layout.margin,zh=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bh=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),fq="data-recharts-item-index",hq="data-recharts-item-data-key",Mc=60;function kS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(n),!0).forEach(function(r){pq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pq(e,t,n){return(t=mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vq=e=>e.brush.height;function yq(e){var t=Bh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function xq(e){var t=Bh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function bq(e){var t=zh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function wq(e){var t=zh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _t=$([di,fi,ZA,vq,yq,xq,bq,wq,SA,RK],(e,t,n,r,i,a,o,s,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},h=Du(Du({},f),u),p=h.bottom;h.bottom+=r,h=JH(h,l,c);var m=e-h.left-h.right,g=t-h.top-h.bottom;return Du(Du({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),kq=$(_t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),k0=$(di,fi,(e,t)=>({x:0,y:0,width:e,height:t})),Sq=x.createContext(null),hn=()=>x.useContext(Sq)!=null,Wh=e=>e.brush,Kh=$([Wh,_t,ZA],(e,t,n)=>({height:e.height,x:le(e.x)?e.x:t.left,y:le(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:le(e.width)?e.width:t.width})),S0=()=>{var e,t=hn(),n=ne(kq),r=ne(Kh),i=(e=ne(Wh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},jq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},e2=()=>{var e;return(e=ne(_t))!==null&&e!==void 0?e:jq},j0=()=>ne(di),_0=()=>ne(fi),_q=()=>ne(e=>e.layout.margin),xe=e=>e.layout.layoutType,C0=()=>ne(xe),Cq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},t2=Dn({name:"legend",initialState:Cq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Qr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:SS,setLegendSettings:Eq,addLegendPayload:n2,removeLegendPayload:r2}=t2.actions,Pq=t2.reducer,Nq=["contextPayload"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(null,arguments)}function jS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(n),!0).forEach(function(r){E0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E0(e,t,n){return(t=Oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tq(e,t){if(e==null)return{};var n,r,i=Iq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dq(e){return e.value}function Rq(e){var{contextPayload:t}=e,n=Tq(e,Nq),r=fA(t,e.payloadUniqBy,Dq),i=as(as({},n),{},{payload:r});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(a0,i)}function Mq(e,t,n,r,i,a){var{layout:o,align:s,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?c={left:((r||0)-a.width)/2}:c=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),as(as({},c),u)}function Lq(e){var t=Ke();return x.useEffect(()=>{t(Eq(e))},[t,e]),null}function $q(e){var t=Ke();return x.useEffect(()=>(t(SS(e)),()=>{t(SS({width:0,height:0}))}),[t,e]),null}function Fq(e){var t=$K(),n=sW(),r=_q(),{width:i,height:a,wrapperStyle:o,portal:s}=e,[l,c]=jA([t]),u=j0(),f=_0();if(u==null||f==null)return null;var h=u-(r.left||0)-(r.right||0),p=Hh.getWidthOrHeight(e.layout,a,i,h),m=s?o:as(as({position:"absolute",width:(p==null?void 0:p.width)||i||"auto",height:(p==null?void 0:p.height)||a||"auto"},Mq(o,e,r,u,f,l)),o),g=s??n;if(g==null)return null;var v=x.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},x.createElement(Lq,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement($q,{width:l.width,height:l.height}),x.createElement(Rq,Lv({},e,p,{margin:r,chartWidth:u,chartHeight:f,contextPayload:t})));return vx.createPortal(v,g)}class Hh extends x.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&le(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return x.createElement(Fq,this.props)}}E0(Hh,"displayName","Legend");E0(Hh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(null,arguments)}function _S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Am(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(n),!0).forEach(function(r){Uq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_S(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uq(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var Kq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(s?Dh(a,s):a).map((E,O)=>{if(E.type==="none")return null;var P=E.formatter||o||Wq,{value:N,name:I}=E,A=N,R=I;if(P){var M=P(N,I,E,O,a);if(Array.isArray(M))[A,R]=M;else if(M!=null)A=M;else return null}var U=Am({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:U},Rr(R)?x.createElement("span",{className:"recharts-tooltip-item-name"},R):null,Rr(R)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},A),x.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},m=Am({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),g=Am({margin:0},i),v=!rt(u),y=v?u:"",b=ye("recharts-default-tooltip",l),w=ye("recharts-tooltip-label",c);v&&f&&a!==void 0&&a!==null&&(y=f(u,a));var S=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",$v({className:b,style:m},S),x.createElement("p",{className:w,style:g},x.isValidElement(y)?y:"".concat(y)),p())},tl="recharts-tooltip-wrapper",Hq={visibility:"hidden"};function qq(e){var{coordinate:t,translateX:n,translateY:r}=e;return ye(tl,{["".concat(tl,"-right")]:le(n)&&t&&le(t.x)&&n>=t.x,["".concat(tl,"-left")]:le(n)&&t&&le(t.x)&&n<t.x,["".concat(tl,"-bottom")]:le(r)&&t&&le(t.y)&&r>=t.y,["".concat(tl,"-top")]:le(r)&&t&&le(t.y)&&r<t.y})}function CS(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&le(a[r]))return a[r];var u=n[r]-s-(i>0?i:0),f=n[r]+i;if(t[r])return o[r]?u:f;var h=l[r];if(h==null)return 0;if(o[r]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var g=f+s,v=h+c;return g>v?Math.max(u,h):Math.max(f,h)}function Vq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Gq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,c,u,f;return o.height>0&&o.width>0&&n?(u=CS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=CS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=Vq({translateX:u,translateY:f,useTranslate3d:s})):c=Hq,{cssProperties:c,cssClasses:qq({translateX:u,translateY:f,coordinate:n})}}function ES(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(n),!0).forEach(function(r){Fv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fv(e,t,n){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xq extends x.PureComponent{constructor(){super(...arguments),Fv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Fv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:w}=Gq({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),S=y?{}:Ru(Ru({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=Ru(Ru({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:v},a)}}var Qq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),no={devToolsEnabled:!1,isSsr:Qq()},i2=()=>ne(e=>e.rootProps.accessibilityLayer);function Nn(e){return Number.isFinite(e)}function os(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(null,arguments)}function PS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(n),!0).forEach(function(r){Zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zq(e,t,n){return(t=eV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e){var t=tV(e,"string");return typeof t=="symbol"?t:t+""}function tV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OS={curveBasisClosed:CW,curveBasisOpen:EW,curveBasis:_W,curveBumpX:dW,curveBumpY:fW,curveLinearClosed:PW,curveLinear:Nh,curveMonotoneX:NW,curveMonotoneY:OW,curveNatural:AW,curveStep:TW,curveStepAfter:DW,curveStepBefore:IW},Mu=e=>Nn(e.x)&&Nn(e.y),nl=e=>e.x,rl=e=>e.y,nV=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Tc(e));return(n==="curveMonotone"||n==="curveBump")&&t?OS["".concat(n).concat(t==="vertical"?"Y":"X")]:OS[n]||Nh},rV=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,o=nV(t,i),s=a?n.filter(Mu):n,l;if(Array.isArray(r)){var c=a?r.filter(f=>Mu(f)):r,u=s.map((f,h)=>NS(NS({},f),{},{base:c[h]}));return i==="vertical"?l=Pu().y(rl).x1(nl).x0(f=>f.base.x):l=Pu().x(nl).y1(rl).y0(f=>f.base.y),l.defined(Mu).curve(o),l(u)}return i==="vertical"&&le(r)?l=Pu().y(rl).x1(nl).x0(r):le(r)?l=Pu().x(nl).y1(rl).y0(r):l=FO().x(nl).y(rl),l.defined(Mu).curve(o),l(s)},iV=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var a=n&&n.length?rV(e):r;return x.createElement("path",Uv({},Xt(e),Qx(e),{className:ye("recharts-curve",t),d:a===null?void 0:a,ref:i}))},aV=["x","y","top","left","width","height","className"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(null,arguments)}function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(n),!0).forEach(function(r){sV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sV(e,t,n){return(t=lV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lV(e){var t=cV(e,"string");return typeof t=="symbol"?t:t+""}function cV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uV(e,t){if(e==null)return{};var n,r,i=dV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fV=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),hV=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=uV(e,aV),c=oV({x:t,y:n,top:r,left:i,width:a,height:o},l);return!le(t)||!le(n)||!le(a)||!le(o)||!le(r)||!le(i)?null:x.createElement("path",zv({},Ee(c,!0),{className:ye("recharts-cross",s),d:fV(t,n,a,o,r,i)}))};function pV(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(n),!0).forEach(function(r){gV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gV(e,t,n){return(t=vV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vV(e){var t=yV(e,"string");return typeof t=="symbol"?t:t+""}function yV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pn(e,t){var n=mV({},e),r=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return a}function xV(){}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(r){bV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bV(e,t,n){return(t=wV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SV=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),a2=(e,t,n)=>e.map(r=>"".concat(SV(r)," ").concat(t,"ms ").concat(n)).join(","),jV=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),cc=(e,t)=>Object.keys(t).reduce((n,r)=>DS(DS({},n),{},{[r]:e(r,t[r])}),{});function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(r){_V(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _V(e,t,n){return(t=CV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var df=(e,t,n)=>e+(t-e)*n,Bv=e=>{var{from:t,to:n}=e;return t!==n},o2=(e,t,n)=>{var r=cc((i,a)=>{if(Bv(a)){var[o,s]=e(a.from,a.to,a.velocity);return Ot(Ot({},a),{},{from:o,velocity:s})}return a},t);return n<1?cc((i,a)=>Bv(a)?Ot(Ot({},a),{},{velocity:df(a.velocity,r[i].velocity,n),from:df(a.from,r[i].from,n)}):a,t):o2(e,r,n-1)};function PV(e,t,n,r,i,a){var o,s=r.reduce((h,p)=>Ot(Ot({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>cc((h,p)=>p.from,s),c=()=>!Object.values(s).filter(Bv).length,u=null,f=h=>{o||(o=h);var p=h-o,m=p/n.dt;s=o2(n,s,m),i(Ot(Ot(Ot({},e),t),l())),o=h,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{u()})}function NV(e,t,n,r,i,a,o){var s=null,l=i.reduce((f,h)=>Ot(Ot({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/r,p=cc((g,v)=>df(...v,n(h)),l);if(a(Ot(Ot(Ot({},e),t),p)),h<1)s=o.setTimeout(u);else{var m=cc((g,v)=>df(...v,n(1)),l);a(Ot(Ot(Ot({},e),t),m))}};return()=>(s=o.setTimeout(u),()=>{s()})}const OV=(e,t,n,r,i,a)=>{var o=jV(e,t);return n.isStepper===!0?PV(e,t,n,o,i,a):NV(e,t,n,r,o,i,a)};var ff=1e-4,s2=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],l2=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),MS=(e,t)=>n=>{var r=s2(e,t);return l2(r,n)},AV=(e,t)=>n=>{var r=s2(e,t),i=[...r.map((a,o)=>a*o).slice(1),0];return l2(i,n)},LS=function(){for(var t,n,r,i,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var l=o[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,r,n,i]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else o.length===4&&([t,r,n,i]=o);var c=MS(t,n),u=MS(r,i),f=AV(t,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,v=g,y=0;y<8;++y){var b=c(v)-g,w=f(v);if(Math.abs(b-g)<ff||w<ff)return u(v);v=h(v-b/w)}return u(v)};return p.isStepper=!1,p},TV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(o,s,l)=>{var c=-(o-s)*n,u=l*r,f=l+(c-u)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<ff&&Math.abs(f)<ff?[s,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},IV=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LS(e);case"spring":return TV();default:if(e.split("(")[0]==="cubic-bezier")return LS(e)}return typeof e=="function"?e:null};function DV(e){var t,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...c]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class RV{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function MV(){return DV(new RV)}var LV=x.createContext(MV);function $V(e,t){var n=x.useContext(LV);return x.useMemo(()=>t??n(e),[e,t,n])}var FV={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$S={t:0},Tm={t:1};function qh(e){var t=pn(e,FV),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:c}=t,u=$V(t.animationId,t.animationManager),[f,h]=x.useState(n?$S:Tm),p=x.useRef(null);return x.useEffect(()=>{n||h(Tm)},[n]),x.useEffect(()=>{if(!n||!r)return xV;var m=OV($S,Tm,IV(a),i,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,o,g,i,s]),()=>{u.stop(),p.current&&p.current(),s()}},[n,r,i,a,o,l,s,u]),c(f.t)}function Vh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=x.useRef(ac(t)),r=x.useRef(e);return r.current!==e&&(n.current=ac(t),r.current=e),n.current}function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function US(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(n),!0).forEach(function(r){UV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UV(e,t,n){return(t=zV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zV(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(null,arguments)}var zS=(e,t,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,s=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=i[f]>a?a:i[f];c="M".concat(e,",").concat(t+o*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+s*u[0],",").concat(t)),c+="L ".concat(e+n-s*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+n,",").concat(t+o*u[1])),c+="L ".concat(e+n,",").concat(t+r-o*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+n-s*u[2],",").concat(t+r)),c+="L ".concat(e+s*u[3],",").concat(t+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+r-o*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);c="M ".concat(e,",").concat(t+o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+s*p,",").concat(t,`
            L `).concat(e+n-s*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n,",").concat(t+o*p,`
            L `).concat(e+n,",").concat(t+r-o*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+n-s*p,",").concat(t+r,`
            L `).concat(e+s*p,",").concat(t+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+r-o*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},WV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c2=e=>{var t=pn(e,WV),n=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&i(M)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,v=x.useRef(s),y=x.useRef(l),b=x.useRef(a),w=x.useRef(o),S=x.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),j=Vh(S,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var k=ye("recharts-rectangle",u);if(!g)return x.createElement("path",hf({},Ee(t,!0),{className:k,d:zS(a,o,s,l,c)}));var E=v.current,O=y.current,P=b.current,N=w.current,I="0px ".concat(r===-1?1:r,"px"),A="".concat(r,"px 0px"),R=a2(["strokeDasharray"],h,typeof f=="string"?f:void 0);return x.createElement(qh,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:g,begin:p},M=>{var U=gt(E,s,M),B=gt(O,l,M),L=gt(P,a,M),T=gt(N,o,M);n.current&&(v.current=U,y.current=B,b.current=L,w.current=T);var F;return m?M>0?F={transition:R,strokeDasharray:A}:F={strokeDasharray:I}:F={strokeDasharray:A},x.createElement("path",hf({},Ee(t,!0),{className:k,d:zS(L,T,U,B,c),ref:n,style:US(US({},F),t.style)}))})};function u2(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,o=Ne(t,n,r,i),s=Ne(t,n,r,a);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wv.apply(null,arguments)}var KV=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Lu=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+r,u=Math.asin(s/c)/cf,f=l?i:i+a*u,h=Ne(t,n,c,f),p=Ne(t,n,r,f),m=l?i-a*u:i,g=Ne(t,n,c*Math.cos(u*cf),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},d2=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=e,s=KV(a,o),l=a+s,c=Ne(t,n,i,a),u=Ne(t,n,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var h=Ne(t,n,r,a),p=Ne(t,n,r,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(n," Z");return f},HV=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=on(c-l),{circleTangency:f,lineTangency:h,theta:p}=Lu({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:m,lineTangency:g,theta:v}=Lu({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(y<0)return o?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):d2({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=Lu({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:k,lineTangency:E,theta:O}=Lu({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),P=s?Math.abs(l-c):Math.abs(l-c)-j-O;if(P<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b},qV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f2=e=>{var t=pn(e,qV),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(a<i||c===u)return null;var h=ye("recharts-sector",f),p=a-i,m=gr(o,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=HV({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):g=d2({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),x.createElement("path",Wv({},Ee(t,!0),{className:h,d:g}))};function VV(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:s,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,h=Ne(s,l,c,f),p=Ne(s,l,u,f);r=h.x,i=h.y,a=p.x,o=p.y}else return u2(t);return[{x:r,y:i},{x:a,y:o}]}var h2={},p2={},m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m0;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(m2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(p2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0,n=p2;function r(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let c=0;c<s;c++)l[c]=i,i+=o;return l}e.range=r})(h2);var GV=h2.range;const g2=On(GV);function Bi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P0(e){let t,n,r;e.length!==2?(t=Bi,n=(s,l)=>Bi(e(s),l),r=(s,l)=>e(s)-l):(t=e===Bi||e===YV?e:JV,n=e,r=e);function i(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(s,l,c=0,u=s.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(s[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(s,l,c=0,u=s.length){const f=i(s,l,c,u-1);return f>c&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function JV(){return 0}function v2(e){return e===null?NaN:+e}function*XV(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const QV=P0(Bi),ZV=QV.right;P0(v2).center;const Lc=ZV;class BS extends Map{constructor(t,n=n7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(WS(this,t))}has(t){return super.has(WS(this,t))}set(t,n){return super.set(e7(this,t),n)}delete(t){return super.delete(t7(this,t))}}function WS({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function e7({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function t7({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function n7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function r7(e=Bi){if(e===Bi)return y2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function y2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i7=Math.sqrt(50),a7=Math.sqrt(10),o7=Math.sqrt(2);function pf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=i7?10:a>=a7?5:a>=o7?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?pf(e,t,n*2):[s,l,c]}function Kv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?pf(t,e,n):pf(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function Hv(e,t,n){return t=+t,e=+e,n=+n,pf(e,t,n)[2]}function qv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Hv(t,e,n):Hv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function KS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function HS(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function x2(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?y2:r7(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(t-c*f/l+h)),m=Math.min(r,Math.floor(t+(l-c)*f/l+h));x2(e,t,p,m,i)}const a=e[t];let o=n,s=r;for(il(e,n,t),i(e[r],a)>0&&il(e,n,r);o<s;){for(il(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?il(e,n,s):(++s,il(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function il(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function s7(e,t,n){if(e=Float64Array.from(XV(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return HS(e);if(t>=1)return KS(e);var r,i=(r-1)*t,a=Math.floor(i),o=KS(x2(e,a).subarray(0,a+1)),s=HS(e.subarray(a+1));return o+(s-o)*(i-a)}}function l7(e,t,n=v2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function c7(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function er(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vv=Symbol("implicit");function N0(){var e=new BS,t=[],n=[],r=Vv;function i(a){let o=e.get(a);if(o===void 0){if(r!==Vv)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new BS;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return N0(t,n).unknown(r)},er.apply(i,arguments),i}function O0(){var e=N0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-l+c*2),s&&(a=Math.floor(a)),m+=(g-m-a*(h-l))*u,o=a*(1-l),s&&(m=Math.round(m),o=Math.round(o));var v=c7(h).map(function(y){return m+a*y});return n(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return O0(t(),[r,i]).round(s).paddingInner(l).paddingOuter(c).align(u)},er.apply(f(),arguments)}function b2(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b2(t())},e}function u7(){return b2(O0.apply(null,arguments).paddingInner(1))}function A0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function w2(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $c(){}var uc=.7,mf=1/uc,Ko="\\s*([+-]?\\d+)\\s*",dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",d7=/^#([0-9a-f]{3,8})$/,f7=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),h7=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),p7=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${dc}\\)$`),m7=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${dc}\\)$`),g7=new RegExp(`^hsl\\(${dc},${Ir},${Ir}\\)$`),v7=new RegExp(`^hsla\\(${dc},${Ir},${Ir},${dc}\\)$`),qS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};A0($c,fc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VS,formatHex:VS,formatHex8:y7,formatHsl:x7,formatRgb:GS,toString:GS});function VS(){return this.rgb().formatHex()}function y7(){return this.rgb().formatHex8()}function x7(){return k2(this).formatHsl()}function GS(){return this.rgb().formatRgb()}function fc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=d7.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?YS(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$u(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$u(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f7.exec(e))?new sn(t[1],t[2],t[3],1):(t=h7.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p7.exec(e))?$u(t[1],t[2],t[3],t[4]):(t=m7.exec(e))?$u(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g7.exec(e))?QS(t[1],t[2]/100,t[3]/100,1):(t=v7.exec(e))?QS(t[1],t[2]/100,t[3]/100,t[4]):qS.hasOwnProperty(e)?YS(qS[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function YS(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function $u(e,t,n,r){return r<=0&&(e=t=n=NaN),new sn(e,t,n,r)}function b7(e){return e instanceof $c||(e=fc(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function Gv(e,t,n,r){return arguments.length===1?b7(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}A0(sn,Gv,w2($c,{brighter(e){return e=e==null?mf:Math.pow(mf,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uc:Math.pow(uc,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(Da(this.r),Da(this.g),Da(this.b),gf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JS,formatHex:JS,formatHex8:w7,formatRgb:XS,toString:XS}));function JS(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}`}function w7(){return`#${_a(this.r)}${_a(this.g)}${_a(this.b)}${_a((isNaN(this.opacity)?1:this.opacity)*255)}`}function XS(){const e=gf(this.opacity);return`${e===1?"rgb(":"rgba("}${Da(this.r)}, ${Da(this.g)}, ${Da(this.b)}${e===1?")":`, ${e})`}`}function gf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Da(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _a(e){return e=Da(e),(e<16?"0":"")+e.toString(16)}function QS(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new cr(e,t,n,r)}function k2(e){if(e instanceof cr)return new cr(e.h,e.s,e.l,e.opacity);if(e instanceof $c||(e=fc(e)),!e)return new cr;if(e instanceof cr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new cr(o,s,l,e.opacity)}function k7(e,t,n,r){return arguments.length===1?k2(e):new cr(e,t,n,r??1)}function cr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}A0(cr,k7,w2($c,{brighter(e){return e=e==null?mf:Math.pow(mf,e),new cr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uc:Math.pow(uc,e),new cr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new sn(Im(e>=240?e-240:e+120,i,r),Im(e,i,r),Im(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new cr(ZS(this.h),Fu(this.s),Fu(this.l),gf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gf(this.opacity);return`${e===1?"hsl(":"hsla("}${ZS(this.h)}, ${Fu(this.s)*100}%, ${Fu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ZS(e){return e=(e||0)%360,e<0?e+360:e}function Fu(e){return Math.max(0,Math.min(1,e||0))}function Im(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const T0=e=>()=>e;function S7(e,t){return function(n){return e+n*t}}function j7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _7(e){return(e=+e)==1?S2:function(t,n){return n-t?j7(t,n,e):T0(isNaN(t)?n:t)}}function S2(e,t){var n=t-e;return n?S7(e,n):T0(isNaN(e)?t:e)}const ej=function e(t){var n=_7(t);function r(i,a){var o=n((i=Gv(i)).r,(a=Gv(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),c=S2(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function C7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function E7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function P7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=_s(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function N7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function O7(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=_s(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Yv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dm=new RegExp(Yv.source,"g");function A7(e){return function(){return e}}function T7(e){return function(t){return e(t)+""}}function I7(e,t){var n=Yv.lastIndex=Dm.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Yv.exec(e))&&(i=Dm.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:vf(r,i)})),n=Dm.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?T7(l[0].x):A7(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)s[(f=l[u]).i]=f.x(c);return s.join("")})}function _s(e,t){var n=typeof t,r;return t==null||n==="boolean"?T0(t):(n==="number"?vf:n==="string"?(r=fc(t))?(t=r,ej):I7:t instanceof fc?ej:t instanceof Date?N7:E7(t)?C7:Array.isArray(t)?P7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?O7:vf)(e,t)}function I0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function D7(e,t){t===void 0&&(t=e,e=_s);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function R7(e){return function(){return e}}function yf(e){return+e}var tj=[0,1];function Vt(e){return e}function Jv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:R7(isNaN(t)?NaN:.5)}function M7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function L7(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Jv(i,r),a=n(o,a)):(r=Jv(r,i),a=n(a,o)),function(s){return a(r(s))}}function $7(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Jv(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=Lc(e,s,1,r)-1;return a[l](i[l](s))}}function Fc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gh(){var e=tj,t=tj,n=_s,r,i,a,o=Vt,s,l,c;function u(){var h=Math.min(e.length,t.length);return o!==Vt&&(o=M7(e[0],e[h-1])),s=h>2?$7:L7,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(r),t,n)))(r(o(h)))}return f.invert=function(h){return o(i((c||(c=s(t,e.map(r),vf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,yf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=I0,u()},f.clamp=function(h){return arguments.length?(o=h?!0:Vt,u()):o!==Vt},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,u()}}function D0(){return Gh()(Vt,Vt)}function F7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ss(e){return e=xf(Math.abs(e)),e?e[1]:NaN}function U7(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function z7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var B7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hc(e){if(!(t=B7.exec(e)))throw new Error("invalid format: "+e);var t;return new R0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hc.prototype=R0.prototype;function R0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W7(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var j2;function K7(e,t){var n=xf(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(j2=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+xf(e,Math.max(0,t+a-1))[0]}function nj(e,t){var n=xf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const rj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:F7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nj(e*100,t),r:nj,s:K7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ij(e){return e}var aj=Array.prototype.map,oj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function H7(e){var t=e.grouping===void 0||e.thousands===void 0?ij:U7(aj.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ij:z7(aj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=hc(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,S=f.trim,j=f.type;j==="n"?(b=!0,j="g"):rj[j]||(w===void 0&&(w=12),S=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",E=g==="$"?r:/[%p]/.test(j)?o:"",O=rj[j],P=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function N(I){var A=k,R=E,M,U,B;if(j==="c")R=O(I)+R,I="";else{I=+I;var L=I<0||1/I<0;if(I=isNaN(I)?l:O(Math.abs(I),w),S&&(I=W7(I)),L&&+I==0&&m!=="+"&&(L=!1),A=(L?m==="("?m:s:m==="-"||m==="("?"":m)+A,R=(j==="s"?oj[8+j2/3]:"")+R+(L&&m==="("?")":""),P){for(M=-1,U=I.length;++M<U;)if(B=I.charCodeAt(M),48>B||B>57){R=(B===46?i+I.slice(M+1):I.slice(M))+R,I=I.slice(0,M);break}}}b&&!v&&(I=t(I,1/0));var T=A.length+I.length+R.length,F=T<y?new Array(y-T+1).join(h):"";switch(b&&v&&(I=t(F+I,F.length?y-R.length:1/0),F=""),p){case"<":I=A+I+R+F;break;case"=":I=A+F+I+R;break;case"^":I=F.slice(0,T=F.length>>1)+A+I+R+F.slice(T);break;default:I=F+A+I+R;break}return a(I)}return N.toString=function(){return f+""},N}function u(f,h){var p=c((f=hc(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ss(h)/3)))*3,g=Math.pow(10,-m),v=oj[8+m/3];return function(y){return p(g*y)+v}}return{format:c,formatPrefix:u}}var Uu,M0,_2;q7({thousands:",",grouping:[3],currency:["$",""]});function q7(e){return Uu=H7(e),M0=Uu.format,_2=Uu.formatPrefix,Uu}function V7(e){return Math.max(0,-ss(Math.abs(e)))}function G7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ss(t)/3)))*3-ss(Math.abs(e)))}function Y7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ss(t)-ss(e))+1}function C2(e,t,n,r){var i=qv(e,t,n),a;switch(r=hc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=G7(i,o))&&(r.precision=a),_2(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Y7(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=V7(i))&&(r.precision=a-(r.type==="%")*2);break}}return M0(r)}function ta(e){var t=e.domain;return e.ticks=function(n){var r=t();return Kv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return C2(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=Hv(o,s,n),c===l)return r[i]=o,r[a]=s,t(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;l=c}return e},e}function E2(){var e=D0();return e.copy=function(){return Fc(e,E2())},er.apply(e,arguments),ta(e)}function P2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,yf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return P2(e).unknown(t)},e=arguments.length?Array.from(e,yf):[0,1],ta(n)}function N2(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function sj(e){return Math.log(e)}function lj(e){return Math.exp(e)}function J7(e){return-Math.log(-e)}function X7(e){return-Math.exp(-e)}function Q7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Z7(e){return e===10?Q7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cj(e){return(t,n)=>-e(-t,n)}function L0(e){const t=e(sj,lj),n=t.domain;let r=10,i,a;function o(){return i=eG(r),a=Z7(r),n()[0]<0?(i=cj(i),a=cj(a),e(J7,X7)):e(sj,lj),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=i(c),p=i(u),m,g;const v=s==null?10:+s;let y=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;y.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=Kv(c,u,v))}else y=Kv(h,p,Math.min(p-h,v)).map(a);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=hc(l)).precision==null&&(l.trim=!0),l=M0(l)),s===1/0)return l;const c=Math.max(1,r*s/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(N2(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function O2(){const e=L0(Gh()).domain([1,10]);return e.copy=()=>Fc(e,O2()).base(e.base()),er.apply(e,arguments),e}function uj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $0(e){var t=1,n=e(uj(t),dj(t));return n.constant=function(r){return arguments.length?e(uj(t=+r),dj(t)):t},ta(n)}function A2(){var e=$0(Gh());return e.copy=function(){return Fc(e,A2()).constant(e.constant())},er.apply(e,arguments)}function fj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nG(e){return e<0?-e*e:e*e}function F0(e){var t=e(Vt,Vt),n=1;function r(){return n===1?e(Vt,Vt):n===.5?e(tG,nG):e(fj(n),fj(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ta(t)}function U0(){var e=F0(Gh());return e.copy=function(){return Fc(e,U0()).exponent(e.exponent())},er.apply(e,arguments),e}function rG(){return U0.apply(null,arguments).exponent(.5)}function hj(e){return Math.sign(e)*e*e}function iG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function T2(){var e=D0(),t=[0,1],n=!1,r;function i(a){var o=iG(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(hj(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,yf)).map(hj)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return T2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},er.apply(i,arguments),ta(i)}function I2(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=l7(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Lc(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bi),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return I2().domain(e).range(t).unknown(r)},er.apply(a,arguments)}function D2(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Lc(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return D2().domain([e,t]).range(i).unknown(a)},er.apply(ta(o),arguments)}function R2(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Lc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return R2().domain(e).range(t).unknown(n)},er.apply(i,arguments)}const Rm=new Date,Mm=new Date;function xt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let c;do l.push(c=new Date(+a)),t(a,s),e(a);while(c<a&&a<o);return l},i.filter=a=>xt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Rm.setTime(+a),Mm.setTime(+o),e(Rm),e(Mm),Math.floor(n(Rm,Mm))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const bf=xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bf);bf.range;const Gr=1e3,Vn=Gr*60,Yr=Vn*60,ai=Yr*24,z0=ai*7,pj=ai*30,Lm=ai*365,Ca=xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gr)},(e,t)=>(t-e)/Gr,e=>e.getUTCSeconds());Ca.range;const B0=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gr)},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getMinutes());B0.range;const W0=xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getUTCMinutes());W0.range;const K0=xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gr-e.getMinutes()*Vn)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getHours());K0.range;const H0=xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yr)},(e,t)=>(t-e)/Yr,e=>e.getUTCHours());H0.range;const Uc=xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vn)/ai,e=>e.getDate()-1);Uc.range;const Yh=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ai,e=>e.getUTCDate()-1);Yh.range;const M2=xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ai,e=>Math.floor(e/ai));M2.range;function ro(e){return xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Vn)/z0)}const Jh=ro(0),wf=ro(1),aG=ro(2),oG=ro(3),ls=ro(4),sG=ro(5),lG=ro(6);Jh.range;wf.range;aG.range;oG.range;ls.range;sG.range;lG.range;function io(e){return xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/z0)}const Xh=io(0),kf=io(1),cG=io(2),uG=io(3),cs=io(4),dG=io(5),fG=io(6);Xh.range;kf.range;cG.range;uG.range;cs.range;dG.range;fG.range;const q0=xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q0.range;const V0=xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());V0.range;const oi=xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());oi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});oi.range;const si=xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});si.range;function L2(e,t,n,r,i,a){const o=[[Ca,1,Gr],[Ca,5,5*Gr],[Ca,15,15*Gr],[Ca,30,30*Gr],[a,1,Vn],[a,5,5*Vn],[a,15,15*Vn],[a,30,30*Vn],[i,1,Yr],[i,3,3*Yr],[i,6,6*Yr],[i,12,12*Yr],[r,1,ai],[r,2,2*ai],[n,1,z0],[t,1,pj],[t,3,3*pj],[e,1,Lm]];function s(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=P0(([,,v])=>v).right(o,h);if(p===o.length)return e.every(qv(c/Lm,u/Lm,f));if(p===0)return bf.every(Math.max(qv(c,u,f),1));const[m,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return m.every(g)}return[s,l]}const[hG,pG]=L2(si,V0,Xh,M2,H0,W0),[mG,gG]=L2(oi,q0,Jh,Uc,K0,B0);function $m(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function al(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vG(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=ol(i),u=sl(i),f=ol(a),h=sl(a),p=ol(o),m=sl(o),g=ol(s),v=sl(s),y=ol(l),b=sl(l),w={a:L,A:T,b:F,B:C,c:null,d:bj,e:bj,f:UG,g:JG,G:QG,H:LG,I:$G,j:FG,L:$2,m:zG,M:BG,p:V,q:D,Q:Sj,s:jj,S:WG,u:KG,U:HG,V:qG,w:VG,W:GG,x:null,X:null,y:YG,Y:XG,Z:ZG,"%":kj},S={a:_,A:Y,b:J,B:te,c:null,d:wj,e:wj,f:rY,g:hY,G:mY,H:eY,I:tY,j:nY,L:U2,m:iY,M:aY,p:ce,q:Fe,Q:Sj,s:jj,S:oY,u:sY,U:lY,V:cY,w:uY,W:dY,x:null,X:null,y:fY,Y:pY,Z:gY,"%":kj},j={a:N,A:I,b:A,B:R,c:M,d:yj,e:yj,f:IG,g:vj,G:gj,H:xj,I:xj,j:NG,L:TG,m:PG,M:OG,p:P,q:EG,Q:RG,s:MG,S:AG,u:kG,U:SG,V:jG,w:wG,W:_G,x:U,X:B,y:vj,Y:gj,Z:CG,"%":DG};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),S.x=k(n,S),S.X=k(r,S),S.c=k(t,S);function k(Z,G){return function(ae){var q=[],at=-1,Se=0,et=Z.length,W,_e,oo;for(ae instanceof Date||(ae=new Date(+ae));++at<et;)Z.charCodeAt(at)===37&&(q.push(Z.slice(Se,at)),(_e=mj[W=Z.charAt(++at)])!=null?W=Z.charAt(++at):_e=W==="e"?" ":"0",(oo=G[W])&&(W=oo(ae,_e)),q.push(W),Se=at+1);return q.push(Z.slice(Se,at)),q.join("")}}function E(Z,G){return function(ae){var q=al(1900,void 0,1),at=O(q,Z,ae+="",0),Se,et;if(at!=ae.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(G&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(Se=Fm(al(q.y,0,1)),et=Se.getUTCDay(),Se=et>4||et===0?kf.ceil(Se):kf(Se),Se=Yh.offset(Se,(q.V-1)*7),q.y=Se.getUTCFullYear(),q.m=Se.getUTCMonth(),q.d=Se.getUTCDate()+(q.w+6)%7):(Se=$m(al(q.y,0,1)),et=Se.getDay(),Se=et>4||et===0?wf.ceil(Se):wf(Se),Se=Uc.offset(Se,(q.V-1)*7),q.y=Se.getFullYear(),q.m=Se.getMonth(),q.d=Se.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),et="Z"in q?Fm(al(q.y,0,1)).getUTCDay():$m(al(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(et+5)%7:q.w+q.U*7-(et+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Fm(q)):$m(q)}}function O(Z,G,ae,q){for(var at=0,Se=G.length,et=ae.length,W,_e;at<Se;){if(q>=et)return-1;if(W=G.charCodeAt(at++),W===37){if(W=G.charAt(at++),_e=j[W in mj?G.charAt(at++):W],!_e||(q=_e(Z,ae,q))<0)return-1}else if(W!=ae.charCodeAt(q++))return-1}return q}function P(Z,G,ae){var q=c.exec(G.slice(ae));return q?(Z.p=u.get(q[0].toLowerCase()),ae+q[0].length):-1}function N(Z,G,ae){var q=p.exec(G.slice(ae));return q?(Z.w=m.get(q[0].toLowerCase()),ae+q[0].length):-1}function I(Z,G,ae){var q=f.exec(G.slice(ae));return q?(Z.w=h.get(q[0].toLowerCase()),ae+q[0].length):-1}function A(Z,G,ae){var q=y.exec(G.slice(ae));return q?(Z.m=b.get(q[0].toLowerCase()),ae+q[0].length):-1}function R(Z,G,ae){var q=g.exec(G.slice(ae));return q?(Z.m=v.get(q[0].toLowerCase()),ae+q[0].length):-1}function M(Z,G,ae){return O(Z,t,G,ae)}function U(Z,G,ae){return O(Z,n,G,ae)}function B(Z,G,ae){return O(Z,r,G,ae)}function L(Z){return o[Z.getDay()]}function T(Z){return a[Z.getDay()]}function F(Z){return l[Z.getMonth()]}function C(Z){return s[Z.getMonth()]}function V(Z){return i[+(Z.getHours()>=12)]}function D(Z){return 1+~~(Z.getMonth()/3)}function _(Z){return o[Z.getUTCDay()]}function Y(Z){return a[Z.getUTCDay()]}function J(Z){return l[Z.getUTCMonth()]}function te(Z){return s[Z.getUTCMonth()]}function ce(Z){return i[+(Z.getUTCHours()>=12)]}function Fe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var G=k(Z+="",w);return G.toString=function(){return Z},G},parse:function(Z){var G=E(Z+="",!1);return G.toString=function(){return Z},G},utcFormat:function(Z){var G=k(Z+="",S);return G.toString=function(){return Z},G},utcParse:function(Z){var G=E(Z+="",!0);return G.toString=function(){return Z},G}}}var mj={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,yG=/^%/,xG=/[\\^$*+?|[\]().{}]/g;function je(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function bG(e){return e.replace(xG,"\\$&")}function ol(e){return new RegExp("^(?:"+e.map(bG).join("|")+")","i")}function sl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function kG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function SG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function jG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _G(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gj(e,t,n){var r=Ct.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function CG(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EG(e,t,n){var r=Ct.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function PG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function yj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function NG(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xj(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function OG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function AG(e,t,n){var r=Ct.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function TG(e,t,n){var r=Ct.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function IG(e,t,n){var r=Ct.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DG(e,t,n){var r=yG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function RG(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MG(e,t,n){var r=Ct.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function bj(e,t){return je(e.getDate(),t,2)}function LG(e,t){return je(e.getHours(),t,2)}function $G(e,t){return je(e.getHours()%12||12,t,2)}function FG(e,t){return je(1+Uc.count(oi(e),e),t,3)}function $2(e,t){return je(e.getMilliseconds(),t,3)}function UG(e,t){return $2(e,t)+"000"}function zG(e,t){return je(e.getMonth()+1,t,2)}function BG(e,t){return je(e.getMinutes(),t,2)}function WG(e,t){return je(e.getSeconds(),t,2)}function KG(e){var t=e.getDay();return t===0?7:t}function HG(e,t){return je(Jh.count(oi(e)-1,e),t,2)}function F2(e){var t=e.getDay();return t>=4||t===0?ls(e):ls.ceil(e)}function qG(e,t){return e=F2(e),je(ls.count(oi(e),e)+(oi(e).getDay()===4),t,2)}function VG(e){return e.getDay()}function GG(e,t){return je(wf.count(oi(e)-1,e),t,2)}function YG(e,t){return je(e.getFullYear()%100,t,2)}function JG(e,t){return e=F2(e),je(e.getFullYear()%100,t,2)}function XG(e,t){return je(e.getFullYear()%1e4,t,4)}function QG(e,t){var n=e.getDay();return e=n>=4||n===0?ls(e):ls.ceil(e),je(e.getFullYear()%1e4,t,4)}function ZG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function wj(e,t){return je(e.getUTCDate(),t,2)}function eY(e,t){return je(e.getUTCHours(),t,2)}function tY(e,t){return je(e.getUTCHours()%12||12,t,2)}function nY(e,t){return je(1+Yh.count(si(e),e),t,3)}function U2(e,t){return je(e.getUTCMilliseconds(),t,3)}function rY(e,t){return U2(e,t)+"000"}function iY(e,t){return je(e.getUTCMonth()+1,t,2)}function aY(e,t){return je(e.getUTCMinutes(),t,2)}function oY(e,t){return je(e.getUTCSeconds(),t,2)}function sY(e){var t=e.getUTCDay();return t===0?7:t}function lY(e,t){return je(Xh.count(si(e)-1,e),t,2)}function z2(e){var t=e.getUTCDay();return t>=4||t===0?cs(e):cs.ceil(e)}function cY(e,t){return e=z2(e),je(cs.count(si(e),e)+(si(e).getUTCDay()===4),t,2)}function uY(e){return e.getUTCDay()}function dY(e,t){return je(kf.count(si(e)-1,e),t,2)}function fY(e,t){return je(e.getUTCFullYear()%100,t,2)}function hY(e,t){return e=z2(e),je(e.getUTCFullYear()%100,t,2)}function pY(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function mY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cs(e):cs.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function gY(){return"+0000"}function kj(){return"%"}function Sj(e){return+e}function jj(e){return Math.floor(+e/1e3)}var vo,B2,W2;vY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vY(e){return vo=vG(e),B2=vo.format,vo.parse,W2=vo.utcFormat,vo.utcParse,vo}function yY(e){return new Date(e)}function xY(e){return e instanceof Date?+e:+new Date(+e)}function G0(e,t,n,r,i,a,o,s,l,c){var u=D0(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),S=c("%Y");function j(k){return(l(k)<k?p:s(k)<k?m:o(k)<k?g:a(k)<k?v:r(k)<k?i(k)<k?y:b:n(k)<k?w:S)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,xY)):h().map(yY)},u.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},u.tickFormat=function(k,E){return E==null?j:c(E)},u.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h(N2(E,k)):u},u.copy=function(){return Fc(u,G0(e,t,n,r,i,a,o,s,l,c))},u}function bY(){return er.apply(G0(mG,gG,oi,q0,Jh,Uc,K0,B0,Ca,B2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wY(){return er.apply(G0(hG,pG,si,V0,Xh,Yh,H0,W0,Ca,W2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qh(){var e=0,t=1,n,r,i,a,o=Vt,s=!1,l;function c(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(s=!!f,c):s},c.interpolator=function(f){return arguments.length?(o=f,c):o};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,o=f(p,m),c):[o(0),o(1)]}}return c.range=u(_s),c.rangeRound=u(I0),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function na(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function K2(){var e=ta(Qh()(Vt));return e.copy=function(){return na(e,K2())},hi.apply(e,arguments)}function H2(){var e=L0(Qh()).domain([1,10]);return e.copy=function(){return na(e,H2()).base(e.base())},hi.apply(e,arguments)}function q2(){var e=$0(Qh());return e.copy=function(){return na(e,q2()).constant(e.constant())},hi.apply(e,arguments)}function Y0(){var e=F0(Qh());return e.copy=function(){return na(e,Y0()).exponent(e.exponent())},hi.apply(e,arguments)}function kY(){return Y0.apply(null,arguments).exponent(.5)}function V2(){var e=[],t=Vt;function n(r){if(r!=null&&!isNaN(r=+r))return t((Lc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Bi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>s7(e,a/r))},n.copy=function(){return V2(t).domain(e)},hi.apply(n,arguments)}function Zh(){var e=0,t=.5,n=1,r=1,i,a,o,s,l,c=Vt,u,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-a)*(r*g<r*a?s:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),a=u(t=+t),o=u(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=D7(g,[y,b,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(_s),p.rangeRound=m(I0),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function G2(){var e=ta(Zh()(Vt));return e.copy=function(){return na(e,G2())},hi.apply(e,arguments)}function Y2(){var e=L0(Zh()).domain([.1,1,10]);return e.copy=function(){return na(e,Y2()).base(e.base())},hi.apply(e,arguments)}function J2(){var e=$0(Zh());return e.copy=function(){return na(e,J2()).constant(e.constant())},hi.apply(e,arguments)}function J0(){var e=F0(Zh());return e.copy=function(){return na(e,J0()).exponent(e.exponent())},hi.apply(e,arguments)}function SY(){return J0.apply(null,arguments).exponent(.5)}const gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:O0,scaleDiverging:G2,scaleDivergingLog:Y2,scaleDivergingPow:J0,scaleDivergingSqrt:SY,scaleDivergingSymlog:J2,scaleIdentity:P2,scaleImplicit:Vv,scaleLinear:E2,scaleLog:O2,scaleOrdinal:N0,scalePoint:u7,scalePow:U0,scaleQuantile:I2,scaleQuantize:D2,scaleRadial:T2,scaleSequential:K2,scaleSequentialLog:H2,scaleSequentialPow:Y0,scaleSequentialQuantile:V2,scaleSequentialSqrt:kY,scaleSequentialSymlog:q2,scaleSqrt:rG,scaleSymlog:A2,scaleThreshold:R2,scaleTime:bY,scaleUtc:wY,tickFormat:C2},Symbol.toStringTag,{value:"Module"}));var ra=e=>e.chartData,X0=$([ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Q0=(e,t,n,r)=>r?X0(e):ra(e);function us(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Nn(t)&&Nn(n))return!0}return!1}function _j(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function jY(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(Nn(n))i=n;else if(typeof n=="function")return;if(Nn(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(us(o))return o}}function _Y(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(us(r))return _j(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(le(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&xS.test(i)){var l=xS.exec(i);if(l==null||t==null)o=void 0;else{var c=+l[1];o=t[0]-c}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(le(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&bS.test(a)){var u=bS.exec(a);if(u==null||t==null)s=void 0;else{var f=+u[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(us(h))return t==null?h:_j(h,t,n)}}}var Cs=1e9,CY={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eb,qe=!0,Qn="[DecimalError] ",Ra=Qn+"Invalid argument: ",Z0=Qn+"Exponent out of range: ",Es=Math.floor,ma=Math.pow,EY=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,wt=1e7,ze=7,X2=9007199254740991,Sf=Es(X2/ze),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ze;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ie.dividedBy=ie.div=function(e){return Zr(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,n=t.constructor;return Ae(Zr(t,new n(e),0,1),n.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return dt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(wn))throw Error(Qn+"NaN");if(n.s<1)throw Error(Qn+(n.s?"NaN":"-Infinity"));return n.eq(wn)?new r(0):(qe=!1,t=Zr(pc(n,a),pc(e,a),a),qe=!0,Ae(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eT(t,e):Q2(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Qn+"NaN");return n.s?(qe=!1,t=Zr(n,e,0,1).times(e),qe=!0,n.minus(t)):Ae(new r(n),i)};ie.naturalExponential=ie.exp=function(){return Z2(this)};ie.naturalLogarithm=ie.ln=function(){return pc(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q2(t,e):eT(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ra+e);if(t=dt(i)+1,r=i.d.length-1,n=r*ze+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ie.squareRoot=ie.sqrt=function(){var e,t,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Qn+"NaN")}for(e=dt(s),qe=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Nr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Es((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Zr(s,a,o+2)).times(.5),Nr(a.d).slice(0,o)===(t=Nr(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ae(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(t!="9999")break;o+=4}return qe=!0,Ae(r,n)};ie.times=ie.mul=function(e){var t,n,r,i,a,o,s,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,n=u.e+e.e,l=h.length,c=p.length,l<c&&(a=h,h=p,p=a,o=l,l=c,c=o),a=[],o=l+c,r=o;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,i=l+r;i>r;)s=a[i]+p[r]*h[i-r-1]+t,a[i--]=s%wt|0,t=s/wt|0;a[i]=(a[i]+t)%wt|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,qe?Ae(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Mr(e,0,Cs),t===void 0?t=r.rounding:Mr(t,0,8),Ae(n,e+dt(n)+1,t))};ie.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=qa(r,!0):(Mr(e,0,Cs),t===void 0?t=i.rounding:Mr(t,0,8),r=Ae(new i(r),e+1,t),n=qa(r,!0,e+1)),n};ie.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?qa(i):(Mr(e,0,Cs),t===void 0?t=a.rounding:Mr(t,0,8),r=Ae(new a(i),e+dt(i)+1,t),n=qa(r.abs(),!1,e+dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return Ae(new t(e),dt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,n,r,i,a,o,s=this,l=s.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(wn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Qn+"Infinity");return s}if(s.eq(wn))return s;if(r=l.precision,e.eq(wn))return Ae(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=s.s,o){if((n=u<0?-u:u)<=X2){for(i=new l(wn),t=Math.ceil(r/ze+4),qe=!1;n%2&&(i=i.times(s),Ej(i.d,t)),n=Es(n/2),n!==0;)s=s.times(s),Ej(s.d,t);return qe=!0,e.s<0?new l(wn).div(i):Ae(i,r)}}else if(a<0)throw Error(Qn+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,qe=!1,i=e.times(pc(s,r+c)),qe=!0,i=Z2(i),i.s=a,i};ie.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=dt(i),r=qa(i,n<=a.toExpNeg||n>=a.toExpPos)):(Mr(e,1,Cs),t===void 0?t=a.rounding:Mr(t,0,8),i=Ae(new a(i),e,t),n=dt(i),r=qa(i,e<=n||n<=a.toExpNeg,e)),r};ie.toSignificantDigits=ie.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Mr(e,1,Cs),t===void 0?t=r.rounding:Mr(t,0,8)),Ae(new r(n),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dt(e),n=e.constructor;return qa(e,t<=n.toExpNeg||t>=n.toExpPos)};function Q2(e,t){var n,r,i,a,o,s,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qe?Ae(t,f):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=c.length):(r=c,i=o,s=l.length),o=Math.ceil(f/ze),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=c.length,s-a<0&&(a=s,r=c,c=l,l=r),n=0;a;)n=(l[--a]=l[a]+c[a]+n)/wt|0,l[a]%=wt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,qe?Ae(t,f):t}function Mr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ra+e)}function Nr(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=ze-r.length,n&&(a+=Si(n)),a+=r;o=e[t],r=o+"",n=ze-r.length,n&&(a+=Si(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Zr=function(){function e(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%wt|0,o=a/wt|0;return o&&r.unshift(o),r}function t(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*wt+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,c,u,f,h,p,m,g,v,y,b,w,S,j,k,E,O,P=r.constructor,N=r.s==i.s?1:-1,I=r.d,A=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Qn+"Division by zero");for(l=r.e-i.e,E=A.length,j=I.length,p=new P(N),m=p.d=[],c=0;A[c]==(I[c]||0);)++c;if(A[c]>(I[c]||0)&&--l,a==null?b=a=P.precision:o?b=a+(dt(r)-dt(i))+1:b=a,b<0)return new P(0);if(b=b/ze+2|0,c=0,E==1)for(u=0,A=A[0],b++;(c<j||u)&&b--;c++)w=u*wt+(I[c]||0),m[c]=w/A|0,u=w%A|0;else{for(u=wt/(A[0]+1)|0,u>1&&(A=e(A,u),I=e(I,u),E=A.length,j=I.length),S=E,g=I.slice(0,E),v=g.length;v<E;)g[v++]=0;O=A.slice(),O.unshift(0),k=A[0],A[1]>=wt/2&&++k;do u=0,s=t(A,g,E,v),s<0?(y=g[0],E!=v&&(y=y*wt+(g[1]||0)),u=y/k|0,u>1?(u>=wt&&(u=wt-1),f=e(A,u),h=f.length,v=g.length,s=t(f,g,h,v),s==1&&(u--,n(f,E<h?O:A,h))):(u==0&&(s=u=1),f=A.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),s==-1&&(v=g.length,s=t(A,g,E,v),s<1&&(u++,n(g,E<v?O:A,v))),v=g.length):s===0&&(u++,g=[0]),m[c++]=u,s&&g[0]?g[v++]=I[S]||0:(g=[I[S]],v=1);while((S++<j||g[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,Ae(p,o?a+dt(p)+1:a)}}();function Z2(e,t){var n,r,i,a,o,s,l=0,c=0,u=e.constructor,f=u.precision;if(dt(e)>16)throw Error(Z0+dt(e));if(!e.s)return new u(wn);for(t==null?(qe=!1,s=f):s=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),c+=5;for(r=Math.log(ma(2,c))/Math.LN10*2+5|0,s+=r,n=i=a=new u(wn),u.precision=s;;){if(i=Ae(i.times(e),s),n=n.times(++l),o=a.plus(Zr(i,n,s)),Nr(o.d).slice(0,s)===Nr(a.d).slice(0,s)){for(;c--;)a=Ae(a.times(a),s);return u.precision=f,t==null?(qe=!0,Ae(a,f)):a}a=o}}function dt(e){for(var t=e.e*ze,n=e.d[0];n>=10;n/=10)t++;return t}function Um(e,t,n){if(t>e.LN10.sd())throw qe=!0,n&&(e.precision=n),Error(Qn+"LN10 precision limit exceeded");return Ae(new e(e.LN10),t)}function Si(e){for(var t="";e--;)t+="0";return t}function pc(e,t){var n,r,i,a,o,s,l,c,u,f=1,h=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Qn+(p.s?"NaN":"-Infinity"));if(p.eq(wn))return new g(0);if(t==null?(qe=!1,c=v):c=t,p.eq(10))return t==null&&(qe=!0),Um(g,c);if(c+=h,g.precision=c,n=Nr(m),r=n.charAt(0),a=dt(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=Nr(p.d),r=n.charAt(0),f++;a=dt(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return l=Um(g,c+2,v).times(a+""),p=pc(new g(r+"."+n.slice(1)),c-h).plus(l),g.precision=v,t==null?(qe=!0,Ae(p,v)):p;for(s=o=p=Zr(p.minus(wn),p.plus(wn),c),u=Ae(p.times(p),c),i=3;;){if(o=Ae(o.times(u),c),l=s.plus(Zr(o,new g(i),c)),Nr(l.d).slice(0,c)===Nr(s.d).slice(0,c))return s=s.times(2),a!==0&&(s=s.plus(Um(g,c+2,v).times(a+""))),s=Zr(s,new g(f),c),g.precision=v,t==null?(qe=!0,Ae(s,v)):s;s=l,i+=2}}function Cj(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Es(n/ze),e.d=[],r=(n+1)%ze,n<0&&(r+=ze),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ze;r<i;)e.d.push(+t.slice(r,r+=ze));t=t.slice(r),r=ze-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),qe&&(e.e>Sf||e.e<-Sf))throw Error(Z0+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ae(e,t,n){var r,i,a,o,s,l,c,u,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=ze,i=t,c=f[u=0];else{if(u=Math.ceil((r+1)/ze),a=f.length,u>=a)return e;for(c=a=f[u],o=1;a>=10;a/=10)o++;r%=ze,i=r-ze+o}if(n!==void 0&&(a=ma(10,o-i-1),s=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?c/ma(10,o-i):0:f[u-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=dt(e),f.length=1,t=t-a-1,f[0]=ma(10,(ze-t%ze)%ze),e.e=Es(-t/ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=u,a=1,u--):(f.length=u+1,a=ma(10,ze-r),f[u]=i>0?(c/ma(10,o-i)%ma(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==wt&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=wt)break;f[u--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(qe&&(e.e>Sf||e.e<-Sf))throw Error(Z0+dt(e));return e}function eT(e,t){var n,r,i,a,o,s,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qe?Ae(t,p):t;if(l=e.d,f=t.d,r=t.e,c=e.e,l=l.slice(),o=c-r,o){for(u=o<0,u?(n=l,o=-o,s=f.length):(n=f,r=c,s=l.length),i=Math.max(Math.ceil(p/ze),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,u=i<s,u&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}o=0}for(u&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=wt-1;--l[a],l[i]+=wt}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,qe?Ae(t,p):t):new h(0)}function qa(e,t,n){var r,i=dt(e),a=Nr(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Si(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Si(-i-1)+a,n&&(r=n-o)>0&&(a+=Si(r))):i>=o?(a+=Si(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Si(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Si(r))),e.s<0?"-"+a:a}function Ej(e,t){if(e.length>t)return e.length=t,!0}function tT(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ra+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Cj(o,a.toString())}else if(typeof a!="string")throw Error(Ra+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,EY.test(a))Cj(o,a);else throw Error(Ra+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tT,i.config=i.set=PY,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function PY(e){if(!e||typeof e!="object")throw Error(Qn+"Object expected");var t,n,r,i=["precision",1,Cs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Es(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ra+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ra+n+": "+r);return this}var eb=tT(CY);wn=new eb(1);const Ce=eb;var NY=e=>e,nT={"@@functional/placeholder":!0},rT=e=>e===nT,Pj=e=>function t(){return arguments.length===0||arguments.length===1&&rT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},iT=(e,t)=>e===1?t:Pj(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==nT).length;return a>=e?t(...r):iT(e-a,Pj(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c=r.map(u=>rT(u)?s.shift():u);return t(...c,...s)}))}),ep=e=>iT(e.length,e),Xv=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},OY=ep((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),AY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return NY;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}},Qv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),aT=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((o,s)=>{var l;return o===((l=t)===null||l===void 0?void 0:l[s])})||(t=i,n=e(...i)),n}};function oT(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function sT(e,t,n){for(var r=new Ce(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}ep((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});ep((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});ep((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var lT=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},cT=(e,t,n)=>{if(e.lte(0))return new Ce(0);var r=oT(e.toNumber()),i=new Ce(10).pow(r),a=e.div(i),o=r!==1?.05:.1,s=new Ce(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return t?new Ce(l.toNumber()):new Ce(Math.ceil(l.toNumber()))},TY=(e,t,n)=>{var r=new Ce(1),i=new Ce(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Ce(10).pow(oT(e)-1),i=new Ce(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Ce(Math.floor(e)))}else e===0?i=new Ce(Math.floor((t-1)/2)):n||(i=new Ce(Math.floor(e)));var o=Math.floor((t-1)/2),s=AY(OY(l=>i.add(new Ce(l-o).mul(r)).toNumber()),Xv);return s(0,t)},uT=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var o=cT(new Ce(n).sub(t).div(r-1),i,a),s;t<=0&&n>=0?s=new Ce(0):(s=new Ce(t).add(n).div(2),s=s.sub(new Ce(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new Ce(n).sub(s).div(o).toNumber()),u=l+c+1;return u>r?uT(t,n,r,i,a+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:o,tickMin:s.sub(new Ce(l).mul(o)),tickMax:s.add(new Ce(c).mul(o))})};function IY(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,s]=lT([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...Xv(0,r-1).map(()=>1/0)]:[...Xv(0,r-1).map(()=>-1/0),s];return t>n?Qv(l):l}if(o===s)return TY(o,r,i);var{step:c,tickMin:u,tickMax:f}=uT(o,s,a,i,0),h=sT(u,f.add(new Ce(.1).mul(c)),c);return t>n?Qv(h):h}function DY(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=lT([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var s=Math.max(t,2),l=cT(new Ce(o).sub(a).div(s-1),i,0),c=[...sT(new Ce(a),new Ce(o),l),o];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?Qv(c):c}var RY=aT(IY),MY=aT(DY),dT=e=>e.rootProps.maxBarSize,LY=e=>e.rootProps.barGap,fT=e=>e.rootProps.barCategoryGap,$Y=e=>e.rootProps.barSize,zc=e=>e.rootProps.stackOffset,tb=e=>e.options.chartName,nb=e=>e.rootProps.syncId,hT=e=>e.rootProps.syncMethod,rb=e=>e.options.eventEmitter,Er={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},tp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},FY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Er.angleAxisId,includeHidden:!1,name:void 0,reversed:Er.reversed,scale:Er.scale,tick:Er.tick,tickCount:void 0,ticks:void 0,type:Er.type,unit:void 0},UY={allowDataOverflow:tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,ticks:void 0,type:tn.type,unit:void 0},zY={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Er.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Er.scale,tick:Er.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},BY={allowDataOverflow:tn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,ticks:void 0,type:"category",unit:void 0},Ps=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?zY:FY,Bc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?BY:UY,np=e=>e.polarOptions,ib=$([di,fi,_t],UH),pT=$([np,ib],(e,t)=>{if(e!=null)return gr(e.innerRadius,t,0)}),mT=$([np,ib],(e,t)=>{if(e!=null)return gr(e.outerRadius,t,t*.8)}),WY=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},gT=$([np],WY),KY=$([Ps,gT],tp),vT=$([ib,pT,mT],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]}),HY=$([Bc,vT],tp),Ns=$([xe,np,pT,mT,di,fi],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:gr(o,i,i/2),cy:gr(s,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),De=(e,t)=>t,Wc=(e,t,n)=>n;function ab(e){return e==null?void 0:e.id}var bt=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Os=e=>e.tooltip.settings.axisId,Et=e=>{var t=bt(e),n=Os(e);return As(e,t,n)},yT=$([Et],e=>e==null?void 0:e.dataKey);function xT(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return e.forEach(s=>{var l,c=(l=s.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=ab(s);c.forEach((f,h)=>{var p=a==null||i?h:String(yt(f,a,null)),m=yt(f,s.dataKey,0),g;o.has(p)?g=o.get(p):g={},Object.assign(g,{[u]:m}),o.set(p,g)})}}),Array.from(o.values())}function rp(e){return e.stackId!=null&&e.dataKey!=null}function Nj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(n),!0).forEach(function(r){qY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qY(e,t,n){return(t=VY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zv=[0,"auto"],yn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},bT=(e,t)=>e.cartesianAxis.xAxis[t],pi=(e,t)=>{var n=bT(e,t);return n??yn},xn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Zv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mc},wT=(e,t)=>e.cartesianAxis.yAxis[t],mi=(e,t)=>{var n=wT(e,t);return n??xn},YY={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ob=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??YY},it=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);case"zAxis":return ob(e,n);case"angleAxis":return Ps(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},JY=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},As=(e,t,n)=>{switch(t){case"xAxis":return pi(e,n);case"yAxis":return mi(e,n);case"angleAxis":return Ps(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},kT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var lb=e=>e.graphicalItems.cartesianItems,XY=$([De,Wc],sb),cb=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Kc=$([lb,it,XY],cb),ST=$([Kc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rp)),jT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),_T=$([Kc],jT),ub=e=>e.map(t=>t.data).filter(Boolean).flat(1),QY=$([Kc],ub),db=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},fb=$([QY,Q0],db),hb=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:yt(i,r)}))):e.map(r=>({value:r})),ip=$([fb,it,Kc],hb);function CT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ao(e){return e.filter(t=>Rr(t)||t instanceof Date).map(Number).filter(t=>En(t)===!1)}function ZY(e,t,n){return!n||typeof t!="number"||En(t)?[]:n.length?ao(n.flatMap(r=>{var i=yt(e,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Nn(a)||!Nn(o)))return[t-a,t+o]})):[]}var eJ=$([ST,Q0,Et],xT),ET=(e,t,n)=>{var r={},i=t.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,s]=a,l=s.map(ab);return[o,{stackedData:nq(e,l,n),graphicalItems:s}]}))},ey=$([eJ,ST,zc],ET),PT=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var a=sq(e,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},tJ=$([ey,ra,De],PT),NT=(e,t,n,r,i)=>n.length>0?e.flatMap(a=>n.flatMap(o=>{var s,l,c=(s=r[o.id])===null||s===void 0?void 0:s.filter(f=>CT(i,f)),u=yt(a,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:ZY(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:yt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),ap=e=>e.errorBars,OT=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>CT(n,r));$([_T,ap,De],OT);var nJ=$([fb,it,_T,ap,De],NT);function rJ(e){var{value:t}=e;if(Rr(t)||t instanceof Date)return t}var Oj=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ao(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},iJ=(e,t,n)=>{var r=e.map(rJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&OO(r))?g2(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},pb=e=>{var t;if(e==null||!("domain"in e))return Zv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=ao(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Zv},_f=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},AT=e=>e.referenceElements.dots,Ts=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),aJ=$([AT,De,Wc],Ts),TT=e=>e.referenceElements.areas,oJ=$([TT,De,Wc],Ts),IT=e=>e.referenceElements.lines,sJ=$([IT,De,Wc],Ts),DT=(e,t)=>{var n=ao(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lJ=$(aJ,De,DT),RT=(e,t)=>{var n=ao(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cJ=$([oJ,De],RT),MT=(e,t)=>{var n=ao(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},uJ=$(sJ,De,MT),dJ=$(lJ,uJ,cJ,(e,t,n)=>_f(e,n,t)),LT=$([it],pb),mb=(e,t,n,r,i,a,o)=>{var s=jY(t,e.allowDataOverflow);if(s!=null)return s;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?_f(n,i,Oj(r)):_f(i,Oj(r));return _Y(t,c,e.allowDataOverflow)},fJ=$([it,LT,tJ,nJ,dJ,xe,De],mb),hJ=[0,1],gb=(e,t,n,r,i,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,c=ea(t,a);return c&&s==null?g2(0,n.length):l==="category"?iJ(r,e,c):i==="expand"?hJ:o}},vb=$([it,xe,fb,ip,zc,De,fJ],gb),$T=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Tc(a));return s in gl?s:"point"}}},ia=$([it,xe,kT,tb,De],$T);function pJ(e){if(e!=null){if(e in gl)return gl[e]();var t="scale".concat(Tc(e));if(t in gl)return gl[t]()}}function op(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=pJ(t);if(i!=null){var a=i.domain(n).range(r);return XH(a),a}}}var yb=(e,t,n)=>{var r=pb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&us(e))return RY(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&us(e))return MY(e,t.tickCount,t.allowDecimals)}},xb=$([vb,As,ia],yb),bb=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&us(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],o=t[1],s=n[n.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},mJ=$([it,vb,xb,De],bb),gJ=$(ip,it,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(ao(e.map(s=>s.value))).sort((s,l)=>s-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),FT=$(gJ,xe,fT,_t,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Nn(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=gr(n,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),vJ=(e,t)=>{var n=pi(e,t);return n==null||typeof n.padding!="string"?0:FT(e,"xAxis",t,n.padding)},yJ=(e,t)=>{var n=mi(e,t);return n==null||typeof n.padding!="string"?0:FT(e,"yAxis",t,n.padding)},xJ=$(pi,vJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),bJ=$(mi,yJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),wJ=$([_t,xJ,Kh,Wh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),kJ=$([_t,xe,bJ,Kh,Wh,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Hc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return wJ(e,n,r);case"yAxis":return kJ(e,n,r);case"zAxis":return(i=ob(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return gT(e);case"radiusAxis":return vT(e,n);default:return}},UT=$([it,Hc],tp),Is=$([it,ia,mJ,UT],op);$([Kc,ap,De],OT);function zT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var sp=(e,t)=>t,lp=(e,t,n)=>n,SJ=$(zh,sp,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zT)),jJ=$(Bh,sp,lp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zT)),BT=(e,t)=>({width:e.width,height:t.height}),_J=(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}},WT=$(_t,pi,BT),CJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},EJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},PJ=$(fi,_t,SJ,sp,lp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=BT(t,s);o==null&&(o=CJ(t,r,e));var c=r==="top"&&!i||r==="bottom"&&i;a[s.id]=o-Number(c)*l.height,o+=(c?-1:1)*l.height}),a}),NJ=$(di,_t,jJ,sp,lp,(e,t,n,r,i)=>{var a={},o;return n.forEach(s=>{var l=_J(t,s);o==null&&(o=EJ(t,r,e));var c=r==="left"&&!i||r==="right"&&i;a[s.id]=o-Number(c)*l.width,o+=(c?-1:1)*l.width}),a}),OJ=(e,t)=>{var n=pi(e,t);if(n!=null)return PJ(e,n.orientation,n.mirror)},AJ=$([_t,pi,OJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),TJ=(e,t)=>{var n=mi(e,t);if(n!=null)return NJ(e,n.orientation,n.mirror)},IJ=$([_t,mi,TJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),KT=$(_t,mi,(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}}),Aj=(e,t,n)=>{switch(t){case"xAxis":return WT(e,n).width;case"yAxis":return KT(e,n).height;default:return}},HT=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,s=ea(e,r),l=t.map(c=>c.value);if(o&&s&&a==="category"&&i&&OO(l))return l}},qc=$([xe,ip,it,De],HT),wb=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=ea(e,r);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},kb=$([xe,ip,As,De],wb),Tj=$([xe,JY,ia,Is,qc,kb,Hc,xb,De],(e,t,n,r,i,a,o,s,l)=>{if(t==null)return null;var c=ea(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:n,scale:r}}),qT=(e,t,n,r,i,a,o,s,l)=>{if(!(t==null||r==null)){var c=ea(e,l),{type:u,ticks:f,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&a!=null&&a.length>=2?on(a[0]-a[1])*2*m:m;var g=f||i;if(g){var v=g.map((y,b)=>{var w=o?o.indexOf(y):y;return{index:b,coordinate:r(w)+m,value:y,offset:m}});return v.filter(y=>!En(y.coordinate))}return c&&s?s.map((y,b)=>({coordinate:r(y)+m,value:y,index:b,offset:m})):r.ticks?r.ticks(h).map(y=>({coordinate:r(y)+m,value:y,offset:m})):r.domain().map((y,b)=>({coordinate:r(y)+m,value:o?o[y]:y,index:b,offset:m}))}},VT=$([xe,As,ia,Is,xb,Hc,qc,kb,De],qT),GT=(e,t,n,r,i,a,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=ea(e,o),{tickCount:l}=t,c=0;return c=o==="angleAxis"&&(r==null?void 0:r.length)>=2?on(r[0]-r[1])*2*c:c,s&&a?a.map((u,f)=>({coordinate:n(u)+c,value:u,index:f,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,f)=>({coordinate:n(u)+c,value:i?i[u]:u,index:f,offset:c}))}},ds=$([xe,As,Is,Hc,qc,kb,De],GT),fs=$(it,Is,(e,t)=>{if(!(e==null||t==null))return jf(jf({},e),{},{scale:t})}),DJ=$([it,ia,vb,UT],op);$((e,t,n)=>ob(e,n),DJ,(e,t)=>{if(!(e==null||t==null))return jf(jf({},e),{},{scale:t})});var RJ=$([xe,zh,Bh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),YT=e=>e.options.defaultTooltipEventType,JT=e=>e.options.validateTooltipEventTypes;function XT(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Sb(e,t){var n=YT(e),r=JT(e);return XT(t,n,r)}function MJ(e){return ne(t=>Sb(t,e))}var QT=(e,t)=>{var n,r=Number(t);if(!(En(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},LJ=e=>e.tooltip.settings,Pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},$J={itemInteraction:{click:Pi,hover:Pi},axisInteraction:{click:Pi,hover:Pi},keyboardInteraction:Pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZT=Dn({name:"tooltip",initialState:$J,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Qr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:FJ,removeTooltipEntrySettings:UJ,setTooltipSettingsState:zJ,setActiveMouseOverItemIndex:eI,mouseLeaveItem:BJ,mouseLeaveChart:tI,setActiveClickItemIndex:WJ,setMouseOverAxisIndex:nI,setMouseClickAxisIndex:KJ,setSyncInteraction:ty,setKeyboardInteraction:ny}=ZT.actions,HJ=ZT.reducer;function Ij(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(n),!0).forEach(function(r){qJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qJ(e,t,n){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JJ(e){return e.index!=null}var rI=(e,t,n,r)=>{if(t==null)return Pi;var i=YJ(e,t,n);if(i==null)return Pi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(JJ(i)){if(a)return zu(zu({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return zu(zu({},Pi),{},{coordinate:i.coordinate})},jb=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Nn(r))return n;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(r,a)))},iI=(e,t,n,r,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],c=l==null?void 0:s(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},aI=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Vc=e=>e.options.tooltipPayloadSearcher,Ds=e=>e.tooltip;function Dj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(n),!0).forEach(function(r){XJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(e,t,n){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eX(e,t){return e??t}var oI=(e,t,n,r,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:v}=p,y=eX(g,s),b=Array.isArray(y)?JA(y,c,u):y,w=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:r,S=v==null?void 0:v.nameKey,j;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=G9(b,r,i):j=a(b,t,l,S),Array.isArray(j))j.forEach(E=>{var O=Rj(Rj({},v),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(wS({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:yt(E.payload,E.dataKey),name:E.name}))});else{var k;h.push(wS({tooltipEntrySettings:v,dataKey:w,payload:j,value:yt(j,w),name:(k=yt(j,S))!==null&&k!==void 0?k:v==null?void 0:v.name}))}return h},f)}},_b=$([Et,xe,kT,tb,bt],$T),tX=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),nX=$([bt,Os],sb),Gc=$([tX,Et,nX],cb),rX=$([Gc],e=>e.filter(rp)),iX=$([Gc],ub),Rs=$([iX,ra],db),aX=$([rX,ra,Et],xT),Cb=$([Rs,Et,Gc],hb),oX=$([Et],pb),sX=$([Gc],e=>e.filter(rp)),lX=$([aX,sX,zc],ET),cX=$([lX,ra,bt],PT),uX=$([Gc],jT),dX=$([Rs,Et,uX,ap,bt],NT),fX=$([AT,bt,Os],Ts),hX=$([fX,bt],DT),pX=$([TT,bt,Os],Ts),mX=$([pX,bt],RT),gX=$([IT,bt,Os],Ts),vX=$([gX,bt],MT),yX=$([hX,vX,mX],_f),xX=$([Et,oX,cX,dX,yX,xe,bt],mb),sI=$([Et,xe,Rs,Cb,zc,bt,xX],gb),bX=$([sI,Et,_b],yb),wX=$([Et,sI,bX,bt],bb),lI=e=>{var t=bt(e),n=Os(e),r=!1;return Hc(e,t,n,r)},cI=$([Et,lI],tp),uI=$([Et,_b,wX,cI],op),kX=$([xe,Cb,Et,bt],HT),SX=$([xe,Cb,Et,bt],wb),jX=(e,t,n,r,i,a,o,s)=>{if(t){var{type:l}=t,c=ea(e,s);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return f=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?on(i[0]-i[1])*2*f:f,c&&o?o.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:a?a[h]:h,index:p,offset:f}))}}},gi=$([xe,Et,_b,uI,lI,kX,SX,bt],jX),Eb=$([YT,JT,LJ],(e,t,n)=>XT(n.shared,e,t)),dI=e=>e.tooltip.settings.trigger,Pb=e=>e.tooltip.settings.defaultIndex,cp=$([Ds,Eb,dI,Pb],rI),Va=$([cp,Rs],jb),fI=$([gi,Va],QT),hI=$([cp],e=>{if(e)return e.dataKey}),pI=$([Ds,Eb,dI,Pb],aI),_X=$([di,fi,xe,_t,gi,Pb,pI,Vc],iI),CX=$([cp,_X],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),EX=$([cp],e=>e.active),PX=$([pI,Va,ra,yT,fI,Vc,Eb],oI),NX=$([PX],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Mj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(n),!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return(t=AX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IX=()=>ne(Et),DX=()=>{var e=IX(),t=ne(gi),n=ne(uI);return lc(Lj(Lj({},e),{},{scale:n}),t)},RX=()=>ne(tb),Nb=(e,t)=>t,mI=(e,t,n)=>n,Ob=(e,t,n,r)=>r,MX=$(gi,e=>Dh(e,t=>t.coordinate)),Ab=$([Ds,Nb,mI,Ob],rI),gI=$([Ab,Rs],jb),LX=(e,t,n)=>{if(t!=null){var r=Ds(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},vI=$([Ds,Nb,mI,Ob],aI),Cf=$([di,fi,xe,_t,gi,Ob,vI,Vc],iI),$X=$([Ab,Cf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),yI=$(gi,gI,QT),FX=$([vI,gI,ra,yT,yI,Vc,Nb],oI),UX=$([Ab],e=>({isActive:e.active,activeIndex:e.index})),zX=(e,t,n,r,i,a,o,s)=>{if(!(!e||!t||!r||!i||!a)){var l=lq(e.chartX,e.chartY,t,n,s);if(l){var c=uq(l,t),u=YH(c,o,a,r,i),f=cq(t,a,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(null,arguments)}function $j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(n),!0).forEach(function(r){BX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$j(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BX(e,t,n){return(t=WX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HX(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:s,tooltipEventType:l,chartName:c}=e,u=t,f=n,h=r;if(!s||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=hV;else if(c==="BarChart")p=pV(o,u,i,a),m=c2;else if(o==="radial"){var{cx:g,cy:v,radius:y,startAngle:b,endAngle:w}=u2(u);p={cx:g,cy:v,startAngle:b,endAngle:w,innerRadius:y,outerRadius:y},m=f2}else p={points:VV(o,u,i)},m=iV;var S=typeof s=="object"&&"className"in s?s.className:void 0,j=Bu(Bu(Bu(Bu({stroke:"#ccc",pointerEvents:"none"},i),p),Ee(s,!1)),{},{payload:f,payloadIndex:h,className:ye("recharts-tooltip-cursor",S)});return x.isValidElement(s)?x.cloneElement(s,j):x.createElement(m,j)}function qX(e){var t=DX(),n=e2(),r=C0(),i=RX();return x.createElement(HX,ry({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var xI=x.createContext(null),VX=()=>x.useContext(xI),bI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,h),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},s.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},s.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,u,f,h,p,m){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,m),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var S=v.length,j;for(w=0;w<S;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!b)for(j=1,b=new Array(y-1);j<y;j++)b[j-1]=arguments[j];v[w].fn.apply(v[w].context,b)}}return!0},s.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},s.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},s.prototype.removeListener=function(c,u,f,h){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&o(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(bI);var GX=bI.exports;const YX=On(GX);var mc=new YX,iy="recharts.syncEvent.tooltip",Fj="recharts.syncEvent.brush";function wI(e,t){if(t){var n=Number.parseInt(t,10);if(!En(n))return e==null?void 0:e[n]}}var JX={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kI=Dn({name:"options",initialState:JX,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XX=kI.reducer,{createEventEmitter:QX}=kI.actions;function ZX(e){return e.tooltip.syncInteraction}var eQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},SI=Dn({name:"chartData",initialState:eQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Uj,setDataStartEndIndexes:tQ,setComputedData:fce}=SI.actions,nQ=SI.reducer,rQ=["x","y"];function zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(n),!0).forEach(function(r){iQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iQ(e,t,n){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aQ(e){var t=oQ(e,"string");return typeof t=="symbol"?t:t+""}function oQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sQ(e,t){if(e==null)return{};var n,r,i=lQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jI=()=>{};function cQ(){var e=ne(nb),t=ne(rb),n=Ke(),r=ne(hT),i=ne(gi),a=C0(),o=S0(),s=ne(l=>l.rootProps.className);x.useEffect(()=>{if(e==null)return jI;var l=(c,u,f)=>{if(t!==f&&e===c){if(r==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var p=u.payload.coordinate,{x:m,y:g}=p,v=sQ(p,rQ),y=ca(ca(ca({},v),typeof m=="number"&&{x:Math.max(o.x,Math.min(m,o.x+o.width))}),typeof g=="number"&&{y:Math.max(o.y,Math.min(g,o.y+o.height))}),b=ca(ca({},u),{},{payload:ca(ca({},u.payload),{},{coordinate:y})});n(b)}else n(u);return}if(i!=null){var w;if(typeof r=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},j=r(i,S);w=i[j]}else r==="value"&&(w=i.find(R=>String(R.value)===u.payload.label));var{coordinate:k}=u.payload;if(w==null||u.payload.active===!1||k==null||o==null){n(ty({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y:O}=k,P=Math.min(E,o.x+o.width),N=Math.min(O,o.y+o.height),I={x:a==="horizontal"?w.coordinate:P,y:a==="horizontal"?N:w.coordinate},A=ty({active:u.payload.active,coordinate:I,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});n(A)}}};return mc.on(iy,l),()=>{mc.off(iy,l)}},[s,n,t,e,r,i,a,o])}function uQ(){var e=ne(nb),t=ne(rb),n=Ke();x.useEffect(()=>{if(e==null)return jI;var r=(i,a,o)=>{t!==o&&e===i&&n(tQ(a))};return mc.on(Fj,r),()=>{mc.off(Fj,r)}},[n,t,e])}function dQ(){var e=Ke();x.useEffect(()=>{e(QX())},[e]),cQ(),uQ()}function fQ(e,t,n,r,i,a){var o=ne(h=>LX(h,e,t)),s=ne(rb),l=ne(nb),c=ne(hT),u=ne(ZX),f=u==null?void 0:u.active;x.useEffect(()=>{if(!f&&l!=null&&s!=null){var h=ty({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});mc.emit(iy,l,h,s)}},[f,n,o,i,r,s,l,c,a])}function Bj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gQ(e){return e.dataKey}function vQ(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Kq,t)}var Kj=[],yQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!no.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hj(e){var t=pn(e,yQ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:s,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:b,portal:w,axisId:S}=t,j=Ke(),k=typeof b=="number"?String(b):b;x.useEffect(()=>{j(zJ({shared:v,trigger:y,axisId:S,active:n,defaultIndex:k}))},[j,v,y,S,n,k]);var E=S0(),O=i2(),P=MJ(v),{activeIndex:N,isActive:I}=ne(J=>UX(J,P,y,k)),A=ne(J=>FX(J,P,y,k)),R=ne(J=>yI(J,P,y,k)),M=ne(J=>$X(J,P,y,k)),U=A,B=VX(),L=n??I,[T,F]=jA([U,L]),C=P==="axis"?R:void 0;fQ(P,y,M,C,N,L);var V=w??B;if(V==null)return null;var D=U??Kj;L||(D=Kj),s&&D.length&&(D=fA(U.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),u,gQ));var _=D.length>0,Y=x.createElement(Xq,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:l,active:L,coordinate:M,hasPayload:_,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:E,wrapperStyle:m,lastBoundingBox:T,innerRef:F,hasPortalFromProps:!!w},vQ(o,Wj(Wj({},t),{},{payload:D,label:C,active:L,coordinate:M,accessibilityLayer:O})));return x.createElement(x.Fragment,null,vx.createPortal(Y,V),L&&x.createElement(qX,{cursor:g,tooltipEventType:P,coordinate:M,payload:U,index:N}))}var _I={},CI={},EI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),o=void 0,s=null},v=()=>{u()},y=function(...b){if(i!=null&&i.aborted)return;o=this,s=b;const w=h==null;p(),l&&w&&u()};return y.schedule=p,y.cancel=g,y.flush=v,i==null||i.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,c=Array(2);o&&(c[0]="leading"),s&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=r.apply(this,g),f=null},i,{edges:c}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=r.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(CI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CI;function n(r,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(r,i,{leading:o,maxWait:i,trailing:s})}e.throttle=n})(_I);var xQ=_I.throttle;const bQ=On(xQ);var Tl=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function qj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(n),!0).forEach(function(r){wQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wQ(e,t,n){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bm=x.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,g=x.useRef(null),v=x.useRef();v.current=p,x.useImperativeHandle(t,()=>g.current);var[y,b]=x.useState({containerWidth:r.width,containerHeight:r.height}),w=x.useCallback((j,k)=>{b(E=>{var O=Math.round(j),P=Math.round(k);return E.containerWidth===O&&E.containerHeight===P?E:{containerWidth:O,containerHeight:P}})},[]);x.useEffect(()=>{var j=P=>{var N,{width:I,height:A}=P[0].contentRect;w(I,A),(N=v.current)===null||N===void 0||N.call(v,I,A)};u>0&&(j=bQ(j,u,{trailing:!0,leading:!1}));var k=new ResizeObserver(j),{width:E,height:O}=g.current.getBoundingClientRect();return w(E,O),k.observe(g.current),()=>{k.disconnect()}},[w,u]);var S=x.useMemo(()=>{var{containerWidth:j,containerHeight:k}=y;if(j<0||k<0)return null;Tl(ja(i)||ja(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Tl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var E=ja(i)?j:i,O=ja(a)?k:a;return n&&n>0&&(E?O=E/n:O&&(E=O*n),l&&O>l&&(O=l)),Tl(E>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,O,i,a,o,s,n),x.Children.map(c,P=>x.cloneElement(P,{width:E,height:O,style:zm({width:E,height:O},P.props.style)}))},[n,c,a,l,s,o,y,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:ye("recharts-responsive-container",h),style:zm(zm({},m),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:g},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},S))}),PI=e=>null;PI.displayName="Cell";function jQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EQ{constructor(t){jQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(n),!0).forEach(function(r){NQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NQ(e,t,n){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TQ={cacheSize:2e3,enableCache:!0},NI=PQ({},TQ),Gj=new EQ(NI.cacheSize),IQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Yj="recharts_measurement_span";function DQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var Jj=(e,t)=>{try{var n=document.getElementById(Yj);n||(n=document.createElement("span"),n.setAttribute("id",Yj),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,IQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Il=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||no.isSsr)return{width:0,height:0};if(!NI.enableCache)return Jj(t,n);var r=DQ(t,n),i=Gj.get(r);if(i)return i;var a=Jj(t,n);return Gj.set(r,a),a},Xj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OI={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},LQ=Object.keys(OI),Io="NaN";function $Q(e,t){return e*OI[t]}class en{static parse(t){var n,[,r,i]=(n=MQ.exec(t))!==null&&n!==void 0?n:[];return new en(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,En(t)&&(this.unit=""),n!==""&&!RQ.test(n)&&(this.num=NaN,this.unit=""),LQ.includes(n)&&(this.num=$Q(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new en(NaN,""):new en(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new en(NaN,""):new en(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return En(this.num)}}function AI(e){if(e.includes(Io))return Io;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=Xj.exec(t))!==null&&n!==void 0?n:[],o=en.parse(r??""),s=en.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Io;t=t.replace(Xj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=Qj.exec(t))!==null&&c!==void 0?c:[],p=en.parse(u??""),m=en.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Io;t=t.replace(Qj,g.toString())}return t}var Zj=/\(([^()]*)\)/;function FQ(e){for(var t=e,n;(n=Zj.exec(t))!=null;){var[,r]=n;t=t.replace(Zj,AI(r))}return t}function UQ(e){var t=e.replace(/\s+/g,"");return t=FQ(t),t=AI(t),t}function zQ(e){try{return UQ(e)}catch{return Io}}function Wm(e){var t=zQ(e.slice(5,-1));return t===Io?"":t}var BQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WQ=["dx","dy","angle","className","breakAll"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(null,arguments)}function e_(e,t){if(e==null)return{};var n,r,i=KQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TI=/[ \f\n\r\t\v\u2028\u2029]+/,II=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];rt(t)||(n?i=t.toString().split(""):i=t.toString().split(TI));var a=i.map(s=>({word:s,width:Il(s,r).width})),o=n?0:Il(" ",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},HQ=(e,t,n,r,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=le(a),u=o,f=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((A,R)=>{var{word:M,width:U}=R,B=A[A.length-1];if(B&&(r==null||i||B.width+U+n<Number(r)))B.words.push(M),B.width+=U+n;else{var L={words:[M],width:U};A.push(L)}return A},[])},h=f(t),p=N=>N.reduce((I,A)=>I.width>A.width?I:A);if(!c||i)return h;var m=h.length>a||p(h).width>Number(r);if(!m)return h;for(var g="…",v=N=>{var I=u.slice(0,N),A=II({breakAll:l,style:s,children:I+g}).wordsWithComputedWidth,R=f(A),M=R.length>a||p(R).width>Number(r);return[M,R]},y=0,b=u.length-1,w=0,S;y<=b&&w<=u.length-1;){var j=Math.floor((y+b)/2),k=j-1,[E,O]=v(k),[P]=v(j);if(!E&&!P&&(y=j+1),E&&P&&(b=j-1),!E&&P){S=O;break}w++}return S||h},t_=e=>{var t=rt(e)?[]:e.toString().split(TI);return[{words:t}]},qQ=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=e;if((t||n)&&!no.isSsr){var s,l,c=II({breakAll:a,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;s=u,l=f}else return t_(r);return HQ({breakAll:a,children:r,maxLines:o,style:i},s,l,t,n)}return t_(r)},n_="#808080",Yc=x.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:s="start",verticalAnchor:l="end",fill:c=n_}=e,u=e_(e,BQ),f=x.useMemo(()=>qQ({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:o,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,o,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:v}=u,y=e_(u,WQ);if(!Rr(n)||!Rr(r)||f.length===0)return null;var b=n+(le(h)?h:0),w=r+(le(p)?p:0),S;switch(l){case"start":S=Wm("calc(".concat(a,")"));break;case"middle":S=Wm("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:S=Wm("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(o){var k=f[0].width,{width:E}=u;j.push("scale(".concat(le(E)?E/k:1,")"))}return m&&j.push("rotate(".concat(m,", ").concat(b,", ").concat(w,")")),j.length&&(y.transform=j.join(" ")),x.createElement("text",ay({},Ee(y,!0),{ref:t,x:b,y:w,className:ye("recharts-text",g),textAnchor:s,fill:c.includes("url")?n_:c}),f.map((O,P)=>{var N=O.words.join(v?"":" ");return x.createElement("tspan",{x:b,dy:P===0?S:i,key:"".concat(N,"-").concat(P)},N)}))});Yc.displayName="Text";var VQ=["labelRef"];function GQ(e,t){if(e==null)return{};var n,r,i=YQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(r){JQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(null,arguments)}var DI=x.createContext(null),ZQ=e=>{var{x:t,y:n,width:r,height:i,children:a}=e,o=x.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return x.createElement(DI.Provider,{value:o},a)},RI=()=>{var e=x.useContext(DI),t=S0();return e||t},MI=x.createContext(null),eZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s,children:l}=e,c=x.useMemo(()=>({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,clockWise:s}),[t,n,r,i,a,o,s]);return x.createElement(MI.Provider,{value:c},l)},LI=()=>{var e=x.useContext(MI),t=ne(Ns);return e||t},tZ=e=>{var{value:t,formatter:n}=e,r=rt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Tb=e=>e!=null&&typeof e=="function",nZ=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),360);return n*r},rZ=(e,t,n,r,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=i,m=(c+u)/2,g=nZ(f,h),v=g>=0?1:-1,y,b;switch(t){case"insideStart":y=f+v*a,b=p;break;case"insideEnd":y=h-v*a,b=!p;break;case"end":y=h+v*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=Ne(s,l,m,y),S=Ne(s,l,m,y+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),k=rt(e.id)?ac("recharts-radial-line-"):e.id;return x.createElement("text",Kr({},r,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:k,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(k)},n))},iZ=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if(n==="outside"){var{x:u,y:f}=Ne(r,i,o+t,c);return{x:u,y:f,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:m}=Ne(r,i,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},$I=e=>"cx"in e&&le(e.cx),aZ=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!$I(n)&&(a=n);var{x:o,y:s,width:l,height:c}=t,u=c>=0?1:-1,f=u*r,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,g=m*r,v=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h};return tt(tt({},b),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var w={x:o+l/2,y:s+c+f,textAnchor:"middle",verticalAnchor:p};return tt(tt({},w),a?{height:Math.max(a.y+a.height-(s+c),0),width:l}:{})}if(i==="left"){var S={x:o-g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return tt(tt({},S),a?{width:Math.max(S.x-a.x,0),height:c}:{})}if(i==="right"){var j={x:o+l+g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return tt(tt({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:c}:{})}var k=a?{width:l,height:c}:{};return i==="insideLeft"?tt({x:o+g,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?tt({x:o+l-g,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideTop"?tt({x:o+l/2,y:s+f,textAnchor:"middle",verticalAnchor:p},k):i==="insideBottom"?tt({x:o+l/2,y:s+c-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?tt({x:o+g,y:s+f,textAnchor:y,verticalAnchor:p},k):i==="insideTopRight"?tt({x:o+l-g,y:s+f,textAnchor:v,verticalAnchor:p},k):i==="insideBottomLeft"?tt({x:o+g,y:s+c-f,textAnchor:y,verticalAnchor:h},k):i==="insideBottomRight"?tt({x:o+l-g,y:s+c-f,textAnchor:v,verticalAnchor:h},k):i&&typeof i=="object"&&(le(i.x)||ja(i.x))&&(le(i.y)||ja(i.y))?tt({x:o+gr(i.x,l),y:s+gr(i.y,c),textAnchor:"end",verticalAnchor:"end"},k):tt({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},k)},oZ={offset:5};function ji(e){var t=pn(e,oZ),{viewBox:n,position:r,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:c}=t,u=LI(),f=RI(),h=r==="center"?f:u??f,p=n||h;if(!p||rt(i)&&rt(a)&&!x.isValidElement(o)&&typeof o!="function")return null;var m=tt(tt({},t),{},{viewBox:p});if(x.isValidElement(o)){var g=GQ(m,VQ);return x.cloneElement(o,g)}var v;if(typeof o=="function"){if(v=x.createElement(o,m),x.isValidElement(v))return v}else v=tZ(t);var y=$I(p),b=Ee(t,!0);if(y&&(r==="insideStart"||r==="insideEnd"||r==="end"))return rZ(t,r,v,b,p);var w=y?iZ(p,t.offset,t.position):aZ(t,p);return x.createElement(Yc,Kr({ref:c,className:ye("recharts-label",s)},b,w,{breakAll:l}),v)}ji.displayName="Label";var FI=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?x.createElement(ji,Kr({key:"label-implicit"},r)):Rr(e)?x.createElement(ji,Kr({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ji?x.cloneElement(e,tt({key:"label-implicit"},r)):x.createElement(ji,Kr({key:"label-implicit",content:e},r)):Tb(e)?x.createElement(ji,Kr({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ji,Kr({},e,{key:"label-implicit"},r)):null};function sZ(e){var{label:t}=e,n=RI();return FI(t,n)||null}function lZ(e){var{label:t}=e,n=LI();return FI(t,n)||null}var UI={},zI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(zI);var BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(BI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zI,n=BI,r=Ah;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(UI);var cZ=UI.last;const WI=On(cZ);var uZ=["valueAccessor"],dZ=["dataKey","clockWise","id","textBreakAll"];function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef.apply(null,arguments)}function i_(e,t){if(e==null)return{};var n,r,i=fZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hZ=e=>Array.isArray(e.value)?WI(e.value):e.value,KI=x.createContext(void 0),HI=KI.Provider,qI=x.createContext(void 0);qI.Provider;function pZ(){return x.useContext(KI)}function mZ(){return x.useContext(qI)}function cd(e){var{valueAccessor:t=hZ}=e,n=i_(e,uZ),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,s=i_(n,dZ),l=pZ(),c=mZ(),u=l||c;return!u||!u.length?null:x.createElement(jt,{className:"recharts-label-list"},u.map((f,h)=>{var p,m=rt(r)?t(f,h):yt(f&&f.payload,r),g=rt(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(ji,Ef({},Ee(f,!0),s,g,{fill:(p=n.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:o,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}cd.displayName="LabelList";function VI(e){var{label:t}=e;return t?t===!0?x.createElement(cd,{key:"labelList-implicit"}):x.isValidElement(t)||Tb(t)?x.createElement(cd,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(cd,Ef({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var gZ=["points","className","baseLinePoints","connectNulls"];function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(null,arguments)}function vZ(e,t){if(e==null)return{};var n,r,i=yZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var a_=e=>e&&e.x===+e.x&&e.y===+e.y,xZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(r=>{a_(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),a_(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Dl=(e,t)=>{var n=xZ(e);t&&(n=[n.reduce((i,a)=>[...i,...a],[])]);var r=n.map(i=>i.reduce((a,o,s)=>"".concat(a).concat(s===0?"M":"L").concat(o.x,",").concat(o.y),"")).join("");return n.length===1?"".concat(r,"Z"):r},bZ=(e,t,n)=>{var r=Dl(e,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(Dl(Array.from(t).reverse(),n).slice(1))},GI=e=>{var{points:t,className:n,baseLinePoints:r,connectNulls:i}=e,a=vZ(e,gZ);if(!t||!t.length)return null;var o=ye("recharts-polygon",n);if(r&&r.length){var s=a.stroke&&a.stroke!=="none",l=bZ(t,r,i);return x.createElement("g",{className:o},x.createElement("path",Do({},Ee(a,!0),{fill:l.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:l})),s?x.createElement("path",Do({},Ee(a,!0),{fill:"none",d:Dl(t,i)})):null,s?x.createElement("path",Do({},Ee(a,!0),{fill:"none",d:Dl(r,i)})):null)}var c=Dl(t,i);return x.createElement("path",Do({},Ee(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:o,d:c}))};function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(null,arguments)}var Ib=e=>{var{cx:t,cy:n,r,className:i}=e,a=ye("recharts-dot",i);return t===+t&&n===+n&&r===+r?x.createElement("circle",oy({},Xt(e),Qx(e),{className:a,cx:t,cy:n,r})):null},YI=e=>e.graphicalItems.polarItems,wZ=$([De,Wc],sb),Db=$([YI,it,wZ],cb),kZ=$([Db],ub),Rb=$([kZ,X0],db),JI=$([Rb,it,Db],hb),SZ=$([Rb,it,Db],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,o=yt(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),o_=()=>{},jZ=$([it,LT,o_,SZ,o_,xe,De],mb),XI=$([it,xe,Rb,JI,zc,De,jZ],gb),QI=$([XI,it,ia],yb),_Z=$([it,XI,QI,De],bb),Mb=(e,t,n)=>{switch(t){case"angleAxis":return Ps(e,n);case"radiusAxis":return Bc(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Lb=(e,t,n)=>{switch(t){case"angleAxis":return KY(e,n);case"radiusAxis":return HY(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ms=$([Mb,ia,_Z,Lb],op),ZI=$([xe,JI,As,De],wb),Ls=$([xe,Mb,ia,Ms,QI,Lb,qc,ZI,De],qT);$([xe,Mb,Ms,Lb,qc,ZI,De],GT);var CZ=(e,t)=>Ls(e,"angleAxis",t,!1),EZ=$([CZ],e=>{if(e)return e.map(t=>t.coordinate)}),PZ=(e,t)=>Ls(e,"radiusAxis",t,!1),NZ=$([PZ],e=>{if(e)return e.map(t=>t.coordinate)}),OZ=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function AZ(e,t){if(e==null)return{};var n,r,i=TZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ur(){return ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ur.apply(null,arguments)}function s_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(n),!0).forEach(function(r){IZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IZ(e,t,n){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MZ=(e,t,n,r)=>{var i="";return r.forEach((a,o)=>{var s=Ne(t,n,e,a);o?i+="L ".concat(s.x,",").concat(s.y):i+="M ".concat(s.x,",").concat(s.y)}),i+="Z",i},LZ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,polarAngles:a,radialLines:o}=e;if(!a||!a.length||!o)return null;var s=up({stroke:"#ccc"},Xt(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},a.map(l=>{var c=Ne(t,n,r,l),u=Ne(t,n,i,l);return x.createElement("line",ur({},s,{key:"line-".concat(l),x1:c.x,y1:c.y,x2:u.x,y2:u.y}))}))},l_=e=>{var{cx:t,cy:n,radius:r}=e,i=up({stroke:"#ccc",fill:"none"},Xt(e));return x.createElement("circle",ur({},i,{className:ye("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:n,r}))},c_=e=>{var{radius:t}=e,n=up({stroke:"#ccc",fill:"none"},Xt(e));return x.createElement("path",ur({},n,{className:ye("recharts-polar-grid-concentric-polygon",e.className),d:MZ(t,e.cx,e.cy,e.polarAngles)}))},$Z=e=>{var{polarRadius:t,gridType:n}=e;if(!t||!t.length)return null;var r=Math.max(...t),i=e.fill&&e.fill!=="none";return x.createElement("g",{className:"recharts-polar-grid-concentric"},i&&n==="circle"&&x.createElement(l_,ur({},e,{radius:r})),i&&n!=="circle"&&x.createElement(c_,ur({},e,{radius:r})),t.map((a,o)=>{var s=o;return n==="circle"?x.createElement(l_,ur({key:s},e,{fill:"none",radius:a})):x.createElement(c_,ur({key:s},e,{fill:"none",radius:a}))}))},eD=e=>{var t,n,r,i,a,o,s,l,{gridType:c="polygon",radialLines:u=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:p,cy:m,innerRadius:g,outerRadius:v}=e,y=AZ(e,OZ),b=ne(Ns),w=up({cx:(t=(n=b==null?void 0:b.cx)!==null&&n!==void 0?n:p)!==null&&t!==void 0?t:0,cy:(r=(i=b==null?void 0:b.cy)!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0,innerRadius:(a=(o=b==null?void 0:b.innerRadius)!==null&&o!==void 0?o:g)!==null&&a!==void 0?a:0,outerRadius:(s=(l=b==null?void 0:b.outerRadius)!==null&&l!==void 0?l:v)!==null&&s!==void 0?s:0},y),{polarAngles:S,polarRadius:j,outerRadius:k}=w,E=ne(I=>EZ(I,f)),O=ne(I=>NZ(I,h)),P=Array.isArray(S)?S:E,N=Array.isArray(j)?j:O;return k<=0||P==null||N==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement($Z,ur({gridType:c,radialLines:u},w,{polarAngles:P,polarRadius:N})),x.createElement(LZ,ur({gridType:c,radialLines:u},w,{polarAngles:P,polarRadius:N})))};eD.displayName="PolarGrid";var tD={},nD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l>a&&(a=l,i=s)}return i}e.maxBy=t})(nD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nD,n=Ic,r=Th;function i(a,o){if(a!=null)return t.maxBy(Array.from(a),r.iteratee(o??n.identity))}e.maxBy=i})(tD);var FZ=tD.maxBy;const UZ=On(FZ);var rD={},iD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){if(n.length===0)return;let i=n[0],a=r(i);for(let o=1;o<n.length;o++){const s=n[o],l=r(s);l<a&&(a=l,i=s)}return i}e.minBy=t})(iD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iD,n=Ic,r=Th;function i(a,o){if(a!=null)return t.minBy(Array.from(a),r.iteratee(o??n.identity))}e.minBy=i})(rD);var zZ=rD.minBy;const BZ=On(zZ);var WZ={radiusAxis:{},angleAxis:{}},aD=Dn({name:"polarAxis",initialState:WZ,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:KZ,removeRadiusAxis:HZ,addAngleAxis:qZ,removeAngleAxis:VZ}=aD.actions,GZ=aD.reducer,YZ=["cx","cy","angle","axisLine"],JZ=["angle","tickFormatter","stroke","tick"];function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gc.apply(null,arguments)}function u_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(n),!0).forEach(function(r){dp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dp(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oD(e,t){if(e==null)return{};var n,r,i=ZZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sD="radiusAxis";function eee(e){var t=Ke();return x.useEffect(()=>(t(KZ(e)),()=>{t(HZ(e))})),null}var tee=(e,t,n,r)=>{var{coordinate:i}=e;return Ne(n,r,i,t)},nee=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},ree=(e,t,n,r)=>{var i=UZ(r,o=>o.coordinate||0),a=BZ(r,o=>o.coordinate||0);return{cx:t,cy:n,startAngle:e,endAngle:e,innerRadius:a.coordinate||0,outerRadius:i.coordinate||0,clockWise:!1}},iee=(e,t)=>{var{cx:n,cy:r,angle:i,axisLine:a}=e,o=oD(e,YZ),s=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),l=Ne(n,r,s[0],i),c=Ne(n,r,s[1],i),u=Or(Or(Or({},Xt(o)),{},{fill:"none"},Ee(a,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return x.createElement("line",gc({className:"recharts-polar-radius-axis-line"},u))},aee=(e,t,n)=>{var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(Yc,gc({},t,{className:"recharts-polar-radius-axis-tick-value"}),n),r},oee=(e,t)=>{var{angle:n,tickFormatter:r,stroke:i,tick:a}=e,o=oD(e,JZ),s=nee(e.orientation),l=Xt(o),c=Ee(a,!1),u=t.map((f,h)=>{var p=tee(f,e.angle,e.cx,e.cy),m=Or(Or(Or(Or({textAnchor:s,transform:"rotate(".concat(90-n,", ").concat(p.x,", ").concat(p.y,")")},l),{},{stroke:"none",fill:i},c),{},{index:h},p),{},{payload:f});return x.createElement(jt,gc({className:ye("recharts-polar-radius-axis-tick",YA(a)),key:"tick-".concat(f.coordinate)},js(e,f,h)),aee(a,m,r?r(f.value,h):f.value))});return x.createElement(jt,{className:"recharts-polar-radius-axis-ticks"},u)},see=e=>{var{radiusAxisId:t}=e,n=ne(Ns),r=ne(l=>Ms(l,"radiusAxis",t)),i=ne(l=>Ls(l,"radiusAxis",t,!1));if(n==null||!i||!i.length)return null;var a=Or(Or(Or({},e),{},{scale:r},n),{},{radius:n.outerRadius}),{tick:o,axisLine:s}=a;return x.createElement(jt,{className:ye("recharts-polar-radius-axis",sD,a.className)},s&&iee(a,i),o&&oee(a,i),x.createElement(eZ,ree(a.angle,a.cx,a.cy,i),x.createElement(lZ,{label:a.label}),a.children))};class fp extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(eee,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(see,this.props))}}dp(fp,"displayName","PolarRadiusAxis");dp(fp,"axisType",sD);dp(fp,"defaultProps",tn);var lee=["children"];function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(null,arguments)}function d_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(n),!0).forEach(function(r){hp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hp(e,t,n){return(t=cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dee(e,t){if(e==null)return{};var n,r,i=fee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var f_=1e-5,hee=Math.cos(uf(45)),lD="angleAxis";function pee(e){var t=Ke(),n=x.useMemo(()=>{var a=dee(e,lee);return a},[e]),r=ne(a=>Ps(a,n.id)),i=n===r;return x.useEffect(()=>(t(qZ(n)),()=>{t(VZ(n))}),[t,n]),i?e.children:null}var mee=(e,t)=>{var{cx:n,cy:r,radius:i,orientation:a,tickSize:o}=t,s=o||8,l=Ne(n,r,i,e.coordinate),c=Ne(n,r,i+(a==="inner"?-1:1)*s,e.coordinate);return{x1:l.x,y1:l.y,x2:c.x,y2:c.y}},gee=(e,t)=>{var n=Math.cos(uf(-e.coordinate));return n>f_?t==="outer"?"start":"end":n<-f_?t==="outer"?"end":"start":"middle"},vee=e=>{var t=Math.cos(uf(-e.coordinate)),n=Math.sin(uf(-e.coordinate));return Math.abs(t)<=hee?n>0?"start":"end":"middle"},yee=e=>{var{cx:t,cy:n,radius:r,axisLineType:i,axisLine:a,ticks:o}=e;if(!a)return null;var s=Pr(Pr({},Xt(e)),{},{fill:"none"},Ee(a,!1));if(i==="circle")return x.createElement(Ib,li({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r}));var l=o.map(c=>Ne(t,n,r,c.coordinate));return x.createElement(GI,li({className:"recharts-polar-angle-axis-line"},s,{points:l}))},xee=e=>{var{tick:t,tickProps:n,value:r}=e;return t?x.isValidElement(t)?x.cloneElement(t,n):typeof t=="function"?t(n):x.createElement(Yc,li({},n,{className:"recharts-polar-angle-axis-tick-value"}),r):null},bee=e=>{var{tick:t,tickLine:n,tickFormatter:r,stroke:i,ticks:a}=e,o=Xt(e),s=Ee(t,!1),l=Pr(Pr({},o),{},{fill:"none"},Ee(n,!1)),c=a.map((u,f)=>{var h=mee(u,e),p=gee(u,e.orientation),m=vee(u),g=Pr(Pr(Pr({},o),{},{textAnchor:p,verticalAnchor:m,stroke:"none",fill:i},s),{},{index:f,payload:u,x:h.x2,y:h.y2});return x.createElement(jt,li({className:ye("recharts-polar-angle-axis-tick",YA(t)),key:"tick-".concat(u.coordinate)},js(e,u,f)),n&&x.createElement("line",li({className:"recharts-polar-angle-axis-tick-line"},l,h)),x.createElement(xee,{tick:t,tickProps:g,value:r?r(u.value,f):u.value}))});return x.createElement(jt,{className:"recharts-polar-angle-axis-ticks"},c)},wee=e=>{var{angleAxisId:t}=e,n=ne(Ns),r=ne(s=>Ms(s,"angleAxis",t)),i=hn(),a=ne(s=>Ls(s,"angleAxis",t,i));if(n==null||!a||!a.length)return null;var o=Pr(Pr(Pr({},e),{},{scale:r},n),{},{radius:n.outerRadius});return x.createElement(jt,{className:ye("recharts-polar-angle-axis",lD,o.className)},x.createElement(yee,li({},o,{ticks:a})),x.createElement(bee,li({},o,{ticks:a})))};class pp extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(pee,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(wee,this.props))}}hp(pp,"displayName","PolarAngleAxis");hp(pp,"axisType",lD);hp(pp,"defaultProps",Er);var cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(cD);var kee=cD.isPlainObject;const See=On(kee);function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=Cee(e,"string");return typeof t=="symbol"?t:t+""}function Cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pf.apply(null,arguments)}var m_=(e,t,n,r,i)=>{var a=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-a/2,",").concat(t+i),o+="L ".concat(e+n-a/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},Eee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pee=e=>{var t=pn(e,Eee),{x:n,y:r,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=x.useRef(),[p,m]=x.useState(-1),g=x.useRef(i),v=x.useRef(a),y=x.useRef(o),b=x.useRef(n),w=x.useRef(r),S=Vh(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var M=h.current.getTotalLength();M&&m(M)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var j=ye("recharts-trapezoid",s);if(!f)return x.createElement("g",null,x.createElement("path",Pf({},Ee(t,!0),{className:j,d:m_(n,r,i,a,o)})));var k=g.current,E=v.current,O=y.current,P=b.current,N=w.current,I="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),R=a2(["strokeDasharray"],c,l);return x.createElement(qh,{animationId:S,key:S,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},M=>{var U=gt(k,i,M),B=gt(E,a,M),L=gt(O,o,M),T=gt(P,n,M),F=gt(N,r,M);h.current&&(g.current=U,v.current=B,y.current=L,b.current=T,w.current=F);var C=M>0?{transition:R,strokeDasharray:A}:{strokeDasharray:I};return x.createElement("path",Pf({},Ee(t,!0),{className:j,d:m_(T,F,U,B,L),ref:h,style:p_(p_({},C),t.style)}))})},Nee=["option","shapeType","propTransformer","activeClassName","isActive"];function Oee(e,t){if(e==null)return{};var n,r,i=Aee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(n),!0).forEach(function(r){Tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tee(e,t,n){return(t=Iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ree(e,t){return Nf(Nf({},t),e)}function Mee(e,t){return e==="symbols"}function v_(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return x.createElement(c2,n);case"trapezoid":return x.createElement(Pee,n);case"sector":return x.createElement(f2,n);case"symbols":if(Mee(t))return x.createElement(r0,n);break;default:return null}}function Lee(e){return x.isValidElement(e)?e.props:e}function $ee(e){var{option:t,shapeType:n,propTransformer:r=Ree,activeClassName:i="recharts-active-shape",isActive:a}=e,o=Oee(e,Nee),s;if(x.isValidElement(t))s=x.cloneElement(t,Nf(Nf({},o),Lee(t)));else if(typeof t=="function")s=t(o);else if(See(t)&&typeof t!="boolean"){var l=r(t,o);s=x.createElement(v_,{shapeType:n,elementProps:l})}else{var c=o;s=x.createElement(v_,{shapeType:n,elementProps:c})}return a?x.createElement(jt,{className:i},s):s}var uD=(e,t)=>{var n=Ke();return(r,i)=>a=>{e==null||e(r,i,a),n(eI({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},dD=e=>{var t=Ke();return(n,r)=>i=>{e==null||e(n,r,i),t(BJ())}},fD=(e,t)=>{var n=Ke();return(r,i)=>a=>{e==null||e(r,i,a),n(WJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function hD(e){var{fn:t,args:n}=e,r=Ke(),i=hn();return x.useEffect(()=>{if(!i){var a=t(n);return r(FJ(a)),()=>{r(UJ(a))}}},[t,n,r,i]),null}var pD=()=>{};function Fee(e){var{legendPayload:t}=e,n=Ke(),r=hn();return x.useEffect(()=>r?pD:(n(n2(t)),()=>{n(r2(t))}),[n,r,t]),null}function Uee(e){var{legendPayload:t}=e,n=Ke(),r=ne(xe);return x.useEffect(()=>r!=="centric"&&r!=="radial"?pD:(n(n2(t)),()=>{n(r2(t))}),[n,r,t]),null}var Km,zee=()=>{var[e]=x.useState(()=>ac("uid-"));return e},Bee=(Km=SC["useId".toString()])!==null&&Km!==void 0?Km:zee;function Wee(e,t){var n=Bee();return t||(e?"".concat(e,"-").concat(n):n)}var Kee=x.createContext(void 0),mD=e=>{var{id:t,type:n,children:r}=e,i=Wee("recharts-".concat(n),t);return x.createElement(Kee.Provider,{value:i},r(i))},Hee={cartesianItems:[],polarItems:[]},gD=Dn({name:"graphicalItems",initialState:Hee,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Qr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Qr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Qr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:qee,replaceCartesianGraphicalItem:Vee,removeCartesianGraphicalItem:Gee,addPolarGraphicalItem:Yee,removePolarGraphicalItem:Jee}=gD.actions,Xee=gD.reducer;function Qee(e){var t=Ke(),n=x.useRef(null);return x.useEffect(()=>{n.current===null?t(qee(e)):n.current!==e&&t(Vee({prev:n.current,next:e})),n.current=e},[t,e]),x.useEffect(()=>()=>{n.current&&(t(Gee(n.current)),n.current=null)},[t]),null}function Zee(e){var t=Ke();return x.useEffect(()=>(t(Yee(e)),()=>{t(Jee(e))}),[t,e]),null}function y_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(n),!0).forEach(function(r){ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ete(e,t,n){return(t=tte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte={xAxis:{},yAxis:{},zAxis:{}},vD=Dn({name:"cartesianAxis",initialState:rte,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=x_(x_({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:ite,removeXAxis:ate,addYAxis:ote,removeYAxis:ste,addZAxis:hce,removeZAxis:pce,updateYAxisWidth:lte}=vD.actions,cte=vD.reducer,ute=$([_t],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),dte=$([ute,di,fi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),yD=()=>ne(dte),fte=()=>ne(NX);function b_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=mte(e,"string");return typeof t=="symbol"?t:t+""}function mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gte=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var o=w_(w_({index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ee(i,!1)),Qx(i)),s;return x.isValidElement(i)?s=x.cloneElement(i,o):typeof i=="function"?s=i(o):s=x.createElement(Ib,o),x.createElement(jt,{className:"recharts-active-dot"},s)};function vte(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,a=ne(Va),o=fte();if(t==null||o==null)return null;var s=t.find(l=>o.includes(l.payload));return rt(s)?null:gte({point:s,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(r){yte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=bte(e,"string");return typeof t=="symbol"?t:t+""}function bte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xD=(e,t)=>Ms(e,"radiusAxis",t),wte=$([xD],e=>{if(e!=null)return{scale:e}}),kte=$([Bc,xD],(e,t)=>{if(!(e==null||t==null))return Of(Of({},e),{},{scale:t})}),Ste=(e,t,n,r)=>Ls(e,"radiusAxis",t,r),bD=(e,t,n)=>Ps(e,n),wD=(e,t,n)=>Ms(e,"angleAxis",n),jte=$([bD,wD],(e,t)=>{if(!(e==null||t==null))return Of(Of({},e),{},{scale:t})}),_te=(e,t,n,r)=>Ls(e,"angleAxis",n,r),Cte=$([bD,wD,Ns],(e,t,n)=>{if(!(n==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:n.cx,cy:n.cy}}),Ete=(e,t,n,r,i)=>i,Pte=$([xe,kte,Ste,jte,_te],(e,t,n,r,i)=>ea(e,"radiusAxis")?lc(t,n,!1):lc(r,i,!1)),Nte=$([YI,Ete],(e,t)=>{if(e!=null){var n=e.find(r=>r.type==="radar"&&t===r.id);return n==null?void 0:n.dataKey}}),Ote=$([wte,Cte,X0,Nte,Pte],(e,t,n,r,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:s}=n;if(!(e==null||t==null||a==null||i==null||r==null)){var l=a.slice(o,s+1);return Fte({radiusAxis:e,angleAxis:t,displayedData:l,dataKey:r,bandSize:i})}}),Ate=["id"];function Tte(e,t){if(e==null)return{};var n,r,i=Ite(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ite(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function S_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(n),!0).forEach(function(r){$b(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $b(e,t,n){return(t=Dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dte(e){var t=Rte(e,"string");return typeof t=="symbol"?t:t+""}function Rte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hs.apply(null,arguments)}function Fb(e,t){return e&&e!=="none"?e:t}var Mte=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Fb(r,i),value:Uh(n,t),payload:e}]};function Lte(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,tooltipType:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,nameKey:void 0,dataKey:t,name:Uh(a,t),hide:o,type:s,color:Fb(n,i),unit:""}}}function $te(e,t){var n;return x.isValidElement(e)?n=x.cloneElement(e,t):typeof e=="function"?n=e(t):n=x.createElement(Ib,hs({},t,{className:ye("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),n}function Fte(e){var{radiusAxis:t,angleAxis:n,displayedData:r,dataKey:i,bandSize:a}=e,{cx:o,cy:s}=n,l=!1,c=[],u=n.type!=="number"?a??0:0;r.forEach((h,p)=>{var m=yt(h,n.dataKey,p),g=yt(h,i),v=n.scale(m)+u,y=Array.isArray(g)?WI(g):g,b=rt(y)?void 0:t.scale(y);Array.isArray(g)&&g.length>=2&&(l=!0),c.push(At(At({},Ne(o,s,b,v)),{},{name:m,value:g,cx:o,cy:s,radius:b,angle:v,payload:h}))});var f=[];return l&&c.forEach(h=>{if(Array.isArray(h.value)){var p=h.value[0],m=rt(p)?void 0:t.scale(p);f.push(At(At({},h),{},{radius:m},Ne(o,s,m,h.angle)))}else f.push(h)}),{points:c,isRange:l,baseLinePoints:f}}function Ute(e){var{points:t,props:n}=e,{dot:r,dataKey:i}=n;if(!r)return null;var a=Tte(n,Ate),o=Xt(a),s=Ee(r,!0),l=t.map((c,u)=>{var f=At(At(At({key:"dot-".concat(u),r:3},o),s),{},{dataKey:i,cx:c.x,cy:c.y,index:u,payload:c});return $te(r,f)});return x.createElement(jt,{className:"recharts-radar-dots"},l)}function zte(e){var{showLabels:t,points:n,children:r}=e,i=n.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return At(At({},o),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:o,fill:void 0})});return x.createElement(HI,{value:t?i:null},r)}function Bte(e){var{points:t,baseLinePoints:n,props:r}=e;if(t==null)return null;var{shape:i,isRange:a,connectNulls:o}=r,s=u=>{var{onMouseEnter:f}=r;f&&f(r,u)},l=u=>{var{onMouseLeave:f}=r;f&&f(r,u)},c;return x.isValidElement(i)?c=x.cloneElement(i,At(At({},r),{},{points:t})):typeof i=="function"?c=i(At(At({},r),{},{points:t})):c=x.createElement(GI,hs({},Ee(r,!0),{onMouseEnter:s,onMouseLeave:l,points:t,baseLinePoints:a?n:null,connectNulls:o})),x.createElement(jt,{className:"recharts-radar-polygon"},c,x.createElement(Ute,{props:r,points:t}))}var j_=(e,t,n)=>(r,i)=>{var a=e&&e[Math.floor(i*t)];return a?At(At({},r),{},{x:gt(a.x,r.x,n),y:gt(a.y,r.y,n)}):At(At({},r),{},{x:gt(r.cx,r.x,n),y:gt(r.cy,r.y,n)})};function Wte(e){var{props:t,previousPointsRef:n,previousBaseLinePointsRef:r}=e,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:f}=t,h=n.current,p=r.current,m=h&&h.length/i.length,g=p&&p.length/a.length,v=Vh(t,"recharts-radar-"),[y,b]=x.useState(!1),w=!y,S=x.useCallback(()=>{typeof u=="function"&&u(),b(!1)},[u]),j=x.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);return x.createElement(zte,{showLabels:w,points:i},x.createElement(qh,{animationId:v,begin:s,duration:l,isActive:o,easing:c,key:"radar-".concat(v),onAnimationEnd:S,onAnimationStart:j},k=>{var E=k===1?i:i.map(j_(h,m,k)),O=k===1?a:a==null?void 0:a.map(j_(p,g,k));return k>0&&(n.current=E,r.current=O),x.createElement(Bte,{points:E,baseLinePoints:O,props:t})}),x.createElement(VI,{label:t.label}),t.children)}function Kte(e){var t=x.useRef(void 0),n=x.useRef(void 0);return x.createElement(Wte,{props:e,previousPointsRef:t,previousBaseLinePointsRef:n})}var Hte={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!no.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class qte extends x.PureComponent{render(){var{hide:t,className:n,points:r}=this.props;if(t||r==null)return null;var i=ye("recharts-radar",n);return x.createElement(x.Fragment,null,x.createElement(jt,{className:i},x.createElement(Kte,this.props)),x.createElement(vte,{points:r,mainColor:Fb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Vte(e){var t=hn(),n=ne(r=>Ote(r,e.radiusAxisId,e.angleAxisId,t,e.id));return x.createElement(qte,hs({},e,{points:n==null?void 0:n.points,baseLinePoints:n==null?void 0:n.baseLinePoints,isRange:n==null?void 0:n.isRange}))}class Ub extends x.PureComponent{render(){return x.createElement(mD,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(Zee,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(Uee,{legendPayload:Mte(this.props)}),x.createElement(hD,{fn:Lte,args:this.props}),x.createElement(Vte,hs({},this.props,{id:t}))))}}$b(Ub,"displayName","Radar");$b(Ub,"defaultProps",Hte);var Gte=!0,Hm="Invariant failed";function Yte(e,t){if(!e){if(Gte)throw new Error(Hm);var n=typeof t=="function"?t():t,r=n?"".concat(Hm,": ").concat(n):Hm;throw new Error(r)}}var Jte=["x","y"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(null,arguments)}function __(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?__(Object(n),!0).forEach(function(r){Xte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xte(e,t,n){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qte(e){var t=Zte(e,"string");return typeof t=="symbol"?t:t+""}function Zte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ene(e,t){if(e==null)return{};var n,r,i=tne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nne(e,t){var{x:n,y:r}=e,i=ene(e,Jte),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ll(ll(ll(ll(ll({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function zb(e){return x.createElement($ee,sy({shapeType:"rectangle",propTransformer:nne,activeClassName:"recharts-active-bar"},e))}var rne=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(le(t))return t;var a=le(r)||rt(r);return a?t(r,i):(a||Yte(!1),n)}},ine={},kD=Dn({name:"errorBars",initialState:ine,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}});kD.actions;var ane=kD.reducer,one=["children"];function sne(e,t){if(e==null)return{};var n,r,i=lne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cne={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},une=x.createContext(cne);function dne(e){var{children:t}=e,n=sne(e,one);return x.createElement(une.Provider,{value:n},t)}function SD(e,t){var n,r,i=ne(c=>pi(c,e)),a=ne(c=>mi(c,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:yn.allowDataOverflow,s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:xn.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function fne(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=yD(),{needClipX:a,needClipY:o,needClip:s}=SD(t,n);if(!s)return null;var{x:l,y:c,width:u,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:a?l:l-u/2,y:o?c:c-f/2,width:a?u:u*2,height:o?f:f*2}))}var hne=["onMouseEnter","onMouseLeave","onClick"],pne=["value","background","tooltipPosition"],mne=["id"],gne=["onMouseEnter","onClick","onMouseLeave"];function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qi.apply(null,arguments)}function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(r){vne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Af(e,t){if(e==null)return{};var n,r,i=bne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wne=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Uh(n,t),payload:e}]};function kne(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:o,unit:s}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Uh(a,t),hide:o,type:e.tooltipType,color:e.fill,unit:s}}}function Sne(e){var t=ne(Va),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,c=Af(a,hne),u=uD(o,r),f=dD(s),h=fD(l,r);if(!i||n==null)return null;var p=Ee(i,!1);return x.createElement(x.Fragment,null,n.map((m,g)=>{var{value:v,background:y,tooltipPosition:b}=m,w=Af(m,pne);if(!y)return null;var S=u(m,g),j=f(m,g),k=h(m,g),E=Ht(Ht(Ht(Ht(Ht({option:i,isActive:String(g)===t},w),{},{fill:"#eee"},y),p),js(c,m,g)),{},{onMouseEnter:S,onMouseLeave:j,onClick:k,dataKey:r,index:g,className:"recharts-bar-background-rectangle"});return x.createElement(zb,qi({key:"background-bar-".concat(E.index)},E))}))}function jne(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var o={x:a.x,y:a.y,width:a.width,height:a.height};return Ht(Ht({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return x.createElement(HI,{value:t?i:void 0},n)}function _ne(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:o}=e,s=ne(Va),l=ne(hI),c=n&&String(a)===s&&(l==null||o===l),u=c?n:t;return x.createElement(zb,qi({},r,i,{isActive:c,option:u,index:a,dataKey:o}))}function Cne(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return x.createElement(zb,qi({},n,r,{isActive:!1,option:t,index:i,dataKey:a}))}function Ene(e){var{data:t,props:n}=e,r=Xt(n),i=Af(r,mne),{shape:a,dataKey:o,activeBar:s}=n,{onMouseEnter:l,onClick:c,onMouseLeave:u}=n,f=Af(n,gne),h=uD(l,o),p=dD(u),m=fD(c,o);return t?x.createElement(x.Fragment,null,t.map((g,v)=>x.createElement(jt,qi({className:"recharts-bar-rectangle"},js(f,g,v),{onMouseEnter:h(g,v),onMouseLeave:p(g,v),onClick:m(g,v),key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(v)}),s?x.createElement(_ne,{shape:a,activeBar:s,baseProps:i,entry:g,index:v,dataKey:o}):x.createElement(Cne,{shape:a,baseProps:i,entry:g,index:v,dataKey:o})))):null}function Pne(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=n.current,h=Vh(t,"recharts-bar-"),[p,m]=x.useState(!1),g=!p,v=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),y=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(jne,{showLabels:g,rects:r},x.createElement(qh,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:y,key:h},b=>{var w=b===1?r:r==null?void 0:r.map((S,j)=>{var k=f&&f[j];if(k)return Ht(Ht({},S),{},{x:gt(k.x,S.x,b),y:gt(k.y,S.y,b),width:gt(k.width,S.width,b),height:gt(k.height,S.height,b)});if(i==="horizontal"){var E=gt(0,S.height,b);return Ht(Ht({},S),{},{y:S.y+S.height-E,height:E})}var O=gt(0,S.width,b);return Ht(Ht({},S),{},{width:O})});return b>0&&(n.current=w??null),w==null?null:x.createElement(jt,null,x.createElement(Ene,{props:t,data:w}))}),x.createElement(VI,{label:t.label}),t.children)}function Nne(e){var t=x.useRef(null);return x.createElement(Pne,{previousRectanglesRef:t,props:e})}var jD=0,One=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:yt(e,t)}};class Ane extends x.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:c}=this.props;if(t||n==null)return null;var u=ye("recharts-bar",i),f=c;return x.createElement(jt,{className:u,id:c},s&&x.createElement("defs",null,x.createElement(fne,{clipPathId:f,xAxisId:a,yAxisId:o})),x.createElement(jt,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},x.createElement(Sne,{data:n,dataKey:r,background:l,allOtherBarProps:this.props}),x.createElement(Nne,this.props)))}}var Tne={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!no.isSsr,legendType:"rect",minPointSize:jD,xAxisId:0,yAxisId:0};function Ine(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=SD(t,n),h=C0(),p=hn(),m=Z9(e.children,PI),g=ne(b=>sre(b,t,n,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,x.createElement(dne,{xAxisId:t,yAxisId:n,data:g,dataPointFormatter:One,errorBarOffset:v},x.createElement(Ane,qi({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Dne(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?s:o,v=u?g.scale.domain():null,y=iq({numericAxis:g});return f.map((b,w)=>{var S,j,k,E,O,P;u?S=QH(u[w],v):(S=yt(b,n),Array.isArray(S)||(S=[y,S]));var N=rne(r,jD)(S[1],w);if(t==="horizontal"){var I,[A,R]=[s.scale(S[0]),s.scale(S[1])];j=yS({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:b,index:w}),k=(I=R??A)!==null&&I!==void 0?I:void 0,E=i.size;var M=A-R;if(O=En(M)?0:M,P={x:j,y:h.top,width:E,height:h.height},Math.abs(N)>0&&Math.abs(O)<Math.abs(N)){var U=on(O||N)*(Math.abs(N)-Math.abs(O));k-=U,O+=U}}else{var[B,L]=[o.scale(S[0]),o.scale(S[1])];if(j=B,k=yS({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:b,index:w}),E=L-B,O=i.size,P={x:h.left,y:k,width:h.width,height:O},Math.abs(N)>0&&Math.abs(E)<Math.abs(N)){var T=on(E||N)*(Math.abs(N)-Math.abs(E));E+=T}}if(j==null||k==null||E==null||O==null)return null;var F=Ht(Ht({},b),{},{x:j,y:k,width:E,height:O,value:u?S:S[1],payload:b,background:P,tooltipPosition:{x:j+E/2,y:k+O/2},parentViewBox:m},p&&p[w]&&p[w].props);return F}).filter(Boolean)}function Rne(e){var t=pn(e,Tne),n=hn();return x.createElement(mD,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Fee,{legendPayload:wne(t)}),x.createElement(hD,{fn:kne,args:t}),x.createElement(Qee,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:rq(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(Ine,qi({},t,{id:r}))))}var ud=x.memo(Rne);ud.displayName="Bar";function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(r){Mne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mne(e,t,n){return(t=Lne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fne=(e,t)=>t,Une=(e,t,n)=>n,zne=(e,t,n,r)=>r,Bne=(e,t,n,r,i)=>i,Jc=$([lb,Bne],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Wne=$([Jc],e=>e==null?void 0:e.maxBarSize),Kne=(e,t,n,r,i,a)=>a,P_=(e,t,n)=>{var r=n??e;if(!rt(r))return gr(r,t,0)},Hne=$([xe,lb,Fne,Une,zne],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),qne=(e,t,n,r)=>{var i=xe(e);return i==="horizontal"?ey(e,"yAxis",n,r):ey(e,"xAxis",t,r)},Vne=(e,t,n)=>{var r=xe(e);return r==="horizontal"?Aj(e,"xAxis",t):Aj(e,"yAxis",n)},Gne=(e,t,n)=>{var r={},i=e.filter(rp),a=e.filter(c=>c.stackId==null),o=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),r),s=Object.entries(o).map(c=>{var[u,f]=c,h=f.map(m=>m.dataKey),p=P_(t,n,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=a.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=P_(t,n,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...s,...l]},Yne=$([Hne,$Y,Vne],Gne),Jne=(e,t,n,r,i)=>{var a,o,s=Jc(e,t,n,r,i);if(s!=null){var l=xe(e),c=dT(e),{maxBarSize:u}=s,f=rt(u)?c:u,h,p;return l==="horizontal"?(h=fs(e,"xAxis",t,r),p=ds(e,"xAxis",t,r)):(h=fs(e,"yAxis",n,r),p=ds(e,"yAxis",n,r)),(a=(o=lc(h,p,!0))!==null&&o!==void 0?o:f)!==null&&a!==void 0?a:0}},_D=(e,t,n,r)=>{var i=xe(e),a,o;return i==="horizontal"?(a=fs(e,"xAxis",t,r),o=ds(e,"xAxis",t,r)):(a=fs(e,"yAxis",n,r),o=ds(e,"yAxis",n,r)),lc(a,o)};function Xne(e,t,n,r,i){var a=r.length;if(!(a<1)){var o=gr(e,n,0,!0),s,l=[];if(Nn(r[0].barSize)){var c=!1,u=n/a,f=r.reduce((y,b)=>y+(b.barSize||0),0);f+=(a-1)*o,f>=n&&(f-=(a-1)*o,o=0),f>=n&&u>0&&(c=!0,u*=.9,f=a*u);var h=(n-f)/2>>0,p={offset:h-o,size:0};s=r.reduce((y,b)=>{var w,S={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+o,size:c?u:(w=b.barSize)!==null&&w!==void 0?w:0}},j=[...y,S];return p=j[j.length-1].position,j},l)}else{var m=gr(t,n,0,!0);n-2*m-(a-1)*o<=0&&(o=0);var g=(n-2*m-(a-1)*o)/a;g>1&&(g>>=0);var v=Nn(i)?Math.min(g,i):g;s=r.reduce((y,b,w)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(g+o)*w+(g-v)/2,size:v}}],l)}return s}}var Qne=(e,t,n,r,i,a,o)=>{var s=rt(o)?t:o,l=Xne(n,r,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(c=>Wu(Wu({},c),{},{position:Wu(Wu({},c.position),{},{offset:c.position.offset-i/2})}))),l},Zne=$([Yne,dT,LY,fT,Jne,_D,Wne],Qne),ere=(e,t,n,r)=>fs(e,"xAxis",t,r),tre=(e,t,n,r)=>fs(e,"yAxis",n,r),nre=(e,t,n,r)=>ds(e,"xAxis",t,r),rre=(e,t,n,r)=>ds(e,"yAxis",n,r),ire=$([Zne,Jc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),are=(e,t)=>{var n=ab(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===n)}}}},ore=$([qne,Jc],are),sre=$([_t,k0,ere,tre,nre,rre,ire,xe,Q0,_D,ore,Jc,Kne],(e,t,n,r,i,a,o,s,l,c,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||n==null||r==null||i==null||a==null||c==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=p==null?void 0:p.slice(m,g+1),y!=null)return Dne({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:c,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:y,offset:e,cells:h})}}),CD=e=>{var{chartData:t}=e,n=Ke(),r=hn();return x.useEffect(()=>r?()=>{}:(n(Uj(t)),()=>{n(Uj(void 0))}),[t,n,r]),null},N_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},ED=Dn({name:"brush",initialState:N_,reducers:{setBrushSettings(e,t){return t.payload==null?N_:t.payload}}});ED.actions;var lre=ED.reducer;function cre(e,t,n){return(t=ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ure(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bb{static create(t){return new Bb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}cre(Bb,"EPS",1e-4);function fre(e){return(e%180+180)%180}var hre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=fre(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},pre={dots:[],areas:[],lines:[]},PD=Dn({name:"referenceElements",initialState:pre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Qr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Qr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Qr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}});PD.actions;var mre=PD.reducer,gre=x.createContext(void 0),vre=e=>{var{children:t}=e,[n]=x.useState("".concat(ac("recharts"),"-clip")),r=yD();if(r==null)return null;var{x:i,y:a,width:o,height:s}=r;return x.createElement(gre.Provider,{value:n},x.createElement("defs",null,x.createElement("clipPath",{id:n},x.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function ps(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function ND(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)if(n===void 0||n(e[i])===!0)r.push(e[i]);else return;return r}function yre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return hre(r,n)}function xre(e,t,n){var r=n==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Tf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function bre(e,t){return ND(e,t+1)}function wre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:o,end:s}=t,l=0,c=1,u=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:ND(r,c)};var g=l,v,y=()=>(v===void 0&&(v=n(m,g)),v),b=m.coordinate,w=l===0||Tf(e,b,y,u,s);w||(l=0,u=o,c+=1),w&&(u=b+e*(y()/2+i),l+=c)},h;c<=a.length;)if(h=f(),h)return h.v;return[]}function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(n),!0).forEach(function(r){kre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kre(e,t,n){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sre(e){var t=jre(e,"string");return typeof t=="symbol"?t:t+""}function jre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _re(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(h){var p=a[h],m,g=()=>(m===void 0&&(m=n(p,h)),m);if(h===o-1){var v=e*(p.coordinate+e*g()/2-l);a[h]=p=Mt(Mt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=Mt(Mt({},p),{},{tickCoord:p.coordinate});var y=Tf(e,p.tickCoord,g,s,l);y&&(l=p.tickCoord-e*(g()/2+i),a[h]=Mt(Mt({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}function Cre(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=r[s-1],f=n(u,s-1),h=e*(u.coordinate+e*f/2-c);o[s-1]=u=Mt(Mt({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Tf(e,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-e*(f/2+i),o[s-1]=Mt(Mt({},u),{},{isShow:!0}))}for(var m=a?s-1:s,g=function(b){var w=o[b],S,j=()=>(S===void 0&&(S=n(w,b)),S);if(b===0){var k=e*(w.coordinate-e*j()/2-l);o[b]=w=Mt(Mt({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else o[b]=w=Mt(Mt({},w),{},{tickCoord:w.coordinate});var E=Tf(e,w.tickCoord,j,l,c);E&&(l=w.tickCoord+e*(j()/2+i),o[b]=Mt(Mt({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return o}function Wb(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!i||!i.length||!r)return[];if(le(l)||no.isSsr){var h;return(h=bre(i,le(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",g=u&&m==="width"?Il(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(w,S)=>{var j=typeof c=="function"?c(w.value,S):w.value;return m==="width"?yre(Il(j,{fontSize:t,letterSpacing:n}),g,f):Il(j,{fontSize:t,letterSpacing:n})[m]},y=i.length>=2?on(i[1].coordinate-i[0].coordinate):1,b=xre(a,y,m);return l==="equidistantPreserveStart"?wre(y,b,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Cre(y,b,v,i,o,l==="preserveStartEnd"):p=_re(y,b,v,i,o),p.filter(w=>w.isShow))}var Ere=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+a,c=o+l+s+(n?r:0);return Math.round(c)}return 0},Pre=["axisLine","width","height","className","hide","ticks"],Nre=["viewBox"],Ore=["viewBox"];function ly(e,t){if(e==null)return{};var n,r,i=Are(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Are(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ga.apply(null,arguments)}function A_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(n),!0).forEach(function(r){Tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tre(e,t,n){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ire(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kb={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Rre(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=mt(mt(mt({},l),Ee(s,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!o||a==="bottom"&&o);c=mt(mt({},c),{},{x1:t,y1:n+u*i,x2:t+r,y2:n+u*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);c=mt(mt({},c),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return x.createElement("line",Ga({},c,{className:ye("recharts-cartesian-axis-line",ts(s,"className"))}))}function Mre(e,t,n,r,i,a,o,s,l){var c,u,f,h,p,m,g=s?-1:1,v=e.tickSize||o,y=le(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,h=n+ +!s*i,f=h-g*v,m=f-g*l,p=y;break;case"left":f=h=e.coordinate,u=t+ +!s*r,c=u-g*v,p=c-g*l,m=y;break;case"right":f=h=e.coordinate,u=t+ +s*r,c=u+g*v,p=c+g*l,m=y;break;default:c=u=e.coordinate,h=n+ +s*i,f=h+g*v,m=f+g*l,p=y;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function Lre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function $re(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Fre(e){var{option:t,tickProps:n,value:r}=e,i,a=ye(n.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,mt(mt({},n),{},{className:a}));else if(typeof t=="function")i=t(mt(mt({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ye(o,t==null?void 0:t.className)),i=x.createElement(Yc,Ga({},n,{className:o}),r)}return i}function Ure(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:s,tickTextProps:l,orientation:c,mirror:u,x:f,y:h,width:p,height:m,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:w,events:S}=e,j=Wb(mt(mt({},w),{},{ticks:t}),y,b),k=Lre(c,u),E=$re(c,u),O=Xt(w),P=Ee(n,!1),N=mt(mt({},O),{},{fill:"none"},Ee(r,!1)),I=j.map((A,R)=>{var{line:M,tick:U}=Mre(A,f,h,p,m,c,g,u,v),B=mt(mt(mt(mt({textAnchor:k,verticalAnchor:E},O),{},{stroke:"none",fill:i},P),U),{},{index:R,payload:A,visibleTicksCount:j.length,tickFormatter:a,padding:s},l);return x.createElement(jt,Ga({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},js(S,A,R)),r&&x.createElement("line",Ga({},N,M,{className:ye("recharts-cartesian-axis-tick-line",ts(r,"className"))})),n&&x.createElement(Fre,{option:n,tickProps:B,value:"".concat(typeof a=="function"?a(A.value,R):A.value).concat(o||"")}))});return I.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var zre=x.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:s}=e,l=ly(e,Pre),[c,u]=x.useState(""),[f,h]=x.useState(""),p=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Ere({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=x.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(v);var y=v[0];if(y){var b=window.getComputedStyle(y),w=b.fontSize,S=b.letterSpacing;(w!==c||S!==f)&&(u(w),h(S))}}},[c,f]);return o||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(jt,{className:ye("recharts-cartesian-axis",a),ref:m},x.createElement(Rre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Xt(e)}),x.createElement(Ure,{ticks:s,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),x.createElement(ZQ,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(sZ,{label:e.label}),e.children))}),Bre=x.memo(zre,(e,t)=>{var{viewBox:n}=e,r=ly(e,Nre),{viewBox:i}=t,a=ly(t,Ore);return ps(n,i)&&ps(r,a)}),Hb=x.forwardRef((e,t)=>{var n=pn(e,Kb);return x.createElement(Bre,Ga({},n,{ref:t}))});Hb.displayName="CartesianAxis";var Wre=["x1","y1","x2","y2","key"],Kre=["offset"],Hre=["xAxisId","yAxisId"],qre=["xAxisId","yAxisId"];function T_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(n),!0).forEach(function(r){Vre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vre(e,t,n){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(null,arguments)}function If(e,t){if(e==null)return{};var n,r,i=Jre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:s}=e;return x.createElement("rect",{x:r,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function OD(e,t){var n;if(x.isValidElement(e))n=x.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:a,y2:o,key:s}=t,l=If(t,Wre),c=Xt(l),u=If(c,Kre);n=x.createElement("line",Ea({},u,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Qre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var a=If(e,Hre),o=i.map((s,l)=>{var c=$t($t({},a),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return OD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Zre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var a=If(e,qre),o=i.map((s,l)=>{var c=$t($t({},a),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return OD(r,c)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function eie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=s.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?i+o-f:c[h+1]-f;if(m<=0)return null;var g=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:m,width:a,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function tie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?i+o-f:c[h+1]-f;if(m<=0)return null;var g=h%n.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:m,height:s,stroke:"none",fill:n[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var nie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return XA(Wb($t($t($t({},Kb),n),{},{ticks:QA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},rie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return XA(Wb($t($t($t({},Kb),n),{},{ticks:QA(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},iie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function cy(e){var t=j0(),n=_0(),r=e2(),i=$t($t({},pn(e,iie)),{},{x:le(e.x)?e.x:r.left,y:le(e.y)?e.y:r.top,width:le(e.width)?e.width:r.width,height:le(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=i,m=hn(),g=ne(P=>Tj(P,"xAxis",a,m)),v=ne(P=>Tj(P,"yAxis",o,m));if(!le(c)||c<=0||!le(u)||u<=0||!le(s)||s!==+s||!le(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||nie,b=i.horizontalCoordinatesGenerator||rie,{horizontalPoints:w,verticalPoints:S}=i;if((!w||!w.length)&&typeof b=="function"){var j=h&&h.length,k=b({yAxis:v?$t($t({},v),{},{ticks:j?h:v.ticks}):void 0,width:t,height:n,offset:r},j?!0:f);Tl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!S||!S.length)&&typeof y=="function"){var E=p&&p.length,O=y({xAxis:g?$t($t({},g),{},{ticks:E?p:g.ticks}):void 0,width:t,height:n,offset:r},E?!0:f);Tl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(S=O)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Xre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(eie,Ea({},i,{horizontalPoints:w})),x.createElement(tie,Ea({},i,{verticalPoints:S})),x.createElement(Qre,Ea({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:v})),x.createElement(Zre,Ea({},i,{offset:r,verticalPoints:S,xAxis:g,yAxis:v})))}cy.displayName="CartesianGrid";var aie=["dangerouslySetInnerHTML","ticks"],oie=["id"],sie=["domain"],lie=["domain"];function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uy.apply(null,arguments)}function Df(e,t){if(e==null)return{};var n,r,i=cie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uie(e){var t=Ke();return x.useEffect(()=>(t(ite(e)),()=>{t(ate(e))}),[e,t]),null}var die=e=>{var{xAxisId:t,className:n}=e,r=ne(k0),i=hn(),a="xAxis",o=ne(p=>Is(p,a,t,i)),s=ne(p=>VT(p,a,t,i)),l=ne(p=>WT(p,t)),c=ne(p=>AJ(p,t)),u=ne(p=>bT(p,t));if(l==null||c==null||u==null)return null;var f=Df(e,aie),h=Df(u,oie);return x.createElement(Hb,uy({},f,h,{scale:o,x:c.x,y:c.y,width:l.width,height:l.height,className:ye("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s}))},fie={allowDataOverflow:yn.allowDataOverflow,allowDecimals:yn.allowDecimals,allowDuplicatedCategory:yn.allowDuplicatedCategory,height:yn.height,hide:!1,mirror:yn.mirror,orientation:yn.orientation,padding:yn.padding,reversed:yn.reversed,scale:yn.scale,tickCount:yn.tickCount,type:yn.type,xAxisId:0},hie=e=>{var t,n,r,i,a,o=pn(e,fie);return x.createElement(x.Fragment,null,x.createElement(uie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(die,o))},pie=(e,t)=>{var{domain:n}=e,r=Df(e,sie),{domain:i}=t,a=Df(t,lie);return ps(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:ps({domain:n},{domain:i}):!1},dy=x.memo(hie,pie);dy.displayName="XAxis";var mie=["dangerouslySetInnerHTML","ticks"],gie=["id"],vie=["domain"],yie=["domain"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}function Rf(e,t){if(e==null)return{};var n,r,i=xie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bie(e){var t=Ke();return x.useEffect(()=>(t(ote(e)),()=>{t(ste(e))}),[e,t]),null}var wie=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=x.useRef(null),o=x.useRef(null),s=ne(k0),l=hn(),c=Ke(),u="yAxis",f=ne(b=>Is(b,u,t,l)),h=ne(b=>KT(b,t)),p=ne(b=>IJ(b,t)),m=ne(b=>VT(b,u,t,l)),g=ne(b=>wT(b,t));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!h||Tb(i)||x.isValidElement(i)||g==null)){var b=a.current;if(b){var w=b.getCalculatedWidth();Math.round(h.width)!==Math.round(w)&&c(lte({id:t,width:w}))}}},[m,h,c,i,t,r,g]),h==null||p==null||g==null)return null;var v=Rf(e,mie),y=Rf(g,gie);return x.createElement(Hb,fy({},v,y,{ref:a,labelRef:o,scale:f,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:ye("recharts-".concat(u," ").concat(u),n),viewBox:s,ticks:m}))},kie={allowDataOverflow:xn.allowDataOverflow,allowDecimals:xn.allowDecimals,allowDuplicatedCategory:xn.allowDuplicatedCategory,hide:!1,mirror:xn.mirror,orientation:xn.orientation,padding:xn.padding,reversed:xn.reversed,scale:xn.scale,tickCount:xn.tickCount,type:xn.type,width:xn.width,yAxisId:0},Sie=e=>{var t,n,r,i,a,o=pn(e,kie);return x.createElement(x.Fragment,null,x.createElement(bie,{interval:(t=o.interval)!==null&&t!==void 0?t:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),x.createElement(wie,o))},jie=(e,t)=>{var{domain:n}=e,r=Rf(e,vie),{domain:i}=t,a=Rf(t,yie);return ps(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:ps({domain:n},{domain:i}):!1},hy=x.memo(Sie,jie);hy.displayName="YAxis";var _ie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xc=x;function Cie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Eie=typeof Object.is=="function"?Object.is:Cie,Pie=Xc.useSyncExternalStore,Nie=Xc.useRef,Oie=Xc.useEffect,Aie=Xc.useMemo,Tie=Xc.useDebugValue;_ie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Nie(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Aie(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&o.hasValue){var m=o.value;if(i(m,p))return f=m}return f=p}if(m=f,Eie(u,p))return m;var g=r(p);return i!==void 0&&i(m,g)?(u=p,m):(u=p,f=g)}var c=!1,u,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=Pie(e,a[0],a[1]);return Oie(function(){o.hasValue=!0,o.value=s},[s]),Tie(s),s};function Iie(e){e()}function Die(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Iie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var I_={notify(){},get:()=>[]};function Rie(e,t){let n,r=I_,i=0,a=!1;function o(g){u();const v=r.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),f())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Die())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=I_)}function h(){a||(a=!0,u())}function p(){a&&(a=!1,f())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var Mie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lie=Mie(),$ie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fie=$ie(),Uie=()=>Lie||Fie?x.useLayoutEffect:x.useEffect,zie=Uie(),qm=Symbol.for("react-redux-context"),Vm=typeof globalThis<"u"?globalThis:{};function Bie(){if(!x.createContext)return{};const e=Vm[qm]??(Vm[qm]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Wie=Bie();function Kie(e){const{children:t,context:n,serverState:r,store:i}=e,a=x.useMemo(()=>{const l=Rie(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=x.useMemo(()=>i.getState(),[i]);zie(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Wie;return x.createElement(s.Provider,{value:a},t)}var Hie=Kie,qie=(e,t)=>t,qb=$([qie,xe,Ns,bt,cI,gi,MX,_t],zX),Vb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},AD=Xn("mouseClick"),TD=Rc();TD.startListening({actionCreator:AD,effect:(e,t)=>{var n=e.payload,r=qb(t.getState(),Vb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(KJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var py=Xn("mouseMove"),ID=Rc();ID.startListening({actionCreator:py,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Sb(r,r.tooltip.settings.shared),a=qb(r,Vb(n));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(nI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(tI()))}});var D_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},DD=Dn({name:"rootProps",initialState:D_,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:D_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Vie=DD.reducer,{updateOptions:Gie}=DD.actions,RD=Dn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Yie}=RD.actions,Jie=RD.reducer,MD=Xn("keyDown"),LD=Xn("focus"),Gb=Rc();Gb.startListening({actionCreator:MD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(jb(i,Rs(n))),s=gi(n);if(a==="Enter"){var l=Cf(n,"axis","hover",String(i.index));t.dispatch(ny({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=RJ(n),u=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=o+f*u;if(!(s==null||h>=s.length||h<0)){var p=Cf(n,"axis","hover",String(h));t.dispatch(ny({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});Gb.startListening({actionCreator:LD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=Cf(n,"axis","hover",String(a));t.dispatch(ny({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Un=Xn("externalEvent"),$D=Rc();$D.startListening({actionCreator:Un,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:CX(n),activeDataKey:hI(n),activeIndex:Va(n),activeLabel:fI(n),activeTooltipIndex:Va(n),isTooltipActive:EX(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Xie=$([Ds],e=>e.tooltipItemPayloads),Qie=$([Xie,Vc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(s=>s.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,n);return o}}}),FD=Xn("touchMove"),UD=Rc();UD.startListening({actionCreator:FD,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Sb(r,r.tooltip.settings.shared);if(i==="axis"){var a=qb(r,Vb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(nI({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,s=n.touches[0],l=document.elementFromPoint(s.clientX,s.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(fq),u=(o=l.getAttribute(hq))!==null&&o!==void 0?o:void 0,f=Qie(t.getState(),c,u);t.dispatch(eI({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var Zie=CA({brush:lre,cartesianAxis:cte,chartData:nQ,errorBars:ane,graphicalItems:Xee,layout:RH,legend:Pq,options:XX,polarAxis:GZ,polarOptions:Jie,referenceElements:mre,rootProps:Vie,tooltip:HJ}),eae=function(t){return oH({reducer:Zie,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([TD.middleware,ID.middleware,Gb.middleware,$D.middleware,UD.middleware]),devTools:no.devToolsEnabled})};function zD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=hn(),a=x.useRef(null);if(i)return n;a.current==null&&(a.current=eae(t));var o=p0;return x.createElement(Hie,{context:o,store:a.current},n)}function BD(e){var{layout:t,width:n,height:r,margin:i}=e,a=Ke(),o=hn();return x.useEffect(()=>{o||(a(TH(t)),a(IH({width:n,height:r})),a(AH(i)))},[a,o,t,n,r,i]),null}function WD(e){var t=Ke();return x.useEffect(()=>{t(Gie(e))},[t,e]),null}var tae=["children"];function nae(e,t){if(e==null)return{};var n,r,i=rae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mf.apply(null,arguments)}var iae={width:"100%",height:"100%"},aae=x.forwardRef((e,t)=>{var n=j0(),r=_0(),i=i2();if(!os(n)||!os(r))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,c,u;return typeof o.tabIndex=="number"?c=o.tabIndex:c=i?0:void 0,typeof o.role=="string"?u=o.role:u=i?"application":void 0,x.createElement(Zx,Mf({},o,{title:s,desc:l,role:u,tabIndex:c,width:n,height:r,style:iae,ref:t}),a)}),oae=e=>{var{children:t}=e,n=ne(Kh);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return x.createElement(Zx,{width:r,height:i,x:o,y:a},t)},R_=x.forwardRef((e,t)=>{var{children:n}=e,r=nae(e,tae),i=hn();return i?x.createElement(oae,null,n):x.createElement(aae,Mf({ref:t},r),n)});function sae(){var e=Ke(),[t,n]=x.useState(null),r=ne(dq);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Nn(a)&&a!==r&&e(DH(a))}},[t,e,r]),n}function M_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(n),!0).forEach(function(r){cae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cae(e,t,n){return(t=uae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fae=x.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,b=Ke(),[w,S]=x.useState(null),[j,k]=x.useState(null);dQ();var E=sae(),O=x.useCallback(D=>{E(D),typeof t=="function"&&t(D),S(D),k(D)},[E,t,S,k]),P=x.useCallback(D=>{b(AD(D)),b(Un({handler:a,reactEvent:D}))},[b,a]),N=x.useCallback(D=>{b(py(D)),b(Un({handler:c,reactEvent:D}))},[b,c]),I=x.useCallback(D=>{b(tI()),b(Un({handler:u,reactEvent:D}))},[b,u]),A=x.useCallback(D=>{b(py(D)),b(Un({handler:f,reactEvent:D}))},[b,f]),R=x.useCallback(()=>{b(LD())},[b]),M=x.useCallback(D=>{b(MD(D.key))},[b]),U=x.useCallback(D=>{b(Un({handler:o,reactEvent:D}))},[b,o]),B=x.useCallback(D=>{b(Un({handler:s,reactEvent:D}))},[b,s]),L=x.useCallback(D=>{b(Un({handler:l,reactEvent:D}))},[b,l]),T=x.useCallback(D=>{b(Un({handler:h,reactEvent:D}))},[b,h]),F=x.useCallback(D=>{b(Un({handler:g,reactEvent:D}))},[b,g]),C=x.useCallback(D=>{b(FD(D)),b(Un({handler:m,reactEvent:D}))},[b,m]),V=x.useCallback(D=>{b(Un({handler:p,reactEvent:D}))},[b,p]);return x.createElement(xI.Provider,{value:w},x.createElement(IO.Provider,{value:j},x.createElement("div",{className:ye("recharts-wrapper",r),style:lae({position:"relative",cursor:"default",width:y,height:i},v),onClick:P,onContextMenu:U,onDoubleClick:B,onFocus:R,onKeyDown:M,onMouseDown:L,onMouseEnter:N,onMouseLeave:I,onMouseMove:A,onMouseUp:T,onTouchEnd:V,onTouchMove:C,onTouchStart:F,ref:O},n)))}),hae=["children","className","width","height","style","compact","title","desc"];function pae(e,t){if(e==null)return{};var n,r,i=mae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KD=x.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:a,style:o,compact:s,title:l,desc:c}=e,u=pae(e,hae),f=Xt(u);return s?x.createElement(R_,{otherAttributes:f,title:l,desc:c},n):x.createElement(fae,{className:r,style:o,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(R_,{otherAttributes:f,title:l,desc:c,ref:t},x.createElement(vre,null,n)))}),gae=["width","height"];function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},my.apply(null,arguments)}function vae(e,t){if(e==null)return{};var n,r,i=yae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xae={top:5,right:5,bottom:5,left:5},bae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xae,reverseStackOrder:!1,syncMethod:"index"},wae=x.forwardRef(function(t,n){var r,i=pn(t.categoricalChartProps,bae),{width:a,height:o}=i,s=vae(i,gae);if(!os(a)||!os(o))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(zD,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:l},x.createElement(CD,{chartData:h.data}),x.createElement(BD,{width:a,height:o,layout:i.layout,margin:i.margin}),x.createElement(WD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(KD,my({},s,{width:a,height:o,ref:n})))}),kae=["axis","item"],L_=x.forwardRef((e,t)=>x.createElement(wae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kae,tooltipPayloadSearcher:wI,categoricalChartProps:e,ref:t}));function Sae(e){var t=Ke();return x.useEffect(()=>{t(Yie(e))},[t,e]),null}var jae=["width","height","layout"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gy.apply(null,arguments)}function _ae(e,t){if(e==null)return{};var n,r,i=Cae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Eae={top:5,right:5,bottom:5,left:5},Pae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eae,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Nae=x.forwardRef(function(t,n){var r,i=pn(t.categoricalChartProps,Pae),{width:a,height:o,layout:s}=i,l=_ae(i,jae);if(!os(a)||!os(o))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(zD,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},x.createElement(CD,{chartData:i.data}),x.createElement(BD,{width:a,height:o,layout:s,margin:i.margin}),x.createElement(WD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(Sae,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(KD,gy({width:a,height:o},l,{ref:n})))}),Oae=["axis"],Aae={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Tae=x.forwardRef((e,t)=>{var n=pn(e,Aae);return x.createElement(Nae,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oae,tooltipPayloadSearcher:wI,categoricalChartProps:n,ref:t})});const Jr=({children:e,className:t="",header:n,subheader:r,actions:i})=>d.jsxs("div",{className:`card rounded-lg border ${t}`,style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[(n||r||i)&&d.jsx("div",{className:"p-6 border-b",style:{borderColor:"var(--border)"},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[n&&d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),r&&d.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:r})]}),i&&d.jsx("div",{className:"flex items-center space-x-2",children:i})]})}),d.jsx("div",{className:"p-6",children:e})]}),Iae={relevance:85,tone:92,length:78,accuracy:88,toxicity:95,promptable:82},Dae=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],score:Math.floor(Math.random()*20)+70})}return n},Rae=e=>{const t=e==="7d"?7:e==="30d"?30:90,n=[];for(let r=t-1;r>=0;r--){const i=new Date;i.setDate(i.getDate()-r),n.push({ts:i.toISOString().split("T")[0],userCount:Math.floor(Math.random()*50)+10,assistantCount:Math.floor(Math.random()*50)+10})}return n},$_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Iae;throw new Error("Analytics API not implemented")},F_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Dae(e);throw new Error("Analytics API not implemented")},U_=async e=>{if({}.USE_MOCK==="1")return await new Promise(t=>setTimeout(t,300)),Rae(e);throw new Error("Analytics API not implemented")},Mae=()=>{const{t:e}=Ze(),[t,n]=x.useState(null),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState(!0),[c,u]=x.useState("7d");x.useEffect(()=>{(async()=>{l(!0);try{const[m,g,v]=await Promise.all([$_(c),F_(c),U_(c)]);n(m),i(g),o(v)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},[c]);const f=()=>{(async()=>{l(!0);try{const[m,g,v]=await Promise.all([$_(c),F_(c),U_(c)]);n(m),i(g),o(v)}catch(m){console.error("Failed to fetch analytics data:",m)}finally{l(!1)}})()},h=()=>{if(!t)return 0;const p=Object.values(t);return Math.round(p.reduce((m,g)=>m+g,0)/p.length)};return s?d.jsx("div",{className:"flex items-center justify-center py-12",children:d.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading analytics..."})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Jr,{header:e("dashboard.title"),subheader:`Overall Score: ${h()}%`,actions:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"7d",children:"Last 7 days"}),d.jsx("option",{value:"30d",children:"Last 30 days"}),d.jsx("option",{value:"90d",children:"Last 90 days"})]}),d.jsx("button",{onClick:f,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[d.jsx("div",{className:"h-80",children:d.jsx(Bm,{width:"100%",height:"100%",children:d.jsxs(Tae,{data:t?[t]:[],children:[d.jsx(eD,{}),d.jsx(pp,{dataKey:"subject"}),d.jsx(fp,{angle:90,domain:[0,100]}),d.jsx(Ub,{name:"Performance",dataKey:"relevance",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}),d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Relevance:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.relevance,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Tone:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.tone,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Length:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.length,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Accuracy:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.accuracy,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Toxicity:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.toxicity,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{style:{color:"var(--text-secondary)"},children:"Promptable:"}),d.jsxs("span",{style:{color:"var(--text)"},children:[t==null?void 0:t.promptable,"%"]})]})]})]}),d.jsx(Jr,{header:e("dashboard.timeline"),subheader:"Daily performance scores over time",children:d.jsx("div",{className:"h-80",children:d.jsx(Bm,{width:"100%",height:"100%",children:d.jsxs(L_,{data:r,children:[d.jsx(cy,{strokeDasharray:"3 3"}),d.jsx(dy,{dataKey:"ts"}),d.jsx(hy,{domain:[0,100]}),d.jsx(Hj,{}),d.jsx(ud,{dataKey:"score",fill:"#8884d8"})]})})})}),d.jsx(Jr,{header:e("dashboard.activity"),subheader:"Message volume by role",children:d.jsx("div",{className:"h-80",children:d.jsx(Bm,{width:"100%",height:"100%",children:d.jsxs(L_,{data:a,children:[d.jsx(cy,{strokeDasharray:"3 3"}),d.jsx(dy,{dataKey:"ts"}),d.jsx(hy,{}),d.jsx(Hj,{}),d.jsx(Hh,{}),d.jsx(ud,{dataKey:"userCount",name:"User Messages",fill:"#8884d8"}),d.jsx(ud,{dataKey:"assistantCount",name:"Assistant Messages",fill:"#82ca9d"})]})})})})]})};function Rl({columns:e,data:t,loading:n=!1,sortable:r=!0,pagination:i,onSort:a,className:o=""}){const[s,l]=x.useState(""),[c,u]=x.useState("asc"),f=p=>{if(!r||!a)return;const m=s===p&&c==="asc"?"desc":"asc";l(p),u(m),a(p,m)},h=p=>s!==p?"↕️":c==="asc"?"↑":"↓";return n?d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx("div",{className:"text-sm",style:{color:"var(--text-muted)"},children:"Loading..."})}):d.jsxs("div",{className:`overflow-hidden ${o}`,children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"sticky top-0",style:{backgroundColor:"var(--bg-secondary)"},children:d.jsx("tr",{children:e.map(p=>d.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium uppercase tracking-wider ${p.sortable&&r?"cursor-pointer hover:bg-gray-50":""}`,style:{color:"var(--text-muted)",width:p.width},onClick:()=>p.sortable&&f(String(p.key)),children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("span",{children:p.label}),p.sortable&&r&&d.jsx("span",{className:"text-xs",children:h(String(p.key))})]})},String(p.key)))})}),d.jsx("tbody",{className:"divide-y",style:{borderColor:"var(--border)"},children:t.map((p,m)=>d.jsx("tr",{className:"hover:bg-gray-50",children:e.map(g=>d.jsx("td",{className:"px-4 py-3 text-sm",style:{color:"var(--text)"},children:g.render?g.render(p[g.key],p):String(p[g.key]||"")},String(g.key)))},m))})]})}),i&&d.jsxs("div",{className:"px-4 py-3 border-t flex items-center justify-between",style:{borderColor:"var(--border)"},children:[d.jsx("div",{className:"flex items-center space-x-2",children:d.jsxs("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Showing ",(i.page-1)*i.pageSize+1," to"," ",Math.min(i.page*i.pageSize,i.total)," of"," ",i.total," results"]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("select",{value:i.pageSize,onChange:p=>i.onPageSizeChange(Number(p.target.value)),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:10,children:"10 per page"}),d.jsx("option",{value:25,children:"25 per page"}),d.jsx("option",{value:50,children:"50 per page"}),d.jsx("option",{value:100,children:"100 per page"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("button",{onClick:()=>i.onPageChange(i.page-1),disabled:i.page<=1,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Previous"}),d.jsx("span",{className:"px-3 py-1 text-sm",style:{color:"var(--text)"},children:i.page}),d.jsx("button",{onClick:()=>i.onPageChange(i.page+1),disabled:i.page*i.pageSize>=i.total,className:"px-3 py-1 text-sm rounded border disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Next"})]})]})]})]})}const dd=({status:e,children:t})=>{const n=r=>{switch(r){case"open":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"closed":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"synced":return{backgroundColor:"var(--success-light)",color:"var(--success)",border:"1px solid var(--success)"};case"error":return{backgroundColor:"var(--error-light)",color:"var(--error)",border:"1px solid var(--error)"};case"queued":return{backgroundColor:"var(--warning-light)",color:"var(--warning)",border:"1px solid var(--warning)"};case"indexing":return{backgroundColor:"var(--primary-light)",color:"var(--primary)",border:"1px solid var(--primary)"};default:return{backgroundColor:"var(--border-light)",color:"var(--text-muted)",border:"1px solid var(--border)"}}};return d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:n(e),children:t})},Lae=({children:e,left:t,right:n,className:r=""})=>d.jsxs("div",{className:`flex items-center justify-between py-4 ${r}`,children:[d.jsx("div",{className:"flex items-center space-x-4",children:t}),d.jsx("div",{className:"flex items-center space-x-4",children:n})]}),$ae=({isOpen:e,onClose:t,title:n,children:r,className:i=""})=>{const a=x.useRef(null);return x.useEffect(()=>{const o=s=>{s.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),x.useEffect(()=>{e&&a.current&&a.current.focus()},[e]),e?d.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),d.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md",children:d.jsxs("div",{ref:a,className:`h-full flex flex-col ${i}`,style:{backgroundColor:"var(--card)"},tabIndex:-1,children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"var(--border)"},children:[d.jsx("h2",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:n}),d.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:"✕"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:r})]})})]}):null},Fae=[{id:"1",title:"PSDAP Program Discussion",status:"open",lastAt:"2024-01-15T10:30:00Z",messageCount:12},{id:"2",title:"API Integration Help",status:"closed",lastAt:"2024-01-14T15:45:00Z",messageCount:8},{id:"3",title:"General Questions",status:"open",lastAt:"2024-01-13T09:20:00Z",messageCount:15}],Uae=[{id:"1",sessionId:"1",role:"user",content:"What is the PSDAP program?",createdAt:"2024-01-15T10:30:00Z"},{id:"2",sessionId:"1",role:"assistant",content:"The PSDAP program is a comprehensive development initiative...",createdAt:"2024-01-15T10:31:00Z",feedback:"up",citations:[{sourceType:"document",title:"PSDAP Program Guide",snippet:"The PSDAP program provides..."}]}],z_=[{id:"1",requestId:"req-123",corrected:"The PSDAP program is a comprehensive development initiative that focuses on...",createdAt:"2024-01-15T11:00:00Z"}],B_=[{id:"1",messageId:"2",rating:1,note:"Very helpful response",createdAt:"2024-01-15T10:35:00Z"}],zae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Fae];e.search&&(t=t.filter(o=>o.title.toLowerCase().includes(e.search.toLowerCase()))),e.status&&e.status!=="all"&&(t=t.filter(o=>o.status===e.status)),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Bae=async(e,t={})=>{await new Promise(s=>setTimeout(s,300));const n=Uae.filter(s=>s.sessionId===e),r=t.page||1,i=t.pageSize||10,a=(r-1)*i,o=a+i;return{rows:n.slice(a,o),total:n.length}},Wae=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:z_,total:z_.length}),Kae=async(e={})=>(await new Promise(t=>setTimeout(t,300)),{rows:B_,total:B_.length}),Hae=()=>{const{t:e}=Ze(),t=In(),[n,r]=x.useState("sessions"),[i,a]=x.useState(null),[o,s]=x.useState([]),[l,c]=x.useState([]),[u,f]=x.useState([]),[h,p]=x.useState([]),[m,g]=x.useState(!1),[v,y]=x.useState(null),[b,w]=x.useState(!1),[S,j]=x.useState(""),[k,E]=x.useState("all"),[O,P]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{N(),A()},[S,k,O.page,O.pageSize]),x.useEffect(()=>{i&&I(i)},[i]);const N=async()=>{g(!0);try{const T=await zae({page:O.page,pageSize:O.pageSize,search:S,status:k});s(T.rows),P(F=>({...F,total:T.total}))}catch(T){console.error("Failed to fetch sessions:",T)}finally{g(!1)}},I=async T=>{try{const F=await Bae(T,{page:1,pageSize:50});c(F.rows)}catch(F){console.error("Failed to fetch messages:",F)}},A=async()=>{try{const[T,F]=await Promise.all([Wae(),Kae()]);f(T.rows),p(F.rows)}catch(T){console.error("Failed to fetch feedback:",T)}},R=async(T,F,C)=>{try{switch(T){case"open":t(`/chat/${F}`);break;case"rename":C&&console.log("Renaming session:",F,C);break;case"close":console.log("Closing session:",F);break;case"delete":console.log("Deleting session:",F);break}}catch(V){console.error("Failed to perform session action:",V)}},M=T=>{y(T),w(!0)},U=()=>{const T=[["Title","Status","Last Activity","Message Count"],...o.map(D=>[D.title,D.status,new Date(D.lastAt).toLocaleString(),D.messageCount.toString()])].map(D=>D.join(",")).join(`
`),F=new Blob([T],{type:"text/csv"}),C=window.URL.createObjectURL(F),V=document.createElement("a");V.href=C,V.download="sessions.csv",V.click(),window.URL.revokeObjectURL(C)},B=[{key:"title",label:e("labels.title"),sortable:!0,render:(T,F)=>d.jsx("button",{onClick:()=>a(F.id),className:"text-left hover:underline",style:{color:"var(--text)"},children:T})},{key:"status",label:e("labels.status"),render:T=>d.jsx(dd,{status:T,children:T})},{key:"lastAt",label:e("labels.lastActivity"),render:T=>new Date(T).toLocaleString()},{key:"messageCount",label:e("labels.count"),render:T=>T.toString()},{key:"actions",label:"Actions",render:(T,F)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>R("open",F.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.open")}),d.jsx("button",{onClick:()=>R("close",F.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.close")}),d.jsx("button",{onClick:()=>R("delete",F.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.delete")})]})}],L=[{key:"createdAt",label:"Time",render:T=>new Date(T).toLocaleString()},{key:"role",label:"Role",render:T=>d.jsx("span",{className:`px-2 py-1 rounded text-xs ${T==="user"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:T})},{key:"content",label:"Content",render:T=>d.jsx("div",{className:"max-w-xs truncate",title:T,children:T})},{key:"feedback",label:"Feedback",render:T=>T?d.jsx("span",{className:`px-2 py-1 rounded text-xs ${T==="up"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T==="up"?"👍":"👎"}):"-"},{key:"actions",label:"Actions",render:(T,F)=>d.jsx("button",{onClick:()=>M(F),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"})}];return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:d.jsxs("nav",{className:"-mb-px flex space-x-8",children:[d.jsx("button",{onClick:()=>r("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="sessions"?"var(--primary)":"var(--text-secondary)"},children:e("usage.sessions")}),d.jsx("button",{onClick:()=>r("feedback"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="feedback"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:n==="feedback"?"var(--primary)":"var(--text-secondary)"},children:e("usage.feedback.admin")})]})}),n==="sessions"&&d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Jr,{header:e("usage.sessions"),actions:d.jsx("button",{onClick:U,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Export CSV"}),children:[d.jsx(Lae,{left:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("input",{type:"text",placeholder:e("filters.search"),value:S,onChange:T=>j(T.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),d.jsxs("select",{value:k,onChange:T=>E(T.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"open",children:"Open"}),d.jsx("option",{value:"closed",children:"Closed"})]})]})}),d.jsx(Rl,{columns:B,data:o,loading:m,pagination:{page:O.page,pageSize:O.pageSize,total:O.total,onPageChange:T=>P(F=>({...F,page:T})),onPageSizeChange:T=>P(F=>({...F,pageSize:T,page:1}))}})]}),i&&d.jsx(Jr,{header:e("usage.messages"),children:d.jsx(Rl,{columns:L,data:l,loading:m})})]}),n==="feedback"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jr,{header:e("usage.feedback.admin"),children:d.jsx("div",{className:"space-y-4",children:u.map(T=>d.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Request ID: ",T.requestId]}),d.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(T.createdAt).toLocaleString()})]}),d.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:T.corrected})]},T.id))})}),d.jsx(Jr,{header:e("usage.feedback.user"),children:d.jsx("div",{className:"space-y-4",children:h.map(T=>d.jsxs("div",{className:"p-4 border rounded",style:{borderColor:"var(--border)"},children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text)"},children:["Message ID: ",T.messageId]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`px-2 py-1 rounded text-xs ${T.rating===1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.rating===1?"👍":"👎"}),d.jsx("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:new Date(T.createdAt).toLocaleString()})]})]}),T.note&&d.jsx("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:T.note})]},T.id))})})]}),d.jsx($ae,{isOpen:b,onClose:()=>w(!1),title:"Message Details",children:v&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"Content"}),d.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:v.content})})]}),v.citations&&v.citations.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium mb-2",style:{color:"var(--text)"},children:"References"}),d.jsx("div",{className:"space-y-2",children:v.citations.map((T,F)=>d.jsxs("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:[d.jsx("div",{className:"font-medium text-sm",style:{color:"var(--text)"},children:T.title}),T.snippet&&d.jsx("div",{className:"text-sm mt-1",style:{color:"var(--text-secondary)"},children:T.snippet}),T.url&&d.jsx("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:"View Source"})]},F))})]})]})})]})},qae=()=>{const{t:e}=Ze(),[t,n]=x.useState(""),[r,i]=x.useState("gpt-4"),[a,o]=x.useState("https://api.openai.com/v1/chat/completions"),[s,l]=x.useState(null),[c,u]=x.useState(!1),[f,h]=x.useState(""),[p,m]=x.useState(""),[g,v]=x.useState(!1);x.useEffect(()=>{const k=localStorage.getItem("axpro_system_prompt");k&&n(k);const E=localStorage.getItem("axpro_prompt_last_updated");E&&l(JSON.parse(E))},[]);const y=()=>{localStorage.setItem("axpro_system_prompt",t);const k={by:"admin@tecace.com",timestamp:new Date().toISOString()};localStorage.setItem("axpro_prompt_last_updated",JSON.stringify(k)),l(k),alert("Prompt saved successfully!")},b=()=>{if(confirm("Are you sure you want to revert to the last saved version?")){const k=localStorage.getItem("axpro_system_prompt");k&&n(k)}},w=async()=>{if(f.trim()){v(!0);try{await new Promise(k=>setTimeout(k,2e3)),m(`This is a test response for: "${f}"

Generated by ${r} at ${a}`)}catch{m("Error: Failed to get test response")}finally{v(!1)}}},S=t.length,j=4e3;return d.jsxs("div",{className:"space-y-6",children:[d.jsx(Jr,{header:e("mgmt.prompt"),subheader:"Configure the system prompt for the chatbot",actions:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:b,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.revert")}),d.jsx("button",{onClick:y,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.save")}),d.jsx("button",{onClick:()=>u(!0),className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.test")})]}),children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Model"}),d.jsx("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Endpoint"}),d.jsx("input",{type:"text",value:a,onChange:k=>o(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},readOnly:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"System Prompt"}),d.jsx("textarea",{value:t,onChange:k=>n(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:12,placeholder:"Enter the system prompt for the chatbot..."}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsxs("span",{className:"text-xs",style:{color:"var(--text-muted)"},children:[S," / ",j," characters"]}),S>j&&d.jsx("span",{className:"text-xs text-red-600",children:"Exceeds maximum length"})]})]}),s&&d.jsxs("div",{className:"text-sm",style:{color:"var(--text-secondary)"},children:["Last updated by ",s.by," on ",new Date(s.timestamp).toLocaleString()]})]})}),c&&d.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>u(!1)}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:d.jsx("div",{className:"w-full max-w-2xl rounded-lg border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--text)"},children:"Test Prompt"}),d.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-md hover:bg-gray-100",style:{color:"var(--text-secondary)"},children:"✕"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Test Input"}),d.jsx("textarea",{value:f,onChange:k=>h(k.target.value),className:"w-full px-3 py-2 border rounded",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},rows:3,placeholder:"Enter a test message..."})]}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Cancel"}),d.jsx("button",{onClick:w,disabled:g||!f.trim(),className:"px-4 py-2 text-sm rounded border hover:bg-gray-50 disabled:opacity-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:g?"Testing...":"Test"})]}),p&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--text)"},children:"Response"}),d.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--bg-secondary)",borderColor:"var(--border)"},children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm",style:{color:"var(--text)"},children:p})})]})]})]})})})]})]})},Vae=[{id:"1",name:"PSDAP_Program_Guide.pdf",size:2048576,lastModified:"2024-01-15T10:00:00Z",contentType:"application/pdf"},{id:"2",name:"API_Documentation.md",size:512e3,lastModified:"2024-01-14T15:30:00Z",contentType:"text/markdown"},{id:"3",name:"User_Manual.docx",size:1024e3,lastModified:"2024-01-13T09:15:00Z",contentType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}],Gae=[{id:"1",name:"PSDAP_Program_Guide.pdf",chunks:45,status:"synced",lastIndexedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"API_Documentation.md",chunks:12,status:"indexing",lastIndexedAt:"2024-01-14T16:00:00Z"},{id:"3",name:"User_Manual.docx",chunks:0,status:"queued"}],Yae=[{id:"1",name:"PSDAP_Program_Guide.pdf",blobStatus:"present",chunks:45,syncStatus:"synced"},{id:"2",name:"API_Documentation.md",blobStatus:"present",chunks:12,syncStatus:"stale"},{id:"3",name:"User_Manual.docx",blobStatus:"missing",chunks:0,syncStatus:"error"}],Jae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Vae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Xae=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Deleting file:",e)},Qae=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Gae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l===void 0||c===void 0?0:l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},Zae=async e=>{await new Promise(t=>setTimeout(t,300)),console.log("Reindexing:",e)},eoe=async(e={})=>{await new Promise(o=>setTimeout(o,300));let t=[...Yae];e.search&&(t=t.filter(o=>o.name.toLowerCase().includes(e.search.toLowerCase()))),e.sortBy&&t.sort((o,s)=>{const l=o[e.sortBy],c=s[e.sortBy],u=e.sortDirection==="desc"?-1:1;return l<c?-1*u:l>c?1*u:0});const n=e.page||1,r=e.pageSize||10,i=(n-1)*r,a=i+r;return{rows:t.slice(i,a),total:t.length}},toe=()=>{const{t:e}=Ze(),[t,n]=x.useState("files"),[r,i]=x.useState([]),[a,o]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(!1),[f,h]=x.useState(""),[p,m]=x.useState({page:1,pageSize:10,total:0});x.useEffect(()=>{g()},[t,f,p.page,p.pageSize]);const g=async()=>{u(!0);try{let P;switch(t){case"files":P=await Jae({page:p.page,pageSize:p.pageSize,search:f}),i(P.rows);break;case"index":P=await Qae({page:p.page,pageSize:p.pageSize,search:f}),o(P.rows);break;case"sync":P=await eoe({page:p.page,pageSize:p.pageSize,search:f}),l(P.rows);break}m(N=>({...N,total:P.total}))}catch(P){console.error("Failed to fetch data:",P)}finally{u(!1)}},v=async P=>{if(confirm("Are you sure you want to delete this file?"))try{await Xae(P),g()}catch(N){console.error("Failed to delete file:",N)}},y=async P=>{try{await Zae(P),g()}catch(N){console.error("Failed to reindex:",N)}},b=P=>{if(P===0)return"0 Bytes";const N=1024,I=["Bytes","KB","MB","GB"],A=Math.floor(Math.log(P)/Math.log(N));return parseFloat((P/Math.pow(N,A)).toFixed(2))+" "+I[A]},w=P=>new Date(P).toLocaleString(),S=[{key:"name",label:"Filename",sortable:!0,render:P=>d.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:P})},{key:"size",label:"Size",sortable:!0,render:P=>b(P)},{key:"lastModified",label:"Last Modified",sortable:!0,render:P=>w(P)},{key:"contentType",label:"Type",render:P=>d.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)"},children:P})},{key:"actions",label:"Actions",render:(P,N)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>window.open(`/files/${N.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View"}),d.jsx("button",{onClick:()=>window.open(`/files/${N.id}/download`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Download"}),d.jsx("button",{onClick:()=>v(N.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Delete"})]})}],j=[{key:"name",label:"Filename",sortable:!0,render:P=>d.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:P})},{key:"chunks",label:"Chunks",sortable:!0,render:P=>P.toString()},{key:"status",label:"Status",render:P=>d.jsx(dd,{status:P,children:P})},{key:"lastIndexedAt",label:"Last Indexed",sortable:!0,render:P=>P?w(P):"-"},{key:"actions",label:"Actions",render:(P,N)=>d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>y(N.id),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Reindex"}),d.jsx("button",{onClick:()=>window.open(`/index/${N.id}/chunks`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"View Chunks"})]})}],k=[{key:"name",label:"Filename",sortable:!0,render:P=>d.jsx("span",{className:"font-medium",style:{color:"var(--text)"},children:P})},{key:"blobStatus",label:"Blob Status",render:P=>d.jsx(dd,{status:P,children:P})},{key:"chunks",label:"Chunks",sortable:!0,render:P=>P.toString()},{key:"syncStatus",label:"Sync Status",render:P=>d.jsx(dd,{status:P,children:P})},{key:"actions",label:"Actions",render:(P,N)=>d.jsx("div",{className:"flex items-center space-x-2",children:d.jsx("button",{onClick:()=>window.open(`/sync/${N.id}`,"_blank"),className:"text-xs px-2 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:"Open"})})}],E=()=>{switch(t){case"files":return r;case"index":return a;case"sync":return s;default:return[]}},O=()=>{switch(t){case"files":return S;case"index":return j;case"sync":return k;default:return[]}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"border-b",style:{borderColor:"var(--border)"},children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:[{key:"files",label:"File Library"},{key:"index",label:"Knowledge Index"},{key:"sync",label:"Sync Overview"}].map(P=>d.jsx("button",{onClick:()=>n(P.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${t===P.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,style:{color:t===P.key?"var(--primary)":"var(--text-secondary)"},children:P.label},P.key))})}),d.jsxs(Jr,{header:e("mgmt.knowledge"),actions:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:P=>h(P.target.value),className:"px-3 py-1 border rounded text-sm",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"}}),d.jsx("button",{onClick:g,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:e("actions.refresh")})]}),children:[t==="files"&&d.jsxs("div",{children:[d.jsx("div",{className:"mb-4 p-4 border-2 border-dashed rounded",style:{borderColor:"var(--border)",backgroundColor:"var(--bg-secondary)"},children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm",style:{color:"var(--text-secondary)"},children:"File upload is disabled in mock mode"}),d.jsx("p",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:"In production, you can drag and drop files here to upload them"})]})}),d.jsx(Rl,{columns:O(),data:E(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:P=>m(N=>({...N,page:P})),onPageSizeChange:P=>m(N=>({...N,pageSize:P,page:1}))}})]}),t==="index"&&d.jsx(Rl,{columns:O(),data:E(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:P=>m(N=>({...N,page:P})),onPageSizeChange:P=>m(N=>({...N,pageSize:P,page:1}))}}),t==="sync"&&d.jsx(Rl,{columns:O(),data:E(),loading:c,pagination:{page:p.page,pageSize:p.pageSize,total:p.total,onPageChange:P=>m(N=>({...N,page:P})),onPageSizeChange:P=>m(N=>({...N,pageSize:P,page:1}))}})]})]})},Ku=()=>{var p;const e=In(),t=Qa(),{theme:n,toggleTheme:r}=Za(),{language:i,setLanguage:a,t:o}=Ze(),{logout:s}=K$(),[l,c]=x.useState(null);Wi.useEffect(()=>{const m=Dr();m&&c({email:m.email,role:m.role})},[Dr]);const u=async()=>{await s(),e("/")},f=[{group:"Dashboard",items:[{key:"overview",label:o("dashboard.title"),path:"/admin"}]},{group:"Analytics",items:[{key:"usage",label:o("usage.sessions"),path:"/admin/usage"}]},{group:"Management",items:[{key:"prompt",label:o("mgmt.prompt"),path:"/admin/prompt"},{key:"knowledge",label:o("mgmt.knowledge"),path:"/admin/knowledge"}]}],h=m=>t.pathname===m;return d.jsx("div",{className:"min-h-screen",style:{backgroundColor:"var(--bg)"},children:d.jsxs("div",{className:"flex",children:[d.jsxs("div",{className:"w-64 h-screen border-r sticky top-0",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[d.jsx("div",{className:"p-6",children:d.jsx("h1",{className:"text-xl font-bold",style:{color:"var(--text)"},children:"AX Pro Admin"})}),d.jsx("nav",{className:"px-4 pb-4",children:f.map(m=>d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider mb-3",style:{color:"var(--text-muted)"},children:m.group}),d.jsx("div",{className:"space-y-1",children:m.items.map(g=>d.jsx("button",{onClick:()=>e(g.path),className:`w-full text-left px-3 py-2 rounded-md text-sm transition-colors ${h(g.path)?"text-white":"hover:bg-gray-100"}`,style:{backgroundColor:h(g.path)?"var(--text)":"transparent",color:h(g.path)?"var(--bg)":"var(--text-secondary)"},children:g.label},g.key))})]},m.group))})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("header",{className:"h-16 border-b flex items-center justify-between px-6",style:{backgroundColor:"var(--card)",borderColor:"var(--border)"},children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsx("h2",{className:"text-lg font-medium",style:{color:"var(--text)"},children:((p=f.flatMap(m=>m.items).find(m=>h(m.path)))==null?void 0:p.label)||"Admin Dashboard"})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:i,onChange:m=>a(m.target.value),className:"text-sm px-2 py-1 rounded border",style:{backgroundColor:"var(--card)",borderColor:"var(--border)",color:"var(--text)"},children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]}),d.jsx("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",style:{color:"var(--text-secondary)"},children:n==="dark"?"☀️":"🌙"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--text-secondary)"},children:l==null?void 0:l.email}),d.jsx("button",{onClick:u,className:"text-sm px-3 py-1 rounded border hover:bg-gray-50 transition-colors",style:{borderColor:"var(--border)",color:"var(--text-secondary)"},children:o("auth.signOut")})]})]})]}),d.jsx("main",{className:"flex-1 p-6",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.pathname==="/admin"&&d.jsx(Mae,{}),t.pathname==="/admin/usage"&&d.jsx(Hae,{}),t.pathname==="/admin/prompt"&&d.jsx(qae,{}),t.pathname==="/admin/knowledge"&&d.jsx(toe,{})]})})]})]})})};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),roe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),W_=e=>{const t=roe(e);return t.charAt(0).toUpperCase()+t.slice(1)},HD=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),ioe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aoe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>x.createElement("svg",{ref:l,...aoe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:HD("lucide",i),...!a&&!ioe(s)&&{"aria-hidden":"true"},...s},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=(e,t)=>{const n=x.forwardRef(({className:r,...i},a)=>x.createElement(ooe,{ref:a,iconNode:t,className:HD(`lucide-${noe(W_(e))}`,`lucide-${e}`,r),...i}));return n.displayName=W_(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],loe=Rn("activity",soe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],uoe=Rn("bell",coe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],foe=Rn("chart-column",doe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],poe=Rn("database",hoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],goe=Rn("log-out",moe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],yoe=Rn("megaphone",voe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],boe=Rn("message-square",xoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],koe=Rn("moon",woe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],joe=Rn("refresh-cw",Soe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Coe=Rn("sun",_oe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Poe=Rn("thumbs-down",Eoe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ooe=Rn("thumbs-up",Noe);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Toe=Rn("user",Aoe),Ioe=goe,Doe=uoe,Roe=koe,Moe=Coe,Loe=Toe,K_=foe,vy=boe,H_=poe,$oe=yoe,Ti=Ooe,Ii=Poe,q_=loe,mp=joe;function Foe({performanceScore:e,performanceDate:t,currentTime:n,onSignOut:r}){const i=In(),{theme:a,toggleTheme:o}=Za(),{language:s,setLanguage:l,t:c}=Ze(),u=h=>h>=90?c("admin.excellent"):h>=80?c("admin.good"):h>=70?c("admin.fair"):c("admin.poor"),f=()=>{i("/admin/dashboard")};return d.jsxs("header",{className:"dashboard-header",children:[d.jsx("div",{className:"header-left",children:d.jsxs("div",{className:"logo",onClick:f,style:{cursor:"pointer"},children:[d.jsx("div",{className:"logo-hexagon",children:d.jsx("div",{className:"hexagon-outer",children:d.jsx("div",{className:"hexagon-inner"})})}),d.jsx("span",{className:"logo-text",children:"TecAce Ax Pro"})]})}),d.jsxs("div",{className:"header-right",children:[d.jsxs("div",{className:"performance-indicator",children:[d.jsxs("span",{className:"performance-text",children:["TecAce Ax Pro: ",e,"% (",u(e),t?`, ${t}`:"",")"]}),d.jsx("span",{className:"current-time",children:n})]}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{className:"icon-btn","aria-label":c("admin.goToChat"),onClick:()=>i("/chat"),title:c("admin.goToChat"),children:d.jsx(vy,{size:18})}),d.jsx("button",{className:"icon-btn","aria-label":c("admin.notifications"),children:d.jsx(Doe,{size:18})}),d.jsx("button",{className:"icon-btn","aria-label":c("admin.toggleTheme"),onClick:o,title:c("admin.toggleTheme"),children:a==="light"?d.jsx(Roe,{size:18}):d.jsx(Moe,{size:18})}),d.jsxs("select",{value:s,onChange:h=>l(h.target.value),className:"language-select",children:[d.jsx("option",{value:"en",children:"EN"}),d.jsx("option",{value:"ko",children:"KO"})]}),d.jsx("button",{className:"icon-btn","aria-label":c("admin.userProfile"),onClick:()=>i("/settings"),title:c("ui.settings"),children:d.jsx(Loe,{size:18})}),d.jsx("button",{className:"icon-btn signout-btn","aria-label":c("admin.signOut"),onClick:r,title:c("admin.signOut"),children:d.jsx(Ioe,{size:18})})]})]})]})}function Uoe({conversations:e,satisfaction:t,documents:n,performanceScore:r,performanceDate:i,isCollapsed:a,onToggleCollapse:o,onScrollToSection:s}){const l=In(),c=Qa(),{customization:u,updateCustomization:f}=Ac(),{t:h}=Ze(),p=c.pathname==="/admin/dashboard",[m,g]=x.useState(!1),[v,y]=x.useState(""),[b,w]=x.useState("Main AI Assistant for HR Support"),S=O=>{p?s(O):l(`/admin/dashboard?section=${O}`)},j=()=>{y(u.title||"TecAce Ax Pro"),w(u.chatSubtitle||"Main AI Assistant for HR Support"),g(!0)},k=()=>{f({title:v,chatSubtitle:b}),g(!1)},E=()=>{g(!1)};return d.jsx("aside",{className:`dashboard-sidebar ${a?"collapsed":""}`,children:d.jsxs("div",{className:"sidebar-content",children:[d.jsx("div",{className:"sidebar-section",style:{paddingBottom:"20px",borderBottom:"1px solid var(--admin-border)"},children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[d.jsxs("div",{style:{position:"relative"},children:[d.jsx("img",{src:u.avatarUrl,alt:"Chatbot Avatar",style:{width:"100px",height:"100px",borderRadius:"50%",objectFit:"cover",border:"3px solid var(--admin-primary)",boxShadow:"0 0 20px rgba(59, 230, 255, 0.3)"},onError:O=>{O.currentTarget.src="/default-profile-avatar.png"}}),d.jsx("div",{style:{position:"absolute",bottom:"5px",right:"5px",width:"20px",height:"20px",backgroundColor:"var(--admin-success, #10b981)",border:"3px solid var(--admin-bg)",borderRadius:"50%"}})]}),d.jsx("div",{style:{textAlign:"center",width:"100%",padding:"0 12px"},children:m?d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"text",value:v,onChange:O=>y(O.target.value),placeholder:"Bot Title",style:{width:"100%",fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-primary)",borderRadius:"6px",padding:"8px 12px",marginBottom:"8px",textAlign:"center"}}),d.jsx("input",{type:"text",value:b,onChange:O=>w(O.target.value),placeholder:"Description",style:{width:"100%",fontSize:"12px",color:"var(--admin-text-muted)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"6px 12px",textAlign:"center"}})]}):d.jsxs(d.Fragment,{children:[d.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"var(--admin-text)",marginBottom:"4px"},children:u.title||"TecAce Ax Pro"}),d.jsx("p",{style:{fontSize:"12px",color:"var(--admin-text-muted)"},children:u.chatSubtitle||"Main AI Assistant for HR Support"})]})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginTop:"8px"},children:[d.jsxs("div",{style:{textAlign:"center"},children:[d.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",background:"linear-gradient(135deg, var(--admin-primary), var(--admin-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:[r,"%"]}),d.jsx("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Performance"}),d.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)"},children:i||"9/10"})]}),d.jsxs("div",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:[d.jsx("div",{style:{fontSize:"10px",fontWeight:"600",color:"var(--admin-success)",textTransform:"uppercase",letterSpacing:"0.5px"},children:"ACTIVE"}),d.jsx("div",{style:{fontSize:"9px",color:"var(--admin-text-muted)",textTransform:"uppercase"},children:"STATUS"})]})]}),d.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m?d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:k,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#041220",backgroundColor:"var(--admin-primary)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:O=>O.currentTarget.style.opacity="0.9",onMouseLeave:O=>O.currentTarget.style.opacity="1",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),d.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),d.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Save"]}),d.jsxs("button",{onClick:E,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"#ffffff",backgroundColor:"var(--admin-danger, #ef4444)",border:"none",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:O=>O.currentTarget.style.opacity="0.9",onMouseLeave:O=>O.currentTarget.style.opacity="1",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Cancel"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:j,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:O=>O.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:O=>O.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),d.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),d.jsxs("button",{onClick:()=>l("/settings"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",fontSize:"12px",fontWeight:"500",color:"var(--admin-text)",backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid var(--admin-border)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:O=>O.currentTarget.style.backgroundColor="rgba(59, 230, 255, 0.1)",onMouseLeave:O=>O.currentTarget.style.backgroundColor="rgba(9, 14, 34, 0.6)",children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),d.jsx("polyline",{points:"21 15 16 10 5 21"})]}),"Photo"]})]})})]})}),d.jsxs("div",{className:"sidebar-section",children:[d.jsx("h3",{className:"sidebar-section-title",children:h("admin.overview")}),d.jsxs("div",{className:"metrics-grid",children:[d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(vy,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:e}),d.jsx("div",{className:"metric-label",children:h("admin.conversations")})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(q_,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[t,"%"]}),d.jsx("div",{className:"metric-label",children:h("admin.satisfaction")})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(H_,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsx("div",{className:"metric-value",children:n}),d.jsx("div",{className:"metric-label",children:h("admin.documents")})]})]}),d.jsxs("div",{className:"metric-card",children:[d.jsx("div",{className:"metric-icon",children:d.jsx(K_,{size:20})}),d.jsxs("div",{className:"metric-content",children:[d.jsxs("div",{className:"metric-value",children:[r,"%"]}),d.jsx("div",{className:"metric-label",children:h("admin.performance")})]})]})]})]}),d.jsxs("div",{className:"sidebar-section",children:[d.jsx("h3",{className:"sidebar-section-title",children:h("admin.navigation")}),d.jsxs("nav",{className:"sidebar-nav",children:[d.jsxs("button",{className:"nav-item",onClick:()=>S("performance-radar"),children:[d.jsx(K_,{size:18}),d.jsx("span",{children:h("admin.performance")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>S("daily-message-activity"),children:[d.jsx(q_,{size:18}),d.jsx("span",{children:h("admin.activity")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>S("recent-conversations"),children:[d.jsx(vy,{size:18}),d.jsx("span",{children:h("admin.conversations")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>S("user-feedback"),children:[d.jsx($oe,{size:18}),d.jsx("span",{children:h("admin.feedback")})]}),d.jsxs("button",{className:"nav-item",onClick:()=>l("/admin/knowledge-management"),children:[d.jsx(H_,{size:18}),d.jsx("span",{children:h("admin.knowledgeBase")})]})]})]})]})})}function zoe({data:e,selectedDate:t,onDateChange:n,title:r="Performance Timeline",includeSimulatedData:i,onIncludeSimulatedDataChange:a,estimationMode:o,onEstimationModeChange:s}){var E,O;const{t:l}=Ze(),[c,u]=x.useState(!1),[f,h]=x.useState(800),[p,m]=x.useState(!1),[g,v]=x.useState(null),y=x.useRef(null);x.useEffect(()=>{if(c&&e.length>0){const P=e.findIndex(N=>N.Date===t);y.current=window.setInterval(()=>{const N=P>=0?(P+1)%e.length:0;n(e[N].Date)},f)}else y.current&&(clearInterval(y.current),y.current=null);return()=>{y.current&&clearInterval(y.current)}},[c,t,e,f,n]);const b=()=>{u(!c)},w=P=>{const N=[P.Toxicity,P["Prompt Injection"],P["Answer Correctness"],P["Answer Relevancy"],P.Length,P.Tone];return Math.round(N.reduce((I,A)=>I+A,0)/N.length*100)},S=Math.max(...e.map(w),100),j=e.find(P=>P.Date===t),k=new Date().toISOString().split("T")[0];return e.length===0?d.jsx("div",{className:"performance-timeline",children:d.jsx("div",{className:"timeline-loading",children:"Loading data..."})}):d.jsxs("div",{className:"performance-timeline",children:[d.jsxs("div",{className:"timeline-single-row",children:[d.jsx("div",{className:"timeline-title-compact",children:d.jsx("h3",{children:r})}),d.jsxs("div",{className:"timeline-controls-compact",children:[d.jsxs("div",{className:"date-selector-compact",children:[d.jsxs("label",{children:[l("admin.date"),":"]}),d.jsx("select",{className:"date-select-compact",value:t,onChange:P=>n(P.target.value),children:e.map(P=>d.jsx("option",{value:P.Date,children:P.Date},P.Date))})]}),d.jsx("button",{className:"play-btn-compact",onClick:b,title:c?"Pause":"Play",children:c?"⏸":"▶"}),c&&d.jsxs("select",{className:"speed-control-compact",value:f,onChange:P=>h(Number(P.target.value)),children:[d.jsx("option",{value:1200,children:"Slow"}),d.jsx("option",{value:800,children:"Normal"}),d.jsx("option",{value:400,children:"Fast"})]}),d.jsx("div",{className:"data-indicator-compact",children:d.jsx("span",{className:`indicator ${j!=null&&j.isSimulated?"estimated":"actual"}`,children:j!=null&&j.isSimulated?`📊 ${l("admin.estimated")}`:`📈 ${l("admin.actual")}`})}),d.jsxs("div",{className:"settings-container-compact",children:[d.jsx("button",{className:`settings-btn-compact ${p?"active":""}`,onClick:()=>m(!p),title:"Settings",children:"⚙️"}),p&&d.jsxs("div",{className:"settings-panel-compact",children:[d.jsx("div",{className:"setting-item",children:d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:i,onChange:P=>a(P.target.checked)}),l("admin.estimated")," 데이터 포함"]})}),d.jsxs("div",{className:"setting-item",children:[d.jsx("label",{className:"select-label",children:"추정 모드:"}),d.jsxs("select",{className:"mode-select",value:o,onChange:P=>s(P.target.value),children:[d.jsx("option",{value:"simple",children:"간단 (±5%)"}),d.jsx("option",{value:"improved",children:"개선 (±4% + 패턴)"}),d.jsx("option",{value:"realistic",children:"현실적 (트렌드 + 주간)"})]})]})]})]})]})]}),d.jsxs("div",{className:"timeline-chart",children:[d.jsx("div",{className:"chart-container",children:e.map(P=>{const N=w(P),I=N/S*100,A=P.Date===t,R=P.Date===k,M=P.isSimulated,U=["bar"];return A?U.push("selected"):R?U.push("today"):M?U.push("simulated"):U.push("actual"),d.jsxs("div",{className:U.join(" "),style:{height:`${Math.max(I,5)}%`,position:"relative"},onClick:()=>n(P.Date),onMouseEnter:()=>v(P.Date),onMouseLeave:()=>v(null),title:`${P.Date}: ${N}% ${M?`(${l("admin.estimated")})`:`(${l("admin.actual")})`}`,children:[d.jsx("span",{className:"bar-value",children:N}),g===P.Date&&d.jsxs("div",{className:"bar-hover-info",children:[d.jsx("div",{className:"hover-date",children:P.Date}),d.jsxs("div",{className:"hover-score",children:[N,"%"]}),d.jsx("div",{className:"hover-type",children:l(M?"admin.estimated":"admin.actual")})]})]},P.Date)})}),d.jsxs("div",{className:"date-labels",children:[d.jsx("span",{className:"date-start",children:(E=e[0])==null?void 0:E.Date}),d.jsx("span",{className:"date-end",children:(O=e[e.length-1])==null?void 0:O.Date})]})]})]})}function Boe({relevance:e,tone:t,length:n,accuracy:r,toxicity:i,promptInjection:a,timelineData:o=[],selectedDate:s="",onDateChange:l=()=>{},includeSimulatedData:c=!1,onIncludeSimulatedDataChange:u=()=>{},estimationMode:f="simple",onEstimationModeChange:h=()=>{}}){const{t:p}=Ze(),[m,g]=x.useState({relevance:!0,tone:!0,length:!0,accuracy:!0,toxicity:!0,promptInjection:!0});x.useState(!1);const v=[{key:"relevance",label:p("admin.relevance"),value:e,description:p("admin.contentMatching"),icon:"⚡",color:"#ff6b6b"},{key:"tone",label:p("admin.tone"),value:t,description:p("admin.responseStyle"),icon:"🎭",color:"#4ecdc4"},{key:"length",label:p("admin.length"),value:n,description:p("admin.responseSize"),icon:"📏",color:"#45b7d1"},{key:"accuracy",label:p("admin.accuracy"),value:r,description:p("admin.correctAnswers"),icon:"✓",color:"#96ceb4"},{key:"toxicity",label:p("admin.toxicity"),value:i,description:p("admin.safetyCheck"),icon:"🛡️",color:"#feca57"},{key:"promptInjection",label:p("admin.promptInjection"),value:a,description:p("admin.securityFilter"),icon:"🔒",color:"#ff9ff3"}],y=v.filter(R=>m[R.key]),b=R=>{g(M=>({...M,[R]:!M[R]}))},w=Object.values(m).filter(Boolean).length,S=y.length>0?Math.round(y.reduce((R,M)=>R+M.value,0)/y.length):0,j=400,k=j/2,E=k,O=130,P=(R,M,U)=>{const B=360/M,L=R*B-90,T=U/100*O,F=Math.cos(L*Math.PI/180)*T,C=Math.sin(L*Math.PI/180)*T;return{x:F,y:C,angle:L}},N=()=>y.length<3?"":`M ${y.map((M,U)=>{const B=P(U,y.length,M.value);return`${B.x+k},${B.y+k}`}).join(" L ")} Z`,I=(R,M)=>{const U=360/M,B=R*U-90,L=O+50,T=Math.cos(B*Math.PI/180)*L,F=Math.sin(B*Math.PI/180)*L;let C="center";return B>=-45&&B<=45?C="center":B>45&&B<=135?C="left":B>135||B<=-135?C="center":C="right",{x:T,y:F,angle:B,textAlign:C}},A=()=>{const R=[];for(let M=20;M<=100;M+=20)R.push(d.jsx("circle",{cx:k,cy:E,r:M/100*O,fill:"none",stroke:"rgba(59, 230, 255, 0.15)",strokeWidth:"1"},`circle-${M}`));for(let M=0;M<y.length;M++){const U=360/y.length,B=M*U-90,L=Math.cos(B*Math.PI/180)*O,T=Math.sin(B*Math.PI/180)*O;R.push(d.jsx("line",{x1:k,y1:E,x2:k+L,y2:E+T,stroke:"rgba(59, 230, 255, 0.2)",strokeWidth:"1"},`line-${M}`))}return R};return d.jsxs("div",{className:"performance-radar-section",children:[d.jsxs("div",{className:"radar-main-layout",children:[d.jsxs("div",{className:"radar-chart-section",children:[d.jsxs("div",{className:"radar-header",children:[d.jsx("h2",{className:"radar-title",children:p("admin.performanceRadar")}),d.jsx("p",{className:"radar-description",children:p("admin.performanceRadarDesc")})]}),d.jsxs("div",{className:"radar-chart-container",children:[d.jsxs("div",{className:"radar-chart-large",children:[d.jsxs("svg",{className:"radar-svg-large",width:j,height:j,children:[A(),d.jsx("path",{d:N(),fill:"rgba(59, 230, 255, 0.1)",stroke:"rgba(59, 230, 255, 0.8)",strokeWidth:"2"}),y.map((R,M)=>{const U=P(M,y.length,R.value);return d.jsxs("g",{className:"radar-point-large",children:[d.jsx("circle",{className:"point-dot-large",cx:U.x+k,cy:U.y+k,r:"6",fill:R.color,stroke:"white",strokeWidth:"2"}),d.jsx("text",{x:U.x+k,y:U.y+k-15,textAnchor:"middle",className:"point-score-box",fill:R.color,fontSize:"12",fontWeight:"bold",children:R.value})]},M)})]}),d.jsxs("div",{className:"radar-center-large",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[d.jsx("div",{className:"center-score-large",children:S}),d.jsx("div",{className:"center-label-large",children:"OVERALL"})]})]}),v.map((R,M)=>{const U=I(M,v.length),B=m[R.key],L=R.key==="promptInjection",T=200,F=200,C=T+U.x,V=F+U.y;return d.jsx("div",{className:`radar-label-clean radar-label-${R.key.toLowerCase()} ${B?"":"label-inactive"}`,style:{position:"absolute",left:`${C}px`,top:`${V}px`,transform:"translate(-50%, -50%)",zIndex:10,borderColor:R.color,opacity:B?1:.5},children:d.jsxs("div",{className:"label-content",children:[d.jsx("span",{className:"label-name",style:{color:R.color},children:L?"PROMPT INJECTION":R.label.toUpperCase()}),d.jsx("span",{className:"label-score",style:{color:R.color},children:R.value})]})},M)})]})]}),d.jsxs("div",{className:"module-control-panel",children:[d.jsxs("div",{className:"module-control-header-side",children:[d.jsx("span",{className:"control-title",children:p("admin.moduleControl")}),d.jsxs("span",{className:"control-badge",children:[w," / ",v.length]})]}),d.jsx("div",{className:"control-list-side",children:v.map(R=>d.jsxs("div",{className:"control-item-side","data-key":R.key,children:[d.jsxs("div",{className:"control-info",children:[d.jsx("span",{className:"control-icon",style:{color:R.color},children:R.icon}),d.jsxs("div",{className:"control-text",children:[d.jsx("span",{className:"control-label",children:R.label}),d.jsx("span",{className:"control-description",children:R.description})]})]}),d.jsx("div",{className:"control-actions",children:d.jsx("button",{className:`control-toggle-btn ${m[R.key]?"enabled":"disabled"}`,onClick:()=>b(R.key),style:{borderColor:R.color,backgroundColor:m[R.key]?R.color:"transparent"},children:m[R.key]?"ON":"OFF"})})]},R.key))})]})]}),o&&o.length>0&&d.jsx("div",{className:"timeline-section-wrapper",style:{marginTop:"20px"},children:d.jsx(zoe,{data:o,selectedDate:s,onDateChange:l,title:"Performance Timeline",includeSimulatedData:c,onIncludeSimulatedDataChange:u,estimationMode:f,onEstimationModeChange:h})})]})}async function Lf(e=100){try{const t=We();console.log("Fetching chat data from Supabase...");const{data:n,error:r}=await t.from("chat").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw console.error("Supabase error:",r),new Error(`Failed to fetch chat data: ${r.message}`);return console.log(`✅ Fetched ${(n==null?void 0:n.length)||0} chat records`),n||[]}catch(t){throw console.error("Failed to fetch chat data:",t),t}}async function qD(e){try{const t=We();console.log(`Looking for chat with chat_id: ${e}`);const{data:n,error:r}=await t.from("chat").select("*").eq("chat_id",e).maybeSingle();return r?(console.error("Supabase error:",r),null):(n?console.log(`✅ Found chat for chat_id: ${e}`):console.warn(`No chat found for chat_id: ${e}`),n)}catch(t){return console.error("Error fetching chat by ID:",t),null}}const Woe=e=>[{value:"3d",label:e("admin.last3Days")},{value:"7d",label:e("admin.last7Days")},{value:"30d",label:e("admin.last30Days")},{value:"90d",label:e("admin.last3Months")},{value:"6m",label:e("admin.last6Months")},{value:"1y",label:e("admin.lastYear")},{value:"custom",label:e("admin.customRange")}];function Koe({startDate:e,endDate:t}){const{t:n}=Ze(),[r,i]=x.useState([]),[a,o]=x.useState({totalMessages:0,avgPerDay:0,totalUserFeedback:0,totalAdminFeedback:0,totalCorrected:0,uniqueUsers:0,userSatisfaction:0,adminApproval:0}),[s,l]=x.useState(!0),[c,u]=x.useState("messages"),[f,h]=x.useState("7d"),[p,m]=x.useState(""),[g,v]=x.useState(""),[y,b]=x.useState(!1),w=()=>{if(e&&t)return{startDate:e,endDate:t};const I=new Date,A=new Date;switch(f){case"3d":A.setDate(I.getDate()-3);break;case"7d":A.setDate(I.getDate()-7);break;case"30d":A.setDate(I.getDate()-30);break;case"90d":A.setDate(I.getDate()-90);break;case"6m":A.setMonth(I.getMonth()-6);break;case"1y":A.setFullYear(I.getFullYear()-1);break;case"custom":if(p&&g)return{startDate:p,endDate:g};A.setDate(I.getDate()-7);break}return{startDate:A.toISOString().split("T")[0],endDate:I.toISOString().split("T")[0]}},{startDate:S,endDate:j}=w();x.useEffect(()=>{k()},[S,j,f,p,g]);const k=async()=>{l(!0);try{const[I,A,R]=await Promise.all([Lf(1e3),Ba(),Ex()]);console.log("📊 Loaded data:",{chats:I.length,userFeedbacks:A.length,adminFeedbacks:R.length}),I.length>0&&(console.log("Sample chat object:",I[0]),console.log("Sample chat ID:",I[0].id),console.log("Sample chat all keys:",Object.keys(I[0]))),A.length>0&&console.log("Sample user feedback chat_id:",A[0].chat_id),R.length>0&&console.log("Sample admin feedback chat_id:",R[0].chat_id);const M=new Map;A.forEach(G=>{M.has(G.chat_id)||M.set(G.chat_id,[]),M.get(G.chat_id).push(G)});const U=new Map;R.forEach(G=>{U.set(G.chat_id,G)}),console.log("📋 Feedback maps created:",{userFeedbackMapSize:M.size,adminFeedbackMapSize:U.size,sampleUserFeedbackKeys:Array.from(M.keys()).slice(0,3),sampleChatIds:I.slice(0,3).map(G=>G.id)});const B=new Map,L=new Date(S),T=new Date(j);for(let G=new Date(L);G<=T;G.setDate(G.getDate()+1)){const ae=G.toISOString().split("T")[0];B.set(ae,{date:ae,messageCount:0,userFeedbackCount:0,userGoodCount:0,userBadCount:0,adminFeedbackCount:0,adminGoodCount:0,adminBadCount:0,correctedResponseCount:0,uniqueUsers:new Set})}const F=new Set;let C=0,V=0;console.warn("⚠️ Chat table missing chat_id field - feedback will be estimated by day proportion"),I.forEach(G=>{if(!G.created_at)return;const ae=new Date(G.created_at).toISOString().split("T")[0],q=B.get(ae);q&&(q.messageCount++,q.uniqueUsers.add(G.user_id),F.add(G.user_id))}),A.forEach(G=>{if(!G.created_at)return;const ae=new Date(G.created_at).toISOString().split("T")[0],q=B.get(ae);q&&(q.userFeedbackCount++,G.reaction==="good"&&q.userGoodCount++,G.reaction==="bad"&&q.userBadCount++,C++)}),R.forEach(G=>{const ae=new Date(G.updated_at||G.created_at||"").toISOString().split("T")[0],q=B.get(ae);q&&(q.adminFeedbackCount++,G.feedback_verdict==="good"&&q.adminGoodCount++,G.feedback_verdict==="bad"&&q.adminBadCount++,G.corrected_response&&q.correctedResponseCount++,V++)}),console.log("🔍 Feedback distribution by date:",{totalChats:I.length,userFeedbackDistributed:C,adminFeedbackDistributed:V,totalUserFeedbacks:A.length,totalAdminFeedbacks:R.length});const D=Array.from(B.values()).find(G=>G.userFeedbackCount>0||G.adminFeedbackCount>0);D?console.log("📊 Sample day with feedback:",{date:D.date,messages:D.messageCount,userFeedback:D.userFeedbackCount,adminFeedback:D.adminFeedbackCount,corrected:D.correctedResponseCount}):console.log("⚠️ No days with feedback data found"),console.log("💡 To fix: Add chat_id column to Supabase chat table to match feedback.chat_id");const _=Array.from(B.values());i(_);const Y=_.reduce((G,ae)=>G+ae.messageCount,0),J=_.reduce((G,ae)=>G+ae.userFeedbackCount,0),te=_.reduce((G,ae)=>G+ae.userGoodCount,0),ce=_.reduce((G,ae)=>G+ae.adminFeedbackCount,0),Fe=_.reduce((G,ae)=>G+ae.adminGoodCount,0),Z=_.reduce((G,ae)=>G+ae.correctedResponseCount,0);o({totalMessages:Y,avgPerDay:_.length>0?Math.round(Y/_.length*10)/10:0,totalUserFeedback:J,totalAdminFeedback:ce,totalCorrected:Z,uniqueUsers:F.size,userSatisfaction:J>0?Math.round(te/J*100):0,adminApproval:ce>0?Math.round(Fe/ce*100):0}),console.log("📈 Stats:",{totalMessages:Y,totalUserFeedback:J,totalAdminFeedback:ce,daysWithData:_.filter(G=>G.messageCount>0).length})}catch(I){console.error("Failed to load daily message activity:",I)}finally{l(!1)}},E=I=>c==="messages"?I.messageCount:c==="feedback"?I.userFeedbackCount:I.adminFeedbackCount,O=I=>{if(c==="feedback"){const A=I.userFeedbackCount;return A>0?Math.round(I.userGoodCount/A*100):null}else if(c==="admin"){const A=I.adminFeedbackCount;return A>0?Math.round(I.adminGoodCount/A*100):null}return null},P=I=>{const A=new Date(I),R=A.getMonth()+1,M=A.getDate(),U=A.toLocaleDateString("en-US",{weekday:"short"});return`${R}/${M} ${U}`},N=Math.max(...r.map(I=>E(I)),1);return d.jsxs("div",{className:"admin-card",style:{marginBottom:"24px"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:n("admin.dailyMessageActivity")}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("select",{value:f,onChange:I=>{const A=I.target.value;h(A),b(A==="custom"),A!=="custom"&&(m(""),v(""))},className:"px-3 py-1 text-sm rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},children:Woe(n).map(I=>d.jsx("option",{value:I.value,children:I.label},I.value))})}),y&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"date",value:p,onChange:I=>{m(I.target.value),g||v(new Date().toISOString().split("T")[0])},className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},max:new Date().toISOString().split("T")[0]}),d.jsx("span",{style:{color:"var(--admin-text-muted)"},children:"to"}),d.jsx("input",{type:"date",value:g,onChange:I=>v(I.target.value),className:"px-2 py-1 text-xs rounded border",style:{backgroundColor:"var(--admin-bg)",color:"var(--admin-text)",borderColor:"var(--admin-border)"},min:p,max:new Date().toISOString().split("T")[0]})]}),d.jsxs("div",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:[S," to ",j]})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"20px"},children:[d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.totalMessages")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-primary)"},children:a.totalMessages}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[n("admin.average"),": ",a.avgPerDay," ",n("admin.avgPerDay")]})]}),d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.userFeedbackCount")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-success)"},children:a.totalUserFeedback}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.userSatisfaction,"% ",n("admin.satisfaction")]})]}),d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.adminReviews")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-accent)"},children:a.totalAdminFeedback}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.adminApproval,"% ",n("admin.approval")]})]}),d.jsxs("div",{style:{padding:"12px 16px",borderRadius:"8px",backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:[d.jsx("div",{style:{fontSize:"11px",color:"var(--admin-text-muted)",marginBottom:"4px"},children:n("admin.corrected")}),d.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--admin-warning, #ff9800)"},children:a.totalCorrected}),d.jsxs("div",{style:{fontSize:"10px",color:"var(--admin-text-muted)"},children:[a.uniqueUsers," ",n("admin.uniqueUsers")]})]})]}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsx("button",{onClick:()=>u("messages"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="messages"?"font-semibold":""}`,style:{backgroundColor:c==="messages"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:c==="messages"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.messages")}),d.jsx("button",{onClick:()=>u("feedback"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="feedback"?"font-semibold":""}`,style:{backgroundColor:c==="feedback"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:c==="feedback"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.userFeedbackCount")}),d.jsx("button",{onClick:()=>u("admin"),className:`px-4 py-2 rounded-md text-sm transition-colors ${c==="admin"?"font-semibold":""}`,style:{backgroundColor:c==="admin"?"var(--admin-accent)":"rgba(9, 14, 34, 0.4)",color:c==="admin"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:n("admin.adminReviews")})]}),s?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"Loading activity data..."})}):r.length===0?d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:"No data available for this period"})}):d.jsxs("div",{children:[d.jsx("div",{style:{height:"200px",display:"flex",alignItems:"flex-end",gap:"8px",padding:"20px 0",borderBottom:"1px solid var(--admin-border)"},children:r.map((I,A)=>{const R=E(I),M=O(I),U=N>0?R/N*100:0;return A<3&&console.log(`📊 Day ${A} (${I.date}):`,{viewMode:c,value:R,score:M,messageCount:I.messageCount,userFeedbackCount:I.userFeedbackCount,adminFeedbackCount:I.adminFeedbackCount,correctedCount:I.correctedResponseCount}),d.jsxs("div",{style:{flex:1,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center",position:"relative"},children:[R>0&&d.jsx("div",{style:{position:"absolute",top:`calc(${100-U}% - 25px)`,backgroundColor:c==="messages"?"var(--admin-primary)":c==="feedback"?"var(--admin-success)":"var(--admin-accent)",color:c==="messages"?"#041220":"#ffffff",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:R}),d.jsx("div",{style:{width:"100%",maxWidth:"40px",height:R>0?`${U}%`:"2px",background:R>0?c==="messages"?"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))":c==="feedback"?"linear-gradient(180deg, var(--admin-success), #0d9488)":"linear-gradient(180deg, var(--admin-accent), #8b5cf6)":"rgba(100, 116, 139, 0.2)",borderRadius:"4px 4px 0 0",cursor:"pointer",transition:"opacity 0.2s"},title:`${P(I.date)}
${R} ${c}${M!==null?`
${M}% positive`:""}`,onMouseEnter:B=>B.currentTarget.style.opacity="0.8",onMouseLeave:B=>B.currentTarget.style.opacity="1"})]},I.date)})}),d.jsx("div",{style:{display:"flex",gap:"8px",paddingTop:"12px"},children:r.map(I=>d.jsx("div",{style:{flex:1,textAlign:"center",fontSize:"10px",color:"var(--admin-text-muted)"},children:P(I.date)},`label-${I.date}`))}),d.jsxs("div",{className:"mt-4 p-3 rounded text-xs flex items-center gap-2",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",color:"var(--admin-text-muted)",border:"1px solid rgba(59, 230, 255, 0.1)"},children:[d.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),d.jsxs("span",{children:[c==="messages"&&"Total messages sent per day",c==="feedback"&&"User feedback received per day",c==="admin"&&"Admin reviews completed per day"]})]})]})]})}async function V_(){try{const e=We();console.log("Fetching latest prompt from Supabase...");const{data:t,error:n}=await e.from("prompts").select("*").order("created_at",{ascending:!1}).limit(1);if(n)throw console.error("Supabase error:",n),new Error(`Failed to fetch prompt: ${n.message}`);if(!t||t.length===0)return console.log("No prompts found in database"),"";const r=t[0];return console.log("✅ Latest prompt fetched:",r.id),r.prompt_text||""}catch(e){throw console.error("Failed to fetch system prompt:",e),e}}async function Hoe(e){try{const t=We();console.log("💾 Creating new prompt in Supabase...");const{data:n,error:r}=await t.from("prompts").insert([{prompt_text:e}]).select();if(r)throw console.error("Supabase error:",r),new Error(`Failed to create prompt: ${r.message}`);const i=n[0];console.log("✅ New prompt created:",i.id)}catch(t){throw console.error("Failed to update system prompt:",t),t}}async function qoe(e=10){try{const t=We();console.log("🔄 Fetching prompt history from Supabase..."),console.log("📊 Query: SELECT id, prompt_text, created_at FROM prompts ORDER BY created_at DESC LIMIT",e);const{data:n,error:r}=await t.from("prompts").select("id, prompt_text, created_at").order("created_at",{ascending:!1}).limit(e);if(console.log("📋 Raw Supabase response:",{data:n,error:r}),r)throw console.error("❌ Supabase error:",r),new Error(`Failed to fetch prompt history: ${r.message}`);return!n||n.length===0?(console.log("⚠️ No prompt history found in database"),[]):(console.log("✅ Prompt history fetched successfully:",n.length,"entries"),console.log("📚 First entry:",n[0]),n)}catch(t){throw console.error("❌ Failed to fetch prompt history:",t),t}}async function Voe(e){try{const t=We();console.log("🗑️ Deleting prompt with ID:",e);const{error:n}=await t.from("prompts").delete().eq("id",e);if(n)throw console.error("❌ Supabase error:",n),new Error(`Failed to delete prompt: ${n.message}`);console.log("✅ Prompt deleted successfully:",e)}catch(t){throw console.error("❌ Failed to delete prompt:",t),t}}async function Goe(){try{const e=await fetch("/prompt-api/force-prompt-reload",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Force reload failed: ${e.status} ${e.statusText}`);return await e.json()}catch(e){return console.error("Force reload failed:",e),{status:"skipped",message:"Force reload endpoint not available"}}}function Yoe(){const{t:e}=Ze(),[t,n]=x.useState(""),[r,i]=x.useState(!0),[a,o]=x.useState(null),[s,l]=x.useState(!1),c=x.useRef(null),[u,f]=x.useState(!1),[h,p]=x.useState(!1),[m,g]=x.useState(!1),[v,y]=x.useState([]),[b,w]=x.useState(!1),[S,j]=x.useState(!1),[k,E]=x.useState({isOpen:!1,promptId:null,promptText:""}),[O,P]=x.useState({isOpen:!1,message:"",isSuccess:!1});x.useEffect(()=>{N()},[]);const N=async()=>{try{console.log("Loading system prompt...");const C=await V_();console.log("System prompt loaded"),n(C),o(new Date)}catch(C){console.error("Failed to load system prompt:",C),P({isOpen:!0,message:C instanceof Error?C.message:"Failed to load system prompt",isSuccess:!1})}finally{i(!1)}},I=async()=>{j(!0);try{console.log("🔄 Loading prompt history...");const C=await qoe(10);console.log("📚 Raw history data:",C),y(C),console.log("✅ Prompt history loaded:",C.length,"entries")}catch(C){console.error("❌ Failed to load prompt history:",C),P({isOpen:!0,message:`Failed to load prompt history: ${C instanceof Error?C.message:"Unknown error"}`,isSuccess:!1})}finally{j(!1)}},A=async()=>{l(!0);try{const C=await V_();n(C),o(new Date)}catch(C){console.error("Failed to refresh system prompt:",C),P({isOpen:!0,message:C instanceof Error?C.message:"Failed to refresh system prompt",isSuccess:!1})}finally{l(!1)}},R=()=>{f(!0)},M=async()=>{p(!0),f(!1);try{console.log("Saving system prompt..."),await Hoe(t),console.log("System prompt saved successfully"),console.log("Attempting force reload...");const C=await Goe();console.log("Force reload result:",C),P({isOpen:!0,message:"System prompt updated successfully!"+(C.status==="skipped"?"":` ${C.message}`),isSuccess:!0}),o(new Date)}catch(C){console.error("Save operation failed:",C),P({isOpen:!0,message:C instanceof Error?C.message:"Failed to update system prompt",isSuccess:!1})}finally{p(!1)}},U=()=>{f(!1)},B=()=>{P({isOpen:!1,message:"",isSuccess:!1})},L=(C,V)=>{E({isOpen:!0,promptId:C,promptText:V.substring(0,100)+(V.length>100?"...":"")})},T=async()=>{if(k.promptId)try{console.log("🗑️ Deleting prompt:",k.promptId),await Voe(k.promptId),y(C=>C.filter(V=>V.id!==k.promptId)),P({isOpen:!0,message:"Prompt deleted successfully!",isSuccess:!0})}catch(C){console.error("❌ Failed to delete prompt:",C),P({isOpen:!0,message:`Failed to delete prompt: ${C instanceof Error?C.message:"Unknown error"}`,isSuccess:!1})}finally{E({isOpen:!1,promptId:null,promptText:""})}},F=()=>{E({isOpen:!1,promptId:null,promptText:""})};return d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:e("admin.systemPrompt")}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>{w(!b),!b&&v.length===0&&I()},className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:"📚 History"}),d.jsx("button",{onClick:()=>g(!m),className:"px-3 py-1 text-xs rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:m?"📉 Collapse":"📈 Expand"}),a&&d.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:[e("admin.lastRefreshed"),": ",a.toLocaleString()]}),d.jsx("button",{className:"icon-btn",onClick:A,disabled:s,title:e("actions.refresh"),children:d.jsx(mp,{size:18,className:s?"animate-spin":""})})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("textarea",{ref:c,className:"w-full p-3 rounded-md font-mono text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",border:"1px solid rgba(59, 230, 255, 0.15)",color:"var(--admin-text)",minHeight:m?"80vh":"300px",maxHeight:m?"none":"400px",resize:m?"none":"vertical"},placeholder:r?e("admin.loading"):"Enter your prompt instructions here...",value:t,onChange:C=>n(C.target.value),disabled:r}),b&&d.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h4",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:"📚 Prompt History"}),d.jsx("button",{onClick:I,disabled:S,className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20 disabled:opacity-50",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},children:S?"⏳ Loading...":"🔄 Refresh"})]}),S?d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"🔄 Loading history..."}):v.length===0?d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:'No history available. Click "Refresh" to load.'}):d.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:v.map((C,V)=>d.jsxs("div",{className:"p-3 rounded border hover:bg-blue-500/10 transition-colors",style:{borderColor:"var(--admin-border)",backgroundColor:V===0?"rgba(59, 230, 255, 0.1)":"transparent"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-medium",style:{color:"var(--admin-text)"},children:V===0?"🟢 Current":`#${V+1}`}),d.jsx("button",{onClick:D=>{D.stopPropagation(),n(C.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary)",border:"1px solid rgba(59, 230, 255, 0.3)"},title:"Load this prompt",children:"📥 Load"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date(C.created_at).toLocaleString()}),V>0&&d.jsx("button",{onClick:D=>{D.stopPropagation(),L(C.id,C.prompt_text)},className:"text-xs px-2 py-1 rounded transition-colors hover:bg-red-500/20",style:{color:"var(--admin-danger)",border:"1px solid rgba(239, 68, 68, 0.3)"},title:"Delete this prompt",children:"🗑️ Delete"})]})]}),d.jsx("p",{className:"text-xs font-mono whitespace-pre-wrap overflow-hidden",style:{color:"var(--admin-text-muted)",maxHeight:"60px",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:C.prompt_text})]},C.id))})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-6 py-2 rounded-md font-medium transition-all",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:r||h?.5:1,cursor:r||h?"not-allowed":"pointer"},onClick:R,disabled:r||h,children:e(r?"admin.loading":h?"admin.saving":"admin.saveChanges")})})]}),u&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:d.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:"var(--admin-text)"},children:e("admin.confirmUpdate")}),d.jsx("p",{className:"mb-6",style:{color:"var(--admin-text-muted)"},children:e("admin.confirmUpdateMessage")}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"transparent",border:"1px solid rgba(59,230,255,0.16)",color:"var(--admin-text)"},onClick:U,children:e("admin.cancel")}),d.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:M,children:e("admin.confirm")})]})]})}),O.isOpen&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(124,140,255,0.12), transparent 60%), rgba(3,8,28,0.55)",backdropFilter:"blur(6px)"},children:d.jsxs("div",{className:"admin-card max-w-md w-full mx-4",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:O.isSuccess?"var(--admin-success)":"var(--admin-danger)"},children:O.isSuccess?e("admin.success"):e("admin.error")}),d.jsx("p",{className:"mb-6",style:{color:"var(--admin-text)"},children:O.message}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{className:"px-4 py-2 rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},onClick:B,children:e("admin.close")})})]})}),k.isOpen&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{background:"radial-gradient(600px 400px at 50% 0%, rgba(239,68,68,0.15), transparent 60%), rgba(3,8,28,0.75)",backdropFilter:"blur(8px)"},children:d.jsxs("div",{className:"admin-card max-w-lg w-full mx-4 border-2",style:{borderColor:"var(--admin-danger)"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 p-4 rounded-lg",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:[d.jsx("div",{className:"text-2xl",children:"⚠️"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-danger)"},children:"DANGER: Permanent Deletion"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"This action cannot be undone!"})]})]}),d.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2",style:{backgroundColor:"rgba(239, 68, 68, 0.05)",borderColor:"rgba(239, 68, 68, 0.3)"},children:[d.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-danger)"},children:"⚠️ WARNING: You are about to permanently delete this prompt!"}),d.jsxs("ul",{className:"text-sm space-y-1",style:{color:"var(--admin-text)"},children:[d.jsxs("li",{children:["• This action ",d.jsx("strong",{children:"CANNOT BE UNDONE"})]}),d.jsxs("li",{children:["• The prompt will be ",d.jsx("strong",{children:"permanently removed"})," from the database"]}),d.jsxs("li",{children:["• You will ",d.jsx("strong",{children:"lose access"})," to this prompt forever"]}),d.jsxs("li",{children:["• This may affect ",d.jsx("strong",{children:"chatbot behavior"})," if this was the active prompt"]})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Prompt to be deleted:"}),d.jsx("div",{className:"p-3 rounded border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"rgba(239, 68, 68, 0.2)"},children:d.jsx("p",{className:"text-sm font-mono whitespace-pre-wrap",style:{color:"var(--admin-text-muted)"},children:k.promptText})})]}),d.jsx("div",{className:"mb-6 p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)"},children:d.jsx("p",{className:"text-sm font-bold text-center",style:{color:"var(--admin-danger)"},children:"Are you absolutely sure you want to proceed?"})}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{className:"px-6 py-3 rounded-md font-semibold transition-all hover:scale-105",style:{background:"transparent",border:"2px solid rgba(59,230,255,0.3)",color:"var(--admin-primary)"},onClick:F,children:"✅ Cancel (Safe)"}),d.jsx("button",{className:"px-6 py-3 rounded-md font-bold transition-all hover:scale-105",style:{background:"linear-gradient(180deg, #dc2626, #b91c1c)",color:"white",boxShadow:"0 4px 14px 0 rgba(239, 68, 68, 0.4)"},onClick:T,children:"🗑️ DELETE FOREVER"})]})]})})]})}function Joe({scrollToChatId:e,highlightedChatId:t,onScrollComplete:n}){const{t:r}=Ze(),[i,a]=x.useState([]),[o,s]=x.useState([]),[l,c]=x.useState(!0),[u,f]=x.useState(null),[h,p]=x.useState(!1),[m,g]=x.useState(null),[v,y]=x.useState(""),[b,w]=x.useState(""),[S,j]=x.useState(!1),[k,E]=x.useState(""),[O,P]=x.useState("date-desc"),[N,I]=x.useState(10),[A,R]=x.useState("CSV"),[M,U]=x.useState(null),[B,L]=x.useState(null),[T,F]=x.useState(null),[C,V]=x.useState(new Set),[D,_]=x.useState(null);x.useEffect(()=>{Y()},[]),x.useEffect(()=>{te()},[i,k,O,M,B,T]),x.useEffect(()=>{if(e){const H=document.getElementById(`chat-${e}`);H&&(H.scrollIntoView({behavior:"smooth",block:"center"}),n==null||n())}},[e,n]);const Y=async()=>{c(!0),f(null);try{const[H,oe]=await Promise.all([Lf(50),Ba()]),me=new Map;oe.forEach(Ve=>{me.set(Ve.chat_id,Ve)});const Xe=await Promise.all(H.map(async Ve=>{const K=await Hd(Ve.chat_id);return{...Ve,user_feedback:me.get(Ve.chat_id)||null,admin_feedback:K}}));a(Xe)}catch(H){console.error("Failed to load conversations:",H);const oe=H instanceof Error?H.message:"Failed to load conversations";oe.includes("Could not find the table")||oe.includes("PGRST")?f(`Database table not accessible. Please check:
1. Table "chat" exists in Supabase
2. Row Level Security (RLS) policies allow SELECT
3. Supabase URL and key are correct`):f(oe)}finally{c(!1)}},J=async()=>{p(!0);try{const[H,oe]=await Promise.all([Lf(50),Ba()]),me=new Map;oe.forEach(Ve=>{me.set(Ve.chat_id,Ve)});const Xe=H.map(Ve=>({...Ve,user_feedback:me.get(Ve.chat_id)||null}));a(Xe)}catch(H){console.error("Failed to refresh conversations:",H),f(H instanceof Error?H.message:"Failed to refresh conversations")}finally{p(!1)}},te=()=>{let H=[...i];if(M&&(H=H.filter(oe=>oe.session_id===M)),B&&(H=H.filter(oe=>oe.user_id===B)),T&&(H=H.filter(oe=>{if(!oe.created_at)return!1;const me=new Date(oe.created_at).toDateString(),Xe=new Date(T).toDateString();return me===Xe})),k){const oe=k.toLowerCase();H=H.filter(me=>{var Xe,Ve,K,ee,se;return((Xe=me.user_id)==null?void 0:Xe.toLowerCase().includes(oe))||String(me.id||"").toLowerCase().includes(oe)||((Ve=me.chat_id)==null?void 0:Ve.toLowerCase().includes(oe))||((K=me.session_id)==null?void 0:K.toLowerCase().includes(oe))||((ee=me.chat_message)==null?void 0:ee.toLowerCase().includes(oe))||((se=me.response)==null?void 0:se.toLowerCase().includes(oe))})}H.sort((oe,me)=>{switch(O){case"date-desc":return new Date(me.created_at||"").getTime()-new Date(oe.created_at||"").getTime();case"date-asc":return new Date(oe.created_at||"").getTime()-new Date(me.created_at||"").getTime();case"user":return(oe.user_id||"").localeCompare(me.user_id||"");default:return 0}}),s(H)},ce=H=>{if(!H)return"N/A";try{return new Date(H).toLocaleString()}catch{return H}},Fe=(H,oe=100)=>H.length<=oe?H:H.substring(0,oe)+"...",Z=async(H,oe)=>{const me=await Hd(H.chat_id);if(me&&me.feedback_verdict!==oe){const Xe=me.feedback_verdict==="good"?"positive":"negative",Ve=oe==="good"?"positive":"negative";if(!window.confirm(`A ${Xe} feedback was already provided for this chat message/response. Are you sure you would like to change it to a ${Ve} review? This will remove the previously saved ${Xe} feedback.`))return}g({chatId:H.chat_id,userMessage:H.chat_message||"",aiResponse:H.response||"",verdict:oe,existingFeedback:me}),me?(y(me.feedback_text||""),w(me.corrected_response||"")):(y(""),w(""))},G=async()=>{if(m){if(m.verdict==="bad"&&!v&&!b){alert("For negative feedback, please provide either supervisor feedback or corrected response.");return}j(!0);try{await bN(m.chatId,m.verdict,v,b),g(null),y(""),w(""),alert("Admin feedback submitted successfully!"),J()}catch(H){console.error("Failed to submit admin feedback:",H),alert("Failed to submit feedback. Please try again.")}finally{j(!1)}}},ae=()=>{g(null),y(""),w("")},q=H=>{V(oe=>{const me=new Set(oe);return me.has(H)?me.delete(H):me.add(H),me})},at=async H=>{try{const oe=i.find(me=>me.chat_id===H);oe&&oe.user_feedback?_({chatId:H,feedback:oe.user_feedback}):_({chatId:H,feedback:null})}catch(oe){console.error("Error fetching user feedback:",oe),_({chatId:H,feedback:null})}},Se=async H=>{const oe=H.admin_feedback;oe&&(y(oe.feedback_text||""),w(oe.corrected_response||""),g({chatId:H.chat_id,userMessage:H.chat_message||"",aiResponse:H.response||"",verdict:oe.feedback_verdict,existingFeedback:oe}))},et=H=>{M===H?U(null):(U(H),L(null))},W=H=>{B===H?L(null):(L(H),U(null))},_e=H=>{T===H?F(null):(F(H),U(null),L(null))},oo=()=>{U(null),L(null),F(null),E("")},tu=()=>{if(o.length===0){alert("No conversations to export");return}const H=o.map(oe=>({chatId:oe.id,userId:oe.user_id||"",createdAt:oe.created_at||"",userMessage:oe.chat_message||"",aiResponse:oe.response||""}));if(A==="CSV"){const oe=["Chat ID","User ID","Created At","User Message","AI Response"],me=H.map(se=>[se.chatId,se.userId,se.createdAt,`"${se.userMessage.replace(/"/g,'""')}"`,`"${se.aiResponse.replace(/"/g,'""')}"`]),Xe=[oe,...me].map(se=>se.join(",")).join(`
`),Ve=new Blob([Xe],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),ee=URL.createObjectURL(Ve);K.setAttribute("href",ee),K.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)}else{const oe=JSON.stringify(H,null,2),me=new Blob([oe],{type:"application/json;charset=utf-8;"}),Xe=document.createElement("a"),Ve=URL.createObjectURL(me);Xe.setAttribute("href",Ve),Xe.setAttribute("download",`recent-conversations-${new Date().toISOString().split("T")[0]}.json`),Xe.style.visibility="hidden",document.body.appendChild(Xe),Xe.click(),document.body.removeChild(Xe)}};if(l)return d.jsx("div",{className:"admin-card",children:d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:r("admin.loading")})})});if(u)return d.jsx("div",{className:"admin-card",children:d.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:r("admin.error")}),d.jsx("p",{className:"text-sm whitespace-pre-line mb-3",children:u}),u.includes("Row Level Security")&&d.jsxs("div",{className:"mt-3 p-3 rounded text-xs",style:{backgroundColor:"rgba(0,0,0,0.2)",color:"var(--admin-text-muted)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:"To fix RLS in Supabase:"}),d.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[d.jsx("li",{children:"Go to Supabase Dashboard → Table Editor"}),d.jsx("li",{children:'Select "chat" table'}),d.jsx("li",{children:'Click "RLS" tab'}),d.jsx("li",{children:'Add policy: "Enable read access for all users"'}),d.jsxs("li",{children:["Policy command: ",d.jsx("code",{children:"SELECT"}),", Target roles: ",d.jsx("code",{children:"anon"})]})]})]}),d.jsx("button",{onClick:Y,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:r("actions.refresh")})]})});const Us=o.slice(0,N);return d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[r("admin.recentConversations")," (",o.length,")"]}),d.jsx("button",{className:"icon-btn",onClick:J,disabled:h,title:r("actions.refresh"),children:d.jsx(mp,{size:18,className:h?"animate-spin":""})})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.sortBy"),":"]}),d.jsxs("select",{value:O,onChange:H=>P(H.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx("option",{value:"date-desc",children:r("admin.dateTimeNewest")}),d.jsx("option",{value:"date-asc",children:r("admin.dateTimeOldest")}),d.jsxs("option",{value:"user",children:[r("admin.user")," ID"]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[d.jsxs("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:[r("admin.search"),":"]}),d.jsx("input",{type:"text",placeholder:r("admin.searchConversations"),value:k,onChange:H=>E(H.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(M||B||T)&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),M&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(34, 197, 94, 0.2)",color:"var(--admin-success)"},children:["Session: ",M]}),B&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",B]}),T&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(T).toLocaleDateString()]}),d.jsx("button",{onClick:oo,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:"✕ Clear"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:A,onChange:H=>R(H.target.value),children:[d.jsx("option",{children:"CSV"}),d.jsx("option",{children:"JSON"})]}),d.jsx("button",{onClick:tu,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),Us.length===0?d.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:d.jsx("p",{children:k?"No conversations match your search":"No conversations found"})}):d.jsx("div",{className:"space-y-3",children:Us.map(H=>d.jsxs("div",{id:`chat-${H.chat_id}`,className:"p-4 rounded-lg border transition-all duration-500",style:{backgroundColor:t===H.chat_id?"rgba(59, 230, 255, 0.15)":"rgba(9, 14, 34, 0.4)",borderColor:t===H.chat_id?"var(--admin-primary)":"var(--admin-border)",boxShadow:t===H.chat_id?"0 0 20px rgba(59, 230, 255, 0.3)":"none"},children:[d.jsx("div",{className:"flex items-start justify-between mb-2",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["User:",d.jsx("button",{onClick:()=>W(H.user_id),className:`ml-1 hover:underline cursor-pointer ${B===H.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:H.user_id})]}),d.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",H.chat_id]}),H.session_id&&d.jsxs("p",{className:"text-xs mb-1",style:{color:"var(--admin-text-muted)"},children:["Session:",d.jsx("button",{onClick:()=>et(H.session_id),className:`ml-1 hover:underline cursor-pointer ${M===H.session_id?"text-green-400 font-semibold":"text-green-300"}`,title:"Click to filter by this session",children:H.session_id})]}),d.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:d.jsx("button",{onClick:()=>_e(H.created_at||""),className:`hover:underline cursor-pointer ${T===H.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:ce(H.created_at)})})]})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:[r("admin.userMessage"),":"]}),d.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>q(H.chat_id),title:"Click to expand/collapse",children:[C.has(H.chat_id)?H.chat_message:Fe(H.chat_message),!C.has(H.chat_id)&&H.chat_message.length>100&&d.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:[r("admin.aiResponse"),":"]}),d.jsxs("p",{className:"text-sm cursor-pointer hover:bg-gray-100/10 p-2 rounded transition-colors",style:{color:"var(--admin-text)"},onClick:()=>q(H.chat_id),title:"Click to expand/collapse",children:[C.has(H.chat_id)?H.response:Fe(H.response),!C.has(H.chat_id)&&H.response.length>100&&d.jsx("span",{className:"text-blue-400 ml-1",children:"... (click to expand)"})]})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t",style:{borderColor:"var(--admin-border)"},children:[d.jsx("div",{className:"flex items-center gap-2",children:H.user_feedback?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"User:"}),H.user_feedback.reaction==="good"?d.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[d.jsx(Ti,{size:14}),d.jsx("span",{className:"text-xs",children:"+"})]}):d.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[d.jsx(Ii,{size:14}),d.jsx("span",{className:"text-xs",children:"-"})]}),d.jsx("button",{onClick:()=>at(H.chat_id),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View user feedback details",children:"Details"})]}):d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"No user feedback"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Admin:"}),H.admin_feedback?d.jsxs("div",{className:"flex items-center gap-2",children:[H.admin_feedback.feedback_verdict==="good"?d.jsxs("div",{className:"flex items-center gap-1 text-green-500",children:[d.jsx(Ti,{size:14}),d.jsx("span",{className:"text-xs",children:"Good"})]}):d.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[d.jsx(Ii,{size:14}),d.jsx("span",{className:"text-xs",children:"Bad"})]}),d.jsx("button",{onClick:()=>Se(H),className:"text-xs px-1.5 py-0.5 rounded transition-colors hover:bg-blue-500/20",style:{color:"var(--admin-primary, #3be6ff)"},title:"View/Edit admin feedback",children:"Edit"})]}):d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>Z(H,"good"),className:"p-1.5 rounded transition-colors hover:bg-green-500/20",title:"Mark as good",children:d.jsx(Ti,{size:14,style:{color:"var(--admin-success, #10b981)"}})}),d.jsx("button",{onClick:()=>Z(H,"bad"),className:"p-1.5 rounded transition-colors hover:bg-red-500/20",title:"Mark as bad",children:d.jsx(Ii,{size:14,style:{color:"var(--admin-danger, #ef4444)"}})})]})]})]})]},H.id))}),o.length>N&&d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("button",{onClick:()=>I(H=>H+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",o.length-N," remaining)"]})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"rounded-lg max-w-2xl w-full mx-4",style:{backgroundColor:"var(--admin-bg-card)",border:"1px solid var(--admin-border)",maxHeight:"90vh",overflow:"auto"},children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:[m.existingFeedback?"✏️ Edit Admin Feedback":"Admin Feedback"," ",m.verdict==="good"?"👍":"👎"]}),d.jsx("button",{onClick:ae,className:"p-1 hover:bg-gray-100/10 rounded",style:{color:"var(--admin-text-secondary)"},children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.userMessage"),":"]}),d.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.userMessage})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-xs font-medium mb-2",style:{color:"var(--admin-text-muted)"},children:[r("admin.aiResponse"),":"]}),d.jsx("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",border:"1px solid var(--admin-border)"},children:d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:m.aiResponse})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Supervisor Feedback:"}),d.jsx("textarea",{value:v,onChange:H=>y(H.target.value),placeholder:"Explain what was wrong with this response...",className:"w-full h-24 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--admin-text)"},children:"Corrected Response:"}),d.jsx("textarea",{value:b,onChange:H=>w(H.target.value),placeholder:"Enter the corrected response...",className:"w-full h-32 resize-none text-sm p-3 rounded",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),d.jsxs("div",{className:"flex justify-end gap-3",children:[d.jsx("button",{onClick:ae,disabled:S,className:"px-4 py-2 text-sm font-medium rounded-md",style:{backgroundColor:"transparent",border:"1px solid var(--admin-border)",color:"var(--admin-text)"},children:"Cancel"}),d.jsx("button",{onClick:G,disabled:S,className:"px-6 py-2 text-sm font-medium rounded-md",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220",opacity:S?.6:1},children:S?"Submitting...":"Submit"})]})]})})}),D&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-3xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(10px)",opacity:1,background:"var(--admin-card)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold flex items-center gap-2",style:{color:"var(--admin-text)"},children:"📝 User Feedback Details"}),d.jsx("button",{onClick:()=>_(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:d.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--admin-text)"},children:"Chat ID:"}),d.jsx("span",{className:"text-xs font-mono px-2 py-1 rounded",style:{backgroundColor:"var(--admin-primary)",color:"white"},children:D.chatId})]}),d.jsx("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:new Date().toLocaleString()})]}),D.feedback?d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex items-center gap-4 p-4 rounded-lg border-2",style:{borderColor:D.feedback.reaction==="good"?"#10b981":"#ef4444",backgroundColor:D.feedback.reaction==="good"?"#f0fdf4":"#fef2f2"},children:d.jsxs("div",{className:"flex items-center gap-2",children:[D.feedback.reaction==="good"?d.jsx(Ti,{size:24,className:"text-green-600"}):d.jsx(Ii,{size:24,className:"text-red-600"}),d.jsx("span",{className:"font-semibold text-lg",style:{color:D.feedback.reaction==="good"?"#059669":"#dc2626"},children:D.feedback.reaction==="good"?"Positive Feedback":"Negative Feedback"})]})}),D.feedback.feedback_text&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2 flex items-center gap-2",style:{color:"var(--admin-text)"},children:"💬 User's Comment:"}),d.jsx("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:d.jsxs("p",{className:"text-sm leading-relaxed",style:{color:"var(--admin-text)"},children:['"',D.feedback.feedback_text,'"']})})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--admin-text-muted)"},children:[d.jsx("span",{children:"📅"}),d.jsxs("span",{children:["Feedback submitted: ",new Date(D.feedback.created_at).toLocaleString()]})]})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-6xl mb-4",children:"😶"}),d.jsx("p",{className:"text-lg",style:{color:"var(--admin-text-muted)"},children:"No user feedback found for this chat."})]})]}),d.jsx("div",{className:"flex justify-center mt-8",children:d.jsx("button",{onClick:()=>_(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})}function Xoe({onScrollToChat:e}){const{t}=Ze(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[v,y]=x.useState("all"),[b,w]=x.useState(10),[S,j]=x.useState("CSV"),[k,E]=x.useState(null),[O,P]=x.useState(null);x.useEffect(()=>{N()},[]),x.useEffect(()=>{A()},[n,h,m,v,k,O]);const N=async()=>{s(!0),c(null);try{const D=await Ba();r(D)}catch(D){console.error("Failed to load user feedback:",D),c(D instanceof Error?D.message:"Failed to load user feedback")}finally{s(!1)}},I=async()=>{f(!0);try{const D=await Ba();r(D)}catch(D){console.error("Failed to refresh user feedback:",D),c(D instanceof Error?D.message:"Failed to refresh user feedback")}finally{f(!1)}},A=()=>{let D=[...n];if(v!=="all"&&(D=D.filter(_=>_.reaction===v)),k&&(D=D.filter(_=>_.user_id===k)),O&&(D=D.filter(_=>{if(!_.created_at)return!1;const Y=new Date(_.created_at).toDateString(),J=new Date(O).toDateString();return Y===J})),h){const _=h.toLowerCase();D=D.filter(Y=>{var J,te,ce;return((J=Y.user_id)==null?void 0:J.toLowerCase().includes(_))||((te=Y.chat_id)==null?void 0:te.toLowerCase().includes(_))||((ce=Y.feedback_text)==null?void 0:ce.toLowerCase().includes(_))})}D.sort((_,Y)=>{switch(m){case"date-desc":return new Date(Y.created_at||"").getTime()-new Date(_.created_at||"").getTime();case"date-asc":return new Date(_.created_at||"").getTime()-new Date(Y.created_at||"").getTime();case"user":return(_.user_id||"").localeCompare(Y.user_id||"");default:return 0}}),a(D)},R=async D=>{const _=n.find(Y=>Y.id===D);if(_)if(!_.isExpanded&&!_.chatData){console.log(`Fetching chat data for feedback ${D} with chat_id: ${_.chat_id}`);const Y=await qD(_.chat_id);Y?(console.log(`✅ Successfully loaded chat data for ${_.chat_id}`),r(J=>J.map(te=>te.id===D?{...te,chatData:Y,isExpanded:!0}:te))):(console.warn(`❌ Could not load chat data for ${_.chat_id}. This might be due to a chat_id mismatch.`),r(J=>J.map(te=>te.id===D?{...te,chatData:null,isExpanded:!0}:te)))}else r(Y=>Y.map(J=>J.id===D?{...J,isExpanded:!J.isExpanded}:J))},M=D=>{if(!D)return"N/A";try{return new Date(D).toLocaleString()}catch{return D}},U=D=>D==="good"?d.jsx(Ti,{size:16,style:{color:"var(--admin-success)"}}):D==="bad"?d.jsx(Ii,{size:16,style:{color:"var(--admin-danger)"}}):d.jsx("span",{className:"text-xs",children:D}),B=(D,_=150)=>D?D.length<=_?D:D.substring(0,_)+"...":"",L=D=>{k===D?E(null):(E(D),P(null))},T=D=>{O===D?P(null):(P(D),E(null))},F=()=>{E(null),P(null),p(""),y("all")},C=()=>{if(i.length===0){alert("No feedback to export");return}const D=i.map(_=>{var Y,J;return{feedbackId:_.id,chatId:_.chat_id,userId:_.user_id||"",reaction:_.reaction||"",feedbackText:_.feedback_text||"",createdAt:_.created_at||"",userMessage:((Y=_.chatData)==null?void 0:Y.chat_message)||"",aiResponse:((J=_.chatData)==null?void 0:J.response)||""}});if(S==="CSV"){const _=["Feedback ID","Chat ID","User ID","Reaction","Feedback Text","Created At","User Message","AI Response"],Y=D.map(Z=>[Z.feedbackId,Z.chatId,Z.userId,Z.reaction,`"${Z.feedbackText.replace(/"/g,'""')}"`,Z.createdAt,`"${Z.userMessage.replace(/"/g,'""')}"`,`"${Z.aiResponse.replace(/"/g,'""')}"`]),J=[_,...Y].map(Z=>Z.join(",")).join(`
`),te=new Blob([J],{type:"text/csv;charset=utf-8;"}),ce=document.createElement("a"),Fe=URL.createObjectURL(te);ce.setAttribute("href",Fe),ce.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.csv`),ce.style.visibility="hidden",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)}else{const _=JSON.stringify(D,null,2),Y=new Blob([_],{type:"application/json;charset=utf-8;"}),J=document.createElement("a"),te=URL.createObjectURL(Y);J.setAttribute("href",te),J.setAttribute("download",`user-feedback-${new Date().toISOString().split("T")[0]}.json`),J.style.visibility="hidden",document.body.appendChild(J),J.click(),document.body.removeChild(J)}};if(o)return d.jsx("div",{className:"admin-card",children:d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})});if(l)return d.jsx("div",{className:"admin-card",children:d.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),d.jsx("p",{className:"text-sm",children:l}),d.jsx("button",{onClick:N,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})});const V=i.slice(0,b);return d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["User Feedback (",i.length,")"]}),d.jsx("button",{className:"icon-btn",onClick:I,disabled:u,title:t("actions.refresh"),children:d.jsx(mp,{size:18,className:u?"animate-spin":""})})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),d.jsxs("select",{value:m,onChange:D=>g(D.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),d.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),d.jsx("option",{value:"user",children:"User ID"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),d.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:D=>p(D.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),(k||O)&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"Filters:"}),k&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(59, 130, 246, 0.2)",color:"var(--admin-primary)"},children:["User: ",k]}),O&&d.jsxs("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(168, 85, 247, 0.2)",color:"var(--admin-accent)"},children:["Date: ",new Date(O).toLocaleDateString()]}),d.jsx("button",{onClick:F,className:"px-2 py-1 rounded text-xs hover:bg-gray-500/20",style:{color:"var(--admin-text-muted)"},title:"Clear all filters",children:"✕ Clear"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},value:S,onChange:D=>j(D.target.value),children:[d.jsx("option",{children:"CSV"}),d.jsx("option",{children:"JSON"})]}),d.jsx("button",{onClick:C,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),d.jsxs("div",{className:"mb-4 flex gap-2",children:[d.jsxs("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${v==="all"?"font-semibold":""}`,style:{backgroundColor:v==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:v==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),d.jsxs("button",{onClick:()=>y("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${v==="good"?"font-semibold":""}`,style:{backgroundColor:v==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:v==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ti,{size:14})," Good (",n.filter(D=>D.reaction==="good").length,")"]}),d.jsxs("button",{onClick:()=>y("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${v==="bad"?"font-semibold":""}`,style:{backgroundColor:v==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:v==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ii,{size:14})," Bad (",n.filter(D=>D.reaction==="bad").length,")"]})]}),V.length===0?d.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:d.jsx("p",{children:h||v!=="all"?"No feedback matches your filters":"No user feedback found"})}):d.jsx("div",{className:"space-y-3",children:V.map(D=>d.jsxs("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)"},children:[d.jsxs("div",{className:"p-4 cursor-pointer hover:bg-opacity-60 transition-colors",onClick:()=>R(D.id),children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[U(D.reaction),d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["User:",d.jsx("button",{onClick:_=>{_.stopPropagation(),L(D.user_id)},className:`ml-1 hover:underline cursor-pointer ${k===D.user_id?"text-blue-400 font-semibold":"text-blue-300"}`,title:"Click to filter by this user",children:D.user_id})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:_=>{_.stopPropagation(),T(D.created_at||"")},className:`text-xs hover:underline cursor-pointer ${O===D.created_at?"text-purple-400 font-semibold":"text-purple-300"}`,title:"Click to filter by this date",children:M(D.created_at)}),d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{color:"var(--admin-text-muted)",transform:D.isExpanded?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:d.jsx("polyline",{points:"6 9 12 15 18 9"})})]})]}),d.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",d.jsx("button",{onClick:()=>e==null?void 0:e(D.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:D.chat_id})]}),D.feedback_text&&d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:B(D.feedback_text)})]}),D.isExpanded&&d.jsx("div",{className:"border-t p-4",style:{borderColor:"var(--admin-border)"},children:D.chatData?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"User Message:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:D.chatData.chat_message})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-accent)"},children:"AI Response:"}),d.jsx("button",{onClick:()=>e==null?void 0:e(D.chat_id),className:"text-sm text-left w-full p-2 rounded hover:bg-blue-500/10 transition-colors cursor-pointer",style:{color:"var(--admin-text)"},title:"Click to scroll to this chat in Recent Conversations",children:D.chatData.response})]})]}):D.chatData===null?d.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[d.jsx("p",{className:"text-sm font-medium mb-1",style:{color:"var(--admin-danger)"},children:"⚠️ Chat data not found"}),d.jsx("p",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:"The chat associated with this feedback could not be loaded. This might be due to a mismatch between the feedback chat_id and the chat table ID format."}),d.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--admin-text-muted)"},children:["Chat ID: ",D.chat_id]})]}):d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text-muted)"},children:"Loading chat details..."})})]},D.id))}),i.length>b&&d.jsx("div",{className:"mt-4 text-center",children:d.jsxs("button",{onClick:()=>w(D=>D+10),className:"px-6 py-2 rounded-md text-sm font-medium",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:["Load More (",i.length-b," remaining)"]})})]})}function Qoe({onScrollToChat:e}){const{t}=Ze(),[n,r]=x.useState([]),[i,a]=x.useState([]),[o,s]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState("date-desc"),[v,y]=x.useState("all"),[b,w]=x.useState(null),[S,j]=x.useState(null);x.useEffect(()=>{k()},[]),x.useEffect(()=>{O()},[n,h,m,v,b,S]);const k=async()=>{s(!0),c(null);try{const A=await Ex(),R=await Promise.all(A.map(async M=>{const U=await qD(M.chat_id);return{...M,chatData:U,isEnabled:!0}}));r(R)}catch(A){console.error("Failed to load admin feedback:",A),c(A instanceof Error?A.message:"Failed to load admin feedback")}finally{s(!1)}},E=async()=>{f(!0),await k(),f(!1)},O=()=>{let A=[...n];if(v!=="all"&&(A=A.filter(R=>R.feedback_verdict===v)),b&&(A=A.filter(R=>{var M;return((M=R.chatData)==null?void 0:M.user_id)===b})),S&&(A=A.filter(R=>{const M=R.updated_at||R.created_at;if(!M)return!1;const U=new Date(M).toDateString(),B=new Date(S).toDateString();return U===B})),h){const R=h.toLowerCase();A=A.filter(M=>{var U,B,L,T,F,C,V;return((U=M.chat_id)==null?void 0:U.toLowerCase().includes(R))||((B=M.feedback_text)==null?void 0:B.toLowerCase().includes(R))||((L=M.corrected_response)==null?void 0:L.toLowerCase().includes(R))||((F=(T=M.chatData)==null?void 0:T.chat_message)==null?void 0:F.toLowerCase().includes(R))||((V=(C=M.chatData)==null?void 0:C.response)==null?void 0:V.toLowerCase().includes(R))})}A.sort((R,M)=>{switch(m){case"date-desc":return new Date(M.updated_at||M.created_at||"").getTime()-new Date(R.updated_at||R.created_at||"").getTime();case"date-asc":return new Date(R.updated_at||R.created_at||"").getTime()-new Date(M.updated_at||M.created_at||"").getTime();case"verdict":return(R.feedback_verdict||"").localeCompare(M.feedback_verdict||"");default:return 0}}),a(A)},P=async A=>{const R=n.find(U=>U.id===A);if(!R)return;const M=!R.apply;r(U=>U.map(B=>B.id===A?{...B,apply:M}:B));try{const{updateAdminFeedbackField:U}=await Xi(()=>Promise.resolve().then(()=>z3),void 0);await U(A,{apply:M})}catch(U){console.error("Failed to update apply status:",U),r(B=>B.map(L=>L.id===A?{...L,apply:!M}:L))}},N=A=>{if(!A)return"N/A";try{return new Date(A).toLocaleString("en-US",{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return A}},I=()=>{const A=i.filter(L=>L.apply);if(A.length===0){alert("No enabled feedback to export");return}const R=[["Chat ID","User ID","Date/Time","Verdict","User Message","AI Response","Feedback","Corrected Response"],...A.map(L=>{var T,F,C;return[L.chat_id,((T=L.chatData)==null?void 0:T.user_id)||"",N(L.updated_at||L.created_at),L.feedback_verdict,((F=L.chatData)==null?void 0:F.chat_message)||"",((C=L.chatData)==null?void 0:C.response)||"",L.feedback_text||"",L.corrected_response||""]})].map(L=>L.map(T=>`"${T}"`).join(",")).join(`
`),M=new Blob([R],{type:"text/csv"}),U=URL.createObjectURL(M),B=document.createElement("a");B.href=U,B.download=`admin-feedback-${new Date().toISOString().split("T")[0]}.csv`,B.click(),URL.revokeObjectURL(U)};return o?d.jsx("div",{className:"admin-card",children:d.jsx("div",{className:"flex items-center justify-center p-8",children:d.jsx("p",{style:{color:"var(--admin-text-muted)"},children:t("admin.loading")})})}):l?d.jsx("div",{className:"admin-card",children:d.jsxs("div",{className:"p-4",style:{color:"var(--admin-danger)"},children:[d.jsx("p",{className:"font-semibold mb-2",children:t("admin.error")}),d.jsx("p",{className:"text-sm",children:l}),d.jsx("button",{onClick:k,className:"mt-3 px-4 py-2 rounded-md text-sm",style:{background:"linear-gradient(180deg, var(--admin-primary), var(--admin-primary-600))",color:"#041220"},children:t("actions.refresh")})]})}):d.jsxs("div",{className:"admin-card",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["Admin Feedback (",i.length," feedback entries)"]}),d.jsx("button",{className:"icon-btn",onClick:E,disabled:u,title:t("actions.refresh"),children:d.jsx(mp,{size:18,className:u?"animate-spin":""})})]}),d.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Sort by:"}),d.jsxs("select",{value:m,onChange:A=>g(A.target.value),className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx("option",{value:"date-desc",children:"Date/Time (Newest)"}),d.jsx("option",{value:"date-asc",children:"Date/Time (Oldest)"}),d.jsx("option",{value:"verdict",children:"Verdict"})]})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-[200px]",children:[d.jsx("span",{className:"text-sm",style:{color:"var(--admin-text)"},children:"Search:"}),d.jsx("input",{type:"text",placeholder:"Search feedback...",value:h,onChange:A=>p(A.target.value),className:"flex-1 px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"}})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{className:"px-3 py-2 rounded-md text-sm",style:{backgroundColor:"rgba(9, 14, 34, 0.6)",color:"var(--admin-text)",border:"1px solid var(--admin-border)"},defaultValue:"CSV",children:[d.jsx("option",{children:"CSV"}),d.jsx("option",{children:"JSON"})]}),d.jsx("button",{onClick:I,className:"px-4 py-2 rounded-md text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)",border:"1px solid var(--admin-primary)"},children:"Export"})]})]}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsxs("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-md text-sm transition-colors ${v==="all"?"font-semibold":""}`,style:{backgroundColor:v==="all"?"var(--admin-primary)":"rgba(9, 14, 34, 0.4)",color:v==="all"?"#041220":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:["All (",n.length,")"]}),d.jsxs("button",{onClick:()=>y("good"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${v==="good"?"font-semibold":""}`,style:{backgroundColor:v==="good"?"var(--admin-success)":"rgba(9, 14, 34, 0.4)",color:v==="good"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ti,{size:14})," Good (",n.filter(A=>A.feedback_verdict==="good").length,")"]}),d.jsxs("button",{onClick:()=>y("bad"),className:`px-4 py-2 rounded-md text-sm transition-colors flex items-center gap-2 ${v==="bad"?"font-semibold":""}`,style:{backgroundColor:v==="bad"?"var(--admin-danger)":"rgba(9, 14, 34, 0.4)",color:v==="bad"?"#ffffff":"var(--admin-text)",border:"1px solid var(--admin-border)"},children:[d.jsx(Ii,{size:14})," Bad (",n.filter(A=>A.feedback_verdict==="bad").length,")"]})]}),i.length===0?d.jsx("div",{className:"text-center p-8",style:{color:"var(--admin-text-muted)"},children:d.jsx("p",{children:h||v!=="all"?"No feedback matches your filters":"No admin feedback found"})}):d.jsx("div",{className:"space-y-3",children:i.map(A=>{var R,M,U;return d.jsx("div",{className:"rounded-lg border",style:{backgroundColor:"rgba(9, 14, 34, 0.4)",borderColor:"var(--admin-border)",opacity:A.apply?1:.5},children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"flex items-center gap-2",children:[A.feedback_verdict==="good"?d.jsx(Ti,{size:16,style:{color:"var(--admin-success)"}}):d.jsx(Ii,{size:16,style:{color:"var(--admin-danger)"}}),d.jsxs("span",{className:"text-sm font-semibold",style:{color:"var(--admin-text)"},children:["User: ",((R=A.chatData)==null?void 0:R.user_id)||"Unknown"]})]})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:N(A.updated_at||A.created_at)}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("span",{className:"text-xs",style:{color:"var(--admin-text)"},children:"Apply to Prompt:"}),d.jsx("button",{onClick:()=>P(A.id),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors",style:{backgroundColor:A.apply?"var(--admin-primary)":"rgba(100, 116, 139, 0.3)"},children:d.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform",style:{transform:A.apply?"translateX(1.5rem)":"translateX(0.25rem)"}})})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[((M=A.chatData)==null?void 0:M.chat_message)&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"User Message:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.chatData.chat_message})]}),d.jsxs("p",{className:"text-xs mb-2",style:{color:"var(--admin-text-muted)"},children:["Chat ID:",d.jsx("button",{onClick:()=>e==null?void 0:e(A.chat_id),className:"ml-1 text-blue-400 hover:text-blue-300 underline cursor-pointer",title:"Click to scroll to this chat in Recent Conversations",children:A.chat_id})]}),((U=A.chatData)==null?void 0:U.response)&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-text-muted)"},children:"Original AI Response:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.chatData.response})]}),A.feedback_text&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-warning, #ff9800)"},children:"Supervisor Feedback:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.feedback_text})]}),A.corrected_response&&d.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:"rgba(59, 230, 255, 0.05)",border:"1px solid rgba(59, 230, 255, 0.2)"},children:[d.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"var(--admin-primary)"},children:"Corrected Response:"}),d.jsx("p",{className:"text-sm",style:{color:"var(--admin-text)"},children:A.corrected_response})]})]})]})},A.id)})})]})}function VD(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zoe}=Object.prototype,{getPrototypeOf:Yb}=Object,{iterator:gp,toStringTag:GD}=Symbol,vp=(e=>t=>{const n=Zoe.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=e=>(e=e.toLowerCase(),t=>vp(t)===e),yp=e=>t=>typeof t===e,{isArray:$s}=Array,ms=yp("undefined");function Qc(e){return e!==null&&!ms(e)&&e.constructor!==null&&!ms(e.constructor)&&dn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const YD=yr("ArrayBuffer");function ese(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&YD(e.buffer),t}const tse=yp("string"),dn=yp("function"),JD=yp("number"),Zc=e=>e!==null&&typeof e=="object",nse=e=>e===!0||e===!1,fd=e=>{if(vp(e)!=="object")return!1;const t=Yb(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(GD in e)&&!(gp in e)},rse=e=>{if(!Zc(e)||Qc(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ise=yr("Date"),ase=yr("File"),ose=yr("Blob"),sse=yr("FileList"),lse=e=>Zc(e)&&dn(e.pipe),cse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||dn(e.append)&&((t=vp(e))==="formdata"||t==="object"&&dn(e.toString)&&e.toString()==="[object FormData]"))},use=yr("URLSearchParams"),[dse,fse,hse,pse]=["ReadableStream","Request","Response","Headers"].map(yr),mse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),$s(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Qc(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(r=0;r<o;r++)s=a[r],t.call(null,e[s],s,e)}}function XD(e,t){if(Qc(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Pa=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),QD=e=>!ms(e)&&e!==Pa;function yy(){const{caseless:e,skipUndefined:t}=QD(this)&&this||{},n={},r=(i,a)=>{const o=e&&XD(n,a)||a;fd(n[o])&&fd(i)?n[o]=yy(n[o],i):fd(i)?n[o]=yy({},i):$s(i)?n[o]=i.slice():(!t||!ms(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&eu(arguments[i],r);return n}const gse=(e,t,n,{allOwnKeys:r}={})=>(eu(t,(i,a)=>{n&&dn(i)?e[a]=VD(i,n):e[a]=i},{allOwnKeys:r}),e),vse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yse=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},xse=(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!r||r(o,e,t))&&!s[o]&&(t[o]=e[o],s[o]=!0);e=n!==!1&&Yb(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},bse=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},wse=e=>{if(!e)return null;if($s(e))return e;let t=e.length;if(!JD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},kse=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Yb(Uint8Array)),Sse=(e,t)=>{const r=(e&&e[gp]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},jse=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},_se=yr("HTMLFormElement"),Cse=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),G_=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ese=yr("RegExp"),ZD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};eu(n,(i,a)=>{let o;(o=t(i,a,e))!==!1&&(r[a]=o||i)}),Object.defineProperties(e,r)},Pse=e=>{ZD(e,(t,n)=>{if(dn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(dn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Nse=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return $s(e)?r(e):r(String(e).split(t)),n},Ose=()=>{},Ase=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Tse(e){return!!(e&&dn(e.append)&&e[GD]==="FormData"&&e[gp])}const Ise=e=>{const t=new Array(10),n=(r,i)=>{if(Zc(r)){if(t.indexOf(r)>=0)return;if(Qc(r))return r;if(!("toJSON"in r)){t[i]=r;const a=$s(r)?[]:{};return eu(r,(o,s)=>{const l=n(o,i+1);!ms(l)&&(a[s]=l)}),t[i]=void 0,a}}return r};return n(e,0)},Dse=yr("AsyncFunction"),Rse=e=>e&&(Zc(e)||dn(e))&&dn(e.then)&&dn(e.catch),eR=((e,t)=>e?setImmediate:t?((n,r)=>(Pa.addEventListener("message",({source:i,data:a})=>{i===Pa&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Pa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",dn(Pa.postMessage)),Mse=typeof queueMicrotask<"u"?queueMicrotask.bind(Pa):typeof process<"u"&&process.nextTick||eR,Lse=e=>e!=null&&dn(e[gp]),z={isArray:$s,isArrayBuffer:YD,isBuffer:Qc,isFormData:cse,isArrayBufferView:ese,isString:tse,isNumber:JD,isBoolean:nse,isObject:Zc,isPlainObject:fd,isEmptyObject:rse,isReadableStream:dse,isRequest:fse,isResponse:hse,isHeaders:pse,isUndefined:ms,isDate:ise,isFile:ase,isBlob:ose,isRegExp:Ese,isFunction:dn,isStream:lse,isURLSearchParams:use,isTypedArray:kse,isFileList:sse,forEach:eu,merge:yy,extend:gse,trim:mse,stripBOM:vse,inherits:yse,toFlatObject:xse,kindOf:vp,kindOfTest:yr,endsWith:bse,toArray:wse,forEachEntry:Sse,matchAll:jse,isHTMLForm:_se,hasOwnProperty:G_,hasOwnProp:G_,reduceDescriptors:ZD,freezeMethods:Pse,toObjectSet:Nse,toCamelCase:Cse,noop:Ose,toFiniteNumber:Ase,findKey:XD,global:Pa,isContextDefined:QD,isSpecCompliantForm:Tse,toJSONObject:Ise,isAsyncFn:Dse,isThenable:Rse,setImmediate:eR,asap:Mse,isIterable:Lse};function he(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const tR=he.prototype,nR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nR[e]={value:e}});Object.defineProperties(he,nR);Object.defineProperty(tR,"isAxiosError",{value:!0});he.from=(e,t,n,r,i,a)=>{const o=Object.create(tR);z.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const s=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return he.call(o,s,l,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const $se=null;function xy(e){return z.isPlainObject(e)||z.isArray(e)}function rR(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Y_(e,t,n){return e?e.concat(t).map(function(i,a){return i=rR(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Fse(e){return z.isArray(e)&&!e.some(xy)}const Use=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function xp(e,t,n){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!z.isUndefined(v[g])});const r=n.metaTokens,i=n.visitor||u,a=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(z.isBoolean(m))return m.toString();if(!l&&z.isBlob(m))throw new he("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,v){let y=m;if(m&&!v&&typeof m=="object"){if(z.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&Fse(m)||(z.isFileList(m)||z.endsWith(g,"[]"))&&(y=z.toArray(m)))return g=rR(g),y.forEach(function(w,S){!(z.isUndefined(w)||w===null)&&t.append(o===!0?Y_([g],S,a):o===null?g:g+"[]",c(w))}),!1}return xy(m)?!0:(t.append(Y_(v,g,a),c(m)),!1)}const f=[],h=Object.assign(Use,{defaultVisitor:u,convertValue:c,isVisitable:xy});function p(m,g){if(!z.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(m),z.forEach(m,function(y,b){(!(z.isUndefined(y)||y===null)&&i.call(t,y,z.isString(b)?b.trim():b,g,h))===!0&&p(y,g?g.concat(b):[b])}),f.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return p(e),t}function J_(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Jb(e,t){this._pairs=[],e&&xp(e,this,t)}const iR=Jb.prototype;iR.append=function(t,n){this._pairs.push([t,n])};iR.toString=function(t){const n=t?function(r){return t.call(this,r,J_)}:J_;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function zse(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function aR(e,t,n){if(!t)return e;const r=n&&n.encode||zse;z.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=z.isURLSearchParams(t)?t.toString():new Jb(t,n).toString(r),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Bse{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(r){r!==null&&t(r)})}}const X_=Bse,oR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wse=typeof URLSearchParams<"u"?URLSearchParams:Jb,Kse=typeof FormData<"u"?FormData:null,Hse=typeof Blob<"u"?Blob:null,qse={isBrowser:!0,classes:{URLSearchParams:Wse,FormData:Kse,Blob:Hse},protocols:["http","https","file","blob","url","data"]},Xb=typeof window<"u"&&typeof document<"u",by=typeof navigator=="object"&&navigator||void 0,Vse=Xb&&(!by||["ReactNative","NativeScript","NS"].indexOf(by.product)<0),Gse=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Yse=Xb&&window.location.href||"http://localhost",Jse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xb,hasStandardBrowserEnv:Vse,hasStandardBrowserWebWorkerEnv:Gse,navigator:by,origin:Yse},Symbol.toStringTag,{value:"Module"})),Ft={...Jse,...qse};function Xse(e,t){return xp(e,new Ft.classes.URLSearchParams,{visitor:function(n,r,i,a){return Ft.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Qse(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Zse(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function sR(e){function t(n,r,i,a){let o=n[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=n.length;return o=!o&&z.isArray(i)?i.length:o,l?(z.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!z.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],a)&&z.isArray(i[o])&&(i[o]=Zse(i[o])),!s)}if(z.isFormData(e)&&z.isFunction(e.entries)){const n={};return z.forEachEntry(e,(r,i)=>{t(Qse(r),i,n,0)}),n}return null}function ele(e,t,n){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Qb={transitional:oR,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=z.isObject(t);if(a&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return i?JSON.stringify(sR(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xse(t,this.formSerializer).toString();if((s=z.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return xp(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),ele(t)):t}],transformResponse:[function(t){const n=this.transitional||Qb.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?he.from(s,he.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Qb.headers[e]={}});const Zb=Qb,tle=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nle=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&tle[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Q_=Symbol("internals");function cl(e){return e&&String(e).trim().toLowerCase()}function hd(e){return e===!1||e==null?e:z.isArray(e)?e.map(hd):String(e)}function rle(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ile=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Gm(e,t,n,r,i){if(z.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!z.isString(t)){if(z.isString(r))return t.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(t)}}function ale(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ole(e,t){const n=z.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,o){return this[r].call(this,t,i,a,o)},configurable:!0})})}class bp{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(s,l,c){const u=cl(l);if(!u)throw new Error("header name must be a non-empty string");const f=z.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=hd(s))}const o=(s,l)=>z.forEach(s,(c,u)=>a(c,u,l));if(z.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(z.isString(t)&&(t=t.trim())&&!ile(t))o(nle(t),n);else if(z.isObject(t)&&z.isIterable(t)){let s={},l,c;for(const u of t){if(!z.isArray(u))throw TypeError("Object iterator must return a key-value pair");s[c=u[0]]=(l=s[c])?z.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(s,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=cl(t),t){const r=z.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return rle(i);if(z.isFunction(n))return n.call(this,i,r);if(z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cl(t),t){const r=z.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Gm(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(o){if(o=cl(o),o){const s=z.findKey(r,o);s&&(!n||Gm(r,r[s],s,n))&&(delete r[s],i=!0)}}return z.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Gm(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return z.forEach(this,(i,a)=>{const o=z.findKey(r,a);if(o){n[o]=hd(i),delete n[a];return}const s=t?ale(a):String(a).trim();s!==a&&delete n[a],n[s]=hd(i),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Q_]=this[Q_]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=cl(o);r[s]||(ole(i,o),r[s]=!0)}return z.isArray(t)?t.forEach(a):a(t),this}}bp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(bp.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});z.freezeMethods(bp);const pr=bp;function Ym(e,t){const n=this||Zb,r=t||n,i=pr.from(r.headers);let a=r.data;return z.forEach(e,function(s){a=s.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function lR(e){return!!(e&&e.__CANCEL__)}function Fs(e,t,n){he.call(this,e??"canceled",he.ERR_CANCELED,t,n),this.name="CanceledError"}z.inherits(Fs,he,{__CANCEL__:!0});function cR(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function sle(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lle(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[a];o||(o=c),n[i]=l,r[i]=c;let f=a,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-o<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function cle(e,t){let n=0,r=1e3/t,i,a;const o=(c,u=Date.now())=>{n=u,i=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-f)))},()=>i&&o(i)]}const $f=(e,t,n=3)=>{let r=0;const i=lle(50,250);return cle(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),u=o<=s;r=o;const f={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[t?"download":"upload"]:!0};e(f)},n)},Z_=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},eC=e=>(...t)=>z.asap(()=>e(...t)),ule=Ft.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ft.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ft.origin),Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent)):()=>!0,dle=Ft.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const o=[e+"="+encodeURIComponent(t)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(i)&&o.push("domain="+i),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fle(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hle(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uR(e,t,n){let r=!fle(t);return e&&(r||n==!1)?hle(e,t):t}const tC=e=>e instanceof pr?{...e}:e;function Ya(e,t){t=t||{};const n={};function r(c,u,f,h){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:h},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function i(c,u,f,h){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function a(c,u){if(!z.isUndefined(u))return r(void 0,u)}function o(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function s(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,u,f)=>i(tC(c),tC(u),f,!0)};return z.forEach(Object.keys({...e,...t}),function(u){const f=l[u]||i,h=f(e[u],t[u],u);z.isUndefined(h)&&f!==s||(n[u]=h)}),n}const dR=e=>{const t=Ya({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=pr.from(o),t.url=aR(uR(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),z.isFormData(n)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(z.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Ft.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(t)),r||r!==!1&&ule(t.url))){const l=i&&a&&dle.read(a);l&&o.set(i,l)}return t},ple=typeof XMLHttpRequest<"u",mle=ple&&function(e){return new Promise(function(n,r){const i=dR(e);let a=i.data;const o=pr.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,u,f,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const w=pr.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!s||s==="text"||s==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:e,request:v};cR(function(E){n(E),g()},function(E){r(E),g()},j),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(r(new he("Request aborted",he.ECONNABORTED,e,v)),v=null)},v.onerror=function(S){const j=S&&S.message?S.message:"Network Error",k=new he(j,he.ERR_NETWORK,e,v);k.event=S||null,r(k),v=null},v.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||oR;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new he(S,j.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&z.forEach(o.toJSON(),function(S,j){v.setRequestHeader(j,S)}),z.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),s&&s!=="json"&&(v.responseType=i.responseType),c&&([h,m]=$f(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([f,p]=$f(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=w=>{v&&(r(!w||w.type?new Fs(null,e,v):w),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=sle(i.url);if(b&&Ft.protocols.indexOf(b)===-1){r(new he("Unsupported protocol "+b+":",he.ERR_BAD_REQUEST,e));return}v.send(a||null)})},gle=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const u=c instanceof Error?c:this.reason;r.abort(u instanceof he?u:new Fs(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,a(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))},t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>z.asap(s),l}},vle=gle,yle=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},xle=async function*(e,t){for await(const n of ble(e))yield*yle(n,t)},ble=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},nC=(e,t,n,r)=>{const i=xle(e,t);let a=0,o,s=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){s(),l.close();return}let f=u.byteLength;if(n){let h=a+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw s(c),c}},cancel(l){return s(l),i.return()}},{highWaterMark:2})},rC=64*1024,{isFunction:Hu}=z,wle=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:iC,TextEncoder:aC}=z.global,oC=(e,...t)=>{try{return!!e(...t)}catch{return!1}},kle=e=>{e=z.merge.call({skipUndefined:!0},wle,e);const{fetch:t,Request:n,Response:r}=e,i=t?Hu(t):typeof fetch=="function",a=Hu(n),o=Hu(r);if(!i)return!1;const s=i&&Hu(iC),l=i&&(typeof aC=="function"?(m=>g=>m.encode(g))(new aC):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=a&&s&&oC(()=>{let m=!1;const g=new n(Ft.origin,{body:new iC,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),u=o&&s&&oC(()=>z.isReadableStream(new r("").body)),f={stream:u&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!f[m]&&(f[m]=(g,v)=>{let y=g&&g[m];if(y)return y.call(g);throw new he(`Response type '${m}' is not supported`,he.ERR_NOT_SUPPORT,v)})});const h=async m=>{if(m==null)return 0;if(z.isBlob(m))return m.size;if(z.isSpecCompliantForm(m))return(await new n(Ft.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(z.isArrayBufferView(m)||z.isArrayBuffer(m))return m.byteLength;if(z.isURLSearchParams(m)&&(m=m+""),z.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const v=z.toFiniteNumber(m.getContentLength());return v??h(g)};return async m=>{let{url:g,method:v,data:y,signal:b,cancelToken:w,timeout:S,onDownloadProgress:j,onUploadProgress:k,responseType:E,headers:O,withCredentials:P="same-origin",fetchOptions:N}=dR(m),I=t||fetch;E=E?(E+"").toLowerCase():"text";let A=vle([b,w&&w.toAbortSignal()],S),R=null;const M=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let U;try{if(k&&c&&v!=="get"&&v!=="head"&&(U=await p(O,y))!==0){let V=new n(g,{method:"POST",body:y,duplex:"half"}),D;if(z.isFormData(y)&&(D=V.headers.get("content-type"))&&O.setContentType(D),V.body){const[_,Y]=Z_(U,$f(eC(k)));y=nC(V.body,rC,_,Y)}}z.isString(P)||(P=P?"include":"omit");const B=a&&"credentials"in n.prototype,L={...N,signal:A,method:v.toUpperCase(),headers:O.normalize().toJSON(),body:y,duplex:"half",credentials:B?P:void 0};R=a&&new n(g,L);let T=await(a?I(R,N):I(g,L));const F=u&&(E==="stream"||E==="response");if(u&&(j||F&&M)){const V={};["status","statusText","headers"].forEach(J=>{V[J]=T[J]});const D=z.toFiniteNumber(T.headers.get("content-length")),[_,Y]=j&&Z_(D,$f(eC(j),!0))||[];T=new r(nC(T.body,rC,_,()=>{Y&&Y(),M&&M()}),V)}E=E||"text";let C=await f[z.findKey(f,E)||"text"](T,m);return!F&&M&&M(),await new Promise((V,D)=>{cR(V,D,{data:C,headers:pr.from(T.headers),status:T.status,statusText:T.statusText,config:m,request:R})})}catch(B){throw M&&M(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,m,R),{cause:B.cause||B}):he.from(B,B&&B.code,m,R)}}},Sle=new Map,fR=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o=a.length,s=o,l,c,u=Sle;for(;s--;)l=a[s],c=u.get(l),c===void 0&&u.set(l,c=s?new Map:kle(t)),u=c;return c};fR();const wy={http:$se,xhr:mle,fetch:{get:fR}};z.forEach(wy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sC=e=>`- ${e}`,jle=e=>z.isFunction(e)||e===null||e===!1,hR={getAdapter:(e,t)=>{e=z.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){r=e[o];let s;if(i=r,!jle(r)&&(i=wy[(s=String(r)).toLowerCase()],i===void 0))throw new he(`Unknown adapter '${s}'`);if(i&&(z.isFunction(i)||(i=i.get(t))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(sC).join(`
`):" "+sC(o[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i},adapters:wy};function Jm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fs(null,e)}function lC(e){return Jm(e),e.headers=pr.from(e.headers),e.data=Ym.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),hR.getAdapter(e.adapter||Zb.adapter,e)(e).then(function(r){return Jm(e),r.data=Ym.call(e,e.transformResponse,r),r.headers=pr.from(r.headers),r},function(r){return lR(r)||(Jm(e),r&&r.response&&(r.response.data=Ym.call(e,e.transformResponse,r.response),r.response.headers=pr.from(r.response.headers))),Promise.reject(r)})}const pR="1.12.2",wp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wp[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const cC={};wp.transitional=function(t,n,r){function i(a,o){return"[Axios v"+pR+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(t===!1)throw new he(i(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!cC[o]&&(cC[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,s):!0}};wp.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function _le(e,t,n){if(typeof e!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const s=e[a],l=s===void 0||o(s,a,e);if(l!==!0)throw new he("option "+a+" must be "+l,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+a,he.ERR_BAD_OPTION)}}const pd={assertOptions:_le,validators:wp},wr=pd.validators;class Ff{constructor(t){this.defaults=t||{},this.interceptors={request:new X_,response:new X_}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ya(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&pd.assertOptions(r,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),i!=null&&(z.isFunction(i)?n.paramsSerializer={serialize:i}:pd.assertOptions(i,{encode:wr.function,serialize:wr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pd.assertOptions(n,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&z.merge(a.common,a[n.method]);a&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=pr.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!l){const m=[lC.bind(this),void 0];for(m.unshift(...s),m.push(...c),h=m.length,u=Promise.resolve(n);f<h;)u=u.then(m[f++],m[f++]);return u}h=s.length;let p=n;for(;f<h;){const m=s[f++],g=s[f++];try{p=m(p)}catch(v){g.call(this,v);break}}try{u=lC.call(this,p)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Ya(this.defaults,t);const n=uR(t.baseURL,t.url,t.allowAbsoluteUrls);return aR(n,t.params,t.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(t){Ff.prototype[t]=function(n,r){return this.request(Ya(r||{},{method:t,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(t){function n(r){return function(a,o,s){return this.request(Ya(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ff.prototype[t]=n(),Ff.prototype[t+"Form"]=n(!0)});const md=Ff;class ew{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},t(function(a,o,s){r.reason||(r.reason=new Fs(a,o,s),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ew(function(i){t=i}),cancel:t}}}const Cle=ew;function Ele(e){return function(n){return e.apply(null,n)}}function Ple(e){return z.isObject(e)&&e.isAxiosError===!0}const ky={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ky).forEach(([e,t])=>{ky[t]=e});const Nle=ky;function mR(e){const t=new md(e),n=VD(md.prototype.request,t);return z.extend(n,md.prototype,t,{allOwnKeys:!0}),z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return mR(Ya(e,i))},n}const ft=mR(Zb);ft.Axios=md;ft.CanceledError=Fs;ft.CancelToken=Cle;ft.isCancel=lR;ft.VERSION=pR;ft.toFormData=xp;ft.AxiosError=he;ft.Cancel=ft.CanceledError;ft.all=function(t){return Promise.all(t)};ft.spread=Ele;ft.isAxiosError=Ple;ft.mergeConfig=Ya;ft.AxiosHeaders=pr;ft.formToJSON=e=>sR(z.isHTMLForm(e)?new FormData(e):e);ft.getAdapter=hR.getAdapter;ft.HttpStatusCode=Nle;ft.default=ft;const Ole=ft;function Ale(e){return e.size>10485760?{valid:!1,error:"File size must be less than 10MB"}:["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown","application/json","text/html"].includes(e.type)?{valid:!0}:{valid:!1,error:"Unsupported file type. Please upload PDF, Word, Excel, CSV, TXT, MD, JSON, or HTML files."}}function Tle(e){if(e===0)return"0 Bytes";const t=1024,n=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+n[r]}const Ma="knowledge-base";async function Ile(e,t){try{const{data:n,error:r}=await e.storage.from(Ma).list("files",{limit:1e3,offset:0});if(r)return console.error("Error listing files:",r),t;if(!n||n.length===0||!n.some(u=>u.name===t))return t;const a=t.split("."),o=a.length>1?`.${a.pop()}`:"",s=a.join(".");let l=1,c=`${s} (${l})${o}`;for(;n.some(u=>u.name===c);)l++,c=`${s} (${l})${o}`;return console.log(`📝 Duplicate file detected: ${t} → ${c}`),c}catch(n){return console.error("Error in getUniqueFileName:",n),t}}async function Dle(e){const t=[],n=We();for(const r of e)try{const i=Ale(r);if(!i.valid){t.push({success:!1,message:"File validation failed",fileName:r.name,error:i.error});continue}const a=await Ile(n,r.name),o=`files/${a}`;console.log(`Uploading file to Supabase Storage: ${o}`);const{data:s,error:l}=await n.storage.from(Ma).upload(o,r,{cacheControl:"3600",upsert:!1});if(l){console.error("Supabase upload error:",l),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:l.message});continue}console.log("File uploaded successfully:",s),t.push({success:!0,message:"File uploaded successfully",fileName:a})}catch(i){console.error("Error uploading file to Supabase:",i),t.push({success:!1,message:"Failed to upload file",fileName:r.name,error:i.message||"Unknown error"})}return t}async function Rle(){try{console.log("Fetching files from Supabase Storage...");const e=We(),{data:t,error:n}=await e.storage.from(Ma).list("files",{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(n)return console.error("Supabase list error:",n),{success:!1,files:[],total:0,message:n.message};console.log("Files fetched from Supabase:",t);const r=t.map(i=>{var a,o;return{id:i.id||i.name,name:i.name,size:((a=i.metadata)==null?void 0:a.size)||0,type:((o=i.metadata)==null?void 0:o.mimetype)||"application/octet-stream",uploadedAt:i.created_at||new Date().toISOString(),status:"ready",lastModified:i.updated_at||i.created_at,syncStatus:"synced"}});return{success:!0,files:r,total:r.length,message:"Files fetched successfully"}}catch(e){return console.error("Error fetching files from Supabase:",e),{success:!1,files:[],total:0,message:e.message||"Failed to fetch files"}}}async function Mle(e){try{console.log(`Deleting file from Supabase Storage: ${e}`);const t=We(),n=`files/${e}`,{error:r}=await t.storage.from(Ma).remove([n]);return r?(console.error("Supabase delete error:",r),{success:!1,message:r.message}):(console.log("File deleted successfully from Supabase"),{success:!0,message:"File deleted successfully"})}catch(t){return console.error("Error deleting file from Supabase:",t),{success:!1,message:t.message||"Failed to delete file"}}}function Lle(e){if(e.size>52428800)return{valid:!1,error:"File size must be less than 50MB"};const n=[".pdf",".docx",".doc",".xlsx",".xls",".pptx",".ppt",".txt",".md",".csv",".json",".html",".rtf",".xml",".css",".js",".ts"],r=e.name.toLowerCase();return n.some(a=>r.endsWith(a))?{valid:!0}:{valid:!1,error:`Unsupported file type. Allowed: ${n.join(", ")}`}}async function gR(){try{console.log("Fetching vector documents from Supabase...");const e=We(),{data:t,error:n,count:r}=await e.from("documents").select("*",{count:"exact"}).order("id",{ascending:!1});return n?(console.error("Supabase error:",n),{success:!1,documents:[],total:0,message:n.message}):(console.log(`✅ Fetched ${(t==null?void 0:t.length)||0} documents from Supabase`),{success:!0,documents:t||[],total:r||0,message:"Documents fetched successfully"})}catch(e){return console.error("Error fetching vector documents:",e),{success:!1,documents:[],total:0,message:e.message||"Failed to fetch documents"}}}async function $le(e){var t,n,r,i;try{const a=We(),o=`files/${e}`;console.log(`🔍 Requesting signed URL for: ${o}`);const{data:s,error:l}=await a.storage.from(Ma).createSignedUrl(o,3600);if(console.log("🔍 Signed URL response:",{urlData:s,urlError:l}),l||!(s!=null&&s.signedUrl))return console.error("Error getting file URL:",l),{success:!1,message:"Failed to get file URL"};const{data:c}=a.storage.from(Ma).getPublicUrl(o);console.log("🔍 Public URL for comparison:",c),console.log(`📤 Sending file to n8n for indexing: ${e}`);let u=s.signedUrl;if(s.signedUrl.startsWith("http"))console.log("✅ URL already full, no conversion needed");else{const m="https://qpyteahuynkgkbmdasbv.supabase.co";s.signedUrl.startsWith("/object/")?(u=`${m}/storage/v1${s.signedUrl}`,console.log("🔧 Converted relative URL to full URL")):s.signedUrl.startsWith("/storage/")?(u=`${m}${s.signedUrl}`,console.log("🔧 Converted /storage/ URL to full URL")):(u=`${m}/storage/v1/object/sign/${Ma}/${o}?token=${s.signedUrl.split("token=")[1]||""}`,console.log("🔧 Used fallback URL construction"))}console.log(`🔗 FINAL URL SENT TO N8N: ${u}`),console.log(`⏰ Request time: ${new Date().toISOString()}`);const f={}.VITE_N8N_DEV_MODE==="true"||localStorage.getItem("n8n-dev-mode")==="true",h=f?"https://n8n.srv978041.hstgr.cloud/webhook-test/1f18f1aa-44c4-467f-b299-c87c9b6f9459":"https://n8n.srv978041.hstgr.cloud/webhook/1f18f1aa-44c4-467f-b299-c87c9b6f9459";console.log(`🔧 Webhook mode: ${f?"DEV (test)":"PRODUCTION"}`),console.log(`🌐 Using webhook: ${h}`),f&&console.warn("⚠️ Using TEST webhook - this may not be active!"),console.log(`🌐 n8n Webhook URL: ${h}`);const p=[{fileUrl:u,fileName:e,source:"supabase-storage"}];console.log("📦 Payload being sent:",p);try{const m=await Ole.post(h,p,{headers:{"Content-Type":"application/json"},timeout:3e4});console.log("✅ File sent to n8n for indexing:",m.data),console.log("📊 Response status:",m.status),console.log("📋 Response headers:",m.headers);const g=m.data.workflowId||m.data.executionId,v=m.data.estimatedTime||"30-60 seconds";return{success:!0,message:`File sent for indexing successfully. Processing time: ${v}`,workflowId:g,estimatedTime:v}}catch(m){console.warn("⚠️ Axios failed (likely CORS), trying fetch with no-cors:",m);try{const g=await fetch(h,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});return console.log(`✅ Fetch request sent (no-cors mode) - status: ${g.status}`),console.log(`🔍 Response type: ${g.type}`),g.status===0?(console.log("✅ Request sent successfully (no-cors mode)"),{success:!0,message:"File sent for indexing (CORS bypassed). Processing time: 30-60 seconds",workflowId:"unknown",estimatedTime:"30-60 seconds"}):(console.warn(`⚠️ Unexpected status in no-cors mode: ${g.status}`),{success:!0,message:`File sent for indexing (CORS bypassed, status: ${g.status}). Processing time: 30-60 seconds`,workflowId:"unknown",estimatedTime:"30-60 seconds"})}catch(g){if(console.error("❌ Both axios and fetch failed:",g),(t=g==null?void 0:g.message)!=null&&t.includes("404")||(n=g==null?void 0:g.message)!=null&&n.includes("ERR_ABORTED"))return{success:!1,message:`Webhook URL not found (404). Please check if the webhook is active: ${h}`};throw g}}}catch(a){return console.error("Error indexing file:",a),{success:!1,message:((i=(r=a.response)==null?void 0:r.data)==null?void 0:i.message)||a.message||"Failed to index file"}}}async function Fle(e){try{const t=We(),{data:n,error:r}=await t.from("documents").select("id, created_at, metadata").ilike("metadata->>fileName",e).order("created_at",{ascending:!1});if(r)return console.error("Error checking indexing status:",r),{success:!1,message:"Failed to check indexing status",status:"failed"};if(n&&n.length>0){const i=n[0];return{success:!0,message:`File indexed successfully with ${n.length} chunks`,status:"completed",chunksCount:n.length,lastUpdated:i.created_at}}else return{success:!0,message:"File not yet indexed or indexing in progress",status:"pending"}}catch(t){return console.error("Error checking indexing status:",t),{success:!1,message:"Failed to check indexing status",status:"failed"}}}async function Ule(e){try{const t=We();console.log(`🗑️ Direct Supabase deletion for filename: "${e}"`),console.log(`🔍 Filename length: ${e.length}`),console.log(`🔍 Filename characters: ${e.split("").map(l=>l.charCodeAt(0)).join(",")}`);let n=[],r=0;console.log("🔍 Trying exact match...");let{data:i,error:a}=await t.from("documents").select("id, metadata").eq("metadata->>fileName",e);if(!a&&i&&i.length>0)n=i,r=i.length,console.log(`✅ Found ${r} records with exact match`);else{console.log("❌ Exact match failed, trying ilike...");let{data:l,error:c}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",e);if(!c&&l&&l.length>0)n=l,r=l.length,console.log(`✅ Found ${r} records with ilike match`);else{console.log("❌ ilike match failed, trying contains...");let{data:u,error:f}=await t.from("documents").select("id, metadata").ilike("metadata->>fileName",`%${e}%`);if(!f&&u&&u.length>0)n=u,r=u.length,console.log(`✅ Found ${r} records with contains match`);else{console.log("❌ All query approaches failed");let{data:h}=await t.from("documents").select("metadata").limit(10);console.log("🔍 Sample metadata from database:",h);let{data:p}=await t.from("documents").select("metadata->>fileName").not("metadata->>fileName","is",null);if(p){const m=[...new Set(p.map(g=>g.fileName))];console.log("🔍 All unique filenames in database:",m),console.log('🔍 Looking for filename containing "PM-Marketing":',m.filter(g=>g&&g.includes("PM-Marketing"))),console.log('🔍 Looking for filename containing "Team Notebook":',m.filter(g=>g&&g.includes("Team Notebook")))}return{success:!1,message:`No records found for filename: ${e}. Check console for debugging info.`,deletedCount:0}}}}if(console.log(`📊 Found ${r} records to delete for filename: ${e}`),r===0)return{success:!0,message:`No records found for filename: ${e}`,deletedCount:0};let o=t.from("documents").delete();if(n.length>0){const l=n.map(c=>c.id);o=o.in("id",l)}else o=o.ilike("metadata->>fileName",e);const{error:s}=await o;return s?(console.error("Error deleting records:",s),{success:!1,message:`Failed to delete documents: ${s.message}`,deletedCount:0}):(console.log(`✅ Successfully deleted ${r} records for filename: ${e}`),{success:!0,message:`File ${e} unindexed successfully (${r} chunks removed)`,deletedCount:r})}catch(t){return console.error("Error in direct Supabase deletion:",t),{success:!1,message:`Failed to delete documents: ${t.message}`,deletedCount:0}}}async function zle(e){try{return console.log("🗑️ Unindexing file using direct Supabase deletion:",e),await Ule(e)}catch(t){return console.error("❌ Failed to unindex file:",t),{success:!1,message:`Failed to unindex file: ${t.message||"Unknown error"}`}}}const uC=()=>{const{t:e}=Ze(),t=x.useRef(null),[n,r]=x.useState(!1),[i,a]=x.useState([]),[o,s]=x.useState(!1),[l,c]=x.useState([]),[u,f]=x.useState(""),[h,p]=x.useState("date"),[m,g]=x.useState("desc"),[v,y]=x.useState(!1),[b,w]=x.useState(null);x.useState(null);const[S,j]=x.useState({}),[k,E]=x.useState(new Set),[O,P]=x.useState(()=>localStorage.getItem("n8n-dev-mode")==="true"),N="supabase",I=()=>{const _=!O;P(_),localStorage.setItem("n8n-dev-mode",_.toString()),console.log(`🔧 Switched to ${_?"DEV":"PRODUCTION"} mode`)},A=()=>{P(!1),localStorage.setItem("n8n-dev-mode","false"),console.log("🔧 Reset to PRODUCTION mode")};x.useEffect(()=>{R()},[N]),x.useEffect(()=>{const _=localStorage.getItem("n8n-dev-mode");(_===null||_==="true")&&(P(!1),localStorage.setItem("n8n-dev-mode","false"),console.log("🔧 Defaulted to PRODUCTION mode"))},[]),x.useEffect(()=>{window.resetToProduction=A,window.toggleDevMode=I,console.log("🔧 Debug commands available:"),console.log("  - window.resetToProduction() - Reset to production mode"),console.log("  - window.toggleDevMode() - Toggle between dev/prod")},[]),x.useEffect(()=>{if(k.size===0)return;const _=setInterval(async()=>{for(const Y of k)try{const J=await Fle(Y);j(te=>({...te,[Y]:{status:J.status,message:J.message,chunksCount:J.chunksCount,lastUpdated:J.lastUpdated}})),(J.status==="completed"||J.status==="failed")&&E(te=>{const ce=new Set(te);return ce.delete(Y),ce})}catch(J){console.error(`Error polling status for ${Y}:`,J)}},3e3);return()=>clearInterval(_)},[k]);const R=async()=>{y(!0),w(null);try{const _=await Rle();_.success?(c(_.files),console.log(`✅ Loaded ${_.files.length} files from Supabase Storage`)):(w(_.message||"Failed to load files from Supabase"),console.error("Failed to load files:",_.message))}catch(_){w("Failed to connect to Supabase Storage. Please check your configuration."),console.error("Error loading files:",_)}finally{y(!1)}},M=()=>{R()},U=async(_,Y)=>{if(confirm(`Are you sure you want to delete "${Y}"?`))try{const J=await Mle(Y);J.success?(c(te=>te.filter(ce=>ce.id!==_)),console.log(`✅ File ${Y} deleted successfully`)):alert(`Failed to delete file: ${J.message}`)}catch(J){console.error("Error deleting file:",J),alert("Failed to delete file")}},B=async _=>{try{const Y=(await Xi(()=>Promise.resolve().then(()=>M3),void 0)).getSupabaseClient(),J=`files/${_}`,{data:te,error:ce}=await Y.storage.from("knowledge-base").createSignedUrl(J,3600);if(ce){console.error("Error creating signed URL:",ce),alert(`Failed to get download URL: ${ce.message}`);return}te!=null&&te.signedUrl?window.open(te.signedUrl,"_blank"):alert("Failed to get download URL")}catch(Y){console.error("Error downloading file:",Y),alert("Failed to download file")}},L=x.useCallback(_=>{if(!_||_.length===0)return;const Y=Array.from(_),J=[],te=[];Y.forEach(ce=>{const Fe=Lle(ce);Fe.valid?J.push(ce):te.push(`${ce.name}: ${Fe.error}`)}),te.length>0&&alert(te.join(`
`)),J.length>0&&T(J)},[N]),T=async _=>{r(!0),a([]);try{const Y=await Dle(_);a(Y);const J=Y.filter(ce=>ce.success).length,te=Y.filter(ce=>!ce.success).length;J>0&&console.log(`✅ ${J} file(s) uploaded successfully`),te>0&&console.error(`❌ ${te} file(s) failed to upload`),await R()}catch(Y){console.error("Upload error:",Y)}finally{r(!1)}},F=x.useCallback(_=>{_.preventDefault(),_.stopPropagation(),_.type==="dragenter"||_.type==="dragover"?s(!0):_.type==="dragleave"&&s(!1)},[]),C=x.useCallback(_=>{_.preventDefault(),_.stopPropagation(),s(!1),_.dataTransfer.files&&_.dataTransfer.files[0]&&L(_.dataTransfer.files)},[L]),V=_=>{L(_.target.files)},D=l.filter(_=>_.name.toLowerCase().includes(u.toLowerCase())).sort((_,Y)=>{let J=0;switch(h){case"name":J=_.name.localeCompare(Y.name);break;case"date":J=new Date(_.uploadedAt).getTime()-new Date(Y.uploadedAt).getTime();break;case"size":J=_.size-Y.size;break}return m==="asc"?J:-J});return d.jsxs("div",{className:"file-library",children:[d.jsx("div",{className:"fl-header",children:d.jsxs("div",{className:"fl-header-content",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"fl-title",children:e("knowledge.fileLibrary")}),d.jsx("p",{className:"fl-description",children:e("knowledge.fileLibraryDescription")})]}),d.jsx("div",{className:"webhook-mode-toggle",children:d.jsx("button",{onClick:I,className:`mode-toggle-btn ${O?"dev-mode":"prod-mode"}`,children:O?"🔧 DEV Mode":"🚀 PROD Mode"})})]})}),d.jsx("div",{className:"fl-upload-section",children:d.jsxs("div",{className:`fl-upload-area ${o?"drag-active":""} ${n?"uploading":""}`,onDragEnter:F,onDragLeave:F,onDragOver:F,onDrop:C,onClick:()=>{var _;return(_=t.current)==null?void 0:_.click()},children:[d.jsx("input",{ref:t,type:"file",multiple:!0,accept:".txt,.md,.json,.csv,.xml,.html,.css,.js,.ts,.pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx",onChange:V,style:{display:"none"},disabled:n}),d.jsx("div",{className:"upload-content",children:n?d.jsxs("div",{className:"upload-loading",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:e("knowledge.uploadingFiles")})]}):d.jsxs("div",{className:"upload-prompt",children:[d.jsx("div",{className:"upload-icon",children:"↑"}),d.jsx("p",{className:"upload-text",children:e("knowledge.dragFilesHere")}),d.jsx("p",{className:"upload-formats",children:e("knowledge.supportedFormats")})]})})]})}),d.jsxs("div",{className:"fl-controls",children:[d.jsx("div",{className:"fl-search",children:d.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:u,onChange:_=>f(_.target.value),className:"search-input"})}),d.jsxs("button",{className:"refresh-btn",onClick:M,disabled:v,children:[d.jsx("span",{className:"refresh-icon",children:"↻"}),v?e("knowledge.loading")||"Loading...":e("knowledge.refresh")]})]}),b&&d.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:b}),d.jsx("div",{className:"fl-table-container",children:v?d.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[d.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading files from n8n..."]}):d.jsxs("table",{className:"fl-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:e("knowledge.fileName")}),d.jsx("th",{children:e("knowledge.size")}),d.jsx("th",{children:e("knowledge.lastModified")}),d.jsx("th",{children:e("knowledge.contentType")}),d.jsx("th",{children:e("knowledge.syncStatus")}),d.jsx("th",{children:e("knowledge.actions")})]})}),d.jsx("tbody",{children:D.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:6,style:{textAlign:"center",padding:"40px",color:"#666"},children:b?"Failed to load files":"No files found. Upload some files to get started."})}):D.map(_=>d.jsxs("tr",{children:[d.jsx("td",{className:"file-name",children:_.name}),d.jsx("td",{children:Tle(_.size)}),d.jsx("td",{children:new Date(_.uploadedAt).toLocaleString()}),d.jsx("td",{children:_.type}),d.jsx("td",{className:"sync-status-cell",children:d.jsx("button",{className:"sync-status-icon-btn",title:_.syncStatus==="synced"?"Synced":"Pending",children:_.syncStatus==="synced"?"✓":""})}),d.jsx("td",{children:d.jsxs("div",{className:"file-actions",children:[d.jsx("button",{className:"icon-action-btn",title:e("knowledge.download"),onClick:()=>B(_.name),children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"})})}),d.jsx("button",{className:"icon-action-btn delete-icon-btn",title:e("knowledge.delete"),onClick:()=>U(_.id,_.name),children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},_.id))})]})})]})},Ble=()=>{const{t:e}=Ze(),[t,n]=x.useState(""),[r,i]=x.useState(1),[a,o]=x.useState(500),[s,l]=x.useState(0),[c,u]=x.useState([]),[f,h]=x.useState(!1),[p,m]=x.useState(null),[g,v]=x.useState(null),[y,b]=x.useState(null),[w,S]=x.useState(!1),[j,k]=x.useState(null),[E,O]=x.useState("");x.useEffect(()=>{P()},[]);const P=async()=>{var L;h(!0),m(null);try{console.log("🔄 Loading documents from Supabase..."),console.log("⏰ Current time:",new Date().toISOString());const T=await gR();if(console.log("📋 Raw response:",T),console.log("📊 Total documents found:",T.total||0),console.log("📄 Documents array length:",((L=T.documents)==null?void 0:L.length)||0),T.documents&&T.documents.length>0&&(console.log("📅 Document creation times:"),T.documents.forEach((F,C)=>{console.log(`  ${C+1}. ID: ${F.id}, Metadata:`,F.metadata)})),T.success){const F=T.documents.map(C=>{var Y,J,te,ce,Fe,Z,G;const V=C.metadata||{};console.log("Document metadata:",V);let D="Unknown";V.fileName?D=V.fileName:V.source&&V.source!=="blob"?D=V.source:(J=(Y=V.pdf)==null?void 0:Y.info)!=null&&J.Title?D=V.pdf.info.Title:(ce=(te=V.pdf)==null?void 0:te.info)!=null&&ce.Creator?D=`Document by ${V.pdf.info.Creator}`:V.blobType&&(D=`document.${V.blobType.split("/")[1]||"pdf"}`);let _="";return(Fe=V.loc)!=null&&Fe.lines?_=`Lines ${V.loc.lines.from}-${V.loc.lines.to}`:(Z=V.loc)!=null&&Z.pageNumber?_=`Page ${V.loc.pageNumber}`:(G=V.pdf)!=null&&G.totalPages&&(_=`PDF (${V.pdf.totalPages} pages)`),{id:C.id.toString(),fileName:D,source:V.source||"blob",chunkIndex:V.chunkIndex||0,content:C.content,pageInfo:_,syncStatus:"synced"}});u(F),l(T.total),console.log(`✅ Loaded ${F.length} documents from Supabase`)}else m(T.message||"Failed to load documents"),console.error("Failed to load documents:",T.message)}catch(T){m("Failed to connect to Supabase. Please check your configuration."),console.error("Error loading documents:",T)}finally{h(!1)}},N=()=>{console.log("🔄 Manual refresh triggered by user"),O(new Date().toLocaleTimeString()),P()},I=L=>{v(L)},A=async L=>{b(L);try{const T=await $le(L);T.success?(alert(`✅ ${T.message}`),P()):alert(`❌ ${T.message}`)}catch(T){alert(`❌ Error indexing file: ${T}`)}finally{b(null)}},R=async L=>{if(confirm(`⚠️ Are you sure you want to unindex all chunks for "${L}"? This will remove ALL chunks for this file.`)){b(L);try{const T=await zle(L);T.success?(alert(`✅ ${T.message} (${T.deletedCount||0} chunks removed)`),P()):alert(`❌ ${T.message}`)}catch(T){alert(`❌ Error unindexing file: ${T}`)}finally{b(null)}}},M=L=>{const T=c.reduce((F,C)=>(F[C.fileName]||(F[C.fileName]={fileName:C.fileName,chunkCount:0,chunks:[]}),F[C.fileName].chunkCount++,F[C.fileName].chunks.push(C),F),{});k(T),S(!0)},U=c.filter(L=>L.fileName.toLowerCase().includes(t.toLowerCase())||L.source.toLowerCase().includes(t.toLowerCase())||L.content.toLowerCase().includes(t.toLowerCase())),B=Math.ceil(s/a);return d.jsxs("div",{className:"knowledge-index",children:[d.jsxs("div",{className:"ki-header",children:[d.jsx("h2",{className:"ki-title",children:e("knowledge.knowledgeIndex")}),d.jsx("p",{className:"ki-description",children:e("knowledge.knowledgeIndexDescription")})]}),d.jsxs("div",{className:"ki-controls",children:[d.jsx("div",{className:"ki-search",children:d.jsx("input",{type:"text",placeholder:e("knowledge.searchByTitleFilepathContent"),value:t,onChange:L=>n(L.target.value),className:"search-input"})}),d.jsxs("div",{className:"ki-pagination-info",children:[d.jsxs("span",{children:["Total items: ",s]}),d.jsxs("span",{children:["Page ",r," of ",B]})]}),d.jsxs("div",{className:"ki-items-per-page",children:[d.jsx("label",{children:"Items per page:"}),d.jsxs("select",{value:a,onChange:L=>o(Number(L.target.value)),className:"items-select",children:[d.jsx("option",{value:50,children:"50"}),d.jsx("option",{value:100,children:"100"}),d.jsx("option",{value:200,children:"200"}),d.jsx("option",{value:500,children:"500"}),d.jsx("option",{value:1e3,children:"1000"}),d.jsx("option",{value:2e3,children:"2000"}),d.jsx("option",{value:5e3,children:"5000"})]})]}),d.jsxs("div",{className:"ki-navigation",children:[d.jsx("button",{className:"nav-btn prev-btn",disabled:r===1,onClick:()=>i(L=>Math.max(1,L-1)),children:e("knowledge.previous")}),d.jsx("button",{className:"nav-btn next-btn",disabled:r===B,onClick:()=>i(L=>Math.min(B,L+1)),children:e("knowledge.next")})]}),d.jsxs("button",{className:"refresh-btn",onClick:N,disabled:f,children:[d.jsx("span",{className:"refresh-icon",children:"↻"}),f?"Loading...":e("knowledge.refresh"),E&&d.jsxs("span",{style:{fontSize:"0.8em",opacity:.7,marginLeft:"8px"},children:["(Last: ",E,")"]})]})]}),d.jsxs("div",{style:{backgroundColor:"var(--admin-bg-secondary)",border:"1px solid var(--admin-border)",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"0.9em"},children:[d.jsx("strong",{children:"🔍 Debug Info:"})," Total: ",s," | Showing: ",U.length," | Last Refresh: ",E||"Never"," |",d.jsx("button",{onClick:()=>{console.log("📊 Current documents state:",c),console.log("📊 Filtered documents:",U)},style:{marginLeft:"8px",padding:"2px 6px",fontSize:"0.8em"},children:"Log State"})]}),p&&d.jsx("div",{className:"error-message",style:{padding:"12px",backgroundColor:"#fee",color:"#c33",borderRadius:"4px",marginBottom:"16px"},children:p}),d.jsx("div",{className:"ki-table-container",children:f?d.jsxs("div",{className:"loading-state",style:{textAlign:"center",padding:"40px",color:"#666"},children:[d.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),"Loading documents..."]}):d.jsxs("table",{className:"ki-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"File Name"}),d.jsx("th",{children:"Chunk #"}),d.jsx("th",{children:"Source"}),d.jsx("th",{children:"Location"}),d.jsx("th",{children:"Content Preview"}),d.jsx("th",{children:"Sync"}),d.jsx("th",{children:"Actions"})]})}),d.jsx("tbody",{children:U.length===0?d.jsx("tr",{children:d.jsx("td",{colSpan:7,style:{textAlign:"center",padding:"40px",color:"#666"},children:p?"Failed to load documents":"No documents found. Upload and index files to see them here."})}):U.map(L=>d.jsxs("tr",{children:[d.jsx("td",{className:"doc-title",children:L.fileName}),d.jsx("td",{className:"doc-chunk-index",children:L.chunkIndex}),d.jsx("td",{className:"doc-source",children:L.source}),d.jsx("td",{className:"doc-page-info",children:L.pageInfo||"-"}),d.jsxs("td",{className:"doc-content",style:{maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[L.content.substring(0,100),"..."]}),d.jsx("td",{className:"sync-status-cell",children:d.jsx("button",{className:"sync-status-icon-btn",title:L.syncStatus==="synced"?"Synced":"Pending",children:L.syncStatus==="synced"?"✓":""})}),d.jsx("td",{children:d.jsxs("div",{className:"file-actions",children:[d.jsx("button",{className:"icon-action-btn",title:"View content",onClick:()=>I(L),children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),d.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),d.jsx("button",{className:"icon-action-btn",title:"Show metadata",onClick:()=>M(),children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),d.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),d.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]})}),d.jsx("button",{className:"icon-action-btn delete-icon-btn",title:"Unindex file",onClick:()=>R(L.fileName),disabled:y===L.fileName,children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("polyline",{points:"3 6 5 6 21 6"}),d.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})})]},L.id))})]})}),g&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>v(null),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:L=>L.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"Content Preview"}),d.jsx("button",{onClick:()=>v(null),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:"✕"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--admin-bg-secondary)"},children:d.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"File Name:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.fileName})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Chunk Index:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.chunkIndex})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Source:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.source})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Location:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:g.pageInfo||"N/A"})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Sync Status:"}),d.jsx("span",{className:"ml-2",style:{color:"var(--admin-text)"},children:d.jsx("span",{className:"sync-status-text",children:g.syncStatus==="synced"?"Synced":"Pending"})})]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",style:{color:"var(--admin-text-muted)"},children:"Chunk ID:"}),d.jsx("span",{className:"ml-2 font-mono text-xs",style:{color:"var(--admin-text-muted)"},children:g.id})]})]})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",style:{color:"var(--admin-text)"},children:"Full Content"}),d.jsx("div",{className:"p-4 rounded-lg border-2 font-mono text-sm whitespace-pre-wrap",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)",color:"var(--admin-text)",maxHeight:"500px",overflowY:"auto"},children:g.content})]})]}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsx("button",{onClick:()=>v(null),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})}),w&&j&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>S(!1),children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-6xl w-full max-h-[90vh] overflow-y-auto border-2",style:{backgroundColor:"var(--card, #2f2f2f)",borderColor:"var(--admin-border)",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},onClick:L=>L.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--admin-text)"},children:"📊 File Metadata & Chunk Information"}),d.jsx("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors",style:{color:"var(--admin-text-muted)"},children:"✕"})]}),d.jsx("div",{className:"space-y-6",children:Object.values(j).map(L=>d.jsxs("div",{className:"p-4 rounded-lg border-2",style:{backgroundColor:"var(--admin-bg-secondary)",borderColor:"var(--admin-border)"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h4",{className:"text-lg font-semibold",style:{color:"var(--admin-text)"},children:["📄 ",L.fileName]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:"rgba(59, 230, 255, 0.1)",color:"var(--admin-primary)"},children:[L.chunkCount," chunks"]}),d.jsx("button",{onClick:()=>A(L.fileName),disabled:y===L.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:y===L.fileName?"#6b7280":"#10b981",color:"white"},children:y===L.fileName?"⏳ Indexing...":"📤 Index"}),d.jsx("button",{onClick:()=>R(L.fileName),disabled:y===L.fileName,className:"px-3 py-1 rounded text-sm font-medium transition-colors",style:{backgroundColor:y===L.fileName?"#6b7280":"#ef4444",color:"white"},children:y===L.fileName?"⏳ Unindexing...":"🗑️ Unindex"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.chunks.map((T,F)=>d.jsx("div",{className:"p-3 rounded border",style:{backgroundColor:"var(--admin-card)",borderColor:"var(--admin-border)"},children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--admin-text)"},children:["Chunk #",T.chunkIndex]}),d.jsxs("span",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["ID: ",T.id]})]}),d.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Source: ",T.source]}),d.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Location: ",T.pageInfo||"N/A"]}),d.jsxs("div",{className:"text-xs",style:{color:"var(--admin-text-muted)"},children:["Status: ",d.jsx("span",{className:"sync-status-text",children:T.syncStatus==="synced"?"Synced":"Pending"})]}),d.jsxs("div",{className:"text-xs font-mono",style:{color:"var(--admin-text-muted)",maxHeight:"60px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:[T.content.substring(0,100),"..."]})]})},T.id))})]},L.fileName))}),d.jsx("div",{className:"flex justify-center mt-6",children:d.jsx("button",{onClick:()=>S(!1),className:"px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",style:{backgroundColor:"var(--admin-primary)",color:"white",boxShadow:"0 4px 14px 0 rgba(59, 230, 255, 0.3)"},children:"Close"})})]})})]})},Wle=()=>{const{t:e}=Ze(),[t,n]=x.useState(""),[r]=x.useState(new Date().toLocaleString()),a=[{id:"1",fileName:"2025 Payroll & Holiday S...",blobStatus:"synced",lastModified:"10/1/2025, 11:58:00 AM",indexStatus:"synced",chunks:3,syncStatus:"synced"},{id:"2",fileName:"333 & 777 Rewards Prog...",blobStatus:"synced",lastModified:"10/1/2025, 11:55:00 AM",indexStatus:"synced",chunks:5,syncStatus:"synced"},{id:"3",fileName:"Dental - Alltech 09492...",blobStatus:"synced",lastModified:"10/1/2025, 11:52:00 AM",indexStatus:"synced",chunks:2,syncStatus:"synced"},{id:"4",fileName:"Employee Handbook 20...",blobStatus:"synced",lastModified:"10/1/2025, 11:48:00 AM",indexStatus:"synced",chunks:8,syncStatus:"synced"},{id:"5",fileName:"For business trips and g...",blobStatus:"synced",lastModified:"10/1/2025, 11:45:00 AM",indexStatus:"synced",chunks:4,syncStatus:"synced"},{id:"6",fileName:"Green Card support qual...",blobStatus:"synced",lastModified:"10/1/2025, 11:42:00 AM",indexStatus:"synced",chunks:3,syncStatus:"synced"},{id:"7",fileName:"Health - 012025 RBS Te...",blobStatus:"synced",lastModified:"10/1/2025, 11:38:00 AM",indexStatus:"synced",chunks:6,syncStatus:"synced"},{id:"8",fileName:"HR MEMORANDUM2018...",blobStatus:"synced",lastModified:"10/1/2025, 11:35:00 AM",indexStatus:"synced",chunks:2,syncStatus:"synced"}].filter(l=>l.fileName.toLowerCase().includes(t.toLowerCase())),o=l=>{switch(l){case"synced":return"✓";case"pending":return"⏳";case"error":return"❌";default:return"❓"}},s=l=>{switch(l){case"synced":return e("knowledge.synced");case"pending":return e("knowledge.pending");case"error":return e("knowledge.error");default:return e("knowledge.unknown")}};return d.jsxs("div",{className:"sync-overview",children:[d.jsxs("div",{className:"so-header",children:[d.jsx("h2",{className:"so-title",children:e("knowledge.syncOverview")}),d.jsx("p",{className:"so-description",children:e("knowledge.syncOverviewDescription")})]}),d.jsxs("div",{className:"so-controls",children:[d.jsx("div",{className:"so-search",children:d.jsx("input",{type:"text",placeholder:e("knowledge.searchByFilename"),value:t,onChange:l=>n(l.target.value),className:"search-input"})}),d.jsxs("div",{className:"so-last-updated",children:["Last updated: ",r]}),d.jsxs("button",{className:"refresh-btn",onClick:()=>window.location.reload(),children:[d.jsx("span",{className:"refresh-icon",children:"↻"}),e("knowledge.refresh")]})]}),d.jsx("div",{className:"so-table-container",children:d.jsxs("table",{className:"so-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:e("knowledge.fileName")}),d.jsx("th",{children:e("knowledge.blobStatusLastModified")}),d.jsx("th",{children:e("knowledge.indexStatusChunks")}),d.jsx("th",{children:e("knowledge.syncStatus")}),d.jsx("th",{children:e("knowledge.actions")})]})}),d.jsx("tbody",{children:a.map(l=>d.jsxs("tr",{children:[d.jsx("td",{className:"file-name",children:l.fileName}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`status-icon ${l.blobStatus}`,children:o(l.blobStatus)}),d.jsx("span",{className:"status-date",children:l.lastModified})]})}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`status-icon ${l.indexStatus}`,children:o(l.indexStatus)}),d.jsxs("span",{className:"chunks-info",children:[l.chunks," chunks"]})]})}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`status-icon ${l.syncStatus}`,children:o(l.syncStatus)}),d.jsx("span",{className:"status-text",children:s(l.syncStatus)})]})}),d.jsx("td",{children:d.jsxs("div",{className:"file-actions",children:[d.jsx("button",{className:"action-btn stop-btn",title:e("knowledge.stop"),children:"✕"}),d.jsx("button",{className:"action-btn download-btn",title:e("knowledge.download"),children:"↓"}),d.jsx("button",{className:"action-btn delete-btn",title:e("knowledge.delete"),children:"🗑️"})]})})]},l.id))})]})})]})};const Kle=()=>{const{t:e}=Ze(),{theme:t}=Za(),[n,r]=x.useState("file-library"),i=[{id:"file-library",label:e("knowledge.fileLibrary")},{id:"knowledge-index",label:e("knowledge.knowledgeIndex")},{id:"sync-overview",label:e("knowledge.syncOverview")}],a=()=>{switch(n){case"file-library":return d.jsx(uC,{});case"knowledge-index":return d.jsx(Ble,{});case"sync-overview":return d.jsx(Wle,{});default:return d.jsx(uC,{})}};return d.jsxs("div",{className:"knowledge-management","data-theme":t,children:[d.jsx("div",{className:"km-header",children:d.jsxs("div",{className:"km-title-section",children:[d.jsx("h1",{className:"km-title",children:e("knowledge.title")}),d.jsx("p",{className:"km-subtitle",children:e("knowledge.subtitle")})]})}),d.jsx("div",{className:"km-tabs",children:i.map(o=>d.jsx("button",{className:`km-tab ${n===o.id?"active":""}`,onClick:()=>r(o.id),children:o.label},o.id))}),d.jsx("div",{className:"km-content",children:a()})]})},Hle="1X5lAcD0uJVtmbEdPjnP6XlesS3pzsmd_",qle="608001025",dC=`https://docs.google.com/spreadsheets/d/${Hle}/export?format=csv&gid=${qle}`;async function Vle(e="simple"){try{console.log("🔄 Fetching from Google Sheets:",dC);const t=await fetch(dC,{cache:"no-store",mode:"cors"});if(console.log("📊 Response status:",t.status),!t.ok)throw new Error(`Sheets CSV fetch failed: ${t.status}`);const n=await t.text();console.log("📄 CSV data received, length:",n.length);const r=n.split(`
`).filter(s=>s.trim());if(r.length===0)return console.log("⚠️ No data in CSV, using dummy data"),Xm();const i=r[0].split(",").map(s=>s.trim().replace(/"/g,""));console.log("📋 Headers found:",i);const a=[];for(let s=1;s<r.length;s++){const l=r[s].split(",").map(c=>c.trim().replace(/"/g,""));if(l.length>=i.length&&l[0]){const c={};i.forEach((f,h)=>{c[f]=l[h]||""});const u={Date:String(c.Date||c.date||"").slice(0,10),Toxicity:Number(c.Toxicity||0),"Prompt Injection":Number(c["Prompt Injection"]||c.PromptInjection||0),"Answer Correctness":Number(c["Answer Correctness"]||c.Correctness||0),"Answer Relevancy":Number(c["Answer Relevancy"]||c.Relevancy||0),Length:Number(c.Length||0),Tone:Number(c.Tone||0),isSimulated:!1};u.Date&&u.Date!=="0000-00-00"&&a.push(u)}}const o=a.sort((s,l)=>s.Date.localeCompare(l.Date));return o.length===0?(console.log("⚠️ No valid rows found, using dummy data"),Xm()):(console.log("✅ Successfully loaded",o.length,"real rows from Google Sheets"),o.length<30?(console.log(`📅 Adding estimated data with ${e} mode`),Gle(o,e)):o)}catch(t){return console.error("❌ Failed to fetch Google Sheets data:",t),console.log("🔄 Using dummy data instead"),Xm()}}function Gle(e,t){const n=[],r=new Date;r.setHours(0,0,0,0);let i=r;if(e.length>0){const s=new Date(e[e.length-1].Date);i=s<r?s:r}for(let s=29;s>=0;s--){const c=new Date(i.getTime()-s*24*60*60*1e3).toISOString().split("T")[0],u=e.find(f=>f.Date===c);if(u)n.push(u);else{const f=e[e.length-1]||Xle();let h;switch(t){case"simple":h=fC(f,c);break;case"improved":h=Yle(f,c,s);break;case"realistic":h=Jle(f,c,s);break;default:h=fC(f,c)}n.push(h)}}const a=n.filter(s=>s.isSimulated).length,o=n.filter(s=>!s.isSimulated).length;return console.log(`📈 Generated data (${t}): ${o} real + ${a} simulated = ${n.length} total`),n.sort((s,l)=>s.Date.localeCompare(l.Date))}function fC(e,t){const n=(Math.random()-.5)*.1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+n)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+n)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+n)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+n)),Length:Math.max(0,Math.min(1,e.Length+n)),Tone:Math.max(0,Math.min(1,e.Tone+n)),isSimulated:!0}}function Yle(e,t,n){const r=(Math.random()-.5)*.08,i=Math.sin(n/7*Math.PI)*.02,a=r+i;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity+a*.5)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]+a*.5)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]+a)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]+a)),Length:Math.max(0,Math.min(1,e.Length+a*1.2)),Tone:Math.max(0,Math.min(1,e.Tone+a*1.2)),isSimulated:!0}}function Jle(e,t,n){const i=1-Math.abs(n-29)*.005,a=(Math.random()-.5)*.03,o=(Math.random()-.5)*.06,s=(Math.random()-.5)*.1,c=new Date(t).getDay(),u=c===0||c===6?.95:1;return{Date:t,Toxicity:Math.max(0,Math.min(1,e.Toxicity*i*u+a)),"Prompt Injection":Math.max(0,Math.min(1,e["Prompt Injection"]*i*u+a)),"Answer Correctness":Math.max(0,Math.min(1,e["Answer Correctness"]*i*u+o)),"Answer Relevancy":Math.max(0,Math.min(1,e["Answer Relevancy"]*i*u+o)),Length:Math.max(0,Math.min(1,e.Length*i+s)),Tone:Math.max(0,Math.min(1,e.Tone*i+s)),isSimulated:!0}}function Xle(){return{Date:"",Toxicity:.8,"Prompt Injection":.85,"Answer Correctness":.8,"Answer Relevancy":.85,Length:.7,Tone:.75,isSimulated:!1}}function Xm(){console.log("🎲 Generating dummy radar data...");const e=[],t=new Date;t.setHours(0,0,0,0);for(let n=30;n>=0;n--){const i=new Date(t.getTime()-n*24*60*60*1e3).toISOString().split("T")[0];e.push({Date:i,Toxicity:Math.random()*.3+.7,"Prompt Injection":Math.random()*.2+.8,"Answer Correctness":Math.random()*.2+.8,"Answer Relevancy":Math.random()*.15+.85,Length:Math.random()*.3+.7,Tone:Math.random()*.25+.75,isSimulated:!0})}return console.log("✅ Generated",e.length,"dummy rows"),e}function Qle(e,t){return t?e:e.filter(n=>!n.isSimulated)}function qu(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function Zle(){const e=In(),[t]=F$(),n=Qa(),{theme:r}=Za(),{t:i}=Ze(),[a,o]=x.useState(!1),[,s]=x.useState(""),[,l]=x.useState(""),[c,u]=x.useState([]),[f,h]=x.useState(""),[p,m]=x.useState(!0),[g,v]=x.useState("simple"),[y,b]=x.useState(null),[w,S]=x.useState(null),[j,k]=x.useState(0),[E,O]=x.useState(0),[P,N]=x.useState(0),I=new Date().toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});x.useEffect(()=>{const D=new Date,_=new Date;_.setDate(D.getDate()-6),s(qu(_)),l(qu(D)),R(),A()},[]);const A=async()=>{try{const D=await Lf(1e3);k(D.length);const _=await Ba();if(_.length>0){const te=_.filter(ce=>ce.reaction==="good").length/_.length*100;O(Math.round(te*10)/10)}else O(0);const Y=await gR();Y.success&&N(Y.total),console.log("✅ Metrics loaded:",{conversations:D.length,satisfaction:E,documents:Y.total})}catch(D){console.error("❌ Failed to load metrics:",D)}};x.useEffect(()=>{R()},[g]);const R=async()=>{try{console.log("📊 Loading Google Sheets data for Performance Timeline...");const D=await Vle(g);u(D),D.length>0&&h(D[D.length-1].Date),console.log("✅ Loaded",D.length,"days of performance data")}catch(D){console.error("❌ Failed to load radar data:",D)}},M=Qle(c,p),U=M.find(D=>D.Date===f)||M[M.length-1],B=U?{relevance:Math.round(U["Answer Relevancy"]*100),tone:Math.round(U.Tone*100),length:Math.round(U.Length*100),accuracy:Math.round(U["Answer Correctness"]*100),toxicity:Math.round(U.Toxicity*100),promptInjection:Math.round(U["Prompt Injection"]*100)}:{relevance:85,tone:78,length:82,accuracy:92,toxicity:95,promptInjection:88},L=Math.round((B.relevance+B.tone+B.length+B.accuracy+B.toxicity+B.promptInjection)/6);x.useEffect(()=>{const D=t.get("section");D&&setTimeout(()=>{C(D)},500)},[t]);const T=()=>{try{Qo()}catch{}localStorage.removeItem("authToken"),sessionStorage.removeItem("axAccess"),e("/",{replace:!0})},F=()=>{o(!a)},C=D=>{const _=document.getElementById(D);_&&_.scrollIntoView({behavior:"smooth",block:"start"})},V=D=>{S(D),b(D);const _=document.getElementById("recent-conversations");_&&_.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{b(null)},3e3)};return d.jsx("div",{className:"admin-layout","data-theme":r,children:d.jsxs("div",{className:"dashboard-layout",children:[d.jsx(Foe,{performanceScore:L,performanceDate:qu(new Date),currentTime:I,onSignOut:T}),d.jsxs("div",{className:"dashboard-content",children:[d.jsx(Uoe,{conversations:j,satisfaction:E,documents:P,performanceScore:L,performanceDate:qu(new Date),isCollapsed:a,onToggleCollapse:F,onScrollToSection:C}),d.jsx("main",{className:"dashboard-main",children:n.pathname==="/admin/knowledge-management"?d.jsx(Kle,{}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"dashboard-grid",children:d.jsx("div",{className:"grid-left",children:d.jsx("div",{id:"performance-radar",children:d.jsx(Boe,{...B,timelineData:M,selectedDate:f,onDateChange:h,includeSimulatedData:p,onIncludeSimulatedDataChange:m,estimationMode:g,onEstimationModeChange:v})})})}),d.jsxs("div",{className:"content-module",children:[d.jsx("div",{id:"daily-message-activity",className:"content-section",children:d.jsx(Koe,{})}),d.jsxs("div",{id:"recent-conversations",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:i("admin.recentConversations")}),d.jsx(Joe,{scrollToChatId:w,highlightedChatId:y,onScrollComplete:()=>S(null)})]}),d.jsxs("div",{id:"admin-feedback",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:"Admin Feedback"}),d.jsx(Qoe,{onScrollToChat:V})]}),d.jsxs("div",{id:"user-feedback",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:i("admin.userFeedback")}),d.jsx(Xoe,{onScrollToChat:V})]}),d.jsxs("div",{id:"prompt-control",className:"content-section",children:[d.jsx("h2",{className:"section-title",children:i("admin.promptControl")}),d.jsx(Yoe,{})]})]})]})})]})]})})}const Ur=({children:e,requiredRole:t})=>zP(t)?d.jsx(d.Fragment,{children:e}):d.jsx(FP,{to:"/",replace:!0}),ece=()=>d.jsx(U$,{children:d.jsx(B$,{children:d.jsx($$,{children:d.jsx("div",{className:"App",children:d.jsxs(D$,{children:[d.jsx(Fn,{path:"/",element:d.jsx(V$,{})}),d.jsx(Fn,{path:"/chat",element:d.jsx(Ur,{requiredRole:"user",children:d.jsx(zk,{})})}),d.jsx(Fn,{path:"/chat/:sessionId",element:d.jsx(Ur,{requiredRole:"user",children:d.jsx(zk,{})})}),d.jsx(Fn,{path:"/dashboard",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(z9,{})})}),d.jsx(Fn,{path:"/settings",element:d.jsx(Ur,{requiredRole:"user",children:d.jsx(B9,{})})}),d.jsx(Fn,{path:"/admin/dashboard",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(Zle,{})})}),d.jsx(Fn,{path:"/admin",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(Ku,{})})}),d.jsx(Fn,{path:"/admin/usage",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(Ku,{})})}),d.jsx(Fn,{path:"/admin/prompt",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(Ku,{})})}),d.jsx(Fn,{path:"/admin/knowledge",element:d.jsx(Ur,{requiredRole:"admin",children:d.jsx(Ku,{})})}),d.jsx(Fn,{path:"*",element:d.jsx(FP,{to:"/",replace:!0})})]})})})})});Qm.createRoot(document.getElementById("root")).render(d.jsx(Wi.StrictMode,{children:d.jsx(ece,{})}));
