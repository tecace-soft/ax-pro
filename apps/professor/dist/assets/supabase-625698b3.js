import{c as l}from"./index-8a9b52ab.js";const s="axpro_supabase_url",c="axpro_supabase_anon_key",n={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_URL||"https://qpyteahuynkgkbmdasbv.supabase.co",a={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFweXRlYWh1eW5rZ2tibWRhc2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5NDk2NTcsImV4cCI6MjA3NTUyNTY1N30.qvp5ox6Xm0wYcZK89S2MYVu18fqyfYmT8nercIFMKOY";let o=null,r=null;const S=()=>{const e=i(),t=`${e.url}:${e.anonKey}`;if(!o||r!==t){if(!e.url||!e.anonKey)throw new Error("Supabase configuration not set. Please configure in Settings > Database.");o=l(e.url,e.anonKey),r=t,console.log("âœ… Supabase client initialized")}return o},i=()=>{try{const e=localStorage.getItem(s)||n,t=localStorage.getItem(c)||a;return{url:e,anonKey:t}}catch(e){return console.error("Failed to get Supabase config:",e),{url:n,anonKey:a}}},p=e=>{try{localStorage.setItem(s,e.url),localStorage.setItem(c,e.anonKey)}catch(t){console.error("Failed to save Supabase config:",t)}},E=async e=>{try{if(!e.url||!e.anonKey)return!1;const t=await fetch(`${e.url}/rest/v1/prompts?select=id&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:e.anonKey,Authorization:`Bearer ${e.anonKey}`}});return console.log("Supabase connection test response:",t.status),t.ok}catch(t){return console.error("Supabase connection test failed:",t),!1}};export{S as getSupabaseClient,i as getSupabaseConfig,p as saveSupabaseConfig,E as testSupabaseConnection};
