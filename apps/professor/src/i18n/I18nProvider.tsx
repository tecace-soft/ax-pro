import React, { createContext, useContext, useEffect, useState } from 'react';

type Language = 'en' | 'ko';

interface I18nContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

const LANG_STORAGE_KEY = 'axpro_lang';

const translations = {
  en: {
    'app.brand': 'AX PRO PLATFORM',
    'auth.title.chat': 'Sign in',
    'auth.title.admin': 'Sign in',
    'auth.subtitle.chat': 'Continue to the Chat Interface',
    'auth.subtitle.admin': 'Continue to the Administrative Console',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.continue': 'Continue',
    'auth.error': 'Invalid credentials. Try the demo accounts.',
    'auth.demoHint': 'Demo: demo@tecace.com / demo1234 · admin@tecace.com / admin1234',
    'link.toAdmin': 'Sign in to the Admin Console',
    'link.toChat': 'Use Chat Interface sign-in',
    'ui.theme.light': 'Light',
    'ui.theme.dark': 'Dark',
    'ui.lang.en': 'English',
    'ui.lang.ko': '한국어',
    'chat.title': 'Chat Interface',
    'chat.welcome': 'Welcome to the chat interface',
    'dashboard.title': 'Admin Console',
    'dashboard.welcome': 'Welcome to the admin console',
    'auth.signOut': 'Sign out',
    'dashboard.timeline': 'Performance Timeline',
    'dashboard.activity': 'Daily Message Activity',
    'usage.sessions': 'Recent Conversations',
    'usage.messages': 'Messages',
    'usage.feedback.admin': 'Admin Feedback',
    'usage.feedback.user': 'User Feedback',
    'mgmt.prompt': 'Prompt Control',
    'mgmt.knowledge': 'Knowledge Management',
    'actions.new': 'New',
    'actions.refresh': 'Refresh',
    'actions.save': 'Save',
    'actions.revert': 'Revert',
    'actions.test': 'Test',
    'actions.open': 'Open',
    'actions.rename': 'Rename',
    'actions.close': 'Close',
    'actions.delete': 'Delete',
    'filters.status': 'Status',
    'filters.search': 'Search',
    'labels.title': 'Title',
    'labels.lastActivity': 'Last activity',
    'labels.count': 'Count',
    'labels.status': 'Status',
    'context.rename': 'Rename',
    'context.reopen': 'Reopen',
    'context.close': 'Close',
    'context.deletePermanently': 'Delete permanently',
    'context.confirmDelete': 'Are you sure you want to permanently delete this conversation? This action cannot be undone.',
    'context.confirmDeleteClosed': 'Are you sure you want to permanently delete this closed conversation? This action cannot be undone.',
    'context.deleteFailed': 'Failed to delete session. Please try again.',
    'ui.user': 'User',
    'ui.settings': 'Settings',
    'ui.signOut': 'Sign Out',
    'ui.demoMode': 'Demo Mode',
    'ui.demoModeDescription': 'Backend not running. Chat features limited.',
    'ui.newChat': 'New Chat',
    'ui.searchConversations': 'Search conversations...',
    'ui.all': 'All',
    'ui.open': 'Open',
    'ui.closed': 'Closed',
    'ui.noConversations': 'No conversations yet',
    'ui.startConversation': 'Start a new conversation to begin chatting',
    'ui.startNewChat': 'Start New Chat',
    'ui.backendNote': 'Note: Full chat features require backend server',
    'ui.selectConversation': 'Select a conversation from the sidebar or start a new chat',
    'ui.newChatTitle': 'New Chat',
    'ui.closeChat': 'Close Chat',
    'ui.justNow': 'Just now',
    'ui.typeMessage': 'Type a message... (Enter to send, Shift+Enter for new line)',
    'ui.send': 'Send',
    'ui.sending': 'Sending...',
    'ui.suggestedQuestions': 'Suggested questions',
    'ui.question1': 'What is artificial intelligence?',
    'ui.question2': 'How does machine learning work?',
    'ui.question3': 'Explain quantum computing',
    'ui.question4': 'What are the benefits of cloud computing?',
    'admin.performance': 'Performance',
    'admin.excellent': 'Excellent',
    'admin.good': 'Good',
    'admin.fair': 'Fair',
    'admin.poor': 'Poor',
    'admin.conversations': 'Conversations',
    'admin.overview': 'Overview',
    'admin.documents': 'Documents',
    'admin.navigation': 'Navigation',
    'admin.activity': 'Activity',
    'admin.feedback': 'Feedback',
    'admin.knowledgeBase': 'Knowledge Management',
    'admin.satisfaction': 'Satisfaction',
    'admin.metrics': 'Metrics',
    'admin.recentConversations': 'Recent Conversations',
    'admin.userFeedback': 'User Feedback',
    'admin.promptControl': 'Prompt Control',
    'admin.systemPrompt': 'System Prompt Control',
    'admin.lastRefreshed': 'Last refreshed',
    'admin.loading': 'Loading...',
    'admin.saving': 'Saving...',
    'admin.saveChanges': 'Save Changes',
    'admin.confirmUpdate': 'Confirm Update',
    'admin.confirmUpdateMessage': 'This will update the system prompt for the chatbot. Are you sure you would like to proceed?',
    'admin.cancel': 'Cancel',
    'admin.confirm': 'Confirm',
    'admin.success': 'Success',
    'admin.error': 'Error',
    'admin.close': 'Close',
    'admin.goToChat': 'Go to Chat Interface',
    'admin.notifications': 'Notifications',
    'admin.toggleTheme': 'Toggle theme',
    'admin.userProfile': 'User profile',
    'admin.signOut': 'Sign out',
    'admin.performanceRadar': 'Performance Radar',
    'admin.performanceRadarDesc': 'Monitor AI response quality and security performance across 6 key metrics in real-time for optimal user experience',
    'admin.dailyMessageActivity': 'Daily Message Activity',
    'admin.moduleControl': 'Module Control',
    'admin.relevance': 'Relevance',
    'admin.tone': 'Tone',
    'admin.length': 'Length',
    'admin.accuracy': 'Accuracy',
    'admin.toxicity': 'Toxicity',
    'admin.promptInjection': 'Prompt Injection',
    'admin.contentMatching': 'Content Matching',
    'admin.responseStyle': 'Response Style',
    'admin.responseSize': 'Response Size',
    'admin.correctAnswers': 'Correct Answers',
    'admin.safetyCheck': 'Safety Check',
    'admin.securityFilter': 'Security Filter',
    'admin.performanceTimeline': 'Performance Timeline',
    'admin.date': 'Date',
    'admin.actual': 'Actual',
    'admin.estimated': 'Estimated',
    'admin.totalMessages': 'Total Messages',
    'admin.userFeedbackCount': 'User Feedback',
    'admin.adminReviews': 'Admin Reviews',
    'admin.corrected': 'Corrected',
    'admin.messages': 'Messages',
    'admin.sortBy': 'Sort by',
    'admin.search': 'Search',
    'admin.exportCSV': 'Export CSV',
    'admin.dateTimeNewest': 'Date/Time (Newest)',
    'admin.dateTimeOldest': 'Date/Time (Oldest)',
    'admin.user': 'User',
    'admin.userMessage': 'User Message',
    'admin.aiResponse': 'AI Response',
    'admin.searchConversations': 'Search conversations...',
    'admin.avgPerDay': 'avg/day',
    'admin.average': 'Average',
    'admin.approval': 'Approval',
    'admin.uniqueUsers': 'Unique Users',
    'admin.last3Days': 'Last 3 days',
    'admin.last7Days': 'Last 7 days',
    'admin.last30Days': 'Last 30 days',
    'admin.last3Months': 'Last 3 months',
    'admin.last6Months': 'Last 6 months',
    'admin.lastYear': 'Last year',
    'admin.customRange': 'Custom range',
    'admin.ragManagement': 'RAG Management',
    'admin.ragDescription': 'Upload and manage documents for the RAG (Retrieval-Augmented Generation) system',
    'admin.uploadingFiles': 'Uploading files...',
    'admin.dropFilesHere': 'Drop files here to upload',
    'admin.clickToUpload': 'Click to upload or drag and drop files',
    'admin.supportedFormats': 'Supports PDF, Word, Excel, CSV, TXT, MD, JSON, HTML',
    'admin.uploadResults': 'Upload Results',
    'admin.clear': 'Clear',
    'admin.uploadedFiles': 'Uploaded Files',
    'admin.status.uploading': 'Uploading',
    'admin.status.processing': 'Processing',
    'admin.status.ready': 'Ready',
    'admin.status.error': 'Error',
    'admin.removeFile': 'Remove file',
    'admin.instructions': 'Instructions',
    'admin.instruction1': 'Upload documents to enhance the AI\'s knowledge base',
    'admin.instruction2': 'Supported formats: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML',
    'admin.instruction3': 'Files are automatically processed and vectorized for search',
    'admin.instruction4': 'Maximum file size: 10MB per file',
    'admin.searchFiles': 'Search files...',
    'admin.name': 'Name',
    'admin.size': 'Size',
    'admin.reindexFile': 'Re-index file',
    'admin.deleteFile': 'Delete file',
    'admin.confirmDeleteFile': 'Are you sure you want to delete this file?',
    'admin.deleteError': 'Failed to delete file',
    'knowledge.title': 'Knowledge Management',
    'knowledge.subtitle': 'Manage files and knowledge base for AI chatbot',
    'knowledge.note': 'Files are stored in the **File Library**, while the **Knowledge Index** holds their searchable content. These can differ. Check the **Sync Overview** tab to see if they\'re in sync.',
    'knowledge.fileLibrary': 'File Library',
    'knowledge.knowledgeIndex': 'Knowledge Index',
    'knowledge.syncOverview': 'Sync Overview',
    'knowledge.fileLibraryDescription': 'Manage files in your library (upload/delete). Knowledge indexing is handled in the next section.',
    'knowledge.knowledgeIndexDescription': 'Documents indexed for AI chatbot knowledge queries',
    'knowledge.syncOverviewDescription': 'Monitor synchronization status between files and knowledge index',
    'knowledge.dragFilesHere': 'Drag text files here to upload or click to select',
    'knowledge.supportedFormats': 'Supported formats: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx',
    'knowledge.uploadingFiles': 'Uploading files...',
    'knowledge.searchByFilename': 'Search by filename...',
    'knowledge.searchByTitleFilepathContent': 'Search by title, filepath, or content...',
    'knowledge.refresh': 'Refresh',
    'knowledge.loading': 'Loading...',
    'knowledge.fileName': 'File Name',
    'knowledge.size': 'Size',
    'knowledge.lastModified': 'Last Modified',
    'knowledge.contentType': 'Content Type',
    'knowledge.syncStatus': 'Sync Status',
    'knowledge.actions': 'Actions',
    'knowledge.documentTitle': 'Title',
    'knowledge.parentId': 'Parent ID',
    'knowledge.chunkId': 'Chunk ID',
    'knowledge.url': 'URL',
    'knowledge.sync': 'Sync',
    'knowledge.view': 'View',
    'knowledge.download': 'Download',
    'knowledge.delete': 'Delete',
    'knowledge.stop': 'Stop',
    'knowledge.previous': 'Previous',
    'knowledge.next': 'Next',
    'knowledge.synced': 'Synced',
    'knowledge.pending': 'Pending',
    'knowledge.error': 'Error',
    'knowledge.unknown': 'Unknown',
    'knowledge.blobStatusLastModified': 'Blob Status / Last Modified',
    'knowledge.indexStatusChunks': 'Index Status / Chunks',
  },
  ko: {
    'app.brand': 'AX PRO 플랫폼',
    'auth.title.chat': '로그인',
    'auth.title.admin': '로그인',
    'auth.subtitle.chat': '채팅 인터페이스로 이동',
    'auth.subtitle.admin': '관리자 콘솔로 이동',
    'auth.email': '이메일',
    'auth.password': '비밀번호',
    'auth.continue': '계속',
    'auth.error': '계정 정보가 올바르지 않습니다. 데모 계정을 사용해 보세요.',
    'auth.demoHint': '데모: demo@tecace.com / demo1234 · admin@tecace.com / admin1234',
    'link.toAdmin': '관리자 콘솔로 이동',
    'link.toChat': '채팅 인터페이스로 이동',
    'ui.theme.light': '라이트',
    'ui.theme.dark': '다크',
    'ui.lang.en': '영어',
    'ui.lang.ko': '한국어',
    'chat.title': '채팅 인터페이스',
    'chat.welcome': '채팅 인터페이스에 오신 것을 환영합니다',
    'dashboard.title': '관리자 콘솔',
    'dashboard.welcome': '관리자 콘솔에 오신 것을 환영합니다',
    'auth.signOut': '로그아웃',
    'dashboard.timeline': '성능 타임라인',
    'dashboard.activity': '일일 메시지 활동',
    'usage.sessions': '최근 대화',
    'usage.messages': '메시지',
    'usage.feedback.admin': '관리자 피드백',
    'usage.feedback.user': '사용자 피드백',
    'mgmt.prompt': '프롬프트 제어',
    'mgmt.knowledge': '지식 관리',
    'actions.new': '새로 만들기',
    'actions.refresh': '새로고침',
    'actions.save': '저장',
    'actions.revert': '되돌리기',
    'actions.test': '테스트',
    'actions.open': '열기',
    'actions.rename': '이름 변경',
    'actions.close': '닫기',
    'actions.delete': '삭제',
    'filters.status': '상태',
    'filters.search': '검색',
    'labels.title': '제목',
    'labels.lastActivity': '마지막 활동',
    'labels.count': '개수',
    'labels.status': '상태',
    'context.rename': '이름 변경',
    'context.reopen': '다시 열기',
    'context.close': '닫기',
    'context.deletePermanently': '영구 삭제',
    'context.confirmDelete': '이 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.',
    'context.confirmDeleteClosed': '이 닫힌 대화를 영구적으로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.',
    'context.deleteFailed': '세션 삭제에 실패했습니다. 다시 시도해 주세요.',
    'ui.user': '사용자',
    'ui.settings': '설정',
    'ui.signOut': '로그아웃',
    'ui.demoMode': '데모 모드',
    'ui.demoModeDescription': '백엔드가 실행되지 않습니다. 채팅 기능이 제한됩니다.',
    'ui.newChat': '새 채팅',
    'ui.searchConversations': '대화 검색...',
    'ui.all': '전체',
    'ui.open': '열림',
    'ui.closed': '닫힘',
    'ui.noConversations': '아직 대화가 없습니다',
    'ui.startConversation': '새 대화를 시작하여 채팅을 시작하세요',
    'ui.startNewChat': '새 채팅 시작',
    'ui.backendNote': '참고: 전체 채팅 기능은 백엔드 서버가 필요합니다',
    'ui.selectConversation': '사이드바에서 대화를 선택하거나 새 채팅을 시작하세요',
    'ui.newChatTitle': '새 채팅',
    'ui.closeChat': '채팅 닫기',
    'ui.justNow': '방금 전',
    'ui.typeMessage': '메시지를 입력하세요... (Enter로 전송, Shift+Enter로 새 줄)',
    'ui.send': '전송',
    'ui.sending': '전송 중...',
    'ui.suggestedQuestions': '추천 질문',
    'ui.question1': '인공지능이란 무엇인가요?',
    'ui.question2': '머신러닝은 어떻게 작동하나요?',
    'ui.question3': '양자 컴퓨팅을 설명해주세요',
    'ui.question4': '클라우드 컴퓨팅의 장점은 무엇인가요?',
    'admin.performance': '성능',
    'admin.excellent': '우수',
    'admin.good': '좋음',
    'admin.fair': '보통',
    'admin.poor': '미흡',
    'admin.conversations': '대화',
    'admin.overview': '개요',
    'admin.documents': '문서',
    'admin.navigation': '네비게이션',
    'admin.activity': '활동',
    'admin.feedback': '피드백',
    'admin.knowledgeBase': '지식 관리',
    'admin.satisfaction': '만족도',
    'admin.metrics': '지표',
    'admin.recentConversations': '최근 대화',
    'admin.userFeedback': '사용자 피드백',
    'admin.promptControl': '프롬프트 제어',
    'admin.systemPrompt': '시스템 프롬프트 제어',
    'admin.lastRefreshed': '마지막 새로고침',
    'admin.loading': '로딩 중...',
    'admin.saving': '저장 중...',
    'admin.saveChanges': '변경사항 저장',
    'admin.confirmUpdate': '업데이트 확인',
    'admin.confirmUpdateMessage': '챗봇의 시스템 프롬프트를 업데이트합니다. 계속하시겠습니까?',
    'admin.cancel': '취소',
    'admin.confirm': '확인',
    'admin.success': '성공',
    'admin.error': '오류',
    'admin.close': '닫기',
    'admin.goToChat': '채팅 인터페이스로 이동',
    'admin.notifications': '알림',
    'admin.toggleTheme': '테마 전환',
    'admin.userProfile': '사용자 프로필',
    'admin.signOut': '로그아웃',
    'admin.performanceRadar': 'Performance Radar',
    'admin.performanceRadarDesc': 'AI 응답 품질과 보안 성능을 6가지 핵심 지표로 실시간 모니터링하여 최적의 사용자 경험을 제공합니다',
    'admin.dailyMessageActivity': '일일 메시지 활동',
    'admin.moduleControl': '모듈 제어',
    'admin.relevance': '관련성',
    'admin.tone': '톤',
    'admin.length': '길이',
    'admin.accuracy': '정확도',
    'admin.toxicity': '유해성',
    'admin.promptInjection': '프롬프트 주입',
    'admin.contentMatching': '콘텐츠 매칭',
    'admin.responseStyle': '응답 스타일',
    'admin.responseSize': '응답 크기',
    'admin.correctAnswers': '정답률',
    'admin.safetyCheck': '안전성 검사',
    'admin.securityFilter': '보안 필터',
    'admin.performanceTimeline': '성능 타임라인',
    'admin.date': '날짜',
    'admin.actual': '실제',
    'admin.estimated': '추정',
    'admin.totalMessages': '전체 메시지',
    'admin.userFeedbackCount': '사용자 피드백',
    'admin.adminReviews': '관리자 리뷰',
    'admin.corrected': '수정됨',
    'admin.messages': '메시지',
    'admin.sortBy': '정렬',
    'admin.search': '검색',
    'admin.exportCSV': 'CSV 내보내기',
    'admin.dateTimeNewest': '날짜/시간 (최신순)',
    'admin.dateTimeOldest': '날짜/시간 (오래된순)',
    'admin.user': '사용자',
    'admin.userMessage': '사용자 메시지',
    'admin.aiResponse': 'AI 응답',
    'admin.searchConversations': '대화 검색...',
    'admin.avgPerDay': '일평균',
    'admin.average': '평균',
    'admin.approval': '승인률',
    'admin.uniqueUsers': '고유 사용자',
    'admin.last3Days': '최근 3일',
    'admin.last7Days': '최근 7일',
    'admin.last30Days': '최근 30일',
    'admin.last3Months': '최근 3개월',
    'admin.last6Months': '최근 6개월',
    'admin.lastYear': '최근 1년',
    'admin.customRange': '사용자 지정 범위',
    'admin.ragManagement': 'RAG 관리',
    'admin.ragDescription': 'RAG (검색 증강 생성) 시스템을 위한 문서 업로드 및 관리',
    'admin.uploadingFiles': '파일 업로드 중...',
    'admin.dropFilesHere': '파일을 여기에 드롭하여 업로드',
    'admin.clickToUpload': '클릭하여 업로드하거나 파일을 드래그 앤 드롭',
    'admin.supportedFormats': 'PDF, Word, Excel, CSV, TXT, MD, JSON, HTML 지원',
    'admin.uploadResults': '업로드 결과',
    'admin.clear': '지우기',
    'admin.uploadedFiles': '업로드된 파일',
    'admin.status.uploading': '업로드 중',
    'admin.status.processing': '처리 중',
    'admin.status.ready': '준비됨',
    'admin.status.error': '오류',
    'admin.removeFile': '파일 제거',
    'admin.instructions': '사용 방법',
    'admin.instruction1': 'AI의 지식 베이스를 향상시키기 위해 문서를 업로드하세요',
    'admin.instruction2': '지원 형식: PDF, Word, Excel, CSV, TXT, Markdown, JSON, HTML',
    'admin.instruction3': '파일은 자동으로 처리되어 검색을 위해 벡터화됩니다',
    'admin.instruction4': '최대 파일 크기: 파일당 10MB',
    'admin.searchFiles': '파일 검색...',
    'admin.name': '이름',
    'admin.size': '크기',
    'admin.reindexFile': '파일 재인덱싱',
    'admin.deleteFile': '파일 삭제',
    'admin.confirmDeleteFile': '이 파일을 삭제하시겠습니까?',
    'admin.deleteError': '파일 삭제에 실패했습니다',
    'knowledge.title': '지식 관리',
    'knowledge.subtitle': 'AI 챗봇을 위한 파일 및 지식 베이스 관리',
    'knowledge.note': '파일은 **파일 라이브러리**에 저장되며, **지식 인덱스**에는 검색 가능한 콘텐츠가 저장됩니다. 이 둘은 다를 수 있습니다. **동기화 개요** 탭에서 동기화 상태를 확인하세요.',
    'knowledge.fileLibrary': '파일 라이브러리',
    'knowledge.knowledgeIndex': '지식 인덱스',
    'knowledge.syncOverview': '동기화 개요',
    'knowledge.fileLibraryDescription': '라이브러리의 파일을 관리합니다 (업로드/삭제). 지식 인덱싱은 다음 섹션에서 처리됩니다.',
    'knowledge.knowledgeIndexDescription': 'AI 챗봇 지식 쿼리를 위해 인덱싱된 문서',
    'knowledge.syncOverviewDescription': '파일과 지식 인덱스 간의 동기화 상태 모니터링',
    'knowledge.dragFilesHere': '텍스트 파일을 여기에 드래그하여 업로드하거나 클릭하여 선택',
    'knowledge.supportedFormats': '지원 형식: .txt, .md, .json, .csv, .xml, .html, .css, .js, .ts, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx',
    'knowledge.uploadingFiles': '파일 업로드 중...',
    'knowledge.searchByFilename': '파일명으로 검색...',
    'knowledge.searchByTitleFilepathContent': '제목, 파일 경로 또는 내용으로 검색...',
    'knowledge.refresh': '새로고침',
    'knowledge.loading': '로딩 중...',
    'knowledge.fileName': '파일명',
    'knowledge.size': '크기',
    'knowledge.lastModified': '마지막 수정',
    'knowledge.contentType': '콘텐츠 유형',
    'knowledge.syncStatus': '동기화 상태',
    'knowledge.actions': '작업',
    'knowledge.documentTitle': '제목',
    'knowledge.parentId': '상위 ID',
    'knowledge.chunkId': '청크 ID',
    'knowledge.url': 'URL',
    'knowledge.sync': '동기화',
    'knowledge.view': '보기',
    'knowledge.download': '다운로드',
    'knowledge.delete': '삭제',
    'knowledge.stop': '중지',
    'knowledge.previous': '이전',
    'knowledge.next': '다음',
    'knowledge.synced': '동기화됨',
    'knowledge.pending': '대기 중',
    'knowledge.error': '오류',
    'knowledge.unknown': '알 수 없음',
    'knowledge.blobStatusLastModified': 'Blob 상태 / 마지막 수정',
    'knowledge.indexStatusChunks': '인덱스 상태 / 청크',
  },
};

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>(() => {
    const stored = localStorage.getItem(LANG_STORAGE_KEY);
    return (stored === 'en' || stored === 'ko') ? stored : 'en';
  });

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem(LANG_STORAGE_KEY, lang);
  };

  const t = (key: string): string => {
    return translations[language][key as keyof typeof translations[Language]] || key;
  };

  const value: I18nContextType = {
    language,
    setLanguage,
    t,
  };

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  );
};

export const useT = (): ((key: string) => string) => {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useT must be used within an I18nProvider');
  }
  return context.t;
};

export const useTranslation = (): I18nContextType => {
  const context = useContext(I18nContext);
  if (context === undefined) {
    throw new Error('useTranslation must be used within an I18nProvider');
  }
  return context;
};
